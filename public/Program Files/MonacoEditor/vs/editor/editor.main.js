/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.41.0(38e1e3d097f84e336c311d071a9ffb5191d4ffd1)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var J=["exports","require","vs/base/common/lifecycle","vs/nls","vs/nls!vs/editor/editor.main","vs/editor/common/core/range","vs/base/common/event","vs/base/browser/dom","vs/platform/instantiation/common/instantiation","vs/base/common/strings","vs/css!vs/editor/editor.main","vs/editor/common/core/position","vs/base/common/errors","vs/base/common/async","vs/platform/contextkey/common/contextkey","vs/base/common/arrays","vs/editor/browser/editorExtensions","vs/base/common/platform","vs/base/common/types","vs/editor/common/services/languageFeatures","vs/editor/common/editorContextKeys","vs/base/common/cancellation","vs/base/common/uri","vs/platform/theme/common/themeService","vs/editor/common/core/selection","vs/platform/commands/common/commands","vs/base/common/codicons","vs/base/common/themables","vs/platform/configuration/common/configuration","vs/platform/actions/common/actions","vs/editor/common/languages","vs/editor/common/languages/languageConfigurationRegistry","vs/platform/theme/common/colorRegistry","vs/editor/browser/services/codeEditorService","vs/platform/keybinding/common/keybinding","vs/base/browser/fastDomNode","vs/editor/common/config/editorOptions","vs/base/common/color","vs/platform/registry/common/platform","vs/editor/common/model/textModel","vs/base/common/actions","vs/editor/common/languages/language","vs/base/common/observable","vs/base/common/resources","vs/platform/notification/common/notification","vs/base/browser/keyboardEvent","vs/base/common/objects","vs/editor/common/model","vs/base/browser/ui/aria/aria","vs/platform/instantiation/common/extensions","vs/editor/common/services/model","vs/base/common/iterator","vs/base/browser/browser","vs/editor/browser/view/viewPart","vs/base/common/network","vs/base/common/htmlContent","vs/platform/opener/common/opener","vs/platform/contextview/browser/contextView","vs/base/browser/mouseEvent","vs/base/common/stopwatch","vs/editor/browser/config/domFontInfo","vs/editor/common/core/lineRange","vs/base/browser/touch","vs/platform/theme/common/iconRegistry","vs/base/common/keyCodes","vs/base/common/linkedList","vs/base/common/map","vs/editor/common/viewModel","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/services/resolverService","vs/platform/log/common/log","vs/base/common/filters","vs/editor/common/core/editOperation","vs/editor/common/cursorCommon","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/services/languageFeatureDebounce","vs/platform/quickinput/common/quickInput","vs/editor/common/languages/modesRegistry","vs/platform/telemetry/common/telemetry","vs/editor/common/core/editorColorRegistry","vs/base/browser/event","vs/editor/common/core/cursorColumns","vs/base/browser/ui/widget","vs/platform/accessibility/common/accessibility","vs/platform/progress/common/progress","vs/base/common/assert","vs/base/common/observableImpl/autorun","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/common/tokens/lineTokens","vs/platform/storage/common/storage","vs/platform/theme/common/theme","vs/base/browser/trustedTypes","vs/base/common/path","vs/editor/common/core/stringBuilder","vs/editor/common/standaloneStrings","vs/editor/common/viewLayout/viewLineRenderer","vs/platform/clipboard/common/clipboardService","vs/platform/markers/common/markers","vs/base/common/functional","vs/base/common/lazy","vs/base/common/observableImpl/base","vs/editor/contrib/hover/browser/hoverTypes","vs/platform/configuration/common/configurationRegistry","vs/editor/contrib/editorState/browser/editorState","vs/platform/theme/browser/defaultStyles","vs/base/common/decorators","vs/base/common/mime","vs/base/common/severity","vs/editor/browser/stableEditorScroll","vs/editor/common/diff/linesDiffComputer","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/codeAction/common/types","vs/base/browser/ui/list/listWidget","vs/editor/common/services/editorWorker","vs/platform/audioCues/browser/audioCueService","vs/editor/contrib/markdownRenderer/browser/markdownRenderer","vs/platform/keybinding/common/keybindingsRegistry","vs/base/common/keybindings","vs/base/common/iconLabels","vs/editor/browser/widget/diffEditorWidget2/utils","vs/editor/common/core/characterClassifier","vs/editor/common/core/eolCounter","vs/editor/common/core/offsetRange","vs/editor/common/commands/replaceCommand","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/snippet/browser/snippetParser","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/editor/browser/services/bulkEditService","vs/editor/standalone/common/standaloneTheme","vs/platform/layout/browser/layoutService","vs/editor/contrib/suggest/browser/suggest","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/numbers","vs/base/common/observableImpl/logging","vs/base/common/observableImpl/derived","vs/base/common/hash","vs/editor/browser/view/renderingContext","vs/editor/common/config/editorZoom","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/editorCommon","vs/editor/common/editorFeatures","vs/editor/common/viewEventHandler","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/toggle/toggle","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/dialogs/common/dialogs","vs/platform/instantiation/common/serviceCollection","vs/platform/label/common/label","vs/editor/browser/editorDom","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/platform/workspace/common/workspace","vs/base/common/idGenerator","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/common/uuid","vs/base/common/dataTransfer","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/platform/quickinput/browser/media/quickInput","vs/editor/common/core/textModelDefaults","vs/editor/common/diff/algorithms/diffAlgorithm","vs/editor/browser/editorBrowser","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/contrib/folding/browser/foldingRanges","vs/base/browser/markdownRenderer","vs/base/browser/ui/tree/abstractTree","vs/editor/browser/controller/textAreaInput","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/common/services/textResourceConfiguration","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/browser/coreCommands","vs/editor/contrib/message/browser/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/contrib/find/browser/findModel","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/browser/dnd","vs/base/common/ternarySearchTree","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/tabFocus","vs/editor/common/core/indentation","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/standalone/standaloneEnums","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModel/overviewZoneManager","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/inlineCompletions/browser/commandIds","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/contrib/stickyScroll/browser/stickyScrollElement","vs/base/common/keybindingLabels","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/extpath","vs/base/common/marshalling","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/list/listView","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/findinput/findInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/common/services/semanticTokensStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/editor/browser/widget/diffNavigator","vs/platform/contextkey/common/contextkeys","vs/platform/environment/common/environment","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/browser/services/editorWorkerService","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/contrib/codeAction/browser/codeActionController","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/inlineProgress/browser/inlineProgress","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/editor/standalone/browser/standaloneServices","vs/base/browser/performance","vs/base/common/cache","vs/base/common/collections","vs/base/common/ime","vs/base/common/symbols","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/css!vs/platform/actionWidget/browser/actionWidget","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/widget/diffEditorWidget2/movedBlocksLines","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/diff/standardLinesDiffComputer","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/combineTextEditInfos","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/treeViewsDnd","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/inlineCompletions/browser/singleTextEdit","vs/editor/contrib/semanticTokens/common/semanticTokensConfig","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/base/common/glob","vs/base/browser/dompurify/dompurify","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/button/button","vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/editor/browser/widget/diffEditorWidget2/diffEditorViewModel","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/semanticTokens/common/getSemanticTokens","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/platform/quickinput/browser/quickInputUtils","vs/platform/dnd/browser/dnd","vs/editor/browser/dnd","vs/editor/common/config/editorConfigurationSchema","vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider","vs/editor/contrib/colorPicker/browser/color","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/widget/workerBasedDocumentDiffProvider","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/browser/widget/diffReview","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/controller/mouseTarget","vs/editor/browser/widget/diffEditorWidget2/overviewRulerPart","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/standalone/browser/standaloneThemeService","vs/editor/browser/widget/diffEditorWidget2/decorations","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/find/browser/findController","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/suggest/browser/suggestController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/comparers","vs/base/common/linkedText","vs/base/common/marked/marked","vs/base/common/navigator","vs/base/common/history","vs/base/common/observableImpl/utils","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/margin/margin","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/viewParts/whitespace/whitespace","vs/css!vs/editor/browser/widget/diffEditorWidget2/style","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/css!vs/editor/contrib/find/browser/findOptionsWidget","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/hover/browser/hover","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/css!vs/editor/contrib/inlineProgress/browser/inlineProgressWidget","vs/css!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/markdownRenderer/browser/renderedMarkdown","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/opener/browser/link","vs/css!vs/platform/severityIcon/browser/media/severityIcon","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/domReadingContext","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/browser/widget/diffEditorWidget2/delegatingEditorImpl","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/algorithms/joinSequenceDiffs","vs/editor/common/diff/algorithms/myersDiffAlgorithm","vs/editor/common/diff/algorithms/utils","vs/editor/common/diff/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/smartLinesDiffComputer","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/defaultDocumentColorsComputer","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/fixedArray","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/textModelBracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/tokenizationRegistry","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/process","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/widget/diffEditorWidget2/diffEditorSash","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageSelector","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/contrib/hover/browser/resizableContentWidget","vs/editor/contrib/inlineCompletions/browser/provideInlineCompletions","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditor.contribution","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget2/accessibleDiffViewer","vs/nls!vs/editor/browser/widget/diffEditorWidget2/colors","vs/nls!vs/editor/browser/widget/diffEditorWidget2/decorations","vs/nls!vs/editor/browser/widget/diffEditorWidget2/diffEditorEditors","vs/nls!vs/editor/browser/widget/diffEditorWidget2/inlineDiffDeletedCodeMargin","vs/editor/browser/widget/diffEditorWidget2/inlineDiffDeletedCodeMargin","vs/nls!vs/editor/browser/widget/diffEditorWidget2/unchangedRanges","vs/editor/browser/widget/diffEditorWidget2/unchangedRanges","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/browser/widget/diffEditorWidget2/diffEditorOptions","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/viewLayout/viewLineRenderer","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeAction","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionContributions","vs/nls!vs/editor/contrib/codeAction/browser/codeActionController","vs/nls!vs/editor/contrib/codeAction/browser/codeActionMenu","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/format","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/commands","vs/nls!vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/action/common/actionCommonCategories","vs/nls!vs/platform/actionWidget/browser/actionList","vs/nls!vs/platform/actionWidget/browser/actionWidget","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/browser/toolbar","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/audioCues/browser/audioCueService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/contextkey/common/scanner","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/quickinput/browser/quickInput","vs/nls!vs/platform/quickinput/browser/quickInputList","vs/nls!vs/platform/quickinput/browser/quickInputUtils","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/action/common/action","vs/platform/action/common/actionCommonCategories","vs/platform/contextkey/common/scanner","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/common/services/languageFeaturesService","vs/editor/common/services/treeViewsDndService","vs/editor/contrib/dropOrPasteInto/browser/edit","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextview/browser/contextViewService","vs/platform/clipboard/browser/clipboardService","vs/platform/log/common/logService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/opener/browser/link","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/quickinput/browser/quickInputBox","vs/editor/browser/services/webWorker","vs/editor/common/cursor/cursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsSource","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/editor/contrib/hover/browser/marginHover","vs/platform/configuration/common/configurations","vs/editor/browser/widget/diffEditor.contribution","vs/editor/browser/widget/codeEditorContributions","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/platform/severityIcon/browser/severityIcon","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/actions/common/menuService","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionKeybindingResolver","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/longLinesHelper/browser/longLinesHelper","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/platform/actions/browser/toolbar","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/widget/diffEditorWidget2/colors","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/platform/actionWidget/browser/actionList","vs/platform/actionWidget/browser/actionWidget","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/widget/diffEditorWidget2/accessibleDiffViewer","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/platform/quickinput/browser/quickInputList","vs/platform/quickinput/browser/quickInput","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/widget/diffEditorWidget2/diffEditorEditors","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/viewParts/whitespace/whitespace","vs/editor/browser/view","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/common/services/semanticTokensStylingService","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/semanticTokens/browser/documentSemanticTokens","vs/editor/contrib/semanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/common/themes","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInputService","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/editor/browser/widget/diffEditorWidget2/diffEditorDecorations","vs/editor/common/services/modelService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/browser/widget/diffEditorWidget2/renderLines","vs/editor/browser/widget/diffEditorWidget2/lineAlignment","vs/editor/browser/widget/diffEditorWidget2/diffEditorWidget2","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/colorPicker/browser/standaloneColorPickerWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/stickyScroll/browser/stickyScrollModelProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/commands","vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/editor/contrib/inlineCompletions/browser/inlineCompletions.contribution","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],ee=function(G){for(var e=[],y=0,k=G.length;y<k;y++)e[y]=J[G[y]];return e};define(J[917],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=void 0;function y(m,S,f,v){if(v=v||{},(v["vs/css"]||{}).disabled){f({});return}const i=S.toUrl(m+".css");k(m,i,()=>{f({})},t=>{typeof f.error=="function"&&f.error("Could not find "+i+".")})}e.load=y;function k(m,S,f,v){if(L(m,S)){f();return}D(m,S,f,v)}function L(m,S){const f=document.getElementsByTagName("link");for(let v=0,o=f.length;v<o;v++){const i=f[v].getAttribute("data-name"),t=f[v].getAttribute("href");if(i===m||t===S)return!0}return!1}function D(m,S,f,v){const o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("data-name",m),_(m,o,f,v),o.setAttribute("href",S),(document.head||document.getElementsByTagName("head")[0]).appendChild(o)}function _(m,S,f,v){const o=()=>{S.removeEventListener("load",i),S.removeEventListener("error",t)},i=n=>{o(),f()},t=n=>{o(),v(n)};S.addEventListener("load",i),S.addEventListener("error",t)}});var Le=this&&this.__awaiter||function(G,e,y,k){function L(D){return D instanceof y?D:new y(function(_){_(D)})}return new(y||(y=Promise))(function(D,_){function m(v){try{f(k.next(v))}catch(o){_(o)}}function S(v){try{f(k.throw(v))}catch(o){_(o)}}function f(v){v.done?D(v.value):L(v.value).then(m,S)}f((k=k.apply(G,e||[])).next())})};define(J[3],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=e.create=e.setPseudoTranslation=e.getConfiguredDefaultLocale=e.localize=void 0;let y=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const k="i-default";function L(n,r){let l;return r.length===0?l=n:l=n.replace(/\{(\d+)\}/g,(h,s)=>{const u=s[0],a=r[u];let d=h;return typeof a=="string"?d=a:(typeof a=="number"||typeof a=="boolean"||a===void 0||a===null)&&(d=String(a)),d}),y&&(l="\uFF3B"+l.replace(/[aouei]/g,"$&$&")+"\uFF3D"),l}function D(n,r){let l=n[r];return l||(l=n["*"],l)?l:null}function _(n){return n.charAt(n.length-1)==="/"?n:n+"/"}function m(n,r,l){return Le(this,void 0,void 0,function*(){const h=_(n)+_(r)+"vscode/"+_(l),s=yield fetch(h);if(s.ok)return yield s.json();throw new Error(`${s.status} - ${s.statusText}`)})}function S(n){return function(r,l){const h=Array.prototype.slice.call(arguments,2);return L(n[r],h)}}function f(n,r,...l){return L(r,l)}e.localize=f;function v(n){}e.getConfiguredDefaultLocale=v;function o(n){y=n}e.setPseudoTranslation=o;function i(n,r){var l;return{localize:S(r[n]),getConfiguredDefaultLocale:(l=r.getConfiguredDefaultLocale)!==null&&l!==void 0?l:h=>{}}}e.create=i;function t(n,r,l,h){var s;const u=(s=h["vs/nls"])!==null&&s!==void 0?s:{};if(!n||n.length===0)return l({localize:f,getConfiguredDefaultLocale:()=>{var g;return(g=u.availableLanguages)===null||g===void 0?void 0:g["*"]}});const a=u.availableLanguages?D(u.availableLanguages,n):null,d=a===null||a===k;let c=".nls";d||(c=c+"."+a);const b=g=>{Array.isArray(g)?g.localize=S(g):g.localize=S(g[n]),g.getConfiguredDefaultLocale=()=>{var p;return(p=u.availableLanguages)===null||p===void 0?void 0:p["*"]},l(g)};typeof u.loadBundle=="function"?u.loadBundle(n,a,(g,p)=>{g?r([n+".nls"],b):b(p)}):u.translationServiceUrl&&!d?Le(this,void 0,void 0,function*(){var g;try{const p=yield m(u.translationServiceUrl,a,n);return b(p)}catch(p){if(!a.includes("-"))return console.error(p),r([n+".nls"],b);try{const C=a.split("-")[0],w=yield m(u.translationServiceUrl,C,n);return(g=u.availableLanguages)!==null&&g!==void 0||(u.availableLanguages={}),u.availableLanguages["*"]=C,b(w)}catch(C){return console.error(C),r([n+".nls"],b)}}}):r([n+c],b,g=>{if(c===".nls"){console.error("Failed trying to load default language strings",g);return}console.error(`Failed to load message bundle for language ${a}. Falling back to the default language:`,g),r([n+".nls"],b)})}e.load=t});/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function pn(G){if(Array.isArray(G)){for(var e=0,y=Array(G.length);e<G.length;e++)y[e]=G[e];return y}else return Array.from(G)}var vn=Object.hasOwnProperty,yi=Object.setPrototypeOf,Cn=Object.isFrozen,bn=Object.getPrototypeOf,_n=Object.getOwnPropertyDescriptor,vt=Object.freeze,yt=Object.seal,Sn=Object.create,Ei=typeof Reflect<"u"&&Reflect,Gt=Ei.apply,ni=Ei.construct;Gt||(Gt=function(e,y,k){return e.apply(y,k)}),vt||(vt=function(e){return e}),yt||(yt=function(e){return e}),ni||(ni=function(e,y){return new(Function.prototype.bind.apply(e,[null].concat(pn(y))))});var wn=bt(Array.prototype.forEach),Di=bt(Array.prototype.pop),Vt=bt(Array.prototype.push),Mt=bt(String.prototype.toLowerCase),Ii=bt(String.prototype.match),Tt=bt(String.prototype.replace),Ln=bt(String.prototype.indexOf),yn=bt(String.prototype.trim),Et=bt(RegExp.prototype.test),ki=En(TypeError);function bt(G){return function(e){for(var y=arguments.length,k=Array(y>1?y-1:0),L=1;L<y;L++)k[L-1]=arguments[L];return Gt(G,e,k)}}function En(G){return function(){for(var e=arguments.length,y=Array(e),k=0;k<e;k++)y[k]=arguments[k];return ni(G,y)}}function Xe(G,e){yi&&yi(G,null);for(var y=e.length;y--;){var k=e[y];if(typeof k=="string"){var L=Mt(k);L!==k&&(Cn(e)||(e[y]=L),k=L)}G[k]=!0}return G}function At(G){var e=Sn(null),y=void 0;for(y in G)Gt(vn,G,[y])&&(e[y]=G[y]);return e}function $t(G,e){for(;G!==null;){var y=_n(G,e);if(y){if(y.get)return bt(y.get);if(typeof y.value=="function")return bt(y.value)}G=bn(G)}function k(L){return console.warn("fallback value for",L),null}return k}var Ti=vt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),si=vt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),oi=vt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Dn=vt(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ri=vt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),In=vt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ni=vt(["#text"]),Mi=vt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ai=vt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ai=vt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zt=vt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),kn=yt(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Tn=yt(/<%[\s\S]*|[\s\S]*%>/gm),Nn=yt(/^data-[\-\w.\u00B7-\uFFFF]/),Mn=yt(/^aria-[\-\w]+$/),An=yt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Rn=yt(/^(?:\w+script|data):/i),Pn=yt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G};function _t(G){if(Array.isArray(G)){for(var e=0,y=Array(G.length);e<G.length;e++)y[e]=G[e];return y}else return Array.from(G)}var On=function(){return typeof window>"u"?null:window},Fn=function(e,y){if((typeof e>"u"?"undefined":zt(e))!=="object"||typeof e.createPolicy!="function")return null;var k=null,L="data-tt-policy-suffix";y.currentScript&&y.currentScript.hasAttribute(L)&&(k=y.currentScript.getAttribute(L));var D="dompurify"+(k?"#"+k:"");try{return e.createPolicy(D,{createHTML:function(m){return m}})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function Ri(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:On(),e=function(Me){return Ri(Me)};if(e.version="2.3.1",e.removed=[],!G||!G.document||G.document.nodeType!==9)return e.isSupported=!1,e;var y=G.document,k=G.document,L=G.DocumentFragment,D=G.HTMLTemplateElement,_=G.Node,m=G.Element,S=G.NodeFilter,f=G.NamedNodeMap,v=f===void 0?G.NamedNodeMap||G.MozNamedAttrMap:f,o=G.Text,i=G.Comment,t=G.DOMParser,n=G.trustedTypes,r=m.prototype,l=$t(r,"cloneNode"),h=$t(r,"nextSibling"),s=$t(r,"childNodes"),u=$t(r,"parentNode");if(typeof D=="function"){var a=k.createElement("template");a.content&&a.content.ownerDocument&&(k=a.content.ownerDocument)}var d=Fn(n,y),c=d&&ce?d.createHTML(""):"",b=k,g=b.implementation,p=b.createNodeIterator,C=b.createDocumentFragment,w=b.getElementsByTagName,E=y.importNode,I={};try{I=At(k).documentMode?k.documentMode:{}}catch{}var T={};e.isSupported=typeof u=="function"&&g&&typeof g.createHTMLDocument<"u"&&I!==9;var P=kn,A=Tn,M=Nn,N=Mn,O=Rn,x=Pn,F=An,B=null,z=Xe({},[].concat(_t(Ti),_t(si),_t(oi),_t(ri),_t(Ni))),j=null,R=Xe({},[].concat(_t(Mi),_t(ai),_t(Ai),_t(Zt))),Z=null,se=null,le=!0,te=!0,Y=!1,U=!1,V=!1,H=!1,$=!1,X=!1,Q=!1,de=!0,ce=!1,ae=!0,ue=!0,q=!1,W={},K=null,ie=Xe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ne=null,oe=Xe({},["audio","video","img","source","image","track"]),re=null,ge=Xe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ve="http://www.w3.org/1998/Math/MathML",we="http://www.w3.org/2000/svg",ye="http://www.w3.org/1999/xhtml",Ie=ye,Ee=!1,De=null,Ae=k.createElement("form"),Te=function(Me){De&&De===Me||((!Me||(typeof Me>"u"?"undefined":zt(Me))!=="object")&&(Me={}),Me=At(Me),B="ALLOWED_TAGS"in Me?Xe({},Me.ALLOWED_TAGS):z,j="ALLOWED_ATTR"in Me?Xe({},Me.ALLOWED_ATTR):R,re="ADD_URI_SAFE_ATTR"in Me?Xe(At(ge),Me.ADD_URI_SAFE_ATTR):ge,ne="ADD_DATA_URI_TAGS"in Me?Xe(At(oe),Me.ADD_DATA_URI_TAGS):oe,K="FORBID_CONTENTS"in Me?Xe({},Me.FORBID_CONTENTS):ie,Z="FORBID_TAGS"in Me?Xe({},Me.FORBID_TAGS):{},se="FORBID_ATTR"in Me?Xe({},Me.FORBID_ATTR):{},W="USE_PROFILES"in Me?Me.USE_PROFILES:!1,le=Me.ALLOW_ARIA_ATTR!==!1,te=Me.ALLOW_DATA_ATTR!==!1,Y=Me.ALLOW_UNKNOWN_PROTOCOLS||!1,U=Me.SAFE_FOR_TEMPLATES||!1,V=Me.WHOLE_DOCUMENT||!1,X=Me.RETURN_DOM||!1,Q=Me.RETURN_DOM_FRAGMENT||!1,de=Me.RETURN_DOM_IMPORT!==!1,ce=Me.RETURN_TRUSTED_TYPE||!1,$=Me.FORCE_BODY||!1,ae=Me.SANITIZE_DOM!==!1,ue=Me.KEEP_CONTENT!==!1,q=Me.IN_PLACE||!1,F=Me.ALLOWED_URI_REGEXP||F,Ie=Me.NAMESPACE||ye,U&&(te=!1),Q&&(X=!0),W&&(B=Xe({},[].concat(_t(Ni))),j=[],W.html===!0&&(Xe(B,Ti),Xe(j,Mi)),W.svg===!0&&(Xe(B,si),Xe(j,ai),Xe(j,Zt)),W.svgFilters===!0&&(Xe(B,oi),Xe(j,ai),Xe(j,Zt)),W.mathMl===!0&&(Xe(B,ri),Xe(j,Ai),Xe(j,Zt))),Me.ADD_TAGS&&(B===z&&(B=At(B)),Xe(B,Me.ADD_TAGS)),Me.ADD_ATTR&&(j===R&&(j=At(j)),Xe(j,Me.ADD_ATTR)),Me.ADD_URI_SAFE_ATTR&&Xe(re,Me.ADD_URI_SAFE_ATTR),Me.FORBID_CONTENTS&&(K===ie&&(K=At(K)),Xe(K,Me.FORBID_CONTENTS)),ue&&(B["#text"]=!0),V&&Xe(B,["html","head","body"]),B.table&&(Xe(B,["tbody"]),delete Z.tbody),vt&&vt(Me),De=Me)},be=Xe({},["mi","mo","mn","ms","mtext"]),me=Xe({},["foreignobject","desc","title","annotation-xml"]),Se=Xe({},si);Xe(Se,oi),Xe(Se,Dn);var he=Xe({},ri);Xe(he,In);var Ce=function(Me){var Be=u(Me);(!Be||!Be.tagName)&&(Be={namespaceURI:ye,tagName:"template"});var He=Mt(Me.tagName),Ze=Mt(Be.tagName);if(Me.namespaceURI===we)return Be.namespaceURI===ye?He==="svg":Be.namespaceURI===ve?He==="svg"&&(Ze==="annotation-xml"||be[Ze]):!!Se[He];if(Me.namespaceURI===ve)return Be.namespaceURI===ye?He==="math":Be.namespaceURI===we?He==="math"&&me[Ze]:!!he[He];if(Me.namespaceURI===ye){if(Be.namespaceURI===we&&!me[Ze]||Be.namespaceURI===ve&&!be[Ze])return!1;var Qe=Xe({},["title","style","font","a","script"]);return!he[He]&&(Qe[He]||!Se[He])}return!1},pe=function(Me){Vt(e.removed,{element:Me});try{Me.parentNode.removeChild(Me)}catch{try{Me.outerHTML=c}catch{Me.remove()}}},_e=function(Me,Be){try{Vt(e.removed,{attribute:Be.getAttributeNode(Me),from:Be})}catch{Vt(e.removed,{attribute:null,from:Be})}if(Be.removeAttribute(Me),Me==="is"&&!j[Me])if(X||Q)try{pe(Be)}catch{}else try{Be.setAttribute(Me,"")}catch{}},ke=function(Me){var Be=void 0,He=void 0;if($)Me="<remove></remove>"+Me;else{var Ze=Ii(Me,/^[\r\n\t ]+/);He=Ze&&Ze[0]}var Qe=d?d.createHTML(Me):Me;if(Ie===ye)try{Be=new t().parseFromString(Qe,"text/html")}catch{}if(!Be||!Be.documentElement){Be=g.createDocument(Ie,"template",null);try{Be.documentElement.innerHTML=Ee?"":Qe}catch{}}var et=Be.body||Be.documentElement;return Me&&He&&et.insertBefore(k.createTextNode(He),et.childNodes[0]||null),Ie===ye?w.call(Be,V?"html":"body")[0]:V?Be.documentElement:et},Re=function(Me){return p.call(Me.ownerDocument||Me,Me,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT,null,!1)},Pe=function(Me){return Me instanceof o||Me instanceof i?!1:typeof Me.nodeName!="string"||typeof Me.textContent!="string"||typeof Me.removeChild!="function"||!(Me.attributes instanceof v)||typeof Me.removeAttribute!="function"||typeof Me.setAttribute!="function"||typeof Me.namespaceURI!="string"||typeof Me.insertBefore!="function"},Fe=function(Me){return(typeof _>"u"?"undefined":zt(_))==="object"?Me instanceof _:Me&&(typeof Me>"u"?"undefined":zt(Me))==="object"&&typeof Me.nodeType=="number"&&typeof Me.nodeName=="string"},We=function(Me,Be,He){T[Me]&&wn(T[Me],function(Ze){Ze.call(e,Be,He,De)})},xe=function(Me){var Be=void 0;if(We("beforeSanitizeElements",Me,null),Pe(Me)||Ii(Me.nodeName,/[\u0080-\uFFFF]/))return pe(Me),!0;var He=Mt(Me.nodeName);if(We("uponSanitizeElement",Me,{tagName:He,allowedTags:B}),!Fe(Me.firstElementChild)&&(!Fe(Me.content)||!Fe(Me.content.firstElementChild))&&Et(/<[/\w]/g,Me.innerHTML)&&Et(/<[/\w]/g,Me.textContent)||He==="select"&&Et(/<template/i,Me.innerHTML))return pe(Me),!0;if(!B[He]||Z[He]){if(ue&&!K[He]){var Ze=u(Me)||Me.parentNode,Qe=s(Me)||Me.childNodes;if(Qe&&Ze)for(var et=Qe.length,qe=et-1;qe>=0;--qe)Ze.insertBefore(l(Qe[qe],!0),h(Me))}return pe(Me),!0}return Me instanceof m&&!Ce(Me)||(He==="noscript"||He==="noembed")&&Et(/<\/no(script|embed)/i,Me.innerHTML)?(pe(Me),!0):(U&&Me.nodeType===3&&(Be=Me.textContent,Be=Tt(Be,P," "),Be=Tt(Be,A," "),Me.textContent!==Be&&(Vt(e.removed,{element:Me.cloneNode()}),Me.textContent=Be)),We("afterSanitizeElements",Me,null),!1)},Ke=function(Me,Be,He){if(ae&&(Be==="id"||Be==="name")&&(He in k||He in Ae))return!1;if(!(te&&!se[Be]&&Et(M,Be))){if(!(le&&Et(N,Be))){if(!j[Be]||se[Be])return!1;if(!re[Be]){if(!Et(F,Tt(He,x,""))){if(!((Be==="src"||Be==="xlink:href"||Be==="href")&&Me!=="script"&&Ln(He,"data:")===0&&ne[Me])){if(!(Y&&!Et(O,Tt(He,x,"")))){if(He)return!1}}}}}}return!0},je=function(Me){var Be=void 0,He=void 0,Ze=void 0,Qe=void 0;We("beforeSanitizeAttributes",Me,null);var et=Me.attributes;if(et){var qe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j};for(Qe=et.length;Qe--;){Be=et[Qe];var rt=Be,st=rt.name,ut=rt.namespaceURI;if(He=yn(Be.value),Ze=Mt(st),qe.attrName=Ze,qe.attrValue=He,qe.keepAttr=!0,qe.forceKeepAttr=void 0,We("uponSanitizeAttribute",Me,qe),He=qe.attrValue,!qe.forceKeepAttr&&(_e(st,Me),!!qe.keepAttr)){if(Et(/\/>/i,He)){_e(st,Me);continue}U&&(He=Tt(He,P," "),He=Tt(He,A," "));var ht=Me.nodeName.toLowerCase();if(Ke(ht,Ze,He))try{ut?Me.setAttributeNS(ut,st,He):Me.setAttribute(st,He),Di(e.removed)}catch{}}}We("afterSanitizeAttributes",Me,null)}},Je=function ze(Me){var Be=void 0,He=Re(Me);for(We("beforeSanitizeShadowDOM",Me,null);Be=He.nextNode();)We("uponSanitizeShadowNode",Be,null),!xe(Be)&&(Be.content instanceof L&&ze(Be.content),je(Be));We("afterSanitizeShadowDOM",Me,null)};return e.sanitize=function(ze,Me){var Be=void 0,He=void 0,Ze=void 0,Qe=void 0,et=void 0;if(Ee=!ze,Ee&&(ze="<!-->"),typeof ze!="string"&&!Fe(ze)){if(typeof ze.toString!="function")throw ki("toString is not a function");if(ze=ze.toString(),typeof ze!="string")throw ki("dirty is not a string, aborting")}if(!e.isSupported){if(zt(G.toStaticHTML)==="object"||typeof G.toStaticHTML=="function"){if(typeof ze=="string")return G.toStaticHTML(ze);if(Fe(ze))return G.toStaticHTML(ze.outerHTML)}return ze}if(H||Te(Me),e.removed=[],typeof ze=="string"&&(q=!1),!q)if(ze instanceof _)Be=ke("<!---->"),He=Be.ownerDocument.importNode(ze,!0),He.nodeType===1&&He.nodeName==="BODY"||He.nodeName==="HTML"?Be=He:Be.appendChild(He);else{if(!X&&!U&&!V&&ze.indexOf("<")===-1)return d&&ce?d.createHTML(ze):ze;if(Be=ke(ze),!Be)return X?null:c}Be&&$&&pe(Be.firstChild);for(var qe=Re(q?ze:Be);Ze=qe.nextNode();)Ze.nodeType===3&&Ze===Qe||xe(Ze)||(Ze.content instanceof L&&Je(Ze.content),je(Ze),Qe=Ze);if(Qe=null,q)return ze;if(X){if(Q)for(et=C.call(Be.ownerDocument);Be.firstChild;)et.appendChild(Be.firstChild);else et=Be;return de&&(et=E.call(y,et,!0)),et}var rt=V?Be.outerHTML:Be.innerHTML;return U&&(rt=Tt(rt,P," "),rt=Tt(rt,A," ")),d&&ce?d.createHTML(rt):rt},e.setConfig=function(ze){Te(ze),H=!0},e.clearConfig=function(){De=null,H=!1},e.isValidAttribute=function(ze,Me,Be){De||Te({});var He=Mt(ze),Ze=Mt(Me);return Ke(He,Ze,Be)},e.addHook=function(ze,Me){typeof Me=="function"&&(T[ze]=T[ze]||[],Vt(T[ze],Me))},e.removeHook=function(ze){T[ze]&&Di(T[ze])},e.removeHooks=function(ze){T[ze]&&(T[ze]=[])},e.removeAllHooks=function(){T={}},e}var xn=Ri();define("vs/base/browser/dompurify/dompurify",function(){return xn}),define(J[35],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class y{constructor(_){this.domNode=_,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(_){const m=k(_);this._maxWidth!==m&&(this._maxWidth=m,this.domNode.style.maxWidth=this._maxWidth)}setWidth(_){const m=k(_);this._width!==m&&(this._width=m,this.domNode.style.width=this._width)}setHeight(_){const m=k(_);this._height!==m&&(this._height=m,this.domNode.style.height=this._height)}setTop(_){const m=k(_);this._top!==m&&(this._top=m,this.domNode.style.top=this._top)}setLeft(_){const m=k(_);this._left!==m&&(this._left=m,this.domNode.style.left=this._left)}setBottom(_){const m=k(_);this._bottom!==m&&(this._bottom=m,this.domNode.style.bottom=this._bottom)}setRight(_){const m=k(_);this._right!==m&&(this._right=m,this.domNode.style.right=this._right)}setPaddingLeft(_){const m=k(_);this._paddingLeft!==m&&(this._paddingLeft=m,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(_){this._fontFamily!==_&&(this._fontFamily=_,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(_){this._fontWeight!==_&&(this._fontWeight=_,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(_){const m=k(_);this._fontSize!==m&&(this._fontSize=m,this.domNode.style.fontSize=this._fontSize)}setFontStyle(_){this._fontStyle!==_&&(this._fontStyle=_,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(_){this._fontFeatureSettings!==_&&(this._fontFeatureSettings=_,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(_){this._fontVariationSettings!==_&&(this._fontVariationSettings=_,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(_){this._textDecoration!==_&&(this._textDecoration=_,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(_){const m=k(_);this._lineHeight!==m&&(this._lineHeight=m,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(_){const m=k(_);this._letterSpacing!==m&&(this._letterSpacing=m,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(_){this._className!==_&&(this._className=_,this.domNode.className=this._className)}toggleClassName(_,m){this.domNode.classList.toggle(_,m),this._className=this.domNode.className}setDisplay(_){this._display!==_&&(this._display=_,this.domNode.style.display=this._display)}setPosition(_){this._position!==_&&(this._position=_,this.domNode.style.position=this._position)}setVisibility(_){this._visibility!==_&&(this._visibility=_,this.domNode.style.visibility=this._visibility)}setColor(_){this._color!==_&&(this._color=_,this.domNode.style.color=this._color)}setBackgroundColor(_){this._backgroundColor!==_&&(this._backgroundColor=_,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(_){this._layerHint!==_&&(this._layerHint=_,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(_){this._boxShadow!==_&&(this._boxShadow=_,this.domNode.style.boxShadow=_)}setContain(_){this._contain!==_&&(this._contain=_,this.domNode.style.contain=this._contain)}setAttribute(_,m){this.domNode.setAttribute(_,m)}removeAttribute(_){this.domNode.removeAttribute(_)}appendChild(_){this.domNode.appendChild(_.domNode)}removeChild(_){this.domNode.removeChild(_.domNode)}}e.FastDomNode=y;function k(D){return typeof D=="number"?`${D}px`:D}function L(D){return new y(D)}e.createFastDomNode=L}),define(J[376],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let y=!1,k=null;function L(_){if(!_.parent||_.parent===_)return null;try{const m=_.location,S=_.parent.location;if(m.origin!=="null"&&S.origin!=="null"&&m.origin!==S.origin)return y=!0,null}catch{return y=!0,null}return _.parent}class D{static getSameOriginWindowChain(){if(!k){k=[];let m=window,S;do S=L(m),S?k.push({window:m,iframeElement:m.frameElement||null}):k.push({window:m,iframeElement:null}),m=S;while(m)}return k.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(m,S){if(!S||m===S)return{top:0,left:0};let f=0,v=0;const o=this.getSameOriginWindowChain();for(const i of o){if(f+=i.window.scrollY,v+=i.window.scrollX,i.window===S||!i.iframeElement)break;const t=i.iframeElement.getBoundingClientRect();f+=t.top,v+=t.left}return{top:f,left:v}}}e.IframeUtils=D}),define(J[259],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputLatency=void 0;var y;(function(k){const L={total:0,min:Number.MAX_VALUE,max:0},D=Object.assign({},L),_=Object.assign({},L),m=Object.assign({},L);let S=0;const f={keydown:0,input:0,render:0};function v(){a(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),f.keydown=1,queueMicrotask(o)}k.onKeyDown=v;function o(){f.keydown===1&&(performance.mark("keydown/end"),f.keydown=2)}function i(){performance.mark("input/start"),f.input=1,u()}k.onBeforeInput=i;function t(){f.input===0&&i(),queueMicrotask(n)}k.onInput=t;function n(){f.input===1&&(performance.mark("input/end"),f.input=2)}function r(){a()}k.onKeyUp=r;function l(){a()}k.onSelectionChange=l;function h(){f.keydown===2&&f.input===2&&f.render===0&&(performance.mark("render/start"),f.render=1,queueMicrotask(s),u())}k.onRenderStart=h;function s(){f.render===1&&(performance.mark("render/end"),f.render=2)}function u(){setTimeout(a)}function a(){f.keydown===2&&f.input===2&&f.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),d("keydown",L),d("input",D),d("render",_),d("inputlatency",m),S++,c())}function d(C,w){const E=performance.getEntriesByName(C)[0].duration;w.total+=E,w.min=Math.min(w.min,E),w.max=Math.max(w.max,E)}function c(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),f.keydown=0,f.input=0,f.render=0}function b(){if(S===0)return;const C={keydown:g(L),input:g(D),render:g(_),total:g(m),sampleCount:S};return p(L),p(D),p(_),p(m),S=0,C}k.getAndClearMeasurements=b;function g(C){return{average:C.total/S,max:C.max,min:C.min}}function p(C){C.total=0,C.min=Number.MAX_VALUE,C.max=0}})(y||(e.inputLatency=y={}))}),define(J[377],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class y extends Error{constructor(L,D){super(`ListError [${L}] ${D}`)}}e.ListError=y}),define(J[378],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class y{constructor(L){this.spliceables=L}splice(L,D,_){this.spliceables.forEach(m=>m.splice(L,D,_))}}e.CombinedSpliceable=y}),define(J[197],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const y=20;class k{constructor(D,_,m,S,f,v){this._scrollbarSize=Math.round(_),this._oppositeScrollbarSize=Math.round(m),this._arrowSize=Math.round(D),this._visibleSize=S,this._scrollSize=f,this._scrollPosition=v,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(D){const _=Math.round(D);return this._visibleSize!==_?(this._visibleSize=_,this._refreshComputedValues(),!0):!1}setScrollSize(D){const _=Math.round(D);return this._scrollSize!==_?(this._scrollSize=_,this._refreshComputedValues(),!0):!1}setScrollPosition(D){const _=Math.round(D);return this._scrollPosition!==_?(this._scrollPosition=_,this._refreshComputedValues(),!0):!1}setScrollbarSize(D){this._scrollbarSize=Math.round(D)}setOppositeScrollbarSize(D){this._oppositeScrollbarSize=Math.round(D)}static _computeValues(D,_,m,S,f){const v=Math.max(0,m-D),o=Math.max(0,v-2*_),i=S>0&&S>m;if(!i)return{computedAvailableSize:Math.round(v),computedIsNeeded:i,computedSliderSize:Math.round(o),computedSliderRatio:0,computedSliderPosition:0};const t=Math.round(Math.max(y,Math.floor(m*o/S))),n=(o-t)/(S-m),r=f*n;return{computedAvailableSize:Math.round(v),computedIsNeeded:i,computedSliderSize:Math.round(t),computedSliderRatio:n,computedSliderPosition:Math.round(r)}}_refreshComputedValues(){const D=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=D.computedAvailableSize,this._computedIsNeeded=D.computedIsNeeded,this._computedSliderSize=D.computedSliderSize,this._computedSliderRatio=D.computedSliderRatio,this._computedSliderPosition=D.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(D){if(!this._computedIsNeeded)return 0;const _=D-this._arrowSize-this._computedSliderSize/2;return Math.round(_/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(D){if(!this._computedIsNeeded)return 0;const _=D-this._arrowSize;let m=this._scrollPosition;return _<this._computedSliderPosition?m-=this._visibleSize:m+=this._visibleSize,m}getDesiredScrollPositionFromDelta(D){if(!this._computedIsNeeded)return 0;const _=this._computedSliderPosition+D;return Math.round(_/this._computedSliderRatio)}}e.ScrollbarState=k}),define(J[140],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=e.ObjectTreeElementCollapseState=void 0;var y;(function(_){_[_.Expanded=0]="Expanded",_[_.Collapsed=1]="Collapsed",_[_.PreserveOrExpanded=2]="PreserveOrExpanded",_[_.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(y||(e.ObjectTreeElementCollapseState=y={}));var k;(function(_){_[_.Unknown=0]="Unknown",_[_.Twistie=1]="Twistie",_[_.Element=2]="Element",_[_.Filter=3]="Filter"})(k||(e.TreeMouseEventTarget=k={}));class L extends Error{constructor(m,S){super(`TreeError [${m}] ${S}`)}}e.TreeError=L;class D{constructor(m){this.fn=m,this._map=new WeakMap}map(m){let S=this._map.get(m);return S||(S=this.fn(m),this._map.set(m,S)),S}}e.WeakMapper=D}),define(J[15],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CallbackIterable=e.ArrayQueue=e.findMinBy=e.findLastMaxBy=e.findMaxBy=e.numberComparator=e.compareBy=e.CompareResult=e.splice=e.insertInto=e.mapFind=e.asArray=e.pushMany=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.firstOrDefault=e.lastIndex=e.findLast=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesceInPlace=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch2=e.binarySearch=e.removeFastWithoutKeepingOrder=e.equals=e.tail2=e.tail=void 0;function y(F,B=0){return F[F.length-(1+B)]}e.tail=y;function k(F){if(F.length===0)throw new Error("Invalid tail call");return[F.slice(0,F.length-1),F[F.length-1]]}e.tail2=k;function L(F,B,z=(j,R)=>j===R){if(F===B)return!0;if(!F||!B||F.length!==B.length)return!1;for(let j=0,R=F.length;j<R;j++)if(!z(F[j],B[j]))return!1;return!0}e.equals=L;function D(F,B){const z=F.length-1;B<z&&(F[B]=F[z]),F.pop()}e.removeFastWithoutKeepingOrder=D;function _(F,B,z){return m(F.length,j=>z(F[j],B))}e.binarySearch=_;function m(F,B){let z=0,j=F-1;for(;z<=j;){const R=(z+j)/2|0,Z=B(R);if(Z<0)z=R+1;else if(Z>0)j=R-1;else return R}return-(z+1)}e.binarySearch2=m;function S(F,B){let z=0,j=F.length;if(j===0)return 0;for(;z<j;){const R=Math.floor((z+j)/2);B(F[R])?j=R:z=R+1}return z}e.findFirstInSorted=S;function f(F,B,z){if(F=F|0,F>=B.length)throw new TypeError("invalid index");const j=B[Math.floor(B.length*Math.random())],R=[],Z=[],se=[];for(const le of B){const te=z(le,j);te<0?R.push(le):te>0?Z.push(le):se.push(le)}return F<R.length?f(F,R,z):F<R.length+se.length?se[0]:f(F-(R.length+se.length),Z,z)}e.quickSelect=f;function v(F,B){const z=[];let j;for(const R of F.slice(0).sort(B))!j||B(j[0],R)!==0?(j=[R],z.push(j)):j.push(R);return z}e.groupBy=v;function o(F){return F.filter(B=>!!B)}e.coalesce=o;function i(F){let B=0;for(let z=0;z<F.length;z++)F[z]&&(F[B]=F[z],B+=1);F.length=B}e.coalesceInPlace=i;function t(F){return!Array.isArray(F)||F.length===0}e.isFalsyOrEmpty=t;function n(F){return Array.isArray(F)&&F.length>0}e.isNonEmptyArray=n;function r(F,B=z=>z){const z=new Set;return F.filter(j=>{const R=B(j);return z.has(R)?!1:(z.add(R),!0)})}e.distinct=r;function l(F,B){const z=h(F,B);if(z!==-1)return F[z]}e.findLast=l;function h(F,B){for(let z=F.length-1;z>=0;z--){const j=F[z];if(B(j))return z}return-1}e.lastIndex=h;function s(F,B){return F.length>0?F[0]:B}e.firstOrDefault=s;function u(F,B){let z=typeof B=="number"?F:0;typeof B=="number"?z=F:(z=0,B=F);const j=[];if(z<=B)for(let R=z;R<B;R++)j.push(R);else for(let R=z;R>B;R--)j.push(R);return j}e.range=u;function a(F,B,z){const j=F.slice(0,B),R=F.slice(B);return j.concat(z,R)}e.arrayInsert=a;function d(F,B){const z=F.indexOf(B);z>-1&&(F.splice(z,1),F.unshift(B))}e.pushToStart=d;function c(F,B){const z=F.indexOf(B);z>-1&&(F.splice(z,1),F.push(B))}e.pushToEnd=c;function b(F,B){for(const z of B)F.push(z)}e.pushMany=b;function g(F){return Array.isArray(F)?F:[F]}e.asArray=g;function p(F,B){for(const z of F){const j=B(z);if(j!==void 0)return j}}e.mapFind=p;function C(F,B,z){const j=E(F,B),R=F.length,Z=z.length;F.length=R+Z;for(let se=R-1;se>=j;se--)F[se+Z]=F[se];for(let se=0;se<Z;se++)F[se+j]=z[se]}e.insertInto=C;function w(F,B,z,j){const R=E(F,B),Z=F.splice(R,z);return C(F,R,j),Z}e.splice=w;function E(F,B){return B<0?Math.max(B+F.length,0):Math.min(B,F.length)}var I;(function(F){function B(R){return R<0}F.isLessThan=B;function z(R){return R>0}F.isGreaterThan=z;function j(R){return R===0}F.isNeitherLessOrGreaterThan=j,F.greaterThan=1,F.lessThan=-1,F.neitherLessOrGreaterThan=0})(I||(e.CompareResult=I={}));function T(F,B){return(z,j)=>B(F(z),F(j))}e.compareBy=T;const P=(F,B)=>F-B;e.numberComparator=P;function A(F,B){if(F.length===0)return;let z=F[0];for(let j=1;j<F.length;j++){const R=F[j];B(R,z)>0&&(z=R)}return z}e.findMaxBy=A;function M(F,B){if(F.length===0)return;let z=F[0];for(let j=1;j<F.length;j++){const R=F[j];B(R,z)>=0&&(z=R)}return z}e.findLastMaxBy=M;function N(F,B){return A(F,(z,j)=>-B(z,j))}e.findMinBy=N;class O{constructor(B){this.items=B,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(B){let z=this.firstIdx;for(;z<this.items.length&&B(this.items[z]);)z++;const j=z===this.firstIdx?null:this.items.slice(this.firstIdx,z);return this.firstIdx=z,j}takeFromEndWhile(B){let z=this.lastIdx;for(;z>=0&&B(this.items[z]);)z--;const j=z===this.lastIdx?null:this.items.slice(z+1,this.lastIdx+1);return this.lastIdx=z,j}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const B=this.items[this.firstIdx];return this.firstIdx++,B}takeCount(B){const z=this.items.slice(this.firstIdx,this.firstIdx+B);return this.firstIdx+=B,z}}e.ArrayQueue=O;class x{constructor(B){this.iterate=B}toArray(){const B=[];return this.iterate(z=>(B.push(z),!0)),B}filter(B){return new x(z=>this.iterate(j=>B(j)?z(j):!0))}map(B){return new x(z=>this.iterate(j=>z(B(j))))}findLast(B){let z;return this.iterate(j=>(B(j)&&(z=j),!0)),z}findLastMaxBy(B){let z,j=!0;return this.iterate(R=>((j||I.isGreaterThan(B(R,z)))&&(j=!1,z=R),!0)),z}}e.CallbackIterable=x,x.empty=new x(F=>{})}),define(J[260],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class y{constructor(D){this.fn=D,this.lastCache=void 0,this.lastArgKey=void 0}get(D){const _=JSON.stringify(D);return this.lastArgKey!==_&&(this.lastArgKey=_,this.lastCache=this.fn(D)),this.lastCache}}e.LRUCachedFunction=y;class k{get cachedValues(){return this._map}constructor(D){this.fn=D,this._map=new Map}get(D){if(this._map.has(D))return this._map.get(D);const _=this.fn(D);return this._map.set(D,_),_}}e.CachedFunction=k}),define(J[261],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=void 0;class y{constructor(){this.map=new Map}add(L,D){let _=this.map.get(L);_||(_=new Set,this.map.set(L,_)),_.add(D)}delete(L,D){const _=this.map.get(L);_&&(_.delete(D),_.size===0&&this.map.delete(L))}forEach(L,D){const _=this.map.get(L);_&&_.forEach(D)}get(L){const D=this.map.get(L);return D?new Set(D):new Set}}e.SetMap=y}),define(J[37],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function y(m,S){const f=Math.pow(10,S);return Math.round(m*f)/f}class k{constructor(S,f,v,o=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,S))|0,this.g=Math.min(255,Math.max(0,f))|0,this.b=Math.min(255,Math.max(0,v))|0,this.a=y(Math.max(Math.min(1,o),0),3)}static equals(S,f){return S.r===f.r&&S.g===f.g&&S.b===f.b&&S.a===f.a}}e.RGBA=k;class L{constructor(S,f,v,o){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,S),0)|0,this.s=y(Math.max(Math.min(1,f),0),3),this.l=y(Math.max(Math.min(1,v),0),3),this.a=y(Math.max(Math.min(1,o),0),3)}static equals(S,f){return S.h===f.h&&S.s===f.s&&S.l===f.l&&S.a===f.a}static fromRGBA(S){const f=S.r/255,v=S.g/255,o=S.b/255,i=S.a,t=Math.max(f,v,o),n=Math.min(f,v,o);let r=0,l=0;const h=(n+t)/2,s=t-n;if(s>0){switch(l=Math.min(h<=.5?s/(2*h):s/(2-2*h),1),t){case f:r=(v-o)/s+(v<o?6:0);break;case v:r=(o-f)/s+2;break;case o:r=(f-v)/s+4;break}r*=60,r=Math.round(r)}return new L(r,l,h,i)}static _hue2rgb(S,f,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?S+(f-S)*6*v:v<1/2?f:v<2/3?S+(f-S)*(2/3-v)*6:S}static toRGBA(S){const f=S.h/360,{s:v,l:o,a:i}=S;let t,n,r;if(v===0)t=n=r=o;else{const l=o<.5?o*(1+v):o+v-o*v,h=2*o-l;t=L._hue2rgb(h,l,f+1/3),n=L._hue2rgb(h,l,f),r=L._hue2rgb(h,l,f-1/3)}return new k(Math.round(t*255),Math.round(n*255),Math.round(r*255),i)}}e.HSLA=L;class D{constructor(S,f,v,o){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,S),0)|0,this.s=y(Math.max(Math.min(1,f),0),3),this.v=y(Math.max(Math.min(1,v),0),3),this.a=y(Math.max(Math.min(1,o),0),3)}static equals(S,f){return S.h===f.h&&S.s===f.s&&S.v===f.v&&S.a===f.a}static fromRGBA(S){const f=S.r/255,v=S.g/255,o=S.b/255,i=Math.max(f,v,o),t=Math.min(f,v,o),n=i-t,r=i===0?0:n/i;let l;return n===0?l=0:i===f?l=((v-o)/n%6+6)%6:i===v?l=(o-f)/n+2:l=(f-v)/n+4,new D(Math.round(l*60),r,i,S.a)}static toRGBA(S){const{h:f,s:v,v:o,a:i}=S,t=o*v,n=t*(1-Math.abs(f/60%2-1)),r=o-t;let[l,h,s]=[0,0,0];return f<60?(l=t,h=n):f<120?(l=n,h=t):f<180?(h=t,s=n):f<240?(h=n,s=t):f<300?(l=n,s=t):f<=360&&(l=t,s=n),l=Math.round((l+r)*255),h=Math.round((h+r)*255),s=Math.round((s+r)*255),new k(l,h,s,i)}}e.HSVA=D;class _{static fromHex(S){return _.Format.CSS.parseHex(S)||_.red}static equals(S,f){return!S&&!f?!0:!S||!f?!1:S.equals(f)}get hsla(){return this._hsla?this._hsla:L.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}constructor(S){if(S)if(S instanceof k)this.rgba=S;else if(S instanceof L)this._hsla=S,this.rgba=L.toRGBA(S);else if(S instanceof D)this._hsva=S,this.rgba=D.toRGBA(S);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(S){return!!S&&k.equals(this.rgba,S.rgba)&&L.equals(this.hsla,S.hsla)&&D.equals(this.hsva,S.hsva)}getRelativeLuminance(){const S=_._relativeLuminanceForComponent(this.rgba.r),f=_._relativeLuminanceForComponent(this.rgba.g),v=_._relativeLuminanceForComponent(this.rgba.b),o=.2126*S+.7152*f+.0722*v;return y(o,4)}static _relativeLuminanceForComponent(S){const f=S/255;return f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(S){const f=this.getRelativeLuminance(),v=S.getRelativeLuminance();return f>v}isDarkerThan(S){const f=this.getRelativeLuminance(),v=S.getRelativeLuminance();return f<v}lighten(S){return new _(new L(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*S,this.hsla.a))}darken(S){return new _(new L(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*S,this.hsla.a))}transparent(S){const{r:f,g:v,b:o,a:i}=this.rgba;return new _(new k(f,v,o,i*S))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new _(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(S){if(this.isOpaque()||S.rgba.a!==1)return this;const{r:f,g:v,b:o,a:i}=this.rgba;return new _(new k(S.rgba.r-i*(S.rgba.r-f),S.rgba.g-i*(S.rgba.g-v),S.rgba.b-i*(S.rgba.b-o),1))}toString(){return this._toString||(this._toString=_.Format.CSS.format(this)),this._toString}static getLighterColor(S,f,v){if(S.isLighterThan(f))return S;v=v||.5;const o=S.getRelativeLuminance(),i=f.getRelativeLuminance();return v=v*(i-o)/i,S.lighten(v)}static getDarkerColor(S,f,v){if(S.isDarkerThan(f))return S;v=v||.5;const o=S.getRelativeLuminance(),i=f.getRelativeLuminance();return v=v*(o-i)/o,S.darken(v)}}e.Color=_,_.white=new _(new k(255,255,255,1)),_.black=new _(new k(0,0,0,1)),_.red=new _(new k(255,0,0,1)),_.blue=new _(new k(0,0,255,1)),_.green=new _(new k(0,255,0,1)),_.cyan=new _(new k(0,255,255,1)),_.lightgrey=new _(new k(211,211,211,1)),_.transparent=new _(new k(0,0,0,0)),function(m){let S;(function(f){let v;(function(o){function i(c){return c.rgba.a===1?`rgb(${c.rgba.r}, ${c.rgba.g}, ${c.rgba.b})`:m.Format.CSS.formatRGBA(c)}o.formatRGB=i;function t(c){return`rgba(${c.rgba.r}, ${c.rgba.g}, ${c.rgba.b}, ${+c.rgba.a.toFixed(2)})`}o.formatRGBA=t;function n(c){return c.hsla.a===1?`hsl(${c.hsla.h}, ${(c.hsla.s*100).toFixed(2)}%, ${(c.hsla.l*100).toFixed(2)}%)`:m.Format.CSS.formatHSLA(c)}o.formatHSL=n;function r(c){return`hsla(${c.hsla.h}, ${(c.hsla.s*100).toFixed(2)}%, ${(c.hsla.l*100).toFixed(2)}%, ${c.hsla.a.toFixed(2)})`}o.formatHSLA=r;function l(c){const b=c.toString(16);return b.length!==2?"0"+b:b}function h(c){return`#${l(c.rgba.r)}${l(c.rgba.g)}${l(c.rgba.b)}`}o.formatHex=h;function s(c,b=!1){return b&&c.rgba.a===1?m.Format.CSS.formatHex(c):`#${l(c.rgba.r)}${l(c.rgba.g)}${l(c.rgba.b)}${l(Math.round(c.rgba.a*255))}`}o.formatHexA=s;function u(c){return c.isOpaque()?m.Format.CSS.formatHex(c):m.Format.CSS.formatRGBA(c)}o.format=u;function a(c){const b=c.length;if(b===0||c.charCodeAt(0)!==35)return null;if(b===7){const g=16*d(c.charCodeAt(1))+d(c.charCodeAt(2)),p=16*d(c.charCodeAt(3))+d(c.charCodeAt(4)),C=16*d(c.charCodeAt(5))+d(c.charCodeAt(6));return new m(new k(g,p,C,1))}if(b===9){const g=16*d(c.charCodeAt(1))+d(c.charCodeAt(2)),p=16*d(c.charCodeAt(3))+d(c.charCodeAt(4)),C=16*d(c.charCodeAt(5))+d(c.charCodeAt(6)),w=16*d(c.charCodeAt(7))+d(c.charCodeAt(8));return new m(new k(g,p,C,w/255))}if(b===4){const g=d(c.charCodeAt(1)),p=d(c.charCodeAt(2)),C=d(c.charCodeAt(3));return new m(new k(16*g+g,16*p+p,16*C+C))}if(b===5){const g=d(c.charCodeAt(1)),p=d(c.charCodeAt(2)),C=d(c.charCodeAt(3)),w=d(c.charCodeAt(4));return new m(new k(16*g+g,16*p+p,16*C+C,(16*w+w)/255))}return null}o.parseHex=a;function d(c){switch(c){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(v=f.CSS||(f.CSS={}))})(S=m.Format||(m.Format={}))}(_||(e.Color=_={}))}),define(J[105],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function y(k,L,D){let _=null,m=null;if(typeof D.value=="function"?(_="value",m=D.value,m.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(_="get",m=D.get),!m)throw new Error("not supported");const S=`$memoize$${L}`;D[_]=function(...f){return this.hasOwnProperty(S)||Object.defineProperty(this,S,{configurable:!1,enumerable:!1,writable:!1,value:m.apply(this,f)}),this[S]}}e.memoize=y}),define(J[379],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class y{constructor(L,D,_,m){this.originalStart=L,this.originalLength=D,this.modifiedStart=_,this.modifiedLength=m}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=y}),define(J[12],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class y{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(l){setTimeout(()=>{throw l.stack?t.isErrorNoTelemetry(l)?new t(l.message+`

`+l.stack):new Error(l.message+`

`+l.stack):l},0)}}emit(l){this.listeners.forEach(h=>{h(l)})}onUnexpectedError(l){this.unexpectedErrorHandler(l),this.emit(l)}onUnexpectedExternalError(l){this.unexpectedErrorHandler(l)}}e.ErrorHandler=y,e.errorHandler=new y;function k(r){m(r)||e.errorHandler.onUnexpectedError(r)}e.onUnexpectedError=k;function L(r){m(r)||e.errorHandler.onUnexpectedExternalError(r)}e.onUnexpectedExternalError=L;function D(r){if(r instanceof Error){const{name:l,message:h}=r,s=r.stacktrace||r.stack;return{$isError:!0,name:l,message:h,stack:s,noTelemetry:t.isErrorNoTelemetry(r)}}return r}e.transformErrorForSerialization=D;const _="Canceled";function m(r){return r instanceof S?!0:r instanceof Error&&r.name===_&&r.message===_}e.isCancellationError=m;class S extends Error{constructor(){super(_),this.name=this.message}}e.CancellationError=S;function f(){const r=new Error(_);return r.name=r.message,r}e.canceled=f;function v(r){return r?new Error(`Illegal argument: ${r}`):new Error("Illegal argument")}e.illegalArgument=v;function o(r){return r?new Error(`Illegal state: ${r}`):new Error("Illegal state")}e.illegalState=o;class i extends Error{constructor(l){super("NotSupported"),l&&(this.message=l)}}e.NotSupportedError=i;class t extends Error{constructor(l){super(l),this.name="CodeExpectedError"}static fromError(l){if(l instanceof t)return l;const h=new t;return h.message=l.message,h.stack=l.stack,h}static isErrorNoTelemetry(l){return l.name==="CodeExpectedError"}}e.ErrorNoTelemetry=t;class n extends Error{constructor(l){super(l||"An unexpected bug occurred."),Object.setPrototypeOf(this,n.prototype)}}e.BugIndicatingError=n}),define(J[91],ee([1,0,12]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTrustedTypesPolicy=void 0;function k(L,D){var _;const m=globalThis.MonacoEnvironment;if(m?.createTrustedTypesPolicy)try{return m.createTrustedTypesPolicy(L,D)}catch(S){(0,y.onUnexpectedError)(S);return}try{return(_=window.trustedTypes)===null||_===void 0?void 0:_.createPolicy(L,D)}catch(S){(0,y.onUnexpectedError)(S);return}}e.createTrustedTypesPolicy=k}),define(J[85],ee([1,0,12]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkAdjacentItems=e.assertFn=e.assertNever=e.ok=void 0;function k(m,S){if(!m)throw new Error(S?`Assertion failed (${S})`:"Assertion Failed")}e.ok=k;function L(m,S="Unreachable"){throw new Error(S)}e.assertNever=L;function D(m){if(!m()){debugger;m(),(0,y.onUnexpectedError)(new y.BugIndicatingError("Assertion Failed"))}}e.assertFn=D;function _(m,S){let f=0;for(;f<m.length-1;){const v=m[f],o=m[f+1];if(!S(v,o))return!1;f++}return!0}e.checkAdjacentItems=_}),define(J[98],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function y(k){const L=this;let D=!1,_;return function(){return D||(D=!0,_=k.apply(L,arguments)),_}}e.once=y}),define(J[167],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class y{constructor(L){this._prefix=L,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=y,e.defaultGenerator=new y("id#")}),define(J[51],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var y;(function(k){function L(a){return a&&typeof a=="object"&&typeof a[Symbol.iterator]=="function"}k.is=L;const D=Object.freeze([]);function _(){return D}k.empty=_;function*m(a){yield a}k.single=m;function S(a){return L(a)?a:m(a)}k.wrap=S;function f(a){return a||D}k.from=f;function v(a){return!a||a[Symbol.iterator]().next().done===!0}k.isEmpty=v;function o(a){return a[Symbol.iterator]().next().value}k.first=o;function i(a,d){for(const c of a)if(d(c))return!0;return!1}k.some=i;function t(a,d){for(const c of a)if(d(c))return c}k.find=t;function*n(a,d){for(const c of a)d(c)&&(yield c)}k.filter=n;function*r(a,d){let c=0;for(const b of a)yield d(b,c++)}k.map=r;function*l(...a){for(const d of a)for(const c of d)yield c}k.concat=l;function h(a,d,c){let b=c;for(const g of a)b=d(b,g);return b}k.reduce=h;function*s(a,d,c=a.length){for(d<0&&(d+=a.length),c<0?c+=a.length:c>a.length&&(c=a.length);d<c;d++)yield a[d]}k.slice=s;function u(a,d=Number.POSITIVE_INFINITY){const c=[];if(d===0)return[c,a];const b=a[Symbol.iterator]();for(let g=0;g<d;g++){const p=b.next();if(p.done)return[c,k.empty()];c.push(p.value)}return[c,{[Symbol.iterator](){return b}}]}k.consume=u})(y||(e.Iterable=y={}))}),define(J[64],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class y{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(i,t){this._keyCodeToStr[i]=t,this._strToKeyCode[t.toLowerCase()]=i}keyCodeToStr(i){return this._keyCodeToStr[i]}strToKeyCode(i){return this._strToKeyCode[i.toLowerCase()]||0}}const k=new y,L=new y,D=new y;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const _=[],m=Object.create(null),S=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let o=0;o<=193;o++)e.IMMUTABLE_CODE_TO_KEY_CODE[o]=-1;for(let o=0;o<=132;o++)e.IMMUTABLE_KEY_CODE_TO_CODE[o]=-1;(function(){const o="",i=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",o,o],[1,1,"Hyper",0,o,0,o,o,o],[1,2,"Super",0,o,0,o,o,o],[1,3,"Fn",0,o,0,o,o,o],[1,4,"FnLock",0,o,0,o,o,o],[1,5,"Suspend",0,o,0,o,o,o],[1,6,"Resume",0,o,0,o,o,o],[1,7,"Turbo",0,o,0,o,o,o],[1,8,"Sleep",0,o,0,"VK_SLEEP",o,o],[1,9,"WakeUp",0,o,0,o,o,o],[0,10,"KeyA",31,"A",65,"VK_A",o,o],[0,11,"KeyB",32,"B",66,"VK_B",o,o],[0,12,"KeyC",33,"C",67,"VK_C",o,o],[0,13,"KeyD",34,"D",68,"VK_D",o,o],[0,14,"KeyE",35,"E",69,"VK_E",o,o],[0,15,"KeyF",36,"F",70,"VK_F",o,o],[0,16,"KeyG",37,"G",71,"VK_G",o,o],[0,17,"KeyH",38,"H",72,"VK_H",o,o],[0,18,"KeyI",39,"I",73,"VK_I",o,o],[0,19,"KeyJ",40,"J",74,"VK_J",o,o],[0,20,"KeyK",41,"K",75,"VK_K",o,o],[0,21,"KeyL",42,"L",76,"VK_L",o,o],[0,22,"KeyM",43,"M",77,"VK_M",o,o],[0,23,"KeyN",44,"N",78,"VK_N",o,o],[0,24,"KeyO",45,"O",79,"VK_O",o,o],[0,25,"KeyP",46,"P",80,"VK_P",o,o],[0,26,"KeyQ",47,"Q",81,"VK_Q",o,o],[0,27,"KeyR",48,"R",82,"VK_R",o,o],[0,28,"KeyS",49,"S",83,"VK_S",o,o],[0,29,"KeyT",50,"T",84,"VK_T",o,o],[0,30,"KeyU",51,"U",85,"VK_U",o,o],[0,31,"KeyV",52,"V",86,"VK_V",o,o],[0,32,"KeyW",53,"W",87,"VK_W",o,o],[0,33,"KeyX",54,"X",88,"VK_X",o,o],[0,34,"KeyY",55,"Y",89,"VK_Y",o,o],[0,35,"KeyZ",56,"Z",90,"VK_Z",o,o],[0,36,"Digit1",22,"1",49,"VK_1",o,o],[0,37,"Digit2",23,"2",50,"VK_2",o,o],[0,38,"Digit3",24,"3",51,"VK_3",o,o],[0,39,"Digit4",25,"4",52,"VK_4",o,o],[0,40,"Digit5",26,"5",53,"VK_5",o,o],[0,41,"Digit6",27,"6",54,"VK_6",o,o],[0,42,"Digit7",28,"7",55,"VK_7",o,o],[0,43,"Digit8",29,"8",56,"VK_8",o,o],[0,44,"Digit9",30,"9",57,"VK_9",o,o],[0,45,"Digit0",21,"0",48,"VK_0",o,o],[1,46,"Enter",3,"Enter",13,"VK_RETURN",o,o],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",o,o],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",o,o],[1,49,"Tab",2,"Tab",9,"VK_TAB",o,o],[1,50,"Space",10,"Space",32,"VK_SPACE",o,o],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,o,0,o,o,o],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",o,o],[1,64,"F1",59,"F1",112,"VK_F1",o,o],[1,65,"F2",60,"F2",113,"VK_F2",o,o],[1,66,"F3",61,"F3",114,"VK_F3",o,o],[1,67,"F4",62,"F4",115,"VK_F4",o,o],[1,68,"F5",63,"F5",116,"VK_F5",o,o],[1,69,"F6",64,"F6",117,"VK_F6",o,o],[1,70,"F7",65,"F7",118,"VK_F7",o,o],[1,71,"F8",66,"F8",119,"VK_F8",o,o],[1,72,"F9",67,"F9",120,"VK_F9",o,o],[1,73,"F10",68,"F10",121,"VK_F10",o,o],[1,74,"F11",69,"F11",122,"VK_F11",o,o],[1,75,"F12",70,"F12",123,"VK_F12",o,o],[1,76,"PrintScreen",0,o,0,o,o,o],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",o,o],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",o,o],[1,79,"Insert",19,"Insert",45,"VK_INSERT",o,o],[1,80,"Home",14,"Home",36,"VK_HOME",o,o],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",o,o],[1,82,"Delete",20,"Delete",46,"VK_DELETE",o,o],[1,83,"End",13,"End",35,"VK_END",o,o],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",o,o],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",o],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",o],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",o],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",o],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",o,o],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",o,o],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",o,o],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",o,o],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",o,o],[1,94,"NumpadEnter",3,o,0,o,o,o],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",o,o],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",o,o],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",o,o],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",o,o],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",o,o],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",o,o],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",o,o],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",o,o],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",o,o],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",o,o],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",o,o],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",o,o],[1,107,"ContextMenu",58,"ContextMenu",93,o,o,o],[1,108,"Power",0,o,0,o,o,o],[1,109,"NumpadEqual",0,o,0,o,o,o],[1,110,"F13",71,"F13",124,"VK_F13",o,o],[1,111,"F14",72,"F14",125,"VK_F14",o,o],[1,112,"F15",73,"F15",126,"VK_F15",o,o],[1,113,"F16",74,"F16",127,"VK_F16",o,o],[1,114,"F17",75,"F17",128,"VK_F17",o,o],[1,115,"F18",76,"F18",129,"VK_F18",o,o],[1,116,"F19",77,"F19",130,"VK_F19",o,o],[1,117,"F20",78,"F20",131,"VK_F20",o,o],[1,118,"F21",79,"F21",132,"VK_F21",o,o],[1,119,"F22",80,"F22",133,"VK_F22",o,o],[1,120,"F23",81,"F23",134,"VK_F23",o,o],[1,121,"F24",82,"F24",135,"VK_F24",o,o],[1,122,"Open",0,o,0,o,o,o],[1,123,"Help",0,o,0,o,o,o],[1,124,"Select",0,o,0,o,o,o],[1,125,"Again",0,o,0,o,o,o],[1,126,"Undo",0,o,0,o,o,o],[1,127,"Cut",0,o,0,o,o,o],[1,128,"Copy",0,o,0,o,o,o],[1,129,"Paste",0,o,0,o,o,o],[1,130,"Find",0,o,0,o,o,o],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",o,o],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",o,o],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",o,o],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",o,o],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",o,o],[1,136,"KanaMode",0,o,0,o,o,o],[0,137,"IntlYen",0,o,0,o,o,o],[1,138,"Convert",0,o,0,o,o,o],[1,139,"NonConvert",0,o,0,o,o,o],[1,140,"Lang1",0,o,0,o,o,o],[1,141,"Lang2",0,o,0,o,o,o],[1,142,"Lang3",0,o,0,o,o,o],[1,143,"Lang4",0,o,0,o,o,o],[1,144,"Lang5",0,o,0,o,o,o],[1,145,"Abort",0,o,0,o,o,o],[1,146,"Props",0,o,0,o,o,o],[1,147,"NumpadParenLeft",0,o,0,o,o,o],[1,148,"NumpadParenRight",0,o,0,o,o,o],[1,149,"NumpadBackspace",0,o,0,o,o,o],[1,150,"NumpadMemoryStore",0,o,0,o,o,o],[1,151,"NumpadMemoryRecall",0,o,0,o,o,o],[1,152,"NumpadMemoryClear",0,o,0,o,o,o],[1,153,"NumpadMemoryAdd",0,o,0,o,o,o],[1,154,"NumpadMemorySubtract",0,o,0,o,o,o],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",o,o],[1,156,"NumpadClearEntry",0,o,0,o,o,o],[1,0,o,5,"Ctrl",17,"VK_CONTROL",o,o],[1,0,o,4,"Shift",16,"VK_SHIFT",o,o],[1,0,o,6,"Alt",18,"VK_MENU",o,o],[1,0,o,57,"Meta",91,"VK_COMMAND",o,o],[1,157,"ControlLeft",5,o,0,"VK_LCONTROL",o,o],[1,158,"ShiftLeft",4,o,0,"VK_LSHIFT",o,o],[1,159,"AltLeft",6,o,0,"VK_LMENU",o,o],[1,160,"MetaLeft",57,o,0,"VK_LWIN",o,o],[1,161,"ControlRight",5,o,0,"VK_RCONTROL",o,o],[1,162,"ShiftRight",4,o,0,"VK_RSHIFT",o,o],[1,163,"AltRight",6,o,0,"VK_RMENU",o,o],[1,164,"MetaRight",57,o,0,"VK_RWIN",o,o],[1,165,"BrightnessUp",0,o,0,o,o,o],[1,166,"BrightnessDown",0,o,0,o,o,o],[1,167,"MediaPlay",0,o,0,o,o,o],[1,168,"MediaRecord",0,o,0,o,o,o],[1,169,"MediaFastForward",0,o,0,o,o,o],[1,170,"MediaRewind",0,o,0,o,o,o],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",o,o],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",o,o],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",o,o],[1,174,"Eject",0,o,0,o,o,o],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",o,o],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",o,o],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",o,o],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",o,o],[1,179,"LaunchApp1",0,o,0,"VK_MEDIA_LAUNCH_APP1",o,o],[1,180,"SelectTask",0,o,0,o,o,o],[1,181,"LaunchScreenSaver",0,o,0,o,o,o],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",o,o],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",o,o],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",o,o],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",o,o],[1,186,"BrowserStop",0,o,0,"VK_BROWSER_STOP",o,o],[1,187,"BrowserRefresh",0,o,0,"VK_BROWSER_REFRESH",o,o],[1,188,"BrowserFavorites",0,o,0,"VK_BROWSER_FAVORITES",o,o],[1,189,"ZoomToggle",0,o,0,o,o,o],[1,190,"MailReply",0,o,0,o,o,o],[1,191,"MailForward",0,o,0,o,o,o],[1,192,"MailSend",0,o,0,o,o,o],[1,0,o,114,"KeyInComposition",229,o,o,o],[1,0,o,116,"ABNT_C2",194,"VK_ABNT_C2",o,o],[1,0,o,96,"OEM_8",223,"VK_OEM_8",o,o],[1,0,o,0,o,0,"VK_KANA",o,o],[1,0,o,0,o,0,"VK_HANGUL",o,o],[1,0,o,0,o,0,"VK_JUNJA",o,o],[1,0,o,0,o,0,"VK_FINAL",o,o],[1,0,o,0,o,0,"VK_HANJA",o,o],[1,0,o,0,o,0,"VK_KANJI",o,o],[1,0,o,0,o,0,"VK_CONVERT",o,o],[1,0,o,0,o,0,"VK_NONCONVERT",o,o],[1,0,o,0,o,0,"VK_ACCEPT",o,o],[1,0,o,0,o,0,"VK_MODECHANGE",o,o],[1,0,o,0,o,0,"VK_SELECT",o,o],[1,0,o,0,o,0,"VK_PRINT",o,o],[1,0,o,0,o,0,"VK_EXECUTE",o,o],[1,0,o,0,o,0,"VK_SNAPSHOT",o,o],[1,0,o,0,o,0,"VK_HELP",o,o],[1,0,o,0,o,0,"VK_APPS",o,o],[1,0,o,0,o,0,"VK_PROCESSKEY",o,o],[1,0,o,0,o,0,"VK_PACKET",o,o],[1,0,o,0,o,0,"VK_DBE_SBCSCHAR",o,o],[1,0,o,0,o,0,"VK_DBE_DBCSCHAR",o,o],[1,0,o,0,o,0,"VK_ATTN",o,o],[1,0,o,0,o,0,"VK_CRSEL",o,o],[1,0,o,0,o,0,"VK_EXSEL",o,o],[1,0,o,0,o,0,"VK_EREOF",o,o],[1,0,o,0,o,0,"VK_PLAY",o,o],[1,0,o,0,o,0,"VK_ZOOM",o,o],[1,0,o,0,o,0,"VK_NONAME",o,o],[1,0,o,0,o,0,"VK_PA1",o,o],[1,0,o,0,o,0,"VK_OEM_CLEAR",o,o]],t=[],n=[];for(const r of i){const[l,h,s,u,a,d,c,b,g]=r;if(n[h]||(n[h]=!0,_[h]=s,m[s]=h,S[s.toLowerCase()]=h,l&&(e.IMMUTABLE_CODE_TO_KEY_CODE[h]=u,u!==0&&u!==3&&u!==5&&u!==4&&u!==6&&u!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[u]=h))),!t[u]){if(t[u]=!0,!a)throw new Error(`String representation missing for key code ${u} around scan code ${s}`);k.define(u,a),L.define(u,b||a),D.define(u,g||b||a)}d&&(e.EVENT_KEY_CODE_MAP[d]=u),c&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[c]=u)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var f;(function(o){function i(s){return k.keyCodeToStr(s)}o.toString=i;function t(s){return k.strToKeyCode(s)}o.fromString=t;function n(s){return L.keyCodeToStr(s)}o.toUserSettingsUS=n;function r(s){return D.keyCodeToStr(s)}o.toUserSettingsGeneral=r;function l(s){return L.strToKeyCode(s)||D.strToKeyCode(s)}o.fromUserSettings=l;function h(s){if(s>=98&&s<=113)return null;switch(s){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return k.keyCodeToStr(s)}o.toElectronAccelerator=h})(f||(e.KeyCodeUtils=f={}));function v(o,i){const t=(i&65535)<<16>>>0;return(o|t)>>>0}e.KeyChord=v}),define(J[119],ee([1,0,12]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedChord=e.Keybinding=e.ScanCodeChord=e.KeyCodeChord=e.createSimpleKeybinding=e.decodeKeybinding=void 0;function k(v,o){if(typeof v=="number"){if(v===0)return null;const i=(v&65535)>>>0,t=(v&4294901760)>>>16;return t!==0?new m([L(i,o),L(t,o)]):new m([L(i,o)])}else{const i=[];for(let t=0;t<v.length;t++)i.push(L(v[t],o));return new m(i)}}e.decodeKeybinding=k;function L(v,o){const i=!!(v&2048),t=!!(v&256),n=o===2?t:i,r=!!(v&1024),l=!!(v&512),h=o===2?i:t,s=v&255;return new D(n,r,l,h,s)}e.createSimpleKeybinding=L;class D{constructor(o,i,t,n,r){this.ctrlKey=o,this.shiftKey=i,this.altKey=t,this.metaKey=n,this.keyCode=r}equals(o){return o instanceof D&&this.ctrlKey===o.ctrlKey&&this.shiftKey===o.shiftKey&&this.altKey===o.altKey&&this.metaKey===o.metaKey&&this.keyCode===o.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.KeyCodeChord=D;class _{constructor(o,i,t,n,r){this.ctrlKey=o,this.shiftKey=i,this.altKey=t,this.metaKey=n,this.scanCode=r}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeChord=_;class m{constructor(o){if(o.length===0)throw(0,y.illegalArgument)("chords");this.chords=o}}e.Keybinding=m;class S{constructor(o,i,t,n,r,l){this.ctrlKey=o,this.shiftKey=i,this.altKey=t,this.metaKey=n,this.keyLabel=r,this.keyAriaLabel=l}}e.ResolvedChord=S;class f{}e.ResolvedKeybinding=f}),define(J[99],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class y{constructor(L){this.executor=L,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(L){this._error=L}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=y}),define(J[141],ee([1,0,99]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const k=typeof Buffer<"u",L=new y.Lazy(()=>new Uint8Array(256));let D;class _{static wrap(n){return k&&!Buffer.isBuffer(n)&&(n=Buffer.from(n.buffer,n.byteOffset,n.byteLength)),new _(n)}constructor(n){this.buffer=n,this.byteLength=this.buffer.byteLength}toString(){return k?this.buffer.toString():(D||(D=new TextDecoder),D.decode(this.buffer))}}e.VSBuffer=_;function m(t,n){return t[n+0]<<0>>>0|t[n+1]<<8>>>0}e.readUInt16LE=m;function S(t,n,r){t[r+0]=n&255,n=n>>>8,t[r+1]=n&255}e.writeUInt16LE=S;function f(t,n){return t[n]*Math.pow(2,24)+t[n+1]*Math.pow(2,16)+t[n+2]*Math.pow(2,8)+t[n+3]}e.readUInt32BE=f;function v(t,n,r){t[r+3]=n,n=n>>>8,t[r+2]=n,n=n>>>8,t[r+1]=n,n=n>>>8,t[r]=n}e.writeUInt32BE=v;function o(t,n){return t[n]}e.readUInt8=o;function i(t,n,r){t[r]=n}e.writeUInt8=i}),define(J[380],ee([1,0,99]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const k=new y.Lazy(()=>{const f=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:f,collatorIsNumeric:f.resolvedOptions().numeric}}),L=new y.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),D=new y.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function _(f,v,o=!1){const i=f||"",t=v||"",n=k.value.collator.compare(i,t);return k.value.collatorIsNumeric&&n===0&&i!==t?i<t?-1:1:n}e.compareFileNames=_;function m(f,v,o){const i=f.toLowerCase(),t=v.toLowerCase(),n=S(f,v,o);if(n)return n;const r=i.endsWith(o),l=t.endsWith(o);if(r!==l)return r?-1:1;const h=_(i,t);return h!==0?h:i.localeCompare(t)}e.compareAnything=m;function S(f,v,o){const i=f.toLowerCase(),t=v.toLowerCase(),n=i.startsWith(o),r=t.startsWith(o);if(n!==r)return n?-1:1;if(n&&r){if(i.length<t.length)return-1;if(i.length>t.length)return 1}return 0}e.compareByPrefix=S}),define(J[2],ee([1,0,98,51]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableMap=e.ImmortalReference=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.markAsSingleton=e.setDisposableTracker=void 0;const L=!1;let D=null;function _(c){D=c}if(e.setDisposableTracker=_,L){const c="__is_disposable_tracked__";_(new class{trackDisposable(b){const g=new Error("Potentially leaked disposable").stack;setTimeout(()=>{b[c]||console.log(g)},3e3)}setParent(b,g){if(b&&b!==h.None)try{b[c]=!0}catch{}}markAsDisposed(b){if(b&&b!==h.None)try{b[c]=!0}catch{}}markAsSingleton(b){}})}function m(c){return D?.trackDisposable(c),c}function S(c){D?.markAsDisposed(c)}function f(c,b){D?.setParent(c,b)}function v(c,b){if(D)for(const g of c)D.setParent(g,b)}function o(c){return D?.markAsSingleton(c),c}e.markAsSingleton=o;function i(c){return typeof c.dispose=="function"&&c.dispose.length===0}e.isDisposable=i;function t(c){if(k.Iterable.is(c)){const b=[];for(const g of c)if(g)try{g.dispose()}catch(p){b.push(p)}if(b.length===1)throw b[0];if(b.length>1)throw new AggregateError(b,"Encountered errors while disposing of store");return Array.isArray(c)?[]:c}else if(c)return c.dispose(),c}e.dispose=t;function n(...c){const b=r(()=>t(c));return v(c,b),b}e.combinedDisposable=n;function r(c){const b=m({dispose:(0,y.once)(()=>{S(b),c()})});return b}e.toDisposable=r;class l{constructor(){this._toDispose=new Set,this._isDisposed=!1,m(this)}dispose(){this._isDisposed||(S(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{t(this._toDispose)}finally{this._toDispose.clear()}}add(b){if(!b)return b;if(b===this)throw new Error("Cannot register a disposable on itself!");return f(b,this),this._isDisposed?l.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(b),b}}e.DisposableStore=l,l.DISABLE_DISPOSED_WARNING=!1;class h{constructor(){this._store=new l,m(this),f(this._store,this)}dispose(){S(this),this._store.dispose()}_register(b){if(b===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(b)}}e.Disposable=h,h.None=Object.freeze({dispose(){}});class s{constructor(){this._isDisposed=!1,m(this)}get value(){return this._isDisposed?void 0:this._value}set value(b){var g;this._isDisposed||b===this._value||((g=this._value)===null||g===void 0||g.dispose(),b&&f(b,this),this._value=b)}clear(){this.value=void 0}dispose(){var b;this._isDisposed=!0,S(this),(b=this._value)===null||b===void 0||b.dispose(),this._value=void 0}}e.MutableDisposable=s;class u{constructor(b){this._disposable=b,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}e.RefCountedDisposable=u;class a{constructor(b){this.object=b}dispose(){}}e.ImmortalReference=a;class d{constructor(){this._store=new Map,this._isDisposed=!1,m(this)}dispose(){S(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{t(this._store.values())}finally{this._store.clear()}}get(b){return this._store.get(b)}set(b,g,p=!1){var C;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),p||(C=this._store.get(b))===null||C===void 0||C.dispose(),this._store.set(b,g)}deleteAndDispose(b){var g;(g=this._store.get(b))===null||g===void 0||g.dispose(),this._store.delete(b)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}e.DisposableMap=d}),define(J[65],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class y{constructor(D){this.element=D,this.next=y.Undefined,this.prev=y.Undefined}}y.Undefined=new y(void 0);class k{constructor(){this._first=y.Undefined,this._last=y.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===y.Undefined}clear(){let D=this._first;for(;D!==y.Undefined;){const _=D.next;D.prev=y.Undefined,D.next=y.Undefined,D=_}this._first=y.Undefined,this._last=y.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,_){const m=new y(D);if(this._first===y.Undefined)this._first=m,this._last=m;else if(_){const f=this._last;this._last=m,m.prev=f,f.next=m}else{const f=this._first;this._first=m,m.next=f,f.prev=m}this._size+=1;let S=!1;return()=>{S||(S=!0,this._remove(m))}}shift(){if(this._first!==y.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==y.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==y.Undefined&&D.next!==y.Undefined){const _=D.prev;_.next=D.next,D.next.prev=_}else D.prev===y.Undefined&&D.next===y.Undefined?(this._first=y.Undefined,this._last=y.Undefined):D.next===y.Undefined?(this._last=this._last.prev,this._last.next=y.Undefined):D.prev===y.Undefined&&(this._first=this._first.next,this._first.prev=y.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==y.Undefined;)yield D.element,D=D.next}}e.LinkedList=k});var Ne=this&&this.__decorate||function(G,e,y,k){var L=arguments.length,D=L<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,y):k,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(G,e,y,k);else for(var m=G.length-1;m>=0;m--)(_=G[m])&&(D=(L<3?_(D):L>3?_(e,y,D):_(e,y))||D);return L>3&&D&&Object.defineProperty(e,y,D),D};define(J[381],ee([1,0,105]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLinkedText=e.LinkedText=void 0;class k{constructor(m){this.nodes=m}toString(){return this.nodes.map(m=>typeof m=="string"?m:m.label).join("")}}e.LinkedText=k,Ne([y.memoize],k.prototype,"toString",null);const L=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function D(_){const m=[];let S=0,f;for(;f=L.exec(_);){f.index-S>0&&m.push(_.substring(S,f.index));const[,v,o,,i]=f;i?m.push({label:v,href:o,title:i}):m.push({label:v,href:o}),S=f.index+f[0].length}return S<_.length&&m.push(_.substring(S)),new k(m)}e.parseLinkedText=D}),define(J[66],ee([1,0]),function(G,e){"use strict";var y,k;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=void 0;class L{constructor(f,v){this.uri=f,this.value=v}}class D{constructor(f,v){this[y]="ResourceMap",f instanceof D?(this.map=new Map(f.map),this.toKey=v??D.defaultToKey):(this.map=new Map,this.toKey=f??D.defaultToKey)}set(f,v){return this.map.set(this.toKey(f),new L(f,v)),this}get(f){var v;return(v=this.map.get(this.toKey(f)))===null||v===void 0?void 0:v.value}has(f){return this.map.has(this.toKey(f))}get size(){return this.map.size}clear(){this.map.clear()}delete(f){return this.map.delete(this.toKey(f))}forEach(f,v){typeof v<"u"&&(f=f.bind(v));for(const[o,i]of this.map)f(i.value,i.uri,this)}*values(){for(const f of this.map.values())yield f.value}*keys(){for(const f of this.map.values())yield f.uri}*entries(){for(const f of this.map.values())yield[f.uri,f.value]}*[(y=Symbol.toStringTag,Symbol.iterator)](){for(const[,f]of this.map)yield[f.uri,f.value]}}e.ResourceMap=D,D.defaultToKey=S=>S.toString();class _{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var f;return(f=this._head)===null||f===void 0?void 0:f.value}get last(){var f;return(f=this._tail)===null||f===void 0?void 0:f.value}has(f){return this._map.has(f)}get(f,v=0){const o=this._map.get(f);if(o)return v!==0&&this.touch(o,v),o.value}set(f,v,o=0){let i=this._map.get(f);if(i)i.value=v,o!==0&&this.touch(i,o);else{switch(i={key:f,value:v,next:void 0,previous:void 0},o){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(f,i),this._size++}return this}delete(f){return!!this.remove(f)}remove(f){const v=this._map.get(f);if(v)return this._map.delete(f),this.removeItem(v),this._size--,v.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const f=this._head;return this._map.delete(f.key),this.removeItem(f),this._size--,f.value}forEach(f,v){const o=this._state;let i=this._head;for(;i;){if(v?f.bind(v)(i.value,i.key,this):f(i.value,i.key,this),this._state!==o)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const f=this,v=this._state;let o=this._head;const i={[Symbol.iterator](){return i},next(){if(f._state!==v)throw new Error("LinkedMap got modified during iteration.");if(o){const t={value:o.key,done:!1};return o=o.next,t}else return{value:void 0,done:!0}}};return i}values(){const f=this,v=this._state;let o=this._head;const i={[Symbol.iterator](){return i},next(){if(f._state!==v)throw new Error("LinkedMap got modified during iteration.");if(o){const t={value:o.value,done:!1};return o=o.next,t}else return{value:void 0,done:!0}}};return i}entries(){const f=this,v=this._state;let o=this._head;const i={[Symbol.iterator](){return i},next(){if(f._state!==v)throw new Error("LinkedMap got modified during iteration.");if(o){const t={value:[o.key,o.value],done:!1};return o=o.next,t}else return{value:void 0,done:!0}}};return i}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(f){if(f>=this.size)return;if(f===0){this.clear();return}let v=this._head,o=this.size;for(;v&&o>f;)this._map.delete(v.key),v=v.next,o--;this._head=v,this._size=o,v&&(v.previous=void 0),this._state++}addItemFirst(f){if(!this._head&&!this._tail)this._tail=f;else if(this._head)f.next=this._head,this._head.previous=f;else throw new Error("Invalid list");this._head=f,this._state++}addItemLast(f){if(!this._head&&!this._tail)this._head=f;else if(this._tail)f.previous=this._tail,this._tail.next=f;else throw new Error("Invalid list");this._tail=f,this._state++}removeItem(f){if(f===this._head&&f===this._tail)this._head=void 0,this._tail=void 0;else if(f===this._head){if(!f.next)throw new Error("Invalid list");f.next.previous=void 0,this._head=f.next}else if(f===this._tail){if(!f.previous)throw new Error("Invalid list");f.previous.next=void 0,this._tail=f.previous}else{const v=f.next,o=f.previous;if(!v||!o)throw new Error("Invalid list");v.previous=o,o.next=v}f.next=void 0,f.previous=void 0,this._state++}touch(f,v){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(v!==1&&v!==2)){if(v===1){if(f===this._head)return;const o=f.next,i=f.previous;f===this._tail?(i.next=void 0,this._tail=i):(o.previous=i,i.next=o),f.previous=void 0,f.next=this._head,this._head.previous=f,this._head=f,this._state++}else if(v===2){if(f===this._tail)return;const o=f.next,i=f.previous;f===this._head?(o.previous=void 0,this._head=o):(o.previous=i,i.next=o),f.next=void 0,f.previous=this._tail,this._tail.next=f,this._tail=f,this._state++}}}toJSON(){const f=[];return this.forEach((v,o)=>{f.push([o,v])}),f}fromJSON(f){this.clear();for(const[v,o]of f)this.set(v,o)}}e.LinkedMap=_;class m extends _{constructor(f,v=1){super(),this._limit=f,this._ratio=Math.min(Math.max(0,v),1)}get limit(){return this._limit}set limit(f){this._limit=f,this.checkTrim()}get(f,v=2){return super.get(f,v)}peek(f){return super.get(f,0)}set(f,v){return super.set(f,v,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=m}),function(G,e){typeof define=="function"&&define.amd?define(J[382],ee([0]),e):typeof exports=="object"&&typeof module<"u"?e(exports):(G=typeof globalThis<"u"?globalThis:G||self,e(G.marked={}))}(this,function(G){"use strict";function e(ae,ue){for(var q=0;q<ue.length;q++){var W=ue[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(ae,W.key,W)}}function y(ae,ue,q){return ue&&e(ae.prototype,ue),q&&e(ae,q),Object.defineProperty(ae,"prototype",{writable:!1}),ae}function k(ae,ue){if(ae){if(typeof ae=="string")return L(ae,ue);var q=Object.prototype.toString.call(ae).slice(8,-1);if(q==="Object"&&ae.constructor&&(q=ae.constructor.name),q==="Map"||q==="Set")return Array.from(ae);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return L(ae,ue)}}function L(ae,ue){(ue==null||ue>ae.length)&&(ue=ae.length);for(var q=0,W=new Array(ue);q<ue;q++)W[q]=ae[q];return W}function D(ae,ue){var q=typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(q)return(q=q.call(ae)).next.bind(q);if(Array.isArray(ae)||(q=k(ae))||ue&&ae&&typeof ae.length=="number"){q&&(ae=q);var W=0;return function(){return W>=ae.length?{done:!0}:{done:!1,value:ae[W++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}G.defaults=_();function m(ae){G.defaults=ae}var S=/[&<>"']/,f=/[&<>"']/g,v=/[<>"']|&(?!#?\w+;)/,o=/[<>"']|&(?!#?\w+;)/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t=function(ue){return i[ue]};function n(ae,ue){if(ue){if(S.test(ae))return ae.replace(f,t)}else if(v.test(ae))return ae.replace(o,t);return ae}var r=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function l(ae){return ae.replace(r,function(ue,q){return q=q.toLowerCase(),q==="colon"?":":q.charAt(0)==="#"?q.charAt(1)==="x"?String.fromCharCode(parseInt(q.substring(2),16)):String.fromCharCode(+q.substring(1)):""})}var h=/(^|[^\[])\^/g;function s(ae,ue){ae=typeof ae=="string"?ae:ae.source,ue=ue||"";var q={replace:function(K,ie){return ie=ie.source||ie,ie=ie.replace(h,"$1"),ae=ae.replace(K,ie),q},getRegex:function(){return new RegExp(ae,ue)}};return q}var u=/[^\w:]/g,a=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function d(ae,ue,q){if(ae){var W;try{W=decodeURIComponent(l(q)).replace(u,"").toLowerCase()}catch{return null}if(W.indexOf("javascript:")===0||W.indexOf("vbscript:")===0||W.indexOf("data:")===0)return null}ue&&!a.test(q)&&(q=C(ue,q));try{q=encodeURI(q).replace(/%25/g,"%")}catch{return null}return q}var c={},b=/^[^:]+:\/*[^/]*$/,g=/^([^:]+:)[\s\S]*$/,p=/^([^:]+:\/*[^/]*)[\s\S]*$/;function C(ae,ue){c[" "+ae]||(b.test(ae)?c[" "+ae]=ae+"/":c[" "+ae]=T(ae,"/",!0)),ae=c[" "+ae];var q=ae.indexOf(":")===-1;return ue.substring(0,2)==="//"?q?ue:ae.replace(g,"$1")+ue:ue.charAt(0)==="/"?q?ue:ae.replace(p,"$1")+ue:ae+ue}var w={exec:function(){}};function E(ae){for(var ue=1,q,W;ue<arguments.length;ue++){q=arguments[ue];for(W in q)Object.prototype.hasOwnProperty.call(q,W)&&(ae[W]=q[W])}return ae}function I(ae,ue){var q=ae.replace(/\|/g,function(ie,ne,oe){for(var re=!1,ge=ne;--ge>=0&&oe[ge]==="\\";)re=!re;return re?"|":" |"}),W=q.split(/ \|/),K=0;if(W[0].trim()||W.shift(),W.length>0&&!W[W.length-1].trim()&&W.pop(),W.length>ue)W.splice(ue);else for(;W.length<ue;)W.push("");for(;K<W.length;K++)W[K]=W[K].trim().replace(/\\\|/g,"|");return W}function T(ae,ue,q){var W=ae.length;if(W===0)return"";for(var K=0;K<W;){var ie=ae.charAt(W-K-1);if(ie===ue&&!q)K++;else if(ie!==ue&&q)K++;else break}return ae.slice(0,W-K)}function P(ae,ue){if(ae.indexOf(ue[1])===-1)return-1;for(var q=ae.length,W=0,K=0;K<q;K++)if(ae[K]==="\\")K++;else if(ae[K]===ue[0])W++;else if(ae[K]===ue[1]&&(W--,W<0))return K;return-1}function A(ae){ae&&ae.sanitize&&!ae.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function M(ae,ue){if(ue<1)return"";for(var q="";ue>1;)ue&1&&(q+=ae),ue>>=1,ae+=ae;return q+ae}function N(ae,ue,q,W){var K=ue.href,ie=ue.title?n(ue.title):null,ne=ae[1].replace(/\\([\[\]])/g,"$1");if(ae[0].charAt(0)!=="!"){W.state.inLink=!0;var oe={type:"link",raw:q,href:K,title:ie,text:ne,tokens:W.inlineTokens(ne)};return W.state.inLink=!1,oe}return{type:"image",raw:q,href:K,title:ie,text:n(ne)}}function O(ae,ue){var q=ae.match(/^(\s+)(?:```)/);if(q===null)return ue;var W=q[1];return ue.split(`
`).map(function(K){var ie=K.match(/^\s+/);if(ie===null)return K;var ne=ie[0];return ne.length>=W.length?K.slice(W.length):K}).join(`
`)}var x=function(){function ae(q){this.options=q||G.defaults}var ue=ae.prototype;return ue.space=function(W){var K=this.rules.block.newline.exec(W);if(K&&K[0].length>0)return{type:"space",raw:K[0]}},ue.code=function(W){var K=this.rules.block.code.exec(W);if(K){var ie=K[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:K[0],codeBlockStyle:"indented",text:this.options.pedantic?ie:T(ie,`
`)}}},ue.fences=function(W){var K=this.rules.block.fences.exec(W);if(K){var ie=K[0],ne=O(ie,K[3]||"");return{type:"code",raw:ie,lang:K[2]?K[2].trim():K[2],text:ne}}},ue.heading=function(W){var K=this.rules.block.heading.exec(W);if(K){var ie=K[2].trim();if(/#$/.test(ie)){var ne=T(ie,"#");(this.options.pedantic||!ne||/ $/.test(ne))&&(ie=ne.trim())}return{type:"heading",raw:K[0],depth:K[1].length,text:ie,tokens:this.lexer.inline(ie)}}},ue.hr=function(W){var K=this.rules.block.hr.exec(W);if(K)return{type:"hr",raw:K[0]}},ue.blockquote=function(W){var K=this.rules.block.blockquote.exec(W);if(K){var ie=K[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:K[0],tokens:this.lexer.blockTokens(ie,[]),text:ie}}},ue.list=function(W){var K=this.rules.block.list.exec(W);if(K){var ie,ne,oe,re,ge,ve,we,ye,Ie,Ee,De,Ae,Te=K[1].trim(),be=Te.length>1,me={type:"list",raw:"",ordered:be,start:be?+Te.slice(0,-1):"",loose:!1,items:[]};Te=be?"\\d{1,9}\\"+Te.slice(-1):"\\"+Te,this.options.pedantic&&(Te=be?Te:"[*+-]");for(var Se=new RegExp("^( {0,3}"+Te+")((?:[	 ][^\\n]*)?(?:\\n|$))");W&&(Ae=!1,!(!(K=Se.exec(W))||this.rules.block.hr.test(W)));){if(ie=K[0],W=W.substring(ie.length),ye=K[2].split(`
`,1)[0],Ie=W.split(`
`,1)[0],this.options.pedantic?(re=2,De=ye.trimLeft()):(re=K[2].search(/[^ ]/),re=re>4?1:re,De=ye.slice(re),re+=K[1].length),ve=!1,!ye&&/^ *$/.test(Ie)&&(ie+=Ie+`
`,W=W.substring(Ie.length+1),Ae=!0),!Ae)for(var he=new RegExp("^ {0,"+Math.min(3,re-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ce=new RegExp("^ {0,"+Math.min(3,re-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),pe=new RegExp("^ {0,"+Math.min(3,re-1)+"}(?:```|~~~)"),_e=new RegExp("^ {0,"+Math.min(3,re-1)+"}#");W&&(Ee=W.split(`
`,1)[0],ye=Ee,this.options.pedantic&&(ye=ye.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(pe.test(ye)||_e.test(ye)||he.test(ye)||Ce.test(W)));){if(ye.search(/[^ ]/)>=re||!ye.trim())De+=`
`+ye.slice(re);else if(!ve)De+=`
`+ye;else break;!ve&&!ye.trim()&&(ve=!0),ie+=Ee+`
`,W=W.substring(Ee.length+1)}me.loose||(we?me.loose=!0:/\n *\n *$/.test(ie)&&(we=!0)),this.options.gfm&&(ne=/^\[[ xX]\] /.exec(De),ne&&(oe=ne[0]!=="[ ] ",De=De.replace(/^\[[ xX]\] +/,""))),me.items.push({type:"list_item",raw:ie,task:!!ne,checked:oe,loose:!1,text:De}),me.raw+=ie}me.items[me.items.length-1].raw=ie.trimRight(),me.items[me.items.length-1].text=De.trimRight(),me.raw=me.raw.trimRight();var ke=me.items.length;for(ge=0;ge<ke;ge++){this.lexer.state.top=!1,me.items[ge].tokens=this.lexer.blockTokens(me.items[ge].text,[]);var Re=me.items[ge].tokens.filter(function(Fe){return Fe.type==="space"}),Pe=Re.every(function(Fe){for(var We=Fe.raw.split(""),xe=0,Ke=D(We),je;!(je=Ke()).done;){var Je=je.value;if(Je===`
`&&(xe+=1),xe>1)return!0}return!1});!me.loose&&Re.length&&Pe&&(me.loose=!0,me.items[ge].loose=!0)}return me}},ue.html=function(W){var K=this.rules.block.html.exec(W);if(K){var ie={type:"html",raw:K[0],pre:!this.options.sanitizer&&(K[1]==="pre"||K[1]==="script"||K[1]==="style"),text:K[0]};if(this.options.sanitize){var ne=this.options.sanitizer?this.options.sanitizer(K[0]):n(K[0]);ie.type="paragraph",ie.text=ne,ie.tokens=this.lexer.inline(ne)}return ie}},ue.def=function(W){var K=this.rules.block.def.exec(W);if(K){K[3]&&(K[3]=K[3].substring(1,K[3].length-1));var ie=K[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:ie,raw:K[0],href:K[2],title:K[3]}}},ue.table=function(W){var K=this.rules.block.table.exec(W);if(K){var ie={type:"table",header:I(K[1]).map(function(we){return{text:we}}),align:K[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:K[3]&&K[3].trim()?K[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(ie.header.length===ie.align.length){ie.raw=K[0];var ne=ie.align.length,oe,re,ge,ve;for(oe=0;oe<ne;oe++)/^ *-+: *$/.test(ie.align[oe])?ie.align[oe]="right":/^ *:-+: *$/.test(ie.align[oe])?ie.align[oe]="center":/^ *:-+ *$/.test(ie.align[oe])?ie.align[oe]="left":ie.align[oe]=null;for(ne=ie.rows.length,oe=0;oe<ne;oe++)ie.rows[oe]=I(ie.rows[oe],ie.header.length).map(function(we){return{text:we}});for(ne=ie.header.length,re=0;re<ne;re++)ie.header[re].tokens=this.lexer.inline(ie.header[re].text);for(ne=ie.rows.length,re=0;re<ne;re++)for(ve=ie.rows[re],ge=0;ge<ve.length;ge++)ve[ge].tokens=this.lexer.inline(ve[ge].text);return ie}}},ue.lheading=function(W){var K=this.rules.block.lheading.exec(W);if(K)return{type:"heading",raw:K[0],depth:K[2].charAt(0)==="="?1:2,text:K[1],tokens:this.lexer.inline(K[1])}},ue.paragraph=function(W){var K=this.rules.block.paragraph.exec(W);if(K){var ie=K[1].charAt(K[1].length-1)===`
`?K[1].slice(0,-1):K[1];return{type:"paragraph",raw:K[0],text:ie,tokens:this.lexer.inline(ie)}}},ue.text=function(W){var K=this.rules.block.text.exec(W);if(K)return{type:"text",raw:K[0],text:K[0],tokens:this.lexer.inline(K[0])}},ue.escape=function(W){var K=this.rules.inline.escape.exec(W);if(K)return{type:"escape",raw:K[0],text:n(K[1])}},ue.tag=function(W){var K=this.rules.inline.tag.exec(W);if(K)return!this.lexer.state.inLink&&/^<a /i.test(K[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(K[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(K[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(K[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:K[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(K[0]):n(K[0]):K[0]}},ue.link=function(W){var K=this.rules.inline.link.exec(W);if(K){var ie=K[2].trim();if(!this.options.pedantic&&/^</.test(ie)){if(!/>$/.test(ie))return;var ne=T(ie.slice(0,-1),"\\");if((ie.length-ne.length)%2===0)return}else{var oe=P(K[2],"()");if(oe>-1){var re=K[0].indexOf("!")===0?5:4,ge=re+K[1].length+oe;K[2]=K[2].substring(0,oe),K[0]=K[0].substring(0,ge).trim(),K[3]=""}}var ve=K[2],we="";if(this.options.pedantic){var ye=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ve);ye&&(ve=ye[1],we=ye[3])}else we=K[3]?K[3].slice(1,-1):"";return ve=ve.trim(),/^</.test(ve)&&(this.options.pedantic&&!/>$/.test(ie)?ve=ve.slice(1):ve=ve.slice(1,-1)),N(K,{href:ve&&ve.replace(this.rules.inline._escapes,"$1"),title:we&&we.replace(this.rules.inline._escapes,"$1")},K[0],this.lexer)}},ue.reflink=function(W,K){var ie;if((ie=this.rules.inline.reflink.exec(W))||(ie=this.rules.inline.nolink.exec(W))){var ne=(ie[2]||ie[1]).replace(/\s+/g," ");if(ne=K[ne.toLowerCase()],!ne||!ne.href){var oe=ie[0].charAt(0);return{type:"text",raw:oe,text:oe}}return N(ie,ne,ie[0],this.lexer)}},ue.emStrong=function(W,K,ie){ie===void 0&&(ie="");var ne=this.rules.inline.emStrong.lDelim.exec(W);if(ne&&!(ne[3]&&ie.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var oe=ne[1]||ne[2]||"";if(!oe||oe&&(ie===""||this.rules.inline.punctuation.exec(ie))){var re=ne[0].length-1,ge,ve,we=re,ye=0,Ie=ne[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ie.lastIndex=0,K=K.slice(-1*W.length+re);(ne=Ie.exec(K))!=null;)if(ge=ne[1]||ne[2]||ne[3]||ne[4]||ne[5]||ne[6],!!ge){if(ve=ge.length,ne[3]||ne[4]){we+=ve;continue}else if((ne[5]||ne[6])&&re%3&&!((re+ve)%3)){ye+=ve;continue}if(we-=ve,!(we>0)){if(ve=Math.min(ve,ve+we+ye),Math.min(re,ve)%2){var Ee=W.slice(1,re+ne.index+ve);return{type:"em",raw:W.slice(0,re+ne.index+ve+1),text:Ee,tokens:this.lexer.inlineTokens(Ee)}}var De=W.slice(2,re+ne.index+ve-1);return{type:"strong",raw:W.slice(0,re+ne.index+ve+1),text:De,tokens:this.lexer.inlineTokens(De)}}}}}},ue.codespan=function(W){var K=this.rules.inline.code.exec(W);if(K){var ie=K[2].replace(/\n/g," "),ne=/[^ ]/.test(ie),oe=/^ /.test(ie)&&/ $/.test(ie);return ne&&oe&&(ie=ie.substring(1,ie.length-1)),ie=n(ie,!0),{type:"codespan",raw:K[0],text:ie}}},ue.br=function(W){var K=this.rules.inline.br.exec(W);if(K)return{type:"br",raw:K[0]}},ue.del=function(W){var K=this.rules.inline.del.exec(W);if(K)return{type:"del",raw:K[0],text:K[2],tokens:this.lexer.inlineTokens(K[2])}},ue.autolink=function(W,K){var ie=this.rules.inline.autolink.exec(W);if(ie){var ne,oe;return ie[2]==="@"?(ne=n(this.options.mangle?K(ie[1]):ie[1]),oe="mailto:"+ne):(ne=n(ie[1]),oe=ne),{type:"link",raw:ie[0],text:ne,href:oe,tokens:[{type:"text",raw:ne,text:ne}]}}},ue.url=function(W,K){var ie;if(ie=this.rules.inline.url.exec(W)){var ne,oe;if(ie[2]==="@")ne=n(this.options.mangle?K(ie[0]):ie[0]),oe="mailto:"+ne;else{var re;do re=ie[0],ie[0]=this.rules.inline._backpedal.exec(ie[0])[0];while(re!==ie[0]);ne=n(ie[0]),ie[1]==="www."?oe="http://"+ne:oe=ne}return{type:"link",raw:ie[0],text:ne,href:oe,tokens:[{type:"text",raw:ne,text:ne}]}}},ue.inlineText=function(W,K){var ie=this.rules.inline.text.exec(W);if(ie){var ne;return this.lexer.state.inRawBlock?ne=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ie[0]):n(ie[0]):ie[0]:ne=n(this.options.smartypants?K(ie[0]):ie[0]),{type:"text",raw:ie[0],text:ne}}},ae}(),F={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:w,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};F._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,F._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,F.def=s(F.def).replace("label",F._label).replace("title",F._title).getRegex(),F.bullet=/(?:[*+-]|\d{1,9}[.)])/,F.listItemStart=s(/^( *)(bull) */).replace("bull",F.bullet).getRegex(),F.list=s(F.list).replace(/bull/g,F.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+F.def.source+")").getRegex(),F._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",F._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,F.html=s(F.html,"i").replace("comment",F._comment).replace("tag",F._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),F.paragraph=s(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.blockquote=s(F.blockquote).replace("paragraph",F.paragraph).getRegex(),F.normal=E({},F),F.gfm=E({},F.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),F.gfm.table=s(F.gfm.table).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.gfm.paragraph=s(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",F.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.pedantic=E({},F.normal,{html:s(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",F._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:w,paragraph:s(F.normal._paragraph).replace("hr",F.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",F.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var B={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:w,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:w,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};B._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",B.punctuation=s(B.punctuation).replace(/punctuation/g,B._punctuation).getRegex(),B.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,B.escapedEmSt=/\\\*|\\_/g,B._comment=s(F._comment).replace("(?:-->|$)","-->").getRegex(),B.emStrong.lDelim=s(B.emStrong.lDelim).replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimAst=s(B.emStrong.rDelimAst,"g").replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimUnd=s(B.emStrong.rDelimUnd,"g").replace(/punct/g,B._punctuation).getRegex(),B._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,B._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,B._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,B.autolink=s(B.autolink).replace("scheme",B._scheme).replace("email",B._email).getRegex(),B._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,B.tag=s(B.tag).replace("comment",B._comment).replace("attribute",B._attribute).getRegex(),B._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,B._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,B._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,B.link=s(B.link).replace("label",B._label).replace("href",B._href).replace("title",B._title).getRegex(),B.reflink=s(B.reflink).replace("label",B._label).replace("ref",F._label).getRegex(),B.nolink=s(B.nolink).replace("ref",F._label).getRegex(),B.reflinkSearch=s(B.reflinkSearch,"g").replace("reflink",B.reflink).replace("nolink",B.nolink).getRegex(),B.normal=E({},B),B.pedantic=E({},B.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:s(/^!?\[(label)\]\((.*?)\)/).replace("label",B._label).getRegex(),reflink:s(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",B._label).getRegex()}),B.gfm=E({},B.normal,{escape:s(B.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),B.gfm.url=s(B.gfm.url,"i").replace("email",B.gfm._extended_email).getRegex(),B.breaks=E({},B.gfm,{br:s(B.br).replace("{2,}","*").getRegex(),text:s(B.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function z(ae){return ae.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function j(ae){var ue="",q,W,K=ae.length;for(q=0;q<K;q++)W=ae.charCodeAt(q),Math.random()>.5&&(W="x"+W.toString(16)),ue+="&#"+W+";";return ue}var R=function(){function ae(q){this.tokens=[],this.tokens.links=Object.create(null),this.options=q||G.defaults,this.options.tokenizer=this.options.tokenizer||new x,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var W={block:F.normal,inline:B.normal};this.options.pedantic?(W.block=F.pedantic,W.inline=B.pedantic):this.options.gfm&&(W.block=F.gfm,this.options.breaks?W.inline=B.breaks:W.inline=B.gfm),this.tokenizer.rules=W}ae.lex=function(W,K){var ie=new ae(K);return ie.lex(W)},ae.lexInline=function(W,K){var ie=new ae(K);return ie.inlineTokens(W)};var ue=ae.prototype;return ue.lex=function(W){W=W.replace(/\r\n|\r/g,`
`),this.blockTokens(W,this.tokens);for(var K;K=this.inlineQueue.shift();)this.inlineTokens(K.src,K.tokens);return this.tokens},ue.blockTokens=function(W,K){var ie=this;K===void 0&&(K=[]),this.options.pedantic?W=W.replace(/\t/g,"    ").replace(/^ +$/gm,""):W=W.replace(/^( *)(\t+)/gm,function(we,ye,Ie){return ye+"    ".repeat(Ie.length)});for(var ne,oe,re,ge;W;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(we){return(ne=we.call({lexer:ie},W,K))?(W=W.substring(ne.raw.length),K.push(ne),!0):!1}))){if(ne=this.tokenizer.space(W)){W=W.substring(ne.raw.length),ne.raw.length===1&&K.length>0?K[K.length-1].raw+=`
`:K.push(ne);continue}if(ne=this.tokenizer.code(W)){W=W.substring(ne.raw.length),oe=K[K.length-1],oe&&(oe.type==="paragraph"||oe.type==="text")?(oe.raw+=`
`+ne.raw,oe.text+=`
`+ne.text,this.inlineQueue[this.inlineQueue.length-1].src=oe.text):K.push(ne);continue}if(ne=this.tokenizer.fences(W)){W=W.substring(ne.raw.length),K.push(ne);continue}if(ne=this.tokenizer.heading(W)){W=W.substring(ne.raw.length),K.push(ne);continue}if(ne=this.tokenizer.hr(W)){W=W.substring(ne.raw.length),K.push(ne);continue}if(ne=this.tokenizer.blockquote(W)){W=W.substring(ne.raw.length),K.push(ne);continue}if(ne=this.tokenizer.list(W)){W=W.substring(ne.raw.length),K.push(ne);continue}if(ne=this.tokenizer.html(W)){W=W.substring(ne.raw.length),K.push(ne);continue}if(ne=this.tokenizer.def(W)){W=W.substring(ne.raw.length),oe=K[K.length-1],oe&&(oe.type==="paragraph"||oe.type==="text")?(oe.raw+=`
`+ne.raw,oe.text+=`
`+ne.raw,this.inlineQueue[this.inlineQueue.length-1].src=oe.text):this.tokens.links[ne.tag]||(this.tokens.links[ne.tag]={href:ne.href,title:ne.title});continue}if(ne=this.tokenizer.table(W)){W=W.substring(ne.raw.length),K.push(ne);continue}if(ne=this.tokenizer.lheading(W)){W=W.substring(ne.raw.length),K.push(ne);continue}if(re=W,this.options.extensions&&this.options.extensions.startBlock&&function(){var we=1/0,ye=W.slice(1),Ie=void 0;ie.options.extensions.startBlock.forEach(function(Ee){Ie=Ee.call({lexer:this},ye),typeof Ie=="number"&&Ie>=0&&(we=Math.min(we,Ie))}),we<1/0&&we>=0&&(re=W.substring(0,we+1))}(),this.state.top&&(ne=this.tokenizer.paragraph(re))){oe=K[K.length-1],ge&&oe.type==="paragraph"?(oe.raw+=`
`+ne.raw,oe.text+=`
`+ne.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=oe.text):K.push(ne),ge=re.length!==W.length,W=W.substring(ne.raw.length);continue}if(ne=this.tokenizer.text(W)){W=W.substring(ne.raw.length),oe=K[K.length-1],oe&&oe.type==="text"?(oe.raw+=`
`+ne.raw,oe.text+=`
`+ne.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=oe.text):K.push(ne);continue}if(W){var ve="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(ve);break}else throw new Error(ve)}}return this.state.top=!0,K},ue.inline=function(W,K){return K===void 0&&(K=[]),this.inlineQueue.push({src:W,tokens:K}),K},ue.inlineTokens=function(W,K){var ie=this;K===void 0&&(K=[]);var ne,oe,re,ge=W,ve,we,ye;if(this.tokens.links){var Ie=Object.keys(this.tokens.links);if(Ie.length>0)for(;(ve=this.tokenizer.rules.inline.reflinkSearch.exec(ge))!=null;)Ie.includes(ve[0].slice(ve[0].lastIndexOf("[")+1,-1))&&(ge=ge.slice(0,ve.index)+"["+M("a",ve[0].length-2)+"]"+ge.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ve=this.tokenizer.rules.inline.blockSkip.exec(ge))!=null;)ge=ge.slice(0,ve.index)+"["+M("a",ve[0].length-2)+"]"+ge.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ve=this.tokenizer.rules.inline.escapedEmSt.exec(ge))!=null;)ge=ge.slice(0,ve.index)+"++"+ge.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;W;)if(we||(ye=""),we=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(De){return(ne=De.call({lexer:ie},W,K))?(W=W.substring(ne.raw.length),K.push(ne),!0):!1}))){if(ne=this.tokenizer.escape(W)){W=W.substring(ne.raw.length),K.push(ne);continue}if(ne=this.tokenizer.tag(W)){W=W.substring(ne.raw.length),oe=K[K.length-1],oe&&ne.type==="text"&&oe.type==="text"?(oe.raw+=ne.raw,oe.text+=ne.text):K.push(ne);continue}if(ne=this.tokenizer.link(W)){W=W.substring(ne.raw.length),K.push(ne);continue}if(ne=this.tokenizer.reflink(W,this.tokens.links)){W=W.substring(ne.raw.length),oe=K[K.length-1],oe&&ne.type==="text"&&oe.type==="text"?(oe.raw+=ne.raw,oe.text+=ne.text):K.push(ne);continue}if(ne=this.tokenizer.emStrong(W,ge,ye)){W=W.substring(ne.raw.length),K.push(ne);continue}if(ne=this.tokenizer.codespan(W)){W=W.substring(ne.raw.length),K.push(ne);continue}if(ne=this.tokenizer.br(W)){W=W.substring(ne.raw.length),K.push(ne);continue}if(ne=this.tokenizer.del(W)){W=W.substring(ne.raw.length),K.push(ne);continue}if(ne=this.tokenizer.autolink(W,j)){W=W.substring(ne.raw.length),K.push(ne);continue}if(!this.state.inLink&&(ne=this.tokenizer.url(W,j))){W=W.substring(ne.raw.length),K.push(ne);continue}if(re=W,this.options.extensions&&this.options.extensions.startInline&&function(){var De=1/0,Ae=W.slice(1),Te=void 0;ie.options.extensions.startInline.forEach(function(be){Te=be.call({lexer:this},Ae),typeof Te=="number"&&Te>=0&&(De=Math.min(De,Te))}),De<1/0&&De>=0&&(re=W.substring(0,De+1))}(),ne=this.tokenizer.inlineText(re,z)){W=W.substring(ne.raw.length),ne.raw.slice(-1)!=="_"&&(ye=ne.raw.slice(-1)),we=!0,oe=K[K.length-1],oe&&oe.type==="text"?(oe.raw+=ne.raw,oe.text+=ne.text):K.push(ne);continue}if(W){var Ee="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(Ee);break}else throw new Error(Ee)}}return K},y(ae,null,[{key:"rules",get:function(){return{block:F,inline:B}}}]),ae}(),Z=function(){function ae(q){this.options=q||G.defaults}var ue=ae.prototype;return ue.code=function(W,K,ie){var ne=(K||"").match(/\S*/)[0];if(this.options.highlight){var oe=this.options.highlight(W,ne);oe!=null&&oe!==W&&(ie=!0,W=oe)}return W=W.replace(/\n$/,"")+`
`,ne?'<pre><code class="'+this.options.langPrefix+n(ne,!0)+'">'+(ie?W:n(W,!0))+`</code></pre>
`:"<pre><code>"+(ie?W:n(W,!0))+`</code></pre>
`},ue.blockquote=function(W){return`<blockquote>
`+W+`</blockquote>
`},ue.html=function(W){return W},ue.heading=function(W,K,ie,ne){if(this.options.headerIds){var oe=this.options.headerPrefix+ne.slug(ie);return"<h"+K+' id="'+oe+'">'+W+"</h"+K+`>
`}return"<h"+K+">"+W+"</h"+K+`>
`},ue.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ue.list=function(W,K,ie){var ne=K?"ol":"ul",oe=K&&ie!==1?' start="'+ie+'"':"";return"<"+ne+oe+`>
`+W+"</"+ne+`>
`},ue.listitem=function(W){return"<li>"+W+`</li>
`},ue.checkbox=function(W){return"<input "+(W?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ue.paragraph=function(W){return"<p>"+W+`</p>
`},ue.table=function(W,K){return K&&(K="<tbody>"+K+"</tbody>"),`<table>
<thead>
`+W+`</thead>
`+K+`</table>
`},ue.tablerow=function(W){return`<tr>
`+W+`</tr>
`},ue.tablecell=function(W,K){var ie=K.header?"th":"td",ne=K.align?"<"+ie+' align="'+K.align+'">':"<"+ie+">";return ne+W+("</"+ie+`>
`)},ue.strong=function(W){return"<strong>"+W+"</strong>"},ue.em=function(W){return"<em>"+W+"</em>"},ue.codespan=function(W){return"<code>"+W+"</code>"},ue.br=function(){return this.options.xhtml?"<br/>":"<br>"},ue.del=function(W){return"<del>"+W+"</del>"},ue.link=function(W,K,ie){if(W=d(this.options.sanitize,this.options.baseUrl,W),W===null)return ie;var ne='<a href="'+n(W)+'"';return K&&(ne+=' title="'+K+'"'),ne+=">"+ie+"</a>",ne},ue.image=function(W,K,ie){if(W=d(this.options.sanitize,this.options.baseUrl,W),W===null)return ie;var ne='<img src="'+W+'" alt="'+ie+'"';return K&&(ne+=' title="'+K+'"'),ne+=this.options.xhtml?"/>":">",ne},ue.text=function(W){return W},ae}(),se=function(){function ae(){}var ue=ae.prototype;return ue.strong=function(W){return W},ue.em=function(W){return W},ue.codespan=function(W){return W},ue.del=function(W){return W},ue.html=function(W){return W},ue.text=function(W){return W},ue.link=function(W,K,ie){return""+ie},ue.image=function(W,K,ie){return""+ie},ue.br=function(){return""},ae}(),le=function(){function ae(){this.seen={}}var ue=ae.prototype;return ue.serialize=function(W){return W.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ue.getNextSafeSlug=function(W,K){var ie=W,ne=0;if(this.seen.hasOwnProperty(ie)){ne=this.seen[W];do ne++,ie=W+"-"+ne;while(this.seen.hasOwnProperty(ie))}return K||(this.seen[W]=ne,this.seen[ie]=0),ie},ue.slug=function(W,K){K===void 0&&(K={});var ie=this.serialize(W);return this.getNextSafeSlug(ie,K.dryrun)},ae}(),te=function(){function ae(q){this.options=q||G.defaults,this.options.renderer=this.options.renderer||new Z,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new se,this.slugger=new le}ae.parse=function(W,K){var ie=new ae(K);return ie.parse(W)},ae.parseInline=function(W,K){var ie=new ae(K);return ie.parseInline(W)};var ue=ae.prototype;return ue.parse=function(W,K){K===void 0&&(K=!0);var ie="",ne,oe,re,ge,ve,we,ye,Ie,Ee,De,Ae,Te,be,me,Se,he,Ce,pe,_e,ke=W.length;for(ne=0;ne<ke;ne++){if(De=W[ne],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[De.type]&&(_e=this.options.extensions.renderers[De.type].call({parser:this},De),_e!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(De.type))){ie+=_e||"";continue}switch(De.type){case"space":continue;case"hr":{ie+=this.renderer.hr();continue}case"heading":{ie+=this.renderer.heading(this.parseInline(De.tokens),De.depth,l(this.parseInline(De.tokens,this.textRenderer)),this.slugger);continue}case"code":{ie+=this.renderer.code(De.text,De.lang,De.escaped);continue}case"table":{for(Ie="",ye="",ge=De.header.length,oe=0;oe<ge;oe++)ye+=this.renderer.tablecell(this.parseInline(De.header[oe].tokens),{header:!0,align:De.align[oe]});for(Ie+=this.renderer.tablerow(ye),Ee="",ge=De.rows.length,oe=0;oe<ge;oe++){for(we=De.rows[oe],ye="",ve=we.length,re=0;re<ve;re++)ye+=this.renderer.tablecell(this.parseInline(we[re].tokens),{header:!1,align:De.align[re]});Ee+=this.renderer.tablerow(ye)}ie+=this.renderer.table(Ie,Ee);continue}case"blockquote":{Ee=this.parse(De.tokens),ie+=this.renderer.blockquote(Ee);continue}case"list":{for(Ae=De.ordered,Te=De.start,be=De.loose,ge=De.items.length,Ee="",oe=0;oe<ge;oe++)Se=De.items[oe],he=Se.checked,Ce=Se.task,me="",Se.task&&(pe=this.renderer.checkbox(he),be?Se.tokens.length>0&&Se.tokens[0].type==="paragraph"?(Se.tokens[0].text=pe+" "+Se.tokens[0].text,Se.tokens[0].tokens&&Se.tokens[0].tokens.length>0&&Se.tokens[0].tokens[0].type==="text"&&(Se.tokens[0].tokens[0].text=pe+" "+Se.tokens[0].tokens[0].text)):Se.tokens.unshift({type:"text",text:pe}):me+=pe),me+=this.parse(Se.tokens,be),Ee+=this.renderer.listitem(me,Ce,he);ie+=this.renderer.list(Ee,Ae,Te);continue}case"html":{ie+=this.renderer.html(De.text);continue}case"paragraph":{ie+=this.renderer.paragraph(this.parseInline(De.tokens));continue}case"text":{for(Ee=De.tokens?this.parseInline(De.tokens):De.text;ne+1<ke&&W[ne+1].type==="text";)De=W[++ne],Ee+=`
`+(De.tokens?this.parseInline(De.tokens):De.text);ie+=K?this.renderer.paragraph(Ee):Ee;continue}default:{var Re='Token with "'+De.type+'" type was not found.';if(this.options.silent){console.error(Re);return}else throw new Error(Re)}}}return ie},ue.parseInline=function(W,K){K=K||this.renderer;var ie="",ne,oe,re,ge=W.length;for(ne=0;ne<ge;ne++){if(oe=W[ne],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[oe.type]&&(re=this.options.extensions.renderers[oe.type].call({parser:this},oe),re!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(oe.type))){ie+=re||"";continue}switch(oe.type){case"escape":{ie+=K.text(oe.text);break}case"html":{ie+=K.html(oe.text);break}case"link":{ie+=K.link(oe.href,oe.title,this.parseInline(oe.tokens,K));break}case"image":{ie+=K.image(oe.href,oe.title,oe.text);break}case"strong":{ie+=K.strong(this.parseInline(oe.tokens,K));break}case"em":{ie+=K.em(this.parseInline(oe.tokens,K));break}case"codespan":{ie+=K.codespan(oe.text);break}case"br":{ie+=K.br();break}case"del":{ie+=K.del(this.parseInline(oe.tokens,K));break}case"text":{ie+=K.text(oe.text);break}default:{var ve='Token with "'+oe.type+'" type was not found.';if(this.options.silent){console.error(ve);return}else throw new Error(ve)}}}return ie},ae}();function Y(ae,ue,q){if(typeof ae>"u"||ae===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ae!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ae)+", string expected");if(typeof ue=="function"&&(q=ue,ue=null),ue=E({},Y.defaults,ue||{}),A(ue),q){var W=ue.highlight,K;try{K=R.lex(ae,ue)}catch(ge){return q(ge)}var ie=function(ve){var we;if(!ve)try{ue.walkTokens&&Y.walkTokens(K,ue.walkTokens),we=te.parse(K,ue)}catch(ye){ve=ye}return ue.highlight=W,ve?q(ve):q(null,we)};if(!W||W.length<3||(delete ue.highlight,!K.length))return ie();var ne=0;Y.walkTokens(K,function(ge){ge.type==="code"&&(ne++,setTimeout(function(){W(ge.text,ge.lang,function(ve,we){if(ve)return ie(ve);we!=null&&we!==ge.text&&(ge.text=we,ge.escaped=!0),ne--,ne===0&&ie()})},0))}),ne===0&&ie();return}function oe(ge){if(ge.message+=`
Please report this to https://github.com/markedjs/marked.`,ue.silent)return"<p>An error occurred:</p><pre>"+n(ge.message+"",!0)+"</pre>";throw ge}try{var re=R.lex(ae,ue);if(ue.walkTokens){if(ue.async)return Promise.all(Y.walkTokens(re,ue.walkTokens)).then(function(){return te.parse(re,ue)}).catch(oe);Y.walkTokens(re,ue.walkTokens)}return te.parse(re,ue)}catch(ge){oe(ge)}}Y.options=Y.setOptions=function(ae){return E(Y.defaults,ae),m(Y.defaults),Y},Y.getDefaults=_,Y.defaults=G.defaults,Y.use=function(){for(var ae=arguments.length,ue=new Array(ae),q=0;q<ae;q++)ue[q]=arguments[q];var W=E.apply(void 0,[{}].concat(ue)),K=Y.defaults.extensions||{renderers:{},childTokens:{}},ie;ue.forEach(function(ne){if(ne.extensions&&(ie=!0,ne.extensions.forEach(function(re){if(!re.name)throw new Error("extension name required");if(re.renderer){var ge=K.renderers?K.renderers[re.name]:null;ge?K.renderers[re.name]=function(){for(var ve=arguments.length,we=new Array(ve),ye=0;ye<ve;ye++)we[ye]=arguments[ye];var Ie=re.renderer.apply(this,we);return Ie===!1&&(Ie=ge.apply(this,we)),Ie}:K.renderers[re.name]=re.renderer}if(re.tokenizer){if(!re.level||re.level!=="block"&&re.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");K[re.level]?K[re.level].unshift(re.tokenizer):K[re.level]=[re.tokenizer],re.start&&(re.level==="block"?K.startBlock?K.startBlock.push(re.start):K.startBlock=[re.start]:re.level==="inline"&&(K.startInline?K.startInline.push(re.start):K.startInline=[re.start]))}re.childTokens&&(K.childTokens[re.name]=re.childTokens)})),ne.renderer&&function(){var re=Y.defaults.renderer||new Z,ge=function(ye){var Ie=re[ye];re[ye]=function(){for(var Ee=arguments.length,De=new Array(Ee),Ae=0;Ae<Ee;Ae++)De[Ae]=arguments[Ae];var Te=ne.renderer[ye].apply(re,De);return Te===!1&&(Te=Ie.apply(re,De)),Te}};for(var ve in ne.renderer)ge(ve);W.renderer=re}(),ne.tokenizer&&function(){var re=Y.defaults.tokenizer||new x,ge=function(ye){var Ie=re[ye];re[ye]=function(){for(var Ee=arguments.length,De=new Array(Ee),Ae=0;Ae<Ee;Ae++)De[Ae]=arguments[Ae];var Te=ne.tokenizer[ye].apply(re,De);return Te===!1&&(Te=Ie.apply(re,De)),Te}};for(var ve in ne.tokenizer)ge(ve);W.tokenizer=re}(),ne.walkTokens){var oe=Y.defaults.walkTokens;W.walkTokens=function(re){var ge=[];return ge.push(ne.walkTokens.call(this,re)),oe&&(ge=ge.concat(oe.call(this,re))),ge}}ie&&(W.extensions=K),Y.setOptions(W)})},Y.walkTokens=function(ae,ue){for(var q=[],W=function(){var oe=ie.value;switch(q=q.concat(ue.call(Y,oe)),oe.type){case"table":{for(var re=D(oe.header),ge;!(ge=re()).done;){var ve=ge.value;q=q.concat(Y.walkTokens(ve.tokens,ue))}for(var we=D(oe.rows),ye;!(ye=we()).done;)for(var Ie=ye.value,Ee=D(Ie),De;!(De=Ee()).done;){var Ae=De.value;q=q.concat(Y.walkTokens(Ae.tokens,ue))}break}case"list":{q=q.concat(Y.walkTokens(oe.items,ue));break}default:Y.defaults.extensions&&Y.defaults.extensions.childTokens&&Y.defaults.extensions.childTokens[oe.type]?Y.defaults.extensions.childTokens[oe.type].forEach(function(Te){q=q.concat(Y.walkTokens(oe[Te],ue))}):oe.tokens&&(q=q.concat(Y.walkTokens(oe.tokens,ue)))}},K=D(ae),ie;!(ie=K()).done;)W();return q},Y.parseInline=function(ae,ue){if(typeof ae>"u"||ae===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ae!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ae)+", string expected");ue=E({},Y.defaults,ue||{}),A(ue);try{var q=R.lexInline(ae,ue);return ue.walkTokens&&Y.walkTokens(q,ue.walkTokens),te.parseInline(q,ue)}catch(W){if(W.message+=`
Please report this to https://github.com/markedjs/marked.`,ue.silent)return"<p>An error occurred:</p><pre>"+n(W.message+"",!0)+"</pre>";throw W}},Y.Parser=te,Y.parser=te.parse,Y.Renderer=Z,Y.TextRenderer=se,Y.Lexer=R,Y.lexer=R.lex,Y.Tokenizer=x,Y.Slugger=le,Y.parse=Y;var U=Y.options,V=Y.setOptions,H=Y.use,$=Y.walkTokens,X=Y.parseInline,Q=Y,de=te.parse,ce=R.lex;G.Lexer=R,G.Parser=te,G.Renderer=Z,G.Slugger=le,G.TextRenderer=se,G.Tokenizer=x,G.getDefaults=_,G.lexer=ce,G.marked=Y,G.options=U,G.parse=Q,G.parseInline=X,G.parser=de,G.setOptions=V,G.use=H,G.walkTokens=$,Object.defineProperty(G,"__esModule",{value:!0})}),define(J[106],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(J[198],ee([1,0,106]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:y.Mimes.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}}),define(J[383],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class y{constructor(L,D=0,_=L.length,m=D-1){this.items=L,this.start=D,this.end=_,this.index=m}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=y}),define(J[384],ee([1,0,383]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(D=[],_=10){this._initialize(D),this._limit=_,this._onChange()}getHistory(){return this._elements}add(D){this._history.delete(D),this._history.add(D),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(D){return this._history.has(D)}_onChange(){this._reduceToLimit();const D=this._elements;this._navigator=new y.ArrayNavigator(D,0,D.length,D.length)}_reduceToLimit(){const D=this._elements;D.length>this._limit&&this._initialize(D.slice(D.length-this._limit))}_currentPosition(){const D=this._navigator.current();return D?this._elements.indexOf(D):-1}_initialize(D){this._history=new Set;for(const _ of D)this._history.add(_)}get _elements(){const D=[];return this._history.forEach(_=>D.push(_)),D}}e.HistoryNavigator=k}),define(J[142],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function y(D,_,m){return Math.min(Math.max(D,_),m)}e.clamp=y;class k{constructor(){this._n=1,this._val=0}update(_){return this._val=this._val+(_-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=k;class L{constructor(_){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(_),this._values.fill(0,0,_)}update(_){const m=this._values[this._index];return this._values[this._index]=_,this._index=(this._index+1)%this._values.length,this._sum-=m,this._sum+=_,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=L}),define(J[143],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleObservableLogger=e.getLogger=e.setLogger=void 0;let y;function k(r){y=r}e.setLogger=k;function L(){return y}e.getLogger=L;class D{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(l){return _([m(t("|  ",this.indentation)),l])}formatInfo(l){return l.didChange?[m(" "),f(v(l.oldValue,70),{color:"red",strikeThrough:!0}),m(" "),f(v(l.newValue,60),{color:"green"})]:[m(" (unchanged)")]}handleObservableChanged(l,h){console.log(...this.textToConsoleArgs([S("observable value changed"),f(l.debugName,{color:"BlueViolet"}),...this.formatInfo(h)]))}formatChanges(l){if(l.size!==0)return f(" (changed deps: "+[...l].map(h=>h.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(l){const h=l.handleChange;this.changedObservablesSets.set(l,new Set),l.handleChange=(s,u)=>(this.changedObservablesSets.get(l).add(s),h.apply(l,[s,u]))}handleDerivedRecomputed(l,h){const s=this.changedObservablesSets.get(l);console.log(...this.textToConsoleArgs([S("derived recomputed"),f(l.debugName,{color:"BlueViolet"}),...this.formatInfo(h),this.formatChanges(s)])),s.clear()}handleFromEventObservableTriggered(l,h){console.log(...this.textToConsoleArgs([S("observable from event triggered"),f(l.debugName,{color:"BlueViolet"}),...this.formatInfo(h)]))}handleAutorunCreated(l){const h=l.handleChange;this.changedObservablesSets.set(l,new Set),l.handleChange=(s,u)=>(this.changedObservablesSets.get(l).add(s),h.apply(l,[s,u]))}handleAutorunTriggered(l){const h=this.changedObservablesSets.get(l);console.log(...this.textToConsoleArgs([S("autorun"),f(l.debugName,{color:"BlueViolet"}),this.formatChanges(h)])),h.clear()}handleBeginTransaction(l){let h=l.getDebugName();h===void 0&&(h=""),console.log(...this.textToConsoleArgs([S("transaction"),f(h,{color:"BlueViolet"})])),this.indentation++}handleEndTransaction(){this.indentation--}}e.ConsoleObservableLogger=D;function _(r){const l=new Array,s={};let u="";function a(c){if("length"in c)for(const b of c)b&&a(b);else"text"in c?(u+=`%c${c.text}`,l.push(c.style),c.data&&Object.assign(s,c.data)):"data"in c&&Object.assign(s,c.data)}a(r);const d=[u,...l];return Object.keys(s).length>0&&d.push(s),d}function m(r){return f(r,{color:"black"})}function S(r){return f(n(`${r}: `,10),{color:"black",bold:!0})}function f(r,l={color:"black"}){function h(u){return Object.entries(u).reduce((a,[d,c])=>`${a}${d}:${c};`,"")}const s={color:l.color};return l.strikeThrough&&(s["text-decoration"]="line-through"),l.bold&&(s["font-weight"]="bold"),{text:r,style:h(s)}}function v(r,l){switch(typeof r){case"number":return""+r;case"string":return r.length+2<=l?`"${r}"`:`"${r.substr(0,l-7)}"+...`;case"boolean":return r?"true":"false";case"undefined":return"undefined";case"object":return r===null?"null":Array.isArray(r)?o(r,l):i(r,l);case"symbol":return r.toString();case"function":return`[[Function${r.name?" "+r.name:""}]]`;default:return""+r}}function o(r,l){let h="[ ",s=!0;for(const u of r){if(s||(h+=", "),h.length-5>l){h+="...";break}s=!1,h+=`${v(u,l-h.length)}`}return h+=" ]",h}function i(r,l){let h="{ ",s=!0;for(const[u,a]of Object.entries(r)){if(s||(h+=", "),h.length-5>l){h+="...";break}s=!1,h+=`${u}: ${v(a,l-h.length)}`}return h+=" }",h}function t(r,l){let h="";for(let s=1;s<=l;s++)h+=r;return h}function n(r,l){for(;r.length<l;)r+=" ";return r}}),define(J[86],ee([1,0,85,2,143]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutorunObserver=e.autorunWithStore=e.autorunWithStore2=e.autorunHandleChanges=e.autorun=void 0;function D(v,o){return new f(v,o,void 0,void 0)}e.autorun=D;function _(v,o,i){return new f(v,i,o.createEmptyChangeSummary,o.handleChange)}e.autorunHandleChanges=_;function m(v,o){return S(o,v)}e.autorunWithStore2=m;function S(v,o){const i=new k.DisposableStore,t=D(o,n=>{i.clear(),v(n,i)});return(0,k.toDisposable)(()=>{t.dispose(),i.dispose()})}e.autorunWithStore=S;class f{constructor(o,i,t,n){var r,l;this.debugName=o,this.runFn=i,this.createChangeSummary=t,this._handleChange=n,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(r=this.createChangeSummary)===null||r===void 0?void 0:r.call(this),(l=(0,L.getLogger)())===null||l===void 0||l.handleAutorunCreated(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const o of this.dependencies)o.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var o,i;if(this.state===3)return;const t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3,(o=(0,L.getLogger)())===null||o===void 0||o.handleAutorunTriggered(this);try{const n=this.changeSummary;this.changeSummary=(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this),this.runFn(this,n)}finally{for(const n of this.dependenciesToBeRemoved)n.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const o of this.dependencies)if(o.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,y.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(o){this.state===3&&this.dependencies.has(o)&&!this.dependenciesToBeRemoved.has(o)&&(this.state=1)}handleChange(o,i){this.dependencies.has(o)&&!this.dependenciesToBeRemoved.has(o)&&(!this._handleChange||this._handleChange({changedObservable:o,change:i,didChange:n=>n===o},this.changeSummary))&&(this.state=2)}readObservable(o){if(this.disposed)return o.get();o.addObserver(this);const i=o.get();return this.dependencies.add(o),this.dependenciesToBeRemoved.delete(o),i}}e.AutorunObserver=f,function(v){v.Observer=f}(D||(e.autorun=D={}))}),define(J[100],ee([1,0,143]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableObservableValue=e.disposableObservableValue=e.ObservableValue=e.observableValue=e.getFunctionName=e.TransactionImpl=e.subtransaction=e.transaction=e.BaseObservable=e.ConvenientObservable=e._setDerived=void 0;let k;function L(r){k=r}e._setDerived=L;class D{get TChange(){return null}reportChanges(){this.get()}read(l){return l?l.readObservable(this):this.get()}map(l){return k(()=>{const h=v(l);return h!==void 0?h:`${this.debugName} (mapped)`},h=>l(this.read(h),h))}}e.ConvenientObservable=D;class _ extends D{constructor(){super(...arguments),this.observers=new Set}addObserver(l){const h=this.observers.size;this.observers.add(l),h===0&&this.onFirstObserverAdded()}removeObserver(l){this.observers.delete(l)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}e.BaseObservable=_;function m(r,l){var h,s;const u=new f(r,l);try{(h=(0,y.getLogger)())===null||h===void 0||h.handleBeginTransaction(u),r(u)}finally{u.finish(),(s=(0,y.getLogger)())===null||s===void 0||s.handleEndTransaction()}}e.transaction=m;function S(r,l,h){r?l(r):m(l,h)}e.subtransaction=S;class f{constructor(l,h){this.fn=l,this._getDebugName=h,this.updatingObservers=[]}getDebugName(){return this._getDebugName?this._getDebugName():v(this.fn)}updateObserver(l,h){this.updatingObservers.push({observer:l,observable:h}),l.beginUpdate(h)}finish(){const l=this.updatingObservers;this.updatingObservers=null;for(const{observer:h,observable:s}of l)h.endUpdate(s)}}e.TransactionImpl=f;function v(r){const l=r.toString(),s=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(l),u=s?s[1]:void 0;return u?.trim()}e.getFunctionName=v;function o(r,l){return new i(r,l)}e.observableValue=o;class i extends _{constructor(l,h){super(),this.debugName=l,this._value=h}get(){return this._value}set(l,h,s){var u;if(this._value===l)return;let a;h||(h=a=new f(()=>{},()=>`Setting ${this.debugName}`));try{const d=this._value;this._setValue(l),(u=(0,y.getLogger)())===null||u===void 0||u.handleObservableChanged(this,{oldValue:d,newValue:l,change:s,didChange:!0});for(const c of this.observers)h.updateObserver(c,this),c.handleChange(this,s)}finally{a&&a.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(l){this._value=l}}e.ObservableValue=i;function t(r,l){return new n(r,l)}e.disposableObservableValue=t;class n extends i{_setValue(l){this._value!==l&&(this._value&&this._value.dispose(),this._value=l)}dispose(){var l;(l=this._value)===null||l===void 0||l.dispose()}}e.DisposableObservableValue=n}),define(J[144],ee([1,0,12,2,100,143]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Derived=e.derivedWithStore=e.derivedHandleChanges=e.derived=void 0;function _(v,o){return new f(v,o,void 0,void 0,void 0)}e.derived=_;function m(v,o,i){return new f(v,i,o.createEmptyChangeSummary,o.handleChange,void 0)}e.derivedHandleChanges=m;function S(v,o){const i=new k.DisposableStore;return new f(v,t=>(i.clear(),o(t,i)),void 0,void 0,()=>i.dispose())}e.derivedWithStore=S,(0,L._setDerived)(_);class f extends L.BaseObservable{get debugName(){return typeof this._debugName=="function"?this._debugName():this._debugName}constructor(o,i,t,n,r=void 0){var l,h;super(),this._debugName=o,this.computeFn=i,this.createChangeSummary=t,this._handleChange=n,this._handleLastObserverRemoved=r,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(l=this.createChangeSummary)===null||l===void 0?void 0:l.call(this),(h=(0,D.getLogger)())===null||h===void 0||h.handleDerivedCreated(this)}onLastObserverRemoved(){var o;this.state=0,this.value=void 0;for(const i of this.dependencies)i.removeObserver(this);this.dependencies.clear(),(o=this._handleLastObserverRemoved)===null||o===void 0||o.call(this)}get(){var o;if(this.observers.size===0){const i=this.computeFn(this,(o=this.createChangeSummary)===null||o===void 0?void 0:o.call(this));return this.onLastObserverRemoved(),i}else{do{if(this.state===1){this.state=3;for(const i of this.dependencies)if(i.reportChanges(),this.state===2)break}this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var o,i;if(this.state===3)return;const t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t;const n=this.state!==0,r=this.value;this.state=3;const l=this.changeSummary;this.changeSummary=(o=this.createChangeSummary)===null||o===void 0?void 0:o.call(this);try{this.value=this.computeFn(this,l)}finally{for(const s of this.dependenciesToBeRemoved)s.removeObserver(this);this.dependenciesToBeRemoved.clear()}const h=n&&r!==this.value;if((i=(0,D.getLogger)())===null||i===void 0||i.handleDerivedRecomputed(this,{oldValue:r,newValue:this.value,change:void 0,didChange:h}),h)for(const s of this.observers)s.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(o){this.updateCount++;const i=this.updateCount===1;if(this.state===3&&(this.state=1,!i))for(const t of this.observers)t.handlePossibleChange(this);if(i)for(const t of this.observers)t.beginUpdate(this)}endUpdate(o){if(this.updateCount--,this.updateCount===0){const i=[...this.observers];for(const t of i)t.endUpdate(this)}if(this.updateCount<0)throw new y.BugIndicatingError}handlePossibleChange(o){if(this.state===3&&this.dependencies.has(o)&&!this.dependenciesToBeRemoved.has(o)){this.state=1;for(const i of this.observers)i.handlePossibleChange(this)}}handleChange(o,i){if(this.dependencies.has(o)&&!this.dependenciesToBeRemoved.has(o)){const t=this._handleChange?this._handleChange({changedObservable:o,change:i,didChange:r=>r===o},this.changeSummary):!0,n=this.state===3;if(t&&(this.state===1||n)&&(this.state=2,n))for(const r of this.observers)r.handlePossibleChange(this)}}readObservable(o){o.addObserver(this);const i=o.get();return this.dependencies.add(o),this.dependenciesToBeRemoved.delete(o),i}addObserver(o){const i=!this.observers.has(o)&&this.updateCount>0;super.addObserver(o),i&&o.beginUpdate(this)}removeObserver(o){const i=this.observers.has(o)&&this.updateCount>0;super.removeObserver(o),i&&o.endUpdate(this)}}e.Derived=f}),define(J[385],ee([1,0,2,86,100,143]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.keepAlive=e.observableSignal=e.observableSignalFromEvent=e.FromEventObservable=e.observableFromEvent=e.waitForState=e.constObservable=void 0;function _(h){return new m(h)}e.constObservable=_;class m extends L.ConvenientObservable{constructor(s){super(),this.value=s}get debugName(){return this.toString()}get(){return this.value}addObserver(s){}removeObserver(s){}toString(){return`Const: ${this.value}`}}function S(h,s){return new Promise(u=>{let a=!1,d=!1;const c=(0,k.autorun)("waitForState",b=>{const g=h.read(b);s(g)&&(a?c.dispose():d=!0,u(g))});a=!0,d&&c.dispose()})}e.waitForState=S;function f(h,s){return new v(h,s)}e.observableFromEvent=f;class v extends L.BaseObservable{constructor(s,u){super(),this.event=s,this.getValue=u,this.hasValue=!1,this.handleEvent=a=>{var d;const c=this.getValue(a),b=!this.hasValue||this.value!==c;(d=(0,D.getLogger)())===null||d===void 0||d.handleFromEventObservableTriggered(this,{oldValue:this.value,newValue:c,change:void 0,didChange:b}),b&&(this.value=c,this.hasValue&&(0,L.transaction)(g=>{for(const p of this.observers)g.updateObserver(p,this),p.handleChange(this,void 0)},()=>{const g=this.getDebugName();return"Event fired"+(g?`: ${g}`:"")}),this.hasValue=!0)}}getDebugName(){return(0,L.getFunctionName)(this.getValue)}get debugName(){const s=this.getDebugName();return"From Event"+(s?`: ${s}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this.getValue(void 0)}}e.FromEventObservable=v,function(h){h.Observer=v}(f||(e.observableFromEvent=f={}));function o(h,s){return new i(h,s)}e.observableSignalFromEvent=o;class i extends L.BaseObservable{constructor(s,u){super(),this.debugName=s,this.event=u,this.handleEvent=()=>{(0,L.transaction)(a=>{for(const d of this.observers)a.updateObserver(d,this),d.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function t(h){return new n(h)}e.observableSignal=t;class n extends L.BaseObservable{constructor(s){super(),this.debugName=s}trigger(s,u){if(!s){(0,L.transaction)(a=>{this.trigger(a,u)},()=>`Trigger signal ${this.debugName}`);return}for(const a of this.observers)s.updateObserver(a,this),a.handleChange(this,u)}get(){}}function r(h,s){const u=new l(s??!1);return h.addObserver(u),s&&h.reportChanges(),(0,y.toDisposable)(()=>{h.removeObserver(u)})}e.keepAlive=r;class l{constructor(s){this.forceRecompute=s,this.counter=0}beginUpdate(s){this.counter++}endUpdate(s){this.counter--,this.counter===0&&this.forceRecompute&&s.reportChanges()}handlePossibleChange(s){}handleChange(s,u){}}});var li=this&&this.__createBinding||(Object.create?function(G,e,y,k){k===void 0&&(k=y);var L=Object.getOwnPropertyDescriptor(e,y);(!L||("get"in L?!e.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return e[y]}}),Object.defineProperty(G,k,L)}:function(G,e,y,k){k===void 0&&(k=y),G[k]=e[y]}),di=this&&this.__exportStar||function(G,e){for(var y in G)y!=="default"&&!Object.prototype.hasOwnProperty.call(e,y)&&li(e,G,y)};define(J[42],ee([1,0,100,144,86,385,143]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.derived=e.transaction=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return y.observableValue}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return y.transaction}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return k.derived}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return L.autorun}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return L.autorunHandleChanges}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return L.autorunWithStore}}),di(D,e),!1&&(0,_.setLogger)(new _.ConsoleObservableLogger)}),define(J[168],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var y;(function(k){function L(S,f){if(S.start>=f.end||f.start>=S.end)return{start:0,end:0};const v=Math.max(S.start,f.start),o=Math.min(S.end,f.end);return o-v<=0?{start:0,end:0}:{start:v,end:o}}k.intersect=L;function D(S){return S.end-S.start<=0}k.isEmpty=D;function _(S,f){return!D(L(S,f))}k.intersects=_;function m(S,f){const v=[],o={start:S.start,end:Math.min(f.start,S.end)},i={start:Math.max(f.end,S.start),end:S.end};return D(o)||v.push(o),D(i)||v.push(i),v}k.relativeComplement=m})(y||(e.Range=y={}))}),define(J[386],ee([1,0,168]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function k(S,f){const v=[];for(const o of f){if(S.start>=o.range.end)continue;if(S.end<o.range.start)break;const i=y.Range.intersect(S,o.range);y.Range.isEmpty(i)||v.push({range:i,size:o.size})}return v}e.groupIntersect=k;function L({start:S,end:f},v){return{start:S+v,end:f+v}}e.shift=L;function D(S){const f=[];let v=null;for(const o of S){const i=o.range.start,t=o.range.end,n=o.size;if(v&&n===v.size){v.range.end=t;continue}v={range:{start:i,end:t},size:n},f.push(v)}return f}e.consolidate=D;function _(...S){return D(S.reduce((f,v)=>f.concat(v),[]))}class m{get paddingTop(){return this._paddingTop}set paddingTop(f){this._size=this._size+f-this._paddingTop,this._paddingTop=f}constructor(f){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=f??0,this._size=this._paddingTop}splice(f,v,o=[]){const i=o.length-v,t=k({start:0,end:f},this.groups),n=k({start:f+v,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:L(l.range,i),size:l.size})),r=o.map((l,h)=>({range:{start:f+h,end:f+h+1},size:l.size}));this.groups=_(t,r,n),this._size=this._paddingTop+this.groups.reduce((l,h)=>l+h.size*(h.range.end-h.range.start),0)}get count(){const f=this.groups.length;return f?this.groups[f-1].range.end:0}get size(){return this._size}indexAt(f){if(f<0)return-1;if(f<this._paddingTop)return 0;let v=0,o=this._paddingTop;for(const i of this.groups){const t=i.range.end-i.range.start,n=o+t*i.size;if(f<n)return v+Math.floor((f-o)/i.size);v+=t,o=n}return v}indexAfter(f){return Math.min(this.indexAt(f)+1,this.count)}positionAt(f){if(f<0)return-1;let v=0,o=0;for(const i of this.groups){const t=i.range.end-i.range.start,n=o+t;if(f<n)return this._paddingTop+v+(f-o)*i.size;v+=t*i.size,o=n}return-1}}e.RangeMap=m}),define(J[59],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const y=globalThis.performance&&typeof globalThis.performance.now=="function";class k{static create(D){return new k(D)}constructor(D){this._now=y&&D===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}e.StopWatch=k}),define(J[6],ee([1,0,12,98,2,65,59]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.createEventDeliveryQueue=e.Emitter=e.EventProfiling=e.Event=void 0;const m=!1,S=!1;var f;(function(C){C.None=()=>L.Disposable.None;function w(Q){if(S){const{onDidAddListener:de}=Q,ce=t.create();let ae=0;Q.onDidAddListener=()=>{++ae===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),ce.print()),de?.()}}}function E(Q,de){return F(Q,()=>{},0,void 0,!0,void 0,de)}C.defer=E;function I(Q){return(de,ce=null,ae)=>{let ue=!1,q;return q=Q(W=>{if(!ue)return q?q.dispose():ue=!0,de.call(ce,W)},null,ae),ue&&q.dispose(),q}}C.once=I;function T(Q,de,ce){return x((ae,ue=null,q)=>Q(W=>ae.call(ue,de(W)),null,q),ce)}C.map=T;function P(Q,de,ce){return x((ae,ue=null,q)=>Q(W=>{de(W),ae.call(ue,W)},null,q),ce)}C.forEach=P;function A(Q,de,ce){return x((ae,ue=null,q)=>Q(W=>de(W)&&ae.call(ue,W),null,q),ce)}C.filter=A;function M(Q){return Q}C.signal=M;function N(...Q){return(de,ce=null,ae)=>(0,L.combinedDisposable)(...Q.map(ue=>ue(q=>de.call(ce,q),null,ae)))}C.any=N;function O(Q,de,ce,ae){let ue=ce;return T(Q,q=>(ue=de(ue,q),ue),ae)}C.reduce=O;function x(Q,de){let ce;const ae={onWillAddFirstListener(){ce=Q(ue.fire,ue)},onDidRemoveLastListener(){ce?.dispose()}};de||w(ae);const ue=new h(ae);return de?.add(ue),ue.event}function F(Q,de,ce=100,ae=!1,ue=!1,q,W){let K,ie,ne,oe=0,re;const ge={leakWarningThreshold:q,onWillAddFirstListener(){K=Q(we=>{oe++,ie=de(ie,we),ae&&!ne&&(ve.fire(ie),ie=void 0),re=()=>{const ye=ie;ie=void 0,ne=void 0,(!ae||oe>1)&&ve.fire(ye),oe=0},typeof ce=="number"?(clearTimeout(ne),ne=setTimeout(re,ce)):ne===void 0&&(ne=0,queueMicrotask(re))})},onWillRemoveListener(){ue&&oe>0&&re?.()},onDidRemoveLastListener(){re=void 0,K.dispose()}};W||w(ge);const ve=new h(ge);return W?.add(ve),ve.event}C.debounce=F;function B(Q,de=0,ce){return C.debounce(Q,(ae,ue)=>ae?(ae.push(ue),ae):[ue],de,void 0,!0,void 0,ce)}C.accumulate=B;function z(Q,de=(ae,ue)=>ae===ue,ce){let ae=!0,ue;return A(Q,q=>{const W=ae||!de(q,ue);return ae=!1,ue=q,W},ce)}C.latch=z;function j(Q,de,ce){return[C.filter(Q,de,ce),C.filter(Q,ae=>!de(ae),ce)]}C.split=j;function R(Q,de=!1,ce=[]){let ae=ce.slice(),ue=Q(K=>{ae?ae.push(K):W.fire(K)});const q=()=>{ae?.forEach(K=>W.fire(K)),ae=null},W=new h({onWillAddFirstListener(){ue||(ue=Q(K=>W.fire(K)))},onDidAddFirstListener(){ae&&(de?setTimeout(q):q())},onDidRemoveLastListener(){ue&&ue.dispose(),ue=null}});return W.event}C.buffer=R;class Z{constructor(de){this.event=de,this.disposables=new L.DisposableStore}map(de){return new Z(T(this.event,de,this.disposables))}forEach(de){return new Z(P(this.event,de,this.disposables))}filter(de){return new Z(A(this.event,de,this.disposables))}reduce(de,ce){return new Z(O(this.event,de,ce,this.disposables))}latch(){return new Z(z(this.event,void 0,this.disposables))}debounce(de,ce=100,ae=!1,ue=!1,q){return new Z(F(this.event,de,ce,ae,ue,q,this.disposables))}on(de,ce,ae){return this.event(de,ce,ae)}once(de,ce,ae){return I(this.event)(de,ce,ae)}dispose(){this.disposables.dispose()}}function se(Q){return new Z(Q)}C.chain=se;function le(Q,de,ce=ae=>ae){const ae=(...K)=>W.fire(ce(...K)),ue=()=>Q.on(de,ae),q=()=>Q.removeListener(de,ae),W=new h({onWillAddFirstListener:ue,onDidRemoveLastListener:q});return W.event}C.fromNodeEventEmitter=le;function te(Q,de,ce=ae=>ae){const ae=(...K)=>W.fire(ce(...K)),ue=()=>Q.addEventListener(de,ae),q=()=>Q.removeEventListener(de,ae),W=new h({onWillAddFirstListener:ue,onDidRemoveLastListener:q});return W.event}C.fromDOMEventEmitter=te;function Y(Q){return new Promise(de=>I(Q)(de))}C.toPromise=Y;function U(Q,de){return de(void 0),Q(ce=>de(ce))}C.runAndSubscribe=U;function V(Q,de){let ce=null;function ae(q){ce?.dispose(),ce=new L.DisposableStore,de(q,ce)}ae(void 0);const ue=Q(q=>ae(q));return(0,L.toDisposable)(()=>{ue.dispose(),ce?.dispose()})}C.runAndSubscribeWithStore=V;class H{constructor(de,ce){this._observable=de,this._counter=0,this._hasChanged=!1;const ae={onWillAddFirstListener:()=>{de.addObserver(this)},onDidRemoveLastListener:()=>{de.removeObserver(this)}};ce||w(ae),this.emitter=new h(ae),ce&&ce.add(this.emitter)}beginUpdate(de){this._counter++}handlePossibleChange(de){}handleChange(de,ce){this._hasChanged=!0}endUpdate(de){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function $(Q,de){return new H(Q,de).emitter.event}C.fromObservable=$;function X(Q){return de=>{let ce=0,ae=!1;const ue={beginUpdate(){ce++},endUpdate(){ce--,ce===0&&(Q.reportChanges(),ae&&(ae=!1,de()))},handlePossibleChange(){},handleChange(){ae=!0}};return Q.addObserver(ue),Q.reportChanges(),{dispose(){Q.removeObserver(ue)}}}}C.fromObservableLight=X})(f||(e.Event=f={}));class v{constructor(w){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${w}_${v._idPool++}`,v.all.add(this)}start(w){this._stopWatch=new _.StopWatch,this.listenerCount=w}stop(){if(this._stopWatch){const w=this._stopWatch.elapsed();this.durations.push(w),this.elapsedOverall+=w,this.invocationCount+=1,this._stopWatch=void 0}}}e.EventProfiling=v,v.all=new Set,v._idPool=0;let o=-1;class i{constructor(w,E=Math.random().toString(18).slice(2,5)){this.threshold=w,this.name=E,this._warnCountdown=0}dispose(){var w;(w=this._stacks)===null||w===void 0||w.clear()}check(w,E){const I=this.threshold;if(I<=0||E<I)return;this._stacks||(this._stacks=new Map);const T=this._stacks.get(w.value)||0;if(this._stacks.set(w.value,T+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=I*.5;let P,A=0;for(const[M,N]of this._stacks)(!P||A<N)&&(P=M,A=N);console.warn(`[${this.name}] potential listener LEAK detected, having ${E} listeners already. MOST frequent listener (${A}):`),console.warn(P)}return()=>{const P=this._stacks.get(w.value)||0;this._stacks.set(w.value,P-1)}}}class t{static create(){var w;return new t((w=new Error().stack)!==null&&w!==void 0?w:"")}constructor(w){this.value=w}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class n{constructor(w){this.value=w}}const r=2,l=(C,w)=>{if(C instanceof n)w(C);else for(let E=0;E<C.length;E++){const I=C[E];I&&w(I)}};class h{constructor(w){var E,I,T,P,A;this._size=0,this._options=w,this._leakageMon=o>0||!((E=this._options)===null||E===void 0)&&E.leakWarningThreshold?new i((T=(I=this._options)===null||I===void 0?void 0:I.leakWarningThreshold)!==null&&T!==void 0?T:o):void 0,this._perfMon=!((P=this._options)===null||P===void 0)&&P._profName?new v(this._options._profName):void 0,this._deliveryQueue=(A=this._options)===null||A===void 0?void 0:A.deliveryQueue}dispose(){var w,E,I,T;if(!this._disposed){if(this._disposed=!0,((w=this._deliveryQueue)===null||w===void 0?void 0:w.current)===this&&this._deliveryQueue.reset(),this._listeners){if(m){const P=this._listeners;queueMicrotask(()=>{l(P,A=>{var M;return(M=A.stack)===null||M===void 0?void 0:M.print()})})}this._listeners=void 0,this._size=0}(I=(E=this._options)===null||E===void 0?void 0:E.onDidRemoveLastListener)===null||I===void 0||I.call(E),(T=this._leakageMon)===null||T===void 0||T.dispose()}}get event(){var w;return(w=this._event)!==null&&w!==void 0||(this._event=(E,I,T)=>{var P,A,M,N,O;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),L.Disposable.None;if(this._disposed)return L.Disposable.None;I&&(E=E.bind(I));const x=new n(E);let F,B;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(x.stack=t.create(),F=this._leakageMon.check(x.stack,this._size+1)),m&&(x.stack=B??t.create()),this._listeners?this._listeners instanceof n?((O=this._deliveryQueue)!==null&&O!==void 0||(this._deliveryQueue=new u),this._listeners=[this._listeners,x]):this._listeners.push(x):((A=(P=this._options)===null||P===void 0?void 0:P.onWillAddFirstListener)===null||A===void 0||A.call(P,this),this._listeners=x,(N=(M=this._options)===null||M===void 0?void 0:M.onDidAddFirstListener)===null||N===void 0||N.call(M,this)),this._size++;const z=(0,L.toDisposable)(()=>{F?.(),this._removeListener(x)});return T instanceof L.DisposableStore?T.add(z):Array.isArray(T)&&T.push(z),z}),this._event}_removeListener(w){var E,I,T,P;if((I=(E=this._options)===null||E===void 0?void 0:E.onWillRemoveListener)===null||I===void 0||I.call(E,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(P=(T=this._options)===null||T===void 0?void 0:T.onDidRemoveLastListener)===null||P===void 0||P.call(T,this),this._size=0;return}const A=this._listeners,M=A.indexOf(w);if(M===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,A[M]=void 0;const N=this._deliveryQueue.current===this;if(this._size*r<=A.length){let O=0;for(let x=0;x<A.length;x++)A[x]?A[O++]=A[x]:N&&(this._deliveryQueue.end--,O<this._deliveryQueue.i&&this._deliveryQueue.i--);A.length=O}}_deliver(w,E){var I;if(!w)return;const T=((I=this._options)===null||I===void 0?void 0:I.onListenerError)||y.onUnexpectedError;if(!T){w.value(E);return}try{w.value(E)}catch(P){T(P)}}_deliverQueue(w){const E=w.current._listeners;for(;w.i<w.end;)this._deliver(E[w.i++],w.value);w.reset()}fire(w){var E,I,T,P;if(!((E=this._deliveryQueue)===null||E===void 0)&&E.current&&(this._deliverQueue(this._deliveryQueue),(I=this._perfMon)===null||I===void 0||I.stop()),(T=this._perfMon)===null||T===void 0||T.start(this._size),this._listeners)if(this._listeners instanceof n)this._deliver(this._listeners,w);else{const A=this._deliveryQueue;A.enqueue(this,w,this._listeners.length),this._deliverQueue(A)}(P=this._perfMon)===null||P===void 0||P.stop()}hasListeners(){return this._size>0}}e.Emitter=h;const s=()=>new u;e.createEventDeliveryQueue=s;class u{constructor(){this.i=-1,this.end=0}enqueue(w,E,I){this.i=0,this.end=I,this.current=w,this.value=E}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class a extends h{constructor(w){super(w),this._isPaused=0,this._eventQueue=new D.LinkedList,this._mergeFn=w?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const w=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(w))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(w){this._size&&(this._isPaused!==0?this._eventQueue.push(w):super.fire(w))}}e.PauseableEmitter=a;class d extends a{constructor(w){var E;super(w),this._delay=(E=w.delay)!==null&&E!==void 0?E:100}fire(w){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(w)}}e.DebounceEmitter=d;class c extends h{constructor(w){super(w),this._queuedEvents=[],this._mergeFn=w?.merge}fire(w){this.hasListeners()&&(this._queuedEvents.push(w),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(E=>super.fire(E)),this._queuedEvents=[]}))}}e.MicrotaskEmitter=c;class b{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new h({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(w){const E={event:w,listener:null};this.events.push(E),this.hasListeners&&this.hook(E);const I=()=>{this.hasListeners&&this.unhook(E);const T=this.events.indexOf(E);this.events.splice(T,1)};return(0,L.toDisposable)((0,k.once)(I))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(w=>this.hook(w))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(w=>this.unhook(w))}hook(w){w.listener=w.event(E=>this.emitter.fire(E))}unhook(w){w.listener&&w.listener.dispose(),w.listener=null}dispose(){this.emitter.dispose()}}e.EventMultiplexer=b;class g{constructor(){this.buffers=[]}wrapEvent(w){return(E,I,T)=>w(P=>{const A=this.buffers[this.buffers.length-1];A?A.push(()=>E.call(I,P)):E.call(I,P)},void 0,T)}bufferEvents(w){const E=[];this.buffers.push(E);const I=w();return this.buffers.pop(),E.forEach(T=>T()),I}}e.EventBufferer=g;class p{constructor(){this.listening=!1,this.inputEvent=f.None,this.inputEventListener=L.Disposable.None,this.emitter=new h({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(w){this.inputEvent=w,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=w(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=p}),define(J[52],ee([1,0,6,2]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.PixelRatio=e.addMatchMediaChangeListener=void 0;class L{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}L.INSTANCE=new L;class D extends k.Disposable{constructor(){super(),this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(n){var r;(r=this._mediaQueryList)===null||r===void 0||r.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),n&&this._onDidChange.fire()}}class _ extends k.Disposable{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const n=this._register(new D);this._register(n.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const n=document.createElement("canvas").getContext("2d"),r=window.devicePixelRatio||1,l=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;return r/l}}class m{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,k.markAsSingleton)(new _)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function S(t,n){typeof t=="string"&&(t=window.matchMedia(t)),t.addEventListener("change",n)}e.addMatchMediaChangeListener=S,e.PixelRatio=new m;function f(){return L.INSTANCE.getZoomFactor()}e.getZoomFactor=f;const v=navigator.userAgent;e.isFirefox=v.indexOf("Firefox")>=0,e.isWebKit=v.indexOf("AppleWebKit")>=0,e.isChrome=v.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&v.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=v.indexOf("Electron/")>=0,e.isAndroid=v.indexOf("Android")>=0;let o=!1;if(window.matchMedia){const t=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),n=window.matchMedia("(display-mode: fullscreen)");o=t.matches,S(t,({matches:r})=>{o&&n.matches||(o=r)})}function i(){return o}e.isStandalone=i}),define(J[80],ee([1,0,6]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class k{get event(){return this.emitter.event}constructor(D,_,m){const S=f=>this.emitter.fire(f);this.emitter=new y.Emitter({onWillAddFirstListener:()=>D.addEventListener(_,S,m),onDidRemoveLastListener:()=>D.removeEventListener(_,S,m)})}dispose(){this.emitter.dispose()}}e.DomEmitter=k}),define(J[21],ee([1,0,6]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const k=Object.freeze(function(m,S){const f=setTimeout(m.bind(S),0);return{dispose(){clearTimeout(f)}}});var L;(function(m){function S(f){return f===m.None||f===m.Cancelled||f instanceof D?!0:!f||typeof f!="object"?!1:typeof f.isCancellationRequested=="boolean"&&typeof f.onCancellationRequested=="function"}m.isCancellationToken=S,m.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:y.Event.None}),m.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(L||(e.CancellationToken=L={}));class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new y.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class _{constructor(S){this._token=void 0,this._parentListener=void 0,this._parentListener=S&&S.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=L.Cancelled}dispose(S=!1){var f;S&&this.cancel(),(f=this._parentListener)===null||f===void 0||f.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=L.None}}e.CancellationTokenSource=_}),define(J[262],ee([1,0,6]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IME=e.IMEImpl=void 0;class k{constructor(){this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}e.IMEImpl=k,e.IME=new k}),define(J[169],ee([1,0,6,2]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class L{constructor(t,n,r,l,h,s,u){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(n=n|0,r=r|0,l=l|0,h=h|0,s=s|0,u=u|0),this.rawScrollLeft=l,this.rawScrollTop=u,n<0&&(n=0),l+n>r&&(l=r-n),l<0&&(l=0),h<0&&(h=0),u+h>s&&(u=s-h),u<0&&(u=0),this.width=n,this.scrollWidth=r,this.scrollLeft=l,this.height=h,this.scrollHeight=s,this.scrollTop=u}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,n){return new L(this._forceIntegerValues,typeof t.width<"u"?t.width:this.width,typeof t.scrollWidth<"u"?t.scrollWidth:this.scrollWidth,n?this.rawScrollLeft:this.scrollLeft,typeof t.height<"u"?t.height:this.height,typeof t.scrollHeight<"u"?t.scrollHeight:this.scrollHeight,n?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new L(this._forceIntegerValues,this.width,this.scrollWidth,typeof t.scrollLeft<"u"?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof t.scrollTop<"u"?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,n){const r=this.width!==t.width,l=this.scrollWidth!==t.scrollWidth,h=this.scrollLeft!==t.scrollLeft,s=this.height!==t.height,u=this.scrollHeight!==t.scrollHeight,a=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:n,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:r,scrollWidthChanged:l,scrollLeftChanged:h,heightChanged:s,scrollHeightChanged:u,scrollTopChanged:a}}}e.ScrollState=L;class D extends k.Disposable{constructor(t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new y.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=t.smoothScrollDuration,this._scheduleAtNextAnimationFrame=t.scheduleAtNextAnimationFrame,this._state=new L(t.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(t){this._smoothScrollDuration=t}validateScrollPosition(t){return this._state.withScrollPosition(t)}getScrollDimensions(){return this._state}setScrollDimensions(t,n){var r;const l=this._state.withScrollDimensions(t,n);this._setState(l,!!this._smoothScrolling),(r=this._smoothScrolling)===null||r===void 0||r.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(t){const n=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(n,!1)}setScrollPositionSmooth(t,n){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:typeof t.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:typeof t.scrollTop>"u"?this._smoothScrolling.to.scrollTop:t.scrollTop};const r=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===r.scrollLeft&&this._smoothScrolling.to.scrollTop===r.scrollTop)return;let l;n?l=new f(this._smoothScrolling.from,r,this._smoothScrolling.startTime,this._smoothScrolling.duration):l=this._smoothScrolling.combine(this._state,r,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=l}else{const r=this._state.withScrollPosition(t);this._smoothScrolling=f.start(this._state,r,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const t=this._smoothScrolling.tick(),n=this._state.withScrollPosition(t);if(this._setState(n,!0),!!this._smoothScrolling){if(t.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(t,n){const r=this._state;r.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(r,n)))}}e.Scrollable=D;class _{constructor(t,n,r){this.scrollLeft=t,this.scrollTop=n,this.isDone=r}}e.SmoothScrollingUpdate=_;function m(i,t){const n=t-i;return function(r){return i+n*o(r)}}function S(i,t,n){return function(r){return r<n?i(r/n):t((r-n)/(1-n))}}class f{constructor(t,n,r,l){this.from=t,this.to=n,this.duration=l,this.startTime=r,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,n,r){if(Math.abs(t-n)>2.5*r){let h,s;return t<n?(h=t+.75*r,s=n-.75*r):(h=t-.75*r,s=n+.75*r),S(m(t,h),m(s,n),.33)}return m(t,n)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){const n=(t-this.startTime)/this.duration;if(n<1){const r=this.scrollLeft(n),l=this.scrollTop(n);return new _(r,l,!1)}return new _(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,n,r){return f.start(t,n,r)}static start(t,n,r){r=r+10;const l=Date.now()-10;return new f(t,n,l,r)}}e.SmoothScrollingOperation=f;function v(i){return Math.pow(i,3)}function o(i){return 1-v(1-i)}}),define(J[9],ee([1,0,260,99]),function(G,e,y,k){"use strict";var L;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.isAsciiDigit=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function D(oe){return!oe||typeof oe!="string"?!0:oe.trim().length===0}e.isFalsyOrWhitespace=D;const _=/{(\d+)}/g;function m(oe,...re){return re.length===0?oe:oe.replace(_,function(ge,ve){const we=parseInt(ve,10);return isNaN(we)||we<0||we>=re.length?ge:re[we]})}e.format=m;function S(oe){return oe.replace(/[<>&]/g,function(re){switch(re){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return re}})}e.escape=S;function f(oe){return oe.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=f;function v(oe,re=" "){const ge=o(oe,re);return i(ge,re)}e.trim=v;function o(oe,re){if(!oe||!re)return oe;const ge=re.length;if(ge===0||oe.length===0)return oe;let ve=0;for(;oe.indexOf(re,ve)===ve;)ve=ve+ge;return oe.substring(ve)}e.ltrim=o;function i(oe,re){if(!oe||!re)return oe;const ge=re.length,ve=oe.length;if(ge===0||ve===0)return oe;let we=ve,ye=-1;for(;ye=oe.lastIndexOf(re,we-1),!(ye===-1||ye+ge!==we);){if(ye===0)return"";we=ye}return oe.substring(0,we)}e.rtrim=i;function t(oe){return oe.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=t;function n(oe){return oe.replace(/\*/g,"")}e.stripWildcards=n;function r(oe,re,ge={}){if(!oe)throw new Error("Cannot create regex from empty string");re||(oe=f(oe)),ge.wholeWord&&(/\B/.test(oe.charAt(0))||(oe="\\b"+oe),/\B/.test(oe.charAt(oe.length-1))||(oe=oe+"\\b"));let ve="";return ge.global&&(ve+="g"),ge.matchCase||(ve+="i"),ge.multiline&&(ve+="m"),ge.unicode&&(ve+="u"),new RegExp(oe,ve)}e.createRegExp=r;function l(oe){return oe.source==="^"||oe.source==="^$"||oe.source==="$"||oe.source==="^\\s*$"?!1:!!(oe.exec("")&&oe.lastIndex===0)}e.regExpLeadsToEndlessLoop=l;function h(oe){return(oe.global?"g":"")+(oe.ignoreCase?"i":"")+(oe.multiline?"m":"")+(oe.unicode?"u":"")}e.regExpFlags=h;function s(oe){return oe.split(/\r\n|\r|\n/)}e.splitLines=s;function u(oe){for(let re=0,ge=oe.length;re<ge;re++){const ve=oe.charCodeAt(re);if(ve!==32&&ve!==9)return re}return-1}e.firstNonWhitespaceIndex=u;function a(oe,re=0,ge=oe.length){for(let ve=re;ve<ge;ve++){const we=oe.charCodeAt(ve);if(we!==32&&we!==9)return oe.substring(re,ve)}return oe.substring(re,ge)}e.getLeadingWhitespace=a;function d(oe,re=oe.length-1){for(let ge=re;ge>=0;ge--){const ve=oe.charCodeAt(ge);if(ve!==32&&ve!==9)return ge}return-1}e.lastNonWhitespaceIndex=d;function c(oe,re){return oe<re?-1:oe>re?1:0}e.compare=c;function b(oe,re,ge=0,ve=oe.length,we=0,ye=re.length){for(;ge<ve&&we<ye;ge++,we++){const De=oe.charCodeAt(ge),Ae=re.charCodeAt(we);if(De<Ae)return-1;if(De>Ae)return 1}const Ie=ve-ge,Ee=ye-we;return Ie<Ee?-1:Ie>Ee?1:0}e.compareSubstring=b;function g(oe,re){return p(oe,re,0,oe.length,0,re.length)}e.compareIgnoreCase=g;function p(oe,re,ge=0,ve=oe.length,we=0,ye=re.length){for(;ge<ve&&we<ye;ge++,we++){let De=oe.charCodeAt(ge),Ae=re.charCodeAt(we);if(De===Ae)continue;if(De>=128||Ae>=128)return b(oe.toLowerCase(),re.toLowerCase(),ge,ve,we,ye);w(De)&&(De-=32),w(Ae)&&(Ae-=32);const Te=De-Ae;if(Te!==0)return Te}const Ie=ve-ge,Ee=ye-we;return Ie<Ee?-1:Ie>Ee?1:0}e.compareSubstringIgnoreCase=p;function C(oe){return oe>=48&&oe<=57}e.isAsciiDigit=C;function w(oe){return oe>=97&&oe<=122}e.isLowerAsciiLetter=w;function E(oe){return oe>=65&&oe<=90}e.isUpperAsciiLetter=E;function I(oe,re){return oe.length===re.length&&p(oe,re)===0}e.equalsIgnoreCase=I;function T(oe,re){const ge=re.length;return re.length>oe.length?!1:p(oe,re,0,ge)===0}e.startsWithIgnoreCase=T;function P(oe,re){const ge=Math.min(oe.length,re.length);let ve;for(ve=0;ve<ge;ve++)if(oe.charCodeAt(ve)!==re.charCodeAt(ve))return ve;return ge}e.commonPrefixLength=P;function A(oe,re){const ge=Math.min(oe.length,re.length);let ve;const we=oe.length-1,ye=re.length-1;for(ve=0;ve<ge;ve++)if(oe.charCodeAt(we-ve)!==re.charCodeAt(ye-ve))return ve;return ge}e.commonSuffixLength=A;function M(oe){return 55296<=oe&&oe<=56319}e.isHighSurrogate=M;function N(oe){return 56320<=oe&&oe<=57343}e.isLowSurrogate=N;function O(oe,re){return(oe-55296<<10)+(re-56320)+65536}e.computeCodePoint=O;function x(oe,re,ge){const ve=oe.charCodeAt(ge);if(M(ve)&&ge+1<re){const we=oe.charCodeAt(ge+1);if(N(we))return O(ve,we)}return ve}e.getNextCodePoint=x;function F(oe,re){const ge=oe.charCodeAt(re-1);if(N(ge)&&re>1){const ve=oe.charCodeAt(re-2);if(M(ve))return O(ve,ge)}return ge}class B{get offset(){return this._offset}constructor(re,ge=0){this._str=re,this._len=re.length,this._offset=ge}setOffset(re){this._offset=re}prevCodePoint(){const re=F(this._str,this._offset);return this._offset-=re>=65536?2:1,re}nextCodePoint(){const re=x(this._str,this._len,this._offset);return this._offset+=re>=65536?2:1,re}eol(){return this._offset>=this._len}}e.CodePointIterator=B;class z{get offset(){return this._iterator.offset}constructor(re,ge=0){this._iterator=new B(re,ge)}nextGraphemeLength(){const re=ae.getInstance(),ge=this._iterator,ve=ge.offset;let we=re.getGraphemeBreakType(ge.nextCodePoint());for(;!ge.eol();){const ye=ge.offset,Ie=re.getGraphemeBreakType(ge.nextCodePoint());if(ce(we,Ie)){ge.setOffset(ye);break}we=Ie}return ge.offset-ve}prevGraphemeLength(){const re=ae.getInstance(),ge=this._iterator,ve=ge.offset;let we=re.getGraphemeBreakType(ge.prevCodePoint());for(;ge.offset>0;){const ye=ge.offset,Ie=re.getGraphemeBreakType(ge.prevCodePoint());if(ce(Ie,we)){ge.setOffset(ye);break}we=Ie}return ve-ge.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=z;function j(oe,re){return new z(oe,re).nextGraphemeLength()}e.nextCharLength=j;function R(oe,re){return new z(oe,re).prevGraphemeLength()}e.prevCharLength=R;function Z(oe,re){re>0&&N(oe.charCodeAt(re))&&re--;const ge=re+j(oe,re);return[ge-R(oe,ge),ge]}e.getCharContainingOffset=Z;let se;function le(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function te(oe){return se||(se=le()),se.test(oe)}e.containsRTL=te;const Y=/^[\t\n\r\x20-\x7E]*$/;function U(oe){return Y.test(oe)}e.isBasicASCII=U,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function V(oe){return e.UNUSUAL_LINE_TERMINATORS.test(oe)}e.containsUnusualLineTerminators=V;function H(oe){return oe>=11904&&oe<=55215||oe>=63744&&oe<=64255||oe>=65281&&oe<=65374}e.isFullWidthCharacter=H;function $(oe){return oe>=127462&&oe<=127487||oe===8986||oe===8987||oe===9200||oe===9203||oe>=9728&&oe<=10175||oe===11088||oe===11093||oe>=127744&&oe<=128591||oe>=128640&&oe<=128764||oe>=128992&&oe<=129008||oe>=129280&&oe<=129535||oe>=129648&&oe<=129782}e.isEmojiImprecise=$,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function X(oe){return!!(oe&&oe.length>0&&oe.charCodeAt(0)===65279)}e.startsWithUTF8BOM=X;function Q(oe,re=!1){return oe?(re&&(oe=oe.replace(/\\./g,"")),oe.toLowerCase()!==oe):!1}e.containsUppercaseCharacter=Q;function de(oe){return oe=oe%(2*26),oe<26?String.fromCharCode(97+oe):String.fromCharCode(65+oe-26)}e.singleLetterHash=de;function ce(oe,re){return oe===0?re!==5&&re!==7:oe===2&&re===3?!1:oe===4||oe===2||oe===3||re===4||re===2||re===3?!0:!(oe===8&&(re===8||re===9||re===11||re===12)||(oe===11||oe===9)&&(re===9||re===10)||(oe===12||oe===10)&&re===10||re===5||re===13||re===7||oe===1||oe===13&&re===14||oe===6&&re===6)}class ae{static getInstance(){return ae._INSTANCE||(ae._INSTANCE=new ae),ae._INSTANCE}constructor(){this._data=ue()}getGraphemeBreakType(re){if(re<32)return re===10?3:re===13?2:4;if(re<127)return 0;const ge=this._data,ve=ge.length/3;let we=1;for(;we<=ve;)if(re<ge[3*we])we=2*we;else if(re>ge[3*we+1])we=2*we+1;else return ge[3*we+2];return 0}}ae._INSTANCE=null;function ue(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function q(oe,re){if(oe===0)return 0;const ge=W(oe,re);if(ge!==void 0)return ge;const ve=new B(re,oe);return ve.prevCodePoint(),ve.offset}e.getLeftDeleteOffset=q;function W(oe,re){const ge=new B(re,oe);let ve=ge.prevCodePoint();for(;K(ve)||ve===65039||ve===8419;){if(ge.offset===0)return;ve=ge.prevCodePoint()}if(!$(ve))return;let we=ge.offset;return we>0&&ge.prevCodePoint()===8205&&(we=ge.offset),we}function K(oe){return 127995<=oe&&oe<=127999}e.noBreakWhitespace="\xA0";class ie{static getInstance(re){return ie.cache.get(Array.from(re))}static getLocales(){return ie._locales.value}constructor(re){this.confusableDictionary=re}isAmbiguous(re){return this.confusableDictionary.has(re)}getPrimaryConfusable(re){return this.confusableDictionary.get(re)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=ie,L=ie,ie.ambiguousCharacterData=new k.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),ie.cache=new y.LRUCachedFunction(oe=>{function re(Ae){const Te=new Map;for(let be=0;be<Ae.length;be+=2)Te.set(Ae[be],Ae[be+1]);return Te}function ge(Ae,Te){const be=new Map(Ae);for(const[me,Se]of Te)be.set(me,Se);return be}function ve(Ae,Te){if(!Ae)return Te;const be=new Map;for(const[me,Se]of Ae)Te.has(me)&&be.set(me,Se);return be}const we=L.ambiguousCharacterData.value;let ye=oe.filter(Ae=>!Ae.startsWith("_")&&Ae in we);ye.length===0&&(ye=["_default"]);let Ie;for(const Ae of ye){const Te=re(we[Ae]);Ie=ve(Ie,Te)}const Ee=re(we._common),De=ge(Ee,Ie);return new ie(De)}),ie._locales=new k.Lazy(()=>Object.keys(ie.ambiguousCharacterData.value).filter(oe=>!oe.startsWith("_")));class ne{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(ne.getRawData())),this._data}static isInvisibleCharacter(re){return ne.getData().has(re)}static get codePoints(){return ne.getData()}}e.InvisibleCharacters=ne,ne._data=void 0}),define(J[71],ee([1,0,66,9]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function L(...q){return function(W,K){for(let ie=0,ne=q.length;ie<ne;ie++){const oe=q[ie](W,K);if(oe)return oe}return null}}e.or=L,e.matchesStrictPrefix=D.bind(void 0,!1),e.matchesPrefix=D.bind(void 0,!0);function D(q,W,K){if(!K||K.length<W.length)return null;let ie;return q?ie=k.startsWithIgnoreCase(K,W):ie=K.indexOf(W)===0,ie?W.length>0?[{start:0,end:W.length}]:[]:null}function _(q,W){const K=W.toLowerCase().indexOf(q.toLowerCase());return K===-1?null:[{start:K,end:K+q.length}]}e.matchesContiguousSubString=_;function m(q,W){return S(q.toLowerCase(),W.toLowerCase(),0,0)}e.matchesSubString=m;function S(q,W,K,ie){if(K===q.length)return[];if(ie===W.length)return null;if(q[K]===W[ie]){let ne=null;return(ne=S(q,W,K+1,ie+1))?h({start:ie,end:ie+1},ne):null}return S(q,W,K,ie+1)}function f(q){return 97<=q&&q<=122}function v(q){return 65<=q&&q<=90}e.isUpper=v;function o(q){return 48<=q&&q<=57}function i(q){return q===32||q===9||q===10||q===13}const t=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(q=>t.add(q.charCodeAt(0)));function n(q){return i(q)||t.has(q)}function r(q,W){return q===W||n(q)&&n(W)}function l(q){return f(q)||v(q)||o(q)}function h(q,W){return W.length===0?W=[q]:q.end===W[0].start?W[0].start=q.start:W.unshift(q),W}function s(q,W){for(let K=W;K<q.length;K++){const ie=q.charCodeAt(K);if(v(ie)||o(ie)||K>0&&!l(q.charCodeAt(K-1)))return K}return q.length}function u(q,W,K,ie){if(K===q.length)return[];if(ie===W.length)return null;if(q[K]!==W[ie].toLowerCase())return null;{let ne=null,oe=ie+1;for(ne=u(q,W,K+1,ie+1);!ne&&(oe=s(W,oe))<W.length;)ne=u(q,W,K+1,oe),oe++;return ne===null?null:h({start:ie,end:ie+1},ne)}}function a(q){let W=0,K=0,ie=0,ne=0,oe=0;for(let ye=0;ye<q.length;ye++)oe=q.charCodeAt(ye),v(oe)&&W++,f(oe)&&K++,l(oe)&&ie++,o(oe)&&ne++;const re=W/q.length,ge=K/q.length,ve=ie/q.length,we=ne/q.length;return{upperPercent:re,lowerPercent:ge,alphaPercent:ve,numericPercent:we}}function d(q){const{upperPercent:W,lowerPercent:K}=q;return K===0&&W>.6}function c(q){const{upperPercent:W,lowerPercent:K,alphaPercent:ie,numericPercent:ne}=q;return K>.2&&W<.8&&ie>.6&&ne<.2}function b(q){let W=0,K=0,ie=0,ne=0;for(let oe=0;oe<q.length;oe++)ie=q.charCodeAt(oe),v(ie)&&W++,f(ie)&&K++,i(ie)&&ne++;return(W===0||K===0)&&ne===0?q.length<=30:W<=5}function g(q,W){if(!W||(W=W.trim(),W.length===0)||!b(q)||W.length>60)return null;const K=a(W);if(!c(K)){if(!d(K))return null;W=W.toLowerCase()}let ie=null,ne=0;for(q=q.toLowerCase();ne<W.length&&(ie=u(q,W,0,ne))===null;)ne=s(W,ne+1);return ie}e.matchesCamelCase=g;function p(q,W,K=!1){if(!W||W.length===0)return null;let ie=null,ne=0;for(q=q.toLowerCase(),W=W.toLowerCase();ne<W.length&&(ie=C(q,W,0,ne,K))===null;)ne=w(W,ne+1);return ie}e.matchesWords=p;function C(q,W,K,ie,ne){if(K===q.length)return[];if(ie===W.length)return null;if(r(q.charCodeAt(K),W.charCodeAt(ie))){let oe=null,re=ie+1;if(oe=C(q,W,K+1,ie+1,ne),!ne)for(;!oe&&(re=w(W,re))<W.length;)oe=C(q,W,K+1,re,ne),re++;return oe?q.charCodeAt(K)!==W.charCodeAt(ie)?oe:h({start:ie,end:ie+1},oe):null}else return null}function w(q,W){for(let K=W;K<q.length;K++)if(n(q.charCodeAt(K))||K>0&&n(q.charCodeAt(K-1)))return K;return q.length}const E=L(e.matchesPrefix,g,_),I=L(e.matchesPrefix,g,m),T=new y.LRUCache(1e4);function P(q,W,K=!1){if(typeof q!="string"||typeof W!="string")return null;let ie=T.get(q);ie||(ie=new RegExp(k.convertSimple2RegExpPattern(q),"i"),T.set(q,ie));const ne=ie.exec(W);return ne?[{start:ne.index,end:ne.index+ne[0].length}]:K?I(q,W):E(q,W)}e.matchesFuzzy=P;function A(q,W,K,ie,ne,oe){const re=Math.min(13,q.length);for(;K<re;K++){const ge=X(q,W,K,ie,ne,oe,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ge)return ge}return[0,oe]}e.anyScore=A;function M(q){if(typeof q>"u")return[];const W=[],K=q[1];for(let ie=q.length-1;ie>1;ie--){const ne=q[ie]+K,oe=W[W.length-1];oe&&oe.end===ne?oe.end=ne+1:W.push({start:ne,end:ne+1})}return W}e.createMatches=M;const N=128;function O(){const q=[],W=[];for(let K=0;K<=N;K++)W[K]=0;for(let K=0;K<=N;K++)q.push(W.slice(0));return q}function x(q){const W=[];for(let K=0;K<=q;K++)W[K]=0;return W}const F=x(2*N),B=x(2*N),z=O(),j=O(),R=O(),Z=!1;function se(q,W,K,ie,ne){function oe(ge,ve,we=" "){for(;ge.length<ve;)ge=we+ge;return ge}let re=` |   |${ie.split("").map(ge=>oe(ge,3)).join("|")}
`;for(let ge=0;ge<=K;ge++)ge===0?re+=" |":re+=`${W[ge-1]}|`,re+=q[ge].slice(0,ne+1).map(ve=>oe(ve.toString(),3)).join("|")+`
`;return re}function le(q,W,K,ie){q=q.substr(W),K=K.substr(ie),console.log(se(j,q,q.length,K,K.length)),console.log(se(R,q,q.length,K,K.length)),console.log(se(z,q,q.length,K,K.length))}function te(q,W){if(W<0||W>=q.length)return!1;const K=q.codePointAt(W);switch(K){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!k.isEmojiImprecise(K)}}function Y(q,W){if(W<0||W>=q.length)return!1;switch(q.charCodeAt(W)){case 32:case 9:return!0;default:return!1}}function U(q,W,K){return W[q]!==K[q]}function V(q,W,K,ie,ne,oe,re=!1){for(;W<K&&ne<oe;)q[W]===ie[ne]&&(re&&(F[W]=ne),W+=1),ne+=1;return W===K}e.isPatternInWord=V;var H;(function(q){q.Default=[-100,0];function W(K){return!K||K.length===2&&K[0]===-100&&K[1]===0}q.isDefault=W})(H||(e.FuzzyScore=H={}));class ${constructor(W,K){this.firstMatchCanBeWeak=W,this.boostFullMatch=K}}e.FuzzyScoreOptions=$,$.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function X(q,W,K,ie,ne,oe,re=$.default){const ge=q.length>N?N:q.length,ve=ie.length>N?N:ie.length;if(K>=ge||oe>=ve||ge-K>ve-oe||!V(W,K,ge,ne,oe,ve,!0))return;Q(ge,ve,K,oe,W,ne);let we=1,ye=1,Ie=K,Ee=oe;const De=[!1];for(we=1,Ie=K;Ie<ge;we++,Ie++){const Se=F[Ie],he=B[Ie],Ce=Ie+1<ge?B[Ie+1]:ve;for(ye=Se-oe+1,Ee=Se;Ee<Ce;ye++,Ee++){let pe=Number.MIN_SAFE_INTEGER,_e=!1;Ee<=he&&(pe=de(q,W,Ie,K,ie,ne,Ee,ve,oe,z[we-1][ye-1]===0,De));let ke=0;pe!==Number.MAX_SAFE_INTEGER&&(_e=!0,ke=pe+j[we-1][ye-1]);const Re=Ee>Se,Pe=Re?j[we][ye-1]+(z[we][ye-1]>0?-5:0):0,Fe=Ee>Se+1&&z[we][ye-1]>0,We=Fe?j[we][ye-2]+(z[we][ye-2]>0?-5:0):0;if(Fe&&(!Re||We>=Pe)&&(!_e||We>=ke))j[we][ye]=We,R[we][ye]=3,z[we][ye]=0;else if(Re&&(!_e||Pe>=ke))j[we][ye]=Pe,R[we][ye]=2,z[we][ye]=0;else if(_e)j[we][ye]=ke,R[we][ye]=1,z[we][ye]=z[we-1][ye-1]+1;else throw new Error("not possible")}}if(Z&&le(q,K,ie,oe),!De[0]&&!re.firstMatchCanBeWeak)return;we--,ye--;const Ae=[j[we][ye],oe];let Te=0,be=0;for(;we>=1;){let Se=ye;do{const he=R[we][Se];if(he===3)Se=Se-2;else if(he===2)Se=Se-1;else break}while(Se>=1);Te>1&&W[K+we-1]===ne[oe+ye-1]&&!U(Se+oe-1,ie,ne)&&Te+1>z[we][Se]&&(Se=ye),Se===ye?Te++:Te=1,be||(be=Se),we--,ye=Se-1,Ae.push(ye)}ve===ge&&re.boostFullMatch&&(Ae[0]+=2);const me=be-ge;return Ae[0]-=me,Ae}e.fuzzyScore=X;function Q(q,W,K,ie,ne,oe){let re=q-1,ge=W-1;for(;re>=K&&ge>=ie;)ne[re]===oe[ge]&&(B[re]=ge,re--),ge--}function de(q,W,K,ie,ne,oe,re,ge,ve,we,ye){if(W[K]!==oe[re])return Number.MIN_SAFE_INTEGER;let Ie=1,Ee=!1;return re===K-ie?Ie=q[K]===ne[re]?7:5:U(re,ne,oe)&&(re===0||!U(re-1,ne,oe))?(Ie=q[K]===ne[re]?7:5,Ee=!0):te(oe,re)&&(re===0||!te(oe,re-1))?Ie=5:(te(oe,re-1)||Y(oe,re-1))&&(Ie=5,Ee=!0),Ie>1&&K===ie&&(ye[0]=!0),Ee||(Ee=U(re,ne,oe)||te(oe,re-1)||Y(oe,re-1)),K===ie?re>ve&&(Ie-=Ee?3:5):we?Ie+=Ee?2:0:Ie+=Ee?0:1,re+1===ge&&(Ie-=Ee?3:5),Ie}function ce(q,W,K,ie,ne,oe,re){return ae(q,W,K,ie,ne,oe,!0,re)}e.fuzzyScoreGracefulAggressive=ce;function ae(q,W,K,ie,ne,oe,re,ge){let ve=X(q,W,K,ie,ne,oe,ge);if(ve&&!re)return ve;if(q.length>=3){const we=Math.min(7,q.length-1);for(let ye=K+1;ye<we;ye++){const Ie=ue(q,ye);if(Ie){const Ee=X(Ie,Ie.toLowerCase(),K,ie,ne,oe,ge);Ee&&(Ee[0]-=3,(!ve||Ee[0]>ve[0])&&(ve=Ee))}}}return ve}function ue(q,W){if(W+1>=q.length)return;const K=q[W],ie=q[W+1];if(K!==ie)return q.slice(0,W)+ie+K+q.slice(W+2)}}),define(J[145],ee([1,0,9]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function k(r){return L(r,0)}e.hash=k;function L(r,l){switch(typeof r){case"object":return r===null?D(349,l):Array.isArray(r)?S(r,l):f(r,l);case"string":return m(r,l);case"boolean":return _(r,l);case"number":return D(r,l);case"undefined":return D(937,l);default:return D(617,l)}}e.doHash=L;function D(r,l){return(l<<5)-l+r|0}e.numberHash=D;function _(r,l){return D(r?433:863,l)}function m(r,l){l=D(149417,l);for(let h=0,s=r.length;h<s;h++)l=D(r.charCodeAt(h),l);return l}e.stringHash=m;function S(r,l){return l=D(104579,l),r.reduce((h,s)=>L(s,h),l)}function f(r,l){return l=D(181387,l),Object.keys(r).sort().reduce((h,s)=>(h=m(s,h),L(r[s],h)),l)}function v(r,l,h=32){const s=h-l,u=~((1<<s)-1);return(r<<l|(u&r)>>>s)>>>0}function o(r,l=0,h=r.byteLength,s=0){for(let u=0;u<h;u++)r[l+u]=s}function i(r,l,h="0"){for(;r.length<l;)r=h+r;return r}function t(r,l=32){return r instanceof ArrayBuffer?Array.from(new Uint8Array(r)).map(h=>h.toString(16).padStart(2,"0")).join(""):i((r>>>0).toString(16),l/4)}e.toHexString=t;class n{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(l){const h=l.length;if(h===0)return;const s=this._buff;let u=this._buffLen,a=this._leftoverHighSurrogate,d,c;for(a!==0?(d=a,c=-1,a=0):(d=l.charCodeAt(0),c=0);;){let b=d;if(y.isHighSurrogate(d))if(c+1<h){const g=l.charCodeAt(c+1);y.isLowSurrogate(g)?(c++,b=y.computeCodePoint(d,g)):b=65533}else{a=d;break}else y.isLowSurrogate(d)&&(b=65533);if(u=this._push(s,u,b),c++,c<h)d=l.charCodeAt(c);else break}this._buffLen=u,this._leftoverHighSurrogate=a}_push(l,h,s){return s<128?l[h++]=s:s<2048?(l[h++]=192|(s&1984)>>>6,l[h++]=128|(s&63)>>>0):s<65536?(l[h++]=224|(s&61440)>>>12,l[h++]=128|(s&4032)>>>6,l[h++]=128|(s&63)>>>0):(l[h++]=240|(s&1835008)>>>18,l[h++]=128|(s&258048)>>>12,l[h++]=128|(s&4032)>>>6,l[h++]=128|(s&63)>>>0),h>=64&&(this._step(),h-=64,this._totalLen+=64,l[0]=l[64+0],l[1]=l[64+1],l[2]=l[64+2]),h}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),t(this._h0)+t(this._h1)+t(this._h2)+t(this._h3)+t(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,o(this._buff,this._buffLen),this._buffLen>56&&(this._step(),o(this._buff));const l=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(l/4294967296),!1),this._buffDV.setUint32(60,l%4294967296,!1),this._step()}_step(){const l=n._bigBlock32,h=this._buffDV;for(let C=0;C<64;C+=4)l.setUint32(C,h.getUint32(C,!1),!1);for(let C=64;C<320;C+=4)l.setUint32(C,v(l.getUint32(C-12,!1)^l.getUint32(C-32,!1)^l.getUint32(C-56,!1)^l.getUint32(C-64,!1),1),!1);let s=this._h0,u=this._h1,a=this._h2,d=this._h3,c=this._h4,b,g,p;for(let C=0;C<80;C++)C<20?(b=u&a|~u&d,g=1518500249):C<40?(b=u^a^d,g=1859775393):C<60?(b=u&a|u&d|a&d,g=2400959708):(b=u^a^d,g=3395469782),p=v(s,5)+b+c+g+l.getUint32(C*4,!1)&4294967295,c=d,d=a,a=v(u,30),u=s,s=p;this._h0=this._h0+s&4294967295,this._h1=this._h1+u&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+d&4294967295,this._h4=this._h4+c&4294967295}}e.StringSHA1=n,n._bigBlock32=new DataView(new ArrayBuffer(320))}),define(J[170],ee([1,0,379,145]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.stringDiff=e.StringDiffSequence=void 0;class L{constructor(o){this.source=o}getElements(){const o=this.source,i=new Int32Array(o.length);for(let t=0,n=o.length;t<n;t++)i[t]=o.charCodeAt(t);return i}}e.StringDiffSequence=L;function D(v,o,i){return new f(new L(v),new L(o)).ComputeDiff(i).changes}e.stringDiff=D;class _{static Assert(o,i){if(!o)throw new Error(i)}}class m{static Copy(o,i,t,n,r){for(let l=0;l<r;l++)t[n+l]=o[i+l]}static Copy2(o,i,t,n,r){for(let l=0;l<r;l++)t[n+l]=o[i+l]}}class S{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new y.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(o,i){this.m_originalStart=Math.min(this.m_originalStart,o),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_originalCount++}AddModifiedElement(o,i){this.m_originalStart=Math.min(this.m_originalStart,o),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class f{constructor(o,i,t=null){this.ContinueProcessingPredicate=t,this._originalSequence=o,this._modifiedSequence=i;const[n,r,l]=f._getElements(o),[h,s,u]=f._getElements(i);this._hasStrings=l&&u,this._originalStringElements=n,this._originalElementsOrHash=r,this._modifiedStringElements=h,this._modifiedElementsOrHash=s,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(o){return o.length>0&&typeof o[0]=="string"}static _getElements(o){const i=o.getElements();if(f._isStringArray(i)){const t=new Int32Array(i.length);for(let n=0,r=i.length;n<r;n++)t[n]=(0,k.stringHash)(i[n],0);return[i,t,!0]}return i instanceof Int32Array?[[],i,!1]:[[],new Int32Array(i),!1]}ElementsAreEqual(o,i){return this._originalElementsOrHash[o]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[o]===this._modifiedStringElements[i]:!0}ElementsAreStrictEqual(o,i){if(!this.ElementsAreEqual(o,i))return!1;const t=f._getStrictElement(this._originalSequence,o),n=f._getStrictElement(this._modifiedSequence,i);return t===n}static _getStrictElement(o,i){return typeof o.getStrictElement=="function"?o.getStrictElement(i):null}OriginalElementsAreEqual(o,i){return this._originalElementsOrHash[o]!==this._originalElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[o]===this._originalStringElements[i]:!0}ModifiedElementsAreEqual(o,i){return this._modifiedElementsOrHash[o]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._modifiedStringElements[o]===this._modifiedStringElements[i]:!0}ComputeDiff(o){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,o)}_ComputeDiff(o,i,t,n,r){const l=[!1];let h=this.ComputeDiffRecursive(o,i,t,n,l);return r&&(h=this.PrettifyChanges(h)),{quitEarly:l[0],changes:h}}ComputeDiffRecursive(o,i,t,n,r){for(r[0]=!1;o<=i&&t<=n&&this.ElementsAreEqual(o,t);)o++,t++;for(;i>=o&&n>=t&&this.ElementsAreEqual(i,n);)i--,n--;if(o>i||t>n){let d;return t<=n?(_.Assert(o===i+1,"originalStart should only be one more than originalEnd"),d=[new y.DiffChange(o,0,t,n-t+1)]):o<=i?(_.Assert(t===n+1,"modifiedStart should only be one more than modifiedEnd"),d=[new y.DiffChange(o,i-o+1,t,0)]):(_.Assert(o===i+1,"originalStart should only be one more than originalEnd"),_.Assert(t===n+1,"modifiedStart should only be one more than modifiedEnd"),d=[]),d}const l=[0],h=[0],s=this.ComputeRecursionPoint(o,i,t,n,l,h,r),u=l[0],a=h[0];if(s!==null)return s;if(!r[0]){const d=this.ComputeDiffRecursive(o,u,t,a,r);let c=[];return r[0]?c=[new y.DiffChange(u+1,i-(u+1)+1,a+1,n-(a+1)+1)]:c=this.ComputeDiffRecursive(u+1,i,a+1,n,r),this.ConcatenateChanges(d,c)}return[new y.DiffChange(o,i-o+1,t,n-t+1)]}WALKTRACE(o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E){let I=null,T=null,P=new S,A=i,M=t,N=b[0]-C[0]-n,O=-1073741824,x=this.m_forwardHistory.length-1;do{const F=N+o;F===A||F<M&&u[F-1]<u[F+1]?(d=u[F+1],g=d-N-n,d<O&&P.MarkNextChange(),O=d,P.AddModifiedElement(d+1,g),N=F+1-o):(d=u[F-1]+1,g=d-N-n,d<O&&P.MarkNextChange(),O=d-1,P.AddOriginalElement(d,g+1),N=F-1-o),x>=0&&(u=this.m_forwardHistory[x],o=u[0],A=1,M=u.length-1)}while(--x>=-1);if(I=P.getReverseChanges(),E[0]){let F=b[0]+1,B=C[0]+1;if(I!==null&&I.length>0){const z=I[I.length-1];F=Math.max(F,z.getOriginalEnd()),B=Math.max(B,z.getModifiedEnd())}T=[new y.DiffChange(F,c-F+1,B,p-B+1)]}else{P=new S,A=l,M=h,N=b[0]-C[0]-s,O=1073741824,x=w?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const F=N+r;F===A||F<M&&a[F-1]>=a[F+1]?(d=a[F+1]-1,g=d-N-s,d>O&&P.MarkNextChange(),O=d+1,P.AddOriginalElement(d+1,g+1),N=F+1-r):(d=a[F-1],g=d-N-s,d>O&&P.MarkNextChange(),O=d,P.AddModifiedElement(d+1,g+1),N=F-1-r),x>=0&&(a=this.m_reverseHistory[x],r=a[0],A=1,M=a.length-1)}while(--x>=-1);T=P.getChanges()}return this.ConcatenateChanges(I,T)}ComputeRecursionPoint(o,i,t,n,r,l,h){let s=0,u=0,a=0,d=0,c=0,b=0;o--,t--,r[0]=0,l[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=i-o+(n-t),p=g+1,C=new Int32Array(p),w=new Int32Array(p),E=n-t,I=i-o,T=o-t,P=i-n,M=(I-E)%2===0;C[E]=o,w[I]=i,h[0]=!1;for(let N=1;N<=g/2+1;N++){let O=0,x=0;a=this.ClipDiagonalBound(E-N,N,E,p),d=this.ClipDiagonalBound(E+N,N,E,p);for(let B=a;B<=d;B+=2){B===a||B<d&&C[B-1]<C[B+1]?s=C[B+1]:s=C[B-1]+1,u=s-(B-E)-T;const z=s;for(;s<i&&u<n&&this.ElementsAreEqual(s+1,u+1);)s++,u++;if(C[B]=s,s+u>O+x&&(O=s,x=u),!M&&Math.abs(B-I)<=N-1&&s>=w[B])return r[0]=s,l[0]=u,z<=w[B]&&1447>0&&N<=1447+1?this.WALKTRACE(E,a,d,T,I,c,b,P,C,w,s,i,r,u,n,l,M,h):null}const F=(O-o+(x-t)-N)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(O,F))return h[0]=!0,r[0]=O,l[0]=x,F>0&&1447>0&&N<=1447+1?this.WALKTRACE(E,a,d,T,I,c,b,P,C,w,s,i,r,u,n,l,M,h):(o++,t++,[new y.DiffChange(o,i-o+1,t,n-t+1)]);c=this.ClipDiagonalBound(I-N,N,I,p),b=this.ClipDiagonalBound(I+N,N,I,p);for(let B=c;B<=b;B+=2){B===c||B<b&&w[B-1]>=w[B+1]?s=w[B+1]-1:s=w[B-1],u=s-(B-I)-P;const z=s;for(;s>o&&u>t&&this.ElementsAreEqual(s,u);)s--,u--;if(w[B]=s,M&&Math.abs(B-E)<=N&&s<=C[B])return r[0]=s,l[0]=u,z>=C[B]&&1447>0&&N<=1447+1?this.WALKTRACE(E,a,d,T,I,c,b,P,C,w,s,i,r,u,n,l,M,h):null}if(N<=1447){let B=new Int32Array(d-a+2);B[0]=E-a+1,m.Copy2(C,a,B,1,d-a+1),this.m_forwardHistory.push(B),B=new Int32Array(b-c+2),B[0]=I-c+1,m.Copy2(w,c,B,1,b-c+1),this.m_reverseHistory.push(B)}}return this.WALKTRACE(E,a,d,T,I,c,b,P,C,w,s,i,r,u,n,l,M,h)}PrettifyChanges(o){for(let i=0;i<o.length;i++){const t=o[i],n=i<o.length-1?o[i+1].originalStart:this._originalElementsOrHash.length,r=i<o.length-1?o[i+1].modifiedStart:this._modifiedElementsOrHash.length,l=t.originalLength>0,h=t.modifiedLength>0;for(;t.originalStart+t.originalLength<n&&t.modifiedStart+t.modifiedLength<r&&(!l||this.OriginalElementsAreEqual(t.originalStart,t.originalStart+t.originalLength))&&(!h||this.ModifiedElementsAreEqual(t.modifiedStart,t.modifiedStart+t.modifiedLength));){const u=this.ElementsAreStrictEqual(t.originalStart,t.modifiedStart);if(this.ElementsAreStrictEqual(t.originalStart+t.originalLength,t.modifiedStart+t.modifiedLength)&&!u)break;t.originalStart++,t.modifiedStart++}const s=[null];if(i<o.length-1&&this.ChangesOverlap(o[i],o[i+1],s)){o[i]=s[0],o.splice(i+1,1),i--;continue}}for(let i=o.length-1;i>=0;i--){const t=o[i];let n=0,r=0;if(i>0){const d=o[i-1];n=d.originalStart+d.originalLength,r=d.modifiedStart+d.modifiedLength}const l=t.originalLength>0,h=t.modifiedLength>0;let s=0,u=this._boundaryScore(t.originalStart,t.originalLength,t.modifiedStart,t.modifiedLength);for(let d=1;;d++){const c=t.originalStart-d,b=t.modifiedStart-d;if(c<n||b<r||l&&!this.OriginalElementsAreEqual(c,c+t.originalLength)||h&&!this.ModifiedElementsAreEqual(b,b+t.modifiedLength))break;const p=(c===n&&b===r?5:0)+this._boundaryScore(c,t.originalLength,b,t.modifiedLength);p>u&&(u=p,s=d)}t.originalStart-=s,t.modifiedStart-=s;const a=[null];if(i>0&&this.ChangesOverlap(o[i-1],o[i],a)){o[i-1]=a[0],o.splice(i,1),i++;continue}}if(this._hasStrings)for(let i=1,t=o.length;i<t;i++){const n=o[i-1],r=o[i],l=r.originalStart-n.originalStart-n.originalLength,h=n.originalStart,s=r.originalStart+r.originalLength,u=s-h,a=n.modifiedStart,d=r.modifiedStart+r.modifiedLength,c=d-a;if(l<5&&u<20&&c<20){const b=this._findBetterContiguousSequence(h,u,a,c,l);if(b){const[g,p]=b;(g!==n.originalStart+n.originalLength||p!==n.modifiedStart+n.modifiedLength)&&(n.originalLength=g-n.originalStart,n.modifiedLength=p-n.modifiedStart,r.originalStart=g+l,r.modifiedStart=p+l,r.originalLength=s-r.originalStart,r.modifiedLength=d-r.modifiedStart)}}}return o}_findBetterContiguousSequence(o,i,t,n,r){if(i<r||n<r)return null;const l=o+i-r+1,h=t+n-r+1;let s=0,u=0,a=0;for(let d=o;d<l;d++)for(let c=t;c<h;c++){const b=this._contiguousSequenceScore(d,c,r);b>0&&b>s&&(s=b,u=d,a=c)}return s>0?[u,a]:null}_contiguousSequenceScore(o,i,t){let n=0;for(let r=0;r<t;r++){if(!this.ElementsAreEqual(o+r,i+r))return 0;n+=this._originalStringElements[o+r].length}return n}_OriginalIsBoundary(o){return o<=0||o>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[o])}_OriginalRegionIsBoundary(o,i){if(this._OriginalIsBoundary(o)||this._OriginalIsBoundary(o-1))return!0;if(i>0){const t=o+i;if(this._OriginalIsBoundary(t-1)||this._OriginalIsBoundary(t))return!0}return!1}_ModifiedIsBoundary(o){return o<=0||o>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[o])}_ModifiedRegionIsBoundary(o,i){if(this._ModifiedIsBoundary(o)||this._ModifiedIsBoundary(o-1))return!0;if(i>0){const t=o+i;if(this._ModifiedIsBoundary(t-1)||this._ModifiedIsBoundary(t))return!0}return!1}_boundaryScore(o,i,t,n){const r=this._OriginalRegionIsBoundary(o,i)?1:0,l=this._ModifiedRegionIsBoundary(t,n)?1:0;return r+l}ConcatenateChanges(o,i){const t=[];if(o.length===0||i.length===0)return i.length>0?i:o;if(this.ChangesOverlap(o[o.length-1],i[0],t)){const n=new Array(o.length+i.length-1);return m.Copy(o,0,n,0,o.length-1),n[o.length-1]=t[0],m.Copy(i,1,n,o.length,i.length-1),n}else{const n=new Array(o.length+i.length);return m.Copy(o,0,n,0,o.length),m.Copy(i,0,n,o.length,i.length),n}}ChangesOverlap(o,i,t){if(_.Assert(o.originalStart<=i.originalStart,"Left change is not less than or equal to right change"),_.Assert(o.modifiedStart<=i.modifiedStart,"Left change is not less than or equal to right change"),o.originalStart+o.originalLength>=i.originalStart||o.modifiedStart+o.modifiedLength>=i.modifiedStart){const n=o.originalStart;let r=o.originalLength;const l=o.modifiedStart;let h=o.modifiedLength;return o.originalStart+o.originalLength>=i.originalStart&&(r=i.originalStart+i.originalLength-o.originalStart),o.modifiedStart+o.modifiedLength>=i.modifiedStart&&(h=i.modifiedStart+i.modifiedLength-o.modifiedStart),t[0]=new y.DiffChange(n,r,l,h),!0}else return t[0]=null,!1}ClipDiagonalBound(o,i,t,n){if(o>=0&&o<n)return o;const r=t,l=n-t-1,h=i%2===0;if(o<0){const s=r%2===0;return h===s?0:1}else{const s=l%2===0;return h===s?n-1:n-2}}}e.LcsDiff=f}),define(J[387],ee([1,0,9]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function k(_,m){if(_&&_[0]!==""){const S=L(_,m,"-"),f=L(_,m,"_");return S&&!f?D(_,m,"-"):!S&&f?D(_,m,"_"):_[0].toUpperCase()===_[0]?m.toUpperCase():_[0].toLowerCase()===_[0]?m.toLowerCase():y.containsUppercaseCharacter(_[0][0])&&m.length>0?m[0].toUpperCase()+m.substr(1):_[0][0].toUpperCase()!==_[0][0]&&m.length>0?m[0].toLowerCase()+m.substr(1):m}else return m}e.buildReplaceStringWithCasePreserved=k;function L(_,m,S){return _[0].indexOf(S)!==-1&&m.indexOf(S)!==-1&&_[0].split(S).length===m.split(S).length}function D(_,m,S){const f=m.split(S),v=_[0].split(S);let o="";return f.forEach((i,t)=>{o+=k([v[t]],i)+S}),o.slice(0,-1)}}),define(J[107],ee([1,0,9]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(L){L[L.Ignore=0]="Ignore",L[L.Info=1]="Info",L[L.Warning=2]="Warning",L[L.Error=3]="Error"})(k||(k={})),function(L){const D="error",_="warning",m="warn",S="info",f="ignore";function v(i){return i?y.equalsIgnoreCase(D,i)?L.Error:y.equalsIgnoreCase(_,i)||y.equalsIgnoreCase(m,i)?L.Warning:y.equalsIgnoreCase(S,i)?L.Info:L.Ignore:L.Ignore}L.fromValue=v;function o(i){switch(i){case L.Error:return D;case L.Warning:return _;case L.Info:return S;default:return f}}L.toString=o}(k||(k={})),e.default=k}),define(J[263],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrotaskDelay=void 0,e.MicrotaskDelay=Symbol("MicrotaskDelay")}),define(J[199],ee([1,0,9]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class k{constructor(){this._value="",this._pos=0}reset(v){return this._value=v,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(v){const o=v.charCodeAt(0),i=this._value.charCodeAt(this._pos);return o-i}value(){return this._value[this._pos]}}e.StringIterator=k;class L{constructor(v=!0){this._caseSensitive=v}reset(v){return this._value=v,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let v=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(v)this._from++;else break;else v=!1;return this}cmp(v){return this._caseSensitive?(0,y.compareSubstring)(v,this._value,0,v.length,this._from,this._to):(0,y.compareSubstringIgnoreCase)(v,this._value,0,v.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=L;class D{constructor(v=!0,o=!0){this._splitOnBackslash=v,this._caseSensitive=o}reset(v){this._from=0,this._to=0,this._value=v,this._valueLen=v.length;for(let o=v.length-1;o>=0;o--,this._valueLen--){const i=this._value.charCodeAt(o);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let v=!0;for(;this._to<this._valueLen;this._to++){const o=this._value.charCodeAt(this._to);if(o===47||this._splitOnBackslash&&o===92)if(v)this._from++;else break;else v=!1}return this}cmp(v){return this._caseSensitive?(0,y.compareSubstring)(v,this._value,0,v.length,this._from,this._to):(0,y.compareSubstringIgnoreCase)(v,this._value,0,v.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=D;class _{constructor(v,o){this._ignorePathCasing=v,this._ignoreQueryAndFragment=o,this._states=[],this._stateIdx=0}reset(v){return this._value=v,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new D(!1,!this._ignorePathCasing(v)),this._pathIterator.reset(v.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(v)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(v){if(this._states[this._stateIdx]===1)return(0,y.compareIgnoreCase)(v,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,y.compareIgnoreCase)(v,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(v);if(this._states[this._stateIdx]===4)return(0,y.compare)(v,this._value.query);if(this._states[this._stateIdx]===5)return(0,y.compare)(v,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=_;class m{constructor(){this.height=1}rotateLeft(){const v=this.right;return this.right=v.left,v.left=this,this.updateHeight(),v.updateHeight(),v}rotateRight(){const v=this.left;return this.left=v.right,v.right=this,this.updateHeight(),v.updateHeight(),v}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var v,o;return(o=(v=this.left)===null||v===void 0?void 0:v.height)!==null&&o!==void 0?o:0}get heightRight(){var v,o;return(o=(v=this.right)===null||v===void 0?void 0:v.height)!==null&&o!==void 0?o:0}}class S{static forUris(v=()=>!1,o=()=>!1){return new S(new _(v,o))}static forStrings(){return new S(new k)}static forConfigKeys(){return new S(new L)}constructor(v){this._iter=v}clear(){this._root=void 0}set(v,o){const i=this._iter.reset(v);let t;this._root||(this._root=new m,this._root.segment=i.value());const n=[];for(t=this._root;;){const l=i.cmp(t.segment);if(l>0)t.left||(t.left=new m,t.left.segment=i.value()),n.push([-1,t]),t=t.left;else if(l<0)t.right||(t.right=new m,t.right.segment=i.value()),n.push([1,t]),t=t.right;else if(i.hasNext())i.next(),t.mid||(t.mid=new m,t.mid.segment=i.value()),n.push([0,t]),t=t.mid;else break}const r=t.value;t.value=o,t.key=v;for(let l=n.length-1;l>=0;l--){const h=n[l][1];h.updateHeight();const s=h.balanceFactor();if(s<-1||s>1){const u=n[l][0],a=n[l+1][0];if(u===1&&a===1)n[l][1]=h.rotateLeft();else if(u===-1&&a===-1)n[l][1]=h.rotateRight();else if(u===1&&a===-1)h.right=n[l+1][1]=n[l+1][1].rotateRight(),n[l][1]=h.rotateLeft();else if(u===-1&&a===1)h.left=n[l+1][1]=n[l+1][1].rotateLeft(),n[l][1]=h.rotateRight();else throw new Error;if(l>0)switch(n[l-1][0]){case-1:n[l-1][1].left=n[l][1];break;case 1:n[l-1][1].right=n[l][1];break;case 0:n[l-1][1].mid=n[l][1];break}else this._root=n[0][1]}}return r}get(v){var o;return(o=this._getNode(v))===null||o===void 0?void 0:o.value}_getNode(v){const o=this._iter.reset(v);let i=this._root;for(;i;){const t=o.cmp(i.segment);if(t>0)i=i.left;else if(t<0)i=i.right;else if(o.hasNext())o.next(),i=i.mid;else break}return i}has(v){const o=this._getNode(v);return!(o?.value===void 0&&o?.mid===void 0)}delete(v){return this._delete(v,!1)}deleteSuperstr(v){return this._delete(v,!0)}_delete(v,o){var i;const t=this._iter.reset(v),n=[];let r=this._root;for(;r;){const l=t.cmp(r.segment);if(l>0)n.push([-1,r]),r=r.left;else if(l<0)n.push([1,r]),r=r.right;else if(t.hasNext())t.next(),n.push([0,r]),r=r.mid;else break}if(r){if(o?(r.left=void 0,r.mid=void 0,r.right=void 0,r.height=1):(r.key=void 0,r.value=void 0),!r.mid&&!r.value)if(r.left&&r.right){const l=this._min(r.right);if(l.key){const{key:h,value:s,segment:u}=l;this._delete(l.key,!1),r.key=h,r.value=s,r.segment=u}}else{const l=(i=r.left)!==null&&i!==void 0?i:r.right;if(n.length>0){const[h,s]=n[n.length-1];switch(h){case-1:s.left=l;break;case 0:s.mid=l;break;case 1:s.right=l;break}}else this._root=l}for(let l=n.length-1;l>=0;l--){const h=n[l][1];h.updateHeight();const s=h.balanceFactor();if(s>1?(h.right.balanceFactor()>=0||(h.right=h.right.rotateRight()),n[l][1]=h.rotateLeft()):s<-1&&(h.left.balanceFactor()<=0||(h.left=h.left.rotateLeft()),n[l][1]=h.rotateRight()),l>0)switch(n[l-1][0]){case-1:n[l-1][1].left=n[l][1];break;case 1:n[l-1][1].right=n[l][1];break;case 0:n[l-1][1].mid=n[l][1];break}else this._root=n[0][1]}}}_min(v){for(;v.left;)v=v.left;return v}findSubstr(v){const o=this._iter.reset(v);let i=this._root,t;for(;i;){const n=o.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(o.hasNext())o.next(),t=i.value||t,i=i.mid;else break}return i&&i.value||t}findSuperstr(v){return this._findSuperstrOrElement(v,!1)}_findSuperstrOrElement(v,o){const i=this._iter.reset(v);let t=this._root;for(;t;){const n=i.cmp(t.segment);if(n>0)t=t.left;else if(n<0)t=t.right;else if(i.hasNext())i.next(),t=t.mid;else return t.mid?this._entries(t.mid):o?t.value:void 0}}forEach(v){for(const[o,i]of this)v(i,o)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(v){const o=[];return this._dfsEntries(v,o),o[Symbol.iterator]()}_dfsEntries(v,o){v&&(v.left&&this._dfsEntries(v.left,o),v.value&&o.push([v.key,v.value]),v.mid&&this._dfsEntries(v.mid,o),v.right&&this._dfsEntries(v.right,o))}}e.TernarySearchTree=S}),define(J[18],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withUndefinedAsNull=e.withNullAsUndefined=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isTypedArray=e.isObject=e.isString=void 0;function y(s){return typeof s=="string"}e.isString=y;function k(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)&&!(s instanceof RegExp)&&!(s instanceof Date)}e.isObject=k;function L(s){const u=Object.getPrototypeOf(Uint8Array);return typeof s=="object"&&s instanceof u}e.isTypedArray=L;function D(s){return typeof s=="number"&&!isNaN(s)}e.isNumber=D;function _(s){return!!s&&typeof s[Symbol.iterator]=="function"}e.isIterable=_;function m(s){return s===!0||s===!1}e.isBoolean=m;function S(s){return typeof s>"u"}e.isUndefined=S;function f(s){return!v(s)}e.isDefined=f;function v(s){return S(s)||s===null}e.isUndefinedOrNull=v;function o(s,u){if(!s)throw new Error(u?`Unexpected type, expected '${u}'`:"Unexpected type")}e.assertType=o;function i(s){if(v(s))throw new Error("Assertion Failed: argument is undefined or null");return s}e.assertIsDefined=i;function t(s){return typeof s=="function"}e.isFunction=t;function n(s,u){const a=Math.min(s.length,u.length);for(let d=0;d<a;d++)r(s[d],u[d])}e.validateConstraints=n;function r(s,u){if(y(u)){if(typeof s!==u)throw new Error(`argument does not match constraint: typeof ${u}`)}else if(t(u)){try{if(s instanceof u)return}catch{}if(!v(s)&&s.constructor===u||u.length===1&&u.call(void 0,s)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=r;function l(s){return s===null?void 0:s}e.withNullAsUndefined=l;function h(s){return typeof s>"u"?null:s}e.withUndefinedAsNull=h}),define(J[26],ee([1,0,18]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Codicon=e.getCodiconFontCharacters=void 0;const k=Object.create(null);function L(_,m){if((0,y.isString)(m)){const S=k[m];if(S===void 0)throw new Error(`${_} references an unknown codicon: ${m}`);m=S}return k[_]=m,{id:_}}function D(){return k}e.getCodiconFontCharacters=D,e.Codicon={add:L("add",6e4),plus:L("plus",6e4),gistNew:L("gist-new",6e4),repoCreate:L("repo-create",6e4),lightbulb:L("lightbulb",60001),lightBulb:L("light-bulb",60001),repo:L("repo",60002),repoDelete:L("repo-delete",60002),gistFork:L("gist-fork",60003),repoForked:L("repo-forked",60003),gitPullRequest:L("git-pull-request",60004),gitPullRequestAbandoned:L("git-pull-request-abandoned",60004),recordKeys:L("record-keys",60005),keyboard:L("keyboard",60005),tag:L("tag",60006),tagAdd:L("tag-add",60006),tagRemove:L("tag-remove",60006),person:L("person",60007),personFollow:L("person-follow",60007),personOutline:L("person-outline",60007),personFilled:L("person-filled",60007),gitBranch:L("git-branch",60008),gitBranchCreate:L("git-branch-create",60008),gitBranchDelete:L("git-branch-delete",60008),sourceControl:L("source-control",60008),mirror:L("mirror",60009),mirrorPublic:L("mirror-public",60009),star:L("star",60010),starAdd:L("star-add",60010),starDelete:L("star-delete",60010),starEmpty:L("star-empty",60010),comment:L("comment",60011),commentAdd:L("comment-add",60011),alert:L("alert",60012),warning:L("warning",60012),search:L("search",60013),searchSave:L("search-save",60013),logOut:L("log-out",60014),signOut:L("sign-out",60014),logIn:L("log-in",60015),signIn:L("sign-in",60015),eye:L("eye",60016),eyeUnwatch:L("eye-unwatch",60016),eyeWatch:L("eye-watch",60016),circleFilled:L("circle-filled",60017),primitiveDot:L("primitive-dot",60017),closeDirty:L("close-dirty",60017),debugBreakpoint:L("debug-breakpoint",60017),debugBreakpointDisabled:L("debug-breakpoint-disabled",60017),debugHint:L("debug-hint",60017),primitiveSquare:L("primitive-square",60018),edit:L("edit",60019),pencil:L("pencil",60019),info:L("info",60020),issueOpened:L("issue-opened",60020),gistPrivate:L("gist-private",60021),gitForkPrivate:L("git-fork-private",60021),lock:L("lock",60021),mirrorPrivate:L("mirror-private",60021),close:L("close",60022),removeClose:L("remove-close",60022),x:L("x",60022),repoSync:L("repo-sync",60023),sync:L("sync",60023),clone:L("clone",60024),desktopDownload:L("desktop-download",60024),beaker:L("beaker",60025),microscope:L("microscope",60025),vm:L("vm",60026),deviceDesktop:L("device-desktop",60026),file:L("file",60027),fileText:L("file-text",60027),more:L("more",60028),ellipsis:L("ellipsis",60028),kebabHorizontal:L("kebab-horizontal",60028),mailReply:L("mail-reply",60029),reply:L("reply",60029),organization:L("organization",60030),organizationFilled:L("organization-filled",60030),organizationOutline:L("organization-outline",60030),newFile:L("new-file",60031),fileAdd:L("file-add",60031),newFolder:L("new-folder",60032),fileDirectoryCreate:L("file-directory-create",60032),trash:L("trash",60033),trashcan:L("trashcan",60033),history:L("history",60034),clock:L("clock",60034),folder:L("folder",60035),fileDirectory:L("file-directory",60035),symbolFolder:L("symbol-folder",60035),logoGithub:L("logo-github",60036),markGithub:L("mark-github",60036),github:L("github",60036),terminal:L("terminal",60037),console:L("console",60037),repl:L("repl",60037),zap:L("zap",60038),symbolEvent:L("symbol-event",60038),error:L("error",60039),stop:L("stop",60039),variable:L("variable",60040),symbolVariable:L("symbol-variable",60040),array:L("array",60042),symbolArray:L("symbol-array",60042),symbolModule:L("symbol-module",60043),symbolPackage:L("symbol-package",60043),symbolNamespace:L("symbol-namespace",60043),symbolObject:L("symbol-object",60043),symbolMethod:L("symbol-method",60044),symbolFunction:L("symbol-function",60044),symbolConstructor:L("symbol-constructor",60044),symbolBoolean:L("symbol-boolean",60047),symbolNull:L("symbol-null",60047),symbolNumeric:L("symbol-numeric",60048),symbolNumber:L("symbol-number",60048),symbolStructure:L("symbol-structure",60049),symbolStruct:L("symbol-struct",60049),symbolParameter:L("symbol-parameter",60050),symbolTypeParameter:L("symbol-type-parameter",60050),symbolKey:L("symbol-key",60051),symbolText:L("symbol-text",60051),symbolReference:L("symbol-reference",60052),goToFile:L("go-to-file",60052),symbolEnum:L("symbol-enum",60053),symbolValue:L("symbol-value",60053),symbolRuler:L("symbol-ruler",60054),symbolUnit:L("symbol-unit",60054),activateBreakpoints:L("activate-breakpoints",60055),archive:L("archive",60056),arrowBoth:L("arrow-both",60057),arrowDown:L("arrow-down",60058),arrowLeft:L("arrow-left",60059),arrowRight:L("arrow-right",60060),arrowSmallDown:L("arrow-small-down",60061),arrowSmallLeft:L("arrow-small-left",60062),arrowSmallRight:L("arrow-small-right",60063),arrowSmallUp:L("arrow-small-up",60064),arrowUp:L("arrow-up",60065),bell:L("bell",60066),bold:L("bold",60067),book:L("book",60068),bookmark:L("bookmark",60069),debugBreakpointConditionalUnverified:L("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:L("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:L("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:L("debug-breakpoint-data-unverified",60072),debugBreakpointData:L("debug-breakpoint-data",60073),debugBreakpointDataDisabled:L("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:L("debug-breakpoint-log-unverified",60074),debugBreakpointLog:L("debug-breakpoint-log",60075),debugBreakpointLogDisabled:L("debug-breakpoint-log-disabled",60075),briefcase:L("briefcase",60076),broadcast:L("broadcast",60077),browser:L("browser",60078),bug:L("bug",60079),calendar:L("calendar",60080),caseSensitive:L("case-sensitive",60081),check:L("check",60082),checklist:L("checklist",60083),chevronDown:L("chevron-down",60084),dropDownButton:L("drop-down-button",60084),chevronLeft:L("chevron-left",60085),chevronRight:L("chevron-right",60086),chevronUp:L("chevron-up",60087),chromeClose:L("chrome-close",60088),chromeMaximize:L("chrome-maximize",60089),chromeMinimize:L("chrome-minimize",60090),chromeRestore:L("chrome-restore",60091),circle:L("circle",60092),circleOutline:L("circle-outline",60092),debugBreakpointUnverified:L("debug-breakpoint-unverified",60092),circleSlash:L("circle-slash",60093),circuitBoard:L("circuit-board",60094),clearAll:L("clear-all",60095),clippy:L("clippy",60096),closeAll:L("close-all",60097),cloudDownload:L("cloud-download",60098),cloudUpload:L("cloud-upload",60099),code:L("code",60100),collapseAll:L("collapse-all",60101),colorMode:L("color-mode",60102),commentDiscussion:L("comment-discussion",60103),compareChanges:L("compare-changes",60157),creditCard:L("credit-card",60105),dash:L("dash",60108),dashboard:L("dashboard",60109),database:L("database",60110),debugContinue:L("debug-continue",60111),debugDisconnect:L("debug-disconnect",60112),debugPause:L("debug-pause",60113),debugRestart:L("debug-restart",60114),debugStart:L("debug-start",60115),debugStepInto:L("debug-step-into",60116),debugStepOut:L("debug-step-out",60117),debugStepOver:L("debug-step-over",60118),debugStop:L("debug-stop",60119),debug:L("debug",60120),deviceCameraVideo:L("device-camera-video",60121),deviceCamera:L("device-camera",60122),deviceMobile:L("device-mobile",60123),diffAdded:L("diff-added",60124),diffIgnored:L("diff-ignored",60125),diffModified:L("diff-modified",60126),diffRemoved:L("diff-removed",60127),diffRenamed:L("diff-renamed",60128),diff:L("diff",60129),discard:L("discard",60130),editorLayout:L("editor-layout",60131),emptyWindow:L("empty-window",60132),exclude:L("exclude",60133),extensions:L("extensions",60134),eyeClosed:L("eye-closed",60135),fileBinary:L("file-binary",60136),fileCode:L("file-code",60137),fileMedia:L("file-media",60138),filePdf:L("file-pdf",60139),fileSubmodule:L("file-submodule",60140),fileSymlinkDirectory:L("file-symlink-directory",60141),fileSymlinkFile:L("file-symlink-file",60142),fileZip:L("file-zip",60143),files:L("files",60144),filter:L("filter",60145),flame:L("flame",60146),foldDown:L("fold-down",60147),foldUp:L("fold-up",60148),fold:L("fold",60149),folderActive:L("folder-active",60150),folderOpened:L("folder-opened",60151),gear:L("gear",60152),gift:L("gift",60153),gistSecret:L("gist-secret",60154),gist:L("gist",60155),gitCommit:L("git-commit",60156),gitCompare:L("git-compare",60157),gitMerge:L("git-merge",60158),githubAction:L("github-action",60159),githubAlt:L("github-alt",60160),globe:L("globe",60161),grabber:L("grabber",60162),graph:L("graph",60163),gripper:L("gripper",60164),heart:L("heart",60165),home:L("home",60166),horizontalRule:L("horizontal-rule",60167),hubot:L("hubot",60168),inbox:L("inbox",60169),issueClosed:L("issue-closed",60324),issueReopened:L("issue-reopened",60171),issues:L("issues",60172),italic:L("italic",60173),jersey:L("jersey",60174),json:L("json",60175),bracket:L("bracket",60175),kebabVertical:L("kebab-vertical",60176),key:L("key",60177),law:L("law",60178),lightbulbAutofix:L("lightbulb-autofix",60179),linkExternal:L("link-external",60180),link:L("link",60181),listOrdered:L("list-ordered",60182),listUnordered:L("list-unordered",60183),liveShare:L("live-share",60184),loading:L("loading",60185),location:L("location",60186),mailRead:L("mail-read",60187),mail:L("mail",60188),markdown:L("markdown",60189),megaphone:L("megaphone",60190),mention:L("mention",60191),milestone:L("milestone",60192),mortarBoard:L("mortar-board",60193),move:L("move",60194),multipleWindows:L("multiple-windows",60195),mute:L("mute",60196),noNewline:L("no-newline",60197),note:L("note",60198),octoface:L("octoface",60199),openPreview:L("open-preview",60200),package_:L("package",60201),paintcan:L("paintcan",60202),pin:L("pin",60203),play:L("play",60204),run:L("run",60204),plug:L("plug",60205),preserveCase:L("preserve-case",60206),preview:L("preview",60207),project:L("project",60208),pulse:L("pulse",60209),question:L("question",60210),quote:L("quote",60211),radioTower:L("radio-tower",60212),reactions:L("reactions",60213),references:L("references",60214),refresh:L("refresh",60215),regex:L("regex",60216),remoteExplorer:L("remote-explorer",60217),remote:L("remote",60218),remove:L("remove",60219),replaceAll:L("replace-all",60220),replace:L("replace",60221),repoClone:L("repo-clone",60222),repoForcePush:L("repo-force-push",60223),repoPull:L("repo-pull",60224),repoPush:L("repo-push",60225),report:L("report",60226),requestChanges:L("request-changes",60227),rocket:L("rocket",60228),rootFolderOpened:L("root-folder-opened",60229),rootFolder:L("root-folder",60230),rss:L("rss",60231),ruby:L("ruby",60232),saveAll:L("save-all",60233),saveAs:L("save-as",60234),save:L("save",60235),screenFull:L("screen-full",60236),screenNormal:L("screen-normal",60237),searchStop:L("search-stop",60238),server:L("server",60240),settingsGear:L("settings-gear",60241),settings:L("settings",60242),shield:L("shield",60243),smiley:L("smiley",60244),sortPrecedence:L("sort-precedence",60245),splitHorizontal:L("split-horizontal",60246),splitVertical:L("split-vertical",60247),squirrel:L("squirrel",60248),starFull:L("star-full",60249),starHalf:L("star-half",60250),symbolClass:L("symbol-class",60251),symbolColor:L("symbol-color",60252),symbolCustomColor:L("symbol-customcolor",60252),symbolConstant:L("symbol-constant",60253),symbolEnumMember:L("symbol-enum-member",60254),symbolField:L("symbol-field",60255),symbolFile:L("symbol-file",60256),symbolInterface:L("symbol-interface",60257),symbolKeyword:L("symbol-keyword",60258),symbolMisc:L("symbol-misc",60259),symbolOperator:L("symbol-operator",60260),symbolProperty:L("symbol-property",60261),wrench:L("wrench",60261),wrenchSubaction:L("wrench-subaction",60261),symbolSnippet:L("symbol-snippet",60262),tasklist:L("tasklist",60263),telescope:L("telescope",60264),textSize:L("text-size",60265),threeBars:L("three-bars",60266),thumbsdown:L("thumbsdown",60267),thumbsup:L("thumbsup",60268),tools:L("tools",60269),triangleDown:L("triangle-down",60270),triangleLeft:L("triangle-left",60271),triangleRight:L("triangle-right",60272),triangleUp:L("triangle-up",60273),twitter:L("twitter",60274),unfold:L("unfold",60275),unlock:L("unlock",60276),unmute:L("unmute",60277),unverified:L("unverified",60278),verified:L("verified",60279),versions:L("versions",60280),vmActive:L("vm-active",60281),vmOutline:L("vm-outline",60282),vmRunning:L("vm-running",60283),watch:L("watch",60284),whitespace:L("whitespace",60285),wholeWord:L("whole-word",60286),window:L("window",60287),wordWrap:L("word-wrap",60288),zoomIn:L("zoom-in",60289),zoomOut:L("zoom-out",60290),listFilter:L("list-filter",60291),listFlat:L("list-flat",60292),listSelection:L("list-selection",60293),selection:L("selection",60293),listTree:L("list-tree",60294),debugBreakpointFunctionUnverified:L("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:L("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:L("debug-breakpoint-function-disabled",60296),debugStackframeActive:L("debug-stackframe-active",60297),circleSmallFilled:L("circle-small-filled",60298),debugStackframeDot:L("debug-stackframe-dot",60298),debugStackframe:L("debug-stackframe",60299),debugStackframeFocused:L("debug-stackframe-focused",60299),debugBreakpointUnsupported:L("debug-breakpoint-unsupported",60300),symbolString:L("symbol-string",60301),debugReverseContinue:L("debug-reverse-continue",60302),debugStepBack:L("debug-step-back",60303),debugRestartFrame:L("debug-restart-frame",60304),callIncoming:L("call-incoming",60306),callOutgoing:L("call-outgoing",60307),menu:L("menu",60308),expandAll:L("expand-all",60309),feedback:L("feedback",60310),groupByRefType:L("group-by-ref-type",60311),ungroupByRefType:L("ungroup-by-ref-type",60312),account:L("account",60313),bellDot:L("bell-dot",60314),debugConsole:L("debug-console",60315),library:L("library",60316),output:L("output",60317),runAll:L("run-all",60318),syncIgnored:L("sync-ignored",60319),pinned:L("pinned",60320),githubInverted:L("github-inverted",60321),debugAlt:L("debug-alt",60305),serverProcess:L("server-process",60322),serverEnvironment:L("server-environment",60323),pass:L("pass",60324),stopCircle:L("stop-circle",60325),playCircle:L("play-circle",60326),record:L("record",60327),debugAltSmall:L("debug-alt-small",60328),vmConnect:L("vm-connect",60329),cloud:L("cloud",60330),merge:L("merge",60331),exportIcon:L("export",60332),graphLeft:L("graph-left",60333),magnet:L("magnet",60334),notebook:L("notebook",60335),redo:L("redo",60336),checkAll:L("check-all",60337),pinnedDirty:L("pinned-dirty",60338),passFilled:L("pass-filled",60339),circleLargeFilled:L("circle-large-filled",60340),circleLarge:L("circle-large",60341),circleLargeOutline:L("circle-large-outline",60341),combine:L("combine",60342),gather:L("gather",60342),table:L("table",60343),variableGroup:L("variable-group",60344),typeHierarchy:L("type-hierarchy",60345),typeHierarchySub:L("type-hierarchy-sub",60346),typeHierarchySuper:L("type-hierarchy-super",60347),gitPullRequestCreate:L("git-pull-request-create",60348),runAbove:L("run-above",60349),runBelow:L("run-below",60350),notebookTemplate:L("notebook-template",60351),debugRerun:L("debug-rerun",60352),workspaceTrusted:L("workspace-trusted",60353),workspaceUntrusted:L("workspace-untrusted",60354),workspaceUnspecified:L("workspace-unspecified",60355),terminalCmd:L("terminal-cmd",60356),terminalDebian:L("terminal-debian",60357),terminalLinux:L("terminal-linux",60358),terminalPowershell:L("terminal-powershell",60359),terminalTmux:L("terminal-tmux",60360),terminalUbuntu:L("terminal-ubuntu",60361),terminalBash:L("terminal-bash",60362),arrowSwap:L("arrow-swap",60363),copy:L("copy",60364),personAdd:L("person-add",60365),filterFilled:L("filter-filled",60366),wand:L("wand",60367),debugLineByLine:L("debug-line-by-line",60368),inspect:L("inspect",60369),layers:L("layers",60370),layersDot:L("layers-dot",60371),layersActive:L("layers-active",60372),compass:L("compass",60373),compassDot:L("compass-dot",60374),compassActive:L("compass-active",60375),azure:L("azure",60376),issueDraft:L("issue-draft",60377),gitPullRequestClosed:L("git-pull-request-closed",60378),gitPullRequestDraft:L("git-pull-request-draft",60379),debugAll:L("debug-all",60380),debugCoverage:L("debug-coverage",60381),runErrors:L("run-errors",60382),folderLibrary:L("folder-library",60383),debugContinueSmall:L("debug-continue-small",60384),beakerStop:L("beaker-stop",60385),graphLine:L("graph-line",60386),graphScatter:L("graph-scatter",60387),pieChart:L("pie-chart",60388),bracketDot:L("bracket-dot",60389),bracketError:L("bracket-error",60390),lockSmall:L("lock-small",60391),azureDevops:L("azure-devops",60392),verifiedFilled:L("verified-filled",60393),newLine:L("newline",60394),layout:L("layout",60395),layoutActivitybarLeft:L("layout-activitybar-left",60396),layoutActivitybarRight:L("layout-activitybar-right",60397),layoutPanelLeft:L("layout-panel-left",60398),layoutPanelCenter:L("layout-panel-center",60399),layoutPanelJustify:L("layout-panel-justify",60400),layoutPanelRight:L("layout-panel-right",60401),layoutPanel:L("layout-panel",60402),layoutSidebarLeft:L("layout-sidebar-left",60403),layoutSidebarRight:L("layout-sidebar-right",60404),layoutStatusbar:L("layout-statusbar",60405),layoutMenubar:L("layout-menubar",60406),layoutCentered:L("layout-centered",60407),layoutSidebarRightOff:L("layout-sidebar-right-off",60416),layoutPanelOff:L("layout-panel-off",60417),layoutSidebarLeftOff:L("layout-sidebar-left-off",60418),target:L("target",60408),indent:L("indent",60409),recordSmall:L("record-small",60410),errorSmall:L("error-small",60411),arrowCircleDown:L("arrow-circle-down",60412),arrowCircleLeft:L("arrow-circle-left",60413),arrowCircleRight:L("arrow-circle-right",60414),arrowCircleUp:L("arrow-circle-up",60415),heartFilled:L("heart-filled",60420),map:L("map",60421),mapFilled:L("map-filled",60422),circleSmall:L("circle-small",60423),bellSlash:L("bell-slash",60424),bellSlashDot:L("bell-slash-dot",60425),commentUnresolved:L("comment-unresolved",60426),gitPullRequestGoToChanges:L("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:L("git-pull-request-new-changes",60428),searchFuzzy:L("search-fuzzy",60429),commentDraft:L("comment-draft",60430),send:L("send",60431),sparkle:L("sparkle",60432),insert:L("insert",60433),dialogError:L("dialog-error","error"),dialogWarning:L("dialog-warning","warning"),dialogInfo:L("dialog-info","info"),dialogClose:L("dialog-close","close"),treeItemExpanded:L("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:L("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:L("tree-filter-on-type-off","list-selection"),treeFilterClear:L("tree-filter-clear","close"),treeItemLoading:L("tree-item-loading","loading"),menuSelection:L("menu-selection","check"),menuSubmenu:L("menu-submenu","chevron-right"),menuBarMore:L("menubar-more","more"),scrollbarButtonLeft:L("scrollbar-button-left","triangle-left"),scrollbarButtonRight:L("scrollbar-button-right","triangle-right"),scrollbarButtonUp:L("scrollbar-button-up","triangle-up"),scrollbarButtonDown:L("scrollbar-button-down","triangle-down"),toolBarMore:L("toolbar-more","more"),quickInputBack:L("quick-input-back","arrow-left")}}),define(J[46],ee([1,0,18]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function k(t){if(!t||typeof t!="object"||t instanceof RegExp)return t;const n=Array.isArray(t)?[]:{};return Object.entries(t).forEach(([r,l])=>{n[r]=l&&typeof l=="object"?k(l):l}),n}e.deepClone=k;function L(t){if(!t||typeof t!="object")return t;const n=[t];for(;n.length>0;){const r=n.shift();Object.freeze(r);for(const l in r)if(D.call(r,l)){const h=r[l];typeof h=="object"&&!Object.isFrozen(h)&&!(0,y.isTypedArray)(h)&&n.push(h)}}return t}e.deepFreeze=L;const D=Object.prototype.hasOwnProperty;function _(t,n){return m(t,n,new Set)}e.cloneAndChange=_;function m(t,n,r){if((0,y.isUndefinedOrNull)(t))return t;const l=n(t);if(typeof l<"u")return l;if(Array.isArray(t)){const h=[];for(const s of t)h.push(m(s,n,r));return h}if((0,y.isObject)(t)){if(r.has(t))throw new Error("Cannot clone recursive data-structure");r.add(t);const h={};for(const s in t)D.call(t,s)&&(h[s]=m(t[s],n,r));return r.delete(t),h}return t}function S(t,n,r=!0){return(0,y.isObject)(t)?((0,y.isObject)(n)&&Object.keys(n).forEach(l=>{l in t?r&&((0,y.isObject)(t[l])&&(0,y.isObject)(n[l])?S(t[l],n[l],r):t[l]=n[l]):t[l]=n[l]}),t):n}e.mixin=S;function f(t,n){if(t===n)return!0;if(t==null||n===null||n===void 0||typeof t!=typeof n||typeof t!="object"||Array.isArray(t)!==Array.isArray(n))return!1;let r,l;if(Array.isArray(t)){if(t.length!==n.length)return!1;for(r=0;r<t.length;r++)if(!f(t[r],n[r]))return!1}else{const h=[];for(l in t)h.push(l);h.sort();const s=[];for(l in n)s.push(l);if(s.sort(),!f(h,s))return!1;for(r=0;r<h.length;r++)if(!f(t[h[r]],n[h[r]]))return!1}return!0}e.equals=f;function v(t){let n=[];for(;Object.prototype!==t;)n=n.concat(Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return n}e.getAllPropertyNames=v;function o(t){const n=[];for(const r of v(t))typeof t[r]=="function"&&n.push(r);return n}e.getAllMethodNames=o;function i(t,n){const r=h=>function(){const s=Array.prototype.slice.call(arguments,0);return n(h,s)},l={};for(const h of t)l[h]=r(h);return l}e.createProxyObject=i}),define(J[27],ee([1,0,26]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeIcon=e.ThemeColor=void 0;var k;(function(D){function _(m){return m&&typeof m=="object"&&typeof m.id=="string"}D.isThemeColor=_})(k||(e.ThemeColor=k={}));var L;(function(D){D.iconNameSegment="[A-Za-z0-9]+",D.iconNameExpression="[A-Za-z0-9-]+",D.iconModifierExpression="~[A-Za-z]+",D.iconNameCharacter="[A-Za-z0-9~-]";const _=new RegExp(`^(${D.iconNameExpression})(${D.iconModifierExpression})?$`);function m(h){const s=_.exec(h.id);if(!s)return m(y.Codicon.error);const[,u,a]=s,d=["codicon","codicon-"+u];return a&&d.push("codicon-modifier-"+a.substring(1)),d}D.asClassNameArray=m;function S(h){return m(h).join(" ")}D.asClassName=S;function f(h){return"."+m(h).join(".")}D.asCSSSelector=f;function v(h){return h&&typeof h=="object"&&typeof h.id=="string"&&(typeof h.color>"u"||k.isThemeColor(h.color))}D.isThemeIcon=v;const o=new RegExp(`^\\$\\((${D.iconNameExpression}(?:${D.iconModifierExpression})?)\\)$`);function i(h){const s=o.exec(h);if(!s)return;const[,u]=s;return{id:u}}D.fromString=i;function t(h){return{id:h}}D.fromId=t;function n(h,s){let u=h.id;const a=u.lastIndexOf("~");return a!==-1&&(u=u.substring(0,a)),s&&(u=`${u}~${s}`),{id:u}}D.modify=n;function r(h){const s=h.id.lastIndexOf("~");if(s!==-1)return h.id.substring(s+1)}D.getModifier=r;function l(h,s){var u,a;return h.id===s.id&&((u=h.color)===null||u===void 0?void 0:u.id)===((a=s.color)===null||a===void 0?void 0:a.id)}D.isEqual=l})(L||(e.ThemeIcon=L={}))}),define(J[120],ee([1,0,71,9,27]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.getCodiconAriaLabel=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=void 0;const D="$(",_=new RegExp(`\\$\\(${L.ThemeIcon.iconNameExpression}(?:${L.ThemeIcon.iconModifierExpression})?\\)`,"g"),m=new RegExp(`(\\\\)?${_.source}`,"g");function S(h){return h.replace(m,(s,u)=>u?s:`\\${s}`)}e.escapeIcons=S;const f=new RegExp(`\\\\${_.source}`,"g");function v(h){return h.replace(f,s=>`\\${s}`)}e.markdownEscapeEscapedIcons=v;const o=new RegExp(`(\\s)?(\\\\)?${_.source}(\\s)?`,"g");function i(h){return h.indexOf(D)===-1?h:h.replace(o,(s,u,a,d)=>a?s:u||d||"")}e.stripIcons=i;function t(h){return h?h.replace(/\$\((.*?)\)/g,(s,u)=>` ${u} `).trim():""}e.getCodiconAriaLabel=t;const n=new RegExp(`\\$\\(${L.ThemeIcon.iconNameCharacter}+\\)`,"g");function r(h){n.lastIndex=0;let s="";const u=[];let a=0;for(;;){const d=n.lastIndex,c=n.exec(h),b=h.substring(d,c?.index);if(b.length>0){s+=b;for(let g=0;g<b.length;g++)u.push(a)}if(!c)break;a+=c[0].length}return{text:s,iconOffsets:u}}e.parseLabelWithIcons=r;function l(h,s,u=!1){const{text:a,iconOffsets:d}=s;if(!d||d.length===0)return(0,y.matchesFuzzy)(h,a,u);const c=(0,k.ltrim)(a," "),b=a.length-c.length,g=(0,y.matchesFuzzy)(h,c,u);if(g)for(const p of g){const C=d[p.start+b]+b;p.start+=C,p.end+=C}return g}e.matchesFuzzyIconAware=l}),define(J[171],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function y(L){return L<0?0:L>255?255:L|0}e.toUint8=y;function k(L){return L<0?0:L>4294967295?4294967295:L|0}e.toUint32=k}),define(J[172],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let y;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?y=crypto.getRandomValues.bind(crypto):y=function(D){for(let _=0;_<D.length;_++)D[_]=Math.floor(Math.random()*256);return D};const k=new Uint8Array(16),L=[];for(let D=0;D<256;D++)L.push(D.toString(16).padStart(2,"0"));return function(){y(k),k[6]=k[6]&15|64,k[8]=k[8]&63|128;let _=0,m="";return m+=L[k[_++]],m+=L[k[_++]],m+=L[k[_++]],m+=L[k[_++]],m+="-",m+=L[k[_++]],m+=L[k[_++]],m+="-",m+=L[k[_++]],m+=L[k[_++]],m+="-",m+=L[k[_++]],m+=L[k[_++]],m+="-",m+=L[k[_++]],m+=L[k[_++]],m+=L[k[_++]],m+=L[k[_++]],m+=L[k[_++]],m+=L[k[_++]],m}}()}),define(J[173],ee([1,0,15,51,172]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.matchesMimeType=e.VSDataTransfer=e.createFileDataTransferItem=e.createStringDataTransferItem=void 0;function D(o){return{asString:()=>Le(this,void 0,void 0,function*(){return o}),asFile:()=>{},value:typeof o=="string"?o:void 0}}e.createStringDataTransferItem=D;function _(o,i,t){const n={id:(0,L.generateUuid)(),name:o,uri:i,data:t};return{asString:()=>Le(this,void 0,void 0,function*(){return""}),asFile:()=>n,value:void 0}}e.createFileDataTransferItem=_;class m{constructor(){this._entries=new Map}get size(){let i=0;for(const t of this._entries)i++;return i}has(i){return this._entries.has(this.toKey(i))}matches(i){const t=[...this._entries.keys()];return k.Iterable.some(this,([n,r])=>r.asFile())&&t.push("files"),v(S(i),t)}get(i){var t;return(t=this._entries.get(this.toKey(i)))===null||t===void 0?void 0:t[0]}append(i,t){const n=this._entries.get(i);n?n.push(t):this._entries.set(this.toKey(i),[t])}replace(i,t){this._entries.set(this.toKey(i),[t])}delete(i){this._entries.delete(this.toKey(i))}*[Symbol.iterator](){for(const[i,t]of this._entries)for(const n of t)yield[i,n]}toKey(i){return S(i)}}e.VSDataTransfer=m;function S(o){return o.toLowerCase()}function f(o,i){return v(S(o),i.map(S))}e.matchesMimeType=f;function v(o,i){if(o==="*/*")return i.length>0;if(i.includes(o))return!0;const t=o.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!t)return!1;const[n,r,l]=t;return l==="*"?i.some(h=>h.startsWith(r+"/")):!1}e.UriList=Object.freeze({create:o=>(0,y.distinct)(o.map(i=>i.toString())).join(`\r
`),split:o=>o.split(`\r
`),parse:o=>e.UriList.split(o).filter(i=>!i.startsWith("#"))})}),define(J[264],ee([10]),{}),define(J[388],ee([10]),{}),define(J[389],ee([10]),{}),define(J[390],ee([10]),{}),define(J[391],ee([10]),{}),define(J[174],ee([1,0,390,391]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(J[392],ee([10]),{}),define(J[393],ee([10]),{}),define(J[265],ee([10]),{}),define(J[266],ee([10]),{}),define(J[394],ee([10]),{}),define(J[395],ee([10]),{}),define(J[396],ee([10]),{}),define(J[397],ee([10]),{}),define(J[267],ee([10]),{}),define(J[398],ee([10]),{}),define(J[175],ee([1,0,398]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(J[399],ee([10]),{}),define(J[400],ee([10]),{}),define(J[401],ee([10]),{}),define(J[402],ee([10]),{}),define(J[403],ee([10]),{}),define(J[404],ee([10]),{}),define(J[405],ee([10]),{}),define(J[406],ee([10]),{}),define(J[407],ee([10]),{}),define(J[408],ee([10]),{}),define(J[409],ee([10]),{}),define(J[410],ee([10]),{}),define(J[411],ee([10]),{}),define(J[412],ee([10]),{}),define(J[413],ee([10]),{}),define(J[414],ee([10]),{}),define(J[415],ee([10]),{}),define(J[416],ee([10]),{}),define(J[417],ee([10]),{}),define(J[418],ee([10]),{}),define(J[419],ee([10]),{}),define(J[420],ee([10]),{}),define(J[421],ee([10]),{}),define(J[422],ee([10]),{}),define(J[423],ee([10]),{}),define(J[424],ee([10]),{}),define(J[425],ee([10]),{}),define(J[426],ee([10]),{}),define(J[427],ee([10]),{}),define(J[428],ee([10]),{}),define(J[429],ee([10]),{}),define(J[430],ee([10]),{}),define(J[431],ee([10]),{}),define(J[432],ee([10]),{}),define(J[433],ee([10]),{}),define(J[434],ee([10]),{}),define(J[200],ee([10]),{}),define(J[435],ee([10]),{}),define(J[436],ee([10]),{}),define(J[437],ee([10]),{}),define(J[438],ee([10]),{}),define(J[439],ee([10]),{}),define(J[440],ee([10]),{}),define(J[441],ee([10]),{}),define(J[442],ee([10]),{}),define(J[443],ee([10]),{}),define(J[444],ee([10]),{}),define(J[445],ee([10]),{}),define(J[446],ee([10]),{}),define(J[447],ee([10]),{}),define(J[448],ee([10]),{}),define(J[449],ee([10]),{}),define(J[450],ee([10]),{}),define(J[451],ee([10]),{}),define(J[452],ee([10]),{}),define(J[453],ee([10]),{}),define(J[454],ee([10]),{}),define(J[455],ee([10]),{}),define(J[456],ee([10]),{}),define(J[457],ee([10]),{}),define(J[458],ee([10]),{}),define(J[459],ee([10]),{}),define(J[460],ee([10]),{}),define(J[461],ee([10]),{}),define(J[462],ee([10]),{}),define(J[463],ee([10]),{}),define(J[464],ee([10]),{}),define(J[465],ee([10]),{}),define(J[466],ee([10]),{}),define(J[268],ee([10]),{}),define(J[467],ee([10]),{}),define(J[468],ee([10]),{}),define(J[176],ee([10]),{}),define(J[469],ee([10]),{}),define(J[60],ee([1,0,35]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function k(L,D){L instanceof y.FastDomNode?(L.setFontFamily(D.getMassagedFontFamily()),L.setFontWeight(D.fontWeight),L.setFontSize(D.fontSize),L.setFontFeatureSettings(D.fontFeatureSettings),L.setFontVariationSettings(D.fontVariationSettings),L.setLineHeight(D.lineHeight),L.setLetterSpacing(D.letterSpacing)):(L.style.fontFamily=D.getMassagedFontFamily(),L.style.fontWeight=D.fontWeight,L.style.fontSize=D.fontSize+"px",L.style.fontFeatureSettings=D.fontFeatureSettings,L.style.fontVariationSettings=D.fontVariationSettings,L.style.lineHeight=D.lineHeight+"px",L.style.letterSpacing=D.letterSpacing+"px")}e.applyFontInfo=k}),define(J[470],ee([1,0,60]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class k{constructor(m,S){this.chr=m,this.type=S,this.width=0}fulfill(m){this.width=m}}e.CharWidthRequest=k;class L{constructor(m,S){this._bareFontInfo=m,this._requests=S,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const m=document.createElement("div");m.style.position="absolute",m.style.top="-50000px",m.style.width="50000px";const S=document.createElement("div");(0,y.applyFontInfo)(S,this._bareFontInfo),m.appendChild(S);const f=document.createElement("div");(0,y.applyFontInfo)(f,this._bareFontInfo),f.style.fontWeight="bold",m.appendChild(f);const v=document.createElement("div");(0,y.applyFontInfo)(v,this._bareFontInfo),v.style.fontStyle="italic",m.appendChild(v);const o=[];for(const i of this._requests){let t;i.type===0&&(t=S),i.type===2&&(t=f),i.type===1&&(t=v),t.appendChild(document.createElement("br"));const n=document.createElement("span");L._render(n,i),t.appendChild(n),o.push(n)}this._container=m,this._testElements=o}static _render(m,S){if(S.chr===" "){let f="\xA0";for(let v=0;v<8;v++)f+=f;m.innerText=f}else{let f=S.chr;for(let v=0;v<8;v++)f+=f;m.textContent=f}}_readFromDomElements(){for(let m=0,S=this._requests.length;m<S;m++){const f=this._requests[m],v=this._testElements[m];f.fulfill(v.offsetWidth/256)}}}function D(_,m){new L(_,m).read()}e.readCharWidths=D}),define(J[201],ee([1,0,2,6]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class L extends y.Disposable{constructor(_,m){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=_,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,m)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(_=>{_&&_[0]&&_[0].contentRect?this.observe({width:_[0].contentRect.width,height:_[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(_){this.measureReferenceDomElement(!0,_)}measureReferenceDomElement(_,m){let S=0,f=0;m?(S=m.width,f=m.height):this._referenceDomElement&&(S=this._referenceDomElement.clientWidth,f=this._referenceDomElement.clientHeight),S=Math.max(5,S),f=Math.max(5,f),(this._width!==S||this._height!==f)&&(this._width=S,this._height=f,_&&this._onDidChange.fire())}}e.ElementSizeObserver=L}),define(J[471],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=e.EditorSettingMigration=void 0;class y{constructor(S,f){this.key=S,this.migrate=f}apply(S){const f=y._read(S,this.key),v=i=>y._read(S,i),o=(i,t)=>y._write(S,i,t);this.migrate(f,v,o)}static _read(S,f){if(typeof S>"u")return;const v=f.indexOf(".");if(v>=0){const o=f.substring(0,v);return this._read(S[o],f.substring(v+1))}return S[f]}static _write(S,f,v){const o=f.indexOf(".");if(o>=0){const i=f.substring(0,o);S[i]=S[i]||{},this._write(S[i],f.substring(o+1),v);return}S[f]=v}}e.EditorSettingMigration=y,y.items=[];function k(m,S){y.items.push(new y(m,S))}function L(m,S){k(m,(f,v,o)=>{if(typeof f<"u"){for(const[i,t]of S)if(f===i){o(m,t);return}}})}function D(m){y.items.forEach(S=>S.apply(m))}e.migrateOptions=D,L("wordWrap",[[!0,"on"],[!1,"off"]]),L("lineNumbers",[[!0,"on"],[!1,"off"]]),L("cursorBlinking",[["visible","solid"]]),L("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),L("renderLineHighlight",[[!0,"line"],[!1,"none"]]),L("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),L("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),L("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),L("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),L("autoIndent",[[!1,"advanced"],[!0,"full"]]),L("matchBrackets",[[!0,"always"],[!1,"never"]]),L("renderFinalNewline",[[!0,"on"],[!1,"off"]]),L("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),k("autoClosingBrackets",(m,S,f)=>{m===!1&&(f("autoClosingBrackets","never"),typeof S("autoClosingQuotes")>"u"&&f("autoClosingQuotes","never"),typeof S("autoSurround")>"u"&&f("autoSurround","never"))}),k("renderIndentGuides",(m,S,f)=>{typeof m<"u"&&(f("renderIndentGuides",void 0),typeof S("guides.indentation")>"u"&&f("guides.indentation",!!m))}),k("highlightActiveIndentGuide",(m,S,f)=>{typeof m<"u"&&(f("highlightActiveIndentGuide",void 0),typeof S("guides.highlightActiveIndentation")>"u"&&f("guides.highlightActiveIndentation",!!m))});const _={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};k("suggest.filteredTypes",(m,S,f)=>{if(m&&typeof m=="object"){for(const v of Object.entries(_))m[v[0]]===!1&&typeof S(`suggest.${v[1]}`)>"u"&&f(`suggest.${v[1]}`,!1);f("suggest.filteredTypes",void 0)}}),k("quickSuggestions",(m,S,f)=>{if(typeof m=="boolean"){const v=m?"on":"off";f("quickSuggestions",{comments:v,strings:v,other:v})}}),k("experimental.stickyScroll.enabled",(m,S,f)=>{typeof m=="boolean"&&(f("experimental.stickyScroll.enabled",void 0),typeof S("stickyScroll.enabled")>"u"&&f("stickyScroll.enabled",m))}),k("experimental.stickyScroll.maxLineCount",(m,S,f)=>{typeof m=="number"&&(f("experimental.stickyScroll.maxLineCount",void 0),typeof S("stickyScroll.maxLineCount")>"u"&&f("stickyScroll.maxLineCount",m))})}),define(J[202],ee([1,0,6]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class k{constructor(){this._tabFocusTerminal=!1,this._tabFocusEditor=!1,this._onDidChangeTabFocus=new y.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(D){return D==="terminalFocus"?this._tabFocusTerminal:this._tabFocusEditor}setTabFocusMode(D,_){_==="terminalFocus"?this._tabFocusTerminal=D:this._tabFocusEditor=D,this._onDidChangeTabFocus.fire()}}e.TabFocus=new k}),define(J[108],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class y{static capture(L){if(L.getScrollTop()===0||L.hasPendingScrollAnimation())return new y(L.getScrollTop(),L.getContentHeight(),null,0,null);let D=null,_=0;const m=L.getVisibleRanges();if(m.length>0){D=m[0].getStartPosition();const S=L.getTopForPosition(D.lineNumber,D.column);_=L.getScrollTop()-S}return new y(L.getScrollTop(),L.getContentHeight(),D,_,L.getPosition())}constructor(L,D,_,m,S){this._initialScrollTop=L,this._initialContentHeight=D,this._visiblePosition=_,this._visiblePositionScrollDelta=m,this._cursorPosition=S}restore(L){if(!(this._initialContentHeight===L.getContentHeight()&&this._initialScrollTop===L.getScrollTop())&&this._visiblePosition){const D=L.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);L.setScrollTop(D+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(L){if(this._initialContentHeight===L.getContentHeight()&&this._initialScrollTop===L.getScrollTop())return;const D=L.getPosition();if(!this._cursorPosition||!D)return;const _=L.getTopForLineNumber(D.lineNumber)-L.getTopForLineNumber(this._cursorPosition.lineNumber);L.setScrollTop(L.getScrollTop()+_)}}e.StableEditorScrollState=y}),define(J[146],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class y{constructor(v,o){this._restrictedRenderingContextBrand=void 0,this._viewLayout=v,this.viewportData=o,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(v){return v-this.scrollTop}getVerticalOffsetForLineNumber(v,o){return this._viewLayout.getVerticalOffsetForLineNumber(v,o)}getVerticalOffsetAfterLineNumber(v,o){return this._viewLayout.getVerticalOffsetAfterLineNumber(v,o)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=y;class k extends y{constructor(v,o,i){super(v,o),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(v,o){return this._viewLines.linesVisibleRangesForRange(v,o)}visibleRangeForPosition(v){return this._viewLines.visibleRangeForPosition(v)}}e.RenderingContext=k;class L{constructor(v,o,i,t){this.outsideRenderedLine=v,this.lineNumber=o,this.ranges=i,this.continuesOnNextLine=t}}e.LineVisibleRanges=L;class D{static from(v){const o=new Array(v.length);for(let i=0,t=v.length;i<t;i++){const n=v[i];o[i]=new D(n.left,n.width)}return o}constructor(v,o){this._horizontalRangeBrand=void 0,this.left=Math.round(v),this.width=Math.round(o)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class _{constructor(v,o){this._floatHorizontalRangeBrand=void 0,this.left=v,this.width=o}toString(){return`[${this.left},${this.width}]`}static compare(v,o){return v.left-o.left}}e.FloatHorizontalRange=_;class m{constructor(v,o){this.outsideRenderedLine=v,this.originalLeft=o,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=m;class S{constructor(v,o){this.outsideRenderedLine=v,this.ranges=o}}e.VisibleRanges=S}),define(J[472],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomReadingContext=void 0;class y{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const L=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=L.left,this._clientRectScale=L.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(L,D){this._domNode=L,this.endNode=D,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}e.DomReadingContext=y}),define(J[473],ee([1,0,146]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(D,_){D.selectNodeContents(_)}static _readClientRects(D,_,m,S,f){const v=this._createRange();try{return v.setStart(D,_),v.setEnd(m,S),v.getClientRects()}catch{return null}finally{this._detachRange(v,f)}}static _mergeAdjacentRanges(D){if(D.length===1)return D;D.sort(y.FloatHorizontalRange.compare);const _=[];let m=0,S=D[0];for(let f=1,v=D.length;f<v;f++){const o=D[f];S.left+S.width+.9>=o.left?S.width=Math.max(S.width,o.left+o.width-S.left):(_[m++]=S,S=o)}return _[m++]=S,_}static _createHorizontalRangesFromClientRects(D,_,m){if(!D||D.length===0)return null;const S=[];for(let f=0,v=D.length;f<v;f++){const o=D[f];S[f]=new y.FloatHorizontalRange(Math.max(0,(o.left-_)/m),o.width/m)}return this._mergeAdjacentRanges(S)}static readHorizontalRanges(D,_,m,S,f,v){const i=D.children.length-1;if(0>i)return null;if(_=Math.min(i,Math.max(0,_)),S=Math.min(i,Math.max(0,S)),_===S&&m===f&&m===0&&!D.children[_].firstChild){const l=D.children[_].getClientRects();return v.markDidDomLayout(),this._createHorizontalRangesFromClientRects(l,v.clientRectDeltaLeft,v.clientRectScale)}_!==S&&S>0&&f===0&&(S--,f=1073741824);let t=D.children[_].firstChild,n=D.children[S].firstChild;if((!t||!n)&&(!t&&m===0&&_>0&&(t=D.children[_-1].firstChild,m=1073741824),!n&&f===0&&S>0&&(n=D.children[S-1].firstChild,f=1073741824)),!t||!n)return null;m=Math.min(t.textContent.length,Math.max(0,m)),f=Math.min(n.textContent.length,Math.max(0,f));const r=this._readClientRects(t,m,n,f,v.endNode);return v.markDidDomLayout(),this._createHorizontalRangesFromClientRects(r,v.clientRectDeltaLeft,v.clientRectScale)}}e.RangeUtil=k}),define(J[269],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let L=32;L<=126;L++)k.push(L);return k.push(65533),k})();const y=(k,L)=>(k-=32,k<0||k>96?L<=2?(k+96)%96:96-1:k);e.getCharIndex=y}),define(J[474],ee([1,0,269,171]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class L{constructor(_,m){this.scale=m,this._minimapCharRendererBrand=void 0,this.charDataNormal=L.soften(_,12/15),this.charDataLight=L.soften(_,50/60)}static soften(_,m){const S=new Uint8ClampedArray(_.length);for(let f=0,v=_.length;f<v;f++)S[f]=(0,k.toUint8)(_[f]*m);return S}renderChar(_,m,S,f,v,o,i,t,n,r,l){const h=1*this.scale,s=2*this.scale,u=l?1:s;if(m+h>_.width||S+u>_.height){console.warn("bad render request outside image data");return}const a=r?this.charDataLight:this.charDataNormal,d=(0,y.getCharIndex)(f,n),c=_.width*4,b=i.r,g=i.g,p=i.b,C=v.r-b,w=v.g-g,E=v.b-p,I=Math.max(o,t),T=_.data;let P=d*h*s,A=S*c+m*4;for(let M=0;M<u;M++){let N=A;for(let O=0;O<h;O++){const x=a[P++]/255*(o/255);T[N++]=b+C*x,T[N++]=g+w*x,T[N++]=p+E*x,T[N++]=I}A+=c}}blockRenderChar(_,m,S,f,v,o,i,t){const n=1*this.scale,r=2*this.scale,l=t?1:r;if(m+n>_.width||S+l>_.height){console.warn("bad render request outside image data");return}const h=_.width*4,s=.5*(v/255),u=o.r,a=o.g,d=o.b,c=f.r-u,b=f.g-a,g=f.b-d,p=u+c*s,C=a+b*s,w=d+g*s,E=Math.max(v,i),I=_.data;let T=S*h+m*4;for(let P=0;P<l;P++){let A=T;for(let M=0;M<n;M++)I[A++]=p,I[A++]=C,I[A++]=w,I[A++]=E;T+=h}}}e.MinimapCharRenderer=L}),define(J[475],ee([1,0,98]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},L=D=>{const _=new Uint8ClampedArray(D.length/2);for(let m=0;m<D.length;m+=2)_[m>>1]=k[D[m]]<<4|k[D[m+1]]&15;return _};e.prebakedMiniMaps={1:(0,y.once)(()=>L("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,y.once)(()=>L("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(J[476],ee([1,0,474,269,475,171]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class _{static create(S,f){if(this.lastCreated&&S===this.lastCreated.scale&&f===this.lastFontFamily)return this.lastCreated;let v;return L.prebakedMiniMaps[S]?v=new y.MinimapCharRenderer(L.prebakedMiniMaps[S](),S):v=_.createFromSampleData(_.createSampleData(f).data,S),this.lastFontFamily=f,this.lastCreated=v,v}static createSampleData(S){const f=document.createElement("canvas"),v=f.getContext("2d");f.style.height="16px",f.height=16,f.width=96*10,f.style.width=96*10+"px",v.fillStyle="#ffffff",v.font=`bold 16px ${S}`,v.textBaseline="middle";let o=0;for(const i of k.allCharCodes)v.fillText(String.fromCharCode(i),o,16/2),o+=10;return v.getImageData(0,0,96*10,16)}static createFromSampleData(S,f){if(S.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const o=_._downsample(S,f);return new y.MinimapCharRenderer(o,f)}static _downsampleChar(S,f,v,o,i){const t=1*i,n=2*i;let r=o,l=0;for(let h=0;h<n;h++){const s=h/n*16,u=(h+1)/n*16;for(let a=0;a<t;a++){const d=a/t*10,c=(a+1)/t*10;let b=0,g=0;for(let C=s;C<u;C++){const w=f+Math.floor(C)*3840,E=1-(C-Math.floor(C));for(let I=d;I<c;I++){const T=1-(I-Math.floor(I)),P=w+Math.floor(I)*4,A=T*E;g+=A,b+=S[P]*S[P+3]/255*A}}const p=b/g;l=Math.max(l,p),v[r++]=(0,D.toUint8)(p)}}return l}static _downsample(S,f){const v=2*f*1*f,o=v*96,i=new Uint8ClampedArray(o);let t=0,n=0,r=0;for(let l=0;l<96;l++)r=Math.max(r,this._downsampleChar(S,n,i,t,f)),t+=v,n+=10*4;if(r>0){const l=255/r;for(let h=0;h<o;h++)i[h]*=l}return i}}e.MinimapCharRendererFactory=_}),define(J[477],ee([1,0,6,2]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DelegatingEditor=void 0;class L extends k.Disposable{constructor(){super(...arguments),this._id=++L.idCounter,this._onDidDispose=this._register(new y.Emitter),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(_){return this._targetEditor.getVisibleColumnFromPosition(_)}getPosition(){return this._targetEditor.getPosition()}setPosition(_,m="api"){this._targetEditor.setPosition(_,m)}revealLine(_,m=0){this._targetEditor.revealLine(_,m)}revealLineInCenter(_,m=0){this._targetEditor.revealLineInCenter(_,m)}revealLineInCenterIfOutsideViewport(_,m=0){this._targetEditor.revealLineInCenterIfOutsideViewport(_,m)}revealLineNearTop(_,m=0){this._targetEditor.revealLineNearTop(_,m)}revealPosition(_,m=0){this._targetEditor.revealPosition(_,m)}revealPositionInCenter(_,m=0){this._targetEditor.revealPositionInCenter(_,m)}revealPositionInCenterIfOutsideViewport(_,m=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(_,m)}revealPositionNearTop(_,m=0){this._targetEditor.revealPositionNearTop(_,m)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(_,m="api"){this._targetEditor.setSelection(_,m)}setSelections(_,m="api"){this._targetEditor.setSelections(_,m)}revealLines(_,m,S=0){this._targetEditor.revealLines(_,m,S)}revealLinesInCenter(_,m,S=0){this._targetEditor.revealLinesInCenter(_,m,S)}revealLinesInCenterIfOutsideViewport(_,m,S=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(_,m,S)}revealLinesNearTop(_,m,S=0){this._targetEditor.revealLinesNearTop(_,m,S)}revealRange(_,m=0,S=!1,f=!0){this._targetEditor.revealRange(_,m,S,f)}revealRangeInCenter(_,m=0){this._targetEditor.revealRangeInCenter(_,m)}revealRangeInCenterIfOutsideViewport(_,m=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(_,m)}revealRangeNearTop(_,m=0){this._targetEditor.revealRangeNearTop(_,m)}revealRangeNearTopIfOutsideViewport(_,m=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(_,m)}revealRangeAtTop(_,m=0){this._targetEditor.revealRangeAtTop(_,m)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(_,m,S){this._targetEditor.trigger(_,m,S)}createDecorationsCollection(_){return this._targetEditor.createDecorationsCollection(_)}changeDecorations(_){return this._targetEditor.changeDecorations(_)}}e.DelegatingEditor=L,L.idCounter=0}),define(J[270],ee([1,0,2,42]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedBlocksLinesPart=void 0;class L extends y.Disposable{constructor(_,m,S,f,v){super(),this._rootElement=_,this._diffModel=m,this._originalEditorLayoutInfo=S,this._modifiedEditorLayoutInfo=f,this._editors=v;const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(o),this._register((0,k.autorun)("update",r=>{const l=this._originalEditorLayoutInfo.read(r),h=this._modifiedEditorLayoutInfo.read(r);!l||!h||(o.style.left=`${l.width-l.verticalScrollbarWidth}px`,o.style.height=`${l.height}px`,o.style.width=`${l.verticalScrollbarWidth+l.contentLeft-L.movedCodeBlockPadding}px`)}));const i=(0,k.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),t=(0,k.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),n=(0,k.observableSignalFromEvent)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones);this._register((0,k.autorun)("update",r=>{var l,h;o.replaceChildren(),n.read(r);const s=this._originalEditorLayoutInfo.read(r),u=this._modifiedEditorLayoutInfo.read(r);if(!s||!u)return;const a=s.verticalScrollbarWidth+s.contentLeft-L.movedCodeBlockPadding,d=(h=(l=this._diffModel.read(r))===null||l===void 0?void 0:l.diff.read(r))===null||h===void 0?void 0:h.movedTexts;if(!d)return;let c=0;for(const b of d){let g=function(M,N){const O=N.getTopForLineNumber(M.startLineNumber),x=N.getTopForLineNumber(M.endLineNumberExclusive);return(O+x)/2};const p=g(b.lineRangeMapping.original,this._editors.original),C=i.read(r),w=g(b.lineRangeMapping.modified,this._editors.modified),E=t.read(r),I=p-C,T=w-E,P=a/2-d.length*5+c*10;c++;const A=document.createElementNS("http://www.w3.org/2000/svg","path");A.setAttribute("d",`M 0 ${I} L ${P} ${I} L ${P} ${T} L ${a} ${T}`),A.setAttribute("fill","none"),o.appendChild(A)}}))}}e.MovedBlocksLinesPart=L,L.movedCodeBlockPadding=4}),define(J[121],ee([1,0,2,42,201]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyViewZones=e.observeHotReloadableExports=e.readHotReloadableExport=e.applyStyle=e.ManagedOverlayWidget=e.PlaceholderViewZone=e.ViewZoneOverlayWidget=e.animatedObservable=e.ObservableElementSizeObserver=e.appendRemoveOnDispose=e.applyObservableDecorations=e.joinCombine=void 0;function D(s,u,a,d){if(s.length===0)return u;if(u.length===0)return s;const c=[];let b=0,g=0;for(;b<s.length&&g<u.length;){const p=s[b],C=u[g],w=a(p),E=a(C);w<E?(c.push(p),b++):w>E?(c.push(C),g++):(c.push(d(p,C)),b++,g++)}for(;b<s.length;)c.push(s[b]),b++;for(;g<u.length;)c.push(u[g]),g++;return c}e.joinCombine=D;function _(s,u){const a=new y.DisposableStore,d=s.createDecorationsCollection();return a.add((0,k.autorun)(`Apply decorations from ${u.debugName}`,c=>{const b=u.read(c);d.set(b)})),a.add({dispose:()=>{d.clear()}}),a}e.applyObservableDecorations=_;function m(s,u){return s.appendChild(u),(0,y.toDisposable)(()=>{s.removeChild(u)})}e.appendRemoveOnDispose=m;class S extends y.Disposable{get width(){return this._width}get height(){return this._height}constructor(u,a){super(),this.elementSizeObserver=this._register(new L.ElementSizeObserver(u,a)),this._width=(0,k.observableValue)("width",this.elementSizeObserver.getWidth()),this._height=(0,k.observableValue)("height",this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(d=>(0,k.transaction)(c=>{this._width.set(this.elementSizeObserver.getWidth(),c),this._height.set(this.elementSizeObserver.getHeight(),c)})))}observe(u){this.elementSizeObserver.observe(u)}setAutomaticLayout(u){u?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}e.ObservableElementSizeObserver=S;function f(s,u){let a=s.get(),d=a,c=a;const b=(0,k.observableValue)("animatedValue",a);let g=-1;const p=300;let C;u.add((0,k.autorunHandleChanges)("update value",{createEmptyChangeSummary:()=>({animate:!1}),handleChange:(E,I)=>(E.didChange(s)&&(I.animate=I.animate||E.change),!0)},(E,I)=>{C!==void 0&&(cancelAnimationFrame(C),C=void 0),d=c,a=s.read(E),g=Date.now()-(I.animate?0:p),w()}));function w(){const E=Date.now()-g;c=Math.floor(v(E,d,a-d,p)),E<p?C=requestAnimationFrame(w):c=a,b.set(c,void 0)}return b}e.animatedObservable=f;function v(s,u,a,d){return s===d?u+a:a*(-Math.pow(2,-10*s/d)+1)+u}class o extends y.Disposable{constructor(u,a,d){super(),this._register(new t(u,d)),this._register(n(d,{height:a.actualHeight,top:a.actualTop}))}}e.ViewZoneOverlayWidget=o;class i{get afterLineNumber(){return this._afterLineNumber.get()}constructor(u,a){this._afterLineNumber=u,this.heightInPx=a,this.domNode=document.createElement("div"),this._actualTop=(0,k.observableValue)("actualTop",void 0),this._actualHeight=(0,k.observableValue)("actualHeight",void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=d=>{this._actualTop.set(d,void 0)},this.onComputedHeight=d=>{this._actualHeight.set(d,void 0)}}}e.PlaceholderViewZone=i;class t{constructor(u,a){this._editor=u,this._domElement=a,this._overlayWidgetId=`managedOverlayWidget-${t._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}e.ManagedOverlayWidget=t,t._counter=0;function n(s,u){return(0,k.autorun)("applyStyle",a=>{for(let[d,c]of Object.entries(u))c&&typeof c=="object"&&"read"in c&&(c=c.read(a)),typeof c=="number"&&(c=`${c}px`),s.style[d]=c})}e.applyStyle=n;function r(s,u){return l([s],u),s}e.readHotReloadableExport=r;function l(s,u){const a=globalThis.$hotReload_deprecateExports;if(!a)return;(0,k.observableSignalFromEvent)("reload",c=>{function b(g,p){return[...Object.values(g)].some(C=>s.includes(C))?(c(void 0),!0):!1}return a.add(b),{dispose(){a.delete(b)}}}).read(u)}e.observeHotReloadableExports=l;function h(s,u,a){const d=new y.DisposableStore,c=[];return d.add((0,k.autorun)("applyViewZones",b=>{const g=u.read(b),p=new Map,C=new Map;a&&a(!0),s.changeViewZones(w=>{for(const E of c)w.removeZone(E);c.length=0;for(const E of g){const I=w.addZone(E);c.push(I),p.set(E,I)}}),a&&a(!1),d.add((0,k.autorunHandleChanges)("layoutZone on change",{createEmptyChangeSummary(){return[]},handleChange(w,E){const I=C.get(w.changedObservable);return I!==void 0&&E.push(I),!0}},(w,E)=>{for(const I of g)I.onChange&&(C.set(I.onChange,p.get(I)),I.onChange.read(w));a&&a(!0),s.changeViewZones(I=>{for(const T of E)I.layoutZone(T)}),a&&a(!1)}))})),d.add({dispose(){a&&a(!0),s.changeViewZones(b=>{for(const g of c)b.removeZone(g)}),a&&a(!1)}}),d}e.applyViewZones=h}),define(J[147],ee([1,0,6]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new y.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(J[122],ee([1,0,171]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(_){const m=(0,y.toUint8)(_);this._defaultValue=m,this._asciiMap=k._createAsciiMap(m),this._map=new Map}static _createAsciiMap(_){const m=new Uint8Array(256);return m.fill(_),m}set(_,m){const S=(0,y.toUint8)(m);_>=0&&_<256?this._asciiMap[_]=S:this._map.set(_,S)}get(_){return _>=0&&_<256?this._asciiMap[_]:this._map.get(_)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}e.CharacterClassifier=k;class L{constructor(){this._actual=new k(0)}add(_){this._actual.set(_,1)}has(_){return this._actual.get(_)===1}clear(){return this._actual.clear()}}e.CharacterSet=L}),define(J[81],ee([1,0,9]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class k{static _nextVisibleColumn(D,_,m){return D===9?k.nextRenderTabStop(_,m):y.isFullWidthCharacter(D)||y.isEmojiImprecise(D)?_+2:_+1}static visibleColumnFromColumn(D,_,m){const S=Math.min(_-1,D.length),f=D.substring(0,S),v=new y.GraphemeIterator(f);let o=0;for(;!v.eol();){const i=y.getNextCodePoint(f,S,v.offset);v.nextGraphemeLength(),o=this._nextVisibleColumn(i,o,m)}return o}static columnFromVisibleColumn(D,_,m){if(_<=0)return 1;const S=D.length,f=new y.GraphemeIterator(D);let v=0,o=1;for(;!f.eol();){const i=y.getNextCodePoint(D,S,f.offset);f.nextGraphemeLength();const t=this._nextVisibleColumn(i,v,m),n=f.offset+1;if(t>=_){const r=_-v;return t-_<r?n:o}v=t,o=n}return S+1}static nextRenderTabStop(D,_){return D+_-D%_}static nextIndentTabStop(D,_){return D+_-D%_}static prevRenderTabStop(D,_){return Math.max(0,D-1-(D-1)%_)}static prevIndentTabStop(D,_){return Math.max(0,D-1-(D-1)%_)}}e.CursorColumns=k}),define(J[123],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function y(k){let L=0,D=0,_=0,m=0;for(let S=0,f=k.length;S<f;S++){const v=k.charCodeAt(S);v===13?(L===0&&(D=S),L++,S+1<f&&k.charCodeAt(S+1)===10?(m|=2,S++):m|=3,_=S+1):v===10&&(m|=1,L===0&&(D=S),L++,_=S+1)}return L===0&&(D=k.length),[L,D,k.length-_,m]}e.countEOL=y}),define(J[203],ee([1,0,9,81]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=void 0;function L(_,m,S){let f=0;for(let o=0;o<_.length;o++)_.charAt(o)==="	"?f=k.CursorColumns.nextIndentTabStop(f,m):f++;let v="";if(!S){const o=Math.floor(f/m);f=f%m;for(let i=0;i<o;i++)v+="	"}for(let o=0;o<f;o++)v+=" ";return v}function D(_,m,S){let f=y.firstNonWhitespaceIndex(_);return f===-1&&(f=_.length),L(_.substring(0,f),m,S)+_.substring(f)}e.normalizeIndentation=D}),define(J[124],ee([1,0,12]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OffsetRange=void 0;class k{static addRange(D,_){let m=0;for(;m<_.length&&_[m].endExclusive<D.start;)m++;let S=m;for(;S<_.length&&_[S].start<=D.endExclusive;)S++;if(m===S)_.splice(m,0,D);else{const f=Math.min(D.start,_[m].start),v=Math.max(D.endExclusive,_[S-1].endExclusive);_.splice(m,S-m,new k(f,v))}}static tryCreate(D,_){if(!(D>_))return new k(D,_)}constructor(D,_){if(this.start=D,this.endExclusive=_,D>_)throw new y.BugIndicatingError(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(D){return new k(this.start+D,this.endExclusive+D)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(D){return this.start===D.start&&this.endExclusive===D.endExclusive}containsRange(D){return this.start<=D.start&&D.endExclusive<=this.endExclusive}contains(D){return this.start<=D&&D<this.endExclusive}join(D){return new k(Math.min(this.start,D.start),Math.max(this.endExclusive,D.endExclusive))}intersect(D){const _=Math.max(this.start,D.start),m=Math.min(this.endExclusive,D.endExclusive);if(_<=m)return new k(_,m)}}e.OffsetRange=k}),define(J[11],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class y{constructor(L,D){this.lineNumber=L,this.column=D}with(L=this.lineNumber,D=this.column){return L===this.lineNumber&&D===this.column?this:new y(L,D)}delta(L=0,D=0){return this.with(this.lineNumber+L,this.column+D)}equals(L){return y.equals(this,L)}static equals(L,D){return!L&&!D?!0:!!L&&!!D&&L.lineNumber===D.lineNumber&&L.column===D.column}isBefore(L){return y.isBefore(this,L)}static isBefore(L,D){return L.lineNumber<D.lineNumber?!0:D.lineNumber<L.lineNumber?!1:L.column<D.column}isBeforeOrEqual(L){return y.isBeforeOrEqual(this,L)}static isBeforeOrEqual(L,D){return L.lineNumber<D.lineNumber?!0:D.lineNumber<L.lineNumber?!1:L.column<=D.column}static compare(L,D){const _=L.lineNumber|0,m=D.lineNumber|0;if(_===m){const S=L.column|0,f=D.column|0;return S-f}return _-m}clone(){return new y(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(L){return new y(L.lineNumber,L.column)}static isIPosition(L){return L&&typeof L.lineNumber=="number"&&typeof L.column=="number"}}e.Position=y}),define(J[271],ee([1,0,11]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(D){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=D}emitKeyDown(D){var _;(_=this.onKeyDown)===null||_===void 0||_.call(this,D)}emitKeyUp(D){var _;(_=this.onKeyUp)===null||_===void 0||_.call(this,D)}emitContextMenu(D){var _;(_=this.onContextMenu)===null||_===void 0||_.call(this,this._convertViewToModelMouseEvent(D))}emitMouseMove(D){var _;(_=this.onMouseMove)===null||_===void 0||_.call(this,this._convertViewToModelMouseEvent(D))}emitMouseLeave(D){var _;(_=this.onMouseLeave)===null||_===void 0||_.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDown(D){var _;(_=this.onMouseDown)===null||_===void 0||_.call(this,this._convertViewToModelMouseEvent(D))}emitMouseUp(D){var _;(_=this.onMouseUp)===null||_===void 0||_.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrag(D){var _;(_=this.onMouseDrag)===null||_===void 0||_.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrop(D){var _;(_=this.onMouseDrop)===null||_===void 0||_.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDropCanceled(){var D;(D=this.onMouseDropCanceled)===null||D===void 0||D.call(this)}emitMouseWheel(D){var _;(_=this.onMouseWheel)===null||_===void 0||_.call(this,D)}_convertViewToModelMouseEvent(D){return D.target?{event:D.event,target:this._convertViewToModelMouseTarget(D.target)}:D}_convertViewToModelMouseTarget(D){return k.convertViewToModelMouseTarget(D,this._coordinatesConverter)}static convertViewToModelMouseTarget(D,_){const m=Object.assign({},D);return m.position&&(m.position=_.convertViewPositionToModelPosition(m.position)),m.range&&(m.range=_.convertViewRangeToModelRange(m.range)),(m.type===5||m.type===8)&&(m.detail=this.convertViewToModelViewZoneData(m.detail,_)),m}static convertViewToModelViewZoneData(D,_){return{viewZoneId:D.viewZoneId,positionBefore:D.positionBefore?_.convertViewPositionToModelPosition(D.positionBefore):D.positionBefore,positionAfter:D.positionAfter?_.convertViewPositionToModelPosition(D.positionAfter):D.positionAfter,position:_.convertViewPositionToModelPosition(D.position),afterLineNumber:_.convertViewPositionToModelPosition(new y.Position(D.afterLineNumber,1)).lineNumber}}}e.ViewUserInputEvents=k}),define(J[5],ee([1,0,11]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(D,_,m,S){D>m||D===m&&_>S?(this.startLineNumber=m,this.startColumn=S,this.endLineNumber=D,this.endColumn=_):(this.startLineNumber=D,this.startColumn=_,this.endLineNumber=m,this.endColumn=S)}isEmpty(){return k.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return k.containsPosition(this,D)}static containsPosition(D,_){return!(_.lineNumber<D.startLineNumber||_.lineNumber>D.endLineNumber||_.lineNumber===D.startLineNumber&&_.column<D.startColumn||_.lineNumber===D.endLineNumber&&_.column>D.endColumn)}static strictContainsPosition(D,_){return!(_.lineNumber<D.startLineNumber||_.lineNumber>D.endLineNumber||_.lineNumber===D.startLineNumber&&_.column<=D.startColumn||_.lineNumber===D.endLineNumber&&_.column>=D.endColumn)}containsRange(D){return k.containsRange(this,D)}static containsRange(D,_){return!(_.startLineNumber<D.startLineNumber||_.endLineNumber<D.startLineNumber||_.startLineNumber>D.endLineNumber||_.endLineNumber>D.endLineNumber||_.startLineNumber===D.startLineNumber&&_.startColumn<D.startColumn||_.endLineNumber===D.endLineNumber&&_.endColumn>D.endColumn)}strictContainsRange(D){return k.strictContainsRange(this,D)}static strictContainsRange(D,_){return!(_.startLineNumber<D.startLineNumber||_.endLineNumber<D.startLineNumber||_.startLineNumber>D.endLineNumber||_.endLineNumber>D.endLineNumber||_.startLineNumber===D.startLineNumber&&_.startColumn<=D.startColumn||_.endLineNumber===D.endLineNumber&&_.endColumn>=D.endColumn)}plusRange(D){return k.plusRange(this,D)}static plusRange(D,_){let m,S,f,v;return _.startLineNumber<D.startLineNumber?(m=_.startLineNumber,S=_.startColumn):_.startLineNumber===D.startLineNumber?(m=_.startLineNumber,S=Math.min(_.startColumn,D.startColumn)):(m=D.startLineNumber,S=D.startColumn),_.endLineNumber>D.endLineNumber?(f=_.endLineNumber,v=_.endColumn):_.endLineNumber===D.endLineNumber?(f=_.endLineNumber,v=Math.max(_.endColumn,D.endColumn)):(f=D.endLineNumber,v=D.endColumn),new k(m,S,f,v)}intersectRanges(D){return k.intersectRanges(this,D)}static intersectRanges(D,_){let m=D.startLineNumber,S=D.startColumn,f=D.endLineNumber,v=D.endColumn;const o=_.startLineNumber,i=_.startColumn,t=_.endLineNumber,n=_.endColumn;return m<o?(m=o,S=i):m===o&&(S=Math.max(S,i)),f>t?(f=t,v=n):f===t&&(v=Math.min(v,n)),m>f||m===f&&S>v?null:new k(m,S,f,v)}equalsRange(D){return k.equalsRange(this,D)}static equalsRange(D,_){return!D&&!_?!0:!!D&&!!_&&D.startLineNumber===_.startLineNumber&&D.startColumn===_.startColumn&&D.endLineNumber===_.endLineNumber&&D.endColumn===_.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(D){return new y.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(D){return new y.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,_){return new k(this.startLineNumber,this.startColumn,D,_)}setStartPosition(D,_){return new k(D,_,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(D){return new k(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}collapseToEnd(){return k.collapseToEnd(this)}static collapseToEnd(D){return new k(D.endLineNumber,D.endColumn,D.endLineNumber,D.endColumn)}delta(D){return new k(this.startLineNumber+D,this.startColumn,this.endLineNumber+D,this.endColumn)}static fromPositions(D,_=D){return new k(D.lineNumber,D.column,_.lineNumber,_.column)}static lift(D){return D?new k(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,_){return!(D.endLineNumber<_.startLineNumber||D.endLineNumber===_.startLineNumber&&D.endColumn<_.startColumn||_.endLineNumber<D.startLineNumber||_.endLineNumber===D.startLineNumber&&_.endColumn<D.startColumn)}static areIntersecting(D,_){return!(D.endLineNumber<_.startLineNumber||D.endLineNumber===_.startLineNumber&&D.endColumn<=_.startColumn||_.endLineNumber<D.startLineNumber||_.endLineNumber===D.startLineNumber&&_.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,_){if(D&&_){const f=D.startLineNumber|0,v=_.startLineNumber|0;if(f===v){const o=D.startColumn|0,i=_.startColumn|0;if(o===i){const t=D.endLineNumber|0,n=_.endLineNumber|0;if(t===n){const r=D.endColumn|0,l=_.endColumn|0;return r-l}return t-n}return o-i}return f-v}return(D?1:0)-(_?1:0)}static compareRangesUsingEnds(D,_){return D.endLineNumber===_.endLineNumber?D.endColumn===_.endColumn?D.startLineNumber===_.startLineNumber?D.startColumn-_.startColumn:D.startLineNumber-_.startLineNumber:D.endColumn-_.endColumn:D.endLineNumber-_.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}toJSON(){return this}}e.Range=k}),define(J[272],ee([1,0,9,5]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class L{constructor(m,S,f,v,o){this.value=m,this.selectionStart=S,this.selectionEnd=f,this.selection=v,this.newlineCountBeforeSelection=o}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(m,S){const f=m.getValue(),v=m.getSelectionStart(),o=m.getSelectionEnd();let i;if(S){const t=f.substring(0,v),n=S.value.substring(0,S.selectionStart);t===n&&(i=S.newlineCountBeforeSelection)}return new L(f,v,o,null,i)}collapseSelection(){return this.selectionStart===this.value.length?this:new L(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(m,S,f){e._debugComposition&&console.log(`writeToTextArea ${m}: ${this.toString()}`),S.setValue(m,this.value),f&&S.setSelectionRange(m,this.selectionStart,this.selectionEnd)}deduceEditorPosition(m){var S,f,v,o,i,t,n,r;if(m<=this.selectionStart){const s=this.value.substring(m,this.selectionStart);return this._finishDeduceEditorPosition((f=(S=this.selection)===null||S===void 0?void 0:S.getStartPosition())!==null&&f!==void 0?f:null,s,-1)}if(m>=this.selectionEnd){const s=this.value.substring(this.selectionEnd,m);return this._finishDeduceEditorPosition((o=(v=this.selection)===null||v===void 0?void 0:v.getEndPosition())!==null&&o!==void 0?o:null,s,1)}const l=this.value.substring(this.selectionStart,m);if(l.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((t=(i=this.selection)===null||i===void 0?void 0:i.getStartPosition())!==null&&t!==void 0?t:null,l,1);const h=this.value.substring(m,this.selectionEnd);return this._finishDeduceEditorPosition((r=(n=this.selection)===null||n===void 0?void 0:n.getEndPosition())!==null&&r!==void 0?r:null,h,-1)}_finishDeduceEditorPosition(m,S,f){let v=0,o=-1;for(;(o=S.indexOf(`
`,o+1))!==-1;)v++;return[m,f*S.length,v]}static deduceInput(m,S,f){if(!m)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${m.toString()}`),console.log(`CURRENT STATE: ${S.toString()}`));const v=Math.min(y.commonPrefixLength(m.value,S.value),m.selectionStart,S.selectionStart),o=Math.min(y.commonSuffixLength(m.value,S.value),m.value.length-m.selectionEnd,S.value.length-S.selectionEnd),i=m.value.substring(v,m.value.length-o),t=S.value.substring(v,S.value.length-o),n=m.selectionStart-v,r=m.selectionEnd-v,l=S.selectionStart-v,h=S.selectionEnd-v;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${i}>, selectionStart: ${n}, selectionEnd: ${r}`),console.log(`AFTER DIFFING CURRENT STATE: <${t}>, selectionStart: ${l}, selectionEnd: ${h}`)),l===h){const u=m.selectionStart-v;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${u} chars`),{text:t,replacePrevCharCnt:u,replaceNextCharCnt:0,positionDelta:0}}const s=r-n;return{text:t,replacePrevCharCnt:s,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(m,S){if(!m)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${m.toString()}`),console.log(`CURRENT STATE: ${S.toString()}`)),m.value===S.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:S.selectionEnd-m.selectionEnd};const f=Math.min(y.commonPrefixLength(m.value,S.value),m.selectionEnd),v=Math.min(y.commonSuffixLength(m.value,S.value),m.value.length-m.selectionEnd),o=m.value.substring(f,m.value.length-v),i=S.value.substring(f,S.value.length-v),t=m.selectionStart-f,n=m.selectionEnd-f,r=S.selectionStart-f,l=S.selectionEnd-f;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${o}>, selectionStart: ${t}, selectionEnd: ${n}`),console.log(`AFTER DIFFING CURRENT STATE: <${i}>, selectionStart: ${r}, selectionEnd: ${l}`)),{text:i,replacePrevCharCnt:n,replaceNextCharCnt:o.length-n,positionDelta:l-i.length}}}e.TextAreaState=L,L.EMPTY=new L("",0,0,null,void 0);class D{static _getPageOfLine(m,S){return Math.floor((m-1)/S)}static _getRangeForPage(m,S){const f=m*S,v=f+1,o=f+S;return new k.Range(v,1,o+1,1)}static fromEditorSelection(m,S,f,v){const i=D._getPageOfLine(S.startLineNumber,f),t=D._getRangeForPage(i,f),n=D._getPageOfLine(S.endLineNumber,f),r=D._getRangeForPage(n,f);let l=t.intersectRanges(new k.Range(1,1,S.startLineNumber,S.startColumn));if(v&&m.getValueLengthInRange(l,1)>500){const b=m.modifyPosition(l.getEndPosition(),-500);l=k.Range.fromPositions(b,l.getEndPosition())}const h=m.getValueInRange(l,1),s=m.getLineCount(),u=m.getLineMaxColumn(s);let a=r.intersectRanges(new k.Range(S.endLineNumber,S.endColumn,s,u));if(v&&m.getValueLengthInRange(a,1)>500){const b=m.modifyPosition(a.getStartPosition(),500);a=k.Range.fromPositions(a.getStartPosition(),b)}const d=m.getValueInRange(a,1);let c;if(i===n||i+1===n)c=m.getValueInRange(S,1);else{const b=t.intersectRanges(S),g=r.intersectRanges(S);c=m.getValueInRange(b,1)+String.fromCharCode(8230)+m.getValueInRange(g,1)}return v&&c.length>2*500&&(c=c.substring(0,500)+String.fromCharCode(8230)+c.substring(c.length-500,c.length)),new L(h+c+d,h.length,h.length+c.length,S,l.endLineNumber-l.startLineNumber)}}e.PagedScreenReaderStrategy=D}),define(J[72],ee([1,0,5]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(D,_){return{range:new y.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:_,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,_){return{range:D,text:_}}static replaceMove(D,_){return{range:D,text:_,forceMoveMarkers:!0}}}e.EditOperation=k}),define(J[478],ee([1,0,9,72,5]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class D{constructor(S,f){this._selection=S,this._cursors=f,this._selectionId=null}getEditOperations(S,f){const v=_(S,this._cursors);for(let o=0,i=v.length;o<i;o++){const t=v[o];f.addEditOperation(t.range,t.text)}this._selectionId=f.trackSelection(this._selection)}computeCursorState(S,f){return f.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=D;function _(m,S){S.sort((t,n)=>t.lineNumber===n.lineNumber?t.column-n.column:t.lineNumber-n.lineNumber);for(let t=S.length-2;t>=0;t--)S[t].lineNumber===S[t+1].lineNumber&&S.splice(t,1);const f=[];let v=0,o=0;const i=S.length;for(let t=1,n=m.getLineCount();t<=n;t++){const r=m.getLineContent(t),l=r.length+1;let h=0;if(o<i&&S[o].lineNumber===t&&(h=S[o].column,o++,h===l)||r.length===0)continue;const s=y.lastNonWhitespaceIndex(r);let u=0;if(s===-1)u=1;else if(s!==r.length-1)u=s+2;else continue;u=Math.max(h,u),f[v++]=k.EditOperation.delete(new L.Range(t,u,t,l))}return f}e.trimTrailingWhitespace=_}),define(J[61],ee([1,0,12,5]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRange=void 0;class L{static fromRange(_){return new L(_.startLineNumber,_.endLineNumber)}static subtract(_,m){return m?_.startLineNumber<m.startLineNumber&&m.endLineNumberExclusive<_.endLineNumberExclusive?[new L(_.startLineNumber,m.startLineNumber),new L(m.endLineNumberExclusive,_.endLineNumberExclusive)]:m.startLineNumber<=_.startLineNumber&&_.endLineNumberExclusive<=m.endLineNumberExclusive?[]:m.endLineNumberExclusive<_.endLineNumberExclusive?[new L(Math.max(m.endLineNumberExclusive,_.startLineNumber),_.endLineNumberExclusive)]:[new L(_.startLineNumber,Math.min(m.startLineNumber,_.endLineNumberExclusive))]:[_]}static joinMany(_){if(_.length===0)return[];let m=_[0];for(let S=1;S<_.length;S++)m=this.join(m,_[S]);return m}static join(_,m){if(_.length===0)return m;if(m.length===0)return _;const S=[];let f=0,v=0,o=null;for(;f<_.length||v<m.length;){let i=null;if(f<_.length&&v<m.length){const t=_[f],n=m[v];t.startLineNumber<n.startLineNumber?(i=t,f++):(i=n,v++)}else f<_.length?(i=_[f],f++):(i=m[v],v++);o===null?o=i:o.endLineNumberExclusive>=i.startLineNumber?o=new L(o.startLineNumber,Math.max(o.endLineNumberExclusive,i.endLineNumberExclusive)):(S.push(o),o=i)}return o!==null&&S.push(o),S}static ofLength(_,m){return new L(_,_+m)}static deserialize(_){return new L(_[0],_[1])}constructor(_,m){if(_>m)throw new y.BugIndicatingError(`startLineNumber ${_} cannot be after endLineNumberExclusive ${m}`);this.startLineNumber=_,this.endLineNumberExclusive=m}contains(_){return this.startLineNumber<=_&&_<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(_){return new L(this.startLineNumber+_,this.endLineNumberExclusive+_)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(_){return new L(Math.min(this.startLineNumber,_.startLineNumber),Math.max(this.endLineNumberExclusive,_.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(_){const m=Math.max(this.startLineNumber,_.startLineNumber),S=Math.min(this.endLineNumberExclusive,_.endLineNumberExclusive);if(m<=S)return new L(m,S)}intersectsStrict(_){return this.startLineNumber<_.endLineNumberExclusive&&_.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(_){return this.startLineNumber<=_.endLineNumberExclusive&&_.startLineNumber<=this.endLineNumberExclusive}equals(_){return this.startLineNumber===_.startLineNumber&&this.endLineNumberExclusive===_.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new k.Range(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new k.Range(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(_){const m=[];for(let S=this.startLineNumber;S<this.endLineNumberExclusive;S++)m.push(_(S));return m}forEach(_){for(let m=this.startLineNumber;m<this.endLineNumberExclusive;m++)_(m)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(_){return this.startLineNumber<=_&&_<this.endLineNumberExclusive}}e.LineRange=L}),define(J[273],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class y{constructor(L,D,_,m){this._rgba8Brand=void 0,this.r=y._clamp(L),this.g=y._clamp(D),this.b=y._clamp(_),this.a=y._clamp(m)}equals(L){return this.r===L.r&&this.g===L.g&&this.b===L.b&&this.a===L.a}static _clamp(L){return L<0?0:L>255?255:L|0}}e.RGBA8=y,y.Empty=new y(0,0,0,0)}),define(J[24],ee([1,0,11,5]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class L extends k.Range{constructor(_,m,S,f){super(_,m,S,f),this.selectionStartLineNumber=_,this.selectionStartColumn=m,this.positionLineNumber=S,this.positionColumn=f}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(_){return L.selectionsEqual(this,_)}static selectionsEqual(_,m){return _.selectionStartLineNumber===m.selectionStartLineNumber&&_.selectionStartColumn===m.selectionStartColumn&&_.positionLineNumber===m.positionLineNumber&&_.positionColumn===m.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(_,m){return this.getDirection()===0?new L(this.startLineNumber,this.startColumn,_,m):new L(_,m,this.startLineNumber,this.startColumn)}getPosition(){return new y.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new y.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(_,m){return this.getDirection()===0?new L(_,m,this.endLineNumber,this.endColumn):new L(this.endLineNumber,this.endColumn,_,m)}static fromPositions(_,m=_){return new L(_.lineNumber,_.column,m.lineNumber,m.column)}static fromRange(_,m){return m===0?new L(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn):new L(_.endLineNumber,_.endColumn,_.startLineNumber,_.startColumn)}static liftSelection(_){return new L(_.selectionStartLineNumber,_.selectionStartColumn,_.positionLineNumber,_.positionColumn)}static selectionsArrEqual(_,m){if(_&&!m||!_&&m)return!1;if(!_&&!m)return!0;if(_.length!==m.length)return!1;for(let S=0,f=_.length;S<f;S++)if(!this.selectionsEqual(_[S],m[S]))return!1;return!0}static isISelection(_){return _&&typeof _.selectionStartLineNumber=="number"&&typeof _.selectionStartColumn=="number"&&typeof _.positionLineNumber=="number"&&typeof _.positionColumn=="number"}static createWithDirection(_,m,S,f,v){return v===0?new L(_,m,S,f):new L(S,f,_,m)}}e.Selection=L}),define(J[125],ee([1,0,24]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(f,v,o=!1){this._range=f,this._text=v,this.insertsAutoWhitespace=o}getEditOperations(f,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,v){const i=v.getInverseEditOperations()[0].range;return y.Selection.fromPositions(i.getEndPosition())}}e.ReplaceCommand=k;class L{constructor(f,v){this._range=f,this._text=v}getEditOperations(f,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,v){const i=v.getInverseEditOperations()[0].range;return y.Selection.fromRange(i,0)}}e.ReplaceCommandThatSelectsText=L;class D{constructor(f,v,o=!1){this._range=f,this._text=v,this.insertsAutoWhitespace=o}getEditOperations(f,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,v){const i=v.getInverseEditOperations()[0].range;return y.Selection.fromPositions(i.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=D;class _{constructor(f,v,o,i,t=!1){this._range=f,this._text=v,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=o,this.insertsAutoWhitespace=t}getEditOperations(f,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,v){const i=v.getInverseEditOperations()[0].range;return y.Selection.fromPositions(i.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=_;class m{constructor(f,v,o,i=!1){this._range=f,this._text=v,this._initialSelection=o,this._forceMoveMarkers=i,this._selectionId=null}getEditOperations(f,v){v.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=v.trackSelection(this._initialSelection)}computeCursorState(f,v){return v.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=m}),define(J[479],ee([1,0,5,24]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class L{constructor(m,S,f){this._range=m,this._charBeforeSelection=S,this._charAfterSelection=f}getEditOperations(m,S){S.addTrackedEditOperation(new y.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),S.addTrackedEditOperation(new y.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(m,S){const f=S.getInverseEditOperations(),v=f[0].range,o=f[1].range;return new k.Selection(v.endLineNumber,v.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=L;class D{constructor(m,S,f){this._position=m,this._text=S,this._charAfter=f}getEditOperations(m,S){S.addTrackedEditOperation(new y.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(m,S){const v=S.getInverseEditOperations()[0].range;return new k.Selection(v.endLineNumber,v.startColumn,v.endLineNumber,v.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=D}),define(J[177],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(J[148],ee([1,0,122]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class k extends y.CharacterClassifier{constructor(_){super(0);for(let m=0,S=_.length;m<S;m++)this.set(_.charCodeAt(m),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=k;function L(D){const _={};return m=>(_.hasOwnProperty(m)||(_[m]=D(m)),_[m])}e.getMapForWordSeparators=L(D=>new k(D))}),define(J[149],ee([1,0,51,65]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function L(f=""){let v="(-?\\d*\\.\\d\\w*)|([^";for(const o of e.USUAL_WORD_SEPARATORS)f.indexOf(o)>=0||(v+="\\"+o);return v+="\\s]+)",new RegExp(v,"g")}e.DEFAULT_WORD_REGEXP=L();function D(f){let v=e.DEFAULT_WORD_REGEXP;if(f&&f instanceof RegExp)if(f.global)v=f;else{let o="g";f.ignoreCase&&(o+="i"),f.multiline&&(o+="m"),f.unicode&&(o+="u"),v=new RegExp(f.source,o)}return v.lastIndex=0,v}e.ensureValidWordDefinition=D;const _=new k.LinkedList;_.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function m(f,v,o,i,t){if(t||(t=y.Iterable.first(_)),o.length>t.maxLen){let s=f-t.maxLen/2;return s<0?s=0:i+=s,o=o.substring(s,f+t.maxLen/2),m(f,v,o,i,t)}const n=Date.now(),r=f-1-i;let l=-1,h=null;for(let s=1;!(Date.now()-n>=t.timeBudget);s++){const u=r-t.windowSize*s;v.lastIndex=Math.max(0,u);const a=S(v,o,r,l);if(!a&&h||(h=a,u<=0))break;l=u}if(h){const s={word:h[0],startColumn:i+1+h.index,endColumn:i+1+h.index+h[0].length};return v.lastIndex=0,s}return null}e.getWordAtText=m;function S(f,v,o,i){let t;for(;t=f.exec(v);){const n=t.index||0;if(n<=o&&f.lastIndex>=o)return t;if(i>0&&n>i)return null}return null}}),define(J[274],ee([1,0,81]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(D,_,m){const S=D.length;let f=0,v=-1,o=-1;for(let i=0;i<S;i++){if(i===_)return[v,o,f];switch(f%m===0&&(v=i,o=f),D.charCodeAt(i)){case 32:f+=1;break;case 9:f=y.CursorColumns.nextRenderTabStop(f,m);break;default:return[-1,-1,-1]}}return _===S?[v,o,f]:[-1,-1,-1]}static atomicPosition(D,_,m,S){const f=D.length,[v,o,i]=k.whitespaceVisibleColumn(D,_,m);if(i===-1)return-1;let t;switch(S){case 0:t=!0;break;case 1:t=!1;break;case 2:if(i%m===0)return _;t=i%m<=m/2;break}if(t){if(v===-1)return-1;let l=o;for(let h=v;h<f;++h){if(l===o+m)return v;switch(D.charCodeAt(h)){case 32:l+=1;break;case 9:l=y.CursorColumns.nextRenderTabStop(l,m);break;default:return-1}}return l===o+m?v:-1}const n=y.CursorColumns.nextRenderTabStop(i,m);let r=i;for(let l=_;l<f;l++){if(r===n)return l;switch(D.charCodeAt(l)){case 32:r+=1;break;case 9:r=y.CursorColumns.nextRenderTabStop(r,m);break;default:return-1}}return r===n?f:-1}}e.AtomicTabMoveOperations=k}),define(J[480],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class y{constructor(L,D,_,m){this._cursorContextBrand=void 0,this.model=L,this.viewModel=D,this.coordinatesConverter=_,this.cursorConfig=m}}e.CursorContext=y}),define(J[178],ee([1,0,12,124]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeout=e.InfiniteTimeout=e.SequenceDiff=e.DiffAlgorithmResult=void 0;class L{static trivial(f,v){return new L([new D(new k.OffsetRange(0,f.length),new k.OffsetRange(0,v.length))],!1)}static trivialTimedOut(f,v){return new L([new D(new k.OffsetRange(0,f.length),new k.OffsetRange(0,v.length))],!0)}constructor(f,v){this.diffs=f,this.hitTimeout=v}}e.DiffAlgorithmResult=L;class D{constructor(f,v){this.seq1Range=f,this.seq2Range=v}reverse(){return new D(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(f){return new D(this.seq1Range.join(f.seq1Range),this.seq2Range.join(f.seq2Range))}delta(f){return f===0?this:new D(this.seq1Range.delta(f),this.seq2Range.delta(f))}}e.SequenceDiff=D;class _{isValid(){return!0}}e.InfiniteTimeout=_,_.instance=new _;class m{constructor(f){if(this.timeout=f,this.startTime=Date.now(),this.valid=!0,f<=0)throw new y.BugIndicatingError("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}e.DateTimeout=m}),define(J[481],ee([1,0,124,178]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shiftSequenceDiffs=e.joinSequenceDiffs=e.removeRandomMatches=e.smoothenSequenceDiffs=e.optimizeSequenceDiffs=void 0;function L(v,o,i){let t=i;return t=m(v,o,t),t=S(v,o,t),t}e.optimizeSequenceDiffs=L;function D(v,o,i){const t=[];for(const n of i){const r=t[t.length-1];if(!r){t.push(n);continue}n.seq1Range.start-r.seq1Range.endExclusive<=2||n.seq2Range.start-r.seq2Range.endExclusive<=2?t[t.length-1]=new k.SequenceDiff(r.seq1Range.join(n.seq1Range),r.seq2Range.join(n.seq2Range)):t.push(n)}return t}e.smoothenSequenceDiffs=D;function _(v,o,i){let t=i;if(t.length===0)return t;let n=0,r;do{r=!1;const l=[t[0]];for(let h=1;h<t.length;h++){let a=function(c,b){const g=new y.OffsetRange(u.seq1Range.endExclusive,s.seq1Range.start);if(v.countLinesIn(g)>5||g.length>500)return!1;const C=v.getText(g).trim();if(C.length>20||C.split(/\r\n|\r|\n/).length>1)return!1;const w=v.countLinesIn(c.seq1Range),E=c.seq1Range.length,I=o.countLinesIn(c.seq2Range),T=c.seq2Range.length,P=v.countLinesIn(b.seq1Range),A=b.seq1Range.length,M=o.countLinesIn(b.seq2Range),N=b.seq2Range.length,O=2*40+50;function x(F){return Math.min(F,O)}return Math.pow(Math.pow(x(w*40+E),1.5)+Math.pow(x(I*40+T),1.5),1.5)+Math.pow(Math.pow(x(P*40+A),1.5)+Math.pow(x(M*40+N),1.5),1.5)>Math.pow(Math.pow(O,1.5),1.5)*1.3};const s=t[h],u=l[l.length-1];a(u,s)?(r=!0,l[l.length-1]=l[l.length-1].join(s)):l.push(s)}t=l}while(n++<10&&r);return t}e.removeRandomMatches=_;function m(v,o,i){if(i.length===0)return i;const t=[];t.push(i[0]);for(let r=1;r<i.length;r++){const l=t[t.length-1];let h=i[r];if(h.seq1Range.isEmpty||h.seq2Range.isEmpty){const s=h.seq1Range.start-l.seq1Range.endExclusive;let u;for(u=1;u<=s&&!(v.getElement(h.seq1Range.start-u)!==v.getElement(h.seq1Range.endExclusive-u)||o.getElement(h.seq2Range.start-u)!==o.getElement(h.seq2Range.endExclusive-u));u++);if(u--,u===s){t[t.length-1]=new k.SequenceDiff(new y.OffsetRange(l.seq1Range.start,h.seq1Range.endExclusive-s),new y.OffsetRange(l.seq2Range.start,h.seq2Range.endExclusive-s));continue}h=h.delta(-u)}t.push(h)}const n=[];for(let r=0;r<t.length-1;r++){const l=t[r+1];let h=t[r];if(h.seq1Range.isEmpty||h.seq2Range.isEmpty){const s=l.seq1Range.start-h.seq1Range.endExclusive;let u;for(u=0;u<s&&!(v.getElement(h.seq1Range.start+u)!==v.getElement(h.seq1Range.endExclusive+u)||o.getElement(h.seq2Range.start+u)!==o.getElement(h.seq2Range.endExclusive+u));u++);if(u===s){t[r+1]=new k.SequenceDiff(new y.OffsetRange(h.seq1Range.start+s,l.seq1Range.endExclusive),new y.OffsetRange(h.seq2Range.start+s,l.seq2Range.endExclusive));continue}u>0&&(h=h.delta(u))}n.push(h)}return t.length>0&&n.push(t[t.length-1]),n}e.joinSequenceDiffs=m;function S(v,o,i){if(!v.getBoundaryScore||!o.getBoundaryScore)return i;for(let t=0;t<i.length;t++){const n=t>0?i[t-1]:void 0,r=i[t],l=t+1<i.length?i[t+1]:void 0,h=new y.OffsetRange(n?n.seq1Range.start+1:0,l?l.seq1Range.endExclusive-1:v.length),s=new y.OffsetRange(n?n.seq2Range.start+1:0,l?l.seq2Range.endExclusive-1:o.length);r.seq1Range.isEmpty?i[t]=f(r,v,o,h,s):r.seq2Range.isEmpty&&(i[t]=f(r.reverse(),o,v,s,h).reverse())}return i}e.shiftSequenceDiffs=S;function f(v,o,i,t,n){let l=1;for(;v.seq1Range.start-l>=t.start&&v.seq2Range.start-l>=n.start&&i.getElement(v.seq2Range.start-l)===i.getElement(v.seq2Range.endExclusive-l)&&l<100;)l++;l--;let h=0;for(;v.seq1Range.start+h<t.endExclusive&&v.seq2Range.endExclusive+h<n.endExclusive&&i.getElement(v.seq2Range.start+h)===i.getElement(v.seq2Range.endExclusive+h)&&h<100;)h++;if(l===0&&h===0)return v;let s=0,u=-1;for(let a=-l;a<=h;a++){const d=v.seq2Range.start+a,c=v.seq2Range.endExclusive+a,b=v.seq1Range.start+a,g=o.getBoundaryScore(b)+i.getBoundaryScore(d)+i.getBoundaryScore(c);g>u&&(u=g,s=a)}return v.delta(s)}}),define(J[482],ee([1,0,124,178]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class L{compute(f,v,o=k.InfiniteTimeout.instance){if(f.length===0||v.length===0)return k.DiffAlgorithmResult.trivial(f,v);function i(d,c){for(;d<f.length&&c<v.length&&f.getElement(d)===v.getElement(c);)d++,c++;return d}let t=0;const n=new _;n.set(0,i(0,0));const r=new m;r.set(0,n.get(0)===0?null:new D(null,0,0,n.get(0)));let l=0;e:for(;;){if(t++,!o.isValid())return k.DiffAlgorithmResult.trivialTimedOut(f,v);const d=-Math.min(t,v.length+t%2),c=Math.min(t,f.length+t%2);for(l=d;l<=c;l+=2){const b=l===c?-1:n.get(l+1),g=l===d?-1:n.get(l-1)+1,p=Math.min(Math.max(b,g),f.length),C=p-l;if(p>f.length||C>v.length)continue;const w=i(p,C);n.set(l,w);const E=p===b?r.get(l+1):r.get(l-1);if(r.set(l,w!==p?new D(E,p,C,w-p):E),n.get(l)===f.length&&n.get(l)-l===v.length)break e}}let h=r.get(l);const s=[];let u=f.length,a=v.length;for(;;){const d=h?h.x+h.length:0,c=h?h.y+h.length:0;if((d!==u||c!==a)&&s.push(new k.SequenceDiff(new y.OffsetRange(d,u),new y.OffsetRange(c,a))),!h)break;u=h.x,a=h.y,h=h.prev}return s.reverse(),new k.DiffAlgorithmResult(s,!1)}}e.MyersDiffAlgorithm=L;class D{constructor(f,v,o,i){this.prev=f,this.x=v,this.y=o,this.length=i}}class _{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(f){return f<0?(f=-f-1,this.negativeArr[f]):this.positiveArr[f]}set(f,v){if(f<0){if(f=-f-1,f>=this.negativeArr.length){const o=this.negativeArr;this.negativeArr=new Int32Array(o.length*2),this.negativeArr.set(o)}this.negativeArr[f]=v}else{if(f>=this.positiveArr.length){const o=this.positiveArr;this.positiveArr=new Int32Array(o.length*2),this.positiveArr.set(o)}this.positiveArr[f]=v}}}class m{constructor(){this.positiveArr=[],this.negativeArr=[]}get(f){return f<0?(f=-f-1,this.negativeArr[f]):this.positiveArr[f]}set(f,v){f<0?(f=-f-1,this.negativeArr[f]=v):this.positiveArr[f]=v}}}),define(J[483],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Array2D=void 0;class y{constructor(L,D){this.width=L,this.height=D,this.array=[],this.array=new Array(L*D)}get(L,D){return this.array[L+D*this.width]}set(L,D,_){this.array[L+D*this.width]=_}}e.Array2D=y}),define(J[484],ee([1,0,124,178,483]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class D{compute(m,S,f=k.InfiniteTimeout.instance,v){if(m.length===0||S.length===0)return k.DiffAlgorithmResult.trivial(m,S);const o=new L.Array2D(m.length,S.length),i=new L.Array2D(m.length,S.length),t=new L.Array2D(m.length,S.length);for(let a=0;a<m.length;a++)for(let d=0;d<S.length;d++){if(!f.isValid())return k.DiffAlgorithmResult.trivialTimedOut(m,S);const c=a===0?0:o.get(a-1,d),b=d===0?0:o.get(a,d-1);let g;m.getElement(a)===S.getElement(d)?(a===0||d===0?g=0:g=o.get(a-1,d-1),a>0&&d>0&&i.get(a-1,d-1)===3&&(g+=t.get(a-1,d-1)),g+=v?v(a,d):1):g=-1;const p=Math.max(c,b,g);if(p===g){const C=a>0&&d>0?t.get(a-1,d-1):0;t.set(a,d,C+1),i.set(a,d,3)}else p===c?(t.set(a,d,0),i.set(a,d,1)):p===b&&(t.set(a,d,0),i.set(a,d,2));o.set(a,d,p)}const n=[];let r=m.length,l=S.length;function h(a,d){(a+1!==r||d+1!==l)&&n.push(new k.SequenceDiff(new y.OffsetRange(a+1,r),new y.OffsetRange(d+1,l))),r=a,l=d}let s=m.length-1,u=S.length-1;for(;s>=0&&u>=0;)i.get(s,u)===3?(h(s,u),s--,u--):i.get(s,u)===1?s--:u--;return h(-1,-1),n.reverse(),new k.DiffAlgorithmResult(n,!1)}}e.DynamicProgrammingDiffing=D}),define(J[109],ee([1,0,61]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedText=e.SimpleLineRangeMapping=e.RangeMapping=e.LineRangeMapping=e.LinesDiff=void 0;class k{constructor(f,v,o){this.changes=f,this.moves=v,this.hitTimeout=o}}e.LinesDiff=k;class L{static inverse(f,v,o){const i=[];let t=1,n=1;for(const l of f){const h=new L(new y.LineRange(t,l.originalRange.startLineNumber),new y.LineRange(n,l.modifiedRange.startLineNumber),void 0);h.modifiedRange.isEmpty||i.push(h),t=l.originalRange.endLineNumberExclusive,n=l.modifiedRange.endLineNumberExclusive}const r=new L(new y.LineRange(t,v+1),new y.LineRange(n,o+1),void 0);return r.modifiedRange.isEmpty||i.push(r),i}constructor(f,v,o){this.originalRange=f,this.modifiedRange=v,this.innerChanges=o}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}get changedLineCount(){return Math.max(this.originalRange.length,this.modifiedRange.length)}flip(){var f;return new L(this.modifiedRange,this.originalRange,(f=this.innerChanges)===null||f===void 0?void 0:f.map(v=>v.flip()))}}e.LineRangeMapping=L;class D{constructor(f,v){this.originalRange=f,this.modifiedRange=v}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new D(this.modifiedRange,this.originalRange)}}e.RangeMapping=D;class _{constructor(f,v){this.original=f,this.modified=v}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new _(this.modified,this.original)}}e.SimpleLineRangeMapping=_;class m{constructor(f,v){this.lineRangeMapping=f,this.changes=v}flip(){return new m(this.lineRangeMapping.flip(),this.changes.map(f=>f.flip()))}}e.MovedText=m}),define(J[485],ee([1,0,170,109,9,5,85,61]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.SmartLinesDiffComputer=void 0;const S=3;class f{computeDiff(d,c,b){var g;const C=new l(d,c,{maxComputationTime:b.maxComputationTimeMs,shouldIgnoreTrimWhitespace:b.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),w=[];let E=null;for(const I of C.changes){let T;I.originalEndLineNumber===0?T=new m.LineRange(I.originalStartLineNumber+1,I.originalStartLineNumber+1):T=new m.LineRange(I.originalStartLineNumber,I.originalEndLineNumber+1);let P;I.modifiedEndLineNumber===0?P=new m.LineRange(I.modifiedStartLineNumber+1,I.modifiedStartLineNumber+1):P=new m.LineRange(I.modifiedStartLineNumber,I.modifiedEndLineNumber+1);let A=new k.LineRangeMapping(T,P,(g=I.charChanges)===null||g===void 0?void 0:g.map(M=>new k.RangeMapping(new D.Range(M.originalStartLineNumber,M.originalStartColumn,M.originalEndLineNumber,M.originalEndColumn),new D.Range(M.modifiedStartLineNumber,M.modifiedStartColumn,M.modifiedEndLineNumber,M.modifiedEndColumn))));E&&(E.modifiedRange.endLineNumberExclusive===A.modifiedRange.startLineNumber||E.originalRange.endLineNumberExclusive===A.originalRange.startLineNumber)&&(A=new k.LineRangeMapping(E.originalRange.join(A.originalRange),E.modifiedRange.join(A.modifiedRange),E.innerChanges&&A.innerChanges?E.innerChanges.concat(A.innerChanges):void 0),w.pop()),w.push(A),E=A}return(0,_.assertFn)(()=>(0,_.checkAdjacentItems)(w,(I,T)=>T.originalRange.startLineNumber-I.originalRange.endLineNumberExclusive===T.modifiedRange.startLineNumber-I.modifiedRange.endLineNumberExclusive&&I.originalRange.endLineNumberExclusive<T.originalRange.startLineNumber&&I.modifiedRange.endLineNumberExclusive<T.modifiedRange.startLineNumber)),new k.LinesDiff(w,[],C.quitEarly)}}e.SmartLinesDiffComputer=f;function v(a,d,c,b){return new y.LcsDiff(a,d,c).ComputeDiff(b)}class o{constructor(d){const c=[],b=[];for(let g=0,p=d.length;g<p;g++)c[g]=h(d[g],1),b[g]=s(d[g],1);this.lines=d,this._startColumns=c,this._endColumns=b}getElements(){const d=[];for(let c=0,b=this.lines.length;c<b;c++)d[c]=this.lines[c].substring(this._startColumns[c]-1,this._endColumns[c]-1);return d}getStrictElement(d){return this.lines[d]}getStartLineNumber(d){return d+1}getEndLineNumber(d){return d+1}createCharSequence(d,c,b){const g=[],p=[],C=[];let w=0;for(let E=c;E<=b;E++){const I=this.lines[E],T=d?this._startColumns[E]:1,P=d?this._endColumns[E]:I.length+1;for(let A=T;A<P;A++)g[w]=I.charCodeAt(A-1),p[w]=E+1,C[w]=A,w++;!d&&E<b&&(g[w]=10,p[w]=E+1,C[w]=I.length+1,w++)}return new i(g,p,C)}}class i{constructor(d,c,b){this._charCodes=d,this._lineNumbers=c,this._columns=b}toString(){return"["+this._charCodes.map((d,c)=>(d===10?"\\n":String.fromCharCode(d))+`-(${this._lineNumbers[c]},${this._columns[c]})`).join(", ")+"]"}_assertIndex(d,c){if(d<0||d>=c.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(d){return d>0&&d===this._lineNumbers.length?this.getEndLineNumber(d-1):(this._assertIndex(d,this._lineNumbers),this._lineNumbers[d])}getEndLineNumber(d){return d===-1?this.getStartLineNumber(d+1):(this._assertIndex(d,this._lineNumbers),this._charCodes[d]===10?this._lineNumbers[d]+1:this._lineNumbers[d])}getStartColumn(d){return d>0&&d===this._columns.length?this.getEndColumn(d-1):(this._assertIndex(d,this._columns),this._columns[d])}getEndColumn(d){return d===-1?this.getStartColumn(d+1):(this._assertIndex(d,this._columns),this._charCodes[d]===10?1:this._columns[d]+1)}}class t{constructor(d,c,b,g,p,C,w,E){this.originalStartLineNumber=d,this.originalStartColumn=c,this.originalEndLineNumber=b,this.originalEndColumn=g,this.modifiedStartLineNumber=p,this.modifiedStartColumn=C,this.modifiedEndLineNumber=w,this.modifiedEndColumn=E}static createFromDiffChange(d,c,b){const g=c.getStartLineNumber(d.originalStart),p=c.getStartColumn(d.originalStart),C=c.getEndLineNumber(d.originalStart+d.originalLength-1),w=c.getEndColumn(d.originalStart+d.originalLength-1),E=b.getStartLineNumber(d.modifiedStart),I=b.getStartColumn(d.modifiedStart),T=b.getEndLineNumber(d.modifiedStart+d.modifiedLength-1),P=b.getEndColumn(d.modifiedStart+d.modifiedLength-1);return new t(g,p,C,w,E,I,T,P)}}function n(a){if(a.length<=1)return a;const d=[a[0]];let c=d[0];for(let b=1,g=a.length;b<g;b++){const p=a[b],C=p.originalStart-(c.originalStart+c.originalLength),w=p.modifiedStart-(c.modifiedStart+c.modifiedLength);Math.min(C,w)<S?(c.originalLength=p.originalStart+p.originalLength-c.originalStart,c.modifiedLength=p.modifiedStart+p.modifiedLength-c.modifiedStart):(d.push(p),c=p)}return d}class r{constructor(d,c,b,g,p){this.originalStartLineNumber=d,this.originalEndLineNumber=c,this.modifiedStartLineNumber=b,this.modifiedEndLineNumber=g,this.charChanges=p}static createFromDiffResult(d,c,b,g,p,C,w){let E,I,T,P,A;if(c.originalLength===0?(E=b.getStartLineNumber(c.originalStart)-1,I=0):(E=b.getStartLineNumber(c.originalStart),I=b.getEndLineNumber(c.originalStart+c.originalLength-1)),c.modifiedLength===0?(T=g.getStartLineNumber(c.modifiedStart)-1,P=0):(T=g.getStartLineNumber(c.modifiedStart),P=g.getEndLineNumber(c.modifiedStart+c.modifiedLength-1)),C&&c.originalLength>0&&c.originalLength<20&&c.modifiedLength>0&&c.modifiedLength<20&&p()){const M=b.createCharSequence(d,c.originalStart,c.originalStart+c.originalLength-1),N=g.createCharSequence(d,c.modifiedStart,c.modifiedStart+c.modifiedLength-1);if(M.getElements().length>0&&N.getElements().length>0){let O=v(M,N,p,!0).changes;w&&(O=n(O)),A=[];for(let x=0,F=O.length;x<F;x++)A.push(t.createFromDiffChange(O[x],M,N))}}return new r(E,I,T,P,A)}}class l{constructor(d,c,b){this.shouldComputeCharChanges=b.shouldComputeCharChanges,this.shouldPostProcessCharChanges=b.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=b.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=b.shouldMakePrettyDiff,this.originalLines=d,this.modifiedLines=c,this.original=new o(d),this.modified=new o(c),this.continueLineDiff=u(b.maxComputationTime),this.continueCharDiff=u(b.maxComputationTime===0?0:Math.min(b.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const d=v(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),c=d.changes,b=d.quitEarly;if(this.shouldIgnoreTrimWhitespace){const w=[];for(let E=0,I=c.length;E<I;E++)w.push(r.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c[E],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:b,changes:w}}const g=[];let p=0,C=0;for(let w=-1,E=c.length;w<E;w++){const I=w+1<E?c[w+1]:null,T=I?I.originalStart:this.originalLines.length,P=I?I.modifiedStart:this.modifiedLines.length;for(;p<T&&C<P;){const A=this.originalLines[p],M=this.modifiedLines[C];if(A!==M){{let N=h(A,1),O=h(M,1);for(;N>1&&O>1;){const x=A.charCodeAt(N-2),F=M.charCodeAt(O-2);if(x!==F)break;N--,O--}(N>1||O>1)&&this._pushTrimWhitespaceCharChange(g,p+1,1,N,C+1,1,O)}{let N=s(A,1),O=s(M,1);const x=A.length+1,F=M.length+1;for(;N<x&&O<F;){const B=A.charCodeAt(N-1),z=A.charCodeAt(O-1);if(B!==z)break;N++,O++}(N<x||O<F)&&this._pushTrimWhitespaceCharChange(g,p+1,N,x,C+1,O,F)}}p++,C++}I&&(g.push(r.createFromDiffResult(this.shouldIgnoreTrimWhitespace,I,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),p+=I.originalLength,C+=I.modifiedLength)}return{quitEarly:b,changes:g}}_pushTrimWhitespaceCharChange(d,c,b,g,p,C,w){if(this._mergeTrimWhitespaceCharChange(d,c,b,g,p,C,w))return;let E;this.shouldComputeCharChanges&&(E=[new t(c,b,c,g,p,C,p,w)]),d.push(new r(c,c,p,p,E))}_mergeTrimWhitespaceCharChange(d,c,b,g,p,C,w){const E=d.length;if(E===0)return!1;const I=d[E-1];return I.originalEndLineNumber===0||I.modifiedEndLineNumber===0?!1:I.originalEndLineNumber===c&&I.modifiedEndLineNumber===p?(this.shouldComputeCharChanges&&I.charChanges&&I.charChanges.push(new t(c,b,c,g,p,C,p,w)),!0):I.originalEndLineNumber+1===c&&I.modifiedEndLineNumber+1===p?(I.originalEndLineNumber=c,I.modifiedEndLineNumber=p,this.shouldComputeCharChanges&&I.charChanges&&I.charChanges.push(new t(c,b,c,g,p,C,p,w)),!0):!1}}e.DiffComputer=l;function h(a,d){const c=L.firstNonWhitespaceIndex(a);return c===-1?d:c+1}function s(a,d){const c=L.lastNonWhitespaceIndex(a);return c===-1?d:c+2}function u(a){if(a===0)return()=>!0;const d=Date.now();return()=>Date.now()-d<a}}),define(J[275],ee([1,0,85,61,124,11,5,178,484,481,482,109]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesSliceCharSequence=e.LineSequence=e.getLineRangeMapping=e.lineRangeMappingFromRangeMappings=e.StandardLinesDiffComputer=void 0;class i{constructor(){this.dynamicProgrammingDiffing=new S.DynamicProgrammingDiffing,this.myersDiffingAlgorithm=new v.MyersDiffAlgorithm}computeDiff(T,P,A){if(T.length===1&&T[0].length===0||P.length===1&&P[0].length===0)return{changes:[new o.LineRangeMapping(new k.LineRange(1,T.length+1),new k.LineRange(1,P.length+1),[new o.RangeMapping(new _.Range(1,1,T.length,T[0].length+1),new _.Range(1,1,P.length,P[0].length+1))])],hitTimeout:!1,moves:[]};const M=A.maxComputationTimeMs===0?m.InfiniteTimeout.instance:new m.DateTimeout(A.maxComputationTimeMs),N=!A.ignoreTrimWhitespace,O=new Map;function x($){let X=O.get($);return X===void 0&&(X=O.size,O.set($,X)),X}const F=T.map($=>x($.trim())),B=P.map($=>x($.trim())),z=new s(F,T),j=new s(B,P),R=(()=>z.length+j.length<1500?this.dynamicProgrammingDiffing.compute(z,j,M,($,X)=>T[$]===P[X]?P[X].length===0?.1:1+Math.log(1+P[X].length):.99):this.myersDiffingAlgorithm.compute(z,j))();let Z=R.diffs,se=R.hitTimeout;Z=(0,f.optimizeSequenceDiffs)(z,j,Z);const le=[],te=$=>{if(N)for(let X=0;X<$;X++){const Q=Y+X,de=U+X;if(T[Q]!==P[de]){const ce=this.refineDiff(T,P,new m.SequenceDiff(new L.OffsetRange(Q,Q+1),new L.OffsetRange(de,de+1)),M,N);for(const ae of ce.mappings)le.push(ae);ce.hitTimeout&&(se=!0)}}};let Y=0,U=0;for(const $ of Z){(0,y.assertFn)(()=>$.seq1Range.start-Y===$.seq2Range.start-U);const X=$.seq1Range.start-Y;te(X),Y=$.seq1Range.endExclusive,U=$.seq2Range.endExclusive;const Q=this.refineDiff(T,P,$,M,N);Q.hitTimeout&&(se=!0);for(const de of Q.mappings)le.push(de)}te(T.length-Y);const V=r(le,T,P),H=[];if(A.computeMoves){const $=V.filter(Q=>Q.modifiedRange.isEmpty&&Q.originalRange.length>=3).map(Q=>new E(Q.originalRange,T)),X=new Set(V.filter(Q=>Q.originalRange.isEmpty&&Q.modifiedRange.length>=3).map(Q=>new E(Q.modifiedRange,P)));for(const Q of $){let de=-1,ce;for(const ae of X){const ue=Q.computeSimilarity(ae);ue>de&&(de=ue,ce=ae)}if(de>.9&&ce){const ae=this.refineDiff(T,P,new m.SequenceDiff(new L.OffsetRange(Q.range.startLineNumber-1,Q.range.endLineNumberExclusive-1),new L.OffsetRange(ce.range.startLineNumber-1,ce.range.endLineNumberExclusive-1)),M,N),ue=r(ae.mappings,T,P,!0);X.delete(ce),H.push(new o.MovedText(new o.SimpleLineRangeMapping(Q.range,ce.range),ue))}}}return(0,y.assertFn)(()=>{function $(Q,de){if(Q.lineNumber<1||Q.lineNumber>de.length)return!1;const ce=de[Q.lineNumber-1];return!(Q.column<1||Q.column>ce.length+1)}function X(Q,de){return!(Q.startLineNumber<1||Q.startLineNumber>de.length+1||Q.endLineNumberExclusive<1||Q.endLineNumberExclusive>de.length+1)}for(const Q of V){if(!Q.innerChanges)return!1;for(const de of Q.innerChanges)if(!($(de.modifiedRange.getStartPosition(),P)&&$(de.modifiedRange.getEndPosition(),P)&&$(de.originalRange.getStartPosition(),T)&&$(de.originalRange.getEndPosition(),T)))return!1;if(!X(Q.modifiedRange,P)||!X(Q.originalRange,T))return!1}return!0}),new o.LinesDiff(V,H,se)}refineDiff(T,P,A,M,N){const O=new a(T,A.seq1Range,N),x=new a(P,A.seq2Range,N),F=O.length+x.length<500?this.dynamicProgrammingDiffing.compute(O,x,M):this.myersDiffingAlgorithm.compute(O,x,M);let B=F.diffs;return B=(0,f.optimizeSequenceDiffs)(O,x,B),B=t(O,x,B),B=(0,f.smoothenSequenceDiffs)(O,x,B),B=(0,f.removeRandomMatches)(O,x,B),{mappings:B.map(j=>new o.RangeMapping(O.translateRange(j.seq1Range),x.translateRange(j.seq2Range))),hitTimeout:F.hitTimeout}}}e.StandardLinesDiffComputer=i;function t(I,T,P){const A=[];let M;function N(){if(!M)return;const x=M.s1Range.length-M.deleted,F=M.s2Range.length-M.added;Math.max(M.deleted,M.added)+(M.count-1)>x&&A.push(new m.SequenceDiff(M.s1Range,M.s2Range)),M=void 0}for(const x of P){let F=function(Z,se){var le,te,Y,U;if(!M||!M.s1Range.containsRange(Z)||!M.s2Range.containsRange(se))if(M&&!(M.s1Range.endExclusive<Z.start&&M.s2Range.endExclusive<se.start)){const $=L.OffsetRange.tryCreate(M.s1Range.endExclusive,Z.start),X=L.OffsetRange.tryCreate(M.s2Range.endExclusive,se.start);M.deleted+=(le=$?.length)!==null&&le!==void 0?le:0,M.added+=(te=X?.length)!==null&&te!==void 0?te:0,M.s1Range=M.s1Range.join(Z),M.s2Range=M.s2Range.join(se)}else N(),M={added:0,deleted:0,count:0,s1Range:Z,s2Range:se};const V=Z.intersect(x.seq1Range),H=se.intersect(x.seq2Range);M.count++,M.deleted+=(Y=V?.length)!==null&&Y!==void 0?Y:0,M.added+=(U=H?.length)!==null&&U!==void 0?U:0};const B=I.findWordContaining(x.seq1Range.start-1),z=T.findWordContaining(x.seq2Range.start-1),j=I.findWordContaining(x.seq1Range.endExclusive),R=T.findWordContaining(x.seq2Range.endExclusive);B&&j&&z&&R&&B.equals(j)&&z.equals(R)?F(B,z):(B&&z&&F(B,z),j&&R&&F(j,R))}return N(),n(P,A)}function n(I,T){const P=[];for(;I.length>0||T.length>0;){const A=I[0],M=T[0];let N;A&&(!M||A.seq1Range.start<M.seq1Range.start)?N=I.shift():N=T.shift(),P.length>0&&P[P.length-1].seq1Range.endExclusive>=N.seq1Range.start?P[P.length-1]=P[P.length-1].join(N):P.push(N)}return P}function r(I,T,P,A=!1){const M=[];for(const N of h(I.map(O=>l(O,T,P)),(O,x)=>O.originalRange.overlapOrTouch(x.originalRange)||O.modifiedRange.overlapOrTouch(x.modifiedRange))){const O=N[0],x=N[N.length-1];M.push(new o.LineRangeMapping(O.originalRange.join(x.originalRange),O.modifiedRange.join(x.modifiedRange),N.map(F=>F.innerChanges[0])))}return(0,y.assertFn)(()=>!A&&M.length>0&&M[0].originalRange.startLineNumber!==M[0].modifiedRange.startLineNumber?!1:(0,y.checkAdjacentItems)(M,(N,O)=>O.originalRange.startLineNumber-N.originalRange.endLineNumberExclusive===O.modifiedRange.startLineNumber-N.modifiedRange.endLineNumberExclusive&&N.originalRange.endLineNumberExclusive<O.originalRange.startLineNumber&&N.modifiedRange.endLineNumberExclusive<O.modifiedRange.startLineNumber)),M}e.lineRangeMappingFromRangeMappings=r;function l(I,T,P){let A=0,M=0;I.modifiedRange.endColumn===1&&I.originalRange.endColumn===1&&I.originalRange.startLineNumber+A<=I.originalRange.endLineNumber&&I.modifiedRange.startLineNumber+A<=I.modifiedRange.endLineNumber&&(M=-1),I.modifiedRange.startColumn-1>=P[I.modifiedRange.startLineNumber-1].length&&I.originalRange.startColumn-1>=T[I.originalRange.startLineNumber-1].length&&I.originalRange.startLineNumber<=I.originalRange.endLineNumber+M&&I.modifiedRange.startLineNumber<=I.modifiedRange.endLineNumber+M&&(A=1);const N=new k.LineRange(I.originalRange.startLineNumber+A,I.originalRange.endLineNumber+1+M),O=new k.LineRange(I.modifiedRange.startLineNumber+A,I.modifiedRange.endLineNumber+1+M);return new o.LineRangeMapping(N,O,[I])}e.getLineRangeMapping=l;function*h(I,T){let P,A;for(const M of I)A!==void 0&&T(A,M)?P.push(M):(P&&(yield P),P=[M]),A=M;P&&(yield P)}class s{constructor(T,P){this.trimmedHash=T,this.lines=P}getElement(T){return this.trimmedHash[T]}get length(){return this.trimmedHash.length}getBoundaryScore(T){const P=T===0?0:u(this.lines[T-1]),A=T===this.lines.length?0:u(this.lines[T]);return 1e3-(P+A)}}e.LineSequence=s;function u(I){let T=0;for(;T<I.length&&(I.charCodeAt(T)===32||I.charCodeAt(T)===9);)T++;return T}class a{constructor(T,P,A){this.lines=T,this.considerWhitespaceChanges=A,this.elements=[],this.firstCharOffsetByLineMinusOne=[],this.offsetByLine=[];let M=!1;P.start>0&&P.endExclusive>=T.length&&(P=new L.OffsetRange(P.start-1,P.endExclusive),M=!0),this.lineRange=P;for(let N=this.lineRange.start;N<this.lineRange.endExclusive;N++){let O=T[N],x=0;if(M)x=O.length,O="",M=!1;else if(!A){const F=O.trimStart();x=O.length-F.length,O=F.trimEnd()}this.offsetByLine.push(x);for(let F=0;F<O.length;F++)this.elements.push(O.charCodeAt(F));N<T.length-1&&(this.elements.push(`
`.charCodeAt(0)),this.firstCharOffsetByLineMinusOne[N-this.lineRange.start]=this.elements.length)}this.offsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new L.OffsetRange(0,this.length))}getText(T){return this.elements.slice(T.start,T.endExclusive).map(P=>String.fromCharCode(P)).join("")}getElement(T){return this.elements[T]}get length(){return this.elements.length}getBoundaryScore(T){const P=g(T>0?this.elements[T-1]:-1),A=g(T<this.elements.length?this.elements[T]:-1);if(P===6&&A===7)return 0;let M=0;return P!==A&&(M+=10,A===1&&(M+=1)),M+=b(P),M+=b(A),M}translateOffset(T){if(this.lineRange.isEmpty)return new D.Position(this.lineRange.start+1,1);let P=0,A=this.firstCharOffsetByLineMinusOne.length;for(;P<A;){const N=Math.floor((P+A)/2);this.firstCharOffsetByLineMinusOne[N]>T?A=N:P=N+1}const M=P===0?0:this.firstCharOffsetByLineMinusOne[P-1];return new D.Position(this.lineRange.start+P+1,T-M+1+this.offsetByLine[P])}translateRange(T){return _.Range.fromPositions(this.translateOffset(T.start),this.translateOffset(T.endExclusive))}findWordContaining(T){if(T<0||T>=this.elements.length||!d(this.elements[T]))return;let P=T;for(;P>0&&d(this.elements[P-1]);)P--;let A=T;for(;A<this.elements.length&&d(this.elements[A]);)A++;return new L.OffsetRange(P,A)}countLinesIn(T){return this.translateOffset(T.endExclusive).lineNumber-this.translateOffset(T.start).lineNumber}}e.LinesSliceCharSequence=a;function d(I){return I>=97&&I<=122||I>=65&&I<=90||I>=48&&I<=57}const c={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:10,[7]:10};function b(I){return c[I]}function g(I){return I===10?7:I===13?6:p(I)?5:I>=97&&I<=122?0:I>=65&&I<=90?1:I>=48&&I<=57?2:I===-1?3:4}function p(I){return I===32||I===9}const C=new Map;function w(I){let T=C.get(I);return T===void 0&&(T=C.size,C.set(I,T)),T}class E{constructor(T,P){this.range=T,this.lines=P,this.histogram=[];let A=0;for(let M=T.startLineNumber-1;M<T.endLineNumberExclusive-1;M++){const N=P[M];for(let x=0;x<N.length;x++){A++;const F=N[x],B=w(F);this.histogram[B]=(this.histogram[B]||0)+1}A++;const O=w(`
`);this.histogram[O]=(this.histogram[O]||0)+1}this.totalCount=A}computeSimilarity(T){var P,A;let M=0;const N=Math.max(this.histogram.length,T.histogram.length);for(let O=0;O<N;O++)M+=Math.abs(((P=this.histogram[O])!==null&&P!==void 0?P:0)-((A=T.histogram[O])!==null&&A!==void 0?A:0));return 1-M/(this.totalCount+T.totalCount)}}}),define(J[486],ee([1,0,485,275]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={getLegacy:()=>new y.SmartLinesDiffComputer,getAdvanced:()=>new k.StandardLinesDiffComputer}}),define(J[276],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class y{constructor(L,D,_,m,S,f){this.id=L,this.label=D,this.alias=_,this._precondition=m,this._run=S,this._contextKeyService=f}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(L){return this.isSupported()?this._run(L):Promise.resolve(void 0)}}e.InternalEditorAction=y}),define(J[150],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(J[179],ee([1,0,150]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isCompositeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function k(m){return m&&typeof m.getEditorType=="function"?m.getEditorType()===y.EditorType.ICodeEditor:!1}e.isCodeEditor=k;function L(m){return m&&typeof m.getEditorType=="function"?m.getEditorType()===y.EditorType.IDiffEditor:!1}e.isDiffEditor=L;function D(m){return!!m&&typeof m=="object"&&typeof m.onDidChangeActiveEditor=="function"}e.isCompositeEditor=D;function _(m){return k(m)?m:L(m)?m.getModifiedEditor():D(m)&&k(m.activeCodeEditor)?m.activeCodeEditor:null}e.getCodeEditor=_}),define(J[151],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEditorFeatures=e.registerEditorFeature=void 0;const y=[];function k(D){y.push(D)}e.registerEditorFeature=k;function L(){return y.slice(0)}e.getEditorFeatures=L}),define(J[487],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class y{get type(){return this._theme.type}get value(){return this._theme}constructor(L){this._theme=L}update(L){this._theme=L}getColor(L){return this._theme.getColor(L)}}e.EditorTheme=y}),define(J[126],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class y{static getLanguageId(L){return(L&255)>>>0}static getTokenType(L){return(L&768)>>>8}static containsBalancedBrackets(L){return(L&1024)!==0}static getFontStyle(L){return(L&30720)>>>11}static getForeground(L){return(L&16744448)>>>15}static getBackground(L){return(L&4278190080)>>>24}static getClassNameFromMetadata(L){let _="mtk"+this.getForeground(L);const m=this.getFontStyle(L);return m&1&&(_+=" mtki"),m&2&&(_+=" mtkb"),m&4&&(_+=" mtku"),m&8&&(_+=" mtks"),_}static getInlineStyleFromMetadata(L,D){const _=this.getForeground(L),m=this.getFontStyle(L);let S=`color: ${D[_]};`;m&1&&(S+="font-style: italic;"),m&2&&(S+="font-weight: bold;");let f="";return m&4&&(f+=" underline"),m&8&&(f+=" line-through"),f&&(S+=`text-decoration:${f};`),S}static getPresentationFromMetadata(L){const D=this.getForeground(L),_=this.getFontStyle(L);return{foreground:D,italic:!!(_&1),bold:!!(_&2),underline:!!(_&4),strikethrough:!!(_&8)}}}e.TokenMetadata=y}),define(J[488],ee([1,0,37]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeDefaultDocumentColors=void 0;function k(i){const t=[];for(const n of i){const r=Number(n);(r||r===0&&n.replace(/\s/g,"")!=="")&&t.push(r)}return t}function L(i,t,n,r){return{red:i/255,blue:n/255,green:t/255,alpha:r}}function D(i,t){const n=t.index,r=t[0].length;if(!n)return;const l=i.positionAt(n);return{startLineNumber:l.lineNumber,startColumn:l.column,endLineNumber:l.lineNumber,endColumn:l.column+r}}function _(i,t){if(!i)return;const n=y.Color.Format.CSS.parseHex(t);if(n)return{range:i,color:L(n.rgba.r,n.rgba.g,n.rgba.b,n.rgba.a)}}function m(i,t,n){if(!i||t.length!==1)return;const l=t[0].values(),h=k(l);return{range:i,color:L(h[0],h[1],h[2],n?h[3]:1)}}function S(i,t,n){if(!i||t.length!==1)return;const l=t[0].values(),h=k(l),s=new y.Color(new y.HSLA(h[0],h[1]/100,h[2]/100,n?h[3]:1));return{range:i,color:L(s.rgba.r,s.rgba.g,s.rgba.b,s.rgba.a)}}function f(i,t){return typeof i=="string"?[...i.matchAll(t)]:i.findMatches(t)}function v(i){const t=[],r=f(i,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(r.length>0)for(const l of r){const h=l.filter(d=>d!==void 0),s=h[1],u=h[2];if(!u)continue;let a;if(s==="rgb"){const d=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;a=m(D(i,l),f(u,d),!1)}else if(s==="rgba"){const d=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;a=m(D(i,l),f(u,d),!0)}else if(s==="hsl"){const d=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;a=S(D(i,l),f(u,d),!1)}else if(s==="hsla"){const d=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;a=S(D(i,l),f(u,d),!0)}else s==="#"&&(a=_(D(i,l),s+u));a&&t.push(a)}return t}function o(i){return!i||typeof i.getValue!="function"||typeof i.positionAt!="function"?[]:v(i)}e.computeDefaultDocumentColors=o}),define(J[110],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var y;(function(_){_[_.None=0]="None",_[_.Indent=1]="Indent",_[_.IndentOutdent=2]="IndentOutdent",_[_.Outdent=3]="Outdent"})(y||(e.IndentAction=y={}));class k{constructor(m){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=m.open,this.close=m.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(m.notIn))for(let S=0,f=m.notIn.length;S<f;S++)switch(m.notIn[S]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(m){switch(m){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(m,S){if(m.getTokenCount()===0)return!0;const f=m.findTokenIndexAtOffset(S-2),v=m.getStandardTokenType(f);return this.isOK(v)}_findNeutralCharacterInRange(m,S){for(let f=m;f<=S;f++){const v=String.fromCharCode(f);if(!this.open.includes(v)&&!this.close.includes(v))return v}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=k;class L{constructor(m){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const S of m)D(this.autoClosingPairsOpenByStart,S.open.charAt(0),S),D(this.autoClosingPairsOpenByEnd,S.open.charAt(S.open.length-1),S),D(this.autoClosingPairsCloseByStart,S.close.charAt(0),S),D(this.autoClosingPairsCloseByEnd,S.close.charAt(S.close.length-1),S),S.close.length===1&&S.open.length===1&&D(this.autoClosingPairsCloseSingleChar,S.close,S)}}e.AutoClosingPairs=L;function D(_,m,S){_.has(m)?_.get(m).push(S):_.set(m,[S])}}),define(J[489],ee([1,0,122]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=void 0;class k{constructor(i,t,n){const r=new Uint8Array(i*t);for(let l=0,h=i*t;l<h;l++)r[l]=n;this._data=r,this.rows=i,this.cols=t}get(i,t){return this._data[i*this.cols+t]}set(i,t,n){this._data[i*this.cols+t]=n}}class L{constructor(i){let t=0,n=0;for(let l=0,h=i.length;l<h;l++){const[s,u,a]=i[l];u>t&&(t=u),s>n&&(n=s),a>n&&(n=a)}t++,n++;const r=new k(n,t,0);for(let l=0,h=i.length;l<h;l++){const[s,u,a]=i[l];r.set(s,u,a)}this._states=r,this._maxCharCode=t}nextState(i,t){return t<0||t>=this._maxCharCode?0:this._states.get(i,t)}}e.StateMachine=L;let D=null;function _(){return D===null&&(D=new L([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let m=null;function S(){if(m===null){m=new y.CharacterClassifier(0);const o=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let t=0;t<o.length;t++)m.set(o.charCodeAt(t),1);const i=".,;:";for(let t=0;t<i.length;t++)m.set(i.charCodeAt(t),2)}return m}class f{static _createLink(i,t,n,r,l){let h=l-1;do{const s=t.charCodeAt(h);if(i.get(s)!==2)break;h--}while(h>r);if(r>0){const s=t.charCodeAt(r-1),u=t.charCodeAt(h);(s===40&&u===41||s===91&&u===93||s===123&&u===125)&&h--}return{range:{startLineNumber:n,startColumn:r+1,endLineNumber:n,endColumn:h+2},url:t.substring(r,h+1)}}static computeLinks(i,t=_()){const n=S(),r=[];for(let l=1,h=i.getLineCount();l<=h;l++){const s=i.getLineContent(l),u=s.length;let a=0,d=0,c=0,b=1,g=!1,p=!1,C=!1,w=!1;for(;a<u;){let E=!1;const I=s.charCodeAt(a);if(b===13){let T;switch(I){case 40:g=!0,T=0;break;case 41:T=g?0:1;break;case 91:C=!0,p=!0,T=0;break;case 93:C=!1,T=p?0:1;break;case 123:w=!0,T=0;break;case 125:T=w?0:1;break;case 39:case 34:case 96:c===I?T=1:c===39||c===34||c===96?T=0:T=1;break;case 42:T=c===42?1:0;break;case 124:T=c===124?1:0;break;case 32:T=C?0:1;break;default:T=n.get(I)}T===1&&(r.push(f._createLink(n,s,l,d,a)),E=!0)}else if(b===12){let T;I===91?(p=!0,T=0):T=n.get(I),T===1?E=!0:b=13}else b=t.nextState(b,I),b===0&&(E=!0);E&&(b=1,g=!1,p=!1,w=!1,d=a+1,c=I),a++}b===13&&r.push(f._createLink(n,s,l,d,u))}return r}}e.LinkComputer=f;function v(o){return!o||typeof o.getLineCount!="function"||typeof o.getLineContent!="function"?[]:f.computeLinks(o)}e.computeLinks=v}),define(J[127],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function y(D,_){const m=D.getCount(),S=D.findTokenIndexAtOffset(_),f=D.getLanguageId(S);let v=S;for(;v+1<m&&D.getLanguageId(v+1)===f;)v++;let o=S;for(;o>0&&D.getLanguageId(o-1)===f;)o--;return new k(D,f,o,v+1,D.getStartOffset(o),D.getEndOffset(v))}e.createScopedLineTokens=y;class k{constructor(_,m,S,f,v,o){this._scopedLineTokensBrand=void 0,this._actual=_,this.languageId=m,this._firstTokenIndex=S,this._lastTokenIndex=f,this.firstCharOffset=v,this._lastCharOffset=o}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(_){return this._actual.getLineContent().substring(0,this.firstCharOffset+_)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(_){return this._actual.findTokenIndexAtOffset(_+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(_){return this._actual.getStandardTokenType(_+this._firstTokenIndex)}}e.ScopedLineTokens=k;function L(D){return(D&3)!==0}e.ignoreBracketsInToken=L}),define(J[73],ee([1,0,11,5,24,127,81,203]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0;const S=()=>!0,f=()=>!1,v=s=>s===" "||s==="	";class o{static shouldRecreate(u){return u.hasChanged(142)||u.hasChanged(128)||u.hasChanged(36)||u.hasChanged(75)||u.hasChanged(77)||u.hasChanged(78)||u.hasChanged(6)||u.hasChanged(10)||u.hasChanged(8)||u.hasChanged(9)||u.hasChanged(13)||u.hasChanged(126)||u.hasChanged(49)||u.hasChanged(89)}constructor(u,a,d,c){this.languageConfigurationService=c,this._cursorMoveConfigurationBrand=void 0,this._languageId=u;const b=d.options,g=b.get(142),p=b.get(49);this.readOnly=b.get(89),this.tabSize=a.tabSize,this.indentSize=a.indentSize,this.insertSpaces=a.insertSpaces,this.stickyTabStops=b.get(114),this.lineHeight=p.lineHeight,this.typicalHalfwidthCharacterWidth=p.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(g.height/this.lineHeight)-2),this.useTabStops=b.get(126),this.wordSeparators=b.get(128),this.emptySelectionClipboard=b.get(36),this.copyWithSyntaxHighlighting=b.get(24),this.multiCursorMergeOverlapping=b.get(75),this.multiCursorPaste=b.get(77),this.multiCursorLimit=b.get(78),this.autoClosingBrackets=b.get(6),this.autoClosingQuotes=b.get(10),this.autoClosingDelete=b.get(8),this.autoClosingOvertype=b.get(9),this.autoSurround=b.get(13),this.autoIndent=b.get(11),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(u,this.autoClosingQuotes,!0),bracket:this._getShouldAutoClose(u,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(u).getAutoClosingPairs();const C=this.languageConfigurationService.getLanguageConfiguration(u).getSurroundingPairs();if(C)for(const w of C)this.surroundingPairs[w.open]=w.close}get electricChars(){var u;if(!this._electricChars){this._electricChars={};const a=(u=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||u===void 0?void 0:u.getElectricCharacters();if(a)for(const d of a)this._electricChars[d]=!0}return this._electricChars}onElectricCharacter(u,a,d){const c=(0,D.createScopedLineTokens)(a,d-1),b=this.languageConfigurationService.getLanguageConfiguration(c.languageId).electricCharacter;return b?b.onElectricCharacter(u,c,d-c.firstCharOffset):null}normalizeIndentation(u){return(0,m.normalizeIndentation)(u,this.indentSize,this.insertSpaces)}_getShouldAutoClose(u,a,d){switch(a){case"beforeWhitespace":return v;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(u,d);case"always":return S;case"never":return f}}_getLanguageDefinedShouldAutoClose(u,a){const d=this.languageConfigurationService.getLanguageConfiguration(u).getAutoCloseBeforeSet(a);return c=>d.indexOf(c)!==-1}visibleColumnFromColumn(u,a){return _.CursorColumns.visibleColumnFromColumn(u.getLineContent(a.lineNumber),a.column,this.tabSize)}columnFromVisibleColumn(u,a,d){const c=_.CursorColumns.columnFromVisibleColumn(u.getLineContent(a),d,this.tabSize),b=u.getLineMinColumn(a);if(c<b)return b;const g=u.getLineMaxColumn(a);return c>g?g:c}}e.CursorConfiguration=o;class i{static fromModelState(u){return new t(u)}static fromViewState(u){return new n(u)}static fromModelSelection(u){const a=L.Selection.liftSelection(u),d=new r(k.Range.fromPositions(a.getSelectionStart()),0,0,a.getPosition(),0);return i.fromModelState(d)}static fromModelSelections(u){const a=[];for(let d=0,c=u.length;d<c;d++)a[d]=this.fromModelSelection(u[d]);return a}constructor(u,a){this._cursorStateBrand=void 0,this.modelState=u,this.viewState=a}equals(u){return this.viewState.equals(u.viewState)&&this.modelState.equals(u.modelState)}}e.CursorState=i;class t{constructor(u){this.modelState=u,this.viewState=null}}e.PartialModelCursorState=t;class n{constructor(u){this.modelState=null,this.viewState=u}}e.PartialViewCursorState=n;class r{constructor(u,a,d,c,b){this.selectionStart=u,this.selectionStartKind=a,this.selectionStartLeftoverVisibleColumns=d,this.position=c,this.leftoverVisibleColumns=b,this._singleCursorStateBrand=void 0,this.selection=r._computeSelection(this.selectionStart,this.position)}equals(u){return this.selectionStartLeftoverVisibleColumns===u.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===u.leftoverVisibleColumns&&this.selectionStartKind===u.selectionStartKind&&this.position.equals(u.position)&&this.selectionStart.equalsRange(u.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(u,a,d,c){return u?new r(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new y.Position(a,d),c):new r(new k.Range(a,d,a,d),0,c,new y.Position(a,d),c)}static _computeSelection(u,a){return u.isEmpty()||!a.isBeforeOrEqual(u.getStartPosition())?L.Selection.fromPositions(u.getStartPosition(),a):L.Selection.fromPositions(u.getEndPosition(),a)}}e.SingleCursorState=r;class l{constructor(u,a,d){this._editOperationResultBrand=void 0,this.type=u,this.commands=a,this.shouldPushStackElementBefore=d.shouldPushStackElementBefore,this.shouldPushStackElementAfter=d.shouldPushStackElementAfter}}e.EditOperationResult=l;function h(s){return s==="'"||s==='"'||s==="`"}e.isQuote=h}),define(J[490],ee([1,0,73,11,5]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(m,S,f,v,o,i){const t=Math.abs(o-f)+1,n=f>o,r=v>i,l=v<i,h=[];for(let s=0;s<t;s++){const u=f+(n?-s:s),a=m.columnFromVisibleColumn(S,u,v),d=m.columnFromVisibleColumn(S,u,i),c=m.visibleColumnFromColumn(S,new k.Position(u,a)),b=m.visibleColumnFromColumn(S,new k.Position(u,d));l&&(c>i||b<v)||r&&(b>v||c<i)||h.push(new y.SingleCursorState(new L.Range(u,a,u,a),0,0,new k.Position(u,d),0))}if(h.length===0)for(let s=0;s<t;s++){const u=f+(n?-s:s),a=S.getLineMaxColumn(u);h.push(new y.SingleCursorState(new L.Range(u,a,u,a),0,0,new k.Position(u,a),0))}return{viewStates:h,reversed:n,fromLineNumber:f,fromVisualColumn:v,toLineNumber:o,toVisualColumn:i}}static columnSelectLeft(m,S,f){let v=f.toViewVisualColumn;return v>0&&v--,D.columnSelect(m,S,f.fromViewLineNumber,f.fromViewVisualColumn,f.toViewLineNumber,v)}static columnSelectRight(m,S,f){let v=0;const o=Math.min(f.fromViewLineNumber,f.toViewLineNumber),i=Math.max(f.fromViewLineNumber,f.toViewLineNumber);for(let n=o;n<=i;n++){const r=S.getLineMaxColumn(n),l=m.visibleColumnFromColumn(S,new k.Position(n,r));v=Math.max(v,l)}let t=f.toViewVisualColumn;return t<v&&t++,this.columnSelect(m,S,f.fromViewLineNumber,f.fromViewVisualColumn,f.toViewLineNumber,t)}static columnSelectUp(m,S,f,v){const o=v?m.pageSize:1,i=Math.max(1,f.toViewLineNumber-o);return this.columnSelect(m,S,f.fromViewLineNumber,f.fromViewVisualColumn,i,f.toViewVisualColumn)}static columnSelectDown(m,S,f,v){const o=v?m.pageSize:1,i=Math.min(S.getLineCount(),f.toViewLineNumber+o);return this.columnSelect(m,S,f.fromViewLineNumber,f.fromViewVisualColumn,i,f.toViewVisualColumn)}}e.ColumnSelection=D}),define(J[204],ee([1,0,9,81,11,5,274,73]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class S{constructor(o,i,t){this._cursorPositionBrand=void 0,this.lineNumber=o,this.column=i,this.leftoverVisibleColumns=t}}e.CursorPosition=S;class f{static leftPosition(o,i){if(i.column>o.getLineMinColumn(i.lineNumber))return i.delta(void 0,-y.prevCharLength(o.getLineContent(i.lineNumber),i.column-1));if(i.lineNumber>1){const t=i.lineNumber-1;return new L.Position(t,o.getLineMaxColumn(t))}else return i}static leftPositionAtomicSoftTabs(o,i,t){if(i.column<=o.getLineIndentColumn(i.lineNumber)){const n=o.getLineMinColumn(i.lineNumber),r=o.getLineContent(i.lineNumber),l=_.AtomicTabMoveOperations.atomicPosition(r,i.column-1,t,0);if(l!==-1&&l+1>=n)return new L.Position(i.lineNumber,l+1)}return this.leftPosition(o,i)}static left(o,i,t){const n=o.stickyTabStops?f.leftPositionAtomicSoftTabs(i,t,o.tabSize):f.leftPosition(i,t);return new S(n.lineNumber,n.column,0)}static moveLeft(o,i,t,n,r){let l,h;if(t.hasSelection()&&!n)l=t.selection.startLineNumber,h=t.selection.startColumn;else{const s=t.position.delta(void 0,-(r-1)),u=i.normalizePosition(f.clipPositionColumn(s,i),0),a=f.left(o,i,u);l=a.lineNumber,h=a.column}return t.move(n,l,h,0)}static clipPositionColumn(o,i){return new L.Position(o.lineNumber,f.clipRange(o.column,i.getLineMinColumn(o.lineNumber),i.getLineMaxColumn(o.lineNumber)))}static clipRange(o,i,t){return o<i?i:o>t?t:o}static rightPosition(o,i,t){return t<o.getLineMaxColumn(i)?t=t+y.nextCharLength(o.getLineContent(i),t-1):i<o.getLineCount()&&(i=i+1,t=o.getLineMinColumn(i)),new L.Position(i,t)}static rightPositionAtomicSoftTabs(o,i,t,n,r){if(t<o.getLineIndentColumn(i)){const l=o.getLineContent(i),h=_.AtomicTabMoveOperations.atomicPosition(l,t-1,n,1);if(h!==-1)return new L.Position(i,h+1)}return this.rightPosition(o,i,t)}static right(o,i,t){const n=o.stickyTabStops?f.rightPositionAtomicSoftTabs(i,t.lineNumber,t.column,o.tabSize,o.indentSize):f.rightPosition(i,t.lineNumber,t.column);return new S(n.lineNumber,n.column,0)}static moveRight(o,i,t,n,r){let l,h;if(t.hasSelection()&&!n)l=t.selection.endLineNumber,h=t.selection.endColumn;else{const s=t.position.delta(void 0,r-1),u=i.normalizePosition(f.clipPositionColumn(s,i),1),a=f.right(o,i,u);l=a.lineNumber,h=a.column}return t.move(n,l,h,0)}static vertical(o,i,t,n,r,l,h,s){const u=k.CursorColumns.visibleColumnFromColumn(i.getLineContent(t),n,o.tabSize)+r,a=i.getLineCount(),d=t===1&&n===1,c=t===a&&n===i.getLineMaxColumn(t),b=l<t?d:c;if(t=l,t<1?(t=1,h?n=i.getLineMinColumn(t):n=Math.min(i.getLineMaxColumn(t),n)):t>a?(t=a,h?n=i.getLineMaxColumn(t):n=Math.min(i.getLineMaxColumn(t),n)):n=o.columnFromVisibleColumn(i,t,u),b?r=0:r=u-k.CursorColumns.visibleColumnFromColumn(i.getLineContent(t),n,o.tabSize),s!==void 0){const g=new L.Position(t,n),p=i.normalizePosition(g,s);r=r+(n-p.column),t=p.lineNumber,n=p.column}return new S(t,n,r)}static down(o,i,t,n,r,l,h){return this.vertical(o,i,t,n,r,t+l,h,4)}static moveDown(o,i,t,n,r){let l,h;t.hasSelection()&&!n?(l=t.selection.endLineNumber,h=t.selection.endColumn):(l=t.position.lineNumber,h=t.position.column);let s=0,u;do if(u=f.down(o,i,l+s,h,t.leftoverVisibleColumns,r,!0),i.normalizePosition(new L.Position(u.lineNumber,u.column),2).lineNumber>l)break;while(s++<10&&l+s<i.getLineCount());return t.move(n,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateDown(o,i,t){const n=t.selection,r=f.down(o,i,n.selectionStartLineNumber,n.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),l=f.down(o,i,n.positionLineNumber,n.positionColumn,t.leftoverVisibleColumns,1,!1);return new m.SingleCursorState(new D.Range(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new L.Position(l.lineNumber,l.column),l.leftoverVisibleColumns)}static up(o,i,t,n,r,l,h){return this.vertical(o,i,t,n,r,t-l,h,3)}static moveUp(o,i,t,n,r){let l,h;t.hasSelection()&&!n?(l=t.selection.startLineNumber,h=t.selection.startColumn):(l=t.position.lineNumber,h=t.position.column);const s=f.up(o,i,l,h,t.leftoverVisibleColumns,r,!0);return t.move(n,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateUp(o,i,t){const n=t.selection,r=f.up(o,i,n.selectionStartLineNumber,n.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),l=f.up(o,i,n.positionLineNumber,n.positionColumn,t.leftoverVisibleColumns,1,!1);return new m.SingleCursorState(new D.Range(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new L.Position(l.lineNumber,l.column),l.leftoverVisibleColumns)}static _isBlankLine(o,i){return o.getLineFirstNonWhitespaceColumn(i)===0}static moveToPrevBlankLine(o,i,t,n){let r=t.position.lineNumber;for(;r>1&&this._isBlankLine(i,r);)r--;for(;r>1&&!this._isBlankLine(i,r);)r--;return t.move(n,r,i.getLineMinColumn(r),0)}static moveToNextBlankLine(o,i,t,n){const r=i.getLineCount();let l=t.position.lineNumber;for(;l<r&&this._isBlankLine(i,l);)l++;for(;l<r&&!this._isBlankLine(i,l);)l++;return t.move(n,l,i.getLineMinColumn(l),0)}static moveToBeginningOfLine(o,i,t,n){const r=t.position.lineNumber,l=i.getLineMinColumn(r),h=i.getLineFirstNonWhitespaceColumn(r)||l;let s;return t.position.column===h?s=l:s=h,t.move(n,r,s,0)}static moveToEndOfLine(o,i,t,n,r){const l=t.position.lineNumber,h=i.getLineMaxColumn(l);return t.move(n,l,h,r?1073741824-h:0)}static moveToBeginningOfBuffer(o,i,t,n){return t.move(n,1,1,0)}static moveToEndOfBuffer(o,i,t,n){const r=i.getLineCount(),l=i.getLineMaxColumn(r);return t.move(n,r,l,0)}}e.MoveOperations=f}),define(J[205],ee([1,0,9,125,73,81,204,5,11]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class f{static deleteRight(o,i,t,n){const r=[];let l=o!==3;for(let h=0,s=n.length;h<s;h++){const u=n[h];let a=u;if(a.isEmpty()){const d=u.getPosition(),c=_.MoveOperations.right(i,t,d);a=new m.Range(c.lineNumber,c.column,d.lineNumber,d.column)}if(a.isEmpty()){r[h]=null;continue}a.startLineNumber!==a.endLineNumber&&(l=!0),r[h]=new k.ReplaceCommand(a,"")}return[l,r]}static isAutoClosingPairDelete(o,i,t,n,r,l,h){if(i==="never"&&t==="never"||o==="never")return!1;for(let s=0,u=l.length;s<u;s++){const a=l[s],d=a.getPosition();if(!a.isEmpty())return!1;const c=r.getLineContent(d.lineNumber);if(d.column<2||d.column>=c.length+1)return!1;const b=c.charAt(d.column-2),g=n.get(b);if(!g)return!1;if((0,L.isQuote)(b)){if(t==="never")return!1}else if(i==="never")return!1;const p=c.charAt(d.column-1);let C=!1;for(const w of g)w.open===b&&w.close===p&&(C=!0);if(!C)return!1;if(o==="auto"){let w=!1;for(let E=0,I=h.length;E<I;E++){const T=h[E];if(d.lineNumber===T.startLineNumber&&d.column===T.startColumn){w=!0;break}}if(!w)return!1}}return!0}static _runAutoClosingPairDelete(o,i,t){const n=[];for(let r=0,l=t.length;r<l;r++){const h=t[r].getPosition(),s=new m.Range(h.lineNumber,h.column-1,h.lineNumber,h.column+1);n[r]=new k.ReplaceCommand(s,"")}return[!0,n]}static deleteLeft(o,i,t,n,r){if(this.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,t,n,r))return this._runAutoClosingPairDelete(i,t,n);const l=[];let h=o!==2;for(let s=0,u=n.length;s<u;s++){const a=f.getDeleteRange(n[s],t,i);if(a.isEmpty()){l[s]=null;continue}a.startLineNumber!==a.endLineNumber&&(h=!0),l[s]=new k.ReplaceCommand(a,"")}return[h,l]}static getDeleteRange(o,i,t){if(!o.isEmpty())return o;const n=o.getPosition();if(t.useTabStops&&n.column>1){const r=i.getLineContent(n.lineNumber),l=y.firstNonWhitespaceIndex(r),h=l===-1?r.length+1:l+1;if(n.column<=h){const s=t.visibleColumnFromColumn(i,n),u=D.CursorColumns.prevIndentTabStop(s,t.indentSize),a=t.columnFromVisibleColumn(i,n.lineNumber,u);return new m.Range(n.lineNumber,a,n.lineNumber,n.column)}}return m.Range.fromPositions(f.getPositionAfterDeleteLeft(n,i),n)}static getPositionAfterDeleteLeft(o,i){if(o.column>1){const t=y.getLeftDeleteOffset(o.column-1,i.getLineContent(o.lineNumber));return o.with(void 0,t+1)}else if(o.lineNumber>1){const t=o.lineNumber-1;return new S.Position(t,i.getLineMaxColumn(t))}else return o}static cut(o,i,t){const n=[];let r=null;t.sort((l,h)=>S.Position.compare(l.getStartPosition(),h.getEndPosition()));for(let l=0,h=t.length;l<h;l++){const s=t[l];if(s.isEmpty())if(o.emptySelectionClipboard){const u=s.getPosition();let a,d,c,b;u.lineNumber<i.getLineCount()?(a=u.lineNumber,d=1,c=u.lineNumber+1,b=1):u.lineNumber>1&&r?.endLineNumber!==u.lineNumber?(a=u.lineNumber-1,d=i.getLineMaxColumn(u.lineNumber-1),c=u.lineNumber,b=i.getLineMaxColumn(u.lineNumber)):(a=u.lineNumber,d=1,c=u.lineNumber,b=i.getLineMaxColumn(u.lineNumber));const g=new m.Range(a,d,c,b);r=g,g.isEmpty()?n[l]=null:n[l]=new k.ReplaceCommand(g,"")}else n[l]=null;else n[l]=new k.ReplaceCommand(s,"")}return new L.EditOperationResult(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=f}),define(J[180],ee([1,0,9,73,205,148,11,5]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class S{static _createWord(i,t,n,r,l){return{start:r,end:l,wordType:t,nextCharClass:n}}static _findPreviousWordOnLine(i,t,n){const r=t.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(r,i,n)}static _doFindPreviousWordOnLine(i,t,n){let r=0;for(let l=n.column-2;l>=0;l--){const h=i.charCodeAt(l),s=t.get(h);if(s===0){if(r===2)return this._createWord(i,r,s,l+1,this._findEndOfWord(i,t,r,l+1));r=1}else if(s===2){if(r===1)return this._createWord(i,r,s,l+1,this._findEndOfWord(i,t,r,l+1));r=2}else if(s===1&&r!==0)return this._createWord(i,r,s,l+1,this._findEndOfWord(i,t,r,l+1))}return r!==0?this._createWord(i,r,1,0,this._findEndOfWord(i,t,r,0)):null}static _findEndOfWord(i,t,n,r){const l=i.length;for(let h=r;h<l;h++){const s=i.charCodeAt(h),u=t.get(s);if(u===1||n===1&&u===2||n===2&&u===0)return h}return l}static _findNextWordOnLine(i,t,n){const r=t.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(r,i,n)}static _doFindNextWordOnLine(i,t,n){let r=0;const l=i.length;for(let h=n.column-1;h<l;h++){const s=i.charCodeAt(h),u=t.get(s);if(u===0){if(r===2)return this._createWord(i,r,u,this._findStartOfWord(i,t,r,h-1),h);r=1}else if(u===2){if(r===1)return this._createWord(i,r,u,this._findStartOfWord(i,t,r,h-1),h);r=2}else if(u===1&&r!==0)return this._createWord(i,r,u,this._findStartOfWord(i,t,r,h-1),h)}return r!==0?this._createWord(i,r,1,this._findStartOfWord(i,t,r,l-1),l):null}static _findStartOfWord(i,t,n,r){for(let l=r;l>=0;l--){const h=i.charCodeAt(l),s=t.get(h);if(s===1||n===1&&s===2||n===2&&s===0)return l+1}return 0}static moveWordLeft(i,t,n,r){let l=n.lineNumber,h=n.column;h===1&&l>1&&(l=l-1,h=t.getLineMaxColumn(l));let s=S._findPreviousWordOnLine(i,t,new _.Position(l,h));if(r===0)return new _.Position(l,s?s.start+1:1);if(r===1)return s&&s.wordType===2&&s.end-s.start===1&&s.nextCharClass===0&&(s=S._findPreviousWordOnLine(i,t,new _.Position(l,s.start+1))),new _.Position(l,s?s.start+1:1);if(r===3){for(;s&&s.wordType===2;)s=S._findPreviousWordOnLine(i,t,new _.Position(l,s.start+1));return new _.Position(l,s?s.start+1:1)}return s&&h<=s.end+1&&(s=S._findPreviousWordOnLine(i,t,new _.Position(l,s.start+1))),new _.Position(l,s?s.end+1:1)}static _moveWordPartLeft(i,t){const n=t.lineNumber,r=i.getLineMaxColumn(n);if(t.column===1)return n>1?new _.Position(n-1,i.getLineMaxColumn(n-1)):t;const l=i.getLineContent(n);for(let h=t.column-1;h>1;h--){const s=l.charCodeAt(h-2),u=l.charCodeAt(h-1);if(s===95&&u!==95)return new _.Position(n,h);if(s===45&&u!==45)return new _.Position(n,h);if((y.isLowerAsciiLetter(s)||y.isAsciiDigit(s))&&y.isUpperAsciiLetter(u))return new _.Position(n,h);if(y.isUpperAsciiLetter(s)&&y.isUpperAsciiLetter(u)&&h+1<r){const a=l.charCodeAt(h);if(y.isLowerAsciiLetter(a)||y.isAsciiDigit(a))return new _.Position(n,h)}}return new _.Position(n,1)}static moveWordRight(i,t,n,r){let l=n.lineNumber,h=n.column,s=!1;h===t.getLineMaxColumn(l)&&l<t.getLineCount()&&(s=!0,l=l+1,h=1);let u=S._findNextWordOnLine(i,t,new _.Position(l,h));if(r===2)u&&u.wordType===2&&u.end-u.start===1&&u.nextCharClass===0&&(u=S._findNextWordOnLine(i,t,new _.Position(l,u.end+1))),u?h=u.end+1:h=t.getLineMaxColumn(l);else if(r===3){for(s&&(h=0);u&&(u.wordType===2||u.start+1<=h);)u=S._findNextWordOnLine(i,t,new _.Position(l,u.end+1));u?h=u.start+1:h=t.getLineMaxColumn(l)}else u&&!s&&h>=u.start+1&&(u=S._findNextWordOnLine(i,t,new _.Position(l,u.end+1))),u?h=u.start+1:h=t.getLineMaxColumn(l);return new _.Position(l,h)}static _moveWordPartRight(i,t){const n=t.lineNumber,r=i.getLineMaxColumn(n);if(t.column===r)return n<i.getLineCount()?new _.Position(n+1,1):t;const l=i.getLineContent(n);for(let h=t.column+1;h<r;h++){const s=l.charCodeAt(h-2),u=l.charCodeAt(h-1);if(s!==95&&u===95)return new _.Position(n,h);if(s!==45&&u===45)return new _.Position(n,h);if((y.isLowerAsciiLetter(s)||y.isAsciiDigit(s))&&y.isUpperAsciiLetter(u))return new _.Position(n,h);if(y.isUpperAsciiLetter(s)&&y.isUpperAsciiLetter(u)&&h+1<r){const a=l.charCodeAt(h);if(y.isLowerAsciiLetter(a)||y.isAsciiDigit(a))return new _.Position(n,h)}}return new _.Position(n,r)}static _deleteWordLeftWhitespace(i,t){const n=i.getLineContent(t.lineNumber),r=t.column-2,l=y.lastNonWhitespaceIndex(n,r);return l+1<r?new m.Range(t.lineNumber,l+2,t.lineNumber,t.column):null}static deleteWordLeft(i,t){const n=i.wordSeparators,r=i.model,l=i.selection,h=i.whitespaceHeuristics;if(!l.isEmpty())return l;if(L.DeleteOperations.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,i.model,[i.selection],i.autoClosedCharacters)){const c=i.selection.getPosition();return new m.Range(c.lineNumber,c.column-1,c.lineNumber,c.column+1)}const s=new _.Position(l.positionLineNumber,l.positionColumn);let u=s.lineNumber,a=s.column;if(u===1&&a===1)return null;if(h){const c=this._deleteWordLeftWhitespace(r,s);if(c)return c}let d=S._findPreviousWordOnLine(n,r,s);return t===0?d?a=d.start+1:a>1?a=1:(u--,a=r.getLineMaxColumn(u)):(d&&a<=d.end+1&&(d=S._findPreviousWordOnLine(n,r,new _.Position(u,d.start+1))),d?a=d.end+1:a>1?a=1:(u--,a=r.getLineMaxColumn(u))),new m.Range(u,a,s.lineNumber,s.column)}static deleteInsideWord(i,t,n){if(!n.isEmpty())return n;const r=new _.Position(n.positionLineNumber,n.positionColumn),l=this._deleteInsideWordWhitespace(t,r);return l||this._deleteInsideWordDetermineDeleteRange(i,t,r)}static _charAtIsWhitespace(i,t){const n=i.charCodeAt(t);return n===32||n===9}static _deleteInsideWordWhitespace(i,t){const n=i.getLineContent(t.lineNumber),r=n.length;if(r===0)return null;let l=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(n,l))return null;let h=Math.min(t.column-1,r-1);if(!this._charAtIsWhitespace(n,h))return null;for(;l>0&&this._charAtIsWhitespace(n,l-1);)l--;for(;h+1<r&&this._charAtIsWhitespace(n,h+1);)h++;return new m.Range(t.lineNumber,l+1,t.lineNumber,h+2)}static _deleteInsideWordDetermineDeleteRange(i,t,n){const r=t.getLineContent(n.lineNumber),l=r.length;if(l===0)return n.lineNumber>1?new m.Range(n.lineNumber-1,t.getLineMaxColumn(n.lineNumber-1),n.lineNumber,1):n.lineNumber<t.getLineCount()?new m.Range(n.lineNumber,1,n.lineNumber+1,1):new m.Range(n.lineNumber,1,n.lineNumber,1);const h=c=>c.start+1<=n.column&&n.column<=c.end+1,s=(c,b)=>(c=Math.min(c,n.column),b=Math.max(b,n.column),new m.Range(n.lineNumber,c,n.lineNumber,b)),u=c=>{let b=c.start+1,g=c.end+1,p=!1;for(;g-1<l&&this._charAtIsWhitespace(r,g-1);)p=!0,g++;if(!p)for(;b>1&&this._charAtIsWhitespace(r,b-2);)b--;return s(b,g)},a=S._findPreviousWordOnLine(i,t,n);if(a&&h(a))return u(a);const d=S._findNextWordOnLine(i,t,n);return d&&h(d)?u(d):a&&d?s(a.end+1,d.start+1):a?s(a.start+1,a.end+1):d?s(d.start+1,d.end+1):s(1,l+1)}static _deleteWordPartLeft(i,t){if(!t.isEmpty())return t;const n=t.getPosition(),r=S._moveWordPartLeft(i,n);return new m.Range(n.lineNumber,n.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(i,t){const n=i.length;for(let r=t;r<n;r++){const l=i.charAt(r);if(l!==" "&&l!=="	")return r}return n}static _deleteWordRightWhitespace(i,t){const n=i.getLineContent(t.lineNumber),r=t.column-1,l=this._findFirstNonWhitespaceChar(n,r);return r+1<l?new m.Range(t.lineNumber,t.column,t.lineNumber,l+1):null}static deleteWordRight(i,t){const n=i.wordSeparators,r=i.model,l=i.selection,h=i.whitespaceHeuristics;if(!l.isEmpty())return l;const s=new _.Position(l.positionLineNumber,l.positionColumn);let u=s.lineNumber,a=s.column;const d=r.getLineCount(),c=r.getLineMaxColumn(u);if(u===d&&a===c)return null;if(h){const g=this._deleteWordRightWhitespace(r,s);if(g)return g}let b=S._findNextWordOnLine(n,r,s);return t===2?b?a=b.end+1:a<c||u===d?a=c:(u++,b=S._findNextWordOnLine(n,r,new _.Position(u,1)),b?a=b.start+1:a=r.getLineMaxColumn(u)):(b&&a>=b.start+1&&(b=S._findNextWordOnLine(n,r,new _.Position(u,b.end+1))),b?a=b.start+1:a<c||u===d?a=c:(u++,b=S._findNextWordOnLine(n,r,new _.Position(u,1)),b?a=b.start+1:a=r.getLineMaxColumn(u))),new m.Range(u,a,s.lineNumber,s.column)}static _deleteWordPartRight(i,t){if(!t.isEmpty())return t;const n=t.getPosition(),r=S._moveWordPartRight(i,n);return new m.Range(n.lineNumber,n.column,r.lineNumber,r.column)}static _createWordAtPosition(i,t,n){const r=new m.Range(t,n.start+1,t,n.end+1);return{word:i.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(i,t,n){const r=(0,D.getMapForWordSeparators)(t),l=S._findPreviousWordOnLine(r,i,n);if(l&&l.wordType===1&&l.start<=n.column-1&&n.column-1<=l.end)return S._createWordAtPosition(i,n.lineNumber,l);const h=S._findNextWordOnLine(r,i,n);return h&&h.wordType===1&&h.start<=n.column-1&&n.column-1<=h.end?S._createWordAtPosition(i,n.lineNumber,h):null}static word(i,t,n,r,l){const h=(0,D.getMapForWordSeparators)(i.wordSeparators),s=S._findPreviousWordOnLine(h,t,l),u=S._findNextWordOnLine(h,t,l);if(!r){let g,p;return s&&s.wordType===1&&s.start<=l.column-1&&l.column-1<=s.end?(g=s.start+1,p=s.end+1):u&&u.wordType===1&&u.start<=l.column-1&&l.column-1<=u.end?(g=u.start+1,p=u.end+1):(s?g=s.end+1:g=1,u?p=u.start+1:p=t.getLineMaxColumn(l.lineNumber)),new k.SingleCursorState(new m.Range(l.lineNumber,g,l.lineNumber,p),1,0,new _.Position(l.lineNumber,p),0)}let a,d;s&&s.wordType===1&&s.start<l.column-1&&l.column-1<s.end?(a=s.start+1,d=s.end+1):u&&u.wordType===1&&u.start<l.column-1&&l.column-1<u.end?(a=u.start+1,d=u.end+1):(a=l.column,d=l.column);const c=l.lineNumber;let b;if(n.selectionStart.containsPosition(l))b=n.selectionStart.endColumn;else if(l.isBeforeOrEqual(n.selectionStart.getStartPosition())){b=a;const g=new _.Position(c,b);n.selectionStart.containsPosition(g)&&(b=n.selectionStart.endColumn)}else{b=d;const g=new _.Position(c,b);n.selectionStart.containsPosition(g)&&(b=n.selectionStart.startColumn)}return n.move(!0,c,b,0)}}e.WordOperations=S;class f extends S{static deleteWordPartLeft(i){const t=v([S.deleteWordLeft(i,0),S.deleteWordLeft(i,2),S._deleteWordPartLeft(i.model,i.selection)]);return t.sort(m.Range.compareRangesUsingEnds),t[2]}static deleteWordPartRight(i){const t=v([S.deleteWordRight(i,0),S.deleteWordRight(i,2),S._deleteWordPartRight(i.model,i.selection)]);return t.sort(m.Range.compareRangesUsingStarts),t[0]}static moveWordPartLeft(i,t,n){const r=v([S.moveWordLeft(i,t,n,0),S.moveWordLeft(i,t,n,2),S._moveWordPartLeft(t,n)]);return r.sort(_.Position.compare),r[2]}static moveWordPartRight(i,t,n){const r=v([S.moveWordRight(i,t,n,0),S.moveWordRight(i,t,n,2),S._moveWordPartRight(t,n)]);return r.sort(_.Position.compare),r[0]}}e.WordPartOperations=f;function v(o){return o.filter(i=>!!i)}}),define(J[206],ee([1,0,18,73,204,180,11,5]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class S{static addCursorDown(o,i,t){const n=[];let r=0;for(let l=0,h=i.length;l<h;l++){const s=i[l];n[r++]=new k.CursorState(s.modelState,s.viewState),t?n[r++]=k.CursorState.fromModelState(L.MoveOperations.translateDown(o.cursorConfig,o.model,s.modelState)):n[r++]=k.CursorState.fromViewState(L.MoveOperations.translateDown(o.cursorConfig,o,s.viewState))}return n}static addCursorUp(o,i,t){const n=[];let r=0;for(let l=0,h=i.length;l<h;l++){const s=i[l];n[r++]=new k.CursorState(s.modelState,s.viewState),t?n[r++]=k.CursorState.fromModelState(L.MoveOperations.translateUp(o.cursorConfig,o.model,s.modelState)):n[r++]=k.CursorState.fromViewState(L.MoveOperations.translateUp(o.cursorConfig,o,s.viewState))}return n}static moveToBeginningOfLine(o,i,t){const n=[];for(let r=0,l=i.length;r<l;r++){const h=i[r];n[r]=this._moveToLineStart(o,h,t)}return n}static _moveToLineStart(o,i,t){const n=i.viewState.position.column,r=i.modelState.position.column,l=n===r,h=i.viewState.position.lineNumber,s=o.getLineFirstNonWhitespaceColumn(h);return!l&&!(n===s)?this._moveToLineStartByView(o,i,t):this._moveToLineStartByModel(o,i,t)}static _moveToLineStartByView(o,i,t){return k.CursorState.fromViewState(L.MoveOperations.moveToBeginningOfLine(o.cursorConfig,o,i.viewState,t))}static _moveToLineStartByModel(o,i,t){return k.CursorState.fromModelState(L.MoveOperations.moveToBeginningOfLine(o.cursorConfig,o.model,i.modelState,t))}static moveToEndOfLine(o,i,t,n){const r=[];for(let l=0,h=i.length;l<h;l++){const s=i[l];r[l]=this._moveToLineEnd(o,s,t,n)}return r}static _moveToLineEnd(o,i,t,n){const r=i.viewState.position,l=o.getLineMaxColumn(r.lineNumber),h=r.column===l,s=i.modelState.position,u=o.model.getLineMaxColumn(s.lineNumber),a=l-r.column===u-s.column;return h||a?this._moveToLineEndByModel(o,i,t,n):this._moveToLineEndByView(o,i,t,n)}static _moveToLineEndByView(o,i,t,n){return k.CursorState.fromViewState(L.MoveOperations.moveToEndOfLine(o.cursorConfig,o,i.viewState,t,n))}static _moveToLineEndByModel(o,i,t,n){return k.CursorState.fromModelState(L.MoveOperations.moveToEndOfLine(o.cursorConfig,o.model,i.modelState,t,n))}static expandLineSelection(o,i){const t=[];for(let n=0,r=i.length;n<r;n++){const l=i[n],h=l.modelState.selection.startLineNumber,s=o.model.getLineCount();let u=l.modelState.selection.endLineNumber,a;u===s?a=o.model.getLineMaxColumn(s):(u++,a=1),t[n]=k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(h,1,h,1),0,0,new _.Position(u,a),0))}return t}static moveToBeginningOfBuffer(o,i,t){const n=[];for(let r=0,l=i.length;r<l;r++){const h=i[r];n[r]=k.CursorState.fromModelState(L.MoveOperations.moveToBeginningOfBuffer(o.cursorConfig,o.model,h.modelState,t))}return n}static moveToEndOfBuffer(o,i,t){const n=[];for(let r=0,l=i.length;r<l;r++){const h=i[r];n[r]=k.CursorState.fromModelState(L.MoveOperations.moveToEndOfBuffer(o.cursorConfig,o.model,h.modelState,t))}return n}static selectAll(o,i){const t=o.model.getLineCount(),n=o.model.getLineMaxColumn(t);return k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(1,1,1,1),0,0,new _.Position(t,n),0))}static line(o,i,t,n,r){const l=o.model.validatePosition(n),h=r?o.coordinatesConverter.validateViewPosition(new _.Position(r.lineNumber,r.column),l):o.coordinatesConverter.convertModelPositionToViewPosition(l);if(!t){const u=o.model.getLineCount();let a=l.lineNumber+1,d=1;return a>u&&(a=u,d=o.model.getLineMaxColumn(a)),k.CursorState.fromModelState(new k.SingleCursorState(new m.Range(l.lineNumber,1,a,d),2,0,new _.Position(a,d),0))}const s=i.modelState.selectionStart.getStartPosition().lineNumber;if(l.lineNumber<s)return k.CursorState.fromViewState(i.viewState.move(!0,h.lineNumber,1,0));if(l.lineNumber>s){const u=o.getLineCount();let a=h.lineNumber+1,d=1;return a>u&&(a=u,d=o.getLineMaxColumn(a)),k.CursorState.fromViewState(i.viewState.move(!0,a,d,0))}else{const u=i.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(i.modelState.move(!0,u.lineNumber,u.column,0))}}static word(o,i,t,n){const r=o.model.validatePosition(n);return k.CursorState.fromModelState(D.WordOperations.word(o.cursorConfig,o.model,i.modelState,t,r))}static cancelSelection(o,i){if(!i.modelState.hasSelection())return new k.CursorState(i.modelState,i.viewState);const t=i.viewState.position.lineNumber,n=i.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new m.Range(t,n,t,n),0,0,new _.Position(t,n),0))}static moveTo(o,i,t,n,r){if(t){if(i.modelState.selectionStartKind===1)return this.word(o,i,t,n);if(i.modelState.selectionStartKind===2)return this.line(o,i,t,n,r)}const l=o.model.validatePosition(n),h=r?o.coordinatesConverter.validateViewPosition(new _.Position(r.lineNumber,r.column),l):o.coordinatesConverter.convertModelPositionToViewPosition(l);return k.CursorState.fromViewState(i.viewState.move(t,h.lineNumber,h.column,0))}static simpleMove(o,i,t,n,r,l){switch(t){case 0:return l===4?this._moveHalfLineLeft(o,i,n):this._moveLeft(o,i,n,r);case 1:return l===4?this._moveHalfLineRight(o,i,n):this._moveRight(o,i,n,r);case 2:return l===2?this._moveUpByViewLines(o,i,n,r):this._moveUpByModelLines(o,i,n,r);case 3:return l===2?this._moveDownByViewLines(o,i,n,r):this._moveDownByModelLines(o,i,n,r);case 4:return l===2?i.map(h=>k.CursorState.fromViewState(L.MoveOperations.moveToPrevBlankLine(o.cursorConfig,o,h.viewState,n))):i.map(h=>k.CursorState.fromModelState(L.MoveOperations.moveToPrevBlankLine(o.cursorConfig,o.model,h.modelState,n)));case 5:return l===2?i.map(h=>k.CursorState.fromViewState(L.MoveOperations.moveToNextBlankLine(o.cursorConfig,o,h.viewState,n))):i.map(h=>k.CursorState.fromModelState(L.MoveOperations.moveToNextBlankLine(o.cursorConfig,o.model,h.modelState,n)));case 6:return this._moveToViewMinColumn(o,i,n);case 7:return this._moveToViewFirstNonWhitespaceColumn(o,i,n);case 8:return this._moveToViewCenterColumn(o,i,n);case 9:return this._moveToViewMaxColumn(o,i,n);case 10:return this._moveToViewLastNonWhitespaceColumn(o,i,n);default:return null}}static viewportMove(o,i,t,n,r){const l=o.getCompletelyVisibleViewRange(),h=o.coordinatesConverter.convertViewRangeToModelRange(l);switch(t){case 11:{const s=this._firstLineNumberInRange(o.model,h,r),u=o.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(o,i[0],n,s,u)]}case 13:{const s=this._lastLineNumberInRange(o.model,h,r),u=o.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(o,i[0],n,s,u)]}case 12:{const s=Math.round((h.startLineNumber+h.endLineNumber)/2),u=o.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(o,i[0],n,s,u)]}case 14:{const s=[];for(let u=0,a=i.length;u<a;u++){const d=i[u];s[u]=this.findPositionInViewportIfOutside(o,d,l,n)}return s}default:return null}}static findPositionInViewportIfOutside(o,i,t,n){const r=i.viewState.position.lineNumber;if(t.startLineNumber<=r&&r<=t.endLineNumber-1)return new k.CursorState(i.modelState,i.viewState);{let l;r>t.endLineNumber-1?l=t.endLineNumber-1:r<t.startLineNumber?l=t.startLineNumber:l=r;const h=L.MoveOperations.vertical(o.cursorConfig,o,r,i.viewState.position.column,i.viewState.leftoverVisibleColumns,l,!1);return k.CursorState.fromViewState(i.viewState.move(n,h.lineNumber,h.column,h.leftoverVisibleColumns))}}static _firstLineNumberInRange(o,i,t){let n=i.startLineNumber;return i.startColumn!==o.getLineMinColumn(n)&&n++,Math.min(i.endLineNumber,n+t-1)}static _lastLineNumberInRange(o,i,t){let n=i.startLineNumber;return i.startColumn!==o.getLineMinColumn(n)&&n++,Math.max(n,i.endLineNumber-t+1)}static _moveLeft(o,i,t,n){return i.map(r=>k.CursorState.fromViewState(L.MoveOperations.moveLeft(o.cursorConfig,o,r.viewState,t,n)))}static _moveHalfLineLeft(o,i,t){const n=[];for(let r=0,l=i.length;r<l;r++){const h=i[r],s=h.viewState.position.lineNumber,u=Math.round(o.getLineContent(s).length/2);n[r]=k.CursorState.fromViewState(L.MoveOperations.moveLeft(o.cursorConfig,o,h.viewState,t,u))}return n}static _moveRight(o,i,t,n){return i.map(r=>k.CursorState.fromViewState(L.MoveOperations.moveRight(o.cursorConfig,o,r.viewState,t,n)))}static _moveHalfLineRight(o,i,t){const n=[];for(let r=0,l=i.length;r<l;r++){const h=i[r],s=h.viewState.position.lineNumber,u=Math.round(o.getLineContent(s).length/2);n[r]=k.CursorState.fromViewState(L.MoveOperations.moveRight(o.cursorConfig,o,h.viewState,t,u))}return n}static _moveDownByViewLines(o,i,t,n){const r=[];for(let l=0,h=i.length;l<h;l++){const s=i[l];r[l]=k.CursorState.fromViewState(L.MoveOperations.moveDown(o.cursorConfig,o,s.viewState,t,n))}return r}static _moveDownByModelLines(o,i,t,n){const r=[];for(let l=0,h=i.length;l<h;l++){const s=i[l];r[l]=k.CursorState.fromModelState(L.MoveOperations.moveDown(o.cursorConfig,o.model,s.modelState,t,n))}return r}static _moveUpByViewLines(o,i,t,n){const r=[];for(let l=0,h=i.length;l<h;l++){const s=i[l];r[l]=k.CursorState.fromViewState(L.MoveOperations.moveUp(o.cursorConfig,o,s.viewState,t,n))}return r}static _moveUpByModelLines(o,i,t,n){const r=[];for(let l=0,h=i.length;l<h;l++){const s=i[l];r[l]=k.CursorState.fromModelState(L.MoveOperations.moveUp(o.cursorConfig,o.model,s.modelState,t,n))}return r}static _moveToViewPosition(o,i,t,n,r){return k.CursorState.fromViewState(i.viewState.move(t,n,r,0))}static _moveToModelPosition(o,i,t,n,r){return k.CursorState.fromModelState(i.modelState.move(t,n,r,0))}static _moveToViewMinColumn(o,i,t){const n=[];for(let r=0,l=i.length;r<l;r++){const h=i[r],s=h.viewState.position.lineNumber,u=o.getLineMinColumn(s);n[r]=this._moveToViewPosition(o,h,t,s,u)}return n}static _moveToViewFirstNonWhitespaceColumn(o,i,t){const n=[];for(let r=0,l=i.length;r<l;r++){const h=i[r],s=h.viewState.position.lineNumber,u=o.getLineFirstNonWhitespaceColumn(s);n[r]=this._moveToViewPosition(o,h,t,s,u)}return n}static _moveToViewCenterColumn(o,i,t){const n=[];for(let r=0,l=i.length;r<l;r++){const h=i[r],s=h.viewState.position.lineNumber,u=Math.round((o.getLineMaxColumn(s)+o.getLineMinColumn(s))/2);n[r]=this._moveToViewPosition(o,h,t,s,u)}return n}static _moveToViewMaxColumn(o,i,t){const n=[];for(let r=0,l=i.length;r<l;r++){const h=i[r],s=h.viewState.position.lineNumber,u=o.getLineMaxColumn(s);n[r]=this._moveToViewPosition(o,h,t,s,u)}return n}static _moveToViewLastNonWhitespaceColumn(o,i,t){const n=[];for(let r=0,l=i.length;r<l;r++){const h=i[r],s=h.viewState.position.lineNumber,u=o.getLineLastNonWhitespaceColumn(s);n[r]=this._moveToViewPosition(o,h,t,s,u)}return n}}e.CursorMoveCommands=S;var f;(function(v){const o=function(t){if(!y.isObject(t))return!1;const n=t;return!(!y.isString(n.to)||!y.isUndefined(n.select)&&!y.isBoolean(n.select)||!y.isUndefined(n.by)&&!y.isString(n.by)||!y.isUndefined(n.value)&&!y.isNumber(n.value))};v.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:o,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},v.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},v.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function i(t){if(!t.to)return null;let n;switch(t.to){case v.RawDirection.Left:n=0;break;case v.RawDirection.Right:n=1;break;case v.RawDirection.Up:n=2;break;case v.RawDirection.Down:n=3;break;case v.RawDirection.PrevBlankLine:n=4;break;case v.RawDirection.NextBlankLine:n=5;break;case v.RawDirection.WrappedLineStart:n=6;break;case v.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=7;break;case v.RawDirection.WrappedLineColumnCenter:n=8;break;case v.RawDirection.WrappedLineEnd:n=9;break;case v.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=10;break;case v.RawDirection.ViewPortTop:n=11;break;case v.RawDirection.ViewPortBottom:n=13;break;case v.RawDirection.ViewPortCenter:n=12;break;case v.RawDirection.ViewPortIfOutside:n=14;break;default:return null}let r=0;switch(t.by){case v.RawUnit.Line:r=1;break;case v.RawUnit.WrappedLine:r=2;break;case v.RawUnit.Character:r=3;break;case v.RawUnit.HalfLine:r=4;break}return{direction:n,unit:r,select:!!t.select,value:t.value||1}}v.parse=i})(f||(e.CursorMove=f={}))}),define(J[491],ee([1,0,73,11,5,24]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class _{constructor(S){this._selTrackedRange=null,this._trackSelection=!0,this._setState(S,new y.SingleCursorState(new L.Range(1,1,1,1),0,0,new k.Position(1,1),0),new y.SingleCursorState(new L.Range(1,1,1,1),0,0,new k.Position(1,1),0))}dispose(S){this._removeTrackedRange(S)}startTrackingSelection(S){this._trackSelection=!0,this._updateTrackedRange(S)}stopTrackingSelection(S){this._trackSelection=!1,this._removeTrackedRange(S)}_updateTrackedRange(S){this._trackSelection&&(this._selTrackedRange=S.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(S){this._selTrackedRange=S.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new y.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(S){const f=S.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!f.isEmpty()?D.Selection.fromRange(f.collapseToEnd(),this.modelState.selection.getDirection()):D.Selection.fromRange(f,this.modelState.selection.getDirection())}ensureValidState(S){this._setState(S,this.modelState,this.viewState)}setState(S,f,v){this._setState(S,f,v)}static _validatePositionWithCache(S,f,v,o){return f.equals(v)?o:S.normalizePosition(f,2)}static _validateViewState(S,f){const v=f.position,o=f.selectionStart.getStartPosition(),i=f.selectionStart.getEndPosition(),t=S.normalizePosition(v,2),n=this._validatePositionWithCache(S,o,v,t),r=this._validatePositionWithCache(S,i,o,n);return v.equals(t)&&o.equals(n)&&i.equals(r)?f:new y.SingleCursorState(L.Range.fromPositions(n,r),f.selectionStartKind,f.selectionStartLeftoverVisibleColumns+o.column-n.column,t,f.leftoverVisibleColumns+v.column-t.column)}_setState(S,f,v){if(v&&(v=_._validateViewState(S.viewModel,v)),f){const o=S.model.validateRange(f.selectionStart),i=f.selectionStart.equalsRange(o)?f.selectionStartLeftoverVisibleColumns:0,t=S.model.validatePosition(f.position),n=f.position.equals(t)?f.leftoverVisibleColumns:0;f=new y.SingleCursorState(o,f.selectionStartKind,i,t,n)}else{if(!v)return;const o=S.model.validateRange(S.coordinatesConverter.convertViewRangeToModelRange(v.selectionStart)),i=S.model.validatePosition(S.coordinatesConverter.convertViewPositionToModelPosition(v.position));f=new y.SingleCursorState(o,v.selectionStartKind,v.selectionStartLeftoverVisibleColumns,i,v.leftoverVisibleColumns)}if(v){const o=S.coordinatesConverter.validateViewRange(v.selectionStart,f.selectionStart),i=S.coordinatesConverter.validateViewPosition(v.position,f.position);v=new y.SingleCursorState(o,f.selectionStartKind,f.selectionStartLeftoverVisibleColumns,i,f.leftoverVisibleColumns)}else{const o=S.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(f.selectionStart.startLineNumber,f.selectionStart.startColumn)),i=S.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(f.selectionStart.endLineNumber,f.selectionStart.endColumn)),t=new L.Range(o.lineNumber,o.column,i.lineNumber,i.column),n=S.coordinatesConverter.convertModelPositionToViewPosition(f.position);v=new y.SingleCursorState(t,f.selectionStartKind,f.selectionStartLeftoverVisibleColumns,n,f.leftoverVisibleColumns)}this.modelState=f,this.viewState=v,this._updateTrackedRange(S)}}e.Cursor=_}),define(J[492],ee([1,0,15,73,491,11,5,24]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class S{constructor(v){this.context=v,this.cursors=[new L.Cursor(v)],this.lastAddedCursorIndex=0}dispose(){for(const v of this.cursors)v.dispose(this.context)}startTrackingSelections(){for(const v of this.cursors)v.startTrackingSelection(this.context)}stopTrackingSelections(){for(const v of this.cursors)v.stopTrackingSelection(this.context)}updateContext(v){this.context=v}ensureValidState(){for(const v of this.cursors)v.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(v=>v.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(v=>v.asCursorState())}getViewPositions(){return this.cursors.map(v=>v.viewState.position)}getTopMostViewPosition(){return(0,y.findMinBy)(this.cursors,(0,y.compareBy)(v=>v.viewState.position,D.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,y.findLastMaxBy)(this.cursors,(0,y.compareBy)(v=>v.viewState.position,D.Position.compare)).viewState.position}getSelections(){return this.cursors.map(v=>v.modelState.selection)}getViewSelections(){return this.cursors.map(v=>v.viewState.selection)}setSelections(v){this.setStates(k.CursorState.fromModelSelections(v))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(v){v!==null&&(this.cursors[0].setState(this.context,v[0].modelState,v[0].viewState),this._setSecondaryStates(v.slice(1)))}_setSecondaryStates(v){const o=this.cursors.length-1,i=v.length;if(o<i){const t=i-o;for(let n=0;n<t;n++)this._addSecondaryCursor()}else if(o>i){const t=o-i;for(let n=0;n<t;n++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<i;t++)this.cursors[t+1].setState(this.context,v[t].modelState,v[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new L.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(v){this.lastAddedCursorIndex>=v+1&&this.lastAddedCursorIndex--,this.cursors[v+1].dispose(this.context),this.cursors.splice(v+1,1)}normalize(){if(this.cursors.length===1)return;const v=this.cursors.slice(0),o=[];for(let i=0,t=v.length;i<t;i++)o.push({index:i,selection:v[i].modelState.selection});o.sort((0,y.compareBy)(i=>i.selection,_.Range.compareRangesUsingStarts));for(let i=0;i<o.length-1;i++){const t=o[i],n=o[i+1],r=t.selection,l=n.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let h;if(l.isEmpty()||r.isEmpty()?h=l.getStartPosition().isBeforeOrEqual(r.getEndPosition()):h=l.getStartPosition().isBefore(r.getEndPosition()),h){const s=t.index<n.index?i:i+1,u=t.index<n.index?i+1:i,a=o[u].index,d=o[s].index,c=o[u].selection,b=o[s].selection;if(!c.equalsSelection(b)){const g=c.plusRange(b),p=c.selectionStartLineNumber===c.startLineNumber&&c.selectionStartColumn===c.startColumn,C=b.selectionStartLineNumber===b.startLineNumber&&b.selectionStartColumn===b.startColumn;let w;a===this.lastAddedCursorIndex?(w=p,this.lastAddedCursorIndex=d):w=C;let E;w?E=new m.Selection(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn):E=new m.Selection(g.endLineNumber,g.endColumn,g.startLineNumber,g.startColumn),o[s].selection=E;const I=k.CursorState.fromModelSelection(E);v[d].setState(this.context,I.modelState,I.viewState)}for(const g of o)g.index>a&&g.index--;v.splice(a,1),o.splice(u,1),this._removeSecondaryCursor(a-1),i--}}}}e.CursorCollection=S}),define(J[493],ee([1,0,110]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(D){if(D.autoClosingPairs?this._autoClosingPairs=D.autoClosingPairs.map(_=>new y.StandardAutoClosingPairConditional(_)):D.brackets?this._autoClosingPairs=D.brackets.map(_=>new y.StandardAutoClosingPairConditional({open:_[0],close:_[1]})):this._autoClosingPairs=[],D.__electricCharacterSupport&&D.__electricCharacterSupport.docComment){const _=D.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new y.StandardAutoClosingPairConditional({open:_.open,close:_.close||""}))}this._autoCloseBeforeForQuotes=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=D.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(D){return D?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])>
	`,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])>
	`}),define(J[494],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function y(L){return L.global&&(L.lastIndex=0),!0}class k{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&y(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&y(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&y(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&y(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let _=0;return this.shouldIncrease(D)&&(_+=1),this.shouldDecrease(D)&&(_+=2),this.shouldIndentNextLine(D)&&(_+=4),this.shouldIgnore(D)&&(_+=8),_}}e.IndentRulesSupport=k}),define(J[495],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class y{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(L,D,_,m,S){if(L&&D){const f=this.doNavigateValueSet(D,S);if(f)return{range:L,value:f}}if(_&&m){const f=this.doNavigateValueSet(m,S);if(f)return{range:_,value:f}}return null}doNavigateValueSet(L,D){const _=this.numberReplace(L,D);return _!==null?_:this.textReplace(L,D)}numberReplace(L,D){const _=Math.pow(10,L.length-(L.lastIndexOf(".")+1));let m=Number(L);const S=parseFloat(L);return!isNaN(m)&&!isNaN(S)&&m===S?m===0&&!D?null:(m=Math.floor(m*_),m+=D?_:-_,String(m/_)):null}textReplace(L,D){return this.valueSetsReplace(this._defaultValueSet,L,D)}valueSetsReplace(L,D,_){let m=null;for(let S=0,f=L.length;m===null&&S<f;S++)m=this.valueSetReplace(L[S],D,_);return m}valueSetReplace(L,D,_){let m=L.indexOf(D);return m>=0?(m+=_?1:-1,m<0?m=L.length-1:m%=L.length,L[m]):null}}e.BasicInplaceReplace=y,y.INSTANCE=new y}),define(J[496],ee([1,0,260]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class k{constructor(f,v){this.languageId=f;const o=v.brackets?L(v.brackets):[],i=new y.CachedFunction(r=>{const l=new Set;return{info:new _(this,r,l),closing:l}}),t=new y.CachedFunction(r=>{const l=new Set,h=new Set;return{info:new m(this,r,l,h),opening:l,openingColorized:h}});for(const[r,l]of o){const h=i.get(r),s=t.get(l);h.closing.add(s.info),s.opening.add(h.info)}const n=v.colorizedBracketPairs?L(v.colorizedBracketPairs):o.filter(r=>!(r[0]==="<"&&r[1]===">"));for(const[r,l]of n){const h=i.get(r),s=t.get(l);h.closing.add(s.info),s.openingColorized.add(h.info),s.opening.add(h.info)}this._openingBrackets=new Map([...i.cachedValues].map(([r,l])=>[r,l.info])),this._closingBrackets=new Map([...t.cachedValues].map(([r,l])=>[r,l.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(f){return this._openingBrackets.get(f)}getClosingBracketInfo(f){return this._closingBrackets.get(f)}getBracketInfo(f){return this.getOpeningBracketInfo(f)||this.getClosingBracketInfo(f)}}e.LanguageBracketsConfiguration=k;function L(S){return S.filter(([f,v])=>f!==""&&v!=="")}class D{constructor(f,v){this.config=f,this.bracketText=v}get languageId(){return this.config.languageId}}e.BracketKindBase=D;class _ extends D{constructor(f,v,o){super(f,v),this.openedBrackets=o,this.isOpeningBracket=!0}}e.OpeningBracketKind=_;class m extends D{constructor(f,v,o,i){super(f,v),this.openingBrackets=o,this.openingColorizedBrackets=i,this.isOpeningBracket=!1}closes(f){return f.config!==this.config?!1:this.openingBrackets.has(f)}closesColorized(f){return f.config!==this.config?!1:this.openingColorizedBrackets.has(f)}getOpeningBrackets(){return[...this.openingBrackets]}}e.ClosingBracketKind=m}),define(J[497],ee([1,0,12,9,110]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(m){m=m||{},m.brackets=m.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],m.brackets.forEach(S=>{const f=D._createOpenBracketRegExp(S[0]),v=D._createCloseBracketRegExp(S[1]);f&&v&&this._brackets.push({open:S[0],openRegExp:f,close:S[1],closeRegExp:v})}),this._regExpRules=m.onEnterRules||[]}onEnter(m,S,f,v){if(m>=3)for(let o=0,i=this._regExpRules.length;o<i;o++){const t=this._regExpRules[o];if([{reg:t.beforeText,text:f},{reg:t.afterText,text:v},{reg:t.previousLineText,text:S}].every(r=>r.reg?(r.reg.lastIndex=0,r.reg.test(r.text)):!0))return t.action}if(m>=2&&f.length>0&&v.length>0)for(let o=0,i=this._brackets.length;o<i;o++){const t=this._brackets[o];if(t.openRegExp.test(f)&&t.closeRegExp.test(v))return{indentAction:L.IndentAction.IndentOutdent}}if(m>=2&&f.length>0){for(let o=0,i=this._brackets.length;o<i;o++)if(this._brackets[o].openRegExp.test(f))return{indentAction:L.IndentAction.Indent}}return null}static _createOpenBracketRegExp(m){let S=k.escapeRegExpCharacters(m);return/\B/.test(S.charAt(0))||(S="\\b"+S),S+="\\s*$",D._safeRegExp(S)}static _createCloseBracketRegExp(m){let S=k.escapeRegExpCharacters(m);return/\B/.test(S.charAt(S.length-1))||(S=S+"\\b"),S="^\\s*"+S,D._safeRegExp(S)}static _safeRegExp(m){try{return new RegExp(m)}catch(S){return(0,y.onUnexpectedError)(S),null}}}e.OnEnterSupport=D}),define(J[498],ee([1,0,37]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class k{constructor(l,h,s,u,a){this._parsedThemeRuleBrand=void 0,this.token=l,this.index=h,this.fontStyle=s,this.foreground=u,this.background=a}}e.ParsedTokenThemeRule=k;function L(r){if(!r||!Array.isArray(r))return[];const l=[];let h=0;for(let s=0,u=r.length;s<u;s++){const a=r[s];let d=-1;if(typeof a.fontStyle=="string"){d=0;const g=a.fontStyle.split(" ");for(let p=0,C=g.length;p<C;p++)switch(g[p]){case"italic":d=d|1;break;case"bold":d=d|2;break;case"underline":d=d|4;break;case"strikethrough":d=d|8;break}}let c=null;typeof a.foreground=="string"&&(c=a.foreground);let b=null;typeof a.background=="string"&&(b=a.background),l[h++]=new k(a.token||"",s,d,c,b)}return l}e.parseTokenTheme=L;function D(r,l){r.sort((p,C)=>{const w=o(p.token,C.token);return w!==0?w:p.index-C.index});let h=0,s="000000",u="ffffff";for(;r.length>=1&&r[0].token==="";){const p=r.shift();p.fontStyle!==-1&&(h=p.fontStyle),p.foreground!==null&&(s=p.foreground),p.background!==null&&(u=p.background)}const a=new m;for(const p of l)a.getId(p);const d=a.getId(s),c=a.getId(u),b=new i(h,d,c),g=new t(b);for(let p=0,C=r.length;p<C;p++){const w=r[p];g.insert(w.token,w.fontStyle,a.getId(w.foreground),a.getId(w.background))}return new S(a,g)}const _=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class m{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(l){if(l===null)return 0;const h=l.match(_);if(!h)throw new Error("Illegal value for token color: "+l);l=h[1].toUpperCase();let s=this._color2id.get(l);return s||(s=++this._lastColorId,this._color2id.set(l,s),this._id2color[s]=y.Color.fromHex("#"+l),s)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=m;class S{static createFromRawTokenTheme(l,h){return this.createFromParsedTokenTheme(L(l),h)}static createFromParsedTokenTheme(l,h){return D(l,h)}constructor(l,h){this._colorMap=l,this._root=h,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(l){return this._root.match(l)}match(l,h){let s=this._cache.get(h);if(typeof s>"u"){const u=this._match(h),a=v(h);s=(u.metadata|a<<8)>>>0,this._cache.set(h,s)}return(s|l<<0)>>>0}}e.TokenTheme=S;const f=/\b(comment|string|regex|regexp)\b/;function v(r){const l=r.match(f);if(!l)return 0;switch(l[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=v;function o(r,l){return r<l?-1:r>l?1:0}e.strcmp=o;class i{constructor(l,h,s){this._themeTrieElementRuleBrand=void 0,this._fontStyle=l,this._foreground=h,this._background=s,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new i(this._fontStyle,this._foreground,this._background)}acceptOverwrite(l,h,s){l!==-1&&(this._fontStyle=l),h!==0&&(this._foreground=h),s!==0&&(this._background=s),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=i;class t{constructor(l){this._themeTrieElementBrand=void 0,this._mainRule=l,this._children=new Map}match(l){if(l==="")return this._mainRule;const h=l.indexOf(".");let s,u;h===-1?(s=l,u=""):(s=l.substring(0,h),u=l.substring(h+1));const a=this._children.get(s);return typeof a<"u"?a.match(u):this._mainRule}insert(l,h,s,u){if(l===""){this._mainRule.acceptOverwrite(h,s,u);return}const a=l.indexOf(".");let d,c;a===-1?(d=l,c=""):(d=l.substring(0,a),c=l.substring(a+1));let b=this._children.get(d);typeof b>"u"&&(b=new t(this._mainRule.clone()),this._children.set(d,b)),b.insert(c,h,s,u)}}e.ThemeTrieElement=t;function n(r){const l=[];for(let h=1,s=r.length;h<s;h++){const u=r[h];l[h]=`.mtk${h} { color: ${u}; }`}return l.push(".mtki { font-style: italic; }"),l.push(".mtkb { font-weight: bold; }"),l.push(".mtku { text-decoration: underline; text-underline-position: under; }"),l.push(".mtks { text-decoration: line-through; }"),l.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),l.join(`
`)}e.generateTokensCSSForColorMap=n}),define(J[47],ee([1,0,46]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.isITextSnapshot=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.GlyphMarginLane=e.OverviewRulerLane=void 0;var k;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(k||(e.OverviewRulerLane=k={}));var L;(function(n){n[n.Left=1]="Left",n[n.Right=2]="Right"})(L||(e.GlyphMarginLane=L={}));var D;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(D||(e.MinimapPosition=D={}));var _;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(_||(e.InjectedTextCursorStops=_={}));class m{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(r){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,r.tabSize|0),r.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,r.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!r.insertSpaces,this.defaultEOL=r.defaultEOL|0,this.trimAutoWhitespace=!!r.trimAutoWhitespace,this.bracketPairColorizationOptions=r.bracketPairColorizationOptions}equals(r){return this.tabSize===r.tabSize&&this._indentSizeIsTabSize===r._indentSizeIsTabSize&&this.indentSize===r.indentSize&&this.insertSpaces===r.insertSpaces&&this.defaultEOL===r.defaultEOL&&this.trimAutoWhitespace===r.trimAutoWhitespace&&(0,y.equals)(this.bracketPairColorizationOptions,r.bracketPairColorizationOptions)}createChangeEvent(r){return{tabSize:this.tabSize!==r.tabSize,indentSize:this.indentSize!==r.indentSize,insertSpaces:this.insertSpaces!==r.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==r.trimAutoWhitespace}}}e.TextModelResolvedOptions=m;class S{constructor(r,l){this._findMatchBrand=void 0,this.range=r,this.matches=l}}e.FindMatch=S;function f(n){return n&&typeof n.read=="function"}e.isITextSnapshot=f;class v{constructor(r,l,h,s,u,a){this.identifier=r,this.range=l,this.text=h,this.forceMoveMarkers=s,this.isAutoWhitespaceEdit=u,this._isTracked=a}}e.ValidAnnotatedEditOperation=v;class o{constructor(r,l,h){this.regex=r,this.wordSeparators=l,this.simpleSearch=h}}e.SearchData=o;class i{constructor(r,l,h){this.reverseEdits=r,this.changes=l,this.trimAutoWhitespaceLineNumbers=h}}e.ApplyEditsResult=i;function t(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}e.shouldSynchronizeModel=t}),define(J[87],ee([1,0,9,11,5]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfString=e.lengthOfRange=e.lengthsToRange=e.positionToLength=e.lengthToPosition=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthEquals=e.sumLengths=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class D{constructor(C,w){this.lineCount=C,this.columnCount=w}toLength(){return f(this.lineCount,this.columnCount)}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=D,D.zero=new D(0,0);function _(p,C,w,E){return p!==w?f(w-p,E):f(0,E-C)}e.lengthDiff=_,e.lengthZero=0;function m(p){return p===0}e.lengthIsZero=m;const S=Math.pow(2,26);function f(p,C){return p*S+C}e.toLength=f;function v(p){const C=p,w=Math.floor(C/S),E=C-w*S;return new D(w,E)}e.lengthToObj=v;function o(p){return Math.floor(p/S)}e.lengthGetLineCount=o;function i(p){return p}e.lengthGetColumnCountIfZeroLineCount=i;function t(p,C){let w=p+C;return C>=S&&(w=w-p%S),w}e.lengthAdd=t;function n(p,C){return p.reduce((w,E)=>t(w,C(E)),e.lengthZero)}e.sumLengths=n;function r(p,C){return p===C}e.lengthEquals=r;function l(p,C){const w=p,E=C;if(E-w<=0)return e.lengthZero;const T=Math.floor(w/S),P=Math.floor(E/S),A=E-P*S;if(T===P){const M=w-T*S;return f(0,A-M)}else return f(P-T,A)}e.lengthDiffNonNegative=l;function h(p,C){return p<C}e.lengthLessThan=h;function s(p,C){return p<=C}e.lengthLessThanEqual=s;function u(p,C){return p>=C}e.lengthGreaterThanEqual=u;function a(p){const C=p,w=Math.floor(C/S),E=C-w*S;return new k.Position(w+1,E+1)}e.lengthToPosition=a;function d(p){return f(p.lineNumber-1,p.column-1)}e.positionToLength=d;function c(p,C){const w=p,E=Math.floor(w/S),I=w-E*S,T=C,P=Math.floor(T/S),A=T-P*S;return new L.Range(E+1,I+1,P+1,A+1)}e.lengthsToRange=c;function b(p){return p.startLineNumber===p.endLineNumber?new D(0,p.endColumn-p.startColumn):new D(p.endLineNumber-p.startLineNumber,p.endColumn-1)}e.lengthOfRange=b;function g(p){const C=(0,y.splitLines)(p);return f(C.length-1,C[C.length-1].length)}e.lengthOfString=g}),define(J[181],ee([1,0,5,87]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class L{static fromModelContentChanges(S){return S.map(v=>{const o=y.Range.lift(v.range);return new L((0,k.positionToLength)(o.getStartPosition()),(0,k.positionToLength)(o.getEndPosition()),(0,k.lengthOfString)(v.text))}).reverse()}constructor(S,f,v){this.startOffset=S,this.endOffset=f,this.newLength=v}toString(){return`[${(0,k.lengthToObj)(this.startOffset)}...${(0,k.lengthToObj)(this.endOffset)}) -> ${(0,k.lengthToObj)(this.newLength)}`}}e.TextEditInfo=L;class D{constructor(S){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=S.map(f=>_.from(f))}getOffsetBeforeChange(S){return this.adjustNextEdit(S),this.translateCurToOld(S)}getDistanceToNextChange(S){this.adjustNextEdit(S);const f=this.edits[this.nextEditIdx],v=f?this.translateOldToCur(f.offsetObj):null;return v===null?null:(0,k.lengthDiffNonNegative)(S,v)}translateOldToCur(S){return S.lineCount===this.deltaLineIdxInOld?(0,k.toLength)(S.lineCount+this.deltaOldToNewLineCount,S.columnCount+this.deltaOldToNewColumnCount):(0,k.toLength)(S.lineCount+this.deltaOldToNewLineCount,S.columnCount)}translateCurToOld(S){const f=(0,k.lengthToObj)(S);return f.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,k.toLength)(f.lineCount-this.deltaOldToNewLineCount,f.columnCount-this.deltaOldToNewColumnCount):(0,k.toLength)(f.lineCount-this.deltaOldToNewLineCount,f.columnCount)}adjustNextEdit(S){for(;this.nextEditIdx<this.edits.length;){const f=this.edits[this.nextEditIdx],v=this.translateOldToCur(f.endOffsetAfterObj);if((0,k.lengthLessThanEqual)(v,S)){this.nextEditIdx++;const o=(0,k.lengthToObj)(v),i=(0,k.lengthToObj)(this.translateOldToCur(f.endOffsetBeforeObj)),t=o.lineCount-i.lineCount;this.deltaOldToNewLineCount+=t;const n=this.deltaLineIdxInOld===f.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,r=o.columnCount-i.columnCount;this.deltaOldToNewColumnCount=n+r,this.deltaLineIdxInOld=f.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=D;class _{static from(S){return new _(S.startOffset,S.endOffset,S.newLength)}constructor(S,f,v){this.endOffsetBeforeObj=(0,k.lengthToObj)(f),this.endOffsetAfterObj=(0,k.lengthToObj)((0,k.lengthAdd)(S,v)),this.offsetObj=(0,k.lengthToObj)(S)}}}),define(J[277],ee([1,0,15,181,87]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineTextEditInfos=void 0;function D(S,f){if(S.length===0)return f;if(f.length===0)return S;const v=new y.ArrayQueue(m(S)),o=m(f);o.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let i=v.dequeue();function t(h){if(h===void 0){const u=v.takeWhile(a=>!0)||[];return i&&u.unshift(i),u}const s=[];for(;i&&!(0,L.lengthIsZero)(h);){const[u,a]=i.splitAt(h);s.push(u),h=(0,L.lengthDiffNonNegative)(u.lengthAfter,h),i=a??v.dequeue()}return(0,L.lengthIsZero)(h)||s.push(new _(!1,h,h)),s}const n=[];function r(h,s,u){if(n.length>0&&(0,L.lengthEquals)(n[n.length-1].endOffset,h)){const a=n[n.length-1];n[n.length-1]=new k.TextEditInfo(a.startOffset,s,(0,L.lengthAdd)(a.newLength,u))}else n.push({startOffset:h,endOffset:s,newLength:u})}let l=L.lengthZero;for(const h of o){const s=t(h.lengthBefore);if(h.modified){const u=(0,L.sumLengths)(s,d=>d.lengthBefore),a=(0,L.lengthAdd)(l,u);r(l,a,h.lengthAfter),l=a}else for(const u of s){const a=l;l=(0,L.lengthAdd)(l,u.lengthBefore),u.modified&&r(a,l,u.lengthAfter)}}return n}e.combineTextEditInfos=D;class _{constructor(f,v,o){this.modified=f,this.lengthBefore=v,this.lengthAfter=o}splitAt(f){const v=(0,L.lengthDiffNonNegative)(f,this.lengthAfter);return(0,L.lengthEquals)(v,L.lengthZero)?[this,void 0]:this.modified?[new _(this.modified,this.lengthBefore,f),new _(this.modified,L.lengthZero,v)]:[new _(this.modified,f,f),new _(this.modified,v,v)]}toString(){return`${this.modified?"M":"U"}:${(0,L.lengthToObj)(this.lengthBefore)} -> ${(0,L.lengthToObj)(this.lengthAfter)}`}}function m(S){const f=[];let v=L.lengthZero;for(const o of S){const i=(0,L.lengthDiffNonNegative)(v,o.startOffset);(0,L.lengthIsZero)(i)||f.push(new _(!1,i,i));const t=(0,L.lengthDiffNonNegative)(o.startOffset,o.endOffset);f.push(new _(!0,t,o.newLength)),v=o.endOffset}return f}}),define(J[499],ee([1,0,87]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class k{constructor(m){this.lastOffset=y.lengthZero,this.nextNodes=[m],this.offsets=[y.lengthZero],this.idxs=[]}readLongestNodeAt(m,S){if((0,y.lengthLessThan)(m,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=m;;){const f=D(this.nextNodes);if(!f)return;const v=D(this.offsets);if((0,y.lengthLessThan)(m,v))return;if((0,y.lengthLessThan)(v,m))if((0,y.lengthAdd)(v,f.length)<=m)this.nextNodeAfterCurrent();else{const o=L(f);o!==-1?(this.nextNodes.push(f.getChild(o)),this.offsets.push(v),this.idxs.push(o)):this.nextNodeAfterCurrent()}else{if(S(f))return this.nextNodeAfterCurrent(),f;{const o=L(f);if(o===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(f.getChild(o)),this.offsets.push(v),this.idxs.push(o)}}}}nextNodeAfterCurrent(){for(;;){const m=D(this.offsets),S=D(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const f=D(this.nextNodes),v=L(f,this.idxs[this.idxs.length-1]);if(v!==-1){this.nextNodes.push(f.getChild(v)),this.offsets.push((0,y.lengthAdd)(m,S.length)),this.idxs[this.idxs.length-1]=v;break}else this.idxs.pop()}}}e.NodeReader=k;function L(_,m=-1){for(;;){if(m++,m>=_.childrenLength)return-1;if(_.getChild(m))return m}}function D(_){return _.length>0?_[_.length-1]:void 0}}),define(J[128],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const y=[];class k{static create(_,m){if(_<=128&&m.length===0){let S=k.cache[_];return S||(S=new k(_,m),k.cache[_]=S),S}return new k(_,m)}static getEmpty(){return this.empty}constructor(_,m){this.items=_,this.additionalItems=m}add(_,m){const S=m.getKey(_);let f=S>>5;if(f===0){const o=1<<S|this.items;return o===this.items?this:k.create(o,this.additionalItems)}f--;const v=this.additionalItems.slice(0);for(;v.length<f;)v.push(0);return v[f]|=1<<(S&31),k.create(this.items,v)}merge(_){const m=this.items|_.items;if(this.additionalItems===y&&_.additionalItems===y)return m===this.items?this:m===_.items?_:k.create(m,y);const S=[];for(let f=0;f<Math.max(this.additionalItems.length,_.additionalItems.length);f++){const v=this.additionalItems[f]||0,o=_.additionalItems[f]||0;S.push(v|o)}return k.create(m,S)}intersects(_){if(this.items&_.items)return!0;for(let m=0;m<Math.min(this.additionalItems.length,_.additionalItems.length);m++)if(this.additionalItems[m]&_.additionalItems[m])return!0;return!1}}e.SmallImmutableSet=k,k.cache=new Array(129),k.empty=k.create(0,y),e.identityKeyProvider={getKey(D){return D}};class L{constructor(){this.items=new Map}getKey(_){let m=this.items.get(_);return m===void 0&&(m=this.items.size,this.items.set(_,m)),m}}e.DenseKeyProvider=L}),define(J[182],ee([1,0,12,81,87,128]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class _{get length(){return this._length}constructor(u){this._length=u}}class m extends _{static create(u,a,d){let c=u.length;return a&&(c=(0,L.lengthAdd)(c,a.length)),d&&(c=(0,L.lengthAdd)(c,d.length)),new m(c,u,a,d,a?a.missingOpeningBracketIds:D.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(u){switch(u){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const u=[];return u.push(this.openingBracket),this.child&&u.push(this.child),this.closingBracket&&u.push(this.closingBracket),u}constructor(u,a,d,c,b){super(u),this.openingBracket=a,this.child=d,this.closingBracket=c,this.missingOpeningBracketIds=b}canBeReused(u){return!(this.closingBracket===null||u.intersects(this.missingOpeningBracketIds))}deepClone(){return new m(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(u,a){return this.child?this.child.computeMinIndentation((0,L.lengthAdd)(u,this.openingBracket.length),a):Number.MAX_SAFE_INTEGER}}e.PairAstNode=m;class S extends _{static create23(u,a,d,c=!1){let b=u.length,g=u.missingOpeningBracketIds;if(u.listHeight!==a.listHeight)throw new Error("Invalid list heights");if(b=(0,L.lengthAdd)(b,a.length),g=g.merge(a.missingOpeningBracketIds),d){if(u.listHeight!==d.listHeight)throw new Error("Invalid list heights");b=(0,L.lengthAdd)(b,d.length),g=g.merge(d.missingOpeningBracketIds)}return c?new v(b,u.listHeight+1,u,a,d,g):new f(b,u.listHeight+1,u,a,d,g)}static getEmpty(){return new i(L.lengthZero,0,[],D.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(u,a,d){super(u),this.listHeight=a,this._missingOpeningBracketIds=d,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const u=this.childrenLength;if(u===0)return;const a=this.getChild(u-1),d=a.kind===4?a.toMutable():a;return a!==d&&this.setChild(u-1,d),d}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const a=this.getChild(0),d=a.kind===4?a.toMutable():a;return a!==d&&this.setChild(0,d),d}canBeReused(u){if(u.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let a=this;for(;a.kind===4;){const d=a.childrenLength;if(d===0)throw new y.BugIndicatingError;a=a.getChild(d-1)}return a.canBeReused(u)}handleChildrenChanged(){this.throwIfImmutable();const u=this.childrenLength;let a=this.getChild(0).length,d=this.getChild(0).missingOpeningBracketIds;for(let c=1;c<u;c++){const b=this.getChild(c);a=(0,L.lengthAdd)(a,b.length),d=d.merge(b.missingOpeningBracketIds)}this._length=a,this._missingOpeningBracketIds=d,this.cachedMinIndentation=-1}computeMinIndentation(u,a){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let d=Number.MAX_SAFE_INTEGER,c=u;for(let b=0;b<this.childrenLength;b++){const g=this.getChild(b);g&&(d=Math.min(d,g.computeMinIndentation(c,a)),c=(0,L.lengthAdd)(c,g.length))}return this.cachedMinIndentation=d,d}}e.ListAstNode=S;class f extends S{get childrenLength(){return this._item3!==null?3:2}getChild(u){switch(u){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(u,a){switch(u){case 0:this._item1=a;return;case 1:this._item2=a;return;case 2:this._item3=a;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(u,a,d,c,b,g){super(u,a,g),this._item1=d,this._item2=c,this._item3=b}deepClone(){return new f(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(u){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=u,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const u=this._item3;return this._item3=null,this.handleChildrenChanged(),u}prependChildOfSameHeight(u){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=u,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const u=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),u}toMutable(){return this}}class v extends f{toMutable(){return new f(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class o extends S{get childrenLength(){return this._children.length}getChild(u){return this._children[u]}setChild(u,a){this._children[u]=a}get children(){return this._children}constructor(u,a,d,c){super(u,a,c),this._children=d}deepClone(){const u=new Array(this._children.length);for(let a=0;a<this._children.length;a++)u[a]=this._children[a].deepClone();return new o(this.length,this.listHeight,u,this.missingOpeningBracketIds)}appendChildOfSameHeight(u){this.throwIfImmutable(),this._children.push(u),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const u=this._children.pop();return this.handleChildrenChanged(),u}prependChildOfSameHeight(u){this.throwIfImmutable(),this._children.unshift(u),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const u=this._children.shift();return this.handleChildrenChanged(),u}toMutable(){return this}}class i extends o{toMutable(){return new o(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const t=[];class n extends _{get listHeight(){return 0}get childrenLength(){return 0}getChild(u){return null}get children(){return t}deepClone(){return this}}class r extends n{get kind(){return 0}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}canBeReused(u){return!0}computeMinIndentation(u,a){const d=(0,L.lengthToObj)(u),c=(d.columnCount===0?d.lineCount:d.lineCount+1)+1,b=(0,L.lengthGetLineCount)((0,L.lengthAdd)(u,this.length))+1;let g=Number.MAX_SAFE_INTEGER;for(let p=c;p<=b;p++){const C=a.getLineFirstNonWhitespaceColumn(p),w=a.getLineContent(p);if(C===0)continue;const E=k.CursorColumns.visibleColumnFromColumn(w,C,a.getOptions().tabSize);g=Math.min(g,E)}return g}}e.TextAstNode=r;class l extends n{static create(u,a,d){return new l(u,a,d)}get kind(){return 1}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}constructor(u,a,d){super(u),this.bracketInfo=a,this.bracketIds=d}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(u){return!1}computeMinIndentation(u,a){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=l;class h extends n{get kind(){return 3}constructor(u,a){super(a),this.missingOpeningBracketIds=u}canBeReused(u){return!u.intersects(this.missingOpeningBracketIds)}computeMinIndentation(u,a){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=h}),define(J[500],ee([1,0,182]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function k(f){if(f.length===0)return null;if(f.length===1)return f[0];let v=0;function o(){if(v>=f.length)return null;const r=v,l=f[r].listHeight;for(v++;v<f.length&&f[v].listHeight===l;)v++;return v-r>=2?L(r===0&&v===f.length?f:f.slice(r,v),!1):f[r]}let i=o(),t=o();if(!t)return i;for(let r=o();r;r=o())D(i,t)<=D(t,r)?(i=_(i,t),t=r):t=_(t,r);return _(i,t)}e.concat23Trees=k;function L(f,v=!1){if(f.length===0)return null;if(f.length===1)return f[0];let o=f.length;for(;o>3;){const i=o>>1;for(let t=0;t<i;t++){const n=t<<1;f[t]=y.ListAstNode.create23(f[n],f[n+1],n+3===o?f[n+2]:null,v)}o=i}return y.ListAstNode.create23(f[0],f[1],o>=3?f[2]:null,v)}e.concat23TreesOfSameHeight=L;function D(f,v){return Math.abs(f.listHeight-v.listHeight)}function _(f,v){return f.listHeight===v.listHeight?y.ListAstNode.create23(f,v,null,!1):f.listHeight>v.listHeight?m(f,v):S(v,f)}function m(f,v){f=f.toMutable();let o=f;const i=[];let t;for(;;){if(v.listHeight===o.listHeight){t=v;break}if(o.kind!==4)throw new Error("unexpected");i.push(o),o=o.makeLastElementMutable()}for(let n=i.length-1;n>=0;n--){const r=i[n];t?r.childrenLength>=3?t=y.ListAstNode.create23(r.unappendChild(),t,null,!1):(r.appendChildOfSameHeight(t),t=void 0):r.handleChildrenChanged()}return t?y.ListAstNode.create23(f,t,null,!1):f}function S(f,v){f=f.toMutable();let o=f;const i=[];for(;v.listHeight!==o.listHeight;){if(o.kind!==4)throw new Error("unexpected");i.push(o),o=o.makeFirstElementMutable()}let t=v;for(let n=i.length-1;n>=0;n--){const r=i[n];t?r.childrenLength>=3?t=y.ListAstNode.create23(t,r.unprependChild(),null,!1):(r.prependChildOfSameHeight(t),t=void 0):r.handleChildrenChanged()}return t?y.ListAstNode.create23(t,f,null,!1):f}}),define(J[278],ee([1,0,182,181,128,87,500,499]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function S(v,o,i,t){return new f(v,o,i,t).parseDocument()}e.parseDocument=S;class f{constructor(o,i,t,n){if(this.tokenizer=o,this.createImmutableLists=n,this._itemsConstructed=0,this._itemsFromCache=0,t&&n)throw new Error("Not supported");this.oldNodeReader=t?new m.NodeReader(t):void 0,this.positionMapper=new k.BeforeEditPositionMapper(i)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let o=this.parseList(L.SmallImmutableSet.getEmpty(),0);return o||(o=y.ListAstNode.getEmpty()),o}parseList(o,i){const t=[];for(;;){let r=this.tryReadChildFromCache(o);if(!r){const l=this.tokenizer.peek();if(!l||l.kind===2&&l.bracketIds.intersects(o))break;r=this.parseChild(o,i+1)}r.kind===4&&r.childrenLength===0||t.push(r)}return this.oldNodeReader?(0,_.concat23Trees)(t):(0,_.concat23TreesOfSameHeight)(t,this.createImmutableLists)}tryReadChildFromCache(o){if(this.oldNodeReader){const i=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(i===null||!(0,D.lengthIsZero)(i)){const t=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),n=>i!==null&&!(0,D.lengthLessThan)(n.length,i)?!1:n.canBeReused(o));if(t)return this._itemsFromCache++,this.tokenizer.skip(t.length),t}}}parseChild(o,i){this._itemsConstructed++;const t=this.tokenizer.read();switch(t.kind){case 2:return new y.InvalidBracketAstNode(t.bracketIds,t.length);case 0:return t.astNode;case 1:{if(i>300)return new y.TextAstNode(t.length);const n=o.merge(t.bracketIds),r=this.parseList(n,i+1),l=this.tokenizer.peek();return l&&l.kind===2&&(l.bracketId===t.bracketId||l.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),y.PairAstNode.create(t.astNode,r,l.astNode)):y.PairAstNode.create(t.astNode,r,null)}default:throw new Error("unexpected")}}}}),define(J[207],ee([1,0,12,126,182,87,128]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class m{constructor(i,t,n,r,l){this.length=i,this.kind=t,this.bracketId=n,this.bracketIds=r,this.astNode=l}}e.Token=m;class S{constructor(i,t){this.textModel=i,this.bracketTokens=t,this.reader=new f(this.textModel,this.bracketTokens),this._offset=D.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,D.toLength)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(i){this.didPeek=!1,this._offset=(0,D.lengthAdd)(this._offset,i);const t=(0,D.lengthToObj)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let i;return this.peeked?(this.didPeek=!1,i=this.peeked):i=this.reader.read(),i&&(this._offset=(0,D.lengthAdd)(this._offset,i.length)),i}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=S;class f{constructor(i,t){this.textModel=i,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}setPosition(i,t){i===this.lineIdx?(this.lineCharOffset=t,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=i,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const l=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(l.length),l}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const i=this.lineIdx,t=this.lineCharOffset;let n=0;for(;;){const l=this.lineTokens,h=l.getCount();let s=null;if(this.lineTokenOffset<h){const u=l.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<h&&u===l.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const a=k.TokenMetadata.getTokenType(u)===0,d=k.TokenMetadata.containsBalancedBrackets(u),c=l.getEndOffset(this.lineTokenOffset);if(d&&a&&this.lineCharOffset<c){const b=l.getLanguageId(this.lineTokenOffset),g=this.line.substring(this.lineCharOffset,c),p=this.bracketTokens.getSingleLanguageBracketTokens(b),C=p.regExpGlobal;if(C){C.lastIndex=0;const w=C.exec(g);w&&(s=p.getToken(w[0]),s&&(this.lineCharOffset+=w.index))}}if(n+=c-this.lineCharOffset,s)if(i!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=s;break}else return this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(s.length),s;else this.lineTokenOffset++,this.lineCharOffset=c}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,n+=33,n>1e3))break;if(n>1500)break}const r=(0,D.lengthDiff)(i,t,this.lineIdx,this.lineCharOffset);return new m(r,0,-1,_.SmallImmutableSet.getEmpty(),new L.TextAstNode(r))}}class v{constructor(i,t){this.text=i,this._offset=D.lengthZero,this.idx=0;const n=t.getRegExpStr(),r=n?new RegExp(n+`|
`,"gi"):null,l=[];let h,s=0,u=0,a=0,d=0;const c=[];for(let p=0;p<60;p++)c.push(new m((0,D.toLength)(0,p),0,-1,_.SmallImmutableSet.getEmpty(),new L.TextAstNode((0,D.toLength)(0,p))));const b=[];for(let p=0;p<60;p++)b.push(new m((0,D.toLength)(1,p),0,-1,_.SmallImmutableSet.getEmpty(),new L.TextAstNode((0,D.toLength)(1,p))));if(r)for(r.lastIndex=0;(h=r.exec(i))!==null;){const p=h.index,C=h[0];if(C===`
`)s++,u=p+1;else{if(a!==p){let w;if(d===s){const E=p-a;if(E<c.length)w=c[E];else{const I=(0,D.toLength)(0,E);w=new m(I,0,-1,_.SmallImmutableSet.getEmpty(),new L.TextAstNode(I))}}else{const E=s-d,I=p-u;if(E===1&&I<b.length)w=b[I];else{const T=(0,D.toLength)(E,I);w=new m(T,0,-1,_.SmallImmutableSet.getEmpty(),new L.TextAstNode(T))}}l.push(w)}l.push(t.getToken(C)),a=p+C.length,d=s}}const g=i.length;if(a!==g){const p=d===s?(0,D.toLength)(0,g-a):(0,D.toLength)(s-d,g-u);l.push(new m(p,0,-1,_.SmallImmutableSet.getEmpty(),new L.TextAstNode(p)))}this.length=(0,D.toLength)(s,g-u),this.tokens=l}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(i){throw new y.NotSupportedError}}e.FastTokenizer=v}),define(J[279],ee([1,0,9,182,87,128,207]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class m{static createFromLanguage(o,i){function t(r){return i.getKey(`${r.languageId}:::${r.bracketText}`)}const n=new Map;for(const r of o.bracketsNew.openingBrackets){const l=(0,L.toLength)(0,r.bracketText.length),h=t(r),s=D.SmallImmutableSet.getEmpty().add(h,D.identityKeyProvider);n.set(r.bracketText,new _.Token(l,1,h,s,k.BracketAstNode.create(l,r,s)))}for(const r of o.bracketsNew.closingBrackets){const l=(0,L.toLength)(0,r.bracketText.length);let h=D.SmallImmutableSet.getEmpty();const s=r.getOpeningBrackets();for(const u of s)h=h.add(t(u),D.identityKeyProvider);n.set(r.bracketText,new _.Token(l,2,t(s[0]),h,k.BracketAstNode.create(l,r,h)))}return new m(n)}constructor(o){this.map=o,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const o=[...this.map.keys()];return o.sort(),o.reverse(),o.map(i=>S(i)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const o=this.getRegExpStr();this._regExpGlobal=o?new RegExp(o,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(o){return this.map.get(o.toLowerCase())}findClosingTokenText(o){for(const[i,t]of this.map)if(t.kind===2&&t.bracketIds.intersects(o))return i}get isEmpty(){return this.map.size===0}}e.BracketTokens=m;function S(v){let o=(0,y.escapeRegExpCharacters)(v);return/^[\w ]+/.test(v)&&(o=`\\b${o}`),/[\w ]+$/.test(v)&&(o=`${o}\\b`),o}class f{constructor(o,i){this.denseKeyProvider=o,this.getLanguageConfiguration=i,this.languageIdToBracketTokens=new Map}didLanguageChange(o){return this.languageIdToBracketTokens.has(o)}getSingleLanguageBracketTokens(o){let i=this.languageIdToBracketTokens.get(o);return i||(i=m.createFromLanguage(this.getLanguageConfiguration(o),this.denseKeyProvider),this.languageIdToBracketTokens.set(o,i)),i}}e.LanguageAgnosticBracketTokens=f}),define(J[501],ee([1,0,279,87,278,128,207]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=void 0;function m(f,v){const o=new D.DenseKeyProvider,i=new y.LanguageAgnosticBracketTokens(o,s=>v.getLanguageConfiguration(s)),t=new _.TextBufferTokenizer(new S([f]),i),n=(0,L.parseDocument)(t,[],void 0,!0);let r="";const l=f.getLineContent();function h(s,u){if(s.kind===2)if(h(s.openingBracket,u),u=(0,k.lengthAdd)(u,s.openingBracket.length),s.child&&(h(s.child,u),u=(0,k.lengthAdd)(u,s.child.length)),s.closingBracket)h(s.closingBracket,u),u=(0,k.lengthAdd)(u,s.closingBracket.length);else{const d=i.getSingleLanguageBracketTokens(s.openingBracket.languageId).findClosingTokenText(s.openingBracket.bracketIds);r+=d}else if(s.kind!==3){if(s.kind===0||s.kind===1)r+=l.substring((0,k.lengthGetColumnCountIfZeroLineCount)(u),(0,k.lengthGetColumnCountIfZeroLineCount)((0,k.lengthAdd)(u,s.length)));else if(s.kind===4)for(const a of s.children)h(a,u),u=(0,k.lengthAdd)(u,a.length)}}return h(n,k.lengthZero),r}e.fixBracketsInLine=m;class S{constructor(v){this.lines=v,this.tokenization={getLineTokens:o=>this.lines[o-1]}}getLineCount(){return this.lines.length}getLineLength(v){return this.lines[v-1].getLineContent().length}}}),define(J[502],ee([1,0,15]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedArray=void 0;class k{constructor(_){this._default=_,this._store=[]}get(_){return _<this._store.length?this._store[_]:this._default}set(_,m){for(;_>=this._store.length;)this._store[this._store.length]=this._default;this._store[_]=m}replace(_,m,S){if(_>=this._store.length)return;if(m===0){this.insert(_,S);return}else if(S===0){this.delete(_,m);return}const f=this._store.slice(0,_),v=this._store.slice(_+m),o=L(S,this._default);this._store=f.concat(o,v)}delete(_,m){m===0||_>=this._store.length||this._store.splice(_,m)}insert(_,m){if(m===0||_>=this._store.length)return;const S=[];for(let f=0;f<m;f++)S[f]=this._default;this._store=(0,y.arrayInsert)(this._store,_,S)}}e.FixedArray=k;function L(D,_){const m=[];for(let S=0;S<D;S++)m[S]=_;return m}}),define(J[503],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class y{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(D,_,m,S,f){f.spacesDiff=0,f.looksLikeAlignment=!1;let v;for(v=0;v<_&&v<S;v++){const h=D.charCodeAt(v),s=m.charCodeAt(v);if(h!==s)break}let o=0,i=0;for(let h=v;h<_;h++)D.charCodeAt(h)===32?o++:i++;let t=0,n=0;for(let h=v;h<S;h++)m.charCodeAt(h)===32?t++:n++;if(o>0&&i>0||t>0&&n>0)return;const r=Math.abs(i-n),l=Math.abs(o-t);if(r===0){f.spacesDiff=l,l>0&&0<=t-1&&t-1<D.length&&t<m.length&&m.charCodeAt(t)!==32&&D.charCodeAt(t-1)===32&&D.charCodeAt(D.length-1)===44&&(f.looksLikeAlignment=!0);return}if(l%r===0){f.spacesDiff=l/r;return}}function L(D,_,m){const S=Math.min(D.getLineCount(),1e4);let f=0,v=0,o="",i=0;const t=[2,4,6,8,3,5,7],n=8,r=[0,0,0,0,0,0,0,0,0],l=new y;for(let u=1;u<=S;u++){const a=D.getLineLength(u),d=D.getLineContent(u),c=a<=65536;let b=!1,g=0,p=0,C=0;for(let E=0,I=a;E<I;E++){const T=c?d.charCodeAt(E):D.getLineCharCode(u,E);if(T===9)C++;else if(T===32)p++;else{b=!0,g=E;break}}if(!b||(C>0?f++:p>1&&v++,k(o,i,d,g,l),l.looksLikeAlignment&&!(m&&_===l.spacesDiff)))continue;const w=l.spacesDiff;w<=n&&r[w]++,o=d,i=g}let h=m;f!==v&&(h=f<v);let s=_;if(h){let u=h?0:.1*S;t.forEach(a=>{const d=r[a];d>u&&(u=d,s=a)}),s===4&&r[4]>0&&r[2]>0&&r[2]>=r[4]/2&&(s=2)}return{insertSpaces:h,tabSize:s}}e.guessIndentation=L}),define(J[504],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function y(x){return(x.metadata&1)>>>0}e.getNodeColor=y;function k(x,F){x.metadata=x.metadata&254|F<<0}function L(x){return(x.metadata&2)>>>1===1}function D(x,F){x.metadata=x.metadata&253|(F?1:0)<<1}function _(x){return(x.metadata&4)>>>2===1}function m(x,F){x.metadata=x.metadata&251|(F?1:0)<<2}function S(x){return(x.metadata&64)>>>6===1}function f(x,F){x.metadata=x.metadata&191|(F?1:0)<<6}function v(x){return(x.metadata&24)>>>3}function o(x,F){x.metadata=x.metadata&231|F<<3}function i(x){return(x.metadata&32)>>>5===1}function t(x,F){x.metadata=x.metadata&223|(F?1:0)<<5}class n{constructor(F,B,z){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=B,this.end=z,this.delta=0,this.maxEnd=z,this.id=F,this.ownerId=0,this.options=null,m(this,!1),f(this,!1),o(this,1),t(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=z,this.range=null,D(this,!1)}reset(F,B,z,j){this.start=B,this.end=z,this.maxEnd=z,this.cachedVersionId=F,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=z,this.range=j}setOptions(F){this.options=F;const B=this.options.className;m(this,B==="squiggly-error"||B==="squiggly-warning"||B==="squiggly-info"),f(this,this.options.glyphMarginClassName!==null),o(this,this.options.stickiness),t(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(F,B,z){this.cachedVersionId!==z&&(this.range=null),this.cachedVersionId=z,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=B}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=n,e.SENTINEL=new n(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class r{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(F,B,z,j,R,Z){return this.root===e.SENTINEL?[]:g(this,F,B,z,j,R,Z)}search(F,B,z,j){return this.root===e.SENTINEL?[]:b(this,F,B,z,j)}collectNodesFromOwner(F){return d(this,F)}collectNodesPostOrder(){return c(this)}insert(F){p(this,F),this._normalizeDeltaIfNecessary()}delete(F){w(this,F),this._normalizeDeltaIfNecessary()}resolveNode(F,B){const z=F;let j=0;for(;F!==this.root;)F===F.parent.right&&(j+=F.parent.delta),F=F.parent;const R=z.start+j,Z=z.end+j;z.setCachedOffsets(R,Z,B)}acceptReplace(F,B,z,j){const R=u(this,F,F+B);for(let Z=0,se=R.length;Z<se;Z++){const le=R[Z];w(this,le)}this._normalizeDeltaIfNecessary(),a(this,F,F+B,z),this._normalizeDeltaIfNecessary();for(let Z=0,se=R.length;Z<se;Z++){const le=R[Z];le.start=le.cachedAbsoluteStart,le.end=le.cachedAbsoluteEnd,s(le,F,F+B,z,j),le.maxEnd=le.end,p(this,le)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,l(this))}}e.IntervalTree=r;function l(x){let F=x.root,B=0;for(;F!==e.SENTINEL;){if(F.left!==e.SENTINEL&&!L(F.left)){F=F.left;continue}if(F.right!==e.SENTINEL&&!L(F.right)){B+=F.delta,F=F.right;continue}F.start=B+F.start,F.end=B+F.end,F.delta=0,M(F),D(F,!0),D(F.left,!1),D(F.right,!1),F===F.parent.right&&(B-=F.parent.delta),F=F.parent}D(x.root,!1)}function h(x,F,B,z){return x<B?!0:x>B||z===1?!1:z===2?!0:F}function s(x,F,B,z,j){const R=v(x),Z=R===0||R===2,se=R===1||R===2,le=B-F,te=z,Y=Math.min(le,te),U=x.start;let V=!1;const H=x.end;let $=!1;F<=U&&H<=B&&i(x)&&(x.start=F,V=!0,x.end=F,$=!0);{const Q=j?1:le>0?2:0;!V&&h(U,Z,F,Q)&&(V=!0),!$&&h(H,se,F,Q)&&($=!0)}if(Y>0&&!j){const Q=le>te?2:0;!V&&h(U,Z,F+Y,Q)&&(V=!0),!$&&h(H,se,F+Y,Q)&&($=!0)}{const Q=j?1:0;!V&&h(U,Z,B,Q)&&(x.start=F+te,V=!0),!$&&h(H,se,B,Q)&&(x.end=F+te,$=!0)}const X=te-le;V||(x.start=Math.max(0,U+X)),$||(x.end=Math.max(0,H+X)),x.start>x.end&&(x.end=x.start)}e.nodeAcceptEdit=s;function u(x,F,B){let z=x.root,j=0,R=0,Z=0,se=0;const le=[];let te=0;for(;z!==e.SENTINEL;){if(L(z)){D(z.left,!1),D(z.right,!1),z===z.parent.right&&(j-=z.parent.delta),z=z.parent;continue}if(!L(z.left)){if(R=j+z.maxEnd,R<F){D(z,!0);continue}if(z.left!==e.SENTINEL){z=z.left;continue}}if(Z=j+z.start,Z>B){D(z,!0);continue}if(se=j+z.end,se>=F&&(z.setCachedOffsets(Z,se,0),le[te++]=z),D(z,!0),z.right!==e.SENTINEL&&!L(z.right)){j+=z.delta,z=z.right;continue}}return D(x.root,!1),le}function a(x,F,B,z){let j=x.root,R=0,Z=0,se=0;const le=z-(B-F);for(;j!==e.SENTINEL;){if(L(j)){D(j.left,!1),D(j.right,!1),j===j.parent.right&&(R-=j.parent.delta),M(j),j=j.parent;continue}if(!L(j.left)){if(Z=R+j.maxEnd,Z<F){D(j,!0);continue}if(j.left!==e.SENTINEL){j=j.left;continue}}if(se=R+j.start,se>B){j.start+=le,j.end+=le,j.delta+=le,(j.delta<-1073741824||j.delta>1073741824)&&(x.requestNormalizeDelta=!0),D(j,!0);continue}if(D(j,!0),j.right!==e.SENTINEL&&!L(j.right)){R+=j.delta,j=j.right;continue}}D(x.root,!1)}function d(x,F){let B=x.root;const z=[];let j=0;for(;B!==e.SENTINEL;){if(L(B)){D(B.left,!1),D(B.right,!1),B=B.parent;continue}if(B.left!==e.SENTINEL&&!L(B.left)){B=B.left;continue}if(B.ownerId===F&&(z[j++]=B),D(B,!0),B.right!==e.SENTINEL&&!L(B.right)){B=B.right;continue}}return D(x.root,!1),z}function c(x){let F=x.root;const B=[];let z=0;for(;F!==e.SENTINEL;){if(L(F)){D(F.left,!1),D(F.right,!1),F=F.parent;continue}if(F.left!==e.SENTINEL&&!L(F.left)){F=F.left;continue}if(F.right!==e.SENTINEL&&!L(F.right)){F=F.right;continue}B[z++]=F,D(F,!0)}return D(x.root,!1),B}function b(x,F,B,z,j){let R=x.root,Z=0,se=0,le=0;const te=[];let Y=0;for(;R!==e.SENTINEL;){if(L(R)){D(R.left,!1),D(R.right,!1),R===R.parent.right&&(Z-=R.parent.delta),R=R.parent;continue}if(R.left!==e.SENTINEL&&!L(R.left)){R=R.left;continue}se=Z+R.start,le=Z+R.end,R.setCachedOffsets(se,le,z);let U=!0;if(F&&R.ownerId&&R.ownerId!==F&&(U=!1),B&&_(R)&&(U=!1),j&&!S(R)&&(U=!1),U&&(te[Y++]=R),D(R,!0),R.right!==e.SENTINEL&&!L(R.right)){Z+=R.delta,R=R.right;continue}}return D(x.root,!1),te}function g(x,F,B,z,j,R,Z){let se=x.root,le=0,te=0,Y=0,U=0;const V=[];let H=0;for(;se!==e.SENTINEL;){if(L(se)){D(se.left,!1),D(se.right,!1),se===se.parent.right&&(le-=se.parent.delta),se=se.parent;continue}if(!L(se.left)){if(te=le+se.maxEnd,te<F){D(se,!0);continue}if(se.left!==e.SENTINEL){se=se.left;continue}}if(Y=le+se.start,Y>B){D(se,!0);continue}if(U=le+se.end,U>=F){se.setCachedOffsets(Y,U,R);let $=!0;z&&se.ownerId&&se.ownerId!==z&&($=!1),j&&_(se)&&($=!1),Z&&!S(se)&&($=!1),$&&(V[H++]=se)}if(D(se,!0),se.right!==e.SENTINEL&&!L(se.right)){le+=se.delta,se=se.right;continue}}return D(x.root,!1),V}function p(x,F){if(x.root===e.SENTINEL)return F.parent=e.SENTINEL,F.left=e.SENTINEL,F.right=e.SENTINEL,k(F,0),x.root=F,x.root;C(x,F),N(F.parent);let B=F;for(;B!==x.root&&y(B.parent)===1;)if(B.parent===B.parent.parent.left){const z=B.parent.parent.right;y(z)===1?(k(B.parent,0),k(z,0),k(B.parent.parent,1),B=B.parent.parent):(B===B.parent.right&&(B=B.parent,T(x,B)),k(B.parent,0),k(B.parent.parent,1),P(x,B.parent.parent))}else{const z=B.parent.parent.left;y(z)===1?(k(B.parent,0),k(z,0),k(B.parent.parent,1),B=B.parent.parent):(B===B.parent.left&&(B=B.parent,P(x,B)),k(B.parent,0),k(B.parent.parent,1),T(x,B.parent.parent))}return k(x.root,0),F}function C(x,F){let B=0,z=x.root;const j=F.start,R=F.end;for(;;)if(O(j,R,z.start+B,z.end+B)<0)if(z.left===e.SENTINEL){F.start-=B,F.end-=B,F.maxEnd-=B,z.left=F;break}else z=z.left;else if(z.right===e.SENTINEL){F.start-=B+z.delta,F.end-=B+z.delta,F.maxEnd-=B+z.delta,z.right=F;break}else B+=z.delta,z=z.right;F.parent=z,F.left=e.SENTINEL,F.right=e.SENTINEL,k(F,1)}function w(x,F){let B,z;if(F.left===e.SENTINEL?(B=F.right,z=F,B.delta+=F.delta,(B.delta<-1073741824||B.delta>1073741824)&&(x.requestNormalizeDelta=!0),B.start+=F.delta,B.end+=F.delta):F.right===e.SENTINEL?(B=F.left,z=F):(z=E(F.right),B=z.right,B.start+=z.delta,B.end+=z.delta,B.delta+=z.delta,(B.delta<-1073741824||B.delta>1073741824)&&(x.requestNormalizeDelta=!0),z.start+=F.delta,z.end+=F.delta,z.delta=F.delta,(z.delta<-1073741824||z.delta>1073741824)&&(x.requestNormalizeDelta=!0)),z===x.root){x.root=B,k(B,0),F.detach(),I(),M(B),x.root.parent=e.SENTINEL;return}const j=y(z)===1;if(z===z.parent.left?z.parent.left=B:z.parent.right=B,z===F?B.parent=z.parent:(z.parent===F?B.parent=z:B.parent=z.parent,z.left=F.left,z.right=F.right,z.parent=F.parent,k(z,y(F)),F===x.root?x.root=z:F===F.parent.left?F.parent.left=z:F.parent.right=z,z.left!==e.SENTINEL&&(z.left.parent=z),z.right!==e.SENTINEL&&(z.right.parent=z)),F.detach(),j){N(B.parent),z!==F&&(N(z),N(z.parent)),I();return}N(B),N(B.parent),z!==F&&(N(z),N(z.parent));let R;for(;B!==x.root&&y(B)===0;)B===B.parent.left?(R=B.parent.right,y(R)===1&&(k(R,0),k(B.parent,1),T(x,B.parent),R=B.parent.right),y(R.left)===0&&y(R.right)===0?(k(R,1),B=B.parent):(y(R.right)===0&&(k(R.left,0),k(R,1),P(x,R),R=B.parent.right),k(R,y(B.parent)),k(B.parent,0),k(R.right,0),T(x,B.parent),B=x.root)):(R=B.parent.left,y(R)===1&&(k(R,0),k(B.parent,1),P(x,B.parent),R=B.parent.left),y(R.left)===0&&y(R.right)===0?(k(R,1),B=B.parent):(y(R.left)===0&&(k(R.right,0),k(R,1),T(x,R),R=B.parent.left),k(R,y(B.parent)),k(B.parent,0),k(R.left,0),P(x,B.parent),B=x.root));k(B,0),I()}function E(x){for(;x.left!==e.SENTINEL;)x=x.left;return x}function I(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function T(x,F){const B=F.right;B.delta+=F.delta,(B.delta<-1073741824||B.delta>1073741824)&&(x.requestNormalizeDelta=!0),B.start+=F.delta,B.end+=F.delta,F.right=B.left,B.left!==e.SENTINEL&&(B.left.parent=F),B.parent=F.parent,F.parent===e.SENTINEL?x.root=B:F===F.parent.left?F.parent.left=B:F.parent.right=B,B.left=F,F.parent=B,M(F),M(B)}function P(x,F){const B=F.left;F.delta-=B.delta,(F.delta<-1073741824||F.delta>1073741824)&&(x.requestNormalizeDelta=!0),F.start-=B.delta,F.end-=B.delta,F.left=B.right,B.right!==e.SENTINEL&&(B.right.parent=F),B.parent=F.parent,F.parent===e.SENTINEL?x.root=B:F===F.parent.right?F.parent.right=B:F.parent.left=B,B.right=F,F.parent=B,M(F),M(B)}function A(x){let F=x.end;if(x.left!==e.SENTINEL){const B=x.left.maxEnd;B>F&&(F=B)}if(x.right!==e.SENTINEL){const B=x.right.maxEnd+x.delta;B>F&&(F=B)}return F}function M(x){x.maxEnd=A(x)}e.recomputeMaxEnd=M;function N(x){for(;x!==e.SENTINEL;){const F=A(x);if(x.maxEnd===F)return;x.maxEnd=F,x=x.parent}}function O(x,F,B,z){return x===B?F-z:x-B}e.intervalCompare=O}),define(J[505],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class y{constructor(r,l){this.piece=r,this.color=l,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let r=this;for(;r.parent!==e.SENTINEL&&r.parent.left!==r;)r=r.parent;return r.parent===e.SENTINEL?e.SENTINEL:r.parent}prev(){if(this.left!==e.SENTINEL)return L(this.left);let r=this;for(;r.parent!==e.SENTINEL&&r.parent.right!==r;)r=r.parent;return r.parent===e.SENTINEL?e.SENTINEL:r.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=y,e.SENTINEL=new y(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(n){for(;n.left!==e.SENTINEL;)n=n.left;return n}e.leftest=k;function L(n){for(;n.right!==e.SENTINEL;)n=n.right;return n}e.righttest=L;function D(n){return n===e.SENTINEL?0:n.size_left+n.piece.length+D(n.right)}function _(n){return n===e.SENTINEL?0:n.lf_left+n.piece.lineFeedCnt+_(n.right)}function m(){e.SENTINEL.parent=e.SENTINEL}function S(n,r){const l=r.right;l.size_left+=r.size_left+(r.piece?r.piece.length:0),l.lf_left+=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),r.right=l.left,l.left!==e.SENTINEL&&(l.left.parent=r),l.parent=r.parent,r.parent===e.SENTINEL?n.root=l:r.parent.left===r?r.parent.left=l:r.parent.right=l,l.left=r,r.parent=l}e.leftRotate=S;function f(n,r){const l=r.left;r.left=l.right,l.right!==e.SENTINEL&&(l.right.parent=r),l.parent=r.parent,r.size_left-=l.size_left+(l.piece?l.piece.length:0),r.lf_left-=l.lf_left+(l.piece?l.piece.lineFeedCnt:0),r.parent===e.SENTINEL?n.root=l:r===r.parent.right?r.parent.right=l:r.parent.left=l,l.right=r,r.parent=l}e.rightRotate=f;function v(n,r){let l,h;if(r.left===e.SENTINEL?(h=r,l=h.right):r.right===e.SENTINEL?(h=r,l=h.left):(h=k(r.right),l=h.right),h===n.root){n.root=l,l.color=0,r.detach(),m(),n.root.parent=e.SENTINEL;return}const s=h.color===1;if(h===h.parent.left?h.parent.left=l:h.parent.right=l,h===r?(l.parent=h.parent,t(n,l)):(h.parent===r?l.parent=h:l.parent=h.parent,t(n,l),h.left=r.left,h.right=r.right,h.parent=r.parent,h.color=r.color,r===n.root?n.root=h:r===r.parent.left?r.parent.left=h:r.parent.right=h,h.left!==e.SENTINEL&&(h.left.parent=h),h.right!==e.SENTINEL&&(h.right.parent=h),h.size_left=r.size_left,h.lf_left=r.lf_left,t(n,h)),r.detach(),l.parent.left===l){const a=D(l),d=_(l);if(a!==l.parent.size_left||d!==l.parent.lf_left){const c=a-l.parent.size_left,b=d-l.parent.lf_left;l.parent.size_left=a,l.parent.lf_left=d,i(n,l.parent,c,b)}}if(t(n,l.parent),s){m();return}let u;for(;l!==n.root&&l.color===0;)l===l.parent.left?(u=l.parent.right,u.color===1&&(u.color=0,l.parent.color=1,S(n,l.parent),u=l.parent.right),u.left.color===0&&u.right.color===0?(u.color=1,l=l.parent):(u.right.color===0&&(u.left.color=0,u.color=1,f(n,u),u=l.parent.right),u.color=l.parent.color,l.parent.color=0,u.right.color=0,S(n,l.parent),l=n.root)):(u=l.parent.left,u.color===1&&(u.color=0,l.parent.color=1,f(n,l.parent),u=l.parent.left),u.left.color===0&&u.right.color===0?(u.color=1,l=l.parent):(u.left.color===0&&(u.right.color=0,u.color=1,S(n,u),u=l.parent.left),u.color=l.parent.color,l.parent.color=0,u.left.color=0,f(n,l.parent),l=n.root));l.color=0,m()}e.rbDelete=v;function o(n,r){for(t(n,r);r!==n.root&&r.parent.color===1;)if(r.parent===r.parent.parent.left){const l=r.parent.parent.right;l.color===1?(r.parent.color=0,l.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.right&&(r=r.parent,S(n,r)),r.parent.color=0,r.parent.parent.color=1,f(n,r.parent.parent))}else{const l=r.parent.parent.left;l.color===1?(r.parent.color=0,l.color=0,r.parent.parent.color=1,r=r.parent.parent):(r===r.parent.left&&(r=r.parent,f(n,r)),r.parent.color=0,r.parent.parent.color=1,S(n,r.parent.parent))}n.root.color=0}e.fixInsert=o;function i(n,r,l,h){for(;r!==n.root&&r!==e.SENTINEL;)r.parent.left===r&&(r.parent.size_left+=l,r.parent.lf_left+=h),r=r.parent}e.updateTreeMetadata=i;function t(n,r){let l=0,h=0;if(r!==n.root){for(;r!==n.root&&r===r.parent.right;)r=r.parent;if(r!==n.root)for(r=r.parent,l=D(r.left)-r.size_left,h=_(r.left)-r.lf_left,r.size_left+=l,r.lf_left+=h;r!==n.root&&(l!==0||h!==0);)r.parent.left===r&&(r.parent.size_left+=l,r.parent.lf_left+=h),r=r.parent}}e.recomputeTreeMetadata=t}),define(J[280],ee([1,0,15,171]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class L{constructor(S){this.values=S,this.prefixSum=new Uint32Array(S.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(S,f){S=(0,k.toUint32)(S);const v=this.values,o=this.prefixSum,i=f.length;return i===0?!1:(this.values=new Uint32Array(v.length+i),this.values.set(v.subarray(0,S),0),this.values.set(v.subarray(S),S+i),this.values.set(f,S),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(S,f){return S=(0,k.toUint32)(S),f=(0,k.toUint32)(f),this.values[S]===f?!1:(this.values[S]=f,S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),!0)}removeValues(S,f){S=(0,k.toUint32)(S),f=(0,k.toUint32)(f);const v=this.values,o=this.prefixSum;if(S>=v.length)return!1;const i=v.length-S;return f>=i&&(f=i),f===0?!1:(this.values=new Uint32Array(v.length-f),this.values.set(v.subarray(0,S),0),this.values.set(v.subarray(S+f),S),this.prefixSum=new Uint32Array(this.values.length),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(S){return S<0?0:(S=(0,k.toUint32)(S),this._getPrefixSum(S))}_getPrefixSum(S){if(S<=this.prefixSumValidIndex[0])return this.prefixSum[S];let f=this.prefixSumValidIndex[0]+1;f===0&&(this.prefixSum[0]=this.values[0],f++),S>=this.values.length&&(S=this.values.length-1);for(let v=f;v<=S;v++)this.prefixSum[v]=this.prefixSum[v-1]+this.values[v];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],S),this.prefixSum[S]}getIndexOf(S){S=Math.floor(S),this.getTotalSum();let f=0,v=this.values.length-1,o=0,i=0,t=0;for(;f<=v;)if(o=f+(v-f)/2|0,i=this.prefixSum[o],t=i-this.values[o],S<t)v=o-1;else if(S>=i)f=o+1;else break;return new _(o,S-t)}}e.PrefixSumComputer=L;class D{constructor(S){this._values=S,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(S){return this._ensureValid(),S===0?0:this._prefixSum[S-1]}getIndexOf(S){this._ensureValid();const f=this._indexBySum[S],v=f>0?this._prefixSum[f-1]:0;return new _(f,S-v)}removeValues(S,f){this._values.splice(S,f),this._invalidate(S)}insertValues(S,f){this._values=(0,y.arrayInsert)(this._values,S,f),this._invalidate(S)}_invalidate(S){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,S-1)}_ensureValid(){if(!this._isValid){for(let S=this._validEndIndex+1,f=this._values.length;S<f;S++){const v=this._values[S],o=S>0?this._prefixSum[S-1]:0;this._prefixSum[S]=o+v;for(let i=0;i<v;i++)this._indexBySum[o+i]=S}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(S,f){this._values[S]!==f&&(this._values[S]=f,this._invalidate(S))}}e.ConstantTimePrefixSumComputer=D;class _{constructor(S,f){this.index=S,this.remainder=f,this._prefixSumIndexOfResultBrand=void 0,this.index=S,this.remainder=f}}e.PrefixSumIndexOfResult=_}),define(J[506],ee([1,0,9,11,280]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(m,S,f,v){this._uri=m,this._lines=S,this._eol=f,this._versionId=v,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(m){m.eol&&m.eol!==this._eol&&(this._eol=m.eol,this._lineStarts=null);const S=m.changes;for(const f of S)this._acceptDeleteRange(f.range),this._acceptInsertText(new k.Position(f.range.startLineNumber,f.range.startColumn),f.text);this._versionId=m.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const m=this._eol.length,S=this._lines.length,f=new Uint32Array(S);for(let v=0;v<S;v++)f[v]=this._lines[v].length+m;this._lineStarts=new L.PrefixSumComputer(f)}}_setLineText(m,S){this._lines[m]=S,this._lineStarts&&this._lineStarts.setValue(m,this._lines[m].length+this._eol.length)}_acceptDeleteRange(m){if(m.startLineNumber===m.endLineNumber){if(m.startColumn===m.endColumn)return;this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.startLineNumber-1].substring(m.endColumn-1));return}this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.endLineNumber-1].substring(m.endColumn-1)),this._lines.splice(m.startLineNumber,m.endLineNumber-m.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(m.startLineNumber,m.endLineNumber-m.startLineNumber)}_acceptInsertText(m,S){if(S.length===0)return;const f=(0,y.splitLines)(S);if(f.length===1){this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+f[0]+this._lines[m.lineNumber-1].substring(m.column-1));return}f[f.length-1]+=this._lines[m.lineNumber-1].substring(m.column-1),this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+f[0]);const v=new Uint32Array(f.length-1);for(let o=1;o<f.length;o++)this._lines.splice(m.lineNumber+o-1,0,f[o]),v[o-1]=f[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(m.lineNumber,v)}}e.MirrorTextModel=D}),define(J[281],ee([1,0,2]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class k extends y.Disposable{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=k}),define(J[183],ee([1,0,9,148,11,5,47]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.isMultilineRegexSource=e.SearchParams=void 0;const m=999;class S{constructor(s,u,a,d){this.searchString=s,this.isRegex=u,this.matchCase=a,this.wordSeparators=d}parseSearchRequest(){if(this.searchString==="")return null;let s;this.isRegex?s=f(this.searchString):s=this.searchString.indexOf(`
`)>=0;let u=null;try{u=y.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:s,global:!0,unicode:!0})}catch{return null}if(!u)return null;let a=!this.isRegex&&!s;return a&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(a=this.matchCase),new _.SearchData(u,this.wordSeparators?(0,k.getMapForWordSeparators)(this.wordSeparators):null,a?this.searchString:null)}}e.SearchParams=S;function f(h){if(!h||h.length===0)return!1;for(let s=0,u=h.length;s<u;s++){const a=h.charCodeAt(s);if(a===10)return!0;if(a===92){if(s++,s>=u)break;const d=h.charCodeAt(s);if(d===110||d===114||d===87)return!0}}return!1}e.isMultilineRegexSource=f;function v(h,s,u){if(!u)return new _.FindMatch(h,null);const a=[];for(let d=0,c=s.length;d<c;d++)a[d]=s[d];return new _.FindMatch(h,a)}e.createFindMatch=v;class o{constructor(s){const u=[];let a=0;for(let d=0,c=s.length;d<c;d++)s.charCodeAt(d)===10&&(u[a++]=d);this._lineFeedsOffsets=u}findLineFeedCountBeforeOffset(s){const u=this._lineFeedsOffsets;let a=0,d=u.length-1;if(d===-1||s<=u[0])return 0;for(;a<d;){const c=a+((d-a)/2>>0);u[c]>=s?d=c-1:u[c+1]>=s?(a=c,d=c):a=c+1}return a+1}}class i{static findMatches(s,u,a,d,c){const b=u.parseSearchRequest();return b?b.regex.multiline?this._doFindMatchesMultiline(s,a,new l(b.wordSeparators,b.regex),d,c):this._doFindMatchesLineByLine(s,a,b,d,c):[]}static _getMultilineMatchRange(s,u,a,d,c,b){let g,p=0;d?(p=d.findLineFeedCountBeforeOffset(c),g=u+c+p):g=u+c;let C;if(d){const T=d.findLineFeedCountBeforeOffset(c+b.length)-p;C=g+b.length+T}else C=g+b.length;const w=s.getPositionAt(g),E=s.getPositionAt(C);return new D.Range(w.lineNumber,w.column,E.lineNumber,E.column)}static _doFindMatchesMultiline(s,u,a,d,c){const b=s.getOffsetAt(u.getStartPosition()),g=s.getValueInRange(u,1),p=s.getEOL()===`\r
`?new o(g):null,C=[];let w=0,E;for(a.reset(0);E=a.next(g);)if(C[w++]=v(this._getMultilineMatchRange(s,b,g,p,E.index,E[0]),E,d),w>=c)return C;return C}static _doFindMatchesLineByLine(s,u,a,d,c){const b=[];let g=0;if(u.startLineNumber===u.endLineNumber){const C=s.getLineContent(u.startLineNumber).substring(u.startColumn-1,u.endColumn-1);return g=this._findMatchesInLine(a,C,u.startLineNumber,u.startColumn-1,g,b,d,c),b}const p=s.getLineContent(u.startLineNumber).substring(u.startColumn-1);g=this._findMatchesInLine(a,p,u.startLineNumber,u.startColumn-1,g,b,d,c);for(let C=u.startLineNumber+1;C<u.endLineNumber&&g<c;C++)g=this._findMatchesInLine(a,s.getLineContent(C),C,0,g,b,d,c);if(g<c){const C=s.getLineContent(u.endLineNumber).substring(0,u.endColumn-1);g=this._findMatchesInLine(a,C,u.endLineNumber,0,g,b,d,c)}return b}static _findMatchesInLine(s,u,a,d,c,b,g,p){const C=s.wordSeparators;if(!g&&s.simpleSearch){const I=s.simpleSearch,T=I.length,P=u.length;let A=-T;for(;(A=u.indexOf(I,A+T))!==-1;)if((!C||r(C,u,P,A,T))&&(b[c++]=new _.FindMatch(new D.Range(a,A+1+d,a,A+1+T+d),null),c>=p))return c;return c}const w=new l(s.wordSeparators,s.regex);let E;w.reset(0);do if(E=w.next(u),E&&(b[c++]=v(new D.Range(a,E.index+1+d,a,E.index+1+E[0].length+d),E,g),c>=p))return c;while(E);return c}static findNextMatch(s,u,a,d){const c=u.parseSearchRequest();if(!c)return null;const b=new l(c.wordSeparators,c.regex);return c.regex.multiline?this._doFindNextMatchMultiline(s,a,b,d):this._doFindNextMatchLineByLine(s,a,b,d)}static _doFindNextMatchMultiline(s,u,a,d){const c=new L.Position(u.lineNumber,1),b=s.getOffsetAt(c),g=s.getLineCount(),p=s.getValueInRange(new D.Range(c.lineNumber,c.column,g,s.getLineMaxColumn(g)),1),C=s.getEOL()===`\r
`?new o(p):null;a.reset(u.column-1);const w=a.next(p);return w?v(this._getMultilineMatchRange(s,b,p,C,w.index,w[0]),w,d):u.lineNumber!==1||u.column!==1?this._doFindNextMatchMultiline(s,new L.Position(1,1),a,d):null}static _doFindNextMatchLineByLine(s,u,a,d){const c=s.getLineCount(),b=u.lineNumber,g=s.getLineContent(b),p=this._findFirstMatchInLine(a,g,b,u.column,d);if(p)return p;for(let C=1;C<=c;C++){const w=(b+C-1)%c,E=s.getLineContent(w+1),I=this._findFirstMatchInLine(a,E,w+1,1,d);if(I)return I}return null}static _findFirstMatchInLine(s,u,a,d,c){s.reset(d-1);const b=s.next(u);return b?v(new D.Range(a,b.index+1,a,b.index+1+b[0].length),b,c):null}static findPreviousMatch(s,u,a,d){const c=u.parseSearchRequest();if(!c)return null;const b=new l(c.wordSeparators,c.regex);return c.regex.multiline?this._doFindPreviousMatchMultiline(s,a,b,d):this._doFindPreviousMatchLineByLine(s,a,b,d)}static _doFindPreviousMatchMultiline(s,u,a,d){const c=this._doFindMatchesMultiline(s,new D.Range(1,1,u.lineNumber,u.column),a,d,10*m);if(c.length>0)return c[c.length-1];const b=s.getLineCount();return u.lineNumber!==b||u.column!==s.getLineMaxColumn(b)?this._doFindPreviousMatchMultiline(s,new L.Position(b,s.getLineMaxColumn(b)),a,d):null}static _doFindPreviousMatchLineByLine(s,u,a,d){const c=s.getLineCount(),b=u.lineNumber,g=s.getLineContent(b).substring(0,u.column-1),p=this._findLastMatchInLine(a,g,b,d);if(p)return p;for(let C=1;C<=c;C++){const w=(c+b-C-1)%c,E=s.getLineContent(w+1),I=this._findLastMatchInLine(a,E,w+1,d);if(I)return I}return null}static _findLastMatchInLine(s,u,a,d){let c=null,b;for(s.reset(0);b=s.next(u);)c=v(new D.Range(a,b.index+1,a,b.index+1+b[0].length),b,d);return c}}e.TextModelSearch=i;function t(h,s,u,a,d){if(a===0)return!0;const c=s.charCodeAt(a-1);if(h.get(c)!==0||c===13||c===10)return!0;if(d>0){const b=s.charCodeAt(a);if(h.get(b)!==0)return!0}return!1}function n(h,s,u,a,d){if(a+d===u)return!0;const c=s.charCodeAt(a+d);if(h.get(c)!==0||c===13||c===10)return!0;if(d>0){const b=s.charCodeAt(a+d-1);if(h.get(b)!==0)return!0}return!1}function r(h,s,u,a,d){return t(h,s,u,a,d)&&n(h,s,u,a,d)}e.isValidMatch=r;class l{constructor(s,u){this._wordSeparators=s,this._searchRegex=u,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(s){this._searchRegex.lastIndex=s,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(s){const u=s.length;let a;do{if(this._prevMatchStartIndex+this._prevMatchLength===u||(a=this._searchRegex.exec(s),!a))return null;const d=a.index,c=a[0].length;if(d===this._prevMatchStartIndex&&c===this._prevMatchLength){if(c===0){y.getNextCodePoint(s,u,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=d,this._prevMatchLength=c,!this._wordSeparators||r(this._wordSeparators,s,u,d,c))return a}while(a);return null}}e.Searcher=l}),define(J[282],ee([1,0,11,5,47,505,183]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=void 0;const m=65535;function S(h){let s;return h[h.length-1]<65536?s=new Uint16Array(h.length):s=new Uint32Array(h.length),s.set(h,0),s}class f{constructor(s,u,a,d,c){this.lineStarts=s,this.cr=u,this.lf=a,this.crlf=d,this.isBasicASCII=c}}function v(h,s=!0){const u=[0];let a=1;for(let d=0,c=h.length;d<c;d++){const b=h.charCodeAt(d);b===13?d+1<c&&h.charCodeAt(d+1)===10?(u[a++]=d+2,d++):u[a++]=d+1:b===10&&(u[a++]=d+1)}return s?S(u):u}e.createLineStartsFast=v;function o(h,s){h.length=0,h[0]=0;let u=1,a=0,d=0,c=0,b=!0;for(let p=0,C=s.length;p<C;p++){const w=s.charCodeAt(p);w===13?p+1<C&&s.charCodeAt(p+1)===10?(c++,h[u++]=p+2,p++):(a++,h[u++]=p+1):w===10?(d++,h[u++]=p+1):b&&w!==9&&(w<32||w>126)&&(b=!1)}const g=new f(S(h),a,d,c,b);return h.length=0,g}e.createLineStarts=o;class i{constructor(s,u,a,d,c){this.bufferIndex=s,this.start=u,this.end=a,this.lineFeedCnt=d,this.length=c}}e.Piece=i;class t{constructor(s,u){this.buffer=s,this.lineStarts=u}}e.StringBuffer=t;class n{constructor(s,u){this._pieces=[],this._tree=s,this._BOM=u,this._index=0,s.root!==D.SENTINEL&&s.iterate(s.root,a=>(a!==D.SENTINEL&&this._pieces.push(a.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class r{constructor(s){this._limit=s,this._cache=[]}get(s){for(let u=this._cache.length-1;u>=0;u--){const a=this._cache[u];if(a.nodeStartOffset<=s&&a.nodeStartOffset+a.node.piece.length>=s)return a}return null}get2(s){for(let u=this._cache.length-1;u>=0;u--){const a=this._cache[u];if(a.nodeStartLineNumber&&a.nodeStartLineNumber<s&&a.nodeStartLineNumber+a.node.piece.lineFeedCnt>=s)return a}return null}set(s){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(s)}validate(s){let u=!1;const a=this._cache;for(let d=0;d<a.length;d++){const c=a[d];if(c.node.parent===null||c.nodeStartOffset>=s){a[d]=null,u=!0;continue}}if(u){const d=[];for(const c of a)c!==null&&d.push(c);this._cache=d}}}class l{constructor(s,u,a){this.create(s,u,a)}create(s,u,a){this._buffers=[new t("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=D.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=u,this._EOLLength=u.length,this._EOLNormalized=a;let d=null;for(let c=0,b=s.length;c<b;c++)if(s[c].buffer.length>0){s[c].lineStarts||(s[c].lineStarts=v(s[c].buffer));const g=new i(c+1,{line:0,column:0},{line:s[c].lineStarts.length-1,column:s[c].buffer.length-s[c].lineStarts[s[c].lineStarts.length-1]},s[c].lineStarts.length-1,s[c].buffer.length);this._buffers.push(s[c]),d=this.rbInsertRight(d,g)}this._searchCache=new r(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(s){const u=m,a=u-Math.floor(u/3),d=a*2;let c="",b=0;const g=[];if(this.iterate(this.root,p=>{const C=this.getNodeContent(p),w=C.length;if(b<=a||b+w<d)return c+=C,b+=w,!0;const E=c.replace(/\r\n|\r|\n/g,s);return g.push(new t(E,v(E))),c=C,b=w,!0}),b>0){const p=c.replace(/\r\n|\r|\n/g,s);g.push(new t(p,v(p)))}this.create(g,s,!0)}getEOL(){return this._EOL}setEOL(s){this._EOL=s,this._EOLLength=this._EOL.length,this.normalizeEOL(s)}createSnapshot(s){return new n(this,s)}getOffsetAt(s,u){let a=0,d=this.root;for(;d!==D.SENTINEL;)if(d.left!==D.SENTINEL&&d.lf_left+1>=s)d=d.left;else if(d.lf_left+d.piece.lineFeedCnt+1>=s){a+=d.size_left;const c=this.getAccumulatedValue(d,s-d.lf_left-2);return a+=c+u-1}else s-=d.lf_left+d.piece.lineFeedCnt,a+=d.size_left+d.piece.length,d=d.right;return a}getPositionAt(s){s=Math.floor(s),s=Math.max(0,s);let u=this.root,a=0;const d=s;for(;u!==D.SENTINEL;)if(u.size_left!==0&&u.size_left>=s)u=u.left;else if(u.size_left+u.piece.length>=s){const c=this.getIndexOf(u,s-u.size_left);if(a+=u.lf_left+c.index,c.index===0){const b=this.getOffsetAt(a+1,1),g=d-b;return new y.Position(a+1,g+1)}return new y.Position(a+1,c.remainder+1)}else if(s-=u.size_left+u.piece.length,a+=u.lf_left+u.piece.lineFeedCnt,u.right===D.SENTINEL){const c=this.getOffsetAt(a+1,1),b=d-s-c;return new y.Position(a+1,b+1)}else u=u.right;return new y.Position(1,1)}getValueInRange(s,u){if(s.startLineNumber===s.endLineNumber&&s.startColumn===s.endColumn)return"";const a=this.nodeAt2(s.startLineNumber,s.startColumn),d=this.nodeAt2(s.endLineNumber,s.endColumn),c=this.getValueInRange2(a,d);return u?u!==this._EOL||!this._EOLNormalized?c.replace(/\r\n|\r|\n/g,u):u===this.getEOL()&&this._EOLNormalized?c:c.replace(/\r\n|\r|\n/g,u):c}getValueInRange2(s,u){if(s.node===u.node){const g=s.node,p=this._buffers[g.piece.bufferIndex].buffer,C=this.offsetInBuffer(g.piece.bufferIndex,g.piece.start);return p.substring(C+s.remainder,C+u.remainder)}let a=s.node;const d=this._buffers[a.piece.bufferIndex].buffer,c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);let b=d.substring(c+s.remainder,c+a.piece.length);for(a=a.next();a!==D.SENTINEL;){const g=this._buffers[a.piece.bufferIndex].buffer,p=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);if(a===u.node){b+=g.substring(p,p+u.remainder);break}else b+=g.substr(p,a.piece.length);a=a.next()}return b}getLinesContent(){const s=[];let u=0,a="",d=!1;return this.iterate(this.root,c=>{if(c===D.SENTINEL)return!0;const b=c.piece;let g=b.length;if(g===0)return!0;const p=this._buffers[b.bufferIndex].buffer,C=this._buffers[b.bufferIndex].lineStarts,w=b.start.line,E=b.end.line;let I=C[w]+b.start.column;if(d&&(p.charCodeAt(I)===10&&(I++,g--),s[u++]=a,a="",d=!1,g===0))return!0;if(w===E)return!this._EOLNormalized&&p.charCodeAt(I+g-1)===13?(d=!0,a+=p.substr(I,g-1)):a+=p.substr(I,g),!0;a+=this._EOLNormalized?p.substring(I,Math.max(I,C[w+1]-this._EOLLength)):p.substring(I,C[w+1]).replace(/(\r\n|\r|\n)$/,""),s[u++]=a;for(let T=w+1;T<E;T++)a=this._EOLNormalized?p.substring(C[T],C[T+1]-this._EOLLength):p.substring(C[T],C[T+1]).replace(/(\r\n|\r|\n)$/,""),s[u++]=a;return!this._EOLNormalized&&p.charCodeAt(C[E]+b.end.column-1)===13?(d=!0,b.end.column===0?u--:a=p.substr(C[E],b.end.column-1)):a=p.substr(C[E],b.end.column),!0}),d&&(s[u++]=a,a=""),s[u++]=a,s}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(s){return this._lastVisitedLine.lineNumber===s?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=s,s===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(s):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(s,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(s).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(s){if(s.remainder===s.node.piece.length){const u=s.node.next();if(!u)return 0;const a=this._buffers[u.piece.bufferIndex],d=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start);return a.buffer.charCodeAt(d)}else{const u=this._buffers[s.node.piece.bufferIndex],d=this.offsetInBuffer(s.node.piece.bufferIndex,s.node.piece.start)+s.remainder;return u.buffer.charCodeAt(d)}}getLineCharCode(s,u){const a=this.nodeAt2(s,u+1);return this._getCharCode(a)}getLineLength(s){if(s===this.getLineCount()){const u=this.getOffsetAt(s,1);return this.getLength()-u}return this.getOffsetAt(s+1,1)-this.getOffsetAt(s,1)-this._EOLLength}findMatchesInNode(s,u,a,d,c,b,g,p,C,w,E){const I=this._buffers[s.piece.bufferIndex],T=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start),P=this.offsetInBuffer(s.piece.bufferIndex,c),A=this.offsetInBuffer(s.piece.bufferIndex,b);let M;const N={line:0,column:0};let O,x;u._wordSeparators?(O=I.buffer.substring(P,A),x=F=>F+P,u.reset(0)):(O=I.buffer,x=F=>F,u.reset(P));do if(M=u.next(O),M){if(x(M.index)>=A)return w;this.positionInBuffer(s,x(M.index)-T,N);const F=this.getLineFeedCnt(s.piece.bufferIndex,c,N),B=N.line===c.line?N.column-c.column+d:N.column+1,z=B+M[0].length;if(E[w++]=(0,_.createFindMatch)(new k.Range(a+F,B,a+F,z),M,p),x(M.index)+M[0].length>=A||w>=C)return w}while(M);return w}findMatchesLineByLine(s,u,a,d){const c=[];let b=0;const g=new _.Searcher(u.wordSeparators,u.regex);let p=this.nodeAt2(s.startLineNumber,s.startColumn);if(p===null)return[];const C=this.nodeAt2(s.endLineNumber,s.endColumn);if(C===null)return[];let w=this.positionInBuffer(p.node,p.remainder);const E=this.positionInBuffer(C.node,C.remainder);if(p.node===C.node)return this.findMatchesInNode(p.node,g,s.startLineNumber,s.startColumn,w,E,u,a,d,b,c),c;let I=s.startLineNumber,T=p.node;for(;T!==C.node;){const A=this.getLineFeedCnt(T.piece.bufferIndex,w,T.piece.end);if(A>=1){const N=this._buffers[T.piece.bufferIndex].lineStarts,O=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),x=N[w.line+A],F=I===s.startLineNumber?s.startColumn:1;if(b=this.findMatchesInNode(T,g,I,F,w,this.positionInBuffer(T,x-O),u,a,d,b,c),b>=d)return c;I+=A}const M=I===s.startLineNumber?s.startColumn-1:0;if(I===s.endLineNumber){const N=this.getLineContent(I).substring(M,s.endColumn-1);return b=this._findMatchesInLine(u,g,N,s.endLineNumber,M,b,c,a,d),c}if(b=this._findMatchesInLine(u,g,this.getLineContent(I).substr(M),I,M,b,c,a,d),b>=d)return c;I++,p=this.nodeAt2(I,1),T=p.node,w=this.positionInBuffer(p.node,p.remainder)}if(I===s.endLineNumber){const A=I===s.startLineNumber?s.startColumn-1:0,M=this.getLineContent(I).substring(A,s.endColumn-1);return b=this._findMatchesInLine(u,g,M,s.endLineNumber,A,b,c,a,d),c}const P=I===s.startLineNumber?s.startColumn:1;return b=this.findMatchesInNode(C.node,g,I,P,w,E,u,a,d,b,c),c}_findMatchesInLine(s,u,a,d,c,b,g,p,C){const w=s.wordSeparators;if(!p&&s.simpleSearch){const I=s.simpleSearch,T=I.length,P=a.length;let A=-T;for(;(A=a.indexOf(I,A+T))!==-1;)if((!w||(0,_.isValidMatch)(w,a,P,A,T))&&(g[b++]=new L.FindMatch(new k.Range(d,A+1+c,d,A+1+T+c),null),b>=C))return b;return b}let E;u.reset(0);do if(E=u.next(a),E&&(g[b++]=(0,_.createFindMatch)(new k.Range(d,E.index+1+c,d,E.index+1+E[0].length+c),E,p),b>=C))return b;while(E);return b}insert(s,u,a=!1){if(this._EOLNormalized=this._EOLNormalized&&a,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==D.SENTINEL){const{node:d,remainder:c,nodeStartOffset:b}=this.nodeAt(s),g=d.piece,p=g.bufferIndex,C=this.positionInBuffer(d,c);if(d.piece.bufferIndex===0&&g.end.line===this._lastChangeBufferPos.line&&g.end.column===this._lastChangeBufferPos.column&&b+g.length===s&&u.length<m){this.appendToNode(d,u),this.computeBufferMetadata();return}if(b===s)this.insertContentToNodeLeft(u,d),this._searchCache.validate(s);else if(b+d.piece.length>s){const w=[];let E=new i(g.bufferIndex,C,g.end,this.getLineFeedCnt(g.bufferIndex,C,g.end),this.offsetInBuffer(p,g.end)-this.offsetInBuffer(p,C));if(this.shouldCheckCRLF()&&this.endWithCR(u)&&this.nodeCharCodeAt(d,c)===10){const A={line:E.start.line+1,column:0};E=new i(E.bufferIndex,A,E.end,this.getLineFeedCnt(E.bufferIndex,A,E.end),E.length-1),u+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(u))if(this.nodeCharCodeAt(d,c-1)===13){const A=this.positionInBuffer(d,c-1);this.deleteNodeTail(d,A),u="\r"+u,d.piece.length===0&&w.push(d)}else this.deleteNodeTail(d,C);else this.deleteNodeTail(d,C);const I=this.createNewPieces(u);E.length>0&&this.rbInsertRight(d,E);let T=d;for(let P=0;P<I.length;P++)T=this.rbInsertRight(T,I[P]);this.deleteNodes(w)}else this.insertContentToNodeRight(u,d)}else{const d=this.createNewPieces(u);let c=this.rbInsertLeft(null,d[0]);for(let b=1;b<d.length;b++)c=this.rbInsertRight(c,d[b])}this.computeBufferMetadata()}delete(s,u){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",u<=0||this.root===D.SENTINEL)return;const a=this.nodeAt(s),d=this.nodeAt(s+u),c=a.node,b=d.node;if(c===b){const I=this.positionInBuffer(c,a.remainder),T=this.positionInBuffer(c,d.remainder);if(a.nodeStartOffset===s){if(u===c.piece.length){const P=c.next();(0,D.rbDelete)(this,c),this.validateCRLFWithPrevNode(P),this.computeBufferMetadata();return}this.deleteNodeHead(c,T),this._searchCache.validate(s),this.validateCRLFWithPrevNode(c),this.computeBufferMetadata();return}if(a.nodeStartOffset+c.piece.length===s+u){this.deleteNodeTail(c,I),this.validateCRLFWithNextNode(c),this.computeBufferMetadata();return}this.shrinkNode(c,I,T),this.computeBufferMetadata();return}const g=[],p=this.positionInBuffer(c,a.remainder);this.deleteNodeTail(c,p),this._searchCache.validate(s),c.piece.length===0&&g.push(c);const C=this.positionInBuffer(b,d.remainder);this.deleteNodeHead(b,C),b.piece.length===0&&g.push(b);const w=c.next();for(let I=w;I!==D.SENTINEL&&I!==b;I=I.next())g.push(I);const E=c.piece.length===0?c.prev():c;this.deleteNodes(g),this.validateCRLFWithNextNode(E),this.computeBufferMetadata()}insertContentToNodeLeft(s,u){const a=[];if(this.shouldCheckCRLF()&&this.endWithCR(s)&&this.startWithLF(u)){const b=u.piece,g={line:b.start.line+1,column:0},p=new i(b.bufferIndex,g,b.end,this.getLineFeedCnt(b.bufferIndex,g,b.end),b.length-1);u.piece=p,s+=`
`,(0,D.updateTreeMetadata)(this,u,-1,-1),u.piece.length===0&&a.push(u)}const d=this.createNewPieces(s);let c=this.rbInsertLeft(u,d[d.length-1]);for(let b=d.length-2;b>=0;b--)c=this.rbInsertLeft(c,d[b]);this.validateCRLFWithPrevNode(c),this.deleteNodes(a)}insertContentToNodeRight(s,u){this.adjustCarriageReturnFromNext(s,u)&&(s+=`
`);const a=this.createNewPieces(s),d=this.rbInsertRight(u,a[0]);let c=d;for(let b=1;b<a.length;b++)c=this.rbInsertRight(c,a[b]);this.validateCRLFWithPrevNode(d)}positionInBuffer(s,u,a){const d=s.piece,c=s.piece.bufferIndex,b=this._buffers[c].lineStarts,p=b[d.start.line]+d.start.column+u;let C=d.start.line,w=d.end.line,E=0,I=0,T=0;for(;C<=w&&(E=C+(w-C)/2|0,T=b[E],E!==w);)if(I=b[E+1],p<T)w=E-1;else if(p>=I)C=E+1;else break;return a?(a.line=E,a.column=p-T,null):{line:E,column:p-T}}getLineFeedCnt(s,u,a){if(a.column===0)return a.line-u.line;const d=this._buffers[s].lineStarts;if(a.line===d.length-1)return a.line-u.line;const c=d[a.line+1],b=d[a.line]+a.column;if(c>b+1)return a.line-u.line;const g=b-1;return this._buffers[s].buffer.charCodeAt(g)===13?a.line-u.line+1:a.line-u.line}offsetInBuffer(s,u){return this._buffers[s].lineStarts[u.line]+u.column}deleteNodes(s){for(let u=0;u<s.length;u++)(0,D.rbDelete)(this,s[u])}createNewPieces(s){if(s.length>m){const w=[];for(;s.length>m;){const I=s.charCodeAt(m-1);let T;I===13||I>=55296&&I<=56319?(T=s.substring(0,m-1),s=s.substring(m-1)):(T=s.substring(0,m),s=s.substring(m));const P=v(T);w.push(new i(this._buffers.length,{line:0,column:0},{line:P.length-1,column:T.length-P[P.length-1]},P.length-1,T.length)),this._buffers.push(new t(T,P))}const E=v(s);return w.push(new i(this._buffers.length,{line:0,column:0},{line:E.length-1,column:s.length-E[E.length-1]},E.length-1,s.length)),this._buffers.push(new t(s,E)),w}let u=this._buffers[0].buffer.length;const a=v(s,!1);let d=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===u&&u!==0&&this.startWithLF(s)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},d=this._lastChangeBufferPos;for(let w=0;w<a.length;w++)a[w]+=u+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1)),this._buffers[0].buffer+="_"+s,u+=1}else{if(u!==0)for(let w=0;w<a.length;w++)a[w]+=u;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1)),this._buffers[0].buffer+=s}const c=this._buffers[0].buffer.length,b=this._buffers[0].lineStarts.length-1,g=c-this._buffers[0].lineStarts[b],p={line:b,column:g},C=new i(0,d,p,this.getLineFeedCnt(0,d,p),c-u);return this._lastChangeBufferPos=p,[C]}getLineRawContent(s,u=0){let a=this.root,d="";const c=this._searchCache.get2(s);if(c){a=c.node;const b=this.getAccumulatedValue(a,s-c.nodeStartLineNumber-1),g=this._buffers[a.piece.bufferIndex].buffer,p=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);if(c.nodeStartLineNumber+a.piece.lineFeedCnt===s)d=g.substring(p+b,p+a.piece.length);else{const C=this.getAccumulatedValue(a,s-c.nodeStartLineNumber);return g.substring(p+b,p+C-u)}}else{let b=0;const g=s;for(;a!==D.SENTINEL;)if(a.left!==D.SENTINEL&&a.lf_left>=s-1)a=a.left;else if(a.lf_left+a.piece.lineFeedCnt>s-1){const p=this.getAccumulatedValue(a,s-a.lf_left-2),C=this.getAccumulatedValue(a,s-a.lf_left-1),w=this._buffers[a.piece.bufferIndex].buffer,E=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return b+=a.size_left,this._searchCache.set({node:a,nodeStartOffset:b,nodeStartLineNumber:g-(s-1-a.lf_left)}),w.substring(E+p,E+C-u)}else if(a.lf_left+a.piece.lineFeedCnt===s-1){const p=this.getAccumulatedValue(a,s-a.lf_left-2),C=this._buffers[a.piece.bufferIndex].buffer,w=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);d=C.substring(w+p,w+a.piece.length);break}else s-=a.lf_left+a.piece.lineFeedCnt,b+=a.size_left+a.piece.length,a=a.right}for(a=a.next();a!==D.SENTINEL;){const b=this._buffers[a.piece.bufferIndex].buffer;if(a.piece.lineFeedCnt>0){const g=this.getAccumulatedValue(a,0),p=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return d+=b.substring(p,p+g-u),d}else{const g=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);d+=b.substr(g,a.piece.length)}a=a.next()}return d}computeBufferMetadata(){let s=this.root,u=1,a=0;for(;s!==D.SENTINEL;)u+=s.lf_left+s.piece.lineFeedCnt,a+=s.size_left+s.piece.length,s=s.right;this._lineCnt=u,this._length=a,this._searchCache.validate(this._length)}getIndexOf(s,u){const a=s.piece,d=this.positionInBuffer(s,u),c=d.line-a.start.line;if(this.offsetInBuffer(a.bufferIndex,a.end)-this.offsetInBuffer(a.bufferIndex,a.start)===u){const b=this.getLineFeedCnt(s.piece.bufferIndex,a.start,d);if(b!==c)return{index:b,remainder:0}}return{index:c,remainder:d.column}}getAccumulatedValue(s,u){if(u<0)return 0;const a=s.piece,d=this._buffers[a.bufferIndex].lineStarts,c=a.start.line+u+1;return c>a.end.line?d[a.end.line]+a.end.column-d[a.start.line]-a.start.column:d[c]-d[a.start.line]-a.start.column}deleteNodeTail(s,u){const a=s.piece,d=a.lineFeedCnt,c=this.offsetInBuffer(a.bufferIndex,a.end),b=u,g=this.offsetInBuffer(a.bufferIndex,b),p=this.getLineFeedCnt(a.bufferIndex,a.start,b),C=p-d,w=g-c,E=a.length+w;s.piece=new i(a.bufferIndex,a.start,b,p,E),(0,D.updateTreeMetadata)(this,s,w,C)}deleteNodeHead(s,u){const a=s.piece,d=a.lineFeedCnt,c=this.offsetInBuffer(a.bufferIndex,a.start),b=u,g=this.getLineFeedCnt(a.bufferIndex,b,a.end),p=this.offsetInBuffer(a.bufferIndex,b),C=g-d,w=c-p,E=a.length+w;s.piece=new i(a.bufferIndex,b,a.end,g,E),(0,D.updateTreeMetadata)(this,s,w,C)}shrinkNode(s,u,a){const d=s.piece,c=d.start,b=d.end,g=d.length,p=d.lineFeedCnt,C=u,w=this.getLineFeedCnt(d.bufferIndex,d.start,C),E=this.offsetInBuffer(d.bufferIndex,u)-this.offsetInBuffer(d.bufferIndex,c);s.piece=new i(d.bufferIndex,d.start,C,w,E),(0,D.updateTreeMetadata)(this,s,E-g,w-p);const I=new i(d.bufferIndex,a,b,this.getLineFeedCnt(d.bufferIndex,a,b),this.offsetInBuffer(d.bufferIndex,b)-this.offsetInBuffer(d.bufferIndex,a)),T=this.rbInsertRight(s,I);this.validateCRLFWithPrevNode(T)}appendToNode(s,u){this.adjustCarriageReturnFromNext(u,s)&&(u+=`
`);const a=this.shouldCheckCRLF()&&this.startWithLF(u)&&this.endWithCR(s),d=this._buffers[0].buffer.length;this._buffers[0].buffer+=u;const c=v(u,!1);for(let T=0;T<c.length;T++)c[T]+=d;if(a){const T=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:d-T}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(c.slice(1));const b=this._buffers[0].lineStarts.length-1,g=this._buffers[0].buffer.length-this._buffers[0].lineStarts[b],p={line:b,column:g},C=s.piece.length+u.length,w=s.piece.lineFeedCnt,E=this.getLineFeedCnt(0,s.piece.start,p),I=E-w;s.piece=new i(s.piece.bufferIndex,s.piece.start,p,E,C),this._lastChangeBufferPos=p,(0,D.updateTreeMetadata)(this,s,u.length,I)}nodeAt(s){let u=this.root;const a=this._searchCache.get(s);if(a)return{node:a.node,nodeStartOffset:a.nodeStartOffset,remainder:s-a.nodeStartOffset};let d=0;for(;u!==D.SENTINEL;)if(u.size_left>s)u=u.left;else if(u.size_left+u.piece.length>=s){d+=u.size_left;const c={node:u,remainder:s-u.size_left,nodeStartOffset:d};return this._searchCache.set(c),c}else s-=u.size_left+u.piece.length,d+=u.size_left+u.piece.length,u=u.right;return null}nodeAt2(s,u){let a=this.root,d=0;for(;a!==D.SENTINEL;)if(a.left!==D.SENTINEL&&a.lf_left>=s-1)a=a.left;else if(a.lf_left+a.piece.lineFeedCnt>s-1){const c=this.getAccumulatedValue(a,s-a.lf_left-2),b=this.getAccumulatedValue(a,s-a.lf_left-1);return d+=a.size_left,{node:a,remainder:Math.min(c+u-1,b),nodeStartOffset:d}}else if(a.lf_left+a.piece.lineFeedCnt===s-1){const c=this.getAccumulatedValue(a,s-a.lf_left-2);if(c+u-1<=a.piece.length)return{node:a,remainder:c+u-1,nodeStartOffset:d};u-=a.piece.length-c;break}else s-=a.lf_left+a.piece.lineFeedCnt,d+=a.size_left+a.piece.length,a=a.right;for(a=a.next();a!==D.SENTINEL;){if(a.piece.lineFeedCnt>0){const c=this.getAccumulatedValue(a,0),b=this.offsetOfNode(a);return{node:a,remainder:Math.min(u-1,c),nodeStartOffset:b}}else if(a.piece.length>=u-1){const c=this.offsetOfNode(a);return{node:a,remainder:u-1,nodeStartOffset:c}}else u-=a.piece.length;a=a.next()}return null}nodeCharCodeAt(s,u){if(s.piece.lineFeedCnt<1)return-1;const a=this._buffers[s.piece.bufferIndex],d=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start)+u;return a.buffer.charCodeAt(d)}offsetOfNode(s){if(!s)return 0;let u=s.size_left;for(;s!==this.root;)s.parent.right===s&&(u+=s.parent.size_left+s.parent.piece.length),s=s.parent;return u}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(s){if(typeof s=="string")return s.charCodeAt(0)===10;if(s===D.SENTINEL||s.piece.lineFeedCnt===0)return!1;const u=s.piece,a=this._buffers[u.bufferIndex].lineStarts,d=u.start.line,c=a[d]+u.start.column;return d===a.length-1||a[d+1]>c+1?!1:this._buffers[u.bufferIndex].buffer.charCodeAt(c)===10}endWithCR(s){return typeof s=="string"?s.charCodeAt(s.length-1)===13:s===D.SENTINEL||s.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(s,s.piece.length-1)===13}validateCRLFWithPrevNode(s){if(this.shouldCheckCRLF()&&this.startWithLF(s)){const u=s.prev();this.endWithCR(u)&&this.fixCRLF(u,s)}}validateCRLFWithNextNode(s){if(this.shouldCheckCRLF()&&this.endWithCR(s)){const u=s.next();this.startWithLF(u)&&this.fixCRLF(s,u)}}fixCRLF(s,u){const a=[],d=this._buffers[s.piece.bufferIndex].lineStarts;let c;s.piece.end.column===0?c={line:s.piece.end.line-1,column:d[s.piece.end.line]-d[s.piece.end.line-1]-1}:c={line:s.piece.end.line,column:s.piece.end.column-1};const b=s.piece.length-1,g=s.piece.lineFeedCnt-1;s.piece=new i(s.piece.bufferIndex,s.piece.start,c,g,b),(0,D.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&a.push(s);const p={line:u.piece.start.line+1,column:0},C=u.piece.length-1,w=this.getLineFeedCnt(u.piece.bufferIndex,p,u.piece.end);u.piece=new i(u.piece.bufferIndex,p,u.piece.end,w,C),(0,D.updateTreeMetadata)(this,u,-1,-1),u.piece.length===0&&a.push(u);const E=this.createNewPieces(`\r
`);this.rbInsertRight(s,E[0]);for(let I=0;I<a.length;I++)(0,D.rbDelete)(this,a[I])}adjustCarriageReturnFromNext(s,u){if(this.shouldCheckCRLF()&&this.endWithCR(s)){const a=u.next();if(this.startWithLF(a)){if(s+=`
`,a.piece.length===1)(0,D.rbDelete)(this,a);else{const d=a.piece,c={line:d.start.line+1,column:0},b=d.length-1,g=this.getLineFeedCnt(d.bufferIndex,c,d.end);a.piece=new i(d.bufferIndex,c,d.end,g,b),(0,D.updateTreeMetadata)(this,a,-1,-1)}return!0}}return!1}iterate(s,u){if(s===D.SENTINEL)return u(D.SENTINEL);const a=this.iterate(s.left,u);return a&&u(s)&&this.iterate(s.right,u)}getNodeContent(s){if(s===D.SENTINEL)return"";const u=this._buffers[s.piece.bufferIndex],a=s.piece,d=this.offsetInBuffer(a.bufferIndex,a.start),c=this.offsetInBuffer(a.bufferIndex,a.end);return u.buffer.substring(d,c)}getPieceContent(s){const u=this._buffers[s.bufferIndex],a=this.offsetInBuffer(s.bufferIndex,s.start),d=this.offsetInBuffer(s.bufferIndex,s.end);return u.buffer.substring(a,d)}rbInsertRight(s,u){const a=new D.TreeNode(u,1);if(a.left=D.SENTINEL,a.right=D.SENTINEL,a.parent=D.SENTINEL,a.size_left=0,a.lf_left=0,this.root===D.SENTINEL)this.root=a,a.color=0;else if(s.right===D.SENTINEL)s.right=a,a.parent=s;else{const c=(0,D.leftest)(s.right);c.left=a,a.parent=c}return(0,D.fixInsert)(this,a),a}rbInsertLeft(s,u){const a=new D.TreeNode(u,1);if(a.left=D.SENTINEL,a.right=D.SENTINEL,a.parent=D.SENTINEL,a.size_left=0,a.lf_left=0,this.root===D.SENTINEL)this.root=a,a.color=0;else if(s.left===D.SENTINEL)s.left=a,a.parent=s;else{const d=(0,D.righttest)(s.left);d.right=a,a.parent=d}return(0,D.fixInsert)(this,a),a}}e.PieceTreeBase=l}),define(J[208],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function y(k,L){let D=0,_=0;const m=k.length;for(;_<m;){const S=k.charCodeAt(_);if(S===32)D++;else if(S===9)D=D-D%L+L;else break;_++}return _===m?-1:D}e.computeIndentLevel=y}),define(J[283],ee([1,0,85,11,47]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class D{constructor(o,i,t,n,r){this.injectionOffsets=o,this.injectionOptions=i,this.breakOffsets=t,this.breakOffsetsVisibleColumn=n,this.wrappedTextIndentLength=r}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(o){return o>0?this.wrappedTextIndentLength:0}getLineLength(o){const i=o>0?this.breakOffsets[o-1]:0;let n=this.breakOffsets[o]-i;return o>0&&(n+=this.wrappedTextIndentLength),n}getMaxOutputOffset(o){return this.getLineLength(o)}translateToInputOffset(o,i){o>0&&(i=Math.max(0,i-this.wrappedTextIndentLength));let n=o===0?i:this.breakOffsets[o-1]+i;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&n>this.injectionOffsets[r];r++)n<this.injectionOffsets[r]+this.injectionOptions[r].content.length?n=this.injectionOffsets[r]:n-=this.injectionOptions[r].content.length;return n}translateToOutputPosition(o,i=2){let t=o;if(this.injectionOffsets!==null)for(let n=0;n<this.injectionOffsets.length&&!(o<this.injectionOffsets[n]||i!==1&&o===this.injectionOffsets[n]);n++)t+=this.injectionOptions[n].content.length;return this.offsetInInputWithInjectionsToOutputPosition(t,i)}offsetInInputWithInjectionsToOutputPosition(o,i=2){let t=0,n=this.breakOffsets.length-1,r=0,l=0;for(;t<=n;){r=t+(n-t)/2|0;const s=this.breakOffsets[r];if(l=r>0?this.breakOffsets[r-1]:0,i===0)if(o<=l)n=r-1;else if(o>s)t=r+1;else break;else if(o<l)n=r-1;else if(o>=s)t=r+1;else break}let h=o-l;return r>0&&(h+=this.wrappedTextIndentLength),new f(r,h)}normalizeOutputPosition(o,i,t){if(this.injectionOffsets!==null){const n=this.outputPositionToOffsetInInputWithInjections(o,i),r=this.normalizeOffsetInInputWithInjectionsAroundInjections(n,t);if(r!==n)return this.offsetInInputWithInjectionsToOutputPosition(r,t)}if(t===0){if(o>0&&i===this.getMinOutputOffset(o))return new f(o-1,this.getMaxOutputOffset(o-1))}else if(t===1){const n=this.getOutputLineCount()-1;if(o<n&&i===this.getMaxOutputOffset(o))return new f(o+1,this.getMinOutputOffset(o+1))}return new f(o,i)}outputPositionToOffsetInInputWithInjections(o,i){return o>0&&(i=Math.max(0,i-this.wrappedTextIndentLength)),(o>0?this.breakOffsets[o-1]:0)+i}normalizeOffsetInInputWithInjectionsAroundInjections(o,i){const t=this.getInjectedTextAtOffset(o);if(!t)return o;if(i===2){if(o===t.offsetInInputWithInjections+t.length&&_(this.injectionOptions[t.injectedTextIndex].cursorStops))return t.offsetInInputWithInjections+t.length;{let n=t.offsetInInputWithInjections;if(m(this.injectionOptions[t.injectedTextIndex].cursorStops))return n;let r=t.injectedTextIndex-1;for(;r>=0&&this.injectionOffsets[r]===this.injectionOffsets[t.injectedTextIndex]&&!(_(this.injectionOptions[r].cursorStops)||(n-=this.injectionOptions[r].content.length,m(this.injectionOptions[r].cursorStops)));)r--;return n}}else if(i===1||i===4){let n=t.offsetInInputWithInjections+t.length,r=t.injectedTextIndex;for(;r+1<this.injectionOffsets.length&&this.injectionOffsets[r+1]===this.injectionOffsets[r];)n+=this.injectionOptions[r+1].content.length,r++;return n}else if(i===0||i===3){let n=t.offsetInInputWithInjections,r=t.injectedTextIndex;for(;r-1>=0&&this.injectionOffsets[r-1]===this.injectionOffsets[r];)n-=this.injectionOptions[r-1].content.length,r--;return n}(0,y.assertNever)(i)}getInjectedText(o,i){const t=this.outputPositionToOffsetInInputWithInjections(o,i),n=this.getInjectedTextAtOffset(t);return n?{options:this.injectionOptions[n.injectedTextIndex]}:null}getInjectedTextAtOffset(o){const i=this.injectionOffsets,t=this.injectionOptions;if(i!==null){let n=0;for(let r=0;r<i.length;r++){const l=t[r].content.length,h=i[r]+n,s=i[r]+n+l;if(h>o)break;if(o<=s)return{injectedTextIndex:r,offsetInInputWithInjections:h,length:l};n+=l}}}}e.ModelLineProjectionData=D;function _(v){return v==null?!0:v===L.InjectedTextCursorStops.Right||v===L.InjectedTextCursorStops.Both}function m(v){return v==null?!0:v===L.InjectedTextCursorStops.Left||v===L.InjectedTextCursorStops.Both}class S{constructor(o){this.options=o}}e.InjectedText=S;class f{constructor(o,i){this.outputLineIndex=o,this.outputOffset=i}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(o){return new k.Position(o+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=f}),define(J[284],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DraggedTreeItemsIdentifier=e.TreeViewsDnDService=void 0;class y{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(D){if(D&&this._dragOperations.has(D)){const _=this._dragOperations.get(D);return this._dragOperations.delete(D),_}}}e.TreeViewsDnDService=y;class k{constructor(D){this.identifier=D}}e.DraggedTreeItemsIdentifier=k}),define(J[285],ee([1,0,5,183,9,85,149]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class m{static computeUnicodeHighlights(i,t,n){const r=n?n.startLineNumber:1,l=n?n.endLineNumber:i.getLineCount(),h=new f(t),s=h.getCandidateCodePoints();let u;s==="allNonBasicAscii"?u=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):u=new RegExp(`${S(Array.from(s))}`,"g");const a=new k.Searcher(null,u),d=[];let c=!1,b,g=0,p=0,C=0;e:for(let w=r,E=l;w<=E;w++){const I=i.getLineContent(w),T=I.length;a.reset(0);do if(b=a.next(I),b){let P=b.index,A=b.index+b[0].length;if(P>0){const x=I.charCodeAt(P-1);L.isHighSurrogate(x)&&P--}if(A+1<T){const x=I.charCodeAt(A-1);L.isHighSurrogate(x)&&A++}const M=I.substring(P,A);let N=(0,_.getWordAtText)(P+1,_.DEFAULT_WORD_REGEXP,I,0);N&&N.endColumn<=P+1&&(N=null);const O=h.shouldHighlightNonBasicASCII(M,N?N.word:null);if(O!==0){O===3?g++:O===2?p++:O===1?C++:(0,D.assertNever)(O);const x=1e3;if(d.length>=x){c=!0;break e}d.push(new y.Range(w,P+1,w,A+1))}}while(b)}return{ranges:d,hasMore:c,ambiguousCharacterCount:g,invisibleCharacterCount:p,nonBasicAsciiCharacterCount:C}}static computeUnicodeHighlightReason(i,t){const n=new f(t);switch(n.shouldHighlightNonBasicASCII(i,null)){case 0:return null;case 2:return{kind:1};case 3:{const l=i.codePointAt(0),h=n.ambiguousCharacters.getPrimaryConfusable(l),s=L.AmbiguousCharacters.getLocales().filter(u=>!L.AmbiguousCharacters.getInstance(new Set([...t.allowedLocales,u])).isAmbiguous(l));return{kind:0,confusableWith:String.fromCodePoint(h),notAmbiguousInLocales:s}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=m;function S(o,i){return`[${L.escapeRegExpCharacters(o.map(n=>String.fromCodePoint(n)).join(""))}]`}class f{constructor(i){this.options=i,this.allowedCodePoints=new Set(i.allowedCodePoints),this.ambiguousCharacters=L.AmbiguousCharacters.getInstance(new Set(i.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const i=new Set;if(this.options.invisibleCharacters)for(const t of L.InvisibleCharacters.codePoints)v(String.fromCodePoint(t))||i.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())i.add(t);for(const t of this.allowedCodePoints)i.delete(t);return i}shouldHighlightNonBasicASCII(i,t){const n=i.codePointAt(0);if(this.allowedCodePoints.has(n))return 0;if(this.options.nonBasicASCII)return 1;let r=!1,l=!1;if(t)for(const h of t){const s=h.codePointAt(0),u=L.isBasicASCII(h);r=r||u,!u&&!this.ambiguousCharacters.isAmbiguous(s)&&!L.InvisibleCharacters.isInvisibleCharacter(s)&&(l=!0)}return!r&&l?0:this.options.invisibleCharacters&&!v(i)&&L.InvisibleCharacters.isInvisibleCharacter(n)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(n)?3:0}}function v(o){return o===" "||o===`
`||o==="	"}}),define(J[209],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.GlyphMarginLane=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var y;(function(R){R[R.Unknown=0]="Unknown",R[R.Disabled=1]="Disabled",R[R.Enabled=2]="Enabled"})(y||(e.AccessibilitySupport=y={}));var k;(function(R){R[R.Invoke=1]="Invoke",R[R.Auto=2]="Auto"})(k||(e.CodeActionTriggerType=k={}));var L;(function(R){R[R.None=0]="None",R[R.KeepWhitespace=1]="KeepWhitespace",R[R.InsertAsSnippet=4]="InsertAsSnippet"})(L||(e.CompletionItemInsertTextRule=L={}));var D;(function(R){R[R.Method=0]="Method",R[R.Function=1]="Function",R[R.Constructor=2]="Constructor",R[R.Field=3]="Field",R[R.Variable=4]="Variable",R[R.Class=5]="Class",R[R.Struct=6]="Struct",R[R.Interface=7]="Interface",R[R.Module=8]="Module",R[R.Property=9]="Property",R[R.Event=10]="Event",R[R.Operator=11]="Operator",R[R.Unit=12]="Unit",R[R.Value=13]="Value",R[R.Constant=14]="Constant",R[R.Enum=15]="Enum",R[R.EnumMember=16]="EnumMember",R[R.Keyword=17]="Keyword",R[R.Text=18]="Text",R[R.Color=19]="Color",R[R.File=20]="File",R[R.Reference=21]="Reference",R[R.Customcolor=22]="Customcolor",R[R.Folder=23]="Folder",R[R.TypeParameter=24]="TypeParameter",R[R.User=25]="User",R[R.Issue=26]="Issue",R[R.Snippet=27]="Snippet"})(D||(e.CompletionItemKind=D={}));var _;(function(R){R[R.Deprecated=1]="Deprecated"})(_||(e.CompletionItemTag=_={}));var m;(function(R){R[R.Invoke=0]="Invoke",R[R.TriggerCharacter=1]="TriggerCharacter",R[R.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(m||(e.CompletionTriggerKind=m={}));var S;(function(R){R[R.EXACT=0]="EXACT",R[R.ABOVE=1]="ABOVE",R[R.BELOW=2]="BELOW"})(S||(e.ContentWidgetPositionPreference=S={}));var f;(function(R){R[R.NotSet=0]="NotSet",R[R.ContentFlush=1]="ContentFlush",R[R.RecoverFromMarkers=2]="RecoverFromMarkers",R[R.Explicit=3]="Explicit",R[R.Paste=4]="Paste",R[R.Undo=5]="Undo",R[R.Redo=6]="Redo"})(f||(e.CursorChangeReason=f={}));var v;(function(R){R[R.LF=1]="LF",R[R.CRLF=2]="CRLF"})(v||(e.DefaultEndOfLine=v={}));var o;(function(R){R[R.Text=0]="Text",R[R.Read=1]="Read",R[R.Write=2]="Write"})(o||(e.DocumentHighlightKind=o={}));var i;(function(R){R[R.None=0]="None",R[R.Keep=1]="Keep",R[R.Brackets=2]="Brackets",R[R.Advanced=3]="Advanced",R[R.Full=4]="Full"})(i||(e.EditorAutoIndentStrategy=i={}));var t;(function(R){R[R.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",R[R.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",R[R.accessibilitySupport=2]="accessibilitySupport",R[R.accessibilityPageSize=3]="accessibilityPageSize",R[R.ariaLabel=4]="ariaLabel",R[R.ariaRequired=5]="ariaRequired",R[R.autoClosingBrackets=6]="autoClosingBrackets",R[R.screenReaderAnnounceInlineSuggestion=7]="screenReaderAnnounceInlineSuggestion",R[R.autoClosingDelete=8]="autoClosingDelete",R[R.autoClosingOvertype=9]="autoClosingOvertype",R[R.autoClosingQuotes=10]="autoClosingQuotes",R[R.autoIndent=11]="autoIndent",R[R.automaticLayout=12]="automaticLayout",R[R.autoSurround=13]="autoSurround",R[R.bracketPairColorization=14]="bracketPairColorization",R[R.guides=15]="guides",R[R.codeLens=16]="codeLens",R[R.codeLensFontFamily=17]="codeLensFontFamily",R[R.codeLensFontSize=18]="codeLensFontSize",R[R.colorDecorators=19]="colorDecorators",R[R.colorDecoratorsLimit=20]="colorDecoratorsLimit",R[R.columnSelection=21]="columnSelection",R[R.comments=22]="comments",R[R.contextmenu=23]="contextmenu",R[R.copyWithSyntaxHighlighting=24]="copyWithSyntaxHighlighting",R[R.cursorBlinking=25]="cursorBlinking",R[R.cursorSmoothCaretAnimation=26]="cursorSmoothCaretAnimation",R[R.cursorStyle=27]="cursorStyle",R[R.cursorSurroundingLines=28]="cursorSurroundingLines",R[R.cursorSurroundingLinesStyle=29]="cursorSurroundingLinesStyle",R[R.cursorWidth=30]="cursorWidth",R[R.disableLayerHinting=31]="disableLayerHinting",R[R.disableMonospaceOptimizations=32]="disableMonospaceOptimizations",R[R.domReadOnly=33]="domReadOnly",R[R.dragAndDrop=34]="dragAndDrop",R[R.dropIntoEditor=35]="dropIntoEditor",R[R.emptySelectionClipboard=36]="emptySelectionClipboard",R[R.experimentalWhitespaceRendering=37]="experimentalWhitespaceRendering",R[R.extraEditorClassName=38]="extraEditorClassName",R[R.fastScrollSensitivity=39]="fastScrollSensitivity",R[R.find=40]="find",R[R.fixedOverflowWidgets=41]="fixedOverflowWidgets",R[R.folding=42]="folding",R[R.foldingStrategy=43]="foldingStrategy",R[R.foldingHighlight=44]="foldingHighlight",R[R.foldingImportsByDefault=45]="foldingImportsByDefault",R[R.foldingMaximumRegions=46]="foldingMaximumRegions",R[R.unfoldOnClickAfterEndOfLine=47]="unfoldOnClickAfterEndOfLine",R[R.fontFamily=48]="fontFamily",R[R.fontInfo=49]="fontInfo",R[R.fontLigatures=50]="fontLigatures",R[R.fontSize=51]="fontSize",R[R.fontWeight=52]="fontWeight",R[R.fontVariations=53]="fontVariations",R[R.formatOnPaste=54]="formatOnPaste",R[R.formatOnType=55]="formatOnType",R[R.glyphMargin=56]="glyphMargin",R[R.gotoLocation=57]="gotoLocation",R[R.hideCursorInOverviewRuler=58]="hideCursorInOverviewRuler",R[R.hover=59]="hover",R[R.inDiffEditor=60]="inDiffEditor",R[R.inlineSuggest=61]="inlineSuggest",R[R.letterSpacing=62]="letterSpacing",R[R.lightbulb=63]="lightbulb",R[R.lineDecorationsWidth=64]="lineDecorationsWidth",R[R.lineHeight=65]="lineHeight",R[R.lineNumbers=66]="lineNumbers",R[R.lineNumbersMinChars=67]="lineNumbersMinChars",R[R.linkedEditing=68]="linkedEditing",R[R.links=69]="links",R[R.matchBrackets=70]="matchBrackets",R[R.minimap=71]="minimap",R[R.mouseStyle=72]="mouseStyle",R[R.mouseWheelScrollSensitivity=73]="mouseWheelScrollSensitivity",R[R.mouseWheelZoom=74]="mouseWheelZoom",R[R.multiCursorMergeOverlapping=75]="multiCursorMergeOverlapping",R[R.multiCursorModifier=76]="multiCursorModifier",R[R.multiCursorPaste=77]="multiCursorPaste",R[R.multiCursorLimit=78]="multiCursorLimit",R[R.occurrencesHighlight=79]="occurrencesHighlight",R[R.overviewRulerBorder=80]="overviewRulerBorder",R[R.overviewRulerLanes=81]="overviewRulerLanes",R[R.padding=82]="padding",R[R.pasteAs=83]="pasteAs",R[R.parameterHints=84]="parameterHints",R[R.peekWidgetDefaultFocus=85]="peekWidgetDefaultFocus",R[R.definitionLinkOpensInPeek=86]="definitionLinkOpensInPeek",R[R.quickSuggestions=87]="quickSuggestions",R[R.quickSuggestionsDelay=88]="quickSuggestionsDelay",R[R.readOnly=89]="readOnly",R[R.readOnlyMessage=90]="readOnlyMessage",R[R.renameOnType=91]="renameOnType",R[R.renderControlCharacters=92]="renderControlCharacters",R[R.renderFinalNewline=93]="renderFinalNewline",R[R.renderLineHighlight=94]="renderLineHighlight",R[R.renderLineHighlightOnlyWhenFocus=95]="renderLineHighlightOnlyWhenFocus",R[R.renderValidationDecorations=96]="renderValidationDecorations",R[R.renderWhitespace=97]="renderWhitespace",R[R.revealHorizontalRightPadding=98]="revealHorizontalRightPadding",R[R.roundedSelection=99]="roundedSelection",R[R.rulers=100]="rulers",R[R.scrollbar=101]="scrollbar",R[R.scrollBeyondLastColumn=102]="scrollBeyondLastColumn",R[R.scrollBeyondLastLine=103]="scrollBeyondLastLine",R[R.scrollPredominantAxis=104]="scrollPredominantAxis",R[R.selectionClipboard=105]="selectionClipboard",R[R.selectionHighlight=106]="selectionHighlight",R[R.selectOnLineNumbers=107]="selectOnLineNumbers",R[R.showFoldingControls=108]="showFoldingControls",R[R.showUnused=109]="showUnused",R[R.snippetSuggestions=110]="snippetSuggestions",R[R.smartSelect=111]="smartSelect",R[R.smoothScrolling=112]="smoothScrolling",R[R.stickyScroll=113]="stickyScroll",R[R.stickyTabStops=114]="stickyTabStops",R[R.stopRenderingLineAfter=115]="stopRenderingLineAfter",R[R.suggest=116]="suggest",R[R.suggestFontSize=117]="suggestFontSize",R[R.suggestLineHeight=118]="suggestLineHeight",R[R.suggestOnTriggerCharacters=119]="suggestOnTriggerCharacters",R[R.suggestSelection=120]="suggestSelection",R[R.tabCompletion=121]="tabCompletion",R[R.tabIndex=122]="tabIndex",R[R.unicodeHighlighting=123]="unicodeHighlighting",R[R.unusualLineTerminators=124]="unusualLineTerminators",R[R.useShadowDOM=125]="useShadowDOM",R[R.useTabStops=126]="useTabStops",R[R.wordBreak=127]="wordBreak",R[R.wordSeparators=128]="wordSeparators",R[R.wordWrap=129]="wordWrap",R[R.wordWrapBreakAfterCharacters=130]="wordWrapBreakAfterCharacters",R[R.wordWrapBreakBeforeCharacters=131]="wordWrapBreakBeforeCharacters",R[R.wordWrapColumn=132]="wordWrapColumn",R[R.wordWrapOverride1=133]="wordWrapOverride1",R[R.wordWrapOverride2=134]="wordWrapOverride2",R[R.wrappingIndent=135]="wrappingIndent",R[R.wrappingStrategy=136]="wrappingStrategy",R[R.showDeprecated=137]="showDeprecated",R[R.inlayHints=138]="inlayHints",R[R.editorClassName=139]="editorClassName",R[R.pixelRatio=140]="pixelRatio",R[R.tabFocusMode=141]="tabFocusMode",R[R.layoutInfo=142]="layoutInfo",R[R.wrappingInfo=143]="wrappingInfo",R[R.defaultColorDecorators=144]="defaultColorDecorators",R[R.colorDecoratorsActivatedOn=145]="colorDecoratorsActivatedOn"})(t||(e.EditorOption=t={}));var n;(function(R){R[R.TextDefined=0]="TextDefined",R[R.LF=1]="LF",R[R.CRLF=2]="CRLF"})(n||(e.EndOfLinePreference=n={}));var r;(function(R){R[R.LF=0]="LF",R[R.CRLF=1]="CRLF"})(r||(e.EndOfLineSequence=r={}));var l;(function(R){R[R.Left=1]="Left",R[R.Right=2]="Right"})(l||(e.GlyphMarginLane=l={}));var h;(function(R){R[R.None=0]="None",R[R.Indent=1]="Indent",R[R.IndentOutdent=2]="IndentOutdent",R[R.Outdent=3]="Outdent"})(h||(e.IndentAction=h={}));var s;(function(R){R[R.Both=0]="Both",R[R.Right=1]="Right",R[R.Left=2]="Left",R[R.None=3]="None"})(s||(e.InjectedTextCursorStops=s={}));var u;(function(R){R[R.Type=1]="Type",R[R.Parameter=2]="Parameter"})(u||(e.InlayHintKind=u={}));var a;(function(R){R[R.Automatic=0]="Automatic",R[R.Explicit=1]="Explicit"})(a||(e.InlineCompletionTriggerKind=a={}));var d;(function(R){R[R.DependsOnKbLayout=-1]="DependsOnKbLayout",R[R.Unknown=0]="Unknown",R[R.Backspace=1]="Backspace",R[R.Tab=2]="Tab",R[R.Enter=3]="Enter",R[R.Shift=4]="Shift",R[R.Ctrl=5]="Ctrl",R[R.Alt=6]="Alt",R[R.PauseBreak=7]="PauseBreak",R[R.CapsLock=8]="CapsLock",R[R.Escape=9]="Escape",R[R.Space=10]="Space",R[R.PageUp=11]="PageUp",R[R.PageDown=12]="PageDown",R[R.End=13]="End",R[R.Home=14]="Home",R[R.LeftArrow=15]="LeftArrow",R[R.UpArrow=16]="UpArrow",R[R.RightArrow=17]="RightArrow",R[R.DownArrow=18]="DownArrow",R[R.Insert=19]="Insert",R[R.Delete=20]="Delete",R[R.Digit0=21]="Digit0",R[R.Digit1=22]="Digit1",R[R.Digit2=23]="Digit2",R[R.Digit3=24]="Digit3",R[R.Digit4=25]="Digit4",R[R.Digit5=26]="Digit5",R[R.Digit6=27]="Digit6",R[R.Digit7=28]="Digit7",R[R.Digit8=29]="Digit8",R[R.Digit9=30]="Digit9",R[R.KeyA=31]="KeyA",R[R.KeyB=32]="KeyB",R[R.KeyC=33]="KeyC",R[R.KeyD=34]="KeyD",R[R.KeyE=35]="KeyE",R[R.KeyF=36]="KeyF",R[R.KeyG=37]="KeyG",R[R.KeyH=38]="KeyH",R[R.KeyI=39]="KeyI",R[R.KeyJ=40]="KeyJ",R[R.KeyK=41]="KeyK",R[R.KeyL=42]="KeyL",R[R.KeyM=43]="KeyM",R[R.KeyN=44]="KeyN",R[R.KeyO=45]="KeyO",R[R.KeyP=46]="KeyP",R[R.KeyQ=47]="KeyQ",R[R.KeyR=48]="KeyR",R[R.KeyS=49]="KeyS",R[R.KeyT=50]="KeyT",R[R.KeyU=51]="KeyU",R[R.KeyV=52]="KeyV",R[R.KeyW=53]="KeyW",R[R.KeyX=54]="KeyX",R[R.KeyY=55]="KeyY",R[R.KeyZ=56]="KeyZ",R[R.Meta=57]="Meta",R[R.ContextMenu=58]="ContextMenu",R[R.F1=59]="F1",R[R.F2=60]="F2",R[R.F3=61]="F3",R[R.F4=62]="F4",R[R.F5=63]="F5",R[R.F6=64]="F6",R[R.F7=65]="F7",R[R.F8=66]="F8",R[R.F9=67]="F9",R[R.F10=68]="F10",R[R.F11=69]="F11",R[R.F12=70]="F12",R[R.F13=71]="F13",R[R.F14=72]="F14",R[R.F15=73]="F15",R[R.F16=74]="F16",R[R.F17=75]="F17",R[R.F18=76]="F18",R[R.F19=77]="F19",R[R.F20=78]="F20",R[R.F21=79]="F21",R[R.F22=80]="F22",R[R.F23=81]="F23",R[R.F24=82]="F24",R[R.NumLock=83]="NumLock",R[R.ScrollLock=84]="ScrollLock",R[R.Semicolon=85]="Semicolon",R[R.Equal=86]="Equal",R[R.Comma=87]="Comma",R[R.Minus=88]="Minus",R[R.Period=89]="Period",R[R.Slash=90]="Slash",R[R.Backquote=91]="Backquote",R[R.BracketLeft=92]="BracketLeft",R[R.Backslash=93]="Backslash",R[R.BracketRight=94]="BracketRight",R[R.Quote=95]="Quote",R[R.OEM_8=96]="OEM_8",R[R.IntlBackslash=97]="IntlBackslash",R[R.Numpad0=98]="Numpad0",R[R.Numpad1=99]="Numpad1",R[R.Numpad2=100]="Numpad2",R[R.Numpad3=101]="Numpad3",R[R.Numpad4=102]="Numpad4",R[R.Numpad5=103]="Numpad5",R[R.Numpad6=104]="Numpad6",R[R.Numpad7=105]="Numpad7",R[R.Numpad8=106]="Numpad8",R[R.Numpad9=107]="Numpad9",R[R.NumpadMultiply=108]="NumpadMultiply",R[R.NumpadAdd=109]="NumpadAdd",R[R.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",R[R.NumpadSubtract=111]="NumpadSubtract",R[R.NumpadDecimal=112]="NumpadDecimal",R[R.NumpadDivide=113]="NumpadDivide",R[R.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",R[R.ABNT_C1=115]="ABNT_C1",R[R.ABNT_C2=116]="ABNT_C2",R[R.AudioVolumeMute=117]="AudioVolumeMute",R[R.AudioVolumeUp=118]="AudioVolumeUp",R[R.AudioVolumeDown=119]="AudioVolumeDown",R[R.BrowserSearch=120]="BrowserSearch",R[R.BrowserHome=121]="BrowserHome",R[R.BrowserBack=122]="BrowserBack",R[R.BrowserForward=123]="BrowserForward",R[R.MediaTrackNext=124]="MediaTrackNext",R[R.MediaTrackPrevious=125]="MediaTrackPrevious",R[R.MediaStop=126]="MediaStop",R[R.MediaPlayPause=127]="MediaPlayPause",R[R.LaunchMediaPlayer=128]="LaunchMediaPlayer",R[R.LaunchMail=129]="LaunchMail",R[R.LaunchApp2=130]="LaunchApp2",R[R.Clear=131]="Clear",R[R.MAX_VALUE=132]="MAX_VALUE"})(d||(e.KeyCode=d={}));var c;(function(R){R[R.Hint=1]="Hint",R[R.Info=2]="Info",R[R.Warning=4]="Warning",R[R.Error=8]="Error"})(c||(e.MarkerSeverity=c={}));var b;(function(R){R[R.Unnecessary=1]="Unnecessary",R[R.Deprecated=2]="Deprecated"})(b||(e.MarkerTag=b={}));var g;(function(R){R[R.Inline=1]="Inline",R[R.Gutter=2]="Gutter"})(g||(e.MinimapPosition=g={}));var p;(function(R){R[R.UNKNOWN=0]="UNKNOWN",R[R.TEXTAREA=1]="TEXTAREA",R[R.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",R[R.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",R[R.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",R[R.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",R[R.CONTENT_TEXT=6]="CONTENT_TEXT",R[R.CONTENT_EMPTY=7]="CONTENT_EMPTY",R[R.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",R[R.CONTENT_WIDGET=9]="CONTENT_WIDGET",R[R.OVERVIEW_RULER=10]="OVERVIEW_RULER",R[R.SCROLLBAR=11]="SCROLLBAR",R[R.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",R[R.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(p||(e.MouseTargetType=p={}));var C;(function(R){R[R.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",R[R.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",R[R.TOP_CENTER=2]="TOP_CENTER"})(C||(e.OverlayWidgetPositionPreference=C={}));var w;(function(R){R[R.Left=1]="Left",R[R.Center=2]="Center",R[R.Right=4]="Right",R[R.Full=7]="Full"})(w||(e.OverviewRulerLane=w={}));var E;(function(R){R[R.Left=0]="Left",R[R.Right=1]="Right",R[R.None=2]="None",R[R.LeftOfInjectedText=3]="LeftOfInjectedText",R[R.RightOfInjectedText=4]="RightOfInjectedText"})(E||(e.PositionAffinity=E={}));var I;(function(R){R[R.Off=0]="Off",R[R.On=1]="On",R[R.Relative=2]="Relative",R[R.Interval=3]="Interval",R[R.Custom=4]="Custom"})(I||(e.RenderLineNumbersType=I={}));var T;(function(R){R[R.None=0]="None",R[R.Text=1]="Text",R[R.Blocks=2]="Blocks"})(T||(e.RenderMinimap=T={}));var P;(function(R){R[R.Smooth=0]="Smooth",R[R.Immediate=1]="Immediate"})(P||(e.ScrollType=P={}));var A;(function(R){R[R.Auto=1]="Auto",R[R.Hidden=2]="Hidden",R[R.Visible=3]="Visible"})(A||(e.ScrollbarVisibility=A={}));var M;(function(R){R[R.LTR=0]="LTR",R[R.RTL=1]="RTL"})(M||(e.SelectionDirection=M={}));var N;(function(R){R[R.Invoke=1]="Invoke",R[R.TriggerCharacter=2]="TriggerCharacter",R[R.ContentChange=3]="ContentChange"})(N||(e.SignatureHelpTriggerKind=N={}));var O;(function(R){R[R.File=0]="File",R[R.Module=1]="Module",R[R.Namespace=2]="Namespace",R[R.Package=3]="Package",R[R.Class=4]="Class",R[R.Method=5]="Method",R[R.Property=6]="Property",R[R.Field=7]="Field",R[R.Constructor=8]="Constructor",R[R.Enum=9]="Enum",R[R.Interface=10]="Interface",R[R.Function=11]="Function",R[R.Variable=12]="Variable",R[R.Constant=13]="Constant",R[R.String=14]="String",R[R.Number=15]="Number",R[R.Boolean=16]="Boolean",R[R.Array=17]="Array",R[R.Object=18]="Object",R[R.Key=19]="Key",R[R.Null=20]="Null",R[R.EnumMember=21]="EnumMember",R[R.Struct=22]="Struct",R[R.Event=23]="Event",R[R.Operator=24]="Operator",R[R.TypeParameter=25]="TypeParameter"})(O||(e.SymbolKind=O={}));var x;(function(R){R[R.Deprecated=1]="Deprecated"})(x||(e.SymbolTag=x={}));var F;(function(R){R[R.Hidden=0]="Hidden",R[R.Blink=1]="Blink",R[R.Smooth=2]="Smooth",R[R.Phase=3]="Phase",R[R.Expand=4]="Expand",R[R.Solid=5]="Solid"})(F||(e.TextEditorCursorBlinkingStyle=F={}));var B;(function(R){R[R.Line=1]="Line",R[R.Block=2]="Block",R[R.Underline=3]="Underline",R[R.LineThin=4]="LineThin",R[R.BlockOutline=5]="BlockOutline",R[R.UnderlineThin=6]="UnderlineThin"})(B||(e.TextEditorCursorStyle=B={}));var z;(function(R){R[R.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",R[R.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",R[R.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",R[R.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(z||(e.TrackedRangeStickiness=z={}));var j;(function(R){R[R.None=0]="None",R[R.Same=1]="Same",R[R.Indent=2]="Indent",R[R.DeepIndent=3]="DeepIndent"})(j||(e.WrappingIndent=j={}))}),define(J[507],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class y{constructor(_,m,S,f){this.range=_,this.nestingLevel=m,this.nestingLevelOfEqualBracketType=S,this.isInvalid=f}}e.BracketInfo=y;class k{constructor(_,m,S,f,v,o){this.range=_,this.openingBracketRange=m,this.closingBracketRange=S,this.nestingLevel=f,this.nestingLevelOfEqualBracketType=v,this.bracketPairNode=o}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=k;class L extends k{constructor(_,m,S,f,v,o,i){super(_,m,S,f,v,o),this.minVisibleColumnIndentation=i}}e.BracketPairWithMinIndentationInfo=L}),define(J[508],ee([1,0,6,2,507,181,279,87,278,128,207,15,277]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class t extends k.Disposable{didLanguageChange(a){return this.brackets.didLanguageChange(a)}constructor(a,d){if(super(),this.textModel=a,this.getLanguageConfiguration=d,this.didChangeEmitter=new y.Emitter,this.denseKeyProvider=new f.DenseKeyProvider,this.brackets=new _.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],a.tokenization.hasTokens)a.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const c=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),b=new v.FastTokenizer(this.textModel.getValue(),c);this.initialAstWithoutTokens=(0,S.parseDocument)(b,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const a=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,a||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:a}){const d=a.map(c=>new D.TextEditInfo((0,m.toLength)(c.fromLineNumber-1,0),(0,m.toLength)(c.toLineNumber,0),(0,m.toLength)(c.toLineNumber-c.fromLineNumber+1,0)));this.handleEdits(d,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(a){const d=D.TextEditInfo.fromModelContentChanges(a.changes);this.handleEdits(d,!1)}handleEdits(a,d){const c=(0,i.combineTextEditInfos)(this.queuedTextEdits,a);this.queuedTextEdits=c,this.initialAstWithoutTokens&&!d&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,i.combineTextEditInfos)(this.queuedTextEditsForInitialAstWithoutTokens,a))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(a,d,c){const g=d,p=new v.TextBufferTokenizer(this.textModel,this.brackets);return(0,S.parseDocument)(p,a,g,c)}getBracketsInRange(a,d){this.flushQueue();const c=(0,m.toLength)(a.startLineNumber-1,a.startColumn-1),b=(0,m.toLength)(a.endLineNumber-1,a.endColumn-1);return new o.CallbackIterable(g=>{const p=this.initialAstWithoutTokens||this.astWithTokens;l(p,m.lengthZero,p.length,c,b,g,0,0,new Map,d)})}getBracketPairsInRange(a,d){this.flushQueue();const c=(0,m.positionToLength)(a.getStartPosition()),b=(0,m.positionToLength)(a.getEndPosition());return new o.CallbackIterable(g=>{const p=this.initialAstWithoutTokens||this.astWithTokens,C=new h(g,d,this.textModel);s(p,m.lengthZero,p.length,c,b,C,0,new Map)})}getFirstBracketAfter(a){this.flushQueue();const d=this.initialAstWithoutTokens||this.astWithTokens;return r(d,m.lengthZero,d.length,(0,m.positionToLength)(a))}getFirstBracketBefore(a){this.flushQueue();const d=this.initialAstWithoutTokens||this.astWithTokens;return n(d,m.lengthZero,d.length,(0,m.positionToLength)(a))}}e.BracketPairsTree=t;function n(u,a,d,c){if(u.kind===4||u.kind===2){const b=[];for(const g of u.children)d=(0,m.lengthAdd)(a,g.length),b.push({nodeOffsetStart:a,nodeOffsetEnd:d}),a=d;for(let g=b.length-1;g>=0;g--){const{nodeOffsetStart:p,nodeOffsetEnd:C}=b[g];if((0,m.lengthLessThan)(p,c)){const w=n(u.children[g],p,C,c);if(w)return w}}return null}else{if(u.kind===3)return null;if(u.kind===1){const b=(0,m.lengthsToRange)(a,d);return{bracketInfo:u.bracketInfo,range:b}}}return null}function r(u,a,d,c){if(u.kind===4||u.kind===2){for(const b of u.children){if(d=(0,m.lengthAdd)(a,b.length),(0,m.lengthLessThan)(c,d)){const g=r(b,a,d,c);if(g)return g}a=d}return null}else{if(u.kind===3)return null;if(u.kind===1){const b=(0,m.lengthsToRange)(a,d);return{bracketInfo:u.bracketInfo,range:b}}}return null}function l(u,a,d,c,b,g,p,C,w,E,I=!1){if(p>200)return!0;e:for(;;)switch(u.kind){case 4:{const T=u.childrenLength;for(let P=0;P<T;P++){const A=u.getChild(P);if(A){if(d=(0,m.lengthAdd)(a,A.length),(0,m.lengthLessThanEqual)(a,b)&&(0,m.lengthGreaterThanEqual)(d,c)){if((0,m.lengthGreaterThanEqual)(d,b)){u=A;continue e}if(!l(A,a,d,c,b,g,p,0,w,E))return!1}a=d}}return!0}case 2:{const T=!E||!u.closingBracket||u.closingBracket.bracketInfo.closesColorized(u.openingBracket.bracketInfo);let P=0;if(w){let M=w.get(u.openingBracket.text);M===void 0&&(M=0),P=M,T&&(M++,w.set(u.openingBracket.text,M))}const A=u.childrenLength;for(let M=0;M<A;M++){const N=u.getChild(M);if(N){if(d=(0,m.lengthAdd)(a,N.length),(0,m.lengthLessThanEqual)(a,b)&&(0,m.lengthGreaterThanEqual)(d,c)){if((0,m.lengthGreaterThanEqual)(d,b)&&N.kind!==1){u=N,T?(p++,C=P+1):C=P;continue e}if((T||N.kind!==1||!u.closingBracket)&&!l(N,a,d,c,b,g,T?p+1:p,T?P+1:P,w,E,!u.closingBracket))return!1}a=d}}return w?.set(u.openingBracket.text,P),!0}case 3:{const T=(0,m.lengthsToRange)(a,d);return g(new L.BracketInfo(T,p-1,0,!0))}case 1:{const T=(0,m.lengthsToRange)(a,d);return g(new L.BracketInfo(T,p-1,C-1,I))}case 0:return!0}}class h{constructor(a,d,c){this.push=a,this.includeMinIndentation=d,this.textModel=c}}function s(u,a,d,c,b,g,p,C){var w;if(p>200)return!0;let E=!0;if(u.kind===2){let I=0;if(C){let A=C.get(u.openingBracket.text);A===void 0&&(A=0),I=A,A++,C.set(u.openingBracket.text,A)}const T=(0,m.lengthAdd)(a,u.openingBracket.length);let P=-1;if(g.includeMinIndentation&&(P=u.computeMinIndentation(a,g.textModel)),E=g.push(new L.BracketPairWithMinIndentationInfo((0,m.lengthsToRange)(a,d),(0,m.lengthsToRange)(a,T),u.closingBracket?(0,m.lengthsToRange)((0,m.lengthAdd)(T,((w=u.child)===null||w===void 0?void 0:w.length)||m.lengthZero),d):void 0,p,I,u,P)),a=T,E&&u.child){const A=u.child;if(d=(0,m.lengthAdd)(a,A.length),(0,m.lengthLessThanEqual)(a,b)&&(0,m.lengthGreaterThanEqual)(d,c)&&(E=s(A,a,d,c,b,g,p+1,C),!E))return!1}C?.set(u.openingBracket.text,I)}else{let I=a;for(const T of u.children){const P=I;if(I=(0,m.lengthAdd)(I,T.length),(0,m.lengthLessThanEqual)(P,b)&&(0,m.lengthLessThanEqual)(c,I)&&(E=s(T,P,I,c,b,g,p,C),!E))return!1}}return E}}),define(J[111],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class y{constructor(){this.changeType=1}}e.ModelRawFlush=y;class k{static applyInjectedText(i,t){if(!t||t.length===0)return i;let n="",r=0;for(const l of t)n+=i.substring(r,l.column-1),r=l.column-1,n+=l.options.content;return n+=i.substring(r),n}static fromDecorations(i){const t=[];for(const n of i)n.options.before&&n.options.before.content.length>0&&t.push(new k(n.ownerId,n.range.startLineNumber,n.range.startColumn,n.options.before,0)),n.options.after&&n.options.after.content.length>0&&t.push(new k(n.ownerId,n.range.endLineNumber,n.range.endColumn,n.options.after,1));return t.sort((n,r)=>n.lineNumber===r.lineNumber?n.column===r.column?n.order-r.order:n.column-r.column:n.lineNumber-r.lineNumber),t}constructor(i,t,n,r,l){this.ownerId=i,this.lineNumber=t,this.column=n,this.options=r,this.order=l}}e.LineInjectedText=k;class L{constructor(i,t,n){this.changeType=2,this.lineNumber=i,this.detail=t,this.injectedText=n}}e.ModelRawLineChanged=L;class D{constructor(i,t){this.changeType=3,this.fromLineNumber=i,this.toLineNumber=t}}e.ModelRawLinesDeleted=D;class _{constructor(i,t,n,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=i,this.toLineNumber=t,this.detail=n}}e.ModelRawLinesInserted=_;class m{constructor(){this.changeType=5}}e.ModelRawEOLChanged=m;class S{constructor(i,t,n,r){this.changes=i,this.versionId=t,this.isUndoing=n,this.isRedoing=r,this.resultingSelection=null}containsEvent(i){for(let t=0,n=this.changes.length;t<n;t++)if(this.changes[t].changeType===i)return!0;return!1}static merge(i,t){const n=[].concat(i.changes).concat(t.changes),r=t.versionId,l=i.isUndoing||t.isUndoing,h=i.isRedoing||t.isRedoing;return new S(n,r,l,h)}}e.ModelRawContentChangedEvent=S;class f{constructor(i){this.changes=i}}e.ModelInjectedTextChangedEvent=f;class v{constructor(i,t){this.rawContentChangedEvent=i,this.contentChangedEvent=t}merge(i){const t=S.merge(this.rawContentChangedEvent,i.rawContentChangedEvent),n=v._mergeChangeEvents(this.contentChangedEvent,i.contentChangedEvent);return new v(t,n)}static _mergeChangeEvents(i,t){const n=[].concat(i.changes).concat(t.changes),r=t.eol,l=t.versionId,h=i.isUndoing||t.isUndoing,s=i.isRedoing||t.isRedoing,u=i.isFlush||t.isFlush,a=i.isEolChange&&t.isEolChange;return{changes:n,eol:r,isEolChange:a,versionId:l,isUndoing:h,isRedoing:s,isFlush:u}}}e.InternalModelContentChangeEvent=v}),define(J[210],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var y;(function(D){D[D.Disabled=0]="Disabled",D[D.EnabledForActive=1]="EnabledForActive",D[D.Enabled=2]="Enabled"})(y||(e.HorizontalGuidesState=y={}));class k{constructor(_,m,S,f,v,o){if(this.visibleColumn=_,this.column=m,this.className=S,this.horizontalLine=f,this.forWrappedLinesAfterColumn=v,this.forWrappedLinesBeforeOrAtColumn=o,_!==-1==(m!==-1))throw new Error}}e.IndentGuide=k;class L{constructor(_,m){this.top=_,this.endColumn=m}}e.IndentGuideHorizontalLine=L}),define(J[286],ee([1,0,15,9,81,5,281,208,210,12]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class v extends _.TextModelPart{constructor(t,n){super(),this.textModel=t,this.languageConfigurationService=n}getLanguageConfiguration(t){return this.languageConfigurationService.getLanguageConfiguration(t)}_computeIndentLevel(t){return(0,m.computeIndentLevel)(this.textModel.getLineContent(t+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(t,n,r){this.assertNotDisposed();const l=this.textModel.getLineCount();if(t<1||t>l)throw new f.BugIndicatingError("Illegal value for lineNumber");const h=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=!!(h&&h.offSide);let u=-2,a=-1,d=-2,c=-1;const b=O=>{if(u!==-1&&(u===-2||u>O-1)){u=-1,a=-1;for(let x=O-2;x>=0;x--){const F=this._computeIndentLevel(x);if(F>=0){u=x,a=F;break}}}if(d===-2){d=-1,c=-1;for(let x=O;x<l;x++){const F=this._computeIndentLevel(x);if(F>=0){d=x,c=F;break}}}};let g=-2,p=-1,C=-2,w=-1;const E=O=>{if(g===-2){g=-1,p=-1;for(let x=O-2;x>=0;x--){const F=this._computeIndentLevel(x);if(F>=0){g=x,p=F;break}}}if(C!==-1&&(C===-2||C<O-1)){C=-1,w=-1;for(let x=O;x<l;x++){const F=this._computeIndentLevel(x);if(F>=0){C=x,w=F;break}}}};let I=0,T=!0,P=0,A=!0,M=0,N=0;for(let O=0;T||A;O++){const x=t-O,F=t+O;O>1&&(x<1||x<n)&&(T=!1),O>1&&(F>l||F>r)&&(A=!1),O>5e4&&(T=!1,A=!1);let B=-1;if(T&&x>=1){const j=this._computeIndentLevel(x-1);j>=0?(d=x-1,c=j,B=Math.ceil(j/this.textModel.getOptions().indentSize)):(b(x),B=this._getIndentLevelForWhitespaceLine(s,a,c))}let z=-1;if(A&&F<=l){const j=this._computeIndentLevel(F-1);j>=0?(g=F-1,p=j,z=Math.ceil(j/this.textModel.getOptions().indentSize)):(E(F),z=this._getIndentLevelForWhitespaceLine(s,p,w))}if(O===0){N=B;continue}if(O===1){if(F<=l&&z>=0&&N+1===z){T=!1,I=F,P=F,M=z;continue}if(x>=1&&B>=0&&B-1===N){A=!1,I=x,P=x,M=B;continue}if(I=t,P=t,M=N,M===0)return{startLineNumber:I,endLineNumber:P,indent:M}}T&&(B>=M?I=x:T=!1),A&&(z>=M?P=F:A=!1)}return{startLineNumber:I,endLineNumber:P,indent:M}}getLinesBracketGuides(t,n,r,l){var h;const s=[];for(let g=t;g<=n;g++)s.push([]);const u=!0,a=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D.Range(t,1,n,this.textModel.getLineMaxColumn(n))).toArray();let d;if(r&&a.length>0){const g=(t<=r.lineNumber&&r.lineNumber<=n?a:this.textModel.bracketPairs.getBracketPairsInRange(D.Range.fromPositions(r)).toArray()).filter(p=>D.Range.strictContainsPosition(p.range,r));d=(h=(0,y.findLast)(g,p=>u||p.range.startLineNumber!==p.range.endLineNumber))===null||h===void 0?void 0:h.range}const c=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,b=new o;for(const g of a){if(!g.closingBracketRange)continue;const p=d&&g.range.equalsRange(d);if(!p&&!l.includeInactive)continue;const C=b.getInlineClassName(g.nestingLevel,g.nestingLevelOfEqualBracketType,c)+(l.highlightActive&&p?" "+b.activeClassName:""),w=g.openingBracketRange.getStartPosition(),E=g.closingBracketRange.getStartPosition(),I=l.horizontalGuides===S.HorizontalGuidesState.Enabled||l.horizontalGuides===S.HorizontalGuidesState.EnabledForActive&&p;if(g.range.startLineNumber===g.range.endLineNumber){u&&I&&s[g.range.startLineNumber-t].push(new S.IndentGuide(-1,g.openingBracketRange.getEndPosition().column,C,new S.IndentGuideHorizontalLine(!1,E.column),-1,-1));continue}const T=this.getVisibleColumnFromPosition(E),P=this.getVisibleColumnFromPosition(g.openingBracketRange.getStartPosition()),A=Math.min(P,T,g.minVisibleColumnIndentation+1);let M=!1;k.firstNonWhitespaceIndex(this.textModel.getLineContent(g.closingBracketRange.startLineNumber))<g.closingBracketRange.startColumn-1&&(M=!0);const x=Math.max(w.lineNumber,t),F=Math.min(E.lineNumber,n),B=M?1:0;for(let z=x;z<F+B;z++)s[z-t].push(new S.IndentGuide(A,-1,C,null,z===w.lineNumber?w.column:-1,z===E.lineNumber?E.column:-1));I&&(w.lineNumber>=t&&P>A&&s[w.lineNumber-t].push(new S.IndentGuide(A,-1,C,new S.IndentGuideHorizontalLine(!1,w.column),-1,-1)),E.lineNumber<=n&&T>A&&s[E.lineNumber-t].push(new S.IndentGuide(A,-1,C,new S.IndentGuideHorizontalLine(!M,E.column),-1,-1)))}for(const g of s)g.sort((p,C)=>p.visibleColumn-C.visibleColumn);return s}getVisibleColumnFromPosition(t){return L.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(t.lineNumber),t.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(t,n){this.assertNotDisposed();const r=this.textModel.getLineCount();if(t<1||t>r)throw new Error("Illegal value for startLineNumber");if(n<1||n>r)throw new Error("Illegal value for endLineNumber");const l=this.textModel.getOptions(),h=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=!!(h&&h.offSide),u=new Array(n-t+1);let a=-2,d=-1,c=-2,b=-1;for(let g=t;g<=n;g++){const p=g-t,C=this._computeIndentLevel(g-1);if(C>=0){a=g-1,d=C,u[p]=Math.ceil(C/l.indentSize);continue}if(a===-2){a=-1,d=-1;for(let w=g-2;w>=0;w--){const E=this._computeIndentLevel(w);if(E>=0){a=w,d=E;break}}}if(c!==-1&&(c===-2||c<g-1)){c=-1,b=-1;for(let w=g;w<r;w++){const E=this._computeIndentLevel(w);if(E>=0){c=w,b=E;break}}}u[p]=this._getIndentLevelForWhitespaceLine(s,d,b)}return u}_getIndentLevelForWhitespaceLine(t,n,r){const l=this.textModel.getOptions();return n===-1||r===-1?0:n<r?1+Math.floor(n/l.indentSize):n===r||t?Math.ceil(r/l.indentSize):1+Math.floor(r/l.indentSize)}}e.GuidesTextModelPart=v;class o{constructor(){this.activeClassName="indent-active"}getInlineClassName(t,n,r){return this.getInlineClassNameOfLevel(r?n:t)}getInlineClassNameOfLevel(t){return`bracket-indent-guide lvl-${t%30}`}}e.BracketPairGuidesClassNames=o}),define(J[509],ee([1,0,6,2]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class L{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(m){this._onDidChange.fire({changedLanguages:m,changedColorMap:!1})}register(m,S){return this._tokenizationSupports.set(m,S),this.handleChange([m]),(0,k.toDisposable)(()=>{this._tokenizationSupports.get(m)===S&&(this._tokenizationSupports.delete(m),this.handleChange([m]))})}get(m){return this._tokenizationSupports.get(m)||null}registerFactory(m,S){var f;(f=this._factories.get(m))===null||f===void 0||f.dispose();const v=new D(this,m,S);return this._factories.set(m,v),(0,k.toDisposable)(()=>{const o=this._factories.get(m);!o||o!==v||(this._factories.delete(m),o.dispose())})}getOrCreate(m){return Le(this,void 0,void 0,function*(){const S=this.get(m);if(S)return S;const f=this._factories.get(m);return!f||f.isResolved?null:(yield f.resolve(),this.get(m))})}isResolved(m){if(this.get(m))return!0;const f=this._factories.get(m);return!!(!f||f.isResolved)}setColorMap(m){this._colorMap=m,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=L;class D extends k.Disposable{get isResolved(){return this._isResolved}constructor(m,S,f){super(),this._registry=m,this._languageId=S,this._factory=f,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return Le(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return Le(this,void 0,void 0,function*(){const m=yield this._factory.tokenizationSupport;this._isResolved=!0,m&&!this._isDisposed&&this._register(this._registry.register(this._languageId,m))})}}}),define(J[510],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class y{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(L,D){this._startLineNumber=L,this._tokens=D}getLineTokens(L){return this._tokens[L-this._startLineNumber]}appendLineTokens(L){this._tokens.push(L)}}e.ContiguousMultilineTokens=y}),define(J[287],ee([1,0,510]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class k{constructor(){this._tokens=[]}add(D,_){if(this._tokens.length>0){const m=this._tokens[this._tokens.length-1];if(m.endLineNumber+1===D){m.appendLineTokens(_);return}}this._tokens.push(new y.ContiguousMultilineTokens(D,[_]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=k}),define(J[88],ee([1,0,126]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class k{static createEmpty(_,m){const S=k.defaultTokenMetadata,f=new Uint32Array(2);return f[0]=_.length,f[1]=S,new k(f,_,m)}constructor(_,m,S){this._lineTokensBrand=void 0,this._tokens=_,this._tokensCount=this._tokens.length>>>1,this._text=m,this._languageIdCodec=S}equals(_){return _ instanceof k?this.slicedEquals(_,0,this._tokensCount):!1}slicedEquals(_,m,S){if(this._text!==_._text||this._tokensCount!==_._tokensCount)return!1;const f=m<<1,v=f+(S<<1);for(let o=f;o<v;o++)if(this._tokens[o]!==_._tokens[o])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(_){return _>0?this._tokens[_-1<<1]:0}getMetadata(_){return this._tokens[(_<<1)+1]}getLanguageId(_){const m=this._tokens[(_<<1)+1],S=y.TokenMetadata.getLanguageId(m);return this._languageIdCodec.decodeLanguageId(S)}getStandardTokenType(_){const m=this._tokens[(_<<1)+1];return y.TokenMetadata.getTokenType(m)}getForeground(_){const m=this._tokens[(_<<1)+1];return y.TokenMetadata.getForeground(m)}getClassName(_){const m=this._tokens[(_<<1)+1];return y.TokenMetadata.getClassNameFromMetadata(m)}getInlineStyle(_,m){const S=this._tokens[(_<<1)+1];return y.TokenMetadata.getInlineStyleFromMetadata(S,m)}getPresentation(_){const m=this._tokens[(_<<1)+1];return y.TokenMetadata.getPresentationFromMetadata(m)}getEndOffset(_){return this._tokens[_<<1]}findTokenIndexAtOffset(_){return k.findIndexInTokensArray(this._tokens,_)}inflate(){return this}sliceAndInflate(_,m,S){return new L(this,_,m,S)}static convertToEndOffset(_,m){const f=(_.length>>>1)-1;for(let v=0;v<f;v++)_[v<<1]=_[v+1<<1];_[f<<1]=m}static findIndexInTokensArray(_,m){if(_.length<=2)return 0;let S=0,f=(_.length>>>1)-1;for(;S<f;){const v=S+Math.floor((f-S)/2),o=_[v<<1];if(o===m)return v+1;o<m?S=v+1:o>m&&(f=v)}return S}withInserted(_){if(_.length===0)return this;let m=0,S=0,f="";const v=new Array;let o=0;for(;;){const i=m<this._tokensCount?this._tokens[m<<1]:-1,t=S<_.length?_[S]:null;if(i!==-1&&(t===null||i<=t.offset)){f+=this._text.substring(o,i);const n=this._tokens[(m<<1)+1];v.push(f.length,n),m++,o=i}else if(t){if(t.offset>o){f+=this._text.substring(o,t.offset);const n=this._tokens[(m<<1)+1];v.push(f.length,n),o=t.offset}f+=t.text,v.push(f.length,t.tokenMetadata),S++}else break}return new k(new Uint32Array(v),f,this._languageIdCodec)}}e.LineTokens=k,k.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class L{constructor(_,m,S,f){this._source=_,this._startOffset=m,this._endOffset=S,this._deltaOffset=f,this._firstTokenIndex=_.findTokenIndexAtOffset(m),this._tokensCount=0;for(let v=this._firstTokenIndex,o=_.getCount();v<o&&!(_.getStartOffset(v)>=S);v++)this._tokensCount++}getMetadata(_){return this._source.getMetadata(this._firstTokenIndex+_)}getLanguageId(_){return this._source.getLanguageId(this._firstTokenIndex+_)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(_){return _ instanceof L?this._startOffset===_._startOffset&&this._endOffset===_._endOffset&&this._deltaOffset===_._deltaOffset&&this._source.slicedEquals(_._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(_){return this._source.getForeground(this._firstTokenIndex+_)}getEndOffset(_){const m=this._source.getEndOffset(this._firstTokenIndex+_);return Math.min(this._endOffset,m)-this._startOffset+this._deltaOffset}getClassName(_){return this._source.getClassName(this._firstTokenIndex+_)}getInlineStyle(_,m){return this._source.getInlineStyle(this._firstTokenIndex+_,m)}getPresentation(_){return this._source.getPresentation(this._firstTokenIndex+_)}findTokenIndexAtOffset(_){return this._source.findTokenIndexAtOffset(_+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(J[511],ee([1,0,88]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class k{static deleteBeginning(_,m){return _===null||_===e.EMPTY_LINE_TOKENS?_:k.delete(_,0,m)}static deleteEnding(_,m){if(_===null||_===e.EMPTY_LINE_TOKENS)return _;const S=L(_),f=S[S.length-2];return k.delete(_,m,f)}static delete(_,m,S){if(_===null||_===e.EMPTY_LINE_TOKENS||m===S)return _;const f=L(_),v=f.length>>>1;if(m===0&&f[f.length-2]===S)return e.EMPTY_LINE_TOKENS;const o=y.LineTokens.findIndexInTokensArray(f,m),i=o>0?f[o-1<<1]:0,t=f[o<<1];if(S<t){const s=S-m;for(let u=o;u<v;u++)f[u<<1]-=s;return _}let n,r;i!==m?(f[o<<1]=m,n=o+1<<1,r=m):(n=o<<1,r=i);const l=S-m;for(let s=o+1;s<v;s++){const u=f[s<<1]-l;u>r&&(f[n++]=u,f[n++]=f[(s<<1)+1],r=u)}if(n===f.length)return _;const h=new Uint32Array(n);return h.set(f.subarray(0,n),0),h.buffer}static append(_,m){if(m===e.EMPTY_LINE_TOKENS)return _;if(_===e.EMPTY_LINE_TOKENS)return m;if(_===null)return _;if(m===null)return null;const S=L(_),f=L(m),v=f.length>>>1,o=new Uint32Array(S.length+f.length);o.set(S,0);let i=S.length;const t=S[S.length-2];for(let n=0;n<v;n++)o[i++]=f[n<<1]+t,o[i++]=f[(n<<1)+1];return o.buffer}static insert(_,m,S){if(_===null||_===e.EMPTY_LINE_TOKENS)return _;const f=L(_),v=f.length>>>1;let o=y.LineTokens.findIndexInTokensArray(f,m);o>0&&f[o-1<<1]===m&&o--;for(let i=o;i<v;i++)f[i<<1]+=S;return _}}e.ContiguousTokensEditing=k;function L(D){return D instanceof Uint32Array?D:new Uint32Array(D)}e.toUint32Array=L}),define(J[512],ee([1,0,15,11,511,88,126]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class m{constructor(v){this._lineTokens=[],this._len=0,this._languageIdCodec=v}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(v,o,i){let t=null;if(o<this._len&&(t=this._lineTokens[o]),t!==null&&t!==L.EMPTY_LINE_TOKENS)return new D.LineTokens((0,L.toUint32Array)(t),i,this._languageIdCodec);const n=new Uint32Array(2);return n[0]=i.length,n[1]=S(this._languageIdCodec.encodeLanguageId(v)),new D.LineTokens(n,i,this._languageIdCodec)}static _massageTokens(v,o,i){const t=i?(0,L.toUint32Array)(i):null;if(o===0){let n=!1;if(t&&t.length>1&&(n=_.TokenMetadata.getLanguageId(t[1])!==v),!n)return L.EMPTY_LINE_TOKENS}if(!t||t.length===0){const n=new Uint32Array(2);return n[0]=o,n[1]=S(v),n.buffer}return t[t.length-2]=o,t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t}_ensureLine(v){for(;v>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(v,o){o!==0&&(v+o>this._len&&(o=this._len-v),this._lineTokens.splice(v,o),this._len-=o)}_insertLines(v,o){if(o===0)return;const i=[];for(let t=0;t<o;t++)i[t]=null;this._lineTokens=y.arrayInsert(this._lineTokens,v,i),this._len+=o}setTokens(v,o,i,t,n){const r=m._massageTokens(this._languageIdCodec.encodeLanguageId(v),i,t);this._ensureLine(o);const l=this._lineTokens[o];return this._lineTokens[o]=r,n?!m._equals(l,r):!1}static _equals(v,o){if(!v||!o)return!v&&!o;const i=(0,L.toUint32Array)(v),t=(0,L.toUint32Array)(o);if(i.length!==t.length)return!1;for(let n=0,r=i.length;n<r;n++)if(i[n]!==t[n])return!1;return!0}acceptEdit(v,o,i){this._acceptDeleteRange(v),this._acceptInsertText(new k.Position(v.startLineNumber,v.startColumn),o,i)}_acceptDeleteRange(v){const o=v.startLineNumber-1;if(o>=this._len)return;if(v.startLineNumber===v.endLineNumber){if(v.startColumn===v.endColumn)return;this._lineTokens[o]=L.ContiguousTokensEditing.delete(this._lineTokens[o],v.startColumn-1,v.endColumn-1);return}this._lineTokens[o]=L.ContiguousTokensEditing.deleteEnding(this._lineTokens[o],v.startColumn-1);const i=v.endLineNumber-1;let t=null;i<this._len&&(t=L.ContiguousTokensEditing.deleteBeginning(this._lineTokens[i],v.endColumn-1)),this._lineTokens[o]=L.ContiguousTokensEditing.append(this._lineTokens[o],t),this._deleteLines(v.startLineNumber,v.endLineNumber-v.startLineNumber)}_acceptInsertText(v,o,i){if(o===0&&i===0)return;const t=v.lineNumber-1;if(!(t>=this._len)){if(o===0){this._lineTokens[t]=L.ContiguousTokensEditing.insert(this._lineTokens[t],v.column-1,i);return}this._lineTokens[t]=L.ContiguousTokensEditing.deleteEnding(this._lineTokens[t],v.column-1),this._lineTokens[t]=L.ContiguousTokensEditing.insert(this._lineTokens[t],v.column-1,i),this._insertLines(v.lineNumber,o)}}setMultilineTokens(v,o){if(v.length===0)return{changes:[]};const i=[];for(let t=0,n=v.length;t<n;t++){const r=v[t];let l=0,h=0,s=!1;for(let u=r.startLineNumber;u<=r.endLineNumber;u++)s?(this.setTokens(o.getLanguageId(),u-1,o.getLineLength(u),r.getLineTokens(u),!1),h=u):this.setTokens(o.getLanguageId(),u-1,o.getLineLength(u),r.getLineTokens(u),!0)&&(s=!0,l=u,h=u);s&&i.push({fromLineNumber:l,toLineNumber:h})}return{changes:i}}}e.ContiguousTokensStore=m;function S(f){return(f<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}}),define(J[513],ee([1,0,11,5,123]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class D{static create(f,v){return new D(f,new _(v))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(f,v){this._startLineNumber=f,this._tokens=v,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(f){return this._startLineNumber<=f&&f<=this._endLineNumber?this._tokens.getLineTokens(f-this._startLineNumber):null}getRange(){const f=this._tokens.getRange();return f&&new k.Range(this._startLineNumber+f.startLineNumber,f.startColumn,this._startLineNumber+f.endLineNumber,f.endColumn)}removeTokens(f){const v=f.startLineNumber-this._startLineNumber,o=f.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(v,f.startColumn-1,o,f.endColumn-1),this._updateEndLineNumber()}split(f){const v=f.startLineNumber-this._startLineNumber,o=f.endLineNumber-this._startLineNumber,[i,t,n]=this._tokens.split(v,f.startColumn-1,o,f.endColumn-1);return[new D(this._startLineNumber,i),new D(this._startLineNumber+n,t)]}applyEdit(f,v){const[o,i,t]=(0,L.countEOL)(v);this.acceptEdit(f,o,i,t,v.length>0?v.charCodeAt(0):0)}acceptEdit(f,v,o,i,t){this._acceptDeleteRange(f),this._acceptInsertText(new y.Position(f.startLineNumber,f.startColumn),v,o,i,t),this._updateEndLineNumber()}_acceptDeleteRange(f){if(f.startLineNumber===f.endLineNumber&&f.startColumn===f.endColumn)return;const v=f.startLineNumber-this._startLineNumber,o=f.endLineNumber-this._startLineNumber;if(o<0){const t=o-v;this._startLineNumber-=t;return}const i=this._tokens.getMaxDeltaLine();if(!(v>=i+1)){if(v<0&&o>=i+1){this._startLineNumber=0,this._tokens.clear();return}if(v<0){const t=-v;this._startLineNumber-=t,this._tokens.acceptDeleteRange(f.startColumn-1,0,0,o,f.endColumn-1)}else this._tokens.acceptDeleteRange(0,v,f.startColumn-1,o,f.endColumn-1)}}_acceptInsertText(f,v,o,i,t){if(v===0&&o===0)return;const n=f.lineNumber-this._startLineNumber;if(n<0){this._startLineNumber+=v;return}const r=this._tokens.getMaxDeltaLine();n>=r+1||this._tokens.acceptInsertText(n,f.column-1,v,o,i,t)}}e.SparseMultilineTokens=D;class _{constructor(f){this._tokens=f,this._tokenCount=f.length/4}toString(f){const v=[];for(let o=0;o<this._tokenCount;o++)v.push(`(${this._getDeltaLine(o)+f},${this._getStartCharacter(o)}-${this._getEndCharacter(o)})`);return`[${v.join(",")}]`}getMaxDeltaLine(){const f=this._getTokenCount();return f===0?-1:this._getDeltaLine(f-1)}getRange(){const f=this._getTokenCount();if(f===0)return null;const v=this._getStartCharacter(0),o=this._getDeltaLine(f-1),i=this._getEndCharacter(f-1);return new k.Range(0,v+1,o,i+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(f){return this._tokens[4*f]}_getStartCharacter(f){return this._tokens[4*f+1]}_getEndCharacter(f){return this._tokens[4*f+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(f){let v=0,o=this._getTokenCount()-1;for(;v<o;){const i=v+Math.floor((o-v)/2),t=this._getDeltaLine(i);if(t<f)v=i+1;else if(t>f)o=i-1;else{let n=i;for(;n>v&&this._getDeltaLine(n-1)===f;)n--;let r=i;for(;r<o&&this._getDeltaLine(r+1)===f;)r++;return new m(this._tokens.subarray(4*n,4*r+4))}}return this._getDeltaLine(v)===f?new m(this._tokens.subarray(4*v,4*v+4)):null}clear(){this._tokenCount=0}removeTokens(f,v,o,i){const t=this._tokens,n=this._tokenCount;let r=0,l=!1,h=0;for(let s=0;s<n;s++){const u=4*s,a=t[u],d=t[u+1],c=t[u+2],b=t[u+3];if((a>f||a===f&&c>=v)&&(a<o||a===o&&d<=i))l=!0;else{if(r===0&&(h=a),l){const g=4*r;t[g]=a-h,t[g+1]=d,t[g+2]=c,t[g+3]=b}r++}}return this._tokenCount=r,h}split(f,v,o,i){const t=this._tokens,n=this._tokenCount,r=[],l=[];let h=r,s=0,u=0;for(let a=0;a<n;a++){const d=4*a,c=t[d],b=t[d+1],g=t[d+2],p=t[d+3];if(c>f||c===f&&g>=v){if(c<o||c===o&&b<=i)continue;h!==l&&(h=l,s=0,u=c)}h[s++]=c-u,h[s++]=b,h[s++]=g,h[s++]=p}return[new _(new Uint32Array(r)),new _(new Uint32Array(l)),u]}acceptDeleteRange(f,v,o,i,t){const n=this._tokens,r=this._tokenCount,l=i-v;let h=0,s=!1;for(let u=0;u<r;u++){const a=4*u;let d=n[a],c=n[a+1],b=n[a+2];const g=n[a+3];if(d<v||d===v&&b<=o){h++;continue}else if(d===v&&c<o)d===i&&b>t?b-=t-o:b=o;else if(d===v&&c===o)if(d===i&&b>t)b-=t-o;else{s=!0;continue}else if(d<i||d===i&&c<t)if(d===i&&b>t)d=v,c=o,b=c+(b-t);else{s=!0;continue}else if(d>i){if(l===0&&!s){h=r;break}d-=l}else if(d===i&&c>=t)f&&d===0&&(c+=f,b+=f),d-=l,c-=t-o,b-=t-o;else throw new Error("Not possible!");const p=4*h;n[p]=d,n[p+1]=c,n[p+2]=b,n[p+3]=g,h++}this._tokenCount=h}acceptInsertText(f,v,o,i,t,n){const r=o===0&&i===1&&(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122),l=this._tokens,h=this._tokenCount;for(let s=0;s<h;s++){const u=4*s;let a=l[u],d=l[u+1],c=l[u+2];if(!(a<f||a===f&&c<v)){if(a===f&&c===v)if(r)c+=1;else continue;else if(a===f&&d<v&&v<c)o===0?c+=i:c=v;else{if(a===f&&d===v&&r)continue;if(a===f)if(a+=o,o===0)d+=i,c+=i;else{const b=c-d;d=t+(d-v),c=d+b}else a+=o}l[u]=a,l[u+1]=d,l[u+2]=c}}}}class m{constructor(f){this._tokens=f}getCount(){return this._tokens.length/4}getStartCharacter(f){return this._tokens[4*f+1]}getEndCharacter(f){return this._tokens[4*f+2]}getMetadata(f){return this._tokens[4*f+3]}}e.SparseLineTokens=m}),define(J[514],ee([1,0,15,88]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class L{constructor(_){this._pieces=[],this._isComplete=!1,this._languageIdCodec=_}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(_,m){this._pieces=_||[],this._isComplete=m}setPartial(_,m){let S=_;if(m.length>0){const v=m[0].getRange(),o=m[m.length-1].getRange();if(!v||!o)return _;S=_.plusRange(v).plusRange(o)}let f=null;for(let v=0,o=this._pieces.length;v<o;v++){const i=this._pieces[v];if(i.endLineNumber<S.startLineNumber)continue;if(i.startLineNumber>S.endLineNumber){f=f||{index:v};break}if(i.removeTokens(S),i.isEmpty()){this._pieces.splice(v,1),v--,o--;continue}if(i.endLineNumber<S.startLineNumber)continue;if(i.startLineNumber>S.endLineNumber){f=f||{index:v};continue}const[t,n]=i.split(S);if(t.isEmpty()){f=f||{index:v};continue}n.isEmpty()||(this._pieces.splice(v,1,t,n),v++,o++,f=f||{index:v})}return f=f||{index:this._pieces.length},m.length>0&&(this._pieces=y.arrayInsert(this._pieces,f.index,m)),S}isComplete(){return this._isComplete}addSparseTokens(_,m){if(m.getLineContent().length===0)return m;const S=this._pieces;if(S.length===0)return m;const f=L._findFirstPieceWithLine(S,_),v=S[f].getLineTokens(_);if(!v)return m;const o=m.getCount(),i=v.getCount();let t=0;const n=[];let r=0,l=0;const h=(s,u)=>{s!==l&&(l=s,n[r++]=s,n[r++]=u)};for(let s=0;s<i;s++){const u=v.getStartCharacter(s),a=v.getEndCharacter(s),d=v.getMetadata(s),c=((d&1?2048:0)|(d&2?4096:0)|(d&4?8192:0)|(d&8?16384:0)|(d&16?16744448:0)|(d&32?4278190080:0))>>>0,b=~c>>>0;for(;t<o&&m.getEndOffset(t)<=u;)h(m.getEndOffset(t),m.getMetadata(t)),t++;for(t<o&&m.getStartOffset(t)<u&&h(u,m.getMetadata(t));t<o&&m.getEndOffset(t)<a;)h(m.getEndOffset(t),m.getMetadata(t)&b|d&c),t++;if(t<o)h(a,m.getMetadata(t)&b|d&c),m.getEndOffset(t)===a&&t++;else{const g=Math.min(Math.max(0,t-1),o-1);h(a,m.getMetadata(g)&b|d&c)}}for(;t<o;)h(m.getEndOffset(t),m.getMetadata(t)),t++;return new k.LineTokens(new Uint32Array(n),m.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(_,m){let S=0,f=_.length-1;for(;S<f;){let v=S+Math.floor((f-S)/2);if(_[v].endLineNumber<m)S=v+1;else if(_[v].startLineNumber>m)f=v-1;else{for(;v>S&&_[v-1].startLineNumber<=m&&m<=_[v-1].endLineNumber;)v--;return v}}return S}acceptEdit(_,m,S,f,v){for(const o of this._pieces)o.acceptEdit(_,m,S,f,v)}}e.SparseTokensStore=L}),define(J[152],ee([1,0,2]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends y.Disposable{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let _=!1;for(let m=0,S=D.length;m<S;m++){const f=D[m];switch(f.type){case 0:this.onCompositionStart(f)&&(_=!0);break;case 1:this.onCompositionEnd(f)&&(_=!0);break;case 2:this.onConfigurationChanged(f)&&(_=!0);break;case 3:this.onCursorStateChanged(f)&&(_=!0);break;case 4:this.onDecorationsChanged(f)&&(_=!0);break;case 5:this.onFlushed(f)&&(_=!0);break;case 6:this.onFocusChanged(f)&&(_=!0);break;case 7:this.onLanguageConfigurationChanged(f)&&(_=!0);break;case 8:this.onLineMappingChanged(f)&&(_=!0);break;case 9:this.onLinesChanged(f)&&(_=!0);break;case 10:this.onLinesDeleted(f)&&(_=!0);break;case 11:this.onLinesInserted(f)&&(_=!0);break;case 12:this.onRevealRangeRequest(f)&&(_=!0);break;case 13:this.onScrollChanged(f)&&(_=!0);break;case 15:this.onTokensChanged(f)&&(_=!0);break;case 14:this.onThemeChanged(f)&&(_=!0);break;case 16:this.onTokensColorsChanged(f)&&(_=!0);break;case 17:this.onZonesChanged(f)&&(_=!0);break;default:console.info("View received unknown event: "),console.info(f)}}_&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(J[112],ee([1,0,152]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends y.ViewEventHandler{}e.DynamicViewOverlay=k}),define(J[53],ee([1,0,152]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class k extends y.ViewEventHandler{constructor(_){super(),this._context=_,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=k;class L{static write(_,m){_.setAttribute("data-mprt",String(m))}static read(_){const m=_.getAttribute("data-mprt");return m===null?0:parseInt(m,10)}static collect(_,m){const S=[];let f=0;for(;_&&_!==document.body&&_!==m;)_.nodeType===_.ELEMENT_NODE&&(S[f++]=this.read(_)),_=_.parentElement;const v=new Uint8Array(f);for(let o=0;o<f;o++)v[o]=S[f-o-1];return v}}e.PartFingerprints=L}),define(J[515],ee([1,0,35,53,410]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class L extends k.ViewPart{constructor(_){super(_),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let _=!1;const S=this._context.configuration.options.get(142),f=S.contentWidth-S.verticalScrollbarWidth;this.contentWidth!==f&&(this.contentWidth=f,_=!0);const v=S.contentLeft;return this.contentLeft!==v&&(this.contentLeft=v,_=!0),_}dispose(){super.dispose()}onConfigurationChanged(_){return this.update()}onScrollChanged(_){return _.scrollTopChanged||_.scrollLeftChanged}onDecorationsChanged(_){return!0}onZonesChanged(_){return!0}prepareRender(_){}render(_){var m;let S=0;const f=_.getDecorationsInViewport();for(const v of f){if(!v.options.blockClassName)continue;let o=this.blocks[S];o||(o=this.blocks[S]=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(o));let i,t;v.options.blockIsAfterEnd?(i=_.getVerticalOffsetAfterLineNumber(v.range.endLineNumber,!1),t=_.getVerticalOffsetAfterLineNumber(v.range.endLineNumber,!0)):(i=_.getVerticalOffsetForLineNumber(v.range.startLineNumber,!0),t=v.range.isEmpty()&&!v.options.blockDoesNotCollapse?_.getVerticalOffsetForLineNumber(v.range.startLineNumber,!1):_.getVerticalOffsetAfterLineNumber(v.range.endLineNumber,!0));const[n,r,l,h]=(m=v.options.blockPadding)!==null&&m!==void 0?m:[0,0,0,0];o.setClassName("blockDecorations-block "+v.options.blockClassName),o.setLeft(this.contentLeft-h),o.setWidth(this.contentWidth+h+r),o.setTop(i-_.scrollTop-n),o.setHeight(t-i+n+l),S++}for(let v=S;v<this.blocks.length;v++)this.blocks[v].domNode.remove();this.blocks.length=S}}e.BlockDecorations=L}),define(J[516],ee([1,0,112,146,5,412]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends y.DynamicViewOverlay{constructor(m){super(),this._context=m;const S=this._context.configuration.options;this._lineHeight=S.get(65),this._typicalHalfwidthCharacterWidth=S.get(49).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(m){const S=this._context.configuration.options;return this._lineHeight=S.get(65),this._typicalHalfwidthCharacterWidth=S.get(49).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(m){return!0}onFlushed(m){return!0}onLinesChanged(m){return!0}onLinesDeleted(m){return!0}onLinesInserted(m){return!0}onScrollChanged(m){return m.scrollTopChanged||m.scrollWidthChanged}onZonesChanged(m){return!0}prepareRender(m){const S=m.getDecorationsInViewport();let f=[],v=0;for(let n=0,r=S.length;n<r;n++){const l=S[n];l.options.className&&(f[v++]=l)}f=f.sort((n,r)=>{if(n.options.zIndex<r.options.zIndex)return-1;if(n.options.zIndex>r.options.zIndex)return 1;const l=n.options.className,h=r.options.className;return l<h?-1:l>h?1:L.Range.compareRangesUsingStarts(n.range,r.range)});const o=m.visibleRange.startLineNumber,i=m.visibleRange.endLineNumber,t=[];for(let n=o;n<=i;n++){const r=n-o;t[r]=""}this._renderWholeLineDecorations(m,f,t),this._renderNormalDecorations(m,f,t),this._renderResult=t}_renderWholeLineDecorations(m,S,f){const v=String(this._lineHeight),o=m.visibleRange.startLineNumber,i=m.visibleRange.endLineNumber;for(let t=0,n=S.length;t<n;t++){const r=S[t];if(!r.options.isWholeLine)continue;const l='<div class="cdr '+r.options.className+'" style="left:0;width:100%;height:'+v+'px;"></div>',h=Math.max(r.range.startLineNumber,o),s=Math.min(r.range.endLineNumber,i);for(let u=h;u<=s;u++){const a=u-o;f[a]+=l}}}_renderNormalDecorations(m,S,f){var v;const o=String(this._lineHeight),i=m.visibleRange.startLineNumber;let t=null,n=!1,r=null,l=!1;for(let h=0,s=S.length;h<s;h++){const u=S[h];if(u.options.isWholeLine)continue;const a=u.options.className,d=!!u.options.showIfCollapsed;let c=u.range;if(d&&c.endColumn===1&&c.endLineNumber!==c.startLineNumber&&(c=new L.Range(c.startLineNumber,c.startColumn,c.endLineNumber-1,this._context.viewModel.getLineMaxColumn(c.endLineNumber-1))),t===a&&n===d&&L.Range.areIntersectingOrTouching(r,c)){r=L.Range.plusRange(r,c);continue}t!==null&&this._renderNormalDecoration(m,r,t,l,n,o,i,f),t=a,n=d,r=c,l=(v=u.options.shouldFillLineOnLineBreak)!==null&&v!==void 0?v:!1}t!==null&&this._renderNormalDecoration(m,r,t,l,n,o,i,f)}_renderNormalDecoration(m,S,f,v,o,i,t,n){const r=m.linesVisibleRangesForRange(S,f==="findMatch");if(r)for(let l=0,h=r.length;l<h;l++){const s=r[l];if(s.outsideRenderedLine)continue;const u=s.lineNumber-t;if(o&&s.ranges.length===1){const a=s.ranges[0];if(a.width<this._typicalHalfwidthCharacterWidth){const d=Math.round(a.left+a.width/2),c=Math.max(0,Math.round(d-this._typicalHalfwidthCharacterWidth/2));s.ranges[0]=new k.HorizontalRange(c,this._typicalHalfwidthCharacterWidth)}}for(let a=0,d=s.ranges.length;a<d;a++){const c=v&&s.continuesOnNextLine&&d===1,b=s.ranges[a],g='<div class="cdr '+f+'" style="left:'+String(b.left)+(c?"px;width:100%;height:":"px;width:"+String(b.width)+"px;height:")+i+'px;"></div>';n[u]+=g}}}render(m,S){if(!this._renderResult)return"";const f=S-m;return f<0||f>=this._renderResult.length?"":this._renderResult[f]}}e.DecorationsOverlay=D}),define(J[211],ee([1,0,35,15,112,53,5,413]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginWidgets=e.DedupOverlay=e.VisibleLineDecorationsToRender=e.LineDecorationToRender=e.DecorationToRender=void 0;class m{constructor(l,h,s,u){this._decorationToRenderBrand=void 0,this.startLineNumber=+l,this.endLineNumber=+h,this.className=String(s),this.zIndex=u??0}}e.DecorationToRender=m;class S{constructor(l,h){this.className=l,this.zIndex=h}}e.LineDecorationToRender=S;class f{constructor(){this.decorations=[]}add(l){this.decorations.push(l)}getDecorations(){return this.decorations}}e.VisibleLineDecorationsToRender=f;class v extends L.DynamicViewOverlay{_render(l,h,s){const u=[];for(let c=l;c<=h;c++){const b=c-l;u[b]=new f}if(s.length===0)return u;s.sort((c,b)=>c.className===b.className?c.startLineNumber===b.startLineNumber?c.endLineNumber-b.endLineNumber:c.startLineNumber-b.startLineNumber:c.className<b.className?-1:1);let a=null,d=0;for(let c=0,b=s.length;c<b;c++){const g=s[c],p=g.className,C=g.zIndex;let w=Math.max(g.startLineNumber,l)-l;const E=Math.min(g.endLineNumber,h)-l;a===p?(w=Math.max(d+1,w),d=Math.max(d,E)):(a=p,d=E);for(let I=w;I<=d;I++)u[I].add(new S(p,C))}return u}}e.DedupOverlay=v;class o extends D.ViewPart{constructor(l){super(l),this._widgets={},this._context=l;const h=this._context.configuration.options,s=h.get(142);this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=h.get(65),this._glyphMargin=h.get(56),this._glyphMarginLeft=s.glyphMarginLeft,this._glyphMarginWidth=s.glyphMarginWidth,this._glyphMarginDecorationLaneCount=s.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(l){const h=this._context.configuration.options,s=h.get(142);return this._lineHeight=h.get(65),this._glyphMargin=h.get(56),this._glyphMarginLeft=s.glyphMarginLeft,this._glyphMarginWidth=s.glyphMarginWidth,this._glyphMarginDecorationLaneCount=s.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(l){return!0}onFlushed(l){return!0}onLinesChanged(l){return!0}onLinesDeleted(l){return!0}onLinesInserted(l){return!0}onScrollChanged(l){return l.scrollTopChanged}onZonesChanged(l){return!0}addWidget(l){const h=(0,y.createFastDomNode)(l.getDomNode());this._widgets[l.getId()]={widget:l,preference:l.getPosition(),domNode:h,renderInfo:null},h.setPosition("absolute"),h.setDisplay("none"),h.setAttribute("widgetId",l.getId()),this.domNode.appendChild(h),this.setShouldRender()}setWidgetPosition(l,h){const s=this._widgets[l.getId()];return s.preference.lane===h.lane&&s.preference.zIndex===h.zIndex&&_.Range.equalsRange(s.preference.range,h.range)?!1:(s.preference=h,this.setShouldRender(),!0)}removeWidget(l){var h;const s=l.getId();if(this._widgets[s]){const a=this._widgets[s].domNode.domNode;delete this._widgets[s],(h=a.parentNode)===null||h===void 0||h.removeChild(a),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(l,h){var s,u,a;const d=l.visibleRange.startLineNumber,c=l.visibleRange.endLineNumber,b=l.getDecorationsInViewport();for(const g of b){const p=g.options.glyphMarginClassName;if(!p)continue;const C=Math.max(g.range.startLineNumber,d),w=Math.min(g.range.endLineNumber,c),E=Math.min((u=(s=g.options.glyphMargin)===null||s===void 0?void 0:s.position)!==null&&u!==void 0?u:1,this._glyphMarginDecorationLaneCount),I=(a=g.options.zIndex)!==null&&a!==void 0?a:0;for(let T=C;T<=w;T++)h.push(new i(T,E,I,p))}}_collectWidgetBasedGlyphRenderRequest(l,h){const s=l.visibleRange.startLineNumber,u=l.visibleRange.endLineNumber;for(const a of Object.values(this._widgets)){const d=a.preference.range;if(d.endLineNumber<s||d.startLineNumber>u)continue;const c=Math.max(d.startLineNumber,s),b=Math.min(a.preference.lane,this._glyphMarginDecorationLaneCount);h.push(new t(c,b,a.preference.zIndex,a))}}_collectSortedGlyphRenderRequests(l){const h=[];return this._collectDecorationBasedGlyphRenderRequest(l,h),this._collectWidgetBasedGlyphRenderRequest(l,h),h.sort((s,u)=>s.lineNumber===u.lineNumber?s.lane===u.lane?s.zIndex===u.zIndex?u.type===s.type?s.type===0&&u.type===0?s.className<u.className?-1:1:0:u.type-s.type:u.zIndex-s.zIndex:s.lane-u.lane:s.lineNumber-u.lineNumber),h}prepareRender(l){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const u of Object.values(this._widgets))u.renderInfo=null;const h=new k.ArrayQueue(this._collectSortedGlyphRenderRequests(l)),s=[];for(;h.length>0;){const u=h.peek();if(!u)break;const a=h.takeWhile(c=>c.lineNumber===u.lineNumber&&c.lane===u.lane);if(!a||a.length===0)break;const d=a[0];if(d.type===0){const c=[];for(const b of a){if(b.zIndex!==d.zIndex||b.type!==d.type)break;(c.length===0||c[c.length-1]!==b.className)&&c.push(b.className)}s.push(d.accept(c.join(" ")))}else d.widget.renderInfo={lineNumber:d.lineNumber,lane:d.lane}}this._decorationGlyphsToRender=s}render(l){if(!this._glyphMargin){for(const s of Object.values(this._widgets))s.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const s=this._managedDomNodes.pop();s?.domNode.remove()}return}const h=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const s of Object.values(this._widgets))if(!s.renderInfo)s.domNode.setDisplay("none");else{const u=l.viewportData.relativeVerticalOffset[s.renderInfo.lineNumber-l.viewportData.startLineNumber],a=this._glyphMarginLeft+(s.renderInfo.lane-1)*this._lineHeight;s.domNode.setDisplay("block"),s.domNode.setTop(u),s.domNode.setLeft(a),s.domNode.setWidth(h),s.domNode.setHeight(this._lineHeight)}for(let s=0;s<this._decorationGlyphsToRender.length;s++){const u=this._decorationGlyphsToRender[s],a=l.viewportData.relativeVerticalOffset[u.lineNumber-l.viewportData.startLineNumber],d=this._glyphMarginLeft+(u.lane-1)*this._lineHeight;let c;s<this._managedDomNodes.length?c=this._managedDomNodes[s]:(c=(0,y.createFastDomNode)(document.createElement("div")),this._managedDomNodes.push(c),this.domNode.appendChild(c)),c.setClassName("cgmr codicon "+u.combinedClassName),c.setPosition("absolute"),c.setTop(a),c.setLeft(d),c.setWidth(h),c.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const s=this._managedDomNodes.pop();s?.domNode.remove()}}}e.GlyphMarginWidgets=o;class i{constructor(l,h,s,u){this.lineNumber=l,this.lane=h,this.zIndex=s,this.className=u,this.type=0}accept(l){return new n(this.lineNumber,this.lane,l)}}class t{constructor(l,h,s,u){this.lineNumber=l,this.lane=h,this.zIndex=s,this.widget=u,this.type=1}}class n{constructor(l,h,s){this.lineNumber=l,this.lane=h,this.combinedClassName=s}}}),define(J[517],ee([1,0,211,417]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends y.DedupOverlay{constructor(D){super(),this._context=D;const m=this._context.configuration.options.get(142);this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){const m=this._context.configuration.options.get(142);return this._decorationsLeft=m.decorationsLeft,this._decorationsWidth=m.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const _=D.getDecorationsInViewport(),m=[];let S=0;for(let f=0,v=_.length;f<v;f++){const o=_[f],i=o.options.linesDecorationsClassName,t=o.options.zIndex;i&&(m[S++]=new y.DecorationToRender(o.range.startLineNumber,o.range.endLineNumber,i,t));const n=o.options.firstLineDecorationClassName;n&&(m[S++]=new y.DecorationToRender(o.range.startLineNumber,o.range.startLineNumber,n,t))}return m}prepareRender(D){const _=D.visibleRange.startLineNumber,m=D.visibleRange.endLineNumber,S=this._render(_,m,this._getDecorations(D)),f=this._decorationsLeft.toString(),v=this._decorationsWidth.toString(),o='" style="left:'+f+"px;width:"+v+'px;"></div>',i=[];for(let t=_;t<=m;t++){const n=t-_,r=S[n].getDecorations();let l="";for(const h of r)l+='<div class="cldr '+h.className+o;i[n]=l}this._renderResult=i}render(D,_){return this._renderResult?this._renderResult[_-D]:""}}e.LinesDecorationsOverlay=k}),define(J[288],ee([1,0,35,53,418]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class L extends k.ViewPart{constructor(_){super(_);const m=this._context.configuration.options,S=m.get(142);this._canUseLayerHinting=!m.get(31),this._contentLeft=S.contentLeft,this._glyphMarginLeft=S.glyphMarginLeft,this._glyphMarginWidth=S.glyphMarginWidth,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(L.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(L.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(_){const m=this._context.configuration.options,S=m.get(142);return this._canUseLayerHinting=!m.get(31),this._contentLeft=S.contentLeft,this._glyphMarginLeft=S.glyphMarginLeft,this._glyphMarginWidth=S.glyphMarginWidth,!0}onScrollChanged(_){return super.onScrollChanged(_)||_.scrollTopChanged}prepareRender(_){}render(_){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const m=_.scrollTop-_.bigNumbersDelta;this._domNode.setTop(-m);const S=Math.min(_.scrollHeight,1e6);this._domNode.setHeight(S),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(S)}}e.Margin=L,L.CLASS_NAME="glyph-margin",L.OUTER_CLASS_NAME="margin"}),define(J[518],ee([1,0,211,419]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends y.DedupOverlay{constructor(D){super(),this._context=D,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const _=D.getDecorationsInViewport(),m=[];let S=0;for(let f=0,v=_.length;f<v;f++){const o=_[f],i=o.options.marginClassName,t=o.options.zIndex;i&&(m[S++]=new y.DecorationToRender(o.range.startLineNumber,o.range.endLineNumber,i,t))}return m}prepareRender(D){const _=D.visibleRange.startLineNumber,m=D.visibleRange.endLineNumber,S=this._render(_,m,this._getDecorations(D)),f=[];for(let v=_;v<=m;v++){const o=v-_,i=S[o].getDecorations();let t="";for(const n of i)t+='<div class="cmdr '+n.className+'" style=""></div>';f[o]=t}this._renderResult=f}render(D,_){return this._renderResult?this._renderResult[_-D]:""}}e.MarginViewLineDecorationsOverlay=k}),define(J[519],ee([1,0,35,53,421]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class L extends k.ViewPart{constructor(_){super(_);const S=this._context.configuration.options.get(142);this._widgets={},this._verticalScrollbarWidth=S.verticalScrollbarWidth,this._minimapWidth=S.minimap.minimapWidth,this._horizontalScrollbarHeight=S.horizontalScrollbarHeight,this._editorHeight=S.height,this._editorWidth=S.width,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(_){const S=this._context.configuration.options.get(142);return this._verticalScrollbarWidth=S.verticalScrollbarWidth,this._minimapWidth=S.minimap.minimapWidth,this._horizontalScrollbarHeight=S.horizontalScrollbarHeight,this._editorHeight=S.height,this._editorWidth=S.width,!0}addWidget(_){const m=(0,y.createFastDomNode)(_.getDomNode());this._widgets[_.getId()]={widget:_,preference:null,domNode:m},m.setPosition("absolute"),m.setAttribute("widgetId",_.getId()),this._domNode.appendChild(m),this.setShouldRender()}setWidgetPosition(_,m){const S=this._widgets[_.getId()];return S.preference===m?!1:(S.preference=m,this.setShouldRender(),!0)}removeWidget(_){const m=_.getId();if(this._widgets.hasOwnProperty(m)){const f=this._widgets[m].domNode.domNode;delete this._widgets[m],f.parentNode.removeChild(f),this.setShouldRender()}}_renderWidget(_){const m=_.domNode;if(_.preference===null){m.setTop("");return}if(_.preference===0)m.setTop(0),m.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(_.preference===1){const S=m.domNode.clientHeight;m.setTop(this._editorHeight-S-2*this._horizontalScrollbarHeight),m.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else _.preference===2&&(m.setTop(0),m.domNode.style.right="50%")}prepareRender(_){}render(_){this._domNode.setWidth(this._editorWidth);const m=Object.keys(this._widgets);for(let S=0,f=m.length;S<f;S++){const v=m[S];this._renderWidget(this._widgets[v])}}}e.ViewOverlayWidgets=L}),define(J[520],ee([1,0,35,53,422]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class L extends k.ViewPart{constructor(_){super(_),this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const m=this._context.configuration.options;this._rulers=m.get(100),this._typicalHalfwidthCharacterWidth=m.get(49).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(_){const m=this._context.configuration.options;return this._rulers=m.get(100),this._typicalHalfwidthCharacterWidth=m.get(49).typicalHalfwidthCharacterWidth,!0}onScrollChanged(_){return _.scrollHeightChanged}prepareRender(_){}_ensureRulersCount(){const _=this._renderedRulers.length,m=this._rulers.length;if(_===m)return;if(_<m){const{tabSize:f}=this._context.viewModel.model.getOptions(),v=f;let o=m-_;for(;o>0;){const i=(0,y.createFastDomNode)(document.createElement("div"));i.setClassName("view-ruler"),i.setWidth(v),this.domNode.appendChild(i),this._renderedRulers.push(i),o--}return}let S=_-m;for(;S>0;){const f=this._renderedRulers.pop();this.domNode.removeChild(f),S--}}render(_){this._ensureRulersCount();for(let m=0,S=this._rulers.length;m<S;m++){const f=this._renderedRulers[m],v=this._rulers[m];f.setBoxShadow(v.color?`1px 0 0 0 ${v.color} inset`:""),f.setHeight(Math.min(_.scrollHeight,1e6)),f.setLeft(v.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=L}),define(J[521],ee([1,0,35,53,423]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class L extends k.ViewPart{constructor(_){super(_),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const S=this._context.configuration.options.get(101);this._useShadows=S.useShadows,this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const _=this._useShadows&&this._scrollTop>0;return this._shouldShow!==_?(this._shouldShow=_,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const m=this._context.configuration.options.get(142);m.minimap.renderMinimap===0||m.minimap.minimapWidth>0&&m.minimap.minimapLeft===0?this._width=m.width:this._width=m.width-m.verticalScrollbarWidth}onConfigurationChanged(_){const S=this._context.configuration.options.get(101);return this._useShadows=S.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(_){return this._scrollTop=_.scrollTop,this._updateShouldShow()}prepareRender(_){}render(_){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=L}),define(J[522],ee([1,0,35,12,53,11]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const _=()=>{throw new Error("Invalid change accessor")};class m extends L.ViewPart{constructor(v){super(v);const o=this._context.configuration.options,i=o.get(142);this._lineHeight=o.get(65),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=(0,y.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,y.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const v=this._context.viewLayout.getWhitespaces(),o=new Map;for(const t of v)o.set(t.id,t);let i=!1;return this._context.viewModel.changeWhitespace(t=>{const n=Object.keys(this._zones);for(let r=0,l=n.length;r<l;r++){const h=n[r],s=this._zones[h],u=this._computeWhitespaceProps(s.delegate);s.isInHiddenArea=u.isInHiddenArea;const a=o.get(h);a&&(a.afterLineNumber!==u.afterViewLineNumber||a.height!==u.heightInPx)&&(t.changeOneWhitespace(h,u.afterViewLineNumber,u.heightInPx),this._safeCallOnComputedHeight(s.delegate,u.heightInPx),i=!0)}}),i}onConfigurationChanged(v){const o=this._context.configuration.options,i=o.get(142);return this._lineHeight=o.get(65),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,v.hasChanged(65)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(v){return this._recomputeWhitespacesProps()}onLinesDeleted(v){return!0}onScrollChanged(v){return v.scrollTopChanged||v.scrollWidthChanged}onZonesChanged(v){return!0}onLinesInserted(v){return!0}_getZoneOrdinal(v){var o,i;return(i=(o=v.ordinal)!==null&&o!==void 0?o:v.afterColumn)!==null&&i!==void 0?i:1e4}_computeWhitespaceProps(v){if(v.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(v),minWidthInPx:this._minWidthInPixels(v)};let o;if(typeof v.afterColumn<"u")o=this._context.viewModel.model.validatePosition({lineNumber:v.afterLineNumber,column:v.afterColumn});else{const r=this._context.viewModel.model.validatePosition({lineNumber:v.afterLineNumber,column:1}).lineNumber;o=new D.Position(r,this._context.viewModel.model.getLineMaxColumn(r))}let i;o.column===this._context.viewModel.model.getLineMaxColumn(o.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber,column:o.column+1});const t=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o,v.afterColumnAffinity,!0),n=v.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!n,afterViewLineNumber:t.lineNumber,heightInPx:n?this._heightInPixels(v):0,minWidthInPx:this._minWidthInPixels(v)}}changeViewZones(v){let o=!1;return this._context.viewModel.changeWhitespace(i=>{const t={addZone:n=>(o=!0,this._addZone(i,n)),removeZone:n=>{n&&(o=this._removeZone(i,n)||o)},layoutZone:n=>{n&&(o=this._layoutZone(i,n)||o)}};S(v,t),t.addZone=_,t.removeZone=_,t.layoutZone=_}),o}_addZone(v,o){const i=this._computeWhitespaceProps(o),n={whitespaceId:v.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(o),i.heightInPx,i.minWidthInPx),delegate:o,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:(0,y.createFastDomNode)(o.domNode),marginDomNode:o.marginDomNode?(0,y.createFastDomNode)(o.marginDomNode):null};return this._safeCallOnComputedHeight(n.delegate,i.heightInPx),n.domNode.setPosition("absolute"),n.domNode.domNode.style.width="100%",n.domNode.setDisplay("none"),n.domNode.setAttribute("monaco-view-zone",n.whitespaceId),this.domNode.appendChild(n.domNode),n.marginDomNode&&(n.marginDomNode.setPosition("absolute"),n.marginDomNode.domNode.style.width="100%",n.marginDomNode.setDisplay("none"),n.marginDomNode.setAttribute("monaco-view-zone",n.whitespaceId),this.marginDomNode.appendChild(n.marginDomNode)),this._zones[n.whitespaceId]=n,this.setShouldRender(),n.whitespaceId}_removeZone(v,o){if(this._zones.hasOwnProperty(o)){const i=this._zones[o];return delete this._zones[o],v.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(v,o){if(this._zones.hasOwnProperty(o)){const i=this._zones[o],t=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=t.isInHiddenArea,v.changeOneWhitespace(i.whitespaceId,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(i.delegate,t.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(v){return this._zones.hasOwnProperty(v)?!!this._zones[v].delegate.suppressMouseDown:!1}_heightInPixels(v){return typeof v.heightInPx=="number"?v.heightInPx:typeof v.heightInLines=="number"?this._lineHeight*v.heightInLines:this._lineHeight}_minWidthInPixels(v){return typeof v.minWidthInPx=="number"?v.minWidthInPx:0}_safeCallOnComputedHeight(v,o){if(typeof v.onComputedHeight=="function")try{v.onComputedHeight(o)}catch(i){(0,k.onUnexpectedError)(i)}}_safeCallOnDomNodeTop(v,o){if(typeof v.onDomNodeTop=="function")try{v.onDomNodeTop(o)}catch(i){(0,k.onUnexpectedError)(i)}}prepareRender(v){}render(v){const o=v.viewportData.whitespaceViewportData,i={};let t=!1;for(const r of o)this._zones[r.id].isInHiddenArea||(i[r.id]=r,t=!0);const n=Object.keys(this._zones);for(let r=0,l=n.length;r<l;r++){const h=n[r],s=this._zones[h];let u=0,a=0,d="none";i.hasOwnProperty(h)?(u=i[h].verticalOffset-v.bigNumbersDelta,a=i[h].height,d="block",s.isVisible||(s.domNode.setAttribute("monaco-visible-view-zone","true"),s.isVisible=!0),this._safeCallOnDomNodeTop(s.delegate,v.getScrolledTopFromAbsoluteTop(i[h].verticalOffset))):(s.isVisible&&(s.domNode.removeAttribute("monaco-visible-view-zone"),s.isVisible=!1),this._safeCallOnDomNodeTop(s.delegate,v.getScrolledTopFromAbsoluteTop(-1e6))),s.domNode.setTop(u),s.domNode.setHeight(a),s.domNode.setDisplay(d),s.marginDomNode&&(s.marginDomNode.setTop(u),s.marginDomNode.setHeight(a),s.marginDomNode.setDisplay(d))}t&&(this.domNode.setWidth(Math.max(v.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=m;function S(f,v){try{return f(v)}catch(o){(0,k.onUnexpectedError)(o)}}}),define(J[212],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class y{constructor(){this.type=0}}e.ViewCompositionStartEvent=y;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class L{constructor(d){this.type=2,this._source=d}hasChanged(d){return this._source.hasChanged(d)}}e.ViewConfigurationChangedEvent=L;class D{constructor(d,c,b){this.selections=d,this.modelSelections=c,this.reason=b,this.type=3}}e.ViewCursorStateChangedEvent=D;class _{constructor(d){this.type=4,d?(this.affectsMinimap=d.affectsMinimap,this.affectsOverviewRuler=d.affectsOverviewRuler,this.affectsGlyphMargin=d.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}}e.ViewDecorationsChangedEvent=_;class m{constructor(){this.type=5}}e.ViewFlushedEvent=m;class S{constructor(d){this.type=6,this.isFocused=d}}e.ViewFocusChangedEvent=S;class f{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=f;class v{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=v;class o{constructor(d,c){this.fromLineNumber=d,this.count=c,this.type=9}}e.ViewLinesChangedEvent=o;class i{constructor(d,c){this.type=10,this.fromLineNumber=d,this.toLineNumber=c}}e.ViewLinesDeletedEvent=i;class t{constructor(d,c){this.type=11,this.fromLineNumber=d,this.toLineNumber=c}}e.ViewLinesInsertedEvent=t;class n{constructor(d,c,b,g,p,C,w){this.source=d,this.minimalReveal=c,this.range=b,this.selections=g,this.verticalType=p,this.revealHorizontal=C,this.scrollType=w,this.type=12}}e.ViewRevealRangeRequestEvent=n;class r{constructor(d){this.type=13,this.scrollWidth=d.scrollWidth,this.scrollLeft=d.scrollLeft,this.scrollHeight=d.scrollHeight,this.scrollTop=d.scrollTop,this.scrollWidthChanged=d.scrollWidthChanged,this.scrollLeftChanged=d.scrollLeftChanged,this.scrollHeightChanged=d.scrollHeightChanged,this.scrollTopChanged=d.scrollTopChanged}}e.ViewScrollChangedEvent=r;class l{constructor(d){this.theme=d,this.type=14}}e.ViewThemeChangedEvent=l;class h{constructor(d){this.type=15,this.ranges=d}}e.ViewTokensChangedEvent=h;class s{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=s;class u{constructor(){this.type=17}}e.ViewZonesChangedEvent=u}),define(J[129],ee([1,0,9]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(S,f,v,o){this.startColumn=S,this.endColumn=f,this.className=v,this.type=o,this._lineDecorationBrand=void 0}static _equals(S,f){return S.startColumn===f.startColumn&&S.endColumn===f.endColumn&&S.className===f.className&&S.type===f.type}static equalsArr(S,f){const v=S.length,o=f.length;if(v!==o)return!1;for(let i=0;i<v;i++)if(!k._equals(S[i],f[i]))return!1;return!0}static extractWrapped(S,f,v){if(S.length===0)return S;const o=f+1,i=v+1,t=v-f,n=[];let r=0;for(const l of S)l.endColumn<=o||l.startColumn>=i||(n[r++]=new k(Math.max(1,l.startColumn-o+1),Math.min(t+1,l.endColumn-o+1),l.className,l.type));return n}static filter(S,f,v,o){if(S.length===0)return[];const i=[];let t=0;for(let n=0,r=S.length;n<r;n++){const l=S[n],h=l.range;if(h.endLineNumber<f||h.startLineNumber>f||h.isEmpty()&&(l.type===0||l.type===3))continue;const s=h.startLineNumber===f?h.startColumn:v,u=h.endLineNumber===f?h.endColumn:o;i[t++]=new k(s,u,l.inlineClassName,l.type)}return i}static _typeCompare(S,f){const v=[2,0,1,3];return v[S]-v[f]}static compare(S,f){if(S.startColumn!==f.startColumn)return S.startColumn-f.startColumn;if(S.endColumn!==f.endColumn)return S.endColumn-f.endColumn;const v=k._typeCompare(S.type,f.type);return v!==0?v:S.className!==f.className?S.className<f.className?-1:1:0}}e.LineDecoration=k;class L{constructor(S,f,v,o){this.startOffset=S,this.endOffset=f,this.className=v,this.metadata=o}}e.DecorationSegment=L;class D{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(S){let f=0;for(let v=0,o=S.length;v<o;v++)f|=S[v];return f}consumeLowerThan(S,f,v){for(;this.count>0&&this.stopOffsets[0]<S;){let o=0;for(;o+1<this.count&&this.stopOffsets[o]===this.stopOffsets[o+1];)o++;v.push(new L(f,this.stopOffsets[o],this.classNames.join(" "),D._metadata(this.metadata))),f=this.stopOffsets[o]+1,this.stopOffsets.splice(0,o+1),this.classNames.splice(0,o+1),this.metadata.splice(0,o+1),this.count-=o+1}return this.count>0&&f<S&&(v.push(new L(f,S-1,this.classNames.join(" "),D._metadata(this.metadata))),f=S),f}insert(S,f,v){if(this.count===0||this.stopOffsets[this.count-1]<=S)this.stopOffsets.push(S),this.classNames.push(f),this.metadata.push(v);else for(let o=0;o<this.count;o++)if(this.stopOffsets[o]>=S){this.stopOffsets.splice(o,0,S),this.classNames.splice(o,0,f),this.metadata.splice(o,0,v);break}this.count++}}class _{static normalize(S,f){if(f.length===0)return[];const v=[],o=new D;let i=0;for(let t=0,n=f.length;t<n;t++){const r=f[t];let l=r.startColumn,h=r.endColumn;const s=r.className,u=r.type===1?2:r.type===2?4:0;if(l>1){const c=S.charCodeAt(l-2);y.isHighSurrogate(c)&&l--}if(h>1){const c=S.charCodeAt(h-2);y.isHighSurrogate(c)&&h--}const a=l-1,d=h-2;i=o.consumeLowerThan(a,i,v),o.count===0&&(i=a),o.insert(d,s,u)}return o.consumeLowerThan(1073741824,i,v),v}}e.LineDecorationsNormalizer=_}),define(J[523],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class y{constructor(L,D,_,m){this.endIndex=L,this.type=D,this.metadata=_,this.containsRTL=m,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=y}),define(J[524],ee([1,0,9]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(m){this._hasPending=!0,this._inserts.push(m)}change(m){this._hasPending=!0,this._changes.push(m)}remove(m){this._hasPending=!0,this._removes.push(m)}mustCommit(){return this._hasPending}commit(m){if(!this._hasPending)return;const S=this._inserts,f=this._changes,v=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],m._commitPendingChanges(S,f,v)}}class L{constructor(m,S,f,v,o){this.id=m,this.afterLineNumber=S,this.ordinal=f,this.height=v,this.minWidth=o,this.prefixSum=0}}e.EditorWhitespace=L;class D{constructor(m,S,f,v){this._instanceId=y.singleLetterHash(++D.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=m,this._lineHeight=S,this._paddingTop=f,this._paddingBottom=v}static findInsertionIndex(m,S,f){let v=0,o=m.length;for(;v<o;){const i=v+o>>>1;S===m[i].afterLineNumber?f<m[i].ordinal?o=i:v=i+1:S<m[i].afterLineNumber?o=i:v=i+1}return v}setLineHeight(m){this._checkPendingChanges(),this._lineHeight=m}setPadding(m,S){this._paddingTop=m,this._paddingBottom=S}onFlushed(m){this._checkPendingChanges(),this._lineCount=m}changeWhitespace(m){let S=!1;try{m({insertWhitespace:(v,o,i,t)=>{S=!0,v=v|0,o=o|0,i=i|0,t=t|0;const n=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new L(n,v,o,i,t)),n},changeOneWhitespace:(v,o,i)=>{S=!0,o=o|0,i=i|0,this._pendingChanges.change({id:v,newAfterLineNumber:o,newHeight:i})},removeWhitespace:v=>{S=!0,this._pendingChanges.remove({id:v})}})}finally{this._pendingChanges.commit(this)}return S}_commitPendingChanges(m,S,f){if((m.length>0||f.length>0)&&(this._minWidth=-1),m.length+S.length+f.length<=1){for(const n of m)this._insertWhitespace(n);for(const n of S)this._changeOneWhitespace(n.id,n.newAfterLineNumber,n.newHeight);for(const n of f){const r=this._findWhitespaceIndex(n.id);r!==-1&&this._removeWhitespace(r)}return}const v=new Set;for(const n of f)v.add(n.id);const o=new Map;for(const n of S)o.set(n.id,n);const i=n=>{const r=[];for(const l of n)if(!v.has(l.id)){if(o.has(l.id)){const h=o.get(l.id);l.afterLineNumber=h.newAfterLineNumber,l.height=h.newHeight}r.push(l)}return r},t=i(this._arr).concat(i(m));t.sort((n,r)=>n.afterLineNumber===r.afterLineNumber?n.ordinal-r.ordinal:n.afterLineNumber-r.afterLineNumber),this._arr=t,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(m){const S=D.findInsertionIndex(this._arr,m.afterLineNumber,m.ordinal);this._arr.splice(S,0,m),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,S-1)}_findWhitespaceIndex(m){const S=this._arr;for(let f=0,v=S.length;f<v;f++)if(S[f].id===m)return f;return-1}_changeOneWhitespace(m,S,f){const v=this._findWhitespaceIndex(m);if(v!==-1&&(this._arr[v].height!==f&&(this._arr[v].height=f,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)),this._arr[v].afterLineNumber!==S)){const o=this._arr[v];this._removeWhitespace(v),o.afterLineNumber=S,this._insertWhitespace(o)}}_removeWhitespace(m){this._arr.splice(m,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,m-1)}onLinesDeleted(m,S){this._checkPendingChanges(),m=m|0,S=S|0,this._lineCount-=S-m+1;for(let f=0,v=this._arr.length;f<v;f++){const o=this._arr[f].afterLineNumber;m<=o&&o<=S?this._arr[f].afterLineNumber=m-1:o>S&&(this._arr[f].afterLineNumber-=S-m+1)}}onLinesInserted(m,S){this._checkPendingChanges(),m=m|0,S=S|0,this._lineCount+=S-m+1;for(let f=0,v=this._arr.length;f<v;f++){const o=this._arr[f].afterLineNumber;m<=o&&(this._arr[f].afterLineNumber+=S-m+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(m){this._checkPendingChanges(),m=m|0;let S=Math.max(0,this._prefixSumValidIndex+1);S===0&&(this._arr[0].prefixSum=this._arr[0].height,S++);for(let f=S;f<=m;f++)this._arr[f].prefixSum=this._arr[f-1].prefixSum+this._arr[f].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,m),this._arr[m].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const m=this._lineHeight*this._lineCount,S=this.getWhitespacesTotalHeight();return m+S+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(m){this._checkPendingChanges(),m=m|0;const S=this._findLastWhitespaceBeforeLineNumber(m);return S===-1?0:this.getWhitespacesAccumulatedHeight(S)}_findLastWhitespaceBeforeLineNumber(m){m=m|0;const S=this._arr;let f=0,v=S.length-1;for(;f<=v;){const i=(v-f|0)/2|0,t=f+i|0;if(S[t].afterLineNumber<m){if(t+1>=S.length||S[t+1].afterLineNumber>=m)return t;f=t+1|0}else v=t-1|0}return-1}_findFirstWhitespaceAfterLineNumber(m){m=m|0;const f=this._findLastWhitespaceBeforeLineNumber(m)+1;return f<this._arr.length?f:-1}getFirstWhitespaceIndexAfterLineNumber(m){return this._checkPendingChanges(),m=m|0,this._findFirstWhitespaceAfterLineNumber(m)}getVerticalOffsetForLineNumber(m,S=!1){this._checkPendingChanges(),m=m|0;let f;m>1?f=this._lineHeight*(m-1):f=0;const v=this.getWhitespaceAccumulatedHeightBeforeLineNumber(m-(S?1:0));return f+v+this._paddingTop}getVerticalOffsetAfterLineNumber(m,S=!1){this._checkPendingChanges(),m=m|0;const f=this._lineHeight*m,v=this.getWhitespaceAccumulatedHeightBeforeLineNumber(m+(S?1:0));return f+v+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let m=0;for(let S=0,f=this._arr.length;S<f;S++)m=Math.max(m,this._arr[S].minWidth);this._minWidth=m}return this._minWidth}isAfterLines(m){this._checkPendingChanges();const S=this.getLinesTotalHeight();return m>S}isInTopPadding(m){return this._paddingTop===0?!1:(this._checkPendingChanges(),m<this._paddingTop)}isInBottomPadding(m){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const S=this.getLinesTotalHeight();return m>=S-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(m){if(this._checkPendingChanges(),m=m|0,m<0)return 1;const S=this._lineCount|0,f=this._lineHeight;let v=1,o=S;for(;v<o;){const i=(v+o)/2|0,t=this.getVerticalOffsetForLineNumber(i)|0;if(m>=t+f)v=i+1;else{if(m>=t)return i;o=i}}return v>S?S:v}getLinesViewportData(m,S){this._checkPendingChanges(),m=m|0,S=S|0;const f=this._lineHeight,v=this.getLineNumberAtOrAfterVerticalOffset(m)|0,o=this.getVerticalOffsetForLineNumber(v)|0;let i=this._lineCount|0,t=this.getFirstWhitespaceIndexAfterLineNumber(v)|0;const n=this.getWhitespacesCount()|0;let r,l;t===-1?(t=n,l=i+1,r=0):(l=this.getAfterLineNumberForWhitespaceIndex(t)|0,r=this.getHeightForWhitespaceIndex(t)|0);let h=o,s=h;const u=5e5;let a=0;o>=u&&(a=Math.floor(o/u)*u,a=Math.floor(a/f)*f,s-=a);const d=[],c=m+(S-m)/2;let b=-1;for(let w=v;w<=i;w++){if(b===-1){const E=h,I=h+f;(E<=c&&c<I||E>c)&&(b=w)}for(h+=f,d[w-v]=s,s+=f;l===w;)s+=r,h+=r,t++,t>=n?l=i+1:(l=this.getAfterLineNumberForWhitespaceIndex(t)|0,r=this.getHeightForWhitespaceIndex(t)|0);if(h>=S){i=w;break}}b===-1&&(b=i);const g=this.getVerticalOffsetForLineNumber(i)|0;let p=v,C=i;return p<C&&o<m&&p++,p<C&&g+f>S&&C--,{bigNumbersDelta:a,startLineNumber:v,endLineNumber:i,relativeVerticalOffset:d,centeredLineNumber:b,completelyVisibleStartLineNumber:p,completelyVisibleEndLineNumber:C}}getVerticalOffsetForWhitespaceIndex(m){this._checkPendingChanges(),m=m|0;const S=this.getAfterLineNumberForWhitespaceIndex(m);let f;S>=1?f=this._lineHeight*S:f=0;let v;return m>0?v=this.getWhitespacesAccumulatedHeight(m-1):v=0,f+v+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(m){this._checkPendingChanges(),m=m|0;let S=0,f=this.getWhitespacesCount()-1;if(f<0)return-1;const v=this.getVerticalOffsetForWhitespaceIndex(f),o=this.getHeightForWhitespaceIndex(f);if(m>=v+o)return-1;for(;S<f;){const i=Math.floor((S+f)/2),t=this.getVerticalOffsetForWhitespaceIndex(i),n=this.getHeightForWhitespaceIndex(i);if(m>=t+n)S=i+1;else{if(m>=t)return i;f=i}}return S}getWhitespaceAtVerticalOffset(m){this._checkPendingChanges(),m=m|0;const S=this.getWhitespaceIndexAtOrAfterVerticallOffset(m);if(S<0||S>=this.getWhitespacesCount())return null;const f=this.getVerticalOffsetForWhitespaceIndex(S);if(f>m)return null;const v=this.getHeightForWhitespaceIndex(S),o=this.getIdForWhitespaceIndex(S),i=this.getAfterLineNumberForWhitespaceIndex(S);return{id:o,afterLineNumber:i,verticalOffset:f,height:v}}getWhitespaceViewportData(m,S){this._checkPendingChanges(),m=m|0,S=S|0;const f=this.getWhitespaceIndexAtOrAfterVerticallOffset(m),v=this.getWhitespacesCount()-1;if(f<0)return[];const o=[];for(let i=f;i<=v;i++){const t=this.getVerticalOffsetForWhitespaceIndex(i),n=this.getHeightForWhitespaceIndex(i);if(t>=S)break;o.push({id:this.getIdForWhitespaceIndex(i),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:t,height:n})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].id}getAfterLineNumberForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].afterLineNumber}getHeightForWhitespaceIndex(m){return this._checkPendingChanges(),m=m|0,this._arr[m].height}}e.LinesLayout=D,D.INSTANCE_COUNT=0}),define(J[525],ee([1,0,5]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(D,_,m,S){this.selections=D,this.startLineNumber=_.startLineNumber|0,this.endLineNumber=_.endLineNumber|0,this.relativeVerticalOffset=_.relativeVerticalOffset,this.bigNumbersDelta=_.bigNumbersDelta|0,this.whitespaceViewportData=m,this._model=S,this.visibleRange=new y.Range(_.startLineNumber,this._model.getLineMinColumn(_.startLineNumber),_.endLineNumber,this._model.getLineMaxColumn(_.endLineNumber))}getViewLineRenderingData(D){return this._model.getViewportViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(J[67],ee([1,0,9,5]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class L{constructor(t,n,r,l){this._viewportBrand=void 0,this.top=t|0,this.left=n|0,this.width=r|0,this.height=l|0}}e.Viewport=L;class D{constructor(t,n){this.tabSize=t,this.data=n}}e.MinimapLinesRenderingData=D;class _{constructor(t,n,r,l,h,s,u){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=n,this.minColumn=r,this.maxColumn=l,this.startVisibleColumn=h,this.tokens=s,this.inlineDecorations=u}}e.ViewLineData=_;class m{constructor(t,n,r,l,h,s,u,a,d,c){this.minColumn=t,this.maxColumn=n,this.content=r,this.continuesWithWrappedLine=l,this.isBasicASCII=m.isBasicASCII(r,s),this.containsRTL=m.containsRTL(r,this.isBasicASCII,h),this.tokens=u,this.inlineDecorations=a,this.tabSize=d,this.startVisibleColumn=c}static isBasicASCII(t,n){return n?y.isBasicASCII(t):!0}static containsRTL(t,n,r){return!n&&r?y.containsRTL(t):!1}}e.ViewLineRenderingData=m;class S{constructor(t,n,r){this.range=t,this.inlineClassName=n,this.type=r}}e.InlineDecoration=S;class f{constructor(t,n,r,l){this.startOffset=t,this.endOffset=n,this.inlineClassName=r,this.inlineClassNameAffectsLetterSpacing=l}toInlineDecoration(t){return new S(new k.Range(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=f;class v{constructor(t,n){this._viewModelDecorationBrand=void 0,this.range=t,this.options=n}}e.ViewModelDecoration=v;class o{constructor(t,n,r){this.color=t,this.zIndex=n,this.data=r}static cmp(t,n){return t.zIndex===n.zIndex?t.color<n.color?-1:t.color>n.color?1:0:t.zIndex-n.zIndex}}e.OverviewRulerDecorationsGroup=o}),define(J[526],ee([1,0,88,11,111,67]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function _(t,n){return t===null?n?S.INSTANCE:f.INSTANCE:new m(t,n)}e.createModelLineProjection=_;class m{constructor(n,r){this._projectionData=n,this._isVisible=r}isVisible(){return this._isVisible}setVisible(n){return this._isVisible=n,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(n,r,l){this._assertVisible();const h=l>0?this._projectionData.breakOffsets[l-1]:0,s=this._projectionData.breakOffsets[l];let u;if(this._projectionData.injectionOffsets!==null){const a=this._projectionData.injectionOffsets.map((c,b)=>new L.LineInjectedText(0,0,c+1,this._projectionData.injectionOptions[b],0));u=L.LineInjectedText.applyInjectedText(n.getLineContent(r),a).substring(h,s)}else u=n.getValueInRange({startLineNumber:r,startColumn:h+1,endLineNumber:r,endColumn:s+1});return l>0&&(u=o(this._projectionData.wrappedTextIndentLength)+u),u}getViewLineLength(n,r,l){return this._assertVisible(),this._projectionData.getLineLength(l)}getViewLineMinColumn(n,r,l){return this._assertVisible(),this._projectionData.getMinOutputOffset(l)+1}getViewLineMaxColumn(n,r,l){return this._assertVisible(),this._projectionData.getMaxOutputOffset(l)+1}getViewLineData(n,r,l){const h=new Array;return this.getViewLinesData(n,r,l,1,0,[!0],h),h[0]}getViewLinesData(n,r,l,h,s,u,a){this._assertVisible();const d=this._projectionData,c=d.injectionOffsets,b=d.injectionOptions;let g=null;if(c){g=[];let C=0,w=0;for(let E=0;E<d.getOutputLineCount();E++){const I=new Array;g[E]=I;const T=E>0?d.breakOffsets[E-1]:0,P=d.breakOffsets[E];for(;w<c.length;){const A=b[w].content.length,M=c[w]+C,N=M+A;if(M>P)break;if(T<N){const O=b[w];if(O.inlineClassName){const x=E>0?d.wrappedTextIndentLength:0,F=x+Math.max(M-T,0),B=x+Math.min(N-T,P-T);F!==B&&I.push(new D.SingleLineInlineDecoration(F,B,O.inlineClassName,O.inlineClassNameAffectsLetterSpacing))}}if(N<=P)C+=A,w++;else break}}}let p;c?p=n.tokenization.getLineTokens(r).withInserted(c.map((C,w)=>({offset:C,text:b[w].content,tokenMetadata:y.LineTokens.defaultTokenMetadata}))):p=n.tokenization.getLineTokens(r);for(let C=l;C<l+h;C++){const w=s+C-l;if(!u[w]){a[w]=null;continue}a[w]=this._getViewLineData(p,g?g[C]:null,C)}}_getViewLineData(n,r,l){this._assertVisible();const h=this._projectionData,s=l>0?h.wrappedTextIndentLength:0,u=l>0?h.breakOffsets[l-1]:0,a=h.breakOffsets[l],d=n.sliceAndInflate(u,a,s);let c=d.getLineContent();l>0&&(c=o(h.wrappedTextIndentLength)+c);const b=this._projectionData.getMinOutputOffset(l)+1,g=c.length+1,p=l+1<this.getViewLineCount(),C=l===0?0:h.breakOffsetsVisibleColumn[l-1];return new D.ViewLineData(c,p,b,g,C,d,r)}getModelColumnOfViewPosition(n,r){return this._assertVisible(),this._projectionData.translateToInputOffset(n,r-1)+1}getViewPositionOfModelPosition(n,r,l=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(r-1,l).toPosition(n)}getViewLineNumberOfModelPosition(n,r){this._assertVisible();const l=this._projectionData.translateToOutputPosition(r-1);return n+l.outputLineIndex}normalizePosition(n,r,l){const h=r.lineNumber-n;return this._projectionData.normalizeOutputPosition(n,r.column-1,l).toPosition(h)}getInjectedTextAt(n,r){return this._projectionData.getInjectedText(n,r-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class S{constructor(){}isVisible(){return!0}setVisible(n){return n?this:f.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(n,r,l){return n.getLineContent(r)}getViewLineLength(n,r,l){return n.getLineLength(r)}getViewLineMinColumn(n,r,l){return n.getLineMinColumn(r)}getViewLineMaxColumn(n,r,l){return n.getLineMaxColumn(r)}getViewLineData(n,r,l){const h=n.tokenization.getLineTokens(r),s=h.getLineContent();return new D.ViewLineData(s,!1,1,s.length+1,0,h.inflate(),null)}getViewLinesData(n,r,l,h,s,u,a){if(!u[s]){a[s]=null;return}a[s]=this.getViewLineData(n,r,0)}getModelColumnOfViewPosition(n,r){return r}getViewPositionOfModelPosition(n,r){return new k.Position(n,r)}getViewLineNumberOfModelPosition(n,r){return n}normalizePosition(n,r,l){return r}getInjectedTextAt(n,r){return null}}S.INSTANCE=new S;class f{constructor(){}isVisible(){return!1}setVisible(n){return n?S.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(n,r,l){throw new Error("Not supported")}getViewLineLength(n,r,l){throw new Error("Not supported")}getViewLineMinColumn(n,r,l){throw new Error("Not supported")}getViewLineMaxColumn(n,r,l){throw new Error("Not supported")}getViewLineData(n,r,l){throw new Error("Not supported")}getViewLinesData(n,r,l,h,s,u,a){throw new Error("Not supported")}getModelColumnOfViewPosition(n,r){throw new Error("Not supported")}getViewPositionOfModelPosition(n,r){throw new Error("Not supported")}getViewLineNumberOfModelPosition(n,r){throw new Error("Not supported")}normalizePosition(n,r,l){throw new Error("Not supported")}getInjectedTextAt(n,r){throw new Error("Not supported")}}f.INSTANCE=new f;const v=[""];function o(t){if(t>=v.length)for(let n=1;n<=t;n++)v[n]=i(n);return v[t]}function i(t){return new Array(t+1).join(" ")}}),define(J[527],ee([1,0,9,122,111,283]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class _{static create(h){return new _(h.get(131),h.get(130))}constructor(h,s){this.classifier=new m(h,s)}createLineBreaksComputer(h,s,u,a,d){const c=[],b=[],g=[];return{addRequest:(p,C,w)=>{c.push(p),b.push(C),g.push(w)},finalize:()=>{const p=h.typicalFullwidthCharacterWidth/h.typicalHalfwidthCharacterWidth,C=[];for(let w=0,E=c.length;w<E;w++){const I=b[w],T=g[w];T&&!T.injectionOptions&&!I?C[w]=v(this.classifier,T,c[w],s,u,p,a,d):C[w]=o(this.classifier,c[w],I,s,u,p,a,d)}return S.length=0,f.length=0,C}}}}e.MonospaceLineBreaksComputerFactory=_;class m extends k.CharacterClassifier{constructor(h,s){super(0);for(let u=0;u<h.length;u++)this.set(h.charCodeAt(u),1);for(let u=0;u<s.length;u++)this.set(s.charCodeAt(u),2)}get(h){return h>=0&&h<256?this._asciiMap[h]:h>=12352&&h<=12543||h>=13312&&h<=19903||h>=19968&&h<=40959?3:this._map.get(h)||this._defaultValue}}let S=[],f=[];function v(l,h,s,u,a,d,c,b){if(a===-1)return null;const g=s.length;if(g<=1)return null;const p=b==="keepAll",C=h.breakOffsets,w=h.breakOffsetsVisibleColumn,E=r(s,u,a,d,c),I=a-E,T=S,P=f;let A=0,M=0,N=0,O=a;const x=C.length;let F=0;if(F>=0){let B=Math.abs(w[F]-O);for(;F+1<x;){const z=Math.abs(w[F+1]-O);if(z>=B)break;B=z,F++}}for(;F<x;){let B=F<0?0:C[F],z=F<0?0:w[F];M>B&&(B=M,z=N);let j=0,R=0,Z=0,se=0;if(z<=O){let te=z,Y=B===0?0:s.charCodeAt(B-1),U=B===0?0:l.get(Y),V=!0;for(let H=B;H<g;H++){const $=H,X=s.charCodeAt(H);let Q,de;if(y.isHighSurrogate(X)?(H++,Q=0,de=2):(Q=l.get(X),de=i(X,te,u,d)),$>M&&n(Y,U,X,Q,p)&&(j=$,R=te),te+=de,te>O){$>M?(Z=$,se=te-de):(Z=H+1,se=te),te-R>I&&(j=0),V=!1;break}Y=X,U=Q}if(V){A>0&&(T[A]=C[C.length-1],P[A]=w[C.length-1],A++);break}}if(j===0){let te=z,Y=s.charCodeAt(B),U=l.get(Y),V=!1;for(let H=B-1;H>=M;H--){const $=H+1,X=s.charCodeAt(H);if(X===9){V=!0;break}let Q,de;if(y.isLowSurrogate(X)?(H--,Q=0,de=2):(Q=l.get(X),de=y.isFullWidthCharacter(X)?d:1),te<=O){if(Z===0&&(Z=$,se=te),te<=O-I)break;if(n(X,Q,Y,U,p)){j=$,R=te;break}}te-=de,Y=X,U=Q}if(j!==0){const H=I-(se-R);if(H<=u){const $=s.charCodeAt(Z);let X;y.isHighSurrogate($)?X=2:X=i($,se,u,d),H-X<0&&(j=0)}}if(V){F--;continue}}if(j===0&&(j=Z,R=se),j<=M){const te=s.charCodeAt(M);y.isHighSurrogate(te)?(j=M+2,R=N+2):(j=M+1,R=N+i(te,N,u,d))}for(M=j,T[A]=j,N=R,P[A]=R,A++,O=R+I;F<0||F<x&&w[F]<R;)F++;let le=Math.abs(w[F]-O);for(;F+1<x;){const te=Math.abs(w[F+1]-O);if(te>=le)break;le=te,F++}}return A===0?null:(T.length=A,P.length=A,S=h.breakOffsets,f=h.breakOffsetsVisibleColumn,h.breakOffsets=T,h.breakOffsetsVisibleColumn=P,h.wrappedTextIndentLength=E,h)}function o(l,h,s,u,a,d,c,b){const g=L.LineInjectedText.applyInjectedText(h,s);let p,C;if(s&&s.length>0?(p=s.map(R=>R.options),C=s.map(R=>R.column-1)):(p=null,C=null),a===-1)return p?new D.ModelLineProjectionData(C,p,[g.length],[],0):null;const w=g.length;if(w<=1)return p?new D.ModelLineProjectionData(C,p,[g.length],[],0):null;const E=b==="keepAll",I=r(g,u,a,d,c),T=a-I,P=[],A=[];let M=0,N=0,O=0,x=a,F=g.charCodeAt(0),B=l.get(F),z=i(F,0,u,d),j=1;y.isHighSurrogate(F)&&(z+=1,F=g.charCodeAt(1),B=l.get(F),j++);for(let R=j;R<w;R++){const Z=R,se=g.charCodeAt(R);let le,te;y.isHighSurrogate(se)?(R++,le=0,te=2):(le=l.get(se),te=i(se,z,u,d)),n(F,B,se,le,E)&&(N=Z,O=z),z+=te,z>x&&((N===0||z-O>T)&&(N=Z,O=z-te),P[M]=N,A[M]=O,M++,x=O+T,N=0),F=se,B=le}return M===0&&(!s||s.length===0)?null:(P[M]=w,A[M]=z,new D.ModelLineProjectionData(C,p,P,A,I))}function i(l,h,s,u){return l===9?s-h%s:y.isFullWidthCharacter(l)||l<32?u:1}function t(l,h){return h-l%h}function n(l,h,s,u,a){return s!==32&&(h===2&&u!==2||h!==1&&u===1||!a&&h===3&&u!==2||!a&&u===3&&h!==1)}function r(l,h,s,u,a){let d=0;if(a!==0){const c=y.firstNonWhitespaceIndex(l);if(c!==-1){for(let g=0;g<c;g++){const p=l.charCodeAt(g)===9?t(d,h):1;d+=p}const b=a===3?2:a===2?1:0;for(let g=0;g<b;g++){const p=t(d,h);d+=p}d+u>s&&(d=0)}}return d}}),define(J[213],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class y{constructor(_,m,S){this._colorZoneBrand=void 0,this.from=_|0,this.to=m|0,this.colorId=S|0}static compare(_,m){return _.colorId===m.colorId?_.from===m.from?_.to-m.to:_.from-m.from:_.colorId-m.colorId}}e.ColorZone=y;class k{constructor(_,m,S,f){this._overviewRulerZoneBrand=void 0,this.startLineNumber=_,this.endLineNumber=m,this.heightInLines=S,this.color=f,this._colorZone=null}static compare(_,m){return _.color===m.color?_.startLineNumber===m.startLineNumber?_.heightInLines===m.heightInLines?_.endLineNumber-m.endLineNumber:_.heightInLines-m.heightInLines:_.startLineNumber-m.startLineNumber:_.color<m.color?-1:1}setColorZone(_){this._colorZone=_}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class L{constructor(_){this._getVerticalOffsetForLine=_,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(_){this._zones=_,this._zones.sort(k.compare)}setLineHeight(_){return this._lineHeight===_?!1:(this._lineHeight=_,this._colorZonesInvalid=!0,!0)}setPixelRatio(_){this._pixelRatio=_,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(_){return this._domWidth===_?!1:(this._domWidth=_,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(_){return this._domHeight===_?!1:(this._domHeight=_,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(_){return this._outerHeight===_?!1:(this._outerHeight=_,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const _=this._colorZonesInvalid,m=Math.floor(this._lineHeight),S=Math.floor(this.getCanvasHeight()),f=Math.floor(this._outerHeight),v=S/f,o=Math.floor(4*this._pixelRatio/2),i=[];for(let t=0,n=this._zones.length;t<n;t++){const r=this._zones[t];if(!_){const p=r.getColorZones();if(p){i.push(p);continue}}const l=this._getVerticalOffsetForLine(r.startLineNumber),h=r.heightInLines===0?this._getVerticalOffsetForLine(r.endLineNumber)+m:l+r.heightInLines*m,s=Math.floor(v*l),u=Math.floor(v*h);let a=Math.floor((s+u)/2),d=u-a;d<o&&(d=o),a-d<0&&(a=d),a+d>S&&(a=S-d);const c=r.color;let b=this._color2Id[c];b||(b=++this._lastAssignedId,this._color2Id[c]=b,this._id2Color[b]=c);const g=new y(a-d,a+d,b);r.setColorZone(g),i.push(g)}return this._colorZonesInvalid=!1,i.sort(y.compare),i}}e.OverviewZoneManager=L}),define(J[528],ee([1,0,35,213,152]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends L.ViewEventHandler{constructor(m,S){super(),this._context=m;const f=this._context.configuration.options;this._domNode=(0,y.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(S),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(v=>this._context.viewLayout.getVerticalOffsetForLineNumber(v)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(f.get(65)),this._zoneManager.setPixelRatio(f.get(140)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(m){const S=this._context.configuration.options;return m.hasChanged(65)&&(this._zoneManager.setLineHeight(S.get(65)),this._render()),m.hasChanged(140)&&(this._zoneManager.setPixelRatio(S.get(140)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(m){return this._render(),!0}onScrollChanged(m){return m.scrollHeightChanged&&(this._zoneManager.setOuterHeight(m.scrollHeight),this._render()),!0}onZonesChanged(m){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(m){this._domNode.setTop(m.top),this._domNode.setRight(m.right);let S=!1;S=this._zoneManager.setDOMWidth(m.width)||S,S=this._zoneManager.setDOMHeight(m.height)||S,S&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(m){this._zoneManager.setZones(m),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const m=this._zoneManager.getCanvasWidth(),S=this._zoneManager.getCanvasHeight(),f=this._zoneManager.resolveColorZones(),v=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,m,S),f.length>0&&this._renderOneLane(o,f,v,m),!0}_renderOneLane(m,S,f,v){let o=0,i=0,t=0;for(const n of S){const r=n.colorId,l=n.from,h=n.to;r!==o?(m.fillRect(0,i,v,t-i),o=r,m.fillStyle=f[o],i=l,t=h):t>=l?t=Math.max(t,h):(m.fillRect(0,i,v,t-i),i=l,t=h)}m.fillRect(0,i,v,t-i)}}e.OverviewRuler=D}),define(J[529],ee([1,0,487]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class k{constructor(D,_,m){this.configuration=D,this.theme=new y.EditorTheme(_),this.viewModel=m,this.viewLayout=m.viewLayout}addEventHandler(D){this.viewModel.addViewEventHandler(D)}removeEventHandler(D){this.viewModel.removeViewEventHandler(D)}}e.ViewContext=k}),define(J[214],ee([1,0,6,2]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class L extends k.Disposable{constructor(){super(),this._onEvent=this._register(new y.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(a){this._addOutgoingEvent(a),this._emitOutgoingEvents()}_addOutgoingEvent(a){for(let d=0,c=this._outgoingEvents.length;d<c;d++){const b=this._outgoingEvents[d].kind===a.kind?this._outgoingEvents[d].attemptToMerge(a):null;if(b){this._outgoingEvents[d]=b;return}}this._outgoingEvents.push(a)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const a=this._outgoingEvents.shift();a.isNoOp()||this._onEvent.fire(a)}}addViewEventHandler(a){for(let d=0,c=this._eventHandlers.length;d<c;d++)this._eventHandlers[d]===a&&console.warn("Detected duplicate listener in ViewEventDispatcher",a);this._eventHandlers.push(a)}removeViewEventHandler(a){for(let d=0;d<this._eventHandlers.length;d++)if(this._eventHandlers[d]===a){this._eventHandlers.splice(d,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new D),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const a=this._collector.outgoingEvents,d=this._collector.viewEvents;this._collector=null;for(const c of a)this._addOutgoingEvent(c);d.length>0&&this._emitMany(d)}this._emitOutgoingEvents()}emitSingleViewEvent(a){try{this.beginEmitViewEvents().emitViewEvent(a)}finally{this.endEmitViewEvents()}}_emitMany(a){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(a):this._viewEventQueue=a,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const a=this._viewEventQueue;this._viewEventQueue=null;const d=this._eventHandlers.slice(0);for(const c of d)c.handleEvents(a)}}}e.ViewModelEventDispatcher=L;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(a){this.viewEvents.push(a)}emitOutgoingEvent(a){this.outgoingEvents.push(a)}}e.ViewModelEventsCollector=D;class _{constructor(a,d,c,b){this.kind=0,this._oldContentWidth=a,this._oldContentHeight=d,this.contentWidth=c,this.contentHeight=b,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(a){return a.kind!==this.kind?null:new _(this._oldContentWidth,this._oldContentHeight,a.contentWidth,a.contentHeight)}}e.ContentSizeChangedEvent=_;class m{constructor(a,d){this.kind=1,this.oldHasFocus=a,this.hasFocus=d}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(a){return a.kind!==this.kind?null:new m(this.oldHasFocus,a.hasFocus)}}e.FocusChangedEvent=m;class S{constructor(a,d,c,b,g,p,C,w){this.kind=2,this._oldScrollWidth=a,this._oldScrollLeft=d,this._oldScrollHeight=c,this._oldScrollTop=b,this.scrollWidth=g,this.scrollLeft=p,this.scrollHeight=C,this.scrollTop=w,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(a){return a.kind!==this.kind?null:new S(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,a.scrollWidth,a.scrollLeft,a.scrollHeight,a.scrollTop)}}e.ScrollChangedEvent=S;class f{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(a){return a.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=f;class v{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(a){return a.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=v;class o{constructor(a,d,c,b,g,p,C){this.kind=6,this.oldSelections=a,this.selections=d,this.oldModelVersionId=c,this.modelVersionId=b,this.source=g,this.reason=p,this.reachedMaxCursorCount=C}static _selectionsAreEqual(a,d){if(!a&&!d)return!0;if(!a||!d)return!1;const c=a.length,b=d.length;if(c!==b)return!1;for(let g=0;g<c;g++)if(!a[g].equalsSelection(d[g]))return!1;return!0}isNoOp(){return o._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(a){return a.kind!==this.kind?null:new o(this.oldSelections,a.selections,this.oldModelVersionId,a.modelVersionId,a.source,a.reason,this.reachedMaxCursorCount||a.reachedMaxCursorCount)}}e.CursorStateChangedEvent=o;class i{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(a){return a.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=i;class t{constructor(a){this.event=a,this.kind=7}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelDecorationsChangedEvent=t;class n{constructor(a){this.event=a,this.kind=8}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelLanguageChangedEvent=n;class r{constructor(a){this.event=a,this.kind=9}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelLanguageConfigurationChangedEvent=r;class l{constructor(a){this.event=a,this.kind=10}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelContentChangedEvent=l;class h{constructor(a){this.event=a,this.kind=11}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelOptionsChangedEvent=h;class s{constructor(a){this.event=a,this.kind=12}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelTokensChangedEvent=s}),define(J[530],ee([1,0,6,2,169,524,67,214]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const S=125;class f{constructor(t,n,r,l){t=t|0,n=n|0,r=r|0,l=l|0,t<0&&(t=0),n<0&&(n=0),r<0&&(r=0),l<0&&(l=0),this.width=t,this.contentWidth=n,this.scrollWidth=Math.max(t,n),this.height=r,this.contentHeight=l,this.scrollHeight=Math.max(r,l)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class v extends k.Disposable{constructor(t,n){super(),this._onDidContentSizeChange=this._register(new y.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new f(0,0,0,0),this._scrollable=this._register(new L.Scrollable({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:n})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const n=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);const r=n.contentWidth!==t.contentWidth,l=n.contentHeight!==t.contentHeight;(r||l)&&this._onDidContentSizeChange.fire(new m.ContentSizeChangedEvent(n.contentWidth,n.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class o extends k.Disposable{constructor(t,n,r){super(),this._configuration=t;const l=this._configuration.options,h=l.get(142),s=l.get(82);this._linesLayout=new D.LinesLayout(n,l.get(65),s.top,s.bottom),this._scrollable=this._register(new v(0,r)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new f(h.contentWidth,0,h.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(112)?S:0)}onConfigurationChanged(t){const n=this._configuration.options;if(t.hasChanged(65)&&this._linesLayout.setLineHeight(n.get(65)),t.hasChanged(82)){const r=n.get(82);this._linesLayout.setPadding(r.top,r.bottom)}if(t.hasChanged(142)){const r=n.get(142),l=r.contentWidth,h=r.height,s=this._scrollable.getScrollDimensions(),u=s.contentWidth;this._scrollable.setScrollDimensions(new f(l,s.contentWidth,h,this._getContentHeight(l,h,u)))}else this._updateHeight();t.hasChanged(112)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,n){this._linesLayout.onLinesDeleted(t,n)}onLinesInserted(t,n){this._linesLayout.onLinesInserted(t,n)}_getHorizontalScrollbarHeight(t,n){const l=this._configuration.options.get(101);return l.horizontal===2||t>=n?0:l.horizontalScrollbarSize}_getContentHeight(t,n,r){const l=this._configuration.options;let h=this._linesLayout.getLinesTotalHeight();return l.get(103)?h+=Math.max(0,n-l.get(65)-l.get(82).bottom):h+=this._getHorizontalScrollbarHeight(t,r),h}_updateHeight(){const t=this._scrollable.getScrollDimensions(),n=t.width,r=t.height,l=t.contentWidth;this._scrollable.setScrollDimensions(new f(n,t.contentWidth,r,this._getContentHeight(n,r,l)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),n=this._scrollable.getCurrentScrollPosition();return new _.Viewport(n.scrollTop,n.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),n=this._scrollable.getFutureScrollPosition();return new _.Viewport(n.scrollTop,n.scrollLeft,t.width,t.height)}_computeContentWidth(t){const n=this._configuration.options,r=n.get(143),l=n.get(49),h=n.get(142);if(r.isViewportWrapping){const s=n.get(71);return t>h.contentWidth+l.typicalHalfwidthCharacterWidth&&s.enabled&&s.side==="right"?t+h.verticalScrollbarWidth:t}else{const s=n.get(102)*l.typicalHalfwidthCharacterWidth,u=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+s+h.verticalScrollbarWidth,u)}}setMaxLineWidth(t){const n=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new f(n.width,this._computeContentWidth(t),n.height,n.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),n=t.scrollTop,r=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(n),l=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(r);return{scrollTop:n,scrollTopWithoutViewZones:n-l,scrollLeft:t.scrollLeft}}changeWhitespace(t){const n=this._linesLayout.changeWhitespace(t);return n&&this.onHeightMaybeChanged(),n}getVerticalOffsetForLineNumber(t,n=!1){return this._linesLayout.getVerticalOffsetForLineNumber(t,n)}getVerticalOffsetAfterLineNumber(t,n=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(t,n)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const n=this._scrollable.getScrollDimensions();return t+n.height>n.scrollHeight&&(t=n.scrollHeight-n.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+n.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,n){n===1?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(t,n){const r=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:r.scrollLeft+t,scrollTop:r.scrollTop+n})}}e.ViewLayout=o}),define(J[531],ee([1,0,5,24]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class L{constructor(_,m){this._selection=_,this._isMovingLeft=m}getEditOperations(_,m){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const S=this._selection.startLineNumber,f=this._selection.startColumn,v=this._selection.endColumn;if(!(this._isMovingLeft&&f===1)&&!(!this._isMovingLeft&&v===_.getLineMaxColumn(S)))if(this._isMovingLeft){const o=new y.Range(S,f-1,S,f),i=_.getValueInRange(o);m.addEditOperation(o,null),m.addEditOperation(new y.Range(S,v,S,v),i)}else{const o=new y.Range(S,v,S,v+1),i=_.getValueInRange(o);m.addEditOperation(o,null),m.addEditOperation(new y.Range(S,f,S,f),i)}}computeCursorState(_,m){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=L}),define(J[113],ee([1,0,12]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionItem=e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionTriggerSource=e.CodeActionKind=void 0;class k{constructor(o){this.value=o}equals(o){return this.value===o.value}contains(o){return this.equals(o)||this.value===""||o.value.startsWith(this.value+k.sep)}intersects(o){return this.contains(o)||o.contains(this)}append(o){return new k(this.value+k.sep+o)}}e.CodeActionKind=k,k.sep=".",k.None=new k("@@none@@"),k.Empty=new k(""),k.QuickFix=new k("quickfix"),k.Refactor=new k("refactor"),k.RefactorExtract=k.Refactor.append("extract"),k.RefactorInline=k.Refactor.append("inline"),k.RefactorMove=k.Refactor.append("move"),k.RefactorRewrite=k.Refactor.append("rewrite"),k.Source=new k("source"),k.SourceOrganizeImports=k.Source.append("organizeImports"),k.SourceFixAll=k.Source.append("fixAll"),k.SurroundWith=k.Refactor.append("surround");var L;(function(v){v.Refactor="refactor",v.RefactorPreview="refactor preview",v.Lightbulb="lightbulb",v.Default="other (default)",v.SourceAction="source action",v.QuickFix="quick fix action",v.FixAll="fix all",v.OrganizeImports="organize imports",v.AutoFix="auto fix",v.QuickFixHover="quick fix hover window",v.OnSave="save participants",v.ProblemsView="problems view"})(L||(e.CodeActionTriggerSource=L={}));function D(v,o){return!(v.include&&!v.include.intersects(o)||v.excludes&&v.excludes.some(i=>m(o,i,v.include))||!v.includeSourceActions&&k.Source.contains(o))}e.mayIncludeActionsOfKind=D;function _(v,o){const i=o.kind?new k(o.kind):void 0;return!(v.include&&(!i||!v.include.contains(i))||v.excludes&&i&&v.excludes.some(t=>m(i,t,v.include))||!v.includeSourceActions&&i&&k.Source.contains(i)||v.onlyIncludePreferredActions&&!o.isPreferred)}e.filtersAction=_;function m(v,o,i){return!(!o.contains(v)||i&&o.contains(i))}class S{static fromUser(o,i){return!o||typeof o!="object"?new S(i.kind,i.apply,!1):new S(S.getKindFromUser(o,i.kind),S.getApplyFromUser(o,i.apply),S.getPreferredUser(o))}static getApplyFromUser(o,i){switch(typeof o.apply=="string"?o.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}}static getKindFromUser(o,i){return typeof o.kind=="string"?new k(o.kind):i}static getPreferredUser(o){return typeof o.preferred=="boolean"?o.preferred:!1}constructor(o,i,t){this.kind=o,this.apply=i,this.preferred=t}}e.CodeActionCommandArgs=S;class f{constructor(o,i){this.action=o,this.provider=i}resolve(o){var i;return Le(this,void 0,void 0,function*(){if(!((i=this.provider)===null||i===void 0)&&i.resolveCodeAction&&!this.action.edit){let t;try{t=yield this.provider.resolveCodeAction(this.action,o)}catch(n){(0,y.onUnexpectedExternalError)(n)}t&&(this.action.edit=t.edit)}return this})}}e.CodeActionItem=f}),define(J[532],ee([1,0,6]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{get color(){return this._color}set color(D){this._color.equals(D)||(this._color=D,this._onDidChangeColor.fire(D))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(D){this._colorPresentations=D,this.presentationIndex>D.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(D,_,m){this.presentationIndex=m,this._onColorFlushed=new y.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new y.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new y.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=D,this._color=D,this._colorPresentations=_}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(D,_){let m=-1;for(let S=0;S<this.colorPresentations.length;S++)if(_.toLowerCase()===this.colorPresentations[S].label){m=S;break}if(m===-1){const S=_.split("(")[0].toLowerCase();for(let f=0;f<this.colorPresentations.length;f++)if(this.colorPresentations[f].label.toLowerCase().startsWith(S)){m=f;break}}m!==-1&&m!==this.presentationIndex&&(this.presentationIndex=m,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(J[289],ee([1,0,72,11,5,24]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class _{constructor(S,f,v){this.languageConfigurationService=v,this._selection=S,this._insertSpace=f,this._usedEndToken=null}static _haystackHasNeedleAtOffset(S,f,v){if(v<0)return!1;const o=f.length,i=S.length;if(v+o>i)return!1;for(let t=0;t<o;t++){const n=S.charCodeAt(v+t),r=f.charCodeAt(t);if(n!==r&&!(n>=65&&n<=90&&n+32===r)&&!(r>=65&&r<=90&&r+32===n))return!1}return!0}_createOperationsForBlockComment(S,f,v,o,i,t){const n=S.startLineNumber,r=S.startColumn,l=S.endLineNumber,h=S.endColumn,s=i.getLineContent(n),u=i.getLineContent(l);let a=s.lastIndexOf(f,r-1+f.length),d=u.indexOf(v,h-1-v.length);if(a!==-1&&d!==-1)if(n===l)s.substring(a+f.length,d).indexOf(v)>=0&&(a=-1,d=-1);else{const b=s.substring(a+f.length),g=u.substring(0,d);(b.indexOf(v)>=0||g.indexOf(v)>=0)&&(a=-1,d=-1)}let c;a!==-1&&d!==-1?(o&&a+f.length<s.length&&s.charCodeAt(a+f.length)===32&&(f=f+" "),o&&d>0&&u.charCodeAt(d-1)===32&&(v=" "+v,d-=1),c=_._createRemoveBlockCommentOperations(new L.Range(n,a+f.length+1,l,d+1),f,v)):(c=_._createAddBlockCommentOperations(S,f,v,this._insertSpace),this._usedEndToken=c.length===1?v:null);for(const b of c)t.addTrackedEditOperation(b.range,b.text)}static _createRemoveBlockCommentOperations(S,f,v){const o=[];return L.Range.isEmpty(S)?o.push(y.EditOperation.delete(new L.Range(S.startLineNumber,S.startColumn-f.length,S.endLineNumber,S.endColumn+v.length))):(o.push(y.EditOperation.delete(new L.Range(S.startLineNumber,S.startColumn-f.length,S.startLineNumber,S.startColumn))),o.push(y.EditOperation.delete(new L.Range(S.endLineNumber,S.endColumn,S.endLineNumber,S.endColumn+v.length)))),o}static _createAddBlockCommentOperations(S,f,v,o){const i=[];return L.Range.isEmpty(S)?i.push(y.EditOperation.replace(new L.Range(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn),f+"  "+v)):(i.push(y.EditOperation.insert(new k.Position(S.startLineNumber,S.startColumn),f+(o?" ":""))),i.push(y.EditOperation.insert(new k.Position(S.endLineNumber,S.endColumn),(o?" ":"")+v))),i}getEditOperations(S,f){const v=this._selection.startLineNumber,o=this._selection.startColumn;S.tokenization.tokenizeIfCheap(v);const i=S.getLanguageIdAtPosition(v,o),t=this.languageConfigurationService.getLanguageConfiguration(i).comments;!t||!t.blockCommentStartToken||!t.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,t.blockCommentStartToken,t.blockCommentEndToken,this._insertSpace,S,f)}computeCursorState(S,f){const v=f.getInverseEditOperations();if(v.length===2){const o=v[0],i=v[1];return new D.Selection(o.range.endLineNumber,o.range.endColumn,i.range.startLineNumber,i.range.startColumn)}else{const o=v[0].range,i=this._usedEndToken?-this._usedEndToken.length-1:0;return new D.Selection(o.endLineNumber,o.endColumn+i,o.endLineNumber,o.endColumn+i)}}}e.BlockCommentCommand=_}),define(J[533],ee([1,0,9,72,11,5,24,289]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class S{constructor(v,o,i,t,n,r,l){this.languageConfigurationService=v,this._selection=o,this._tabSize=i,this._type=t,this._insertSpace=n,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=r,this._ignoreFirstLine=l||!1}static _gatherPreflightCommentStrings(v,o,i,t){v.tokenization.tokenizeIfCheap(o);const n=v.getLanguageIdAtPosition(o,1),r=t.getLanguageConfiguration(n).comments,l=r?r.lineCommentToken:null;if(!l)return null;const h=[];for(let s=0,u=i-o+1;s<u;s++)h[s]={ignore:!1,commentStr:l,commentStrOffset:0,commentStrLength:l.length};return h}static _analyzeLines(v,o,i,t,n,r,l,h){let s=!0,u;v===0?u=!0:v===1?u=!1:u=!0;for(let a=0,d=t.length;a<d;a++){const c=t[a],b=n+a;if(b===n&&l){c.ignore=!0;continue}const g=i.getLineContent(b),p=y.firstNonWhitespaceIndex(g);if(p===-1){c.ignore=r,c.commentStrOffset=g.length;continue}if(s=!1,c.ignore=!1,c.commentStrOffset=p,u&&!m.BlockCommentCommand._haystackHasNeedleAtOffset(g,c.commentStr,p)&&(v===0?u=!1:v===1||(c.ignore=!0)),u&&o){const C=p+c.commentStrLength;C<g.length&&g.charCodeAt(C)===32&&(c.commentStrLength+=1)}}if(v===0&&s){u=!1;for(let a=0,d=t.length;a<d;a++)t[a].ignore=!1}return{supported:!0,shouldRemoveComments:u,lines:t}}static _gatherPreflightData(v,o,i,t,n,r,l,h){const s=S._gatherPreflightCommentStrings(i,t,n,h);return s===null?{supported:!1}:S._analyzeLines(v,o,i,s,t,r,l,h)}_executeLineComments(v,o,i,t){let n;i.shouldRemoveComments?n=S._createRemoveLineCommentsOperations(i.lines,t.startLineNumber):(S._normalizeInsertionPoint(v,i.lines,t.startLineNumber,this._tabSize),n=this._createAddLineCommentsOperations(i.lines,t.startLineNumber));const r=new L.Position(t.positionLineNumber,t.positionColumn);for(let l=0,h=n.length;l<h;l++)o.addEditOperation(n[l].range,n[l].text),D.Range.isEmpty(n[l].range)&&D.Range.getStartPosition(n[l].range).equals(r)&&v.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(n[l].text||"").length);this._selectionId=o.trackSelection(t)}_attemptRemoveBlockComment(v,o,i,t){let n=o.startLineNumber,r=o.endLineNumber;const l=t.length+Math.max(v.getLineFirstNonWhitespaceColumn(o.startLineNumber),o.startColumn);let h=v.getLineContent(n).lastIndexOf(i,l-1),s=v.getLineContent(r).indexOf(t,o.endColumn-1-i.length);return h!==-1&&s===-1&&(s=v.getLineContent(n).indexOf(t,h+i.length),r=n),h===-1&&s!==-1&&(h=v.getLineContent(r).lastIndexOf(i,s),n=r),o.isEmpty()&&(h===-1||s===-1)&&(h=v.getLineContent(n).indexOf(i),h!==-1&&(s=v.getLineContent(n).indexOf(t,h+i.length))),h!==-1&&v.getLineContent(n).charCodeAt(h+i.length)===32&&(i+=" "),s!==-1&&v.getLineContent(r).charCodeAt(s-1)===32&&(t=" "+t,s-=1),h!==-1&&s!==-1?m.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(n,h+i.length+1,r,s+1),i,t):null}_executeBlockComment(v,o,i){v.tokenization.tokenizeIfCheap(i.startLineNumber);const t=v.getLanguageIdAtPosition(i.startLineNumber,1),n=this.languageConfigurationService.getLanguageConfiguration(t).comments;if(!n||!n.blockCommentStartToken||!n.blockCommentEndToken)return;const r=n.blockCommentStartToken,l=n.blockCommentEndToken;let h=this._attemptRemoveBlockComment(v,i,r,l);if(!h){if(i.isEmpty()){const s=v.getLineContent(i.startLineNumber);let u=y.firstNonWhitespaceIndex(s);u===-1&&(u=s.length),h=m.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(i.startLineNumber,u+1,i.startLineNumber,s.length+1),r,l,this._insertSpace)}else h=m.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(i.startLineNumber,v.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,v.getLineMaxColumn(i.endLineNumber)),r,l,this._insertSpace);h.length===1&&(this._deltaColumn=r.length+1)}this._selectionId=o.trackSelection(i);for(const s of h)o.addEditOperation(s.range,s.text)}getEditOperations(v,o){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){o.addEditOperation(new D.Range(i.startLineNumber,v.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===v.getLineCount()?"":`
`),this._selectionId=o.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,v.getLineMaxColumn(i.endLineNumber-1)));const t=S._gatherPreflightData(this._type,this._insertSpace,v,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return t.supported?this._executeLineComments(v,o,t,i):this._executeBlockComment(v,o,i)}computeCursorState(v,o){let i=o.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new _.Selection(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(v,o){const i=[];for(let t=0,n=v.length;t<n;t++){const r=v[t];r.ignore||i.push(k.EditOperation.delete(new D.Range(o+t,r.commentStrOffset+1,o+t,r.commentStrOffset+r.commentStrLength+1)))}return i}_createAddLineCommentsOperations(v,o){const i=[],t=this._insertSpace?" ":"";for(let n=0,r=v.length;n<r;n++){const l=v[n];l.ignore||i.push(k.EditOperation.insert(new L.Position(o+n,l.commentStrOffset+1),l.commentStr+t))}return i}static nextVisibleColumn(v,o,i,t){return i?v+(o-v%o):v+t}static _normalizeInsertionPoint(v,o,i,t){let n=1073741824,r,l;for(let h=0,s=o.length;h<s;h++){if(o[h].ignore)continue;const u=v.getLineContent(i+h);let a=0;for(let d=0,c=o[h].commentStrOffset;a<n&&d<c;d++)a=S.nextVisibleColumn(a,t,u.charCodeAt(d)===9,1);a<n&&(n=a)}n=Math.floor(n/t)*t;for(let h=0,s=o.length;h<s;h++){if(o[h].ignore)continue;const u=v.getLineContent(i+h);let a=0;for(r=0,l=o[h].commentStrOffset;a<n&&r<l;r++)a=S.nextVisibleColumn(a,t,u.charCodeAt(r)===9,1);a>n?o[h].commentStrOffset=r-1:o[h].commentStrOffset=r}}}e.LineCommentCommand=S}),define(J[534],ee([1,0,5,24]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class L{constructor(_,m,S){this.selection=_,this.targetPosition=m,this.copy=S,this.targetSelection=null}getEditOperations(_,m){const S=_.getValueInRange(this.selection);if(this.copy||m.addEditOperation(this.selection,null),m.addEditOperation(new y.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),S),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(_,m){return this.targetSelection}}e.DragAndDropCommand=L}),define(J[535],ee([1,0,5]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(D,_,m){this._editorSelection=D,this._ranges=_,this._replaceStrings=m,this._trackedEditorSelectionId=null}getEditOperations(D,_){if(this._ranges.length>0){const m=[];for(let v=0;v<this._ranges.length;v++)m.push({range:this._ranges[v],text:this._replaceStrings[v]});m.sort((v,o)=>y.Range.compareRangesUsingStarts(v.range,o.range));const S=[];let f=m[0];for(let v=1;v<m.length;v++)f.range.endLineNumber===m[v].range.startLineNumber&&f.range.endColumn===m[v].range.startColumn?(f.range=f.range.plusRange(m[v].range),f.text=f.text+m[v].text):(S.push(f),f=m[v]);S.push(f);for(const v of S)_.addEditOperation(v.range,v.text)}this._trackedEditorSelectionId=_.trackSelection(this._editorSelection)}computeCursorState(D,_){return _.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(J[536],ee([1,0,387]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class k{constructor(v){this.staticValue=v,this.kind=0}}class L{constructor(v){this.pieces=v,this.kind=1}}class D{static fromStaticValue(v){return new D([_.staticValue(v)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(v){!v||v.length===0?this._state=new k(""):v.length===1&&v[0].staticValue!==null?this._state=new k(v[0].staticValue):this._state=new L(v)}buildReplaceString(v,o){if(this._state.kind===0)return o?(0,y.buildReplaceStringWithCasePreserved)(v,this._state.staticValue):this._state.staticValue;let i="";for(let t=0,n=this._state.pieces.length;t<n;t++){const r=this._state.pieces[t];if(r.staticValue!==null){i+=r.staticValue;continue}let l=D._substitute(r.matchIndex,v);if(r.caseOps!==null&&r.caseOps.length>0){const h=[],s=r.caseOps.length;let u=0;for(let a=0,d=l.length;a<d;a++){if(u>=s){h.push(l.slice(a));break}switch(r.caseOps[u]){case"U":h.push(l[a].toUpperCase());break;case"u":h.push(l[a].toUpperCase()),u++;break;case"L":h.push(l[a].toLowerCase());break;case"l":h.push(l[a].toLowerCase()),u++;break;default:h.push(l[a])}}l=h.join("")}i+=l}return i}static _substitute(v,o){if(o===null)return"";if(v===0)return o[0];let i="";for(;v>0;){if(v<o.length)return(o[v]||"")+i;i=String(v%10)+i,v=Math.floor(v/10)}return"$"+i}}e.ReplacePattern=D;class _{static staticValue(v){return new _(v,-1,null)}static caseOps(v,o){return new _(null,v,o)}constructor(v,o,i){this.staticValue=v,this.matchIndex=o,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}}e.ReplacePiece=_;class m{constructor(v){this._source=v,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(v){this._emitStatic(this._source.substring(this._lastCharIndex,v)),this._lastCharIndex=v}emitStatic(v,o){this._emitStatic(v),this._lastCharIndex=o}_emitStatic(v){v.length!==0&&(this._currentStaticPiece+=v)}emitMatchIndex(v,o,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=_.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=_.caseOps(v,i),this._lastCharIndex=o}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=_.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D(this._result)}}function S(f){if(!f||f.length===0)return new D(null);const v=[],o=new m(f);for(let i=0,t=f.length;i<t;i++){const n=f.charCodeAt(i);if(n===92){if(i++,i>=t)break;const r=f.charCodeAt(i);switch(r){case 92:o.emitUnchanged(i-1),o.emitStatic("\\",i+1);break;case 110:o.emitUnchanged(i-1),o.emitStatic(`
`,i+1);break;case 116:o.emitUnchanged(i-1),o.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:o.emitUnchanged(i-1),o.emitStatic("",i+1),v.push(String.fromCharCode(r));break}continue}if(n===36){if(i++,i>=t)break;const r=f.charCodeAt(i);if(r===36){o.emitUnchanged(i-1),o.emitStatic("$",i+1);continue}if(r===48||r===38){o.emitUnchanged(i-1),o.emitMatchIndex(0,i+1,v),v.length=0;continue}if(49<=r&&r<=57){let l=r-48;if(i+1<t){const h=f.charCodeAt(i+1);if(48<=h&&h<=57){i++,l=l*10+(h-48),o.emitUnchanged(i-2),o.emitMatchIndex(l,i+1,v),v.length=0;continue}}o.emitUnchanged(i-1),o.emitMatchIndex(l,i+1,v),v.length=0;continue}}}return o.finalize()}e.parseReplaceString=S}),define(J[184],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=e.foldSourceAbbr=void 0,e.foldSourceAbbr={[0]:" ",[1]:"u",[2]:"r"},e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const y=4278190080;class k{constructor(m){const S=Math.ceil(m/32);this._states=new Uint32Array(S)}get(m){const S=m/32|0,f=m%32;return(this._states[S]&1<<f)!==0}set(m,S){const f=m/32|0,v=m%32,o=this._states[f];S?this._states[f]=o|1<<v:this._states[f]=o&~(1<<v)}}class L{constructor(m,S,f){if(m.length!==S.length||m.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=m,this._endIndexes=S,this._collapseStates=new k(m.length),this._userDefinedStates=new k(m.length),this._recoveredStates=new k(m.length),this._types=f,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const m=[],S=(f,v)=>{const o=m[m.length-1];return this.getStartLineNumber(o)<=f&&this.getEndLineNumber(o)>=v};for(let f=0,v=this._startIndexes.length;f<v;f++){const o=this._startIndexes[f],i=this._endIndexes[f];if(o>e.MAX_LINE_NUMBER||i>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;m.length>0&&!S(o,i);)m.pop();const t=m.length>0?m[m.length-1]:-1;m.push(f),this._startIndexes[f]=o+((t&255)<<24),this._endIndexes[f]=i+((t&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(m){return this._startIndexes[m]&e.MAX_LINE_NUMBER}getEndLineNumber(m){return this._endIndexes[m]&e.MAX_LINE_NUMBER}getType(m){return this._types?this._types[m]:void 0}hasTypes(){return!!this._types}isCollapsed(m){return this._collapseStates.get(m)}setCollapsed(m,S){this._collapseStates.set(m,S)}isUserDefined(m){return this._userDefinedStates.get(m)}setUserDefined(m,S){return this._userDefinedStates.set(m,S)}isRecovered(m){return this._recoveredStates.get(m)}setRecovered(m,S){return this._recoveredStates.set(m,S)}getSource(m){return this.isUserDefined(m)?1:this.isRecovered(m)?2:0}setSource(m,S){S===1?(this.setUserDefined(m,!0),this.setRecovered(m,!1)):S===2?(this.setUserDefined(m,!1),this.setRecovered(m,!0)):(this.setUserDefined(m,!1),this.setRecovered(m,!1))}setCollapsedAllOfType(m,S){let f=!1;if(this._types)for(let v=0;v<this._types.length;v++)this._types[v]===m&&(this.setCollapsed(v,S),f=!0);return f}toRegion(m){return new D(this,m)}getParentIndex(m){this.ensureParentIndices();const S=((this._startIndexes[m]&y)>>>24)+((this._endIndexes[m]&y)>>>16);return S===e.MAX_FOLDING_REGIONS?-1:S}contains(m,S){return this.getStartLineNumber(m)<=S&&this.getEndLineNumber(m)>=S}findIndex(m){let S=0,f=this._startIndexes.length;if(f===0)return-1;for(;S<f;){const v=Math.floor((S+f)/2);m<this.getStartLineNumber(v)?f=v:S=v+1}return S-1}findRange(m){let S=this.findIndex(m);if(S>=0){if(this.getEndLineNumber(S)>=m)return S;for(S=this.getParentIndex(S);S!==-1;){if(this.contains(S,m))return S;S=this.getParentIndex(S)}}return-1}toString(){const m=[];for(let S=0;S<this.length;S++)m[S]=`[${e.foldSourceAbbr[this.getSource(S)]}${this.isCollapsed(S)?"+":"-"}] ${this.getStartLineNumber(S)}/${this.getEndLineNumber(S)}`;return m.join(", ")}toFoldRange(m){return{startLineNumber:this._startIndexes[m]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[m]&e.MAX_LINE_NUMBER,type:this._types?this._types[m]:void 0,isCollapsed:this.isCollapsed(m),source:this.getSource(m)}}static fromFoldRanges(m){const S=m.length,f=new Uint32Array(S),v=new Uint32Array(S);let o=[],i=!1;for(let n=0;n<S;n++){const r=m[n];f[n]=r.startLineNumber,v[n]=r.endLineNumber,o.push(r.type),r.type&&(i=!0)}i||(o=void 0);const t=new L(f,v,o);for(let n=0;n<S;n++)m[n].isCollapsed&&t.setCollapsed(n,!0),t.setSource(n,m[n].source);return t}static sanitizeAndMerge(m,S,f){f=f??Number.MAX_VALUE;const v=(d,c)=>Array.isArray(d)?b=>b<c?d[b]:void 0:b=>b<c?d.toFoldRange(b):void 0,o=v(m,m.length),i=v(S,S.length);let t=0,n=0,r=o(0),l=i(0);const h=[];let s,u=0;const a=[];for(;r||l;){let d;if(l&&(!r||r.startLineNumber>=l.startLineNumber))r&&r.startLineNumber===l.startLineNumber?(l.source===1?d=l:(d=r,d.isCollapsed=l.isCollapsed&&r.endLineNumber===l.endLineNumber,d.source=0),r=o(++t)):(d=l,l.isCollapsed&&l.source===0&&(d.source=2)),l=i(++n);else{let c=n,b=l;for(;;){if(!b||b.startLineNumber>r.endLineNumber){d=r;break}if(b.source===1&&b.endLineNumber>r.endLineNumber)break;b=i(++c)}r=o(++t)}if(d){for(;s&&s.endLineNumber<d.startLineNumber;)s=h.pop();d.endLineNumber>d.startLineNumber&&d.startLineNumber>u&&d.endLineNumber<=f&&(!s||s.endLineNumber>=d.endLineNumber)&&(a.push(d),u=d.startLineNumber,s&&h.push(s),s=d)}}return a}}e.FoldingRegions=L;class D{constructor(m,S){this.ranges=m,this.index=S}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(m){return m.startLineNumber<=this.startLineNumber&&m.endLineNumber>=this.endLineNumber}containsLine(m){return this.startLineNumber<=m&&m<=this.endLineNumber}}e.FoldingRegion=D}),define(J[537],ee([1,0,6,184,145]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class D{get regions(){return this._regions}get textModel(){return this._textModel}constructor(s,u){this._updateEventEmitter=new y.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=s,this._decorationProvider=u,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(s){if(!s.length)return;s=s.sort((a,d)=>a.regionIndex-d.regionIndex);const u={};this._decorationProvider.changeDecorations(a=>{let d=0,c=-1,b=-1;const g=p=>{for(;d<p;){const C=this._regions.getEndLineNumber(d),w=this._regions.isCollapsed(d);if(C<=c){const E=this.regions.getSource(d)!==0;a.changeDecorationOptions(this._editorDecorationIds[d],this._decorationProvider.getDecorationOption(w,C<=b,E))}w&&C>b&&(b=C),d++}};for(const p of s){const C=p.regionIndex,w=this._editorDecorationIds[C];if(w&&!u[w]){u[w]=!0,g(C);const E=!this._regions.isCollapsed(C);this._regions.setCollapsed(C,E),c=Math.max(c,this._regions.getEndLineNumber(C))}}g(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:s})}removeManualRanges(s){const u=new Array,a=d=>{for(const c of s)if(!(c.startLineNumber>d.endLineNumber||d.startLineNumber>c.endLineNumber))return!0;return!1};for(let d=0;d<this._regions.length;d++){const c=this._regions.toFoldRange(d);(c.source===0||!a(c))&&u.push(c)}this.updatePost(k.FoldingRegions.fromFoldRanges(u))}update(s,u=[]){const a=this._currentFoldedOrManualRanges(u),d=k.FoldingRegions.sanitizeAndMerge(s,a,this._textModel.getLineCount());this.updatePost(k.FoldingRegions.fromFoldRanges(d))}updatePost(s){const u=[];let a=-1;for(let d=0,c=s.length;d<c;d++){const b=s.getStartLineNumber(d),g=s.getEndLineNumber(d),p=s.isCollapsed(d),C=s.getSource(d)!==0,w={startLineNumber:b,startColumn:this._textModel.getLineMaxColumn(b),endLineNumber:g,endColumn:this._textModel.getLineMaxColumn(g)+1};u.push({range:w,options:this._decorationProvider.getDecorationOption(p,g<=a,C)}),p&&g>a&&(a=g)}this._decorationProvider.changeDecorations(d=>this._editorDecorationIds=d.deltaDecorations(this._editorDecorationIds,u)),this._regions=s,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(s=[]){const u=(d,c)=>{for(const b of s)if(d<b&&b<=c)return!0;return!1},a=[];for(let d=0,c=this._regions.length;d<c;d++){let b=this.regions.isCollapsed(d);const g=this.regions.getSource(d);if(b||g!==0){const p=this._regions.toFoldRange(d),C=this._textModel.getDecorationRange(this._editorDecorationIds[d]);C&&(b&&u(C.startLineNumber,C.endLineNumber)&&(b=!1),a.push({startLineNumber:C.startLineNumber,endLineNumber:C.endLineNumber,type:p.type,isCollapsed:b,source:g}))}}return a}getMemento(){const s=this._currentFoldedOrManualRanges(),u=[],a=this._textModel.getLineCount();for(let d=0,c=s.length;d<c;d++){const b=s[d];if(b.startLineNumber>=b.endLineNumber||b.startLineNumber<1||b.endLineNumber>a)continue;const g=this._getLinesChecksum(b.startLineNumber+1,b.endLineNumber);u.push({startLineNumber:b.startLineNumber,endLineNumber:b.endLineNumber,isCollapsed:b.isCollapsed,source:b.source,checksum:g})}return u.length>0?u:void 0}applyMemento(s){var u,a;if(!Array.isArray(s))return;const d=[],c=this._textModel.getLineCount();for(const g of s){if(g.startLineNumber>=g.endLineNumber||g.startLineNumber<1||g.endLineNumber>c)continue;const p=this._getLinesChecksum(g.startLineNumber+1,g.endLineNumber);(!g.checksum||p===g.checksum)&&d.push({startLineNumber:g.startLineNumber,endLineNumber:g.endLineNumber,type:void 0,isCollapsed:(u=g.isCollapsed)!==null&&u!==void 0?u:!0,source:(a=g.source)!==null&&a!==void 0?a:0})}const b=k.FoldingRegions.sanitizeAndMerge(this._regions,d,c);this.updatePost(k.FoldingRegions.fromFoldRanges(b))}_getLinesChecksum(s,u){return(0,L.hash)(this._textModel.getLineContent(s)+this._textModel.getLineContent(u))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(s,u){const a=[];if(this._regions){let d=this._regions.findRange(s),c=1;for(;d>=0;){const b=this._regions.toRegion(d);(!u||u(b,c))&&a.push(b),c++,d=b.parentIndex}}return a}getRegionAtLine(s){if(this._regions){const u=this._regions.findRange(s);if(u>=0)return this._regions.toRegion(u)}return null}getRegionsInside(s,u){const a=[],d=s?s.regionIndex+1:0,c=s?s.endLineNumber:Number.MAX_VALUE;if(u&&u.length===2){const b=[];for(let g=d,p=this._regions.length;g<p;g++){const C=this._regions.toRegion(g);if(this._regions.getStartLineNumber(g)<c){for(;b.length>0&&!C.containedBy(b[b.length-1]);)b.pop();b.push(C),u(C,b.length)&&a.push(C)}else break}}else for(let b=d,g=this._regions.length;b<g;b++){const p=this._regions.toRegion(b);if(this._regions.getStartLineNumber(b)<c)(!u||u(p))&&a.push(p);else break}return a}}e.FoldingModel=D;function _(h,s,u){const a=[];for(const d of u){const c=h.getRegionAtLine(d);if(c){const b=!c.isCollapsed;if(a.push(c),s>1){const g=h.getRegionsInside(c,(p,C)=>p.isCollapsed!==b&&C<s);a.push(...g)}}}h.toggleCollapseState(a)}e.toggleCollapseState=_;function m(h,s,u=Number.MAX_VALUE,a){const d=[];if(a&&a.length>0)for(const c of a){const b=h.getRegionAtLine(c);if(b&&(b.isCollapsed!==s&&d.push(b),u>1)){const g=h.getRegionsInside(b,(p,C)=>p.isCollapsed!==s&&C<u);d.push(...g)}}else{const c=h.getRegionsInside(null,(b,g)=>b.isCollapsed!==s&&g<u);d.push(...c)}h.toggleCollapseState(d)}e.setCollapseStateLevelsDown=m;function S(h,s,u,a){const d=[];for(const c of a){const b=h.getAllRegionsAtLine(c,(g,p)=>g.isCollapsed!==s&&p<=u);d.push(...b)}h.toggleCollapseState(d)}e.setCollapseStateLevelsUp=S;function f(h,s,u){const a=[];for(const d of u){const c=h.getAllRegionsAtLine(d,b=>b.isCollapsed!==s);c.length>0&&a.push(c[0])}h.toggleCollapseState(a)}e.setCollapseStateUp=f;function v(h,s,u,a){const d=(b,g)=>g===s&&b.isCollapsed!==u&&!a.some(p=>b.containsLine(p)),c=h.getRegionsInside(null,d);h.toggleCollapseState(c)}e.setCollapseStateAtLevel=v;function o(h,s,u){const a=[];for(const b of u){const g=h.getAllRegionsAtLine(b,void 0);g.length>0&&a.push(g[0])}const d=b=>a.every(g=>!g.containedBy(b)&&!b.containedBy(g))&&b.isCollapsed!==s,c=h.getRegionsInside(null,d);h.toggleCollapseState(c)}e.setCollapseStateForRest=o;function i(h,s,u){const a=h.textModel,d=h.regions,c=[];for(let b=d.length-1;b>=0;b--)if(u!==d.isCollapsed(b)){const g=d.getStartLineNumber(b);s.test(a.getLineContent(g))&&c.push(d.toRegion(b))}h.toggleCollapseState(c)}e.setCollapseStateForMatchingLines=i;function t(h,s,u){const a=h.regions,d=[];for(let c=a.length-1;c>=0;c--)u!==a.isCollapsed(c)&&s===a.getType(c)&&d.push(a.toRegion(c));h.toggleCollapseState(d)}e.setCollapseStateForType=t;function n(h,s){let u=null;const a=s.getRegionAtLine(h);if(a!==null&&(u=a.startLineNumber,h===u)){const d=a.parentIndex;d!==-1?u=s.regions.getStartLineNumber(d):u=null}return u}e.getParentFoldLine=n;function r(h,s){let u=s.getRegionAtLine(h);if(u!==null&&u.startLineNumber===h){if(h!==u.startLineNumber)return u.startLineNumber;{const a=u.parentIndex;let d=0;for(a!==-1&&(d=s.regions.getStartLineNumber(u.parentIndex));u!==null;)if(u.regionIndex>0){if(u=s.regions.toRegion(u.regionIndex-1),u.startLineNumber<=d)return null;if(u.parentIndex===a)return u.startLineNumber}else return null}}else if(s.regions.length>0)for(u=s.regions.toRegion(s.regions.length-1);u!==null;){if(u.startLineNumber<h)return u.startLineNumber;u.regionIndex>0?u=s.regions.toRegion(u.regionIndex-1):u=null}return null}e.getPreviousFoldLine=r;function l(h,s){let u=s.getRegionAtLine(h);if(u!==null&&u.startLineNumber===h){const a=u.parentIndex;let d=0;if(a!==-1)d=s.regions.getEndLineNumber(u.parentIndex);else{if(s.regions.length===0)return null;d=s.regions.getEndLineNumber(s.regions.length-1)}for(;u!==null;)if(u.regionIndex<s.regions.length){if(u=s.regions.toRegion(u.regionIndex+1),u.startLineNumber>=d)return null;if(u.parentIndex===a)return u.startLineNumber}else return null}else if(s.regions.length>0)for(u=s.regions.toRegion(0);u!==null;){if(u.startLineNumber>h)return u.startLineNumber;u.regionIndex<s.regions.length?u=s.regions.toRegion(u.regionIndex+1):u=null}return null}e.getNextFoldLine=l}),define(J[538],ee([1,0,15,6,5,123]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class _{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(v){this._updateEventEmitter=new k.Emitter,this._hasLineChanges=!1,this._foldingModel=v,this._foldingModelListener=v.onDidChange(o=>this.updateHiddenRanges()),this._hiddenRanges=[],v.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(v){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=v.changes.some(o=>o.range.endLineNumber!==o.range.startLineNumber||(0,D.countEOL)(o.text)[0]!==0))}updateHiddenRanges(){let v=!1;const o=[];let i=0,t=0,n=Number.MAX_VALUE,r=-1;const l=this._foldingModel.regions;for(;i<l.length;i++){if(!l.isCollapsed(i))continue;const h=l.getStartLineNumber(i)+1,s=l.getEndLineNumber(i);n<=h&&s<=r||(!v&&t<this._hiddenRanges.length&&this._hiddenRanges[t].startLineNumber===h&&this._hiddenRanges[t].endLineNumber===s?(o.push(this._hiddenRanges[t]),t++):(v=!0,o.push(new L.Range(h,1,s,1))),n=h,r=s)}(this._hasLineChanges||v||t<this._hiddenRanges.length)&&this.applyHiddenRanges(o)}applyHiddenRanges(v){this._hiddenRanges=v,this._hasLineChanges=!1,this._updateEventEmitter.fire(v)}hasRanges(){return this._hiddenRanges.length>0}isHidden(v){return S(this._hiddenRanges,v)!==null}adjustSelections(v){let o=!1;const i=this._foldingModel.textModel;let t=null;const n=r=>((!t||!m(r,t))&&(t=S(this._hiddenRanges,r)),t?t.startLineNumber-1:null);for(let r=0,l=v.length;r<l;r++){let h=v[r];const s=n(h.startLineNumber);s&&(h=h.setStartPosition(s,i.getLineMaxColumn(s)),o=!0);const u=n(h.endLineNumber);u&&(h=h.setEndPosition(u,i.getLineMaxColumn(u)),o=!0),v[r]=h}return o}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=_;function m(f,v){return f>=v.startLineNumber&&f<=v.endLineNumber}function S(f,v){const o=(0,y.findFirstInSorted)(f,i=>v<i.startLineNumber)-1;return o>=0&&f[o].endLineNumber>=v?f[o]:null}}),define(J[290],ee([1,0,208,184]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=void 0;const L=5e3,D="indent";class _{constructor(o,i,t){this.editorModel=o,this.languageConfigurationService=i,this.foldingRangesLimit=t,this.id=D}dispose(){}compute(o){const i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,t=i&&!!i.offSide,n=i&&i.markers;return Promise.resolve(f(this.editorModel,t,n,this.foldingRangesLimit))}}e.IndentRangeProvider=_;class m{constructor(o){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=o}insertFirst(o,i,t){if(o>k.MAX_LINE_NUMBER||i>k.MAX_LINE_NUMBER)return;const n=this._length;this._startIndexes[n]=o,this._endIndexes[n]=i,this._length++,t<1e3&&(this._indentOccurrences[t]=(this._indentOccurrences[t]||0)+1)}toIndentRanges(o){const i=this._foldingRangesLimit.limit;if(this._length<=i){this._foldingRangesLimit.update(this._length,!1);const t=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let r=this._length-1,l=0;r>=0;r--,l++)t[l]=this._startIndexes[r],n[l]=this._endIndexes[r];return new k.FoldingRegions(t,n)}else{this._foldingRangesLimit.update(this._length,i);let t=0,n=this._indentOccurrences.length;for(let s=0;s<this._indentOccurrences.length;s++){const u=this._indentOccurrences[s];if(u){if(u+t>i){n=s;break}t+=u}}const r=o.getOptions().tabSize,l=new Uint32Array(i),h=new Uint32Array(i);for(let s=this._length-1,u=0;s>=0;s--){const a=this._startIndexes[s],d=o.getLineContent(a),c=(0,y.computeIndentLevel)(d,r);(c<n||c===n&&t++<i)&&(l[u]=a,h[u]=this._endIndexes[s],u++)}return new k.FoldingRegions(l,h)}}}e.RangesCollector=m;const S={limit:L,update:()=>{}};function f(v,o,i,t=S){const n=v.getOptions().tabSize,r=new m(t);let l;i&&(l=new RegExp(`(${i.start.source})|(?:${i.end.source})`));const h=[],s=v.getLineCount()+1;h.push({indent:-1,endAbove:s,line:s});for(let u=v.getLineCount();u>0;u--){const a=v.getLineContent(u),d=(0,y.computeIndentLevel)(a,n);let c=h[h.length-1];if(d===-1){o&&(c.endAbove=u);continue}let b;if(l&&(b=a.match(l)))if(b[1]){let g=h.length-1;for(;g>0&&h[g].indent!==-2;)g--;if(g>0){h.length=g+1,c=h[g],r.insertFirst(u,c.line,d),c.line=u,c.indent=d,c.endAbove=u;continue}}else{h.push({indent:-2,endAbove:u,line:u});continue}if(c.indent>d){do h.pop(),c=h[h.length-1];while(c.indent>d);const g=c.endAbove-1;g-u>=1&&r.insertFirst(u,g,d)}c.indent===d?c.endAbove=u:h.push({indent:d,endAbove:u,line:u})}return r.toIndentRanges(v)}e.computeRanges=f}),define(J[291],ee([1,0,12,2,184]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.SyntaxRangeProvider=void 0;const D={},_="syntax";class m{constructor(i,t,n,r,l){this.editorModel=i,this.providers=t,this.handleFoldingRangesChange=n,this.foldingRangesLimit=r,this.fallbackRangeProvider=l,this.id=_,this.disposables=new k.DisposableStore,l&&this.disposables.add(l);for(const h of t)typeof h.onDidChange=="function"&&this.disposables.add(h.onDidChange(n))}compute(i){return S(this.providers,this.editorModel,i).then(t=>{var n,r;return t?v(t,this.foldingRangesLimit):(r=(n=this.fallbackRangeProvider)===null||n===void 0?void 0:n.compute(i))!==null&&r!==void 0?r:null})}dispose(){this.disposables.dispose()}}e.SyntaxRangeProvider=m;function S(o,i,t){let n=null;const r=o.map((l,h)=>Promise.resolve(l.provideFoldingRanges(i,D,t)).then(s=>{if(!t.isCancellationRequested&&Array.isArray(s)){Array.isArray(n)||(n=[]);const u=i.getLineCount();for(const a of s)a.start>0&&a.end>a.start&&a.end<=u&&n.push({start:a.start,end:a.end,rank:h,kind:a.kind})}},y.onUnexpectedExternalError));return Promise.all(r).then(l=>n)}class f{constructor(i){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=i}add(i,t,n,r){if(i>L.MAX_LINE_NUMBER||t>L.MAX_LINE_NUMBER)return;const l=this._length;this._startIndexes[l]=i,this._endIndexes[l]=t,this._nestingLevels[l]=r,this._types[l]=n,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}toIndentRanges(){const i=this._foldingRangesLimit.limit;if(this._length<=i){this._foldingRangesLimit.update(this._length,!1);const t=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let r=0;r<this._length;r++)t[r]=this._startIndexes[r],n[r]=this._endIndexes[r];return new L.FoldingRegions(t,n,this._types)}else{this._foldingRangesLimit.update(this._length,i);let t=0,n=this._nestingLevelCounts.length;for(let s=0;s<this._nestingLevelCounts.length;s++){const u=this._nestingLevelCounts[s];if(u){if(u+t>i){n=s;break}t+=u}}const r=new Uint32Array(i),l=new Uint32Array(i),h=[];for(let s=0,u=0;s<this._length;s++){const a=this._nestingLevels[s];(a<n||a===n&&t++<i)&&(r[u]=this._startIndexes[s],l[u]=this._endIndexes[s],h[u]=this._types[s],u++)}return new L.FoldingRegions(r,l,h)}}}function v(o,i){const t=o.sort((h,s)=>{let u=h.start-s.start;return u===0&&(u=h.rank-s.rank),u}),n=new f(i);let r;const l=[];for(const h of t)if(!r)r=h,n.add(h.start,h.end,h.kind&&h.kind.value,l.length);else if(h.start>r.start)if(h.end<=r.end)l.push(r),r=h,n.add(h.start,h.end,h.kind&&h.kind.value,l.length);else{if(h.start>r.end){do r=l.pop();while(r&&h.start>r.end);r&&l.push(r),r=h}n.add(h.start,h.end,h.kind&&h.kind.value,l.length)}return n.toIndentRanges()}e.sanitizeRanges=v}),define(J[292],ee([1,0,72,5,108]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class D{static _handleEolEdits(m,S){let f;const v=[];for(const o of S)typeof o.eol=="number"&&(f=o.eol),o.range&&typeof o.text=="string"&&v.push(o);return typeof f=="number"&&m.hasModel()&&m.getModel().pushEOL(f),v}static _isFullModelReplaceEdit(m,S){if(!m.hasModel())return!1;const f=m.getModel(),v=f.validateRange(S.range);return f.getFullModelRange().equalsRange(v)}static execute(m,S,f){f&&m.pushUndoStop();const v=L.StableEditorScrollState.capture(m),o=D._handleEolEdits(m,S);o.length===1&&D._isFullModelReplaceEdit(m,o[0])?m.executeEdits("formatEditsCommand",o.map(i=>y.EditOperation.replace(k.Range.lift(i.range),i.text))):m.executeEdits("formatEditsCommand",o.map(i=>y.EditOperation.replaceMove(k.Range.lift(i.range),i.text))),f&&m.pushUndoStop(),v.restoreRelativeVerticalPositionOfCursor(m)}}e.FormattingEdit=D}),define(J[101],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class y{constructor(D,_,m,S){this.priority=D,this.range=_,this.initialMousePosX=m,this.initialMousePosY=S,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,_){return D.type===1&&_.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=y;class k{constructor(D,_,m,S,f,v){this.priority=D,this.owner=_,this.range=m,this.initialMousePosX=S,this.initialMousePosY=f,this.supportsMarkerHover=v,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,_){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=k,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(D){this._participants.push(D)}getAll(){return this._participants}}}),define(J[539],ee([1,0,24]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(D,_,m){this._editRange=D,this._originalSelection=_,this._text=m}getEditOperations(D,_){_.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,_){const S=_.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new y.Selection(S.endLineNumber,Math.min(this._originalSelection.positionColumn,S.endColumn),S.endLineNumber,Math.min(this._originalSelection.positionColumn,S.endColumn)):new y.Selection(S.endLineNumber,S.endColumn-this._text.length,S.endLineNumber,S.endColumn)}}e.InPlaceReplaceCommand=k}),define(J[293],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function y(L,D){let _=0;for(let m=0;m<L.length;m++)L.charAt(m)==="	"?_+=D:_++;return _}e.getSpaceCnt=y;function k(L,D,_){L=L<0?0:L;let m="";if(!_){const S=Math.floor(L/D);L=L%D;for(let f=0;f<S;f++)m+="	"}for(let S=0;S<L;S++)m+=" ";return m}e.generateIndent=k}),define(J[215],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showNextInlineSuggestionActionId=e.showPreviousInlineSuggestionActionId=e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit",e.showPreviousInlineSuggestionActionId="editor.action.inlineSuggest.showPrevious",e.showNextInlineSuggestionActionId="editor.action.inlineSuggest.showNext"}),define(J[153],ee([1,0,12,2,42,11,5]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfText=e.addPositions=e.applyObservableDecorations=e.ColumnRange=e.getReadonlyEmptyArray=e.applyEdits=void 0;function m(r,l){const h=new S(r),s=l.map(u=>{const a=_.Range.lift(u.range);return{startOffset:h.getOffset(a.getStartPosition()),endOffset:h.getOffset(a.getEndPosition()),text:u.text}});s.sort((u,a)=>a.startOffset-u.startOffset);for(const u of s)r=r.substring(0,u.startOffset)+u.text+r.substring(u.endOffset);return r}e.applyEdits=m;class S{constructor(l){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let h=0;h<l.length;h++)l.charAt(h)===`
`&&this.lineStartOffsetByLineIdx.push(h+1)}getOffset(l){return this.lineStartOffsetByLineIdx[l.lineNumber-1]+l.column-1}}const f=[];function v(){return f}e.getReadonlyEmptyArray=v;class o{constructor(l,h){if(this.startColumn=l,this.endColumnExclusive=h,l>h)throw new y.BugIndicatingError(`startColumn ${l} cannot be after endColumnExclusive ${h}`)}toRange(l){return new _.Range(l,this.startColumn,l,this.endColumnExclusive)}}e.ColumnRange=o;function i(r,l){const h=new k.DisposableStore,s=r.createDecorationsCollection();return h.add((0,L.autorun)(`Apply decorations from ${l.debugName}`,u=>{const a=l.read(u);s.set(a)})),h.add({dispose:()=>{s.clear()}}),h}e.applyObservableDecorations=i;function t(r,l){return new D.Position(r.lineNumber+l.lineNumber-1,l.lineNumber===1?r.column+l.column-1:l.column)}e.addPositions=t;function n(r){let l=1,h=1;for(const s of r)s===`
`?(l++,h=1):h++;return new D.Position(l,h)}e.lengthOfText=n}),define(J[216],ee([1,0,153]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0;class k{constructor(m,S){this.lineNumber=m,this.parts=S}renderForScreenReader(m){if(this.parts.length===0)return"";const S=this.parts[this.parts.length-1],f=m.substr(0,S.column-1);return(0,y.applyEdits)(f,this.parts.map(o=>({range:{startLineNumber:1,endLineNumber:1,startColumn:o.column,endColumn:o.column},text:o.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(m=>m.lines.length===0)}get lineCount(){return 1+this.parts.reduce((m,S)=>m+S.lines.length-1,0)}}e.GhostText=k;class L{constructor(m,S,f){this.column=m,this.lines=S,this.preview=f}}e.GhostTextPart=L;class D{constructor(m,S,f,v=0){this.lineNumber=m,this.columnRange=S,this.newLines=f,this.additionalReservedLineCount=v,this.parts=[new L(this.columnRange.endColumnExclusive,this.newLines,!1)]}renderForScreenReader(m){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(m=>m.lines.length===0)}}e.GhostTextReplacement=D}),define(J[294],ee([1,0,170,9,5,216,153]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SingleTextEdit=void 0;class m{constructor(n,r){this.range=n,this.text=r}removeCommonPrefix(n,r){const l=r?this.range.intersectRanges(r):this.range;if(!l)return this;const h=n.getValueInRange(l,1),s=(0,k.commonPrefixLength)(h,this.text),u=(0,_.addPositions)(this.range.getStartPosition(),(0,_.lengthOfText)(h.substring(0,s))),a=this.text.substring(s),d=L.Range.fromPositions(u,this.range.getEndPosition());return new m(d,a)}augments(n){return this.text.startsWith(n.text)&&S(this.range,n.range)}computeGhostText(n,r,l,h=0){let s=this.removeCommonPrefix(n);if(s.range.endLineNumber!==s.range.startLineNumber)return;const u=n.getLineContent(s.range.startLineNumber),a=(0,k.getLeadingWhitespace)(u).length;if(s.range.startColumn-1<=a){const w=(0,k.getLeadingWhitespace)(s.text).length,E=u.substring(s.range.startColumn-1,a),[I,T]=[s.range.getStartPosition(),s.range.getEndPosition()],P=I.column+E.length<=T.column?I.delta(0,E.length):T,A=L.Range.fromPositions(P,T),M=s.text.startsWith(E)?s.text.substring(E.length):s.text.substring(w);s=new m(A,M)}const c=n.getValueInRange(s.range),b=v(c,s.text);if(!b)return;const g=s.range.startLineNumber,p=new Array;if(r==="prefix"){const w=b.filter(E=>E.originalLength===0);if(w.length>1||w.length===1&&w[0].originalStart!==c.length)return}const C=s.text.length-h;for(const w of b){const E=s.range.startColumn+w.originalStart+w.originalLength;if(r==="subwordSmart"&&l&&l.lineNumber===s.range.startLineNumber&&E<l.column||w.originalLength>0)return;if(w.modifiedLength===0)continue;const I=w.modifiedStart+w.modifiedLength,T=Math.max(w.modifiedStart,Math.min(I,C)),P=s.text.substring(w.modifiedStart,T),A=s.text.substring(T,Math.max(w.modifiedStart,I));if(P.length>0){const M=(0,k.splitLines)(P);p.push(new D.GhostTextPart(E,M,!1))}if(A.length>0){const M=(0,k.splitLines)(A);p.push(new D.GhostTextPart(E,M,!0))}}return new D.GhostText(g,p)}}e.SingleTextEdit=m;function S(t,n){return n.getStartPosition().equals(t.getStartPosition())&&n.getEndPosition().isBeforeOrEqual(t.getEndPosition())}let f;function v(t,n){if(f?.originalValue===t&&f?.newValue===n)return f?.changes;{let r=i(t,n,!0);if(r){const l=o(r);if(l>0){const h=i(t,n,!1);h&&o(h)<l&&(r=h)}}return f={originalValue:t,newValue:n,changes:r},r}}function o(t){let n=0;for(const r of t)n+=r.originalLength;return n}function i(t,n,r){if(t.length>5e3||n.length>5e3)return;function l(c){let b=0;for(let g=0,p=c.length;g<p;g++){const C=c.charCodeAt(g);C>b&&(b=C)}return b}const h=Math.max(l(t),l(n));function s(c){if(c<0)throw new Error("unexpected");return h+c+1}function u(c){let b=0,g=0;const p=new Int32Array(c.length);for(let C=0,w=c.length;C<w;C++)if(r&&c[C]==="("){const E=g*100+b;p[C]=s(2*E),b++}else if(r&&c[C]===")"){b=Math.max(b-1,0);const E=g*100+b;p[C]=s(2*E+1),b===0&&g++}else p[C]=c.charCodeAt(C);return p}const a=u(t),d=u(n);return new y.LcsDiff({getElements:()=>a},{getElements:()=>d}).ComputeDiff(!1).changes}}),define(J[540],ee([1,0,5,24]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class L{constructor(_,m,S){this._selection=_,this._isCopyingDown=m,this._noop=S||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(_,m){let S=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,S.startLineNumber<S.endLineNumber&&S.endColumn===1&&(this._endLineNumberDelta=1,S=S.setEndPosition(S.endLineNumber-1,_.getLineMaxColumn(S.endLineNumber-1)));const f=[];for(let o=S.startLineNumber;o<=S.endLineNumber;o++)f.push(_.getLineContent(o));const v=f.join(`
`);v===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?m.addEditOperation(new y.Range(S.endLineNumber,_.getLineMaxColumn(S.endLineNumber),S.endLineNumber+1,1),S.endLineNumber===_.getLineCount()?"":`
`):this._isCopyingDown?m.addEditOperation(new y.Range(S.startLineNumber,1,S.startLineNumber,1),v+`
`):m.addEditOperation(new y.Range(S.endLineNumber,_.getLineMaxColumn(S.endLineNumber),S.endLineNumber,_.getLineMaxColumn(S.endLineNumber)),`
`+v),this._selectionId=m.trackSelection(S),this._selectionDirection=this._selection.getDirection()}computeCursorState(_,m){let S=m.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let f=S.startLineNumber,v=S.startColumn,o=S.endLineNumber,i=S.endColumn;this._startLineNumberDelta!==0&&(f=f+this._startLineNumberDelta,v=1),this._endLineNumberDelta!==0&&(o=o+this._endLineNumberDelta,i=1),S=k.Selection.createWithDirection(f,v,o,i,this._selectionDirection)}return S}}e.CopyLinesCommand=L}),define(J[541],ee([1,0,72,5]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class L{static getCollator(){return L._COLLATOR||(L._COLLATOR=new Intl.Collator),L._COLLATOR}constructor(S,f){this.selection=S,this.descending=f,this.selectionId=null}getEditOperations(S,f){const v=_(S,this.selection,this.descending);v&&f.addEditOperation(v.range,v.text),this.selectionId=f.trackSelection(this.selection)}computeCursorState(S,f){return f.getTrackedSelection(this.selectionId)}static canRun(S,f,v){if(S===null)return!1;const o=D(S,f,v);if(!o)return!1;for(let i=0,t=o.before.length;i<t;i++)if(o.before[i]!==o.after[i])return!0;return!1}}e.SortLinesCommand=L,L._COLLATOR=null;function D(m,S,f){const v=S.startLineNumber;let o=S.endLineNumber;if(S.endColumn===1&&o--,v>=o)return null;const i=[];for(let n=v;n<=o;n++)i.push(m.getLineContent(n));let t=i.slice(0);return t.sort(L.getCollator().compare),f===!0&&(t=t.reverse()),{startLineNumber:v,endLineNumber:o,before:i,after:t}}function _(m,S,f){const v=D(m,S,f);return v?y.EditOperation.replace(new k.Range(v.startLineNumber,1,v.endLineNumber,m.getLineMaxColumn(v.endLineNumber)),v.after.join(`
`)):null}}),define(J[295],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=void 0,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function y(k,L,D){var _;const m=(_=D.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:k.getLanguageId(),resource:k.uri}))===null||_===void 0?void 0:_.enabled;return typeof m=="boolean"?m:L.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=y}),define(J[296],ee([1,0,65,11,5]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{provideSelectionRanges(m,S){return Le(this,void 0,void 0,function*(){const f=[];for(const v of S){const o=[];f.push(o);const i=new Map;yield new Promise(t=>D._bracketsRightYield(t,0,m,v,i)),yield new Promise(t=>D._bracketsLeftYield(t,0,m,v,i,o))}return f})}static _bracketsRightYield(m,S,f,v,o){const i=new Map,t=Date.now();for(;;){if(S>=D._maxRounds){m();break}if(!v){m();break}const n=f.bracketPairs.findNextBracket(v);if(!n){m();break}if(Date.now()-t>D._maxDuration){setTimeout(()=>D._bracketsRightYield(m,S+1,f,v,o));break}if(n.bracketInfo.isOpeningBracket){const l=n.bracketInfo.bracketText,h=i.has(l)?i.get(l):0;i.set(l,h+1)}else{const l=n.bracketInfo.getOpeningBrackets()[0].bracketText;let h=i.has(l)?i.get(l):0;if(h-=1,i.set(l,Math.max(0,h)),h<0){let s=o.get(l);s||(s=new y.LinkedList,o.set(l,s)),s.push(n.range)}}v=n.range.getEndPosition()}}static _bracketsLeftYield(m,S,f,v,o,i){const t=new Map,n=Date.now();for(;;){if(S>=D._maxRounds&&o.size===0){m();break}if(!v){m();break}const r=f.bracketPairs.findPrevBracket(v);if(!r){m();break}if(Date.now()-n>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(m,S+1,f,v,o,i));break}if(r.bracketInfo.isOpeningBracket){const h=r.bracketInfo.bracketText;let s=t.has(h)?t.get(h):0;if(s-=1,t.set(h,Math.max(0,s)),s<0){const u=o.get(h);if(u){const a=u.shift();u.size===0&&o.delete(h);const d=L.Range.fromPositions(r.range.getEndPosition(),a.getStartPosition()),c=L.Range.fromPositions(r.range.getStartPosition(),a.getEndPosition());i.push({range:d}),i.push({range:c}),D._addBracketLeading(f,c,i)}}}else{const h=r.bracketInfo.getOpeningBrackets()[0].bracketText,s=t.has(h)?t.get(h):0;t.set(h,s+1)}v=r.range.getStartPosition()}}static _addBracketLeading(m,S,f){if(S.startLineNumber===S.endLineNumber)return;const v=S.startLineNumber,o=m.getLineFirstNonWhitespaceColumn(v);o!==0&&o!==S.startColumn&&(f.push({range:L.Range.fromPositions(new k.Position(v,o),S.getEndPosition())}),f.push({range:L.Range.fromPositions(new k.Position(v,1),S.getEndPosition())}));const i=v-1;if(i>0){const t=m.getLineFirstNonWhitespaceColumn(i);t===S.startColumn&&t!==m.getLineLastNonWhitespaceColumn(i)&&(f.push({range:L.Range.fromPositions(new k.Position(i,t),S.getEndPosition())}),f.push({range:L.Range.fromPositions(new k.Position(i,1),S.getEndPosition())}))}}}e.BracketSelectionRangeProvider=D,D._maxDuration=30,D._maxRounds=2}),define(J[542],ee([1,0,9,5]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class L{constructor(_=!0){this.selectSubwords=_}provideSelectionRanges(_,m){const S=[];for(const f of m){const v=[];S.push(v),this.selectSubwords&&this._addInWordRanges(v,_,f),this._addWordRanges(v,_,f),this._addWhitespaceLine(v,_,f),v.push({range:_.getFullModelRange()})}return S}_addInWordRanges(_,m,S){const f=m.getWordAtPosition(S);if(!f)return;const{word:v,startColumn:o}=f,i=S.column-o;let t=i,n=i,r=0;for(;t>=0;t--){const l=v.charCodeAt(t);if(t!==i&&(l===95||l===45))break;if((0,y.isLowerAsciiLetter)(l)&&(0,y.isUpperAsciiLetter)(r))break;r=l}for(t+=1;n<v.length;n++){const l=v.charCodeAt(n);if((0,y.isUpperAsciiLetter)(l)&&(0,y.isLowerAsciiLetter)(r))break;if(l===95||l===45)break;r=l}t<n&&_.push({range:new k.Range(S.lineNumber,o+t,S.lineNumber,o+n)})}_addWordRanges(_,m,S){const f=m.getWordAtPosition(S);f&&_.push({range:new k.Range(S.lineNumber,f.startColumn,S.lineNumber,f.endColumn)})}_addWhitespaceLine(_,m,S){m.getLineLength(S.lineNumber)>0&&m.getLineFirstNonWhitespaceColumn(S.lineNumber)===0&&m.getLineLastNonWhitespaceColumn(S.lineNumber)===0&&_.push({range:new k.Range(S.lineNumber,1,S.lineNumber,m.getLineMaxColumn(S.lineNumber))})}}e.WordSelectionRangeProvider=L}),define(J[130],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class y{constructor(){this.value="",this.pos=0}static isDigitCharacter(r){return r>=48&&r<=57}static isVariableCharacter(r){return r===95||r>=97&&r<=122||r>=65&&r<=90}text(r){this.value=r,this.pos=0}tokenText(r){return this.value.substr(r.pos,r.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const r=this.pos;let l=0,h=this.value.charCodeAt(r),s;if(s=y._table[h],typeof s=="number")return this.pos+=1,{type:s,pos:r,len:1};if(y.isDigitCharacter(h)){s=8;do l+=1,h=this.value.charCodeAt(r+l);while(y.isDigitCharacter(h));return this.pos+=l,{type:s,pos:r,len:l}}if(y.isVariableCharacter(h)){s=9;do h=this.value.charCodeAt(r+ ++l);while(y.isVariableCharacter(h)||y.isDigitCharacter(h));return this.pos+=l,{type:s,pos:r,len:l}}s=10;do l+=1,h=this.value.charCodeAt(r+l);while(!isNaN(h)&&typeof y._table[h]>"u"&&!y.isDigitCharacter(h)&&!y.isVariableCharacter(h));return this.pos+=l,{type:s,pos:r,len:l}}}e.Scanner=y,y._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class k{constructor(){this._children=[]}appendChild(r){return r instanceof L&&this._children[this._children.length-1]instanceof L?this._children[this._children.length-1].value+=r.value:(r.parent=this,this._children.push(r)),this}replace(r,l){const{parent:h}=r,s=h.children.indexOf(r),u=h.children.slice(0);u.splice(s,1,...l),h._children=u,function a(d,c){for(const b of d)b.parent=c,a(b.children,b)}(l,h)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let r=this;for(;;){if(!r)return;if(r instanceof i)return r;r=r.parent}}toString(){return this.children.reduce((r,l)=>r+l.toString(),"")}len(){return 0}}e.Marker=k;class L extends k{constructor(r){super(),this.value=r}toString(){return this.value}len(){return this.value.length}clone(){return new L(this.value)}}e.Text=L;class D extends k{}e.TransformableMarker=D;class _ extends D{static compareByIndex(r,l){return r.index===l.index?0:r.isFinalTabstop?1:l.isFinalTabstop||r.index<l.index?-1:r.index>l.index?1:0}constructor(r){super(),this.index=r}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof m?this._children[0]:void 0}clone(){const r=new _(this.index);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(l=>l.clone()),r}}e.Placeholder=_;class m extends k{constructor(){super(...arguments),this.options=[]}appendChild(r){return r instanceof L&&(r.parent=this,this.options.push(r)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const r=new m;return this.options.forEach(r.appendChild,r),r}}e.Choice=m;class S extends k{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(r){const l=this;let h=!1,s=r.replace(this.regexp,function(){return h=!0,l._replace(Array.prototype.slice.call(arguments,0,-2))});return!h&&this._children.some(u=>u instanceof f&&!!u.elseValue)&&(s=this._replace([])),s}_replace(r){let l="";for(const h of this._children)if(h instanceof f){let s=r[h.index]||"";s=h.resolve(s),l+=s}else l+=h.toString();return l}toString(){return""}clone(){const r=new S;return r.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),r._children=this.children.map(l=>l.clone()),r}}e.Transform=S;class f extends k{constructor(r,l,h,s){super(),this.index=r,this.shorthandName=l,this.ifValue=h,this.elseValue=s}resolve(r){return this.shorthandName==="upcase"?r?r.toLocaleUpperCase():"":this.shorthandName==="downcase"?r?r.toLocaleLowerCase():"":this.shorthandName==="capitalize"?r?r[0].toLocaleUpperCase()+r.substr(1):"":this.shorthandName==="pascalcase"?r?this._toPascalCase(r):"":this.shorthandName==="camelcase"?r?this._toCamelCase(r):"":r&&typeof this.ifValue=="string"?this.ifValue:!r&&typeof this.elseValue=="string"?this.elseValue:r||""}_toPascalCase(r){const l=r.match(/[a-z0-9]+/gi);return l?l.map(h=>h.charAt(0).toUpperCase()+h.substr(1)).join(""):r}_toCamelCase(r){const l=r.match(/[a-z0-9]+/gi);return l?l.map((h,s)=>s===0?h.charAt(0).toLowerCase()+h.substr(1):h.charAt(0).toUpperCase()+h.substr(1)).join(""):r}clone(){return new f(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=f;class v extends D{constructor(r){super(),this.name=r}resolve(r){let l=r.resolve(this);return this.transform&&(l=this.transform.resolve(l||"")),l!==void 0?(this._children=[new L(l)],!0):!1}clone(){const r=new v(this.name);return this.transform&&(r.transform=this.transform.clone()),r._children=this.children.map(l=>l.clone()),r}}e.Variable=v;function o(n,r){const l=[...n];for(;l.length>0;){const h=l.shift();if(!r(h))break;l.unshift(...h.children)}}class i extends k{get placeholderInfo(){if(!this._placeholders){const r=[];let l;this.walk(function(h){return h instanceof _&&(r.push(h),l=!l||l.index<h.index?h:l),!0}),this._placeholders={all:r,last:l}}return this._placeholders}get placeholders(){const{all:r}=this.placeholderInfo;return r}offset(r){let l=0,h=!1;return this.walk(s=>s===r?(h=!0,!1):(l+=s.len(),!0)),h?l:-1}fullLen(r){let l=0;return o([r],h=>(l+=h.len(),!0)),l}enclosingPlaceholders(r){const l=[];let{parent:h}=r;for(;h;)h instanceof _&&l.push(h),h=h.parent;return l}resolveVariables(r){return this.walk(l=>(l instanceof v&&l.resolve(r)&&(this._placeholders=void 0),!0)),this}appendChild(r){return this._placeholders=void 0,super.appendChild(r)}replace(r,l){return this._placeholders=void 0,super.replace(r,l)}clone(){const r=new i;return this._children=this.children.map(l=>l.clone()),r}walk(r){o(this.children,r)}}e.TextmateSnippet=i;class t{constructor(){this._scanner=new y,this._token={type:14,pos:0,len:0}}static escape(r){return r.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(r){return/\${?CLIPBOARD/.test(r)}parse(r,l,h){const s=new i;return this.parseFragment(r,s),this.ensureFinalTabstop(s,h??!1,l??!1),s}parseFragment(r,l){const h=l.children.length;for(this._scanner.text(r),this._token=this._scanner.next();this._parse(l););const s=new Map,u=[];l.walk(c=>(c instanceof _&&(c.isFinalTabstop?s.set(0,void 0):!s.has(c.index)&&c.children.length>0?s.set(c.index,c.children):u.push(c)),!0));const a=(c,b)=>{const g=s.get(c.index);if(!g)return;const p=new _(c.index);p.transform=c.transform;for(const C of g){const w=C.clone();p.appendChild(w),w instanceof _&&s.has(w.index)&&!b.has(w.index)&&(b.add(w.index),a(w,b),b.delete(w.index))}l.replace(c,[p])},d=new Set;for(const c of u)a(c,d);return l.children.slice(h)}ensureFinalTabstop(r,l,h){(l||h&&r.placeholders.length>0)&&(r.placeholders.find(u=>u.index===0)||r.appendChild(new _(0)))}_accept(r,l){if(r===void 0||this._token.type===r){const h=l?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),h}return!1}_backTo(r){return this._scanner.pos=r.pos+r.len,this._token=r,!1}_until(r){const l=this._token;for(;this._token.type!==r;){if(this._token.type===14)return!1;if(this._token.type===5){const s=this._scanner.next();if(s.type!==0&&s.type!==4&&s.type!==5)return!1}this._token=this._scanner.next()}const h=this._scanner.value.substring(l.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),h}_parse(r){return this._parseEscaped(r)||this._parseTabstopOrVariableName(r)||this._parseComplexPlaceholder(r)||this._parseComplexVariable(r)||this._parseAnything(r)}_parseEscaped(r){let l;return(l=this._accept(5,!0))?(l=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||l,r.appendChild(new L(l)),!0):!1}_parseTabstopOrVariableName(r){let l;const h=this._token;return this._accept(0)&&(l=this._accept(9,!0)||this._accept(8,!0))?(r.appendChild(/^\d+$/.test(l)?new _(Number(l)):new v(l)),!0):this._backTo(h)}_parseComplexPlaceholder(r){let l;const h=this._token;if(!(this._accept(0)&&this._accept(3)&&(l=this._accept(8,!0))))return this._backTo(h);const u=new _(Number(l));if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(u),!0;if(!this._parse(u))return r.appendChild(new L("${"+l+":")),u.children.forEach(r.appendChild,r),!0}else if(u.index>0&&this._accept(7)){const a=new m;for(;;){if(this._parseChoiceElement(a)){if(this._accept(2))continue;if(this._accept(7)&&(u.appendChild(a),this._accept(4)))return r.appendChild(u),!0}return this._backTo(h),!1}}else return this._accept(6)?this._parseTransform(u)?(r.appendChild(u),!0):(this._backTo(h),!1):this._accept(4)?(r.appendChild(u),!0):this._backTo(h)}_parseChoiceElement(r){const l=this._token,h=[];for(;!(this._token.type===2||this._token.type===7);){let s;if((s=this._accept(5,!0))?s=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||s:s=this._accept(void 0,!0),!s)return this._backTo(l),!1;h.push(s)}return h.length===0?(this._backTo(l),!1):(r.appendChild(new L(h.join(""))),!0)}_parseComplexVariable(r){let l;const h=this._token;if(!(this._accept(0)&&this._accept(3)&&(l=this._accept(9,!0))))return this._backTo(h);const u=new v(l);if(this._accept(1))for(;;){if(this._accept(4))return r.appendChild(u),!0;if(!this._parse(u))return r.appendChild(new L("${"+l+":")),u.children.forEach(r.appendChild,r),!0}else return this._accept(6)?this._parseTransform(u)?(r.appendChild(u),!0):(this._backTo(h),!1):this._accept(4)?(r.appendChild(u),!0):this._backTo(h)}_parseTransform(r){const l=new S;let h="",s="";for(;!this._accept(6);){let u;if(u=this._accept(5,!0)){u=this._accept(6,!0)||u,h+=u;continue}if(this._token.type!==14){h+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let u;if(u=this._accept(5,!0)){u=this._accept(5,!0)||this._accept(6,!0)||u,l.appendChild(new L(u));continue}if(!(this._parseFormatString(l)||this._parseAnything(l)))return!1}for(;!this._accept(4);){if(this._token.type!==14){s+=this._accept(void 0,!0);continue}return!1}try{l.regexp=new RegExp(h,s)}catch{return!1}return r.transform=l,!0}_parseFormatString(r){const l=this._token;if(!this._accept(0))return!1;let h=!1;this._accept(3)&&(h=!0);const s=this._accept(8,!0);if(s)if(h){if(this._accept(4))return r.appendChild(new f(Number(s))),!0;if(!this._accept(1))return this._backTo(l),!1}else return r.appendChild(new f(Number(s))),!0;else return this._backTo(l),!1;if(this._accept(6)){const u=this._accept(9,!0);return!u||!this._accept(4)?(this._backTo(l),!1):(r.appendChild(new f(Number(s),u)),!0)}else if(this._accept(11)){const u=this._until(4);if(u)return r.appendChild(new f(Number(s),void 0,u,void 0)),!0}else if(this._accept(12)){const u=this._until(4);if(u)return r.appendChild(new f(Number(s),void 0,void 0,u)),!0}else if(this._accept(13)){const u=this._until(1);if(u){const a=this._until(4);if(a)return r.appendChild(new f(Number(s),void 0,u,a)),!0}}else{const u=this._until(4);if(u)return r.appendChild(new f(Number(s),void 0,void 0,u)),!0}return this._backTo(l),!1}_parseAnything(r){return this._token.type!==14?(r.appendChild(new L(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=t}),define(J[217],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModel=e.StickyElement=e.StickyRange=void 0;class y{constructor(_,m){this.startLineNumber=_,this.endLineNumber=m}}e.StickyRange=y;class k{constructor(_,m,S){this.range=_,this.children=m,this.parent=S}}e.StickyElement=k;class L{constructor(_,m,S,f){this.uri=_,this.version=m,this.element=S,this.outlineProviderId=f}}e.StickyModel=L}),define(J[297],ee([1,0,15,71,9]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(S,f){this.leadingLineContent=S,this.characterCountDelta=f}}e.LineContext=D;class _{constructor(S,f,v,o,i,t,n=k.FuzzyScoreOptions.default,r=void 0){this.clipboardText=r,this._snippetCompareFn=_._compareCompletionItems,this._items=S,this._column=f,this._wordDistance=o,this._options=i,this._refilterKind=1,this._lineContext=v,this._fuzzyScoreOptions=n,t==="top"?this._snippetCompareFn=_._compareCompletionItemsSnippetsUp:t==="bottom"&&(this._snippetCompareFn=_._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(S){(this._lineContext.leadingLineContent!==S.leadingLineContent||this._lineContext.characterCountDelta!==S.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<S.characterCountDelta&&this._filteredItems?2:1,this._lineContext=S)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const S=new Set;for(const[f,v]of this.getItemsByProvider())v.length>0&&v[0].container.incomplete&&S.add(f);return S}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const S=[],{leadingLineContent:f,characterCountDelta:v}=this._lineContext;let o="",i="";const t=this._refilterKind===1?this._items:this._filteredItems,n=[],r=!this._options.filterGraceful||t.length>2e3?k.fuzzyScore:k.fuzzyScoreGracefulAggressive;for(let l=0;l<t.length;l++){const h=t[l];if(h.isInvalid)continue;const s=this._itemsByProvider.get(h.provider);s?s.push(h):this._itemsByProvider.set(h.provider,[h]);const u=h.position.column-h.editStart.column,a=u+v-(h.position.column-this._column);if(o.length!==a&&(o=a===0?"":f.slice(-a),i=o.toLowerCase()),h.word=o,a===0)h.score=k.FuzzyScore.Default;else{let d=0;for(;d<u;){const c=o.charCodeAt(d);if(c===32||c===9)d+=1;else break}if(d>=a)h.score=k.FuzzyScore.Default;else if(typeof h.completion.filterText=="string"){const c=r(o,i,d,h.completion.filterText,h.filterTextLow,0,this._fuzzyScoreOptions);if(!c)continue;(0,L.compareIgnoreCase)(h.completion.filterText,h.textLabel)===0?h.score=c:(h.score=(0,k.anyScore)(o,i,d,h.textLabel,h.labelLow,0),h.score[0]=c[0])}else{const c=r(o,i,d,h.textLabel,h.labelLow,0,this._fuzzyScoreOptions);if(!c)continue;h.score=c}}h.idx=l,h.distance=this._wordDistance.distance(h.position,h.completion),n.push(h),S.push(h.textLabel.length)}this._filteredItems=n.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:S.length?(0,y.quickSelect)(S.length-.85,S,(l,h)=>l-h):0}}static _compareCompletionItems(S,f){return S.score[0]>f.score[0]?-1:S.score[0]<f.score[0]?1:S.distance<f.distance?-1:S.distance>f.distance?1:S.idx<f.idx?-1:S.idx>f.idx?1:0}static _compareCompletionItemsSnippetsDown(S,f){if(S.completion.kind!==f.completion.kind){if(S.completion.kind===27)return 1;if(f.completion.kind===27)return-1}return _._compareCompletionItems(S,f)}static _compareCompletionItemsSnippetsUp(S,f){if(S.completion.kind!==f.completion.kind){if(S.completion.kind===27)return-1;if(f.completion.kind===27)return 1}return _._compareCompletionItems(S,f)}}e.CompletionModel=_}),define(J[543],ee([1,0,15,2,122]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(m,S,f,v){this._disposables=new k.DisposableStore,this._disposables.add(f.onDidSuggest(o=>{o.completionModel.items.length===0&&this.reset()})),this._disposables.add(f.onDidCancel(o=>{this.reset()})),this._disposables.add(S.onDidShow(()=>this._onItem(S.getFocusedItem()))),this._disposables.add(S.onDidFocus(this._onItem,this)),this._disposables.add(S.onDidHide(this.reset,this)),this._disposables.add(m.onWillType(o=>{if(this._active&&!S.isFrozen()&&f.state!==0){const i=o.charCodeAt(o.length-1);this._active.acceptCharacters.has(i)&&m.getOption(0)&&v(this._active.item)}}))}_onItem(m){if(!m||!(0,y.isNonEmptyArray)(m.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===m.item)return;const S=new L.CharacterSet;for(const f of m.item.completion.commitCharacters)f.length>0&&S.add(f.charCodeAt(0));this._active={acceptCharacters:S,item:m}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=D}),define(J[544],ee([1,0,2]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(D,_){this._disposables=new y.DisposableStore,this._lastOvertyped=[],this._locked=!1,this._disposables.add(D.onWillType(()=>{if(this._locked||!D.hasModel())return;const m=D.getSelections(),S=m.length;let f=!1;for(let o=0;o<S;o++)if(!m[o].isEmpty()){f=!0;break}if(!f){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const v=D.getModel();for(let o=0;o<S;o++){const i=m[o];if(v.getValueLengthInRange(i)>k._maxSelectionLength)return;this._lastOvertyped[o]={value:v.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}})),this._disposables.add(_.onDidTrigger(m=>{this._locked=!0})),this._disposables.add(_.onDidCancel(m=>{this._locked=!1}))}getLastOvertypedInfo(D){if(D>=0&&D<this._lastOvertyped.length)return this._lastOvertyped[D]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(J[298],ee([1,0,15,5,296]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static create(m,S){return Le(this,void 0,void 0,function*(){if(!S.getOption(116).localityBonus||!S.hasModel())return D.None;const f=S.getModel(),v=S.getPosition();if(!m.canComputeWordRanges(f.uri))return D.None;const[o]=yield new L.BracketSelectionRangeProvider().provideSelectionRanges(f,[v]);if(o.length===0)return D.None;const i=yield m.computeWordRanges(f.uri,o[0].range);if(!i)return D.None;const t=f.getWordUntilPosition(v);return delete i[t.word],new class extends D{distance(n,r){if(!v.equals(S.getPosition()))return 0;if(r.kind===17)return 2<<20;const l=typeof r.label=="string"?r.label:r.label.label,h=i[l];if((0,y.isFalsyOrEmpty)(h))return 2<<20;const s=(0,y.binarySearch)(h,k.Range.fromPositions(n),k.Range.compareRangesUsingStarts),u=s>=0?h[s]:h[Math.max(0,~s-1)];let a=o.length;for(const d of o){if(!k.Range.containsRange(d.range,u))break;a-=1}return a}}})}}e.WordDistance=D,D.None=new class extends D{distance(){return 0}}}),define(J[299],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function y(n){return Array.isArray(n)}e.isFuzzyActionArr=y;function k(n){return!y(n)}e.isFuzzyAction=k;function L(n){return typeof n=="string"}e.isString=L;function D(n){return!L(n)}e.isIAction=D;function _(n){return!n}e.empty=_;function m(n,r){return n.ignoreCase&&r?r.toLowerCase():r}e.fixCase=m;function S(n){return n.replace(/[&<>'"_]/g,"-")}e.sanitize=S;function f(n,r){console.log(`${n.languageId}: ${r}`)}e.log=f;function v(n,r){return new Error(`${n.languageId}: ${r}`)}e.createError=v;function o(n,r,l,h,s){const u=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let a=null;return r.replace(u,function(d,c,b,g,p,C,w,E,I){return _(b)?_(g)?!_(p)&&p<h.length?m(n,h[p]):!_(w)&&n&&typeof n[w]=="string"?n[w]:(a===null&&(a=s.split("."),a.unshift(s)),!_(C)&&C<a.length?m(n,a[C]):""):m(n,l):"$"})}e.substituteMatches=o;function i(n,r){let l=r;for(;l&&l.length>0;){const h=n.tokenizer[l];if(h)return h;const s=l.lastIndexOf(".");s<0?l=null:l=l.substr(0,s)}return null}e.findRules=i;function t(n,r){let l=r;for(;l&&l.length>0;){if(n.stateNames[l])return!0;const s=l.lastIndexOf(".");s<0?l=null:l=l.substr(0,s)}return!1}e.stateExists=t}),define(J[545],ee([1,0,299]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function k(n,r){if(!r||!Array.isArray(r))return!1;for(const l of r)if(!n(l))return!1;return!0}function L(n,r){return typeof n=="boolean"?n:r}function D(n,r){return typeof n=="string"?n:r}function _(n){const r={};for(const l of n)r[l]=!0;return r}function m(n,r=!1){r&&(n=n.map(function(h){return h.toLowerCase()}));const l=_(n);return r?function(h){return l[h.toLowerCase()]!==void 0&&l.hasOwnProperty(h.toLowerCase())}:function(h){return l[h]!==void 0&&l.hasOwnProperty(h)}}function S(n,r){r=r.replace(/@@/g,"");let l=0,h;do h=!1,r=r.replace(/@(\w+)/g,function(u,a){h=!0;let d="";if(typeof n[a]=="string")d=n[a];else if(n[a]&&n[a]instanceof RegExp)d=n[a].source;else throw n[a]===void 0?y.createError(n,"language definition does not contain attribute '"+a+"', used at: "+r):y.createError(n,"attribute reference '"+a+"' must be a string, used at: "+r);return y.empty(d)?"":"(?:"+d+")"}),l++;while(h&&l<5);r=r.replace(/\x01/g,"@");const s=(n.ignoreCase?"i":"")+(n.unicode?"u":"");return new RegExp(r,s)}function f(n,r,l,h){if(h<0)return n;if(h<r.length)return r[h];if(h>=100){h=h-100;const s=l.split(".");if(s.unshift(l),h<s.length)return s[h]}return null}function v(n,r,l,h){let s=-1,u=l,a=l.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);a&&(a[3]&&(s=parseInt(a[3]),a[2]&&(s=s+100)),u=a[4]);let d="~",c=u;!u||u.length===0?(d="!=",c=""):/^\w*$/.test(c)?d="==":(a=u.match(/^(@|!@|~|!~|==|!=)(.*)$/),a&&(d=a[1],c=a[2]));let b;if((d==="~"||d==="!~")&&/^(\w|\|)*$/.test(c)){const g=m(c.split("|"),n.ignoreCase);b=function(p){return d==="~"?g(p):!g(p)}}else if(d==="@"||d==="!@"){const g=n[c];if(!g)throw y.createError(n,"the @ match target '"+c+"' is not defined, in rule: "+r);if(!k(function(C){return typeof C=="string"},g))throw y.createError(n,"the @ match target '"+c+"' must be an array of strings, in rule: "+r);const p=m(g,n.ignoreCase);b=function(C){return d==="@"?p(C):!p(C)}}else if(d==="~"||d==="!~")if(c.indexOf("$")<0){const g=S(n,"^"+c+"$");b=function(p){return d==="~"?g.test(p):!g.test(p)}}else b=function(g,p,C,w){return S(n,"^"+y.substituteMatches(n,c,p,C,w)+"$").test(g)};else if(c.indexOf("$")<0){const g=y.fixCase(n,c);b=function(p){return d==="=="?p===g:p!==g}}else{const g=y.fixCase(n,c);b=function(p,C,w,E,I){const T=y.substituteMatches(n,g,C,w,E);return d==="=="?p===T:p!==T}}return s===-1?{name:l,value:h,test:function(g,p,C,w){return b(g,g,p,C,w)}}:{name:l,value:h,test:function(g,p,C,w){const E=f(g,p,C,s);return b(E||"",g,p,C,w)}}}function o(n,r,l){if(l){if(typeof l=="string")return l;if(l.token||l.token===""){if(typeof l.token!="string")throw y.createError(n,"a 'token' attribute must be of type string, in rule: "+r);{const h={token:l.token};if(l.token.indexOf("$")>=0&&(h.tokenSubst=!0),typeof l.bracket=="string")if(l.bracket==="@open")h.bracket=1;else if(l.bracket==="@close")h.bracket=-1;else throw y.createError(n,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+r);if(l.next){if(typeof l.next!="string")throw y.createError(n,"the next state must be a string value in rule: "+r);{let s=l.next;if(!/^(@pop|@push|@popall)$/.test(s)&&(s[0]==="@"&&(s=s.substr(1)),s.indexOf("$")<0&&!y.stateExists(n,y.substituteMatches(n,s,"",[],""))))throw y.createError(n,"the next state '"+l.next+"' is not defined in rule: "+r);h.next=s}}return typeof l.goBack=="number"&&(h.goBack=l.goBack),typeof l.switchTo=="string"&&(h.switchTo=l.switchTo),typeof l.log=="string"&&(h.log=l.log),typeof l.nextEmbedded=="string"&&(h.nextEmbedded=l.nextEmbedded,n.usesEmbedded=!0),h}}else if(Array.isArray(l)){const h=[];for(let s=0,u=l.length;s<u;s++)h[s]=o(n,r,l[s]);return{group:h}}else if(l.cases){const h=[];for(const u in l.cases)if(l.cases.hasOwnProperty(u)){const a=o(n,r,l.cases[u]);u==="@default"||u==="@"||u===""?h.push({test:void 0,value:a,name:u}):u==="@eos"?h.push({test:function(d,c,b,g){return g},value:a,name:u}):h.push(v(n,r,u,a))}const s=n.defaultToken;return{test:function(u,a,d,c){for(const b of h)if(!b.test||b.test(u,a,d,c))return b.value;return s}}}else throw y.createError(n,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+r)}else return{token:""}}class i{constructor(r){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=r}setRegex(r,l){let h;if(typeof l=="string")h=l;else if(l instanceof RegExp)h=l.source;else throw y.createError(r,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=h.length>0&&h[0]==="^",this.name=this.name+": "+h,this.regex=S(r,"^(?:"+(this.matchOnlyAtLineStart?h.substr(1):h)+")")}setAction(r,l){this.action=o(r,this.name,l)}}function t(n,r){if(!r||typeof r!="object")throw new Error("Monarch: expecting a language definition object");const l={};l.languageId=n,l.includeLF=L(r.includeLF,!1),l.noThrow=!1,l.maxStack=100,l.start=typeof r.start=="string"?r.start:null,l.ignoreCase=L(r.ignoreCase,!1),l.unicode=L(r.unicode,!1),l.tokenPostfix=D(r.tokenPostfix,"."+l.languageId),l.defaultToken=D(r.defaultToken,"source"),l.usesEmbedded=!1;const h=r;h.languageId=n,h.includeLF=l.includeLF,h.ignoreCase=l.ignoreCase,h.unicode=l.unicode,h.noThrow=l.noThrow,h.usesEmbedded=l.usesEmbedded,h.stateNames=r.tokenizer,h.defaultToken=l.defaultToken;function s(a,d,c){for(const b of c){let g=b.include;if(g){if(typeof g!="string")throw y.createError(l,"an 'include' attribute must be a string at: "+a);if(g[0]==="@"&&(g=g.substr(1)),!r.tokenizer[g])throw y.createError(l,"include target '"+g+"' is not defined at: "+a);s(a+"."+g,d,r.tokenizer[g])}else{const p=new i(a);if(Array.isArray(b)&&b.length>=1&&b.length<=3)if(p.setRegex(h,b[0]),b.length>=3)if(typeof b[1]=="string")p.setAction(h,{token:b[1],next:b[2]});else if(typeof b[1]=="object"){const C=b[1];C.next=b[2],p.setAction(h,C)}else throw y.createError(l,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+a);else p.setAction(h,b[1]);else{if(!b.regex)throw y.createError(l,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+a);b.name&&typeof b.name=="string"&&(p.name=b.name),b.matchOnlyAtStart&&(p.matchOnlyAtLineStart=L(b.matchOnlyAtLineStart,!1)),p.setRegex(h,b.regex),p.setAction(h,b.action)}d.push(p)}}}if(!r.tokenizer||typeof r.tokenizer!="object")throw y.createError(l,"a language definition must define the 'tokenizer' attribute as an object");l.tokenizer=[];for(const a in r.tokenizer)if(r.tokenizer.hasOwnProperty(a)){l.start||(l.start=a);const d=r.tokenizer[a];l.tokenizer[a]=new Array,s("tokenizer."+a,l.tokenizer[a],d)}if(l.usesEmbedded=h.usesEmbedded,r.brackets){if(!Array.isArray(r.brackets))throw y.createError(l,"the 'brackets' attribute must be defined as an array")}else r.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const u=[];for(const a of r.brackets){let d=a;if(d&&Array.isArray(d)&&d.length===3&&(d={token:d[2],open:d[0],close:d[1]}),d.open===d.close)throw y.createError(l,"open and close brackets in a 'brackets' attribute must be different: "+d.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof d.open=="string"&&typeof d.token=="string"&&typeof d.close=="string")u.push({token:d.token+l.tokenPostfix,open:y.fixCase(l,d.open),close:y.fixCase(l,d.close)});else throw y.createError(l,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return l.brackets=u,l.noThrow=!0,l}e.compile=t}),define(J[546],ee([3,4]),function(G,e){return G.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(J[547],ee([3,4]),function(G,e){return G.create("vs/base/browser/ui/findinput/findInput",e)}),define(J[548],ee([3,4]),function(G,e){return G.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(J[549],ee([3,4]),function(G,e){return G.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(J[550],ee([3,4]),function(G,e){return G.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(J[551],ee([3,4]),function(G,e){return G.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(J[552],ee([3,4]),function(G,e){return G.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(J[553],ee([3,4]),function(G,e){return G.create("vs/base/browser/ui/selectBox/selectBoxCustom",e)}),define(J[554],ee([3,4]),function(G,e){return G.create("vs/base/browser/ui/toolbar/toolbar",e)}),define(J[555],ee([3,4]),function(G,e){return G.create("vs/base/browser/ui/tree/abstractTree",e)}),define(J[556],ee([3,4]),function(G,e){return G.create("vs/base/common/actions",e)}),define(J[40],ee([1,0,6,2,556]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toAction=e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class D extends k.Disposable{constructor(i,t="",n="",r=!0,l){super(),this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=i,this._label=t,this._cssClass=n,this._enabled=r,this._actionCallback=l}get id(){return this._id}get label(){return this._label}set label(i){this._setLabel(i)}_setLabel(i){this._label!==i&&(this._label=i,this._onDidChange.fire({label:i}))}get tooltip(){return this._tooltip||""}set tooltip(i){this._setTooltip(i)}_setTooltip(i){this._tooltip!==i&&(this._tooltip=i,this._onDidChange.fire({tooltip:i}))}get class(){return this._cssClass}set class(i){this._setClass(i)}_setClass(i){this._cssClass!==i&&(this._cssClass=i,this._onDidChange.fire({class:i}))}get enabled(){return this._enabled}set enabled(i){this._setEnabled(i)}_setEnabled(i){this._enabled!==i&&(this._enabled=i,this._onDidChange.fire({enabled:i}))}get checked(){return this._checked}set checked(i){this._setChecked(i)}_setChecked(i){this._checked!==i&&(this._checked=i,this._onDidChange.fire({checked:i}))}run(i,t){return Le(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(i))})}}e.Action=D;class _ extends k.Disposable{constructor(){super(...arguments),this._onWillRun=this._register(new y.Emitter),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new y.Emitter),this.onDidRun=this._onDidRun.event}run(i,t){return Le(this,void 0,void 0,function*(){if(!i.enabled)return;this._onWillRun.fire({action:i});let n;try{yield this.runAction(i,t)}catch(r){n=r}this._onDidRun.fire({action:i,error:n})})}runAction(i,t){return Le(this,void 0,void 0,function*(){yield i.run(t)})}}e.ActionRunner=_;class m{constructor(){this.id=m.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...i){let t=[];for(const n of i)n.length&&(t.length?t=[...t,new m,...n]:t=n);return t}run(){return Le(this,void 0,void 0,function*(){})}}e.Separator=m,m.ID="vs.actions.separator";class S{get actions(){return this._actions}constructor(i,t,n,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=i,this.label=t,this.class=r,this._actions=n}run(){return Le(this,void 0,void 0,function*(){})}}e.SubmenuAction=S;class f extends D{constructor(){super(f.ID,L.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=f,f.ID="vs.actions.empty";function v(o){var i,t;return{id:o.id,label:o.label,class:void 0,enabled:(i=o.enabled)!==null&&i!==void 0?i:!0,checked:(t=o.checked)!==null&&t!==void 0?t:!1,run:()=>Le(this,void 0,void 0,function*(){return o.run()}),tooltip:o.label}}e.toAction=v}),define(J[557],ee([3,4]),function(G,e){return G.create("vs/base/common/errorMessage",e)}),define(J[558],ee([1,0,15,18,557]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function D(f,v){return v&&(f.stack||f.stacktrace)?L.localize(0,null,m(f),_(f.stack)||_(f.stacktrace)):m(f)}function _(f){return Array.isArray(f)?f.join(`
`):f}function m(f){return f.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${f.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof f.code=="string"&&typeof f.errno=="number"&&typeof f.syscall=="string"?L.localize(1,null,f.message):f.message||L.localize(2,null)}function S(f=null,v=!1){if(!f)return L.localize(3,null);if(Array.isArray(f)){const o=y.coalesce(f),i=S(o[0],v);return o.length>1?L.localize(4,null,i,o.length):i}if(k.isString(f))return f;if(f.detail){const o=f.detail;if(o.error)return D(o.error,v);if(o.exception)return D(o.exception,v)}return f.stack?D(f,v):f.message?f.message:L.localize(5,null)}e.toErrorMessage=S}),define(J[559],ee([3,4]),function(G,e){return G.create("vs/base/common/keybindingLabels",e)}),define(J[218],ee([1,0,559]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(_,m,S=m){this.modifierLabels=[null],this.modifierLabels[2]=_,this.modifierLabels[1]=m,this.modifierLabels[3]=S}toLabel(_,m,S){if(m.length===0)return null;const f=[];for(let v=0,o=m.length;v<o;v++){const i=m[v],t=S(i);if(t===null)return null;f[v]=L(i,t,this.modifierLabels[_])}return f.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:y.localize(0,null),shiftKey:y.localize(1,null),altKey:y.localize(2,null),metaKey:y.localize(3,null),separator:"+"},{ctrlKey:y.localize(4,null),shiftKey:y.localize(5,null),altKey:y.localize(6,null),metaKey:y.localize(7,null),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:y.localize(8,null),shiftKey:y.localize(9,null),altKey:y.localize(10,null),metaKey:y.localize(11,null),separator:"+"},{ctrlKey:y.localize(12,null),shiftKey:y.localize(13,null),altKey:y.localize(14,null),metaKey:y.localize(15,null),separator:"+"},{ctrlKey:y.localize(16,null),shiftKey:y.localize(17,null),altKey:y.localize(18,null),metaKey:y.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new k({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new k({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function L(D,_,m){if(_===null)return"";const S=[];return D.ctrlKey&&S.push(m.ctrlKey),D.shiftKey&&S.push(m.shiftKey),D.altKey&&S.push(m.altKey),D.metaKey&&S.push(m.metaKey),_!==""&&S.push(_),S.join(m.separator)}}),define(J[560],ee([3,4]),function(G,e){return G.create("vs/base/common/platform",e)}),define(J[17],ee([1,0,560]),function(G,e,y){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isMobile=e.isIOS=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=e.LANGUAGE_DEFAULT=void 0,e.LANGUAGE_DEFAULT="en";let L=!1,D=!1,_=!1,m=!1,S=!1,f=!1,v=!1,o=!1,i=!1,t=!1,n,r=e.LANGUAGE_DEFAULT,l=e.LANGUAGE_DEFAULT,h,s;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let u;typeof e.globals.vscode<"u"&&typeof e.globals.vscode.process<"u"?u=e.globals.vscode.process:typeof process<"u"&&(u=process);const a=typeof((k=u?.versions)===null||k===void 0?void 0:k.electron)=="string",d=a&&u?.type==="renderer";if(typeof navigator=="object"&&!d)s=navigator.userAgent,L=s.indexOf("Windows")>=0,D=s.indexOf("Macintosh")>=0,o=(s.indexOf("Macintosh")>=0||s.indexOf("iPad")>=0||s.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,_=s.indexOf("Linux")>=0,t=s?.indexOf("Mobi")>=0,f=!0,n=y.getConfiguredDefaultLocale(y.localize(0,null))||e.LANGUAGE_DEFAULT,r=n,l=navigator.language;else if(typeof u=="object"){L=u.platform==="win32",D=u.platform==="darwin",_=u.platform==="linux",m=_&&!!u.env.SNAP&&!!u.env.SNAP_REVISION,v=a,i=!!u.env.CI||!!u.env.BUILD_ARTIFACTSTAGINGDIRECTORY,n=e.LANGUAGE_DEFAULT,r=e.LANGUAGE_DEFAULT;const C=u.env.VSCODE_NLS_CONFIG;if(C)try{const w=JSON.parse(C),E=w.availableLanguages["*"];n=w.locale,l=w.osLocale,r=E||e.LANGUAGE_DEFAULT,h=w._translationsConfigFile}catch{}S=!0}else console.error("Unable to resolve platform.");let c=0;D?c=1:L?c=3:_&&(c=2),e.isWindows=L,e.isMacintosh=D,e.isLinux=_,e.isNative=S,e.isWeb=f,e.isWebWorker=f&&typeof e.globals.importScripts=="function",e.isIOS=o,e.isMobile=t,e.userAgent=s,e.language=r,e.setTimeout0IsFaster=typeof e.globals.postMessage=="function"&&!e.globals.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const C=[];e.globals.addEventListener("message",E=>{if(E.data&&E.data.vscodeScheduleAsyncWork)for(let I=0,T=C.length;I<T;I++){const P=C[I];if(P.id===E.data.vscodeScheduleAsyncWork){C.splice(I,1),P.callback();return}}});let w=0;return E=>{const I=++w;C.push({id:I,callback:E}),e.globals.postMessage({vscodeScheduleAsyncWork:I},"*")}}return C=>setTimeout(C)})(),e.OS=D||o?2:L?1:3;let b=!0,g=!1;function p(){if(!g){g=!0;const C=new Uint8Array(2);C[0]=1,C[1]=2,b=new Uint16Array(C.buffer)[0]===(2<<8)+1}return b}e.isLittleEndian=p,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(J[219],ee([1,0,52,17]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:k.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:k.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>k.isNative||y.isStandalone()?0:navigator.keyboard||y.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(J[45],ee([1,0,52,64,119,17]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function _(i){if(i.charCode){const n=String.fromCharCode(i.charCode).toUpperCase();return k.KeyCodeUtils.fromString(n)}const t=i.keyCode;if(t===3)return 7;if(y.isFirefox)switch(t){case 59:return 85;case 60:if(D.isLinux)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(D.isMacintosh)return 57;break}else if(y.isWebKit){if(D.isMacintosh&&t===93)return 57;if(!D.isMacintosh&&t===92)return 57}return k.EVENT_KEY_CODE_MAP[t]||0}const m=D.isMacintosh?256:2048,S=512,f=1024,v=D.isMacintosh?2048:256;class o{constructor(t){this._standardKeyboardEventBrand=!0;const n=t;this.browserEvent=n,this.target=n.target,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.altKey=n.altKey,this.metaKey=n.metaKey,this.altGraphKey=n.getModifierState("AltGraph"),this.keyCode=_(n),this.code=n.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(t){return this._asKeybinding===t}_computeKeybinding(){let t=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode);let n=0;return this.ctrlKey&&(n|=m),this.altKey&&(n|=S),this.shiftKey&&(n|=f),this.metaKey&&(n|=v),n|=t,n}_computeKeyCodeChord(){let t=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode),new L.KeyCodeChord(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)}}e.StandardKeyboardEvent=o}),define(J[58],ee([1,0,52,376,17]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(S){this.timestamp=Date.now(),this.browserEvent=S,this.leftButton=S.button===0,this.middleButton=S.button===1,this.rightButton=S.button===2,this.buttons=S.buttons,this.target=S.target,this.detail=S.detail||1,S.type==="dblclick"&&(this.detail=2),this.ctrlKey=S.ctrlKey,this.shiftKey=S.shiftKey,this.altKey=S.altKey,this.metaKey=S.metaKey,typeof S.pageX=="number"?(this.posx=S.pageX,this.posy=S.pageY):(this.posx=S.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=S.clientY+document.body.scrollTop+document.documentElement.scrollTop);const f=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(window,S.view);this.posx-=f.left,this.posy-=f.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class _{constructor(S,f=0,v=0){if(this.browserEvent=S||null,this.target=S?S.target||S.targetNode||S.srcElement:null,this.deltaY=v,this.deltaX=f,S){const o=S,i=S;if(typeof o.wheelDeltaY<"u")this.deltaY=o.wheelDeltaY/120;else if(typeof i.VERTICAL_AXIS<"u"&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if(S.type==="wheel"){const t=S;t.deltaMode===t.DOM_DELTA_LINE?y.isFirefox&&!L.isMacintosh?this.deltaY=-S.deltaY/3:this.deltaY=-S.deltaY:this.deltaY=-S.deltaY/40}if(typeof o.wheelDeltaX<"u")y.isSafari&&L.isWindows?this.deltaX=-(o.wheelDeltaX/120):this.deltaX=o.wheelDeltaX/120;else if(typeof i.HORIZONTAL_AXIS<"u"&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-S.detail/3;else if(S.type==="wheel"){const t=S;t.deltaMode===t.DOM_DELTA_LINE?y.isFirefox&&!L.isMacintosh?this.deltaX=-S.deltaX/3:this.deltaX=-S.deltaX:this.deltaX=-S.deltaX/40}this.deltaY===0&&this.deltaX===0&&S.wheelDelta&&(this.deltaY=S.wheelDelta/120)}}preventDefault(){var S;(S=this.browserEvent)===null||S===void 0||S.preventDefault()}stopPropagation(){var S;(S=this.browserEvent)===null||S===void 0||S.stopPropagation()}}e.StandardWheelEvent=_});var Dt=this&&this.__asyncValues||function(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=G[Symbol.asyncIterator],y;return e?e.call(G):(G=typeof __values=="function"?__values(G):G[Symbol.iterator](),y={},k("next"),k("throw"),k("return"),y[Symbol.asyncIterator]=function(){return this},y);function k(D){y[D]=G[D]&&function(_){return new Promise(function(m,S){_=G[D](_),L(m,S,_.done,_.value)})}}function L(D,_,m,S){Promise.resolve(S).then(function(f){D({value:f,done:m})},_)}};define(J[13],ee([1,0,21,12,6,2,17,263]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function S(E){return!!E&&typeof E.then=="function"}e.isThenable=S;function f(E){const I=new y.CancellationTokenSource,T=E(I.token),P=new Promise((A,M)=>{const N=I.token.onCancellationRequested(()=>{N.dispose(),I.dispose(),M(new k.CancellationError)});Promise.resolve(T).then(O=>{N.dispose(),I.dispose(),A(O)},O=>{N.dispose(),I.dispose(),M(O)})});return new class{cancel(){I.cancel()}then(A,M){return P.then(A,M)}catch(A){return this.then(void 0,A)}finally(A){return P.finally(A)}}}e.createCancelablePromise=f;function v(E,I,T){return new Promise((P,A)=>{const M=I.onCancellationRequested(()=>{M.dispose(),P(T)});E.then(P,A).finally(()=>M.dispose())})}e.raceCancellation=v;class o{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(I){if(this.isDisposed)throw new Error("Throttler is disposed");if(this.activePromise){if(this.queuedPromiseFactory=I,!this.queuedPromise){const T=()=>{if(this.queuedPromise=null,this.isDisposed)return;const P=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,P};this.queuedPromise=new Promise(P=>{this.activePromise.then(T,T).then(P)})}return new Promise((T,P)=>{this.queuedPromise.then(T,P)})}return this.activePromise=I(),new Promise((T,P)=>{this.activePromise.then(A=>{this.activePromise=null,T(A)},A=>{this.activePromise=null,P(A)})})}dispose(){this.isDisposed=!0}}e.Throttler=o;const i=(E,I)=>{let T=!0;const P=setTimeout(()=>{T=!1,I()},E);return{isTriggered:()=>T,dispose:()=>{clearTimeout(P),T=!1}}},t=E=>{let I=!0;return queueMicrotask(()=>{I&&(I=!1,E())}),{isTriggered:()=>I,dispose:()=>{I=!1}}};class n{constructor(I){this.defaultDelay=I,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(I,T=this.defaultDelay){this.task=I,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((A,M)=>{this.doResolve=A,this.doReject=M}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const A=this.task;return this.task=null,A()}}));const P=()=>{var A;this.deferred=null,(A=this.doResolve)===null||A===void 0||A.call(this,null)};return this.deferred=T===m.MicrotaskDelay?t(P):i(T,P),this.completionPromise}isTriggered(){var I;return!!(!((I=this.deferred)===null||I===void 0)&&I.isTriggered())}cancel(){var I;this.cancelTimeout(),this.completionPromise&&((I=this.doReject)===null||I===void 0||I.call(this,new k.CancellationError),this.completionPromise=null)}cancelTimeout(){var I;(I=this.deferred)===null||I===void 0||I.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=n;class r{constructor(I){this.delayer=new n(I),this.throttler=new o}trigger(I,T){return this.delayer.trigger(()=>this.throttler.queue(I),T)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}e.ThrottledDelayer=r;function l(E,I){return I?new Promise((T,P)=>{const A=setTimeout(()=>{M.dispose(),T()},E),M=I.onCancellationRequested(()=>{clearTimeout(A),M.dispose(),P(new k.CancellationError)})}):f(T=>l(E,T))}e.timeout=l;function h(E,I=0){const T=setTimeout(E,I);return(0,D.toDisposable)(()=>clearTimeout(T))}e.disposableTimeout=h;function s(E,I=P=>!!P,T=null){let P=0;const A=E.length,M=()=>{if(P>=A)return Promise.resolve(T);const N=E[P++];return Promise.resolve(N()).then(x=>I(x)?Promise.resolve(x):M())};return M()}e.first=s;class u{constructor(I,T){this._token=-1,typeof I=="function"&&typeof T=="number"&&this.setIfNotSet(I,T)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(I,T){this.cancel(),this._token=setTimeout(()=>{this._token=-1,I()},T)}setIfNotSet(I,T){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,I()},T))}}e.TimeoutTimer=u;class a{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(I,T){this.cancel(),this._token=setInterval(()=>{I()},T)}}e.IntervalTimer=a;class d{constructor(I,T){this.timeoutToken=-1,this.runner=I,this.timeout=T,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(I=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,I)}get delay(){return this.timeout}set delay(I){this.timeout=I}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var I;(I=this.runner)===null||I===void 0||I.call(this)}}e.RunOnceScheduler=d,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=E=>{(0,_.setTimeout0)(()=>{if(I)return;const T=Date.now()+15;E(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,T-Date.now())}}))});let I=!1;return{dispose(){I||(I=!0)}}}:e.runWhenIdle=(E,I)=>{const T=requestIdleCallback(E,typeof I=="number"?{timeout:I}:void 0);let P=!1;return{dispose(){P||(P=!0,cancelIdleCallback(T))}}}}();class c{constructor(I){this._didRun=!1,this._executor=()=>{try{this._value=I()}catch(T){this._error=T}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=c;class b{get isRejected(){var I;return((I=this.outcome)===null||I===void 0?void 0:I.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((I,T)=>{this.completeCallback=I,this.errorCallback=T})}complete(I){return new Promise(T=>{this.completeCallback(I),this.outcome={outcome:0,value:I},T()})}error(I){return new Promise(T=>{this.errorCallback(I),this.outcome={outcome:1,value:I},T()})}cancel(){return this.error(new k.CancellationError)}}e.DeferredPromise=b;var g;(function(E){function I(P){return Le(this,void 0,void 0,function*(){let A;const M=yield Promise.all(P.map(N=>N.then(O=>O,O=>{A||(A=O)})));if(typeof A<"u")throw A;return M})}E.settled=I;function T(P){return new Promise((A,M)=>Le(this,void 0,void 0,function*(){try{yield P(A,M)}catch(N){M(N)}}))}E.withAsyncBody=T})(g||(e.Promises=g={}));class p{static fromArray(I){return new p(T=>{T.emitMany(I)})}static fromPromise(I){return new p(T=>Le(this,void 0,void 0,function*(){T.emitMany(yield I)}))}static fromPromises(I){return new p(T=>Le(this,void 0,void 0,function*(){yield Promise.all(I.map(P=>Le(this,void 0,void 0,function*(){return T.emitOne(yield P)})))}))}static merge(I){return new p(T=>Le(this,void 0,void 0,function*(){yield Promise.all(I.map(P=>{var A,M,N;return Le(this,void 0,void 0,function*(){var O,x,F,B;try{for(A=!0,M=Dt(P);N=yield M.next(),O=N.done,!O;A=!0){B=N.value,A=!1;const z=B;T.emitOne(z)}}catch(z){x={error:z}}finally{try{!A&&!O&&(F=M.return)&&(yield F.call(M))}finally{if(x)throw x.error}}})}))}))}constructor(I){this._state=0,this._results=[],this._error=null,this._onStateChanged=new L.Emitter,queueMicrotask(()=>Le(this,void 0,void 0,function*(){const T={emitOne:P=>this.emitOne(P),emitMany:P=>this.emitMany(P),reject:P=>this.reject(P)};try{yield Promise.resolve(I(T)),this.resolve()}catch(P){this.reject(P)}finally{T.emitOne=void 0,T.emitMany=void 0,T.reject=void 0}}))}[Symbol.asyncIterator](){let I=0;return{next:()=>Le(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(I<this._results.length)return{done:!1,value:this._results[I++]};if(this._state===1)return{done:!0,value:void 0};yield L.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(I,T){return new p(P=>Le(this,void 0,void 0,function*(){var A,M,N,O;try{for(var x=!0,F=Dt(I),B;B=yield F.next(),A=B.done,!A;x=!0){O=B.value,x=!1;const z=O;P.emitOne(T(z))}}catch(z){M={error:z}}finally{try{!x&&!A&&(N=F.return)&&(yield N.call(F))}finally{if(M)throw M.error}}}))}map(I){return p.map(this,I)}static filter(I,T){return new p(P=>Le(this,void 0,void 0,function*(){var A,M,N,O;try{for(var x=!0,F=Dt(I),B;B=yield F.next(),A=B.done,!A;x=!0){O=B.value,x=!1;const z=O;T(z)&&P.emitOne(z)}}catch(z){M={error:z}}finally{try{!x&&!A&&(N=F.return)&&(yield N.call(F))}finally{if(M)throw M.error}}}))}filter(I){return p.filter(this,I)}static coalesce(I){return p.filter(I,T=>!!T)}coalesce(){return p.coalesce(this)}static toPromise(I){var T,P,A,M,N,O,x;return Le(this,void 0,void 0,function*(){const F=[];try{for(T=!0,P=Dt(I);A=yield P.next(),M=A.done,!M;T=!0){x=A.value,T=!1;const B=x;F.push(B)}}catch(B){N={error:B}}finally{try{!T&&!M&&(O=P.return)&&(yield O.call(P))}finally{if(N)throw N.error}}return F})}toPromise(){return p.toPromise(this)}emitOne(I){this._state===0&&(this._results.push(I),this._onStateChanged.fire())}emitMany(I){this._state===0&&(this._results=this._results.concat(I),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(I){this._state===0&&(this._state=2,this._error=I,this._onStateChanged.fire())}}e.AsyncIterableObject=p,p.EMPTY=p.fromArray([]);class C extends p{constructor(I,T){super(T),this._source=I}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=C;function w(E){const I=new y.CancellationTokenSource,T=E(I.token);return new C(I,P=>Le(this,void 0,void 0,function*(){var A,M,N,O;const x=I.token.onCancellationRequested(()=>{x.dispose(),I.dispose(),P.reject(new k.CancellationError)});try{try{for(var F=!0,B=Dt(T),z;z=yield B.next(),A=z.done,!A;F=!0){O=z.value,F=!1;const j=O;if(I.token.isCancellationRequested)return;P.emitOne(j)}}catch(j){M={error:j}}finally{try{!F&&!A&&(N=B.return)&&(yield N.call(B))}finally{if(M)throw M.error}}x.dispose(),I.dispose()}catch(j){x.dispose(),I.dispose(),P.reject(j)}}))}e.createCancelableAsyncIterable=w}),define(J[561],ee([1,0,13,2]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class L extends k.Disposable{constructor(_,m,S){super(),this._visibility=_,this._visibleClassName=m,this._invisibleClassName=S,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new y.TimeoutTimer)}setVisibility(_){this._visibility!==_&&(this._visibility=_,this._updateShouldBeVisible())}setShouldBeVisible(_){this._rawShouldBeVisible=_,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const _=this._applyVisibilitySetting();this._shouldBeVisible!==_&&(this._shouldBeVisible=_,this.ensureVisibility())}setIsNeeded(_){this._isNeeded!==_&&(this._isNeeded=_,this.ensureVisibility())}setDomNode(_){this._domNode=_,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var _;(_=this._domNode)===null||_===void 0||_.setClassName(this._visibleClassName)},0))}_hide(_){var m;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(m=this._domNode)===null||m===void 0||m.setClassName(this._invisibleClassName+(_?" fade":"")))}}e.ScrollbarVisibilityController=L}),define(J[220],ee([1,0,140,15,13,263,170,6,51]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function f(t){return typeof t=="object"&&"visibility"in t&&"data"in t}e.isFilterResult=f;function v(t){switch(t){case!0:return 1;case!1:return 0;default:return t}}e.getVisibleState=v;function o(t){return typeof t.collapsible=="boolean"}class i{constructor(n,r,l,h={}){this.user=n,this.list=r,this.rootRef=[],this.eventBufferer=new m.EventBufferer,this._onDidChangeCollapseState=new m.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new m.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new m.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new L.Delayer(D.MicrotaskDelay),this.collapseByDefault=typeof h.collapseByDefault>"u"?!1:h.collapseByDefault,this.filter=h.filter,this.autoExpandSingleChildren=typeof h.autoExpandSingleChildren>"u"?!1:h.autoExpandSingleChildren,this.root={parent:void 0,element:l,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(n,r,l=S.Iterable.empty(),h={}){if(n.length===0)throw new y.TreeError(this.user,"Invalid tree location");h.diffIdentityProvider?this.spliceSmart(h.diffIdentityProvider,n,r,l,h):this.spliceSimple(n,r,l,h)}spliceSmart(n,r,l,h,s,u){var a;h===void 0&&(h=S.Iterable.empty()),u===void 0&&(u=(a=s.diffDepth)!==null&&a!==void 0?a:0);const{parentNode:d}=this.getParentNodeWithListIndex(r);if(!d.lastDiffIds)return this.spliceSimple(r,l,h,s);const c=[...h],b=r[r.length-1],g=new _.LcsDiff({getElements:()=>d.lastDiffIds},{getElements:()=>[...d.children.slice(0,b),...c,...d.children.slice(b+l)].map(I=>n.getId(I.element).toString())}).ComputeDiff(!1);if(g.quitEarly)return d.lastDiffIds=void 0,this.spliceSimple(r,l,c,s);const p=r.slice(0,-1),C=(I,T,P)=>{if(u>0)for(let A=0;A<P;A++)I--,T--,this.spliceSmart(n,[...p,I,0],Number.MAX_SAFE_INTEGER,c[T].children,s,u-1)};let w=Math.min(d.children.length,b+l),E=c.length;for(const I of g.changes.sort((T,P)=>P.originalStart-T.originalStart))C(w,E,w-(I.originalStart+I.originalLength)),w=I.originalStart,E=I.modifiedStart-b,this.spliceSimple([...p,w],I.originalLength,S.Iterable.slice(c,E,E+I.modifiedLength),s);C(w,E,w)}spliceSimple(n,r,l=S.Iterable.empty(),{onDidCreateNode:h,onDidDeleteNode:s,diffIdentityProvider:u}){const{parentNode:a,listIndex:d,revealed:c,visible:b}=this.getParentNodeWithListIndex(n),g=[],p=S.Iterable.map(l,x=>this.createTreeNode(x,a,a.visible?1:0,c,g,h)),C=n[n.length-1],w=a.children.length>0;let E=0;for(let x=C;x>=0&&x<a.children.length;x--){const F=a.children[x];if(F.visible){E=F.visibleChildIndex;break}}const I=[];let T=0,P=0;for(const x of p)I.push(x),P+=x.renderNodeCount,x.visible&&(x.visibleChildIndex=E+T++);const A=(0,k.splice)(a.children,C,r,I);u?a.lastDiffIds?(0,k.splice)(a.lastDiffIds,C,r,I.map(x=>u.getId(x.element).toString())):a.lastDiffIds=a.children.map(x=>u.getId(x.element).toString()):a.lastDiffIds=void 0;let M=0;for(const x of A)x.visible&&M++;if(M!==0)for(let x=C+I.length;x<a.children.length;x++){const F=a.children[x];F.visible&&(F.visibleChildIndex-=M)}if(a.visibleChildrenCount+=T-M,c&&b){const x=A.reduce((F,B)=>F+(B.visible?B.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,P-x),this.list.splice(d,x,g)}if(A.length>0&&s){const x=F=>{s(F),F.children.forEach(x)};A.forEach(x)}this._onDidSplice.fire({insertedNodes:I,deletedNodes:A});const N=a.children.length>0;w!==N&&this.setCollapsible(n.slice(0,-1),N);let O=a;for(;O;){if(O.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}O=O.parent}}rerender(n){if(n.length===0)throw new y.TreeError(this.user,"Invalid tree location");const{node:r,listIndex:l,revealed:h}=this.getTreeNodeWithListIndex(n);r.visible&&h&&this.list.splice(l,1,[r])}has(n){return this.hasTreeNode(n)}getListIndex(n){const{listIndex:r,visible:l,revealed:h}=this.getTreeNodeWithListIndex(n);return l&&h?r:-1}getListRenderCount(n){return this.getTreeNode(n).renderNodeCount}isCollapsible(n){return this.getTreeNode(n).collapsible}setCollapsible(n,r){const l=this.getTreeNode(n);typeof r>"u"&&(r=!l.collapsible);const h={collapsible:r};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(n,h))}isCollapsed(n){return this.getTreeNode(n).collapsed}setCollapsed(n,r,l){const h=this.getTreeNode(n);typeof r>"u"&&(r=!h.collapsed);const s={collapsed:r,recursive:l||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(n,s))}_setCollapseState(n,r){const{node:l,listIndex:h,revealed:s}=this.getTreeNodeWithListIndex(n),u=this._setListNodeCollapseState(l,h,s,r);if(l!==this.root&&this.autoExpandSingleChildren&&u&&!o(r)&&l.collapsible&&!l.collapsed&&!r.recursive){let a=-1;for(let d=0;d<l.children.length;d++)if(l.children[d].visible)if(a>-1){a=-1;break}else a=d;a>-1&&this._setCollapseState([...n,a],r)}return u}_setListNodeCollapseState(n,r,l,h){const s=this._setNodeCollapseState(n,h,!1);if(!l||!n.visible||!s)return s;const u=n.renderNodeCount,a=this.updateNodeAfterCollapseChange(n),d=u-(r===-1?0:1);return this.list.splice(r+1,d,a.slice(1)),s}_setNodeCollapseState(n,r,l){let h;if(n===this.root?h=!1:(o(r)?(h=n.collapsible!==r.collapsible,n.collapsible=r.collapsible):n.collapsible?(h=n.collapsed!==r.collapsed,n.collapsed=r.collapsed):h=!1,h&&this._onDidChangeCollapseState.fire({node:n,deep:l})),!o(r)&&r.recursive)for(const s of n.children)h=this._setNodeCollapseState(s,r,!0)||h;return h}expandTo(n){this.eventBufferer.bufferEvents(()=>{let r=this.getTreeNode(n);for(;r.parent;)r=r.parent,n=n.slice(0,n.length-1),r.collapsed&&this._setCollapseState(n,{collapsed:!1,recursive:!1})})}refilter(){const n=this.root.renderNodeCount,r=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,n,r),this.refilterDelayer.cancel()}createTreeNode(n,r,l,h,s,u){const a={parent:r,element:n.element,children:[],depth:r.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof n.collapsible=="boolean"?n.collapsible:typeof n.collapsed<"u",collapsed:typeof n.collapsed>"u"?this.collapseByDefault:n.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},d=this._filterNode(a,l);a.visibility=d,h&&s.push(a);const c=n.children||S.Iterable.empty(),b=h&&d!==0&&!a.collapsed;let g=0,p=1;for(const C of c){const w=this.createTreeNode(C,a,d,b,s,u);a.children.push(w),p+=w.renderNodeCount,w.visible&&(w.visibleChildIndex=g++)}return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=g,a.visible=d===2?g>0:d===1,a.visible?a.collapsed||(a.renderNodeCount=p):(a.renderNodeCount=0,h&&s.pop()),u?.(a),a}updateNodeAfterCollapseChange(n){const r=n.renderNodeCount,l=[];return this._updateNodeAfterCollapseChange(n,l),this._updateAncestorsRenderNodeCount(n.parent,l.length-r),l}_updateNodeAfterCollapseChange(n,r){if(n.visible===!1)return 0;if(r.push(n),n.renderNodeCount=1,!n.collapsed)for(const l of n.children)n.renderNodeCount+=this._updateNodeAfterCollapseChange(l,r);return this._onDidChangeRenderNodeCount.fire(n),n.renderNodeCount}updateNodeAfterFilterChange(n){const r=n.renderNodeCount,l=[];return this._updateNodeAfterFilterChange(n,n.visible?1:0,l),this._updateAncestorsRenderNodeCount(n.parent,l.length-r),l}_updateNodeAfterFilterChange(n,r,l,h=!0){let s;if(n!==this.root){if(s=this._filterNode(n,r),s===0)return n.visible=!1,n.renderNodeCount=0,!1;h&&l.push(n)}const u=l.length;n.renderNodeCount=n===this.root?0:1;let a=!1;if(!n.collapsed||s!==0){let d=0;for(const c of n.children)a=this._updateNodeAfterFilterChange(c,s,l,h&&!n.collapsed)||a,c.visible&&(c.visibleChildIndex=d++);n.visibleChildrenCount=d}else n.visibleChildrenCount=0;return n!==this.root&&(n.visible=s===2?a:s===1,n.visibility=s),n.visible?n.collapsed||(n.renderNodeCount+=l.length-u):(n.renderNodeCount=0,h&&l.pop()),this._onDidChangeRenderNodeCount.fire(n),n.visible}_updateAncestorsRenderNodeCount(n,r){if(r!==0)for(;n;)n.renderNodeCount+=r,this._onDidChangeRenderNodeCount.fire(n),n=n.parent}_filterNode(n,r){const l=this.filter?this.filter.filter(n.element,r):1;return typeof l=="boolean"?(n.filterData=void 0,l?1:0):f(l)?(n.filterData=l.data,v(l.visibility)):(n.filterData=void 0,v(l))}hasTreeNode(n,r=this.root){if(!n||n.length===0)return!0;const[l,...h]=n;return l<0||l>r.children.length?!1:this.hasTreeNode(h,r.children[l])}getTreeNode(n,r=this.root){if(!n||n.length===0)return r;const[l,...h]=n;if(l<0||l>r.children.length)throw new y.TreeError(this.user,"Invalid tree location");return this.getTreeNode(h,r.children[l])}getTreeNodeWithListIndex(n){if(n.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:r,listIndex:l,revealed:h,visible:s}=this.getParentNodeWithListIndex(n),u=n[n.length-1];if(u<0||u>r.children.length)throw new y.TreeError(this.user,"Invalid tree location");const a=r.children[u];return{node:a,listIndex:l,revealed:h,visible:s&&a.visible}}getParentNodeWithListIndex(n,r=this.root,l=0,h=!0,s=!0){const[u,...a]=n;if(u<0||u>r.children.length)throw new y.TreeError(this.user,"Invalid tree location");for(let d=0;d<u;d++)l+=r.children[d].renderNodeCount;return h=h&&!r.collapsed,s=s&&r.visible,a.length===0?{parentNode:r,listIndex:l,revealed:h,visible:s}:this.getParentNodeWithListIndex(a,r.children[u],l+1,h,s)}getNode(n=[]){return this.getTreeNode(n)}getNodeLocation(n){const r=[];let l=n;for(;l.parent;)r.push(l.parent.children.indexOf(l)),l=l.parent;return r.reverse()}getParentNodeLocation(n){if(n.length!==0)return n.length===1?[]:(0,k.tail2)(n)[0]}getFirstElementChild(n){const r=this.getTreeNode(n);if(r.children.length!==0)return r.children[0].element}}e.IndexTreeModel=i}),define(J[221],ee([1,0,220,140,51]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(m,S,f={}){this.user=m,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new y.IndexTreeModel(m,S,null,f),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,f.sorter&&(this.sorter={compare(v,o){return f.sorter.compare(v.element,o.element)}}),this.identityProvider=f.identityProvider}setChildren(m,S=L.Iterable.empty(),f={}){const v=this.getElementLocation(m);this._setChildren(v,this.preserveCollapseState(S),f)}_setChildren(m,S=L.Iterable.empty(),f){const v=new Set,o=new Set,i=n=>{var r;if(n.element===null)return;const l=n;if(v.add(l.element),this.nodes.set(l.element,l),this.identityProvider){const h=this.identityProvider.getId(l.element).toString();o.add(h),this.nodesByIdentity.set(h,l)}(r=f.onDidCreateNode)===null||r===void 0||r.call(f,l)},t=n=>{var r;if(n.element===null)return;const l=n;if(v.has(l.element)||this.nodes.delete(l.element),this.identityProvider){const h=this.identityProvider.getId(l.element).toString();o.has(h)||this.nodesByIdentity.delete(h)}(r=f.onDidDeleteNode)===null||r===void 0||r.call(f,l)};this.model.splice([...m,0],Number.MAX_VALUE,S,Object.assign(Object.assign({},f),{onDidCreateNode:i,onDidDeleteNode:t}))}preserveCollapseState(m=L.Iterable.empty()){return this.sorter&&(m=[...m].sort(this.sorter.compare.bind(this.sorter))),L.Iterable.map(m,S=>{let f=this.nodes.get(S.element);if(!f&&this.identityProvider){const i=this.identityProvider.getId(S.element).toString();f=this.nodesByIdentity.get(i)}if(!f){let i;return typeof S.collapsed>"u"?i=void 0:S.collapsed===k.ObjectTreeElementCollapseState.Collapsed||S.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed?i=!0:S.collapsed===k.ObjectTreeElementCollapseState.Expanded||S.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?i=!1:i=!!S.collapsed,Object.assign(Object.assign({},S),{children:this.preserveCollapseState(S.children),collapsed:i})}const v=typeof S.collapsible=="boolean"?S.collapsible:f.collapsible;let o;return typeof S.collapsed>"u"||S.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed||S.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?o=f.collapsed:S.collapsed===k.ObjectTreeElementCollapseState.Collapsed?o=!0:S.collapsed===k.ObjectTreeElementCollapseState.Expanded?o=!1:o=!!S.collapsed,Object.assign(Object.assign({},S),{collapsible:v,collapsed:o,children:this.preserveCollapseState(S.children)})})}rerender(m){const S=this.getElementLocation(m);this.model.rerender(S)}getFirstElementChild(m=null){const S=this.getElementLocation(m);return this.model.getFirstElementChild(S)}has(m){return this.nodes.has(m)}getListIndex(m){const S=this.getElementLocation(m);return this.model.getListIndex(S)}getListRenderCount(m){const S=this.getElementLocation(m);return this.model.getListRenderCount(S)}isCollapsible(m){const S=this.getElementLocation(m);return this.model.isCollapsible(S)}setCollapsible(m,S){const f=this.getElementLocation(m);return this.model.setCollapsible(f,S)}isCollapsed(m){const S=this.getElementLocation(m);return this.model.isCollapsed(S)}setCollapsed(m,S,f){const v=this.getElementLocation(m);return this.model.setCollapsed(v,S,f)}expandTo(m){const S=this.getElementLocation(m);this.model.expandTo(S)}refilter(){this.model.refilter()}getNode(m=null){if(m===null)return this.model.getNode(this.model.rootRef);const S=this.nodes.get(m);if(!S)throw new k.TreeError(this.user,`Tree element not found: ${m}`);return S}getNodeLocation(m){return m.element}getParentNodeLocation(m){if(m===null)throw new k.TreeError(this.user,"Invalid getParentNodeLocation call");const S=this.nodes.get(m);if(!S)throw new k.TreeError(this.user,`Tree element not found: ${m}`);const f=this.model.getNodeLocation(S),v=this.model.getParentNodeLocation(f);return this.model.getNode(v).element}getElementLocation(m){if(m===null)return[];const S=this.nodes.get(m);if(!S)throw new k.TreeError(this.user,`Tree element not found: ${m}`);return this.model.getNodeLocation(S)}}e.ObjectTreeModel=D}),define(J[562],ee([1,0,221,140,15,6,51]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function m(u){const a=[u.element],d=u.incompressible||!1;return{element:{elements:a,incompressible:d},children:_.Iterable.map(_.Iterable.from(u.children),m),collapsible:u.collapsible,collapsed:u.collapsed}}function S(u){const a=[u.element],d=u.incompressible||!1;let c,b;for(;[b,c]=_.Iterable.consume(_.Iterable.from(u.children),2),!(b.length!==1||b[0].incompressible);)u=b[0],a.push(u.element);return{element:{elements:a,incompressible:d},children:_.Iterable.map(_.Iterable.concat(b,c),S),collapsible:u.collapsible,collapsed:u.collapsed}}e.compress=S;function f(u,a=0){let d;return a<u.element.elements.length-1?d=[f(u,a+1)]:d=_.Iterable.map(_.Iterable.from(u.children),c=>f(c,0)),a===0&&u.element.incompressible?{element:u.element.elements[a],children:d,incompressible:!0,collapsible:u.collapsible,collapsed:u.collapsed}:{element:u.element.elements[a],children:d,collapsible:u.collapsible,collapsed:u.collapsed}}function v(u){return f(u,0)}e.decompress=v;function o(u,a,d){return u.element===a?Object.assign(Object.assign({},u),{children:d}):Object.assign(Object.assign({},u),{children:_.Iterable.map(_.Iterable.from(u.children),c=>o(c,a,d))})}const i=u=>({getId(a){return a.elements.map(d=>u.getId(d).toString()).join("\0")}});class t{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(a,d,c={}){this.user=a,this.rootRef=null,this.nodes=new Map,this.model=new y.ObjectTreeModel(a,d,c),this.enabled=typeof c.compressionEnabled>"u"?!0:c.compressionEnabled,this.identityProvider=c.identityProvider}setChildren(a,d=_.Iterable.empty(),c){const b=c.diffIdentityProvider&&i(c.diffIdentityProvider);if(a===null){const M=_.Iterable.map(d,this.enabled?S:m);this._setChildren(null,M,{diffIdentityProvider:b,diffDepth:1/0});return}const g=this.nodes.get(a);if(!g)throw new k.TreeError(this.user,"Unknown compressed tree node");const p=this.model.getNode(g),C=this.model.getParentNodeLocation(g),w=this.model.getNode(C),E=v(p),I=o(E,a,d),T=(this.enabled?S:m)(I),P=c.diffIdentityProvider?(M,N)=>c.diffIdentityProvider.getId(M)===c.diffIdentityProvider.getId(N):void 0;if((0,L.equals)(T.element.elements,p.element.elements,P)){this._setChildren(g,T.children||_.Iterable.empty(),{diffIdentityProvider:b,diffDepth:1});return}const A=w.children.map(M=>M===p?T:M);this._setChildren(w.element,A,{diffIdentityProvider:b,diffDepth:p.depth-w.depth})}setCompressionEnabled(a){if(a===this.enabled)return;this.enabled=a;const c=this.model.getNode().children,b=_.Iterable.map(c,v),g=_.Iterable.map(b,a?S:m);this._setChildren(null,g,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(a,d,c){const b=new Set,g=C=>{for(const w of C.element.elements)b.add(w),this.nodes.set(w,C.element)},p=C=>{for(const w of C.element.elements)b.has(w)||this.nodes.delete(w)};this.model.setChildren(a,d,Object.assign(Object.assign({},c),{onDidCreateNode:g,onDidDeleteNode:p}))}has(a){return this.nodes.has(a)}getListIndex(a){const d=this.getCompressedNode(a);return this.model.getListIndex(d)}getListRenderCount(a){const d=this.getCompressedNode(a);return this.model.getListRenderCount(d)}getNode(a){if(typeof a>"u")return this.model.getNode();const d=this.getCompressedNode(a);return this.model.getNode(d)}getNodeLocation(a){const d=this.model.getNodeLocation(a);return d===null?null:d.elements[d.elements.length-1]}getParentNodeLocation(a){const d=this.getCompressedNode(a),c=this.model.getParentNodeLocation(d);return c===null?null:c.elements[c.elements.length-1]}getFirstElementChild(a){const d=this.getCompressedNode(a);return this.model.getFirstElementChild(d)}isCollapsible(a){const d=this.getCompressedNode(a);return this.model.isCollapsible(d)}setCollapsible(a,d){const c=this.getCompressedNode(a);return this.model.setCollapsible(c,d)}isCollapsed(a){const d=this.getCompressedNode(a);return this.model.isCollapsed(d)}setCollapsed(a,d,c){const b=this.getCompressedNode(a);return this.model.setCollapsed(b,d,c)}expandTo(a){const d=this.getCompressedNode(a);this.model.expandTo(d)}rerender(a){const d=this.getCompressedNode(a);this.model.rerender(d)}refilter(){this.model.refilter()}getCompressedNode(a){if(a===null)return null;const d=this.nodes.get(a);if(!d)throw new k.TreeError(this.user,`Tree element not found: ${a}`);return d}}e.CompressedObjectTreeModel=t;const n=u=>u[u.length-1];e.DefaultElementMapper=n;class r{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(a=>new r(this.unwrapper,a))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(a,d){this.unwrapper=a,this.node=d}}function l(u,a){return{splice(d,c,b){a.splice(d,c,b.map(g=>u.map(g)))},updateElementHeight(d,c){a.updateElementHeight(d,c)}}}function h(u,a){return Object.assign(Object.assign({},a),{identityProvider:a.identityProvider&&{getId(d){return a.identityProvider.getId(u(d))}},sorter:a.sorter&&{compare(d,c){return a.sorter.compare(d.elements[0],c.elements[0])}},filter:a.filter&&{filter(d,c){return a.filter.filter(u(d),c)}}})}class s{get onDidSplice(){return D.Event.map(this.model.onDidSplice,({insertedNodes:a,deletedNodes:d})=>({insertedNodes:a.map(c=>this.nodeMapper.map(c)),deletedNodes:d.map(c=>this.nodeMapper.map(c))}))}get onDidChangeCollapseState(){return D.Event.map(this.model.onDidChangeCollapseState,({node:a,deep:d})=>({node:this.nodeMapper.map(a),deep:d}))}get onDidChangeRenderNodeCount(){return D.Event.map(this.model.onDidChangeRenderNodeCount,a=>this.nodeMapper.map(a))}constructor(a,d,c={}){this.rootRef=null,this.elementMapper=c.elementMapper||e.DefaultElementMapper;const b=g=>this.elementMapper(g.elements);this.nodeMapper=new k.WeakMapper(g=>new r(b,g)),this.model=new t(a,l(this.nodeMapper,d),h(b,c))}setChildren(a,d=_.Iterable.empty(),c={}){this.model.setChildren(a,d,c)}setCompressionEnabled(a){this.model.setCompressionEnabled(a)}has(a){return this.model.has(a)}getListIndex(a){return this.model.getListIndex(a)}getListRenderCount(a){return this.model.getListRenderCount(a)}getNode(a){return this.nodeMapper.map(this.model.getNode(a))}getNodeLocation(a){return a.element}getParentNodeLocation(a){return this.model.getParentNodeLocation(a)}getFirstElementChild(a){const d=this.model.getFirstElementChild(a);return d===null||typeof d>"u"?d:this.elementMapper(d.elements)}isCollapsible(a){return this.model.isCollapsible(a)}setCollapsible(a,d){return this.model.setCollapsible(a,d)}isCollapsed(a){return this.model.isCollapsed(a)}setCollapsed(a,d,c){return this.model.setCollapsed(a,d,c)}expandTo(a){return this.model.expandTo(a)}rerender(a){return this.model.rerender(a)}refilter(){return this.model.refilter()}getCompressedTreeNode(a=null){return this.model.getNode(a)}}e.CompressibleObjectTreeModel=s}),define(J[563],ee([1,0,17]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;if(typeof y.globals.vscode<"u"&&typeof y.globals.vscode.process<"u"){const L=y.globals.vscode.process;k={get platform(){return L.platform},get arch(){return L.arch},get env(){return L.env},cwd(){return L.cwd()}}}else typeof process<"u"?k={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:k={get platform(){return y.isWindows?"win32":y.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(J[92],ee([1,0,563]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,L=97,D=90,_=122,m=46,S=47,f=92,v=58,o=63;class i extends Error{constructor(b,g,p){let C;typeof g=="string"&&g.indexOf("not ")===0?(C="must not be",g=g.replace(/^not /,"")):C="must be";const w=b.indexOf(".")!==-1?"property":"argument";let E=`The "${b}" ${w} ${C} of type ${g}`;E+=`. Received type ${typeof p}`,super(E),this.code="ERR_INVALID_ARG_TYPE"}}function t(c,b){if(c===null||typeof c!="object")throw new i(b,"Object",c)}function n(c,b){if(typeof c!="string")throw new i(b,"string",c)}const r=y.platform==="win32";function l(c){return c===S||c===f}function h(c){return c===S}function s(c){return c>=k&&c<=D||c>=L&&c<=_}function u(c,b,g,p){let C="",w=0,E=-1,I=0,T=0;for(let P=0;P<=c.length;++P){if(P<c.length)T=c.charCodeAt(P);else{if(p(T))break;T=S}if(p(T)){if(!(E===P-1||I===1))if(I===2){if(C.length<2||w!==2||C.charCodeAt(C.length-1)!==m||C.charCodeAt(C.length-2)!==m){if(C.length>2){const A=C.lastIndexOf(g);A===-1?(C="",w=0):(C=C.slice(0,A),w=C.length-1-C.lastIndexOf(g)),E=P,I=0;continue}else if(C.length!==0){C="",w=0,E=P,I=0;continue}}b&&(C+=C.length>0?`${g}..`:"..",w=2)}else C.length>0?C+=`${g}${c.slice(E+1,P)}`:C=c.slice(E+1,P),w=P-E-1;E=P,I=0}else T===m&&I!==-1?++I:I=-1}return C}function a(c,b){t(b,"pathObject");const g=b.dir||b.root,p=b.base||`${b.name||""}${b.ext||""}`;return g?g===b.root?`${g}${p}`:`${g}${c}${p}`:p}e.win32={resolve(...c){let b="",g="",p=!1;for(let C=c.length-1;C>=-1;C--){let w;if(C>=0){if(w=c[C],n(w,"path"),w.length===0)continue}else b.length===0?w=y.cwd():(w=y.env[`=${b}`]||y.cwd(),(w===void 0||w.slice(0,2).toLowerCase()!==b.toLowerCase()&&w.charCodeAt(2)===f)&&(w=`${b}\\`));const E=w.length;let I=0,T="",P=!1;const A=w.charCodeAt(0);if(E===1)l(A)&&(I=1,P=!0);else if(l(A))if(P=!0,l(w.charCodeAt(1))){let M=2,N=M;for(;M<E&&!l(w.charCodeAt(M));)M++;if(M<E&&M!==N){const O=w.slice(N,M);for(N=M;M<E&&l(w.charCodeAt(M));)M++;if(M<E&&M!==N){for(N=M;M<E&&!l(w.charCodeAt(M));)M++;(M===E||M!==N)&&(T=`\\\\${O}\\${w.slice(N,M)}`,I=M)}}}else I=1;else s(A)&&w.charCodeAt(1)===v&&(T=w.slice(0,2),I=2,E>2&&l(w.charCodeAt(2))&&(P=!0,I=3));if(T.length>0)if(b.length>0){if(T.toLowerCase()!==b.toLowerCase())continue}else b=T;if(p){if(b.length>0)break}else if(g=`${w.slice(I)}\\${g}`,p=P,P&&b.length>0)break}return g=u(g,!p,"\\",l),p?`${b}\\${g}`:`${b}${g}`||"."},normalize(c){n(c,"path");const b=c.length;if(b===0)return".";let g=0,p,C=!1;const w=c.charCodeAt(0);if(b===1)return h(w)?"\\":c;if(l(w))if(C=!0,l(c.charCodeAt(1))){let I=2,T=I;for(;I<b&&!l(c.charCodeAt(I));)I++;if(I<b&&I!==T){const P=c.slice(T,I);for(T=I;I<b&&l(c.charCodeAt(I));)I++;if(I<b&&I!==T){for(T=I;I<b&&!l(c.charCodeAt(I));)I++;if(I===b)return`\\\\${P}\\${c.slice(T)}\\`;I!==T&&(p=`\\\\${P}\\${c.slice(T,I)}`,g=I)}}}else g=1;else s(w)&&c.charCodeAt(1)===v&&(p=c.slice(0,2),g=2,b>2&&l(c.charCodeAt(2))&&(C=!0,g=3));let E=g<b?u(c.slice(g),!C,"\\",l):"";return E.length===0&&!C&&(E="."),E.length>0&&l(c.charCodeAt(b-1))&&(E+="\\"),p===void 0?C?`\\${E}`:E:C?`${p}\\${E}`:`${p}${E}`},isAbsolute(c){n(c,"path");const b=c.length;if(b===0)return!1;const g=c.charCodeAt(0);return l(g)||b>2&&s(g)&&c.charCodeAt(1)===v&&l(c.charCodeAt(2))},join(...c){if(c.length===0)return".";let b,g;for(let w=0;w<c.length;++w){const E=c[w];n(E,"path"),E.length>0&&(b===void 0?b=g=E:b+=`\\${E}`)}if(b===void 0)return".";let p=!0,C=0;if(typeof g=="string"&&l(g.charCodeAt(0))){++C;const w=g.length;w>1&&l(g.charCodeAt(1))&&(++C,w>2&&(l(g.charCodeAt(2))?++C:p=!1))}if(p){for(;C<b.length&&l(b.charCodeAt(C));)C++;C>=2&&(b=`\\${b.slice(C)}`)}return e.win32.normalize(b)},relative(c,b){if(n(c,"from"),n(b,"to"),c===b)return"";const g=e.win32.resolve(c),p=e.win32.resolve(b);if(g===p||(c=g.toLowerCase(),b=p.toLowerCase(),c===b))return"";let C=0;for(;C<c.length&&c.charCodeAt(C)===f;)C++;let w=c.length;for(;w-1>C&&c.charCodeAt(w-1)===f;)w--;const E=w-C;let I=0;for(;I<b.length&&b.charCodeAt(I)===f;)I++;let T=b.length;for(;T-1>I&&b.charCodeAt(T-1)===f;)T--;const P=T-I,A=E<P?E:P;let M=-1,N=0;for(;N<A;N++){const x=c.charCodeAt(C+N);if(x!==b.charCodeAt(I+N))break;x===f&&(M=N)}if(N!==A){if(M===-1)return p}else{if(P>A){if(b.charCodeAt(I+N)===f)return p.slice(I+N+1);if(N===2)return p.slice(I+N)}E>A&&(c.charCodeAt(C+N)===f?M=N:N===2&&(M=3)),M===-1&&(M=0)}let O="";for(N=C+M+1;N<=w;++N)(N===w||c.charCodeAt(N)===f)&&(O+=O.length===0?"..":"\\..");return I+=M,O.length>0?`${O}${p.slice(I,T)}`:(p.charCodeAt(I)===f&&++I,p.slice(I,T))},toNamespacedPath(c){if(typeof c!="string"||c.length===0)return c;const b=e.win32.resolve(c);if(b.length<=2)return c;if(b.charCodeAt(0)===f){if(b.charCodeAt(1)===f){const g=b.charCodeAt(2);if(g!==o&&g!==m)return`\\\\?\\UNC\\${b.slice(2)}`}}else if(s(b.charCodeAt(0))&&b.charCodeAt(1)===v&&b.charCodeAt(2)===f)return`\\\\?\\${b}`;return c},dirname(c){n(c,"path");const b=c.length;if(b===0)return".";let g=-1,p=0;const C=c.charCodeAt(0);if(b===1)return l(C)?c:".";if(l(C)){if(g=p=1,l(c.charCodeAt(1))){let I=2,T=I;for(;I<b&&!l(c.charCodeAt(I));)I++;if(I<b&&I!==T){for(T=I;I<b&&l(c.charCodeAt(I));)I++;if(I<b&&I!==T){for(T=I;I<b&&!l(c.charCodeAt(I));)I++;if(I===b)return c;I!==T&&(g=p=I+1)}}}}else s(C)&&c.charCodeAt(1)===v&&(g=b>2&&l(c.charCodeAt(2))?3:2,p=g);let w=-1,E=!0;for(let I=b-1;I>=p;--I)if(l(c.charCodeAt(I))){if(!E){w=I;break}}else E=!1;if(w===-1){if(g===-1)return".";w=g}return c.slice(0,w)},basename(c,b){b!==void 0&&n(b,"ext"),n(c,"path");let g=0,p=-1,C=!0,w;if(c.length>=2&&s(c.charCodeAt(0))&&c.charCodeAt(1)===v&&(g=2),b!==void 0&&b.length>0&&b.length<=c.length){if(b===c)return"";let E=b.length-1,I=-1;for(w=c.length-1;w>=g;--w){const T=c.charCodeAt(w);if(l(T)){if(!C){g=w+1;break}}else I===-1&&(C=!1,I=w+1),E>=0&&(T===b.charCodeAt(E)?--E===-1&&(p=w):(E=-1,p=I))}return g===p?p=I:p===-1&&(p=c.length),c.slice(g,p)}for(w=c.length-1;w>=g;--w)if(l(c.charCodeAt(w))){if(!C){g=w+1;break}}else p===-1&&(C=!1,p=w+1);return p===-1?"":c.slice(g,p)},extname(c){n(c,"path");let b=0,g=-1,p=0,C=-1,w=!0,E=0;c.length>=2&&c.charCodeAt(1)===v&&s(c.charCodeAt(0))&&(b=p=2);for(let I=c.length-1;I>=b;--I){const T=c.charCodeAt(I);if(l(T)){if(!w){p=I+1;break}continue}C===-1&&(w=!1,C=I+1),T===m?g===-1?g=I:E!==1&&(E=1):g!==-1&&(E=-1)}return g===-1||C===-1||E===0||E===1&&g===C-1&&g===p+1?"":c.slice(g,C)},format:a.bind(null,"\\"),parse(c){n(c,"path");const b={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return b;const g=c.length;let p=0,C=c.charCodeAt(0);if(g===1)return l(C)?(b.root=b.dir=c,b):(b.base=b.name=c,b);if(l(C)){if(p=1,l(c.charCodeAt(1))){let M=2,N=M;for(;M<g&&!l(c.charCodeAt(M));)M++;if(M<g&&M!==N){for(N=M;M<g&&l(c.charCodeAt(M));)M++;if(M<g&&M!==N){for(N=M;M<g&&!l(c.charCodeAt(M));)M++;M===g?p=M:M!==N&&(p=M+1)}}}}else if(s(C)&&c.charCodeAt(1)===v){if(g<=2)return b.root=b.dir=c,b;if(p=2,l(c.charCodeAt(2))){if(g===3)return b.root=b.dir=c,b;p=3}}p>0&&(b.root=c.slice(0,p));let w=-1,E=p,I=-1,T=!0,P=c.length-1,A=0;for(;P>=p;--P){if(C=c.charCodeAt(P),l(C)){if(!T){E=P+1;break}continue}I===-1&&(T=!1,I=P+1),C===m?w===-1?w=P:A!==1&&(A=1):w!==-1&&(A=-1)}return I!==-1&&(w===-1||A===0||A===1&&w===I-1&&w===E+1?b.base=b.name=c.slice(E,I):(b.name=c.slice(E,w),b.base=c.slice(E,I),b.ext=c.slice(w,I))),E>0&&E!==p?b.dir=c.slice(0,E-1):b.dir=b.root,b},sep:"\\",delimiter:";",win32:null,posix:null};const d=(()=>{if(r){const c=/\\/g;return()=>{const b=y.cwd().replace(c,"/");return b.slice(b.indexOf("/"))}}return()=>y.cwd()})();e.posix={resolve(...c){let b="",g=!1;for(let p=c.length-1;p>=-1&&!g;p--){const C=p>=0?c[p]:d();n(C,"path"),C.length!==0&&(b=`${C}/${b}`,g=C.charCodeAt(0)===S)}return b=u(b,!g,"/",h),g?`/${b}`:b.length>0?b:"."},normalize(c){if(n(c,"path"),c.length===0)return".";const b=c.charCodeAt(0)===S,g=c.charCodeAt(c.length-1)===S;return c=u(c,!b,"/",h),c.length===0?b?"/":g?"./":".":(g&&(c+="/"),b?`/${c}`:c)},isAbsolute(c){return n(c,"path"),c.length>0&&c.charCodeAt(0)===S},join(...c){if(c.length===0)return".";let b;for(let g=0;g<c.length;++g){const p=c[g];n(p,"path"),p.length>0&&(b===void 0?b=p:b+=`/${p}`)}return b===void 0?".":e.posix.normalize(b)},relative(c,b){if(n(c,"from"),n(b,"to"),c===b||(c=e.posix.resolve(c),b=e.posix.resolve(b),c===b))return"";const g=1,p=c.length,C=p-g,w=1,E=b.length-w,I=C<E?C:E;let T=-1,P=0;for(;P<I;P++){const M=c.charCodeAt(g+P);if(M!==b.charCodeAt(w+P))break;M===S&&(T=P)}if(P===I)if(E>I){if(b.charCodeAt(w+P)===S)return b.slice(w+P+1);if(P===0)return b.slice(w+P)}else C>I&&(c.charCodeAt(g+P)===S?T=P:P===0&&(T=0));let A="";for(P=g+T+1;P<=p;++P)(P===p||c.charCodeAt(P)===S)&&(A+=A.length===0?"..":"/..");return`${A}${b.slice(w+T)}`},toNamespacedPath(c){return c},dirname(c){if(n(c,"path"),c.length===0)return".";const b=c.charCodeAt(0)===S;let g=-1,p=!0;for(let C=c.length-1;C>=1;--C)if(c.charCodeAt(C)===S){if(!p){g=C;break}}else p=!1;return g===-1?b?"/":".":b&&g===1?"//":c.slice(0,g)},basename(c,b){b!==void 0&&n(b,"ext"),n(c,"path");let g=0,p=-1,C=!0,w;if(b!==void 0&&b.length>0&&b.length<=c.length){if(b===c)return"";let E=b.length-1,I=-1;for(w=c.length-1;w>=0;--w){const T=c.charCodeAt(w);if(T===S){if(!C){g=w+1;break}}else I===-1&&(C=!1,I=w+1),E>=0&&(T===b.charCodeAt(E)?--E===-1&&(p=w):(E=-1,p=I))}return g===p?p=I:p===-1&&(p=c.length),c.slice(g,p)}for(w=c.length-1;w>=0;--w)if(c.charCodeAt(w)===S){if(!C){g=w+1;break}}else p===-1&&(C=!1,p=w+1);return p===-1?"":c.slice(g,p)},extname(c){n(c,"path");let b=-1,g=0,p=-1,C=!0,w=0;for(let E=c.length-1;E>=0;--E){const I=c.charCodeAt(E);if(I===S){if(!C){g=E+1;break}continue}p===-1&&(C=!1,p=E+1),I===m?b===-1?b=E:w!==1&&(w=1):b!==-1&&(w=-1)}return b===-1||p===-1||w===0||w===1&&b===p-1&&b===g+1?"":c.slice(b,p)},format:a.bind(null,"/"),parse(c){n(c,"path");const b={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return b;const g=c.charCodeAt(0)===S;let p;g?(b.root="/",p=1):p=0;let C=-1,w=0,E=-1,I=!0,T=c.length-1,P=0;for(;T>=p;--T){const A=c.charCodeAt(T);if(A===S){if(!I){w=T+1;break}continue}E===-1&&(I=!1,E=T+1),A===m?C===-1?C=T:P!==1&&(P=1):C!==-1&&(P=-1)}if(E!==-1){const A=w===0&&g?1:w;C===-1||P===0||P===1&&C===E-1&&C===w+1?b.base=b.name=c.slice(A,E):(b.name=c.slice(A,C),b.base=c.slice(A,E),b.ext=c.slice(C,E))}return w>0?b.dir=c.slice(0,w-1):g&&(b.dir="/"),b},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=r?e.win32.normalize:e.posix.normalize,e.resolve=r?e.win32.resolve:e.posix.resolve,e.relative=r?e.win32.relative:e.posix.relative,e.dirname=r?e.win32.dirname:e.posix.dirname,e.basename=r?e.win32.basename:e.posix.basename,e.extname=r?e.win32.extname:e.posix.extname,e.sep=r?e.win32.sep:e.posix.sep}),define(J[222],ee([1,0,92,17,9]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function D(i){return i===47||i===92}e.isPathSeparator=D;function _(i){return i.replace(/[\\/]/g,y.posix.sep)}e.toSlashes=_;function m(i){return i.indexOf("/")===-1&&(i=_(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}e.toPosixPath=m;function S(i,t=y.posix.sep){if(!i)return"";const n=i.length,r=i.charCodeAt(0);if(D(r)){if(D(i.charCodeAt(1))&&!D(i.charCodeAt(2))){let h=3;const s=h;for(;h<n&&!D(i.charCodeAt(h));h++);if(s!==h&&!D(i.charCodeAt(h+1))){for(h+=1;h<n;h++)if(D(i.charCodeAt(h)))return i.slice(0,h+1).replace(/[\\/]/g,t)}}return t}else if(v(r)&&i.charCodeAt(1)===58)return D(i.charCodeAt(2))?i.slice(0,2)+t:i.slice(0,2);let l=i.indexOf("://");if(l!==-1){for(l+=3;l<n;l++)if(D(i.charCodeAt(l)))return i.slice(0,l+1)}return""}e.getRoot=S;function f(i,t,n,r=y.sep){if(i===t)return!0;if(!i||!t||t.length>i.length)return!1;if(n){if(!(0,L.startsWithIgnoreCase)(i,t))return!1;if(t.length===i.length)return!0;let h=t.length;return t.charAt(t.length-1)===r&&h--,i.charAt(h)===r}return t.charAt(t.length-1)!==r&&(t+=r),i.indexOf(t)===0}e.isEqualOrParent=f;function v(i){return i>=65&&i<=90||i>=97&&i<=122}e.isWindowsDriveLetter=v;function o(i,t=k.isWindows){return t?v(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}e.hasDriveLetter=o}),define(J[564],ee([1,0,71,92,17,9]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const _=[void 0,[]];function m(s,u,a=0,d=0){const c=u;return c.values&&c.values.length>1?S(s,c.values,a,d):f(s,u,a,d)}e.scoreFuzzy2=m;function S(s,u,a,d){let c=0;const b=[];for(const g of u){const[p,C]=f(s,g,a,d);if(typeof p!="number")return _;c+=p,b.push(...C)}return[c,o(b)]}function f(s,u,a,d){const c=(0,y.fuzzyScore)(u.original,u.originalLowercase,a,s,s.toLowerCase(),d,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return c?[c[0],(0,y.createMatches)(c)]:_}const v=Object.freeze({score:0});function o(s){const u=s.sort((c,b)=>c.start-b.start),a=[];let d;for(const c of u)!d||!i(d,c)?(d=c,a.push(c)):(d.start=Math.min(d.start,c.start),d.end=Math.max(d.end,c.end));return a}function i(s,u){return!(s.end<u.start||u.end<s.start)}function t(s){return s.startsWith('"')&&s.endsWith('"')}const n=" ";function r(s){typeof s!="string"&&(s="");const u=s.toLowerCase(),{pathNormalized:a,normalized:d,normalizedLowercase:c}=l(s),b=a.indexOf(k.sep)>=0,g=t(s);let p;const C=s.split(n);if(C.length>1)for(const w of C){const E=t(w),{pathNormalized:I,normalized:T,normalizedLowercase:P}=l(w);T&&(p||(p=[]),p.push({original:w,originalLowercase:w.toLowerCase(),pathNormalized:I,normalized:T,normalizedLowercase:P,expectContiguousMatch:E}))}return{original:s,originalLowercase:u,pathNormalized:a,normalized:d,normalizedLowercase:c,values:p,containsPathSeparator:b,expectContiguousMatch:g}}e.prepareQuery=r;function l(s){let u;L.isWindows?u=s.replace(/\//g,k.sep):u=s.replace(/\\/g,k.sep);const a=(0,D.stripWildcards)(u).replace(/\s|"/g,"");return{pathNormalized:u,normalized:a,normalizedLowercase:a.toLowerCase()}}function h(s){return Array.isArray(s)?r(s.map(u=>u.original).join(n)):r(s.original)}e.pieceToQuery=h}),define(J[300],ee([1,0,13,222,66,92,17,9]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const S="[/\\\\]",f="[^/\\\\]",v=/\//g;function o(F,B){switch(F){case 0:return"";case 1:return`${f}*?`;default:return`(?:${S}|${f}+${S}${B?`|${S}${f}+`:""})*?`}}function i(F,B){if(!F)return[];const z=[];let j=!1,R=!1,Z="";for(const se of F){switch(se){case B:if(!j&&!R){z.push(Z),Z="";continue}break;case"{":j=!0;break;case"}":j=!1;break;case"[":R=!0;break;case"]":R=!1;break}Z+=se}return Z&&z.push(Z),z}e.splitGlobAware=i;function t(F){if(!F)return"";let B="";const z=i(F,e.GLOB_SPLIT);if(z.every(j=>j===e.GLOBSTAR))B=".*";else{let j=!1;z.forEach((R,Z)=>{if(R===e.GLOBSTAR){if(j)return;B+=o(2,Z===z.length-1)}else{let se=!1,le="",te=!1,Y="";for(const U of R){if(U!=="}"&&se){le+=U;continue}if(te&&(U!=="]"||!Y)){let V;U==="-"?V=U:(U==="^"||U==="!")&&!Y?V="^":U===e.GLOB_SPLIT?V="":V=(0,m.escapeRegExpCharacters)(U),Y+=V;continue}switch(U){case"{":se=!0;continue;case"[":te=!0;continue;case"}":{const H=`(?:${i(le,",").map($=>t($)).join("|")})`;B+=H,se=!1,le="";break}case"]":{B+="["+Y+"]",te=!1,Y="";break}case"?":B+=f;continue;case"*":B+=o(1);continue;default:B+=(0,m.escapeRegExpCharacters)(U)}}Z<z.length-1&&(z[Z+1]!==e.GLOBSTAR||Z+2<z.length)&&(B+=S)}j=R===e.GLOBSTAR})}return B}const n=/^\*\*\/\*\.[\w\.-]+$/,r=/^\*\*\/([\w\.-]+)\/?$/,l=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,h=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,s=/^\*\*((\/[\w\.-]+)+)\/?$/,u=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,a=new L.LRUCache(1e4),d=function(){return!1},c=function(){return null};function b(F,B){if(!F)return c;let z;typeof F!="string"?z=F.pattern:z=F,z=z.trim();const j=`${z}_${!!B.trimForExclusions}`;let R=a.get(j);if(R)return g(R,F);let Z;return n.test(z)?R=C(z.substr(4),z):(Z=r.exec(p(z,B)))?R=w(Z[1],z):(B.trimForExclusions?h:l).test(z)?R=E(z,B):(Z=s.exec(p(z,B)))?R=I(Z[1].substr(1),z,!0):(Z=u.exec(p(z,B)))?R=I(Z[1],z,!1):R=T(z),a.set(j,R),g(R,F)}function g(F,B){if(typeof B=="string")return F;const z=function(j,R){return(0,k.isEqualOrParent)(j,B.base,!_.isLinux)?F((0,m.ltrim)(j.substr(B.base.length),D.sep),R):null};return z.allBasenames=F.allBasenames,z.allPaths=F.allPaths,z.basenames=F.basenames,z.patterns=F.patterns,z}function p(F,B){return B.trimForExclusions&&F.endsWith("/**")?F.substr(0,F.length-2):F}function C(F,B){return function(z,j){return typeof z=="string"&&z.endsWith(F)?B:null}}function w(F,B){const z=`/${F}`,j=`\\${F}`,R=function(se,le){return typeof se!="string"?null:le?le===F?B:null:se===F||se.endsWith(z)||se.endsWith(j)?B:null},Z=[F];return R.basenames=Z,R.patterns=[B],R.allBasenames=Z,R}function E(F,B){const z=x(F.slice(1,-1).split(",").map(le=>b(le,B)).filter(le=>le!==c),F),j=z.length;if(!j)return c;if(j===1)return z[0];const R=function(le,te){for(let Y=0,U=z.length;Y<U;Y++)if(z[Y](le,te))return F;return null},Z=z.find(le=>!!le.allBasenames);Z&&(R.allBasenames=Z.allBasenames);const se=z.reduce((le,te)=>te.allPaths?le.concat(te.allPaths):le,[]);return se.length&&(R.allPaths=se),R}function I(F,B,z){const j=D.sep===D.posix.sep,R=j?F:F.replace(v,D.sep),Z=D.sep+R,se=D.posix.sep+F;let le;return z?le=function(te,Y){return typeof te=="string"&&(te===R||te.endsWith(Z)||!j&&(te===F||te.endsWith(se)))?B:null}:le=function(te,Y){return typeof te=="string"&&(te===R||!j&&te===F)?B:null},le.allPaths=[(z?"*/":"./")+F],le}function T(F){try{const B=new RegExp(`^${t(F)}$`);return function(z){return B.lastIndex=0,typeof z=="string"&&B.test(z)?F:null}}catch{return c}}function P(F,B,z){return!F||typeof B!="string"?!1:A(F)(B,void 0,z)}e.match=P;function A(F,B={}){if(!F)return d;if(typeof F=="string"||M(F)){const z=b(F,B);if(z===c)return d;const j=function(R,Z){return!!z(R,Z)};return z.allBasenames&&(j.allBasenames=z.allBasenames),z.allPaths&&(j.allPaths=z.allPaths),j}return N(F,B)}e.parse=A;function M(F){const B=F;return B?typeof B.base=="string"&&typeof B.pattern=="string":!1}e.isRelativePattern=M;function N(F,B){const z=x(Object.getOwnPropertyNames(F).map(le=>O(le,F[le],B)).filter(le=>le!==c)),j=z.length;if(!j)return c;if(!z.some(le=>!!le.requiresSiblings)){if(j===1)return z[0];const le=function(U,V){let H;for(let $=0,X=z.length;$<X;$++){const Q=z[$](U,V);if(typeof Q=="string")return Q;(0,y.isThenable)(Q)&&(H||(H=[]),H.push(Q))}return H?(()=>Le(this,void 0,void 0,function*(){for(const $ of H){const X=yield $;if(typeof X=="string")return X}return null}))():null},te=z.find(U=>!!U.allBasenames);te&&(le.allBasenames=te.allBasenames);const Y=z.reduce((U,V)=>V.allPaths?U.concat(V.allPaths):U,[]);return Y.length&&(le.allPaths=Y),le}const R=function(le,te,Y){let U,V;for(let H=0,$=z.length;H<$;H++){const X=z[H];X.requiresSiblings&&Y&&(te||(te=(0,D.basename)(le)),U||(U=te.substr(0,te.length-(0,D.extname)(le).length)));const Q=X(le,te,U,Y);if(typeof Q=="string")return Q;(0,y.isThenable)(Q)&&(V||(V=[]),V.push(Q))}return V?(()=>Le(this,void 0,void 0,function*(){for(const H of V){const $=yield H;if(typeof $=="string")return $}return null}))():null},Z=z.find(le=>!!le.allBasenames);Z&&(R.allBasenames=Z.allBasenames);const se=z.reduce((le,te)=>te.allPaths?le.concat(te.allPaths):le,[]);return se.length&&(R.allPaths=se),R}function O(F,B,z){if(B===!1)return c;const j=b(F,z);if(j===c)return c;if(typeof B=="boolean")return j;if(B){const R=B.when;if(typeof R=="string"){const Z=(se,le,te,Y)=>{if(!Y||!j(se,le))return null;const U=R.replace("$(basename)",()=>te),V=Y(U);return(0,y.isThenable)(V)?V.then(H=>H?F:null):V?F:null};return Z.requiresSiblings=!0,Z}}return j}function x(F,B){const z=F.filter(le=>!!le.basenames);if(z.length<2)return F;const j=z.reduce((le,te)=>{const Y=te.basenames;return Y?le.concat(Y):le},[]);let R;if(B){R=[];for(let le=0,te=j.length;le<te;le++)R.push(B)}else R=z.reduce((le,te)=>{const Y=te.patterns;return Y?le.concat(Y):le},[]);const Z=function(le,te){if(typeof le!="string")return null;if(!te){let U;for(U=le.length;U>0;U--){const V=le.charCodeAt(U-1);if(V===47||V===92)break}te=le.substr(U)}const Y=j.indexOf(te);return Y!==-1?R[Y]:null};Z.basenames=j,Z.patterns=R,Z.allBasenames=j;const se=F.filter(le=>!le.basenames);return se.push(Z),se}}),define(J[565],ee([1,0,222,17]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=void 0;function L(_,m=k.isWindows){return(0,y.hasDriveLetter)(_,m)?_.charAt(0).toUpperCase()+_.slice(1):_}e.normalizeDriveLetter=L;let D=Object.create(null)}),define(J[22],ee([1,0,92,17]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const L=/^\w[\w\d+.-]*$/,D=/^\//,_=/^\/\//;function m(g,p){if(!g.scheme&&p)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${g.authority}", path: "${g.path}", query: "${g.query}", fragment: "${g.fragment}"}`);if(g.scheme&&!L.test(g.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(g.path){if(g.authority){if(!D.test(g.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(_.test(g.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function S(g,p){return!g&&!p?"file":g}function f(g,p){switch(g){case"https":case"http":case"file":p?p[0]!==o&&(p=o+p):p=o;break}return p}const v="",o="/",i=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class t{static isUri(p){return p instanceof t?!0:p?typeof p.authority=="string"&&typeof p.fragment=="string"&&typeof p.path=="string"&&typeof p.query=="string"&&typeof p.scheme=="string"&&typeof p.fsPath=="string"&&typeof p.with=="function"&&typeof p.toString=="function":!1}constructor(p,C,w,E,I,T=!1){typeof p=="object"?(this.scheme=p.scheme||v,this.authority=p.authority||v,this.path=p.path||v,this.query=p.query||v,this.fragment=p.fragment||v):(this.scheme=S(p,T),this.authority=C||v,this.path=f(this.scheme,w||v),this.query=E||v,this.fragment=I||v,m(this,T))}get fsPath(){return u(this,!1)}with(p){if(!p)return this;let{scheme:C,authority:w,path:E,query:I,fragment:T}=p;return C===void 0?C=this.scheme:C===null&&(C=v),w===void 0?w=this.authority:w===null&&(w=v),E===void 0?E=this.path:E===null&&(E=v),I===void 0?I=this.query:I===null&&(I=v),T===void 0?T=this.fragment:T===null&&(T=v),C===this.scheme&&w===this.authority&&E===this.path&&I===this.query&&T===this.fragment?this:new r(C,w,E,I,T)}static parse(p,C=!1){const w=i.exec(p);return w?new r(w[2]||v,b(w[4]||v),b(w[5]||v),b(w[7]||v),b(w[9]||v),C):new r(v,v,v,v,v)}static file(p){let C=v;if(k.isWindows&&(p=p.replace(/\\/g,o)),p[0]===o&&p[1]===o){const w=p.indexOf(o,2);w===-1?(C=p.substring(2),p=o):(C=p.substring(2,w),p=p.substring(w)||o)}return new r("file",C,p,v,v)}static from(p,C){return new r(p.scheme,p.authority,p.path,p.query,p.fragment,C)}static joinPath(p,...C){if(!p.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let w;return k.isWindows&&p.scheme==="file"?w=t.file(y.win32.join(u(p,!0),...C)).path:w=y.posix.join(p.path,...C),p.with({path:w})}toString(p=!1){return a(this,p)}toJSON(){return this}static revive(p){var C,w;if(p){if(p instanceof t)return p;{const E=new r(p);return E._formatted=(C=p.external)!==null&&C!==void 0?C:null,E._fsPath=p._sep===n&&(w=p.fsPath)!==null&&w!==void 0?w:null,E}}else return p}}e.URI=t;const n=k.isWindows?1:void 0;class r extends t{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=u(this,!1)),this._fsPath}toString(p=!1){return p?a(this,!0):(this._formatted||(this._formatted=a(this,!1)),this._formatted)}toJSON(){const p={$mid:1};return this._fsPath&&(p.fsPath=this._fsPath,p._sep=n),this._formatted&&(p.external=this._formatted),this.path&&(p.path=this.path),this.scheme&&(p.scheme=this.scheme),this.authority&&(p.authority=this.authority),this.query&&(p.query=this.query),this.fragment&&(p.fragment=this.fragment),p}}const l={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function h(g,p,C){let w,E=-1;for(let I=0;I<g.length;I++){const T=g.charCodeAt(I);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||p&&T===47||C&&T===91||C&&T===93||C&&T===58)E!==-1&&(w+=encodeURIComponent(g.substring(E,I)),E=-1),w!==void 0&&(w+=g.charAt(I));else{w===void 0&&(w=g.substr(0,I));const P=l[T];P!==void 0?(E!==-1&&(w+=encodeURIComponent(g.substring(E,I)),E=-1),w+=P):E===-1&&(E=I)}}return E!==-1&&(w+=encodeURIComponent(g.substring(E))),w!==void 0?w:g}function s(g){let p;for(let C=0;C<g.length;C++){const w=g.charCodeAt(C);w===35||w===63?(p===void 0&&(p=g.substr(0,C)),p+=l[w]):p!==void 0&&(p+=g[C])}return p!==void 0?p:g}function u(g,p){let C;return g.authority&&g.path.length>1&&g.scheme==="file"?C=`//${g.authority}${g.path}`:g.path.charCodeAt(0)===47&&(g.path.charCodeAt(1)>=65&&g.path.charCodeAt(1)<=90||g.path.charCodeAt(1)>=97&&g.path.charCodeAt(1)<=122)&&g.path.charCodeAt(2)===58?p?C=g.path.substr(1):C=g.path[1].toLowerCase()+g.path.substr(2):C=g.path,k.isWindows&&(C=C.replace(/\//g,"\\")),C}e.uriToFsPath=u;function a(g,p){const C=p?s:h;let w="",{scheme:E,authority:I,path:T,query:P,fragment:A}=g;if(E&&(w+=E,w+=":"),(I||E==="file")&&(w+=o,w+=o),I){let M=I.indexOf("@");if(M!==-1){const N=I.substr(0,M);I=I.substr(M+1),M=N.lastIndexOf(":"),M===-1?w+=C(N,!1,!1):(w+=C(N.substr(0,M),!1,!1),w+=":",w+=C(N.substr(M+1),!1,!0)),w+="@"}I=I.toLowerCase(),M=I.lastIndexOf(":"),M===-1?w+=C(I,!1,!0):(w+=C(I.substr(0,M),!1,!0),w+=I.substr(M))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){const M=T.charCodeAt(1);M>=65&&M<=90&&(T=`/${String.fromCharCode(M+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){const M=T.charCodeAt(0);M>=65&&M<=90&&(T=`${String.fromCharCode(M+32)}:${T.substr(2)}`)}w+=C(T,!0,!1)}return P&&(w+="?",w+=C(P,!1,!1)),A&&(w+="#",w+=p?A:h(A,!1,!1)),w}function d(g){try{return decodeURIComponent(g)}catch{return g.length>3?g.substr(0,3)+d(g.substr(3)):g}}const c=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function b(g){return g.match(c)?g.replace(c,p=>d(p)):g}}),define(J[223],ee([1,0,141,9,22]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=e.stringify=void 0;function D(f){return JSON.stringify(f,m)}e.stringify=D;function _(f){let v=JSON.parse(f);return v=S(v),v}e.parse=_;function m(f,v){return v instanceof RegExp?{$mid:2,source:v.source,flags:(0,k.regExpFlags)(v)}:v}function S(f,v=0){if(!f||v>200)return f;if(typeof f=="object"){switch(f.$mid){case 1:return L.URI.revive(f);case 2:return new RegExp(f.source,f.flags);case 16:return new Date(f.source)}if(f instanceof y.VSBuffer||f instanceof Uint8Array)return f;if(Array.isArray(f))for(let o=0;o<f.length;++o)f[o]=S(f[o],v+1);else for(const o in f)Object.hasOwnProperty.call(f,o)&&(f[o]=S(f[o],v+1))}return f}e.revive=S}),define(J[54],ee([1,0,12,17,22]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0;var D;(function(f){f.inMemory="inmemory",f.vscode="vscode",f.internal="private",f.walkThrough="walkThrough",f.walkThroughSnippet="walkThroughSnippet",f.http="http",f.https="https",f.file="file",f.mailto="mailto",f.untitled="untitled",f.data="data",f.command="command",f.vscodeRemote="vscode-remote",f.vscodeRemoteResource="vscode-remote-resource",f.vscodeManagedRemoteResource="vscode-managed-remote-resource",f.vscodeUserData="vscode-userdata",f.vscodeCustomEditor="vscode-custom-editor",f.vscodeNotebookCell="vscode-notebook-cell",f.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",f.vscodeNotebookCellOutput="vscode-notebook-cell-output",f.vscodeInteractiveInput="vscode-interactive-input",f.vscodeSettings="vscode-settings",f.vscodeWorkspaceTrust="vscode-workspace-trust",f.vscodeTerminal="vscode-terminal",f.vscodeChatSesssion="vscode-chat-editor",f.webviewPanel="webview-panel",f.vscodeWebview="vscode-webview",f.extension="extension",f.vscodeFileResource="vscode-file",f.tmp="tmp",f.vsls="vsls",f.vscodeSourceControl="vscode-scm"})(D||(e.Schemas=D={})),e.connectionTokenQueryName="tkn";class _{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${D.vscodeRemoteResource}`}setPreferredWebSchema(v){this._preferredWebSchema=v}rewrite(v){if(this._delegate)try{return this._delegate(v)}catch(l){return y.onUnexpectedError(l),v}const o=v.authority;let i=this._hosts[o];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);const t=this._ports[o],n=this._connectionTokens[o];let r=`path=${encodeURIComponent(v.path)}`;return typeof n=="string"&&(r+=`&${e.connectionTokenQueryName}=${encodeURIComponent(n)}`),L.URI.from({scheme:k.isWeb?this._preferredWebSchema:D.vscodeRemoteResource,authority:`${i}:${t}`,path:this._remoteResourcesPath,query:r})}}e.RemoteAuthorities=new _;class m{uriToBrowserUri(v){return v.scheme===D.vscodeRemote?e.RemoteAuthorities.rewrite(v):v.scheme===D.file&&(k.isNative||k.isWebWorker&&k.globals.origin===`${D.vscodeFileResource}://${m.FALLBACK_AUTHORITY}`)?v.with({scheme:D.vscodeFileResource,authority:v.authority||m.FALLBACK_AUTHORITY,query:null,fragment:null}):v}}m.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new m;var S;(function(f){const v=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);f.CoopAndCoep=Object.freeze(v.get("3"));const o="vscode-coi";function i(n){let r;typeof n=="string"?r=new URL(n).searchParams:n instanceof URL?r=n.searchParams:L.URI.isUri(n)&&(r=new URL(n.toString(!0)).searchParams);const l=r?.get(o);if(l)return v.get(l)}f.getHeadersFromQuery=i;function t(n,r,l){if(!globalThis.crossOriginIsolated)return;const h=r&&l?"3":l?"2":"1";n instanceof URLSearchParams?n.set(o,h):n[o]=h}f.addSearchParam=t})(S||(e.COI=S={}))}),define(J[7],ee([1,0,52,219,45,58,12,6,301,2,54,17]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.h=e.DragAndDropObserver=e.ModifierKeyEmitter=e.basicMarkupHtmlTags=e.hookDomPurifyHrefAndSrcSanitizer=e.asCssValueWithDefault=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.hide=e.show=e.setVisibility=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.isEventLike=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.getDomNodeZoomLevel=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableGenericMouseUpListener=e.addDisposableGenericMouseDownListener=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function i(pe){for(;pe.firstChild;)pe.firstChild.remove()}e.clearNode=i;function t(pe){var _e;return(_e=pe?.isConnected)!==null&&_e!==void 0?_e:!1}e.isInDOM=t;class n{constructor(_e,ke,Re,Pe){this._node=_e,this._type=ke,this._handler=Re,this._options=Pe||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function r(pe,_e,ke,Re){return new n(pe,_e,ke,Re)}e.addDisposableListener=r;function l(pe){return function(_e){return pe(new D.StandardMouseEvent(_e))}}function h(pe){return function(_e){return pe(new L.StandardKeyboardEvent(_e))}}const s=function(_e,ke,Re,Pe){let Fe=Re;return ke==="click"||ke==="mousedown"?Fe=l(Re):(ke==="keydown"||ke==="keypress"||ke==="keyup")&&(Fe=h(Re)),r(_e,ke,Fe,Pe)};e.addStandardDisposableListener=s;const u=function(_e,ke,Re){const Pe=l(ke);return d(_e,Pe,Re)};e.addStandardDisposableGenericMouseDownListener=u;const a=function(_e,ke,Re){const Pe=l(ke);return c(_e,Pe,Re)};e.addStandardDisposableGenericMouseUpListener=a;function d(pe,_e,ke){return r(pe,o.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,_e,ke)}e.addDisposableGenericMouseDownListener=d;function c(pe,_e,ke){return r(pe,o.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,_e,ke)}e.addDisposableGenericMouseUpListener=c;class b{constructor(_e,ke=0){this._runner=_e,this.priority=ke,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(_e){(0,_.onUnexpectedError)(_e)}}static sort(_e,ke){return ke.priority-_e.priority}}(function(){let pe=[],_e=null,ke=!1,Re=!1;const Pe=()=>{for(ke=!1,_e=pe,pe=[],Re=!0;_e.length>0;)_e.sort(b.sort),_e.shift().execute();Re=!1};e.scheduleAtNextAnimationFrame=(Fe,We=0)=>{const xe=new b(Fe,We);return pe.push(xe),ke||(ke=!0,requestAnimationFrame(Pe)),xe},e.runAtThisOrScheduleAtNextAnimationFrame=(Fe,We)=>{if(Re){const xe=new b(Fe,We);return _e.push(xe),xe}else return(0,e.scheduleAtNextAnimationFrame)(Fe,We)}})();function g(pe){return document.defaultView.getComputedStyle(pe,null)}e.getComputedStyle=g;function p(pe){if(pe!==document.body)return new w(pe.clientWidth,pe.clientHeight);if(o.isIOS&&window.visualViewport)return new w(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new w(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new w(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new w(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=p;class C{static convertToPixels(_e,ke){return parseFloat(ke)||0}static getDimension(_e,ke,Re){const Pe=g(_e),Fe=Pe?Pe.getPropertyValue(ke):"0";return C.convertToPixels(_e,Fe)}static getBorderLeftWidth(_e){return C.getDimension(_e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(_e){return C.getDimension(_e,"border-right-width","borderRightWidth")}static getBorderTopWidth(_e){return C.getDimension(_e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(_e){return C.getDimension(_e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(_e){return C.getDimension(_e,"padding-left","paddingLeft")}static getPaddingRight(_e){return C.getDimension(_e,"padding-right","paddingRight")}static getPaddingTop(_e){return C.getDimension(_e,"padding-top","paddingTop")}static getPaddingBottom(_e){return C.getDimension(_e,"padding-bottom","paddingBottom")}static getMarginLeft(_e){return C.getDimension(_e,"margin-left","marginLeft")}static getMarginTop(_e){return C.getDimension(_e,"margin-top","marginTop")}static getMarginRight(_e){return C.getDimension(_e,"margin-right","marginRight")}static getMarginBottom(_e){return C.getDimension(_e,"margin-bottom","marginBottom")}}class w{constructor(_e,ke){this.width=_e,this.height=ke}with(_e=this.width,ke=this.height){return _e!==this.width||ke!==this.height?new w(_e,ke):this}static is(_e){return typeof _e=="object"&&typeof _e.height=="number"&&typeof _e.width=="number"}static lift(_e){return _e instanceof w?_e:new w(_e.width,_e.height)}static equals(_e,ke){return _e===ke?!0:!_e||!ke?!1:_e.width===ke.width&&_e.height===ke.height}}e.Dimension=w,w.None=new w(0,0);function E(pe){let _e=pe.offsetParent,ke=pe.offsetTop,Re=pe.offsetLeft;for(;(pe=pe.parentNode)!==null&&pe!==document.body&&pe!==document.documentElement;){ke-=pe.scrollTop;const Pe=z(pe)?null:g(pe);Pe&&(Re-=Pe.direction!=="rtl"?pe.scrollLeft:-pe.scrollLeft),pe===_e&&(Re+=C.getBorderLeftWidth(pe),ke+=C.getBorderTopWidth(pe),ke+=pe.offsetTop,Re+=pe.offsetLeft,_e=pe.offsetParent)}return{left:Re,top:ke}}e.getTopLeftOffset=E;function I(pe,_e,ke){typeof _e=="number"&&(pe.style.width=`${_e}px`),typeof ke=="number"&&(pe.style.height=`${ke}px`)}e.size=I;function T(pe){const _e=pe.getBoundingClientRect();return{left:_e.left+window.scrollX,top:_e.top+window.scrollY,width:_e.width,height:_e.height}}e.getDomNodePagePosition=T;function P(pe){let _e=pe,ke=1;do{const Re=g(_e).zoom;Re!=null&&Re!=="1"&&(ke*=Re),_e=_e.parentElement}while(_e!==null&&_e!==document.documentElement);return ke}e.getDomNodeZoomLevel=P;function A(pe){const _e=C.getMarginLeft(pe)+C.getMarginRight(pe);return pe.offsetWidth+_e}e.getTotalWidth=A;function M(pe){const _e=C.getBorderLeftWidth(pe)+C.getBorderRightWidth(pe),ke=C.getPaddingLeft(pe)+C.getPaddingRight(pe);return pe.offsetWidth-_e-ke}e.getContentWidth=M;function N(pe){const _e=C.getBorderTopWidth(pe)+C.getBorderBottomWidth(pe),ke=C.getPaddingTop(pe)+C.getPaddingBottom(pe);return pe.offsetHeight-_e-ke}e.getContentHeight=N;function O(pe){const _e=C.getMarginTop(pe)+C.getMarginBottom(pe);return pe.offsetHeight+_e}e.getTotalHeight=O;function x(pe,_e){for(;pe;){if(pe===_e)return!0;pe=pe.parentNode}return!1}e.isAncestor=x;function F(pe,_e,ke){for(;pe&&pe.nodeType===pe.ELEMENT_NODE;){if(pe.classList.contains(_e))return pe;if(ke){if(typeof ke=="string"){if(pe.classList.contains(ke))return null}else if(pe===ke)return null}pe=pe.parentNode}return null}e.findParentWithClass=F;function B(pe,_e,ke){return!!F(pe,_e,ke)}e.hasParentWithClass=B;function z(pe){return pe&&!!pe.host&&!!pe.mode}e.isShadowRoot=z;function j(pe){return!!R(pe)}e.isInShadowDOM=j;function R(pe){for(;pe.parentNode;){if(pe===document.body)return null;pe=pe.parentNode}return z(pe)?pe:null}e.getShadowRoot=R;function Z(){let pe=document.activeElement;for(;pe?.shadowRoot;)pe=pe.shadowRoot.activeElement;return pe}e.getActiveElement=Z;function se(pe=document.getElementsByTagName("head")[0],_e){const ke=document.createElement("style");return ke.type="text/css",ke.media="screen",_e?.(ke),pe.appendChild(ke),ke}e.createStyleSheet=se;let le=null;function te(){return le||(le=se()),le}function Y(pe){var _e,ke;return!((_e=pe?.sheet)===null||_e===void 0)&&_e.rules?pe.sheet.rules:!((ke=pe?.sheet)===null||ke===void 0)&&ke.cssRules?pe.sheet.cssRules:[]}function U(pe,_e,ke=te()){!ke||!_e||ke.sheet.insertRule(pe+"{"+_e+"}",0)}e.createCSSRule=U;function V(pe,_e=te()){if(!_e)return;const ke=Y(_e),Re=[];for(let Pe=0;Pe<ke.length;Pe++)ke[Pe].selectorText.indexOf(pe)!==-1&&Re.push(Pe);for(let Pe=Re.length-1;Pe>=0;Pe--)_e.sheet.deleteRule(Re[Pe])}e.removeCSSRulesContainingSelector=V;function H(pe){return typeof HTMLElement=="object"?pe instanceof HTMLElement:pe&&typeof pe=="object"&&pe.nodeType===1&&typeof pe.nodeName=="string"}e.isHTMLElement=H,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:y.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:y.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:y.isWebKit?"webkitAnimationIteration":"animationiteration"};function $(pe){const _e=pe;return!!(_e&&typeof _e.preventDefault=="function"&&typeof _e.stopPropagation=="function")}e.isEventLike=$,e.EventHelper={stop:(pe,_e)=>(pe.preventDefault(),_e&&pe.stopPropagation(),pe)};function X(pe){const _e=[];for(let ke=0;pe&&pe.nodeType===pe.ELEMENT_NODE;ke++)_e[ke]=pe.scrollTop,pe=pe.parentNode;return _e}e.saveParentsScrollTop=X;function Q(pe,_e){for(let ke=0;pe&&pe.nodeType===pe.ELEMENT_NODE;ke++)pe.scrollTop!==_e[ke]&&(pe.scrollTop=_e[ke]),pe=pe.parentNode}e.restoreParentsScrollTop=Q;class de extends f.Disposable{static hasFocusWithin(_e){const ke=R(_e),Re=ke?ke.activeElement:document.activeElement;return x(Re,_e)}constructor(_e){super(),this._onDidFocus=this._register(new m.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new m.Emitter),this.onDidBlur=this._onDidBlur.event;let ke=de.hasFocusWithin(_e),Re=!1;const Pe=()=>{Re=!1,ke||(ke=!0,this._onDidFocus.fire())},Fe=()=>{ke&&(Re=!0,window.setTimeout(()=>{Re&&(Re=!1,ke=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{de.hasFocusWithin(_e)!==ke&&(ke?Fe():Pe())},this._register(r(_e,e.EventType.FOCUS,Pe,!0)),this._register(r(_e,e.EventType.BLUR,Fe,!0)),this._register(r(_e,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(r(_e,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler()))}}function ce(pe){return new de(pe)}e.trackFocus=ce;function ae(pe,..._e){if(pe.append(..._e),_e.length===1&&typeof _e[0]!="string")return _e[0]}e.append=ae;function ue(pe,_e){return pe.insertBefore(_e,pe.firstChild),_e}e.prepend=ue;function q(pe,..._e){pe.innerText="",ae(pe,..._e)}e.reset=q;const W=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var K;(function(pe){pe.HTML="http://www.w3.org/1999/xhtml",pe.SVG="http://www.w3.org/2000/svg"})(K||(e.Namespace=K={}));function ie(pe,_e,ke,...Re){const Pe=W.exec(_e);if(!Pe)throw new Error("Bad use of emmet");const Fe=Pe[1]||"div";let We;return pe!==K.HTML?We=document.createElementNS(pe,Fe):We=document.createElement(Fe),Pe[3]&&(We.id=Pe[3]),Pe[4]&&(We.className=Pe[4].replace(/\./g," ").trim()),ke&&Object.entries(ke).forEach(([xe,Ke])=>{typeof Ke>"u"||(/^on\w+$/.test(xe)?We[xe]=Ke:xe==="selected"?Ke&&We.setAttribute(xe,"true"):We.setAttribute(xe,Ke))}),We.append(...Re),We}function ne(pe,_e,...ke){return ie(K.HTML,pe,_e,...ke)}e.$=ne,ne.SVG=function(pe,_e,...ke){return ie(K.SVG,pe,_e,...ke)};function oe(pe,..._e){pe?re(..._e):ge(..._e)}e.setVisibility=oe;function re(...pe){for(const _e of pe)_e.style.display="",_e.removeAttribute("aria-hidden")}e.show=re;function ge(...pe){for(const _e of pe)_e.style.display="none",_e.setAttribute("aria-hidden","true")}e.hide=ge;function ve(pe){const _e=window.devicePixelRatio*pe;return Math.max(1,Math.floor(_e))/window.devicePixelRatio}e.computeScreenAwareSize=ve;function we(pe){window.open(pe,"_blank","noopener")}e.windowOpenNoOpener=we;function ye(pe){const _e=()=>{pe(),ke=(0,e.scheduleAtNextAnimationFrame)(_e)};let ke=(0,e.scheduleAtNextAnimationFrame)(_e);return(0,f.toDisposable)(()=>ke.dispose())}e.animate=ye,v.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Ie(pe){return pe?`url('${v.FileAccess.uriToBrowserUri(pe).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=Ie;function Ee(pe){return`'${pe.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=Ee;function De(pe,_e){if(pe!==void 0){const ke=pe.match(/^\s*var\((.+)\)$/);if(ke){const Re=ke[1].split(",",2);return Re.length===2&&(_e=De(Re[1].trim(),_e)),`var(${Re[0]}, ${_e})`}return pe}return _e}e.asCssValueWithDefault=De;function Ae(pe,_e=!1){const ke=document.createElement("a");return S.addHook("afterSanitizeAttributes",Re=>{for(const Pe of["href","src"])if(Re.hasAttribute(Pe)){const Fe=Re.getAttribute(Pe);if(Pe==="href"&&Fe.startsWith("#"))continue;if(ke.href=Fe,!pe.includes(ke.protocol.replace(/:$/,""))){if(_e&&Pe==="src"&&ke.href.startsWith("data:"))continue;Re.removeAttribute(Pe)}}}),(0,f.toDisposable)(()=>{S.removeHook("afterSanitizeAttributes")})}e.hookDomPurifyHrefAndSrcSanitizer=Ae,e.basicMarkupHtmlTags=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);const Te=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class be extends m.Emitter{constructor(){super(),this._subscriptions=new f.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(r(window,"keydown",_e=>{if(_e.defaultPrevented)return;const ke=new L.StandardKeyboardEvent(_e);if(!(ke.keyCode===6&&_e.repeat)){if(_e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(_e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(_e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(_e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(ke.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=_e.altKey,this._keyStatus.ctrlKey=_e.ctrlKey,this._keyStatus.metaKey=_e.metaKey,this._keyStatus.shiftKey=_e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=_e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(r(window,"keyup",_e=>{_e.defaultPrevented||(!_e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!_e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!_e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!_e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=_e.altKey,this._keyStatus.ctrlKey=_e.ctrlKey,this._keyStatus.metaKey=_e.metaKey,this._keyStatus.shiftKey=_e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=_e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(r(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mousemove",_e=>{_e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(r(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return be.instance||(be.instance=new be),be.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=be;class me extends f.Disposable{constructor(_e,ke){super(),this.element=_e,this.callbacks=ke,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(r(this.element,e.EventType.DRAG_ENTER,_e=>{this.counter++,this.dragStartTime=_e.timeStamp,this.callbacks.onDragEnter(_e)})),this._register(r(this.element,e.EventType.DRAG_OVER,_e=>{var ke,Re;_e.preventDefault(),(Re=(ke=this.callbacks).onDragOver)===null||Re===void 0||Re.call(ke,_e,_e.timeStamp-this.dragStartTime)})),this._register(r(this.element,e.EventType.DRAG_LEAVE,_e=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(_e))})),this._register(r(this.element,e.EventType.DRAG_END,_e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(_e)})),this._register(r(this.element,e.EventType.DROP,_e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(_e)}))}}e.DragAndDropObserver=me;const Se=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function he(pe,..._e){let ke,Re;Array.isArray(_e[0])?(ke={},Re=_e[0]):(ke=_e[0]||{},Re=_e[1]);const Pe=Se.exec(pe);if(!Pe||!Pe.groups)throw new Error("Bad use of h");const Fe=Pe.groups.tag||"div",We=document.createElement(Fe);Pe.groups.id&&(We.id=Pe.groups.id);const xe=[];if(Pe.groups.class)for(const je of Pe.groups.class.split("."))je!==""&&xe.push(je);if(ke.className!==void 0)for(const je of ke.className.split("."))je!==""&&xe.push(je);xe.length>0&&(We.className=xe.join(" "));const Ke={};if(Pe.groups.name&&(Ke[Pe.groups.name]=We),Re)for(const je of Re)je instanceof HTMLElement?We.appendChild(je):typeof je=="string"?We.append(je):"root"in je&&(Object.assign(Ke,je),We.appendChild(je.root));for(const[je,Je]of Object.entries(ke))if(je!=="className")if(je==="style")for(const[ze,Me]of Object.entries(Je))We.style.setProperty(Ce(ze),typeof Me=="number"?Me+"px":""+Me);else je==="tabIndex"?We.tabIndex=Je:We.setAttribute(Ce(je),Je.toString());return Ke.root=We,Ke}e.h=he;function Ce(pe){return pe.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(J[302],ee([1,0,7]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function k(o,i={}){const t=D(i);return t.textContent=o,t}e.renderText=k;function L(o,i={}){const t=D(i);return m(t,S(o,!!i.renderCodeSegments),i.actionHandler,i.renderCodeSegments),t}e.renderFormattedText=L;function D(o){const i=o.inline?"span":"div",t=document.createElement(i);return o.className&&(t.className=o.className),t}e.createElement=D;class _{constructor(i){this.source=i,this.index=0}eos(){return this.index>=this.source.length}next(){const i=this.peek();return this.advance(),i}peek(){return this.source[this.index]}advance(){this.index++}}function m(o,i,t,n){let r;if(i.type===2)r=document.createTextNode(i.content||"");else if(i.type===3)r=document.createElement("b");else if(i.type===4)r=document.createElement("i");else if(i.type===7&&n)r=document.createElement("code");else if(i.type===5&&t){const l=document.createElement("a");t.disposables.add(y.addStandardDisposableListener(l,"click",h=>{t.callback(String(i.index),h)})),r=l}else i.type===8?r=document.createElement("br"):i.type===1&&(r=o);r&&o!==r&&o.appendChild(r),r&&Array.isArray(i.children)&&i.children.forEach(l=>{m(r,l,t,n)})}function S(o,i){const t={type:1,children:[]};let n=0,r=t;const l=[],h=new _(o);for(;!h.eos();){let s=h.next();const u=s==="\\"&&v(h.peek(),i)!==0;if(u&&(s=h.next()),!u&&f(s,i)&&s===h.peek()){h.advance(),r.type===2&&(r=l.pop());const a=v(s,i);if(r.type===a||r.type===5&&a===6)r=l.pop();else{const d={type:a,children:[]};a===5&&(d.index=n,n++),r.children.push(d),l.push(r),r=d}}else if(s===`
`)r.type===2&&(r=l.pop()),r.children.push({type:8});else if(r.type!==2){const a={type:2,content:s};r.children.push(a),l.push(r),r=a}else r.content+=s}return r.type===2&&(r=l.pop()),l.length,t}function f(o,i){return v(o,i)!==0}function v(o,i){switch(o){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return i?7:0;default:return 0}}}),define(J[154],ee([1,0,7,2]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class L{constructor(){this._hooks=new k.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(_,m){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const S=this._onStopCallback;this._onStopCallback=null,_&&S&&S(m)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(_,m,S,f,v){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=f,this._onStopCallback=v;let o=_;try{_.setPointerCapture(m),this._hooks.add((0,k.toDisposable)(()=>{try{_.releasePointerCapture(m)}catch{}}))}catch{o=window}this._hooks.add(y.addDisposableListener(o,y.EventType.POINTER_MOVE,i=>{if(i.buttons!==S){this.stopMonitoring(!0);return}i.preventDefault(),this._pointerMoveCallback(i)})),this._hooks.add(y.addDisposableListener(o,y.EventType.POINTER_UP,i=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=L}),define(J[62],ee([1,0,7,15,105,2,65]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var m;(function(f){f.Tap="-monaco-gesturetap",f.Change="-monaco-gesturechange",f.Start="-monaco-gesturestart",f.End="-monaco-gesturesend",f.Contextmenu="-monaco-gesturecontextmenu"})(m||(e.EventType=m={}));class S extends D.Disposable{constructor(){super(),this.dispatched=!1,this.targets=new _.LinkedList,this.ignoreTargets=new _.LinkedList,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(y.addDisposableListener(document,"touchstart",v=>this.onTouchStart(v),{passive:!1})),this._register(y.addDisposableListener(document,"touchend",v=>this.onTouchEnd(v))),this._register(y.addDisposableListener(document,"touchmove",v=>this.onTouchMove(v),{passive:!1}))}static addTarget(v){if(!S.isTouchDevice())return D.Disposable.None;S.INSTANCE||(S.INSTANCE=new S);const o=S.INSTANCE.targets.push(v);return(0,D.toDisposable)(o)}static ignoreTarget(v){if(!S.isTouchDevice())return D.Disposable.None;S.INSTANCE||(S.INSTANCE=new S);const o=S.INSTANCE.ignoreTargets.push(v);return(0,D.toDisposable)(o)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(v){const o=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,t=v.targetTouches.length;i<t;i++){const n=v.targetTouches.item(i);this.activeTouches[n.identifier]={id:n.identifier,initialTarget:n.target,initialTimeStamp:o,initialPageX:n.pageX,initialPageY:n.pageY,rollingTimestamps:[o],rollingPageX:[n.pageX],rollingPageY:[n.pageY]};const r=this.newGestureEvent(m.Start,n.target);r.pageX=n.pageX,r.pageY=n.pageY,this.dispatchEvent(r)}this.dispatched&&(v.preventDefault(),v.stopPropagation(),this.dispatched=!1)}onTouchEnd(v){const o=Date.now(),i=Object.keys(this.activeTouches).length;for(let t=0,n=v.changedTouches.length;t<n;t++){const r=v.changedTouches.item(t);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}const l=this.activeTouches[r.identifier],h=Date.now()-l.initialTimeStamp;if(h<S.HOLD_DELAY&&Math.abs(l.initialPageX-k.tail(l.rollingPageX))<30&&Math.abs(l.initialPageY-k.tail(l.rollingPageY))<30){const s=this.newGestureEvent(m.Tap,l.initialTarget);s.pageX=k.tail(l.rollingPageX),s.pageY=k.tail(l.rollingPageY),this.dispatchEvent(s)}else if(h>=S.HOLD_DELAY&&Math.abs(l.initialPageX-k.tail(l.rollingPageX))<30&&Math.abs(l.initialPageY-k.tail(l.rollingPageY))<30){const s=this.newGestureEvent(m.Contextmenu,l.initialTarget);s.pageX=k.tail(l.rollingPageX),s.pageY=k.tail(l.rollingPageY),this.dispatchEvent(s)}else if(i===1){const s=k.tail(l.rollingPageX),u=k.tail(l.rollingPageY),a=k.tail(l.rollingTimestamps)-l.rollingTimestamps[0],d=s-l.rollingPageX[0],c=u-l.rollingPageY[0],b=[...this.targets].filter(g=>l.initialTarget instanceof Node&&g.contains(l.initialTarget));this.inertia(b,o,Math.abs(d)/a,d>0?1:-1,s,Math.abs(c)/a,c>0?1:-1,u)}this.dispatchEvent(this.newGestureEvent(m.End,l.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(v.preventDefault(),v.stopPropagation(),this.dispatched=!1)}newGestureEvent(v,o){const i=document.createEvent("CustomEvent");return i.initEvent(v,!1,!0),i.initialTarget=o,i.tapCount=0,i}dispatchEvent(v){if(v.type===m.Tap){const o=new Date().getTime();let i=0;o-this._lastSetTapCountTime>S.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=o,v.tapCount=i}else(v.type===m.Change||v.type===m.Contextmenu)&&(this._lastSetTapCountTime=0);if(v.initialTarget instanceof Node){for(const o of this.ignoreTargets)if(o.contains(v.initialTarget))return;for(const o of this.targets)o.contains(v.initialTarget)&&(o.dispatchEvent(v),this.dispatched=!0)}}inertia(v,o,i,t,n,r,l,h){this.handle=y.scheduleAtNextAnimationFrame(()=>{const s=Date.now(),u=s-o;let a=0,d=0,c=!0;i+=S.SCROLL_FRICTION*u,r+=S.SCROLL_FRICTION*u,i>0&&(c=!1,a=t*i*u),r>0&&(c=!1,d=l*r*u);const b=this.newGestureEvent(m.Change);b.translationX=a,b.translationY=d,v.forEach(g=>g.dispatchEvent(b)),c||this.inertia(v,s,i,t,n+a,r,l,h+d)})}onTouchMove(v){const o=Date.now();for(let i=0,t=v.changedTouches.length;i<t;i++){const n=v.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("end of an UNKNOWN touch",n);continue}const r=this.activeTouches[n.identifier],l=this.newGestureEvent(m.Change,r.initialTarget);l.translationX=n.pageX-k.tail(r.rollingPageX),l.translationY=n.pageY-k.tail(r.rollingPageY),l.pageX=n.pageX,l.pageY=n.pageY,this.dispatchEvent(l),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(n.pageX),r.rollingPageY.push(n.pageY),r.rollingTimestamps.push(o)}this.dispatched&&(v.preventDefault(),v.stopPropagation(),this.dispatched=!1)}}e.Gesture=S,S.SCROLL_FRICTION=-.005,S.HOLD_DELAY=700,S.CLEAR_TAP_COUNT_TIME=400,Ne([L.memoize],S,"isTouchDevice",null)}),define(J[48],ee([1,0,7,388]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const k=2e4;let L,D,_,m,S;function f(t){L=document.createElement("div"),L.className="monaco-aria-container";const n=()=>{const l=document.createElement("div");return l.className="monaco-alert",l.setAttribute("role","alert"),l.setAttribute("aria-atomic","true"),L.appendChild(l),l};D=n(),_=n();const r=()=>{const l=document.createElement("div");return l.className="monaco-status",l.setAttribute("aria-live","polite"),l.setAttribute("aria-atomic","true"),L.appendChild(l),l};m=r(),S=r(),t.appendChild(L)}e.setARIAContainer=f;function v(t){L&&(D.textContent!==t?(y.clearNode(_),i(D,t)):(y.clearNode(D),i(_,t)))}e.alert=v;function o(t){L&&(m.textContent!==t?(y.clearNode(S),i(m,t)):(y.clearNode(m),i(S,t)))}e.status=o;function i(t,n){y.clearNode(t),n.length>k&&(n=n.substr(0,k)),t.textContent=n,t.style.visibility="hidden",t.style.visibility="visible"}}),define(J[303],ee([1,0,219,7,2,17,168,392]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=e.isAnchor=void 0;function m(i){const t=i;return!!t&&typeof t.x=="number"&&typeof t.y=="number"}e.isAnchor=m;var S;(function(i){i[i.AVOID=0]="AVOID",i[i.ALIGN=1]="ALIGN"})(S||(e.LayoutAnchorMode=S={}));function f(i,t,n){const r=n.mode===S.ALIGN?n.offset:n.offset+n.size,l=n.mode===S.ALIGN?n.offset+n.size:n.offset;return n.position===0?t<=i-r?r:t<=l?l-t:Math.max(i-t,0):t<=l?l-t:t<=i-r?r:0}e.layout=f;class v extends L.Disposable{constructor(t,n){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=L.Disposable.None,this.toDisposeOnSetContainer=L.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=k.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,k.hide(this.view),this.setContainer(t,n),this._register((0,L.toDisposable)(()=>this.setContainer(null,1)))}setContainer(t,n){var r;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(r=this.shadowRootHostElement)===null||r===void 0||r.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t){if(this.container=t,this.useFixedPosition=n!==1,this.useShadowDOM=n===3,this.useShadowDOM){this.shadowRootHostElement=k.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const h=document.createElement("style");h.textContent=o,this.shadowRoot.appendChild(h),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(k.$("slot"))}else this.container.appendChild(this.view);const l=new L.DisposableStore;v.BUBBLE_UP_EVENTS.forEach(h=>{l.add(k.addStandardDisposableListener(this.container,h,s=>{this.onDOMEvent(s,!1)}))}),v.BUBBLE_DOWN_EVENTS.forEach(h=>{l.add(k.addStandardDisposableListener(this.container,h,s=>{this.onDOMEvent(s,!0)},!0))}),this.toDisposeOnSetContainer=l}}show(t){var n,r;this.isVisible()&&this.hide(),k.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",k.show(this.view),this.toDisposeOnClean=t.render(this.view)||L.Disposable.None,this.delegate=t,this.doLayout(),(r=(n=this.delegate).focus)===null||r===void 0||r.call(n)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(D.isIOS&&y.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const t=this.delegate.getAnchor();let n;if(k.isHTMLElement(t)){const b=k.getDomNodePagePosition(t),g=k.getDomNodeZoomLevel(t);n={top:b.top*g,left:b.left*g,width:b.width*g,height:b.height*g}}else m(t)?n={top:t.y,left:t.x,width:t.width||1,height:t.height||2}:n={top:t.posy,left:t.posx,width:2,height:2};const r=k.getTotalWidth(this.view),l=k.getTotalHeight(this.view),h=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0,u=this.delegate.anchorAxisAlignment||0;let a,d;if(u===0){const b={offset:n.top-window.pageYOffset,size:n.height,position:h===0?0:1},g={offset:n.left,size:n.width,position:s===0?0:1,mode:S.ALIGN};a=f(window.innerHeight,l,b)+window.pageYOffset,_.Range.intersects({start:a,end:a+l},{start:b.offset,end:b.offset+b.size})&&(g.mode=S.AVOID),d=f(window.innerWidth,r,g)}else{const b={offset:n.left,size:n.width,position:s===0?0:1},g={offset:n.top,size:n.height,position:h===0?0:1,mode:S.ALIGN};d=f(window.innerWidth,r,b),_.Range.intersects({start:d,end:d+r},{start:b.offset,end:b.offset+b.size})&&(g.mode=S.AVOID),a=f(window.innerHeight,l,g)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(h===0?"bottom":"top"),this.view.classList.add(s===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const c=k.getDomNodePagePosition(this.container);this.view.style.top=`${a-(this.useFixedPosition?k.getDomNodePagePosition(this.view).top:c.top)}px`,this.view.style.left=`${d-(this.useFixedPosition?k.getDomNodePagePosition(this.view).left:c.left)}px`,this.view.style.width="initial"}hide(t){const n=this.delegate;this.delegate=null,n?.onHide&&n.onHide(t),this.toDisposeOnClean.dispose(),k.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,n){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):n&&!k.isAncestor(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=v,v.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],v.BUBBLE_DOWN_EVENTS=["click"];const o=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(J[304],ee([1,0,7,9,393]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;class L{constructor(_,m,S){this.options=m,this.styles=S,this.count=0,this.element=(0,y.append)(_,(0,y.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(_){this.count=_,this.render()}setTitleFormat(_){this.titleFormat=_,this.render()}render(){var _,m;this.element.textContent=(0,k.format)(this.countFormat,this.count),this.element.title=(0,k.format)(this.titleFormat,this.count),this.element.style.backgroundColor=(_=this.styles.badgeBackground)!==null&&_!==void 0?_:"",this.element.style.color=(m=this.styles.badgeForeground)!==null&&m!==void 0?m:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}e.CountBadge=L}),define(J[566],ee([1,0,7,45,62,40,6,265]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=void 0;class m extends D.ActionRunner{constructor(v,o){super(),this._onDidChangeVisibility=this._register(new _.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,y.append)(v,(0,y.$)(".monaco-dropdown")),this._label=(0,y.append)(this._element,(0,y.$)(".dropdown-label"));let i=o.labelRenderer;i||(i=n=>(n.textContent=o.label||"",null));for(const n of[y.EventType.CLICK,y.EventType.MOUSE_DOWN,L.EventType.Tap])this._register((0,y.addDisposableListener)(this.element,n,r=>y.EventHelper.stop(r,!0)));for(const n of[y.EventType.MOUSE_DOWN,L.EventType.Tap])this._register((0,y.addDisposableListener)(this._label,n,r=>{r instanceof MouseEvent&&(r.detail>1||r.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,y.addDisposableListener)(this._label,y.EventType.KEY_UP,n=>{const r=new k.StandardKeyboardEvent(n);(r.equals(3)||r.equals(10))&&(y.EventHelper.stop(n,!0),this.visible?this.hide():this.show())}));const t=i(this._label);t&&this._register(t),this._register(L.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class S extends m{constructor(v,o){super(v,o),this._options=o,this._actions=[],this.actions=o.actions||[]}set menuOptions(v){this._menuOptions=v}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(v){this._actions=v}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(v,o)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(v,o):void 0,getKeyBinding:v=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(v):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=S}),define(J[131],ee([1,0,7,27]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const L=new RegExp(`(\\\\)?\\$\\((${k.ThemeIcon.iconNameExpression}(?:${k.ThemeIcon.iconModifierExpression})?)\\)`,"g");function D(m){const S=new Array;let f,v=0,o=0;for(;(f=L.exec(m))!==null;){o=f.index||0,v<o&&S.push(m.substring(v,o)),v=(f.index||0)+f[0].length;const[,i,t]=f;S.push(i?`$(${t})`:_({id:t}))}return v<m.length&&S.push(m.substring(v)),S}e.renderLabelWithIcons=D;function _(m){const S=y.$("span");return S.classList.add(...k.ThemeIcon.asClassNameArray(m)),S}e.renderIcon=_}),define(J[305],ee([1,0,7,131,46]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class D{constructor(m,S){var f;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(f=S?.supportIcons)!==null&&f!==void 0?f:!1,this.domNode=y.append(m,y.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(m,S=[],f="",v){m||(m=""),v&&(m=D.escapeNewLines(m,S)),!(this.didEverRender&&this.text===m&&this.title===f&&L.equals(this.highlights,S))&&(this.text=m,this.title=f,this.highlights=S,this.render())}render(){const m=[];let S=0;for(const f of this.highlights){if(f.end===f.start)continue;if(S<f.start){const i=this.text.substring(S,f.start);this.supportIcons?m.push(...(0,k.renderLabelWithIcons)(i)):m.push(i),S=f.start}const v=this.text.substring(S,f.end),o=y.$("span.highlight",void 0,...this.supportIcons?(0,k.renderLabelWithIcons)(v):[v]);f.extraClasses&&o.classList.add(...f.extraClasses),m.push(o),S=f.end}if(S<this.text.length){const f=this.text.substring(S);this.supportIcons?m.push(...(0,k.renderLabelWithIcons)(f)):m.push(f)}y.reset(this.domNode,...m),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(m,S){let f=0,v=0;return m.replace(/\r\n|\r|\n/g,(o,i)=>{v=o===`\r
`?-1:0,i+=f;for(const t of S)t.end<=i||(t.start>=i&&(t.start+=v),t.end>=i&&(t.end+=v));return f+=v,"\u23CE"})}}e.HighlightedLabel=D}),define(J[224],ee([1,0,7,218,46,552,397]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=e.unthemedKeybindingLabelOptions=void 0;const _=y.$;e.unthemedKeybindingLabelOptions={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class m{constructor(f,v,o){this.os=v,this.keyElements=new Set,this.options=o||Object.create(null);const i=this.options.keybindingLabelForeground;this.domNode=y.append(f,_(".monaco-keybinding")),i&&(this.domNode.style.color=i),this.didEverRender=!1,f.appendChild(this.domNode)}get element(){return this.domNode}set(f,v){this.didEverRender&&this.keybinding===f&&m.areSame(this.matches,v)||(this.keybinding=f,this.matches=v,this.render())}render(){var f;if(this.clear(),this.keybinding){const v=this.keybinding.getChords();v[0]&&this.renderChord(this.domNode,v[0],this.matches?this.matches.firstPart:null);for(let i=1;i<v.length;i++)y.append(this.domNode,_("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,v[i],this.matches?this.matches.chordPart:null);const o=(f=this.options.disableTitle)!==null&&f!==void 0&&f?void 0:this.keybinding.getAriaLabel()||void 0;o!==void 0?this.domNode.title=o:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){y.clearNode(this.domNode),this.keyElements.clear()}renderChord(f,v,o){const i=k.UILabelProvider.modifierLabels[this.os];v.ctrlKey&&this.renderKey(f,i.ctrlKey,!!o?.ctrlKey,i.separator),v.shiftKey&&this.renderKey(f,i.shiftKey,!!o?.shiftKey,i.separator),v.altKey&&this.renderKey(f,i.altKey,!!o?.altKey,i.separator),v.metaKey&&this.renderKey(f,i.metaKey,!!o?.metaKey,i.separator);const t=v.keyLabel;t&&this.renderKey(f,t,!!o?.keyCode,"")}renderKey(f,v,o,i){y.append(f,this.createKeyElement(v,o?".highlight":"")),i&&y.append(f,_("span.monaco-keybinding-key-separator",void 0,i))}renderUnbound(f){y.append(f,this.createKeyElement((0,D.localize)(0,null)))}createKeyElement(f,v=""){const o=_("span.monaco-keybinding-key"+v,void 0,f);return this.keyElements.add(o),this.options.keybindingLabelBackground&&(o.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(o.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(o.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(o.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),o}static areSame(f,v){return f===v||!f&&!v?!0:!!f&&!!v&&(0,L.equals)(f.firstPart,v.firstPart)&&(0,L.equals)(f.chordPart,v.chordPart)}}e.KeybindingLabel=m}),define(J[567],ee([1,0,7]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function k(D){var _;try{(_=D.parentElement)===null||_===void 0||_.removeChild(D)}catch{}}class L{constructor(_){this.renderers=_,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(_){let m=this.getTemplateCache(_).pop(),S=!1;if(m)S=this.transactionNodesPendingRemoval.has(m.domNode),S&&this.transactionNodesPendingRemoval.delete(m.domNode);else{const f=(0,y.$)(".monaco-list-row"),o=this.getRenderer(_).renderTemplate(f);m={domNode:f,templateId:_,templateData:o}}return{row:m,isReusingConnectedDomNode:S}}release(_){_&&this.releaseRow(_)}transact(_){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{_()}finally{for(const m of this.transactionNodesPendingRemoval)this.doRemoveNode(m);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(_){const{domNode:m,templateId:S}=_;m&&(this.inTransaction?this.transactionNodesPendingRemoval.add(m):this.doRemoveNode(m)),this.getTemplateCache(S).push(_)}doRemoveNode(_){_.classList.remove("scrolling"),k(_)}getTemplateCache(_){let m=this.cache.get(_);return m||(m=[],this.cache.set(_,m)),m}dispose(){this.cache.forEach((_,m)=>{for(const S of _)this.getRenderer(m).disposeTemplate(S.templateData),S.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(_){const m=this.renderers.get(_);if(!m)throw new Error(`No renderer found for ${_}`);return m}}e.RowCache=L}),define(J[568],ee([1,0,7,13,2,399]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const D="done",_="active",m="infinite",S="infinite-long-running",f="discrete";class v extends L.Disposable{constructor(i,t){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new k.RunOnceScheduler(()=>(0,y.show)(this.element),0)),this.longRunningScheduler=this._register(new k.RunOnceScheduler(()=>this.infiniteLongRunning(),v.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(i,t)}create(i,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),i.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=t?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(_,m,S,f),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(i){return this.element.classList.add(D),this.element.classList.contains(m)?(this.bit.style.opacity="0",i?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",i?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(f,D,S),this.element.classList.add(_,m),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(S)}getContainer(){return this.element}}e.ProgressBar=v,v.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(J[132],ee([1,0,7,80,62,13,105,6,2,17,400]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const v=!1;var o;(function(d){d.North="north",d.South="south",d.East="east",d.West="west"})(o||(e.OrthogonalEdge=o={}));let i=4;const t=new m.Emitter;let n=300;const r=new m.Emitter;class l{constructor(){this.disposables=new S.DisposableStore}get onPointerMove(){return this.disposables.add(new k.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Ne([_.memoize],l.prototype,"onPointerMove",null),Ne([_.memoize],l.prototype,"onPointerUp",null);class h{get onPointerMove(){return this.disposables.add(new k.DomEmitter(this.el,L.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(this.el,L.EventType.End)).event}constructor(c){this.el=c,this.disposables=new S.DisposableStore}dispose(){this.disposables.dispose()}}Ne([_.memoize],h.prototype,"onPointerMove",null),Ne([_.memoize],h.prototype,"onPointerUp",null);class s{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(c){this.factory=c}dispose(){}}Ne([_.memoize],s.prototype,"onPointerMove",null),Ne([_.memoize],s.prototype,"onPointerUp",null);const u="pointer-events-disabled";class a extends S.Disposable{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(c){this._state!==c&&(this.el.classList.toggle("disabled",c===0),this.el.classList.toggle("minimum",c===1),this.el.classList.toggle("maximum",c===2),this._state=c,this.onDidEnablementChange.fire(c))}set orthogonalStartSash(c){if(this._orthogonalStartSash!==c){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),c){const b=g=>{this.orthogonalStartDragHandleDisposables.clear(),g!==0&&(this._orthogonalStartDragHandle=(0,y.append)(this.el,(0,y.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,S.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>a.onMouseEnter(c),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>a.onMouseLeave(c),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(c.onDidEnablementChange.event(b,this)),b(c.state)}this._orthogonalStartSash=c}}set orthogonalEndSash(c){if(this._orthogonalEndSash!==c){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),c){const b=g=>{this.orthogonalEndDragHandleDisposables.clear(),g!==0&&(this._orthogonalEndDragHandle=(0,y.append)(this.el,(0,y.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,S.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>a.onMouseEnter(c),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>a.onMouseLeave(c),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(c.onDidEnablementChange.event(b,this)),b(c.state)}this._orthogonalEndSash=c}}constructor(c,b,g){super(),this.hoverDelay=n,this.hoverDelayer=this._register(new D.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new m.Emitter),this._onDidStart=this._register(new m.Emitter),this._onDidChange=this._register(new m.Emitter),this._onDidReset=this._register(new m.Emitter),this._onDidEnd=this._register(new m.Emitter),this.orthogonalStartSashDisposables=this._register(new S.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new S.DisposableStore),this.orthogonalEndSashDisposables=this._register(new S.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new S.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,y.append)(c,(0,y.$)(".monaco-sash")),g.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${g.orthogonalEdge}`),f.isMacintosh&&this.el.classList.add("mac");const p=this._register(new k.DomEmitter(this.el,"mousedown")).event;this._register(p(A=>this.onPointerStart(A,new l),this));const C=this._register(new k.DomEmitter(this.el,"dblclick")).event;this._register(C(this.onPointerDoublePress,this));const w=this._register(new k.DomEmitter(this.el,"mouseenter")).event;this._register(w(()=>a.onMouseEnter(this)));const E=this._register(new k.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>a.onMouseLeave(this))),this._register(L.Gesture.addTarget(this.el));const I=this._register(new k.DomEmitter(this.el,L.EventType.Start)).event;this._register(I(A=>this.onPointerStart(A,new h(this.el)),this));const T=this._register(new k.DomEmitter(this.el,L.EventType.Tap)).event;let P;this._register(T(A=>{if(P){clearTimeout(P),P=void 0,this.onPointerDoublePress(A);return}clearTimeout(P),P=setTimeout(()=>P=void 0,250)},this)),typeof g.size=="number"?(this.size=g.size,g.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=i,this._register(t.event(A=>{this.size=A,this.layout()}))),this._register(r.event(A=>this.hoverDelay=A)),this.layoutProvider=b,this.orthogonalStartSash=g.orthogonalStartSash,this.orthogonalEndSash=g.orthogonalEndSash,this.orientation=g.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",v),this.layout()}onPointerStart(c,b){y.EventHelper.stop(c);let g=!1;if(!c.__orthogonalSashEvent){const O=this.getOrthogonalSash(c);O&&(g=!0,c.__orthogonalSashEvent=!0,O.onPointerStart(c,new s(b)))}if(this.linkedSash&&!c.__linkedSashEvent&&(c.__linkedSashEvent=!0,this.linkedSash.onPointerStart(c,new s(b))),!this.state)return;const p=document.getElementsByTagName("iframe");for(const O of p)O.classList.add(u);const C=c.pageX,w=c.pageY,E=c.altKey,I={startX:C,currentX:C,startY:w,currentY:w,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(I);const T=(0,y.createStyleSheet)(this.el),P=()=>{let O="";g?O="all-scroll":this.orientation===1?this.state===1?O="s-resize":this.state===2?O="n-resize":O=f.isMacintosh?"row-resize":"ns-resize":this.state===1?O="e-resize":this.state===2?O="w-resize":O=f.isMacintosh?"col-resize":"ew-resize",T.textContent=`* { cursor: ${O} !important; }`},A=new S.DisposableStore;P(),g||this.onDidEnablementChange.event(P,null,A);const M=O=>{y.EventHelper.stop(O,!1);const x={startX:C,currentX:O.pageX,startY:w,currentY:O.pageY,altKey:E};this._onDidChange.fire(x)},N=O=>{y.EventHelper.stop(O,!1),this.el.removeChild(T),this.el.classList.remove("active"),this._onDidEnd.fire(),A.dispose();for(const x of p)x.classList.remove(u)};b.onPointerMove(M,null,A),b.onPointerUp(N,null,A),A.add(b)}onPointerDoublePress(c){const b=this.getOrthogonalSash(c);b&&b._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(c,b=!1){c.el.classList.contains("active")?(c.hoverDelayer.cancel(),c.el.classList.add("hover")):c.hoverDelayer.trigger(()=>c.el.classList.add("hover"),c.hoverDelay).then(void 0,()=>{}),!b&&c.linkedSash&&a.onMouseEnter(c.linkedSash,!0)}static onMouseLeave(c,b=!1){c.hoverDelayer.cancel(),c.el.classList.remove("hover"),!b&&c.linkedSash&&a.onMouseLeave(c.linkedSash,!0)}clearSashHoverState(){a.onMouseLeave(this)}layout(){if(this.orientation===0){const c=this.layoutProvider;this.el.style.left=c.getVerticalSashLeft(this)-this.size/2+"px",c.getVerticalSashTop&&(this.el.style.top=c.getVerticalSashTop(this)+"px"),c.getVerticalSashHeight&&(this.el.style.height=c.getVerticalSashHeight(this)+"px")}else{const c=this.layoutProvider;this.el.style.top=c.getHorizontalSashTop(this)-this.size/2+"px",c.getHorizontalSashLeft&&(this.el.style.left=c.getHorizontalSashLeft(this)+"px"),c.getHorizontalSashWidth&&(this.el.style.width=c.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(c){var b;const g=(b=c.initialTarget)!==null&&b!==void 0?b:c.target;if(!(!g||!(g instanceof HTMLElement))&&g.classList.contains("orthogonal-drag-handle"))return g.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=a}),define(J[225],ee([1,0,7,132,6,2]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class _{constructor(){this._onDidWillResize=new L.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new L.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new D.DisposableStore,this._size=new y.Dimension(0,0),this._minSize=new y.Dimension(0,0),this._maxSize=new y.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:k.OrthogonalEdge.North}),this._southSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:k.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let S,f=0,v=0;this._sashListener.add(L.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{S===void 0&&(this._onDidWillResize.fire(),S=this._size,f=0,v=0)})),this._sashListener.add(L.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{S!==void 0&&(S=void 0,f=0,v=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(o=>{S&&(v=o.currentX-o.startX,this.layout(S.height+f,S.width+v),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(o=>{S&&(v=-(o.currentX-o.startX),this.layout(S.height+f,S.width+v),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(o=>{S&&(f=-(o.currentY-o.startY),this.layout(S.height+f,S.width+v),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(o=>{S&&(f=o.currentY-o.startY,this.layout(S.height+f,S.width+v),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(L.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(L.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(S,f,v,o){this._northSash.state=S?3:0,this._eastSash.state=f?3:0,this._southSash.state=v?3:0,this._westSash.state=o?3:0}layout(S=this.size.height,f=this.size.width){const{height:v,width:o}=this._minSize,{height:i,width:t}=this._maxSize;S=Math.max(v,Math.min(i,S)),f=Math.max(o,Math.min(t,f));const n=new y.Dimension(f,S);y.Dimension.equals(n,this._size)||(this.domNode.style.height=S+"px",this.domNode.style.width=f+"px",this._size=n,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(S){this._maxSize=S}get maxSize(){return this._maxSize}set minSize(S){this._minSize=S}get minSize(){return this._minSize}set preferredSize(S){this._preferredSize=S}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=_}),define(J[569],ee([1,0,7,62,15,6,2,17]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class S extends _.Disposable{constructor(v,o,i,t){super(),this.selected=0,this.selectBoxOptions=t||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new D.Emitter),this.styles=i,this.registerListeners(),this.setOptions(v,o)}registerListeners(){this._register(k.Gesture.addTarget(this.selectElement)),[k.EventType.Tap].forEach(v=>{this._register(y.addDisposableListener(this.selectElement,v,o=>{this.selectElement.focus()}))}),this._register(y.addStandardDisposableListener(this.selectElement,"click",v=>{y.EventHelper.stop(v,!0)})),this._register(y.addStandardDisposableListener(this.selectElement,"change",v=>{this.selectElement.title=v.target.value,this._onDidSelect.fire({index:v.target.selectedIndex,selected:v.target.value})})),this._register(y.addStandardDisposableListener(this.selectElement,"keydown",v=>{let o=!1;m.isMacintosh?(v.keyCode===18||v.keyCode===16||v.keyCode===10)&&(o=!0):(v.keyCode===18&&v.altKey||v.keyCode===10||v.keyCode===3)&&(o=!0),o&&v.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(v,o){(!this.options||!L.equals(this.options,v))&&(this.options=v,this.selectElement.options.length=0,this.options.forEach((i,t)=>{this.selectElement.add(this.createOption(i.text,t,i.isDisabled))})),o!==void 0&&this.select(o)}select(v){this.options.length===0?this.selected=0:v>=0&&v<this.options.length?this.selected=v:v>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(v){this.selectElement.tabIndex=v?0:-1}render(v){v.classList.add("select-container"),v.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var v,o,i;this.selectElement&&(this.selectElement.style.backgroundColor=(v=this.styles.selectBackground)!==null&&v!==void 0?v:"",this.selectElement.style.color=(o=this.styles.selectForeground)!==null&&o!==void 0?o:"",this.selectElement.style.borderColor=(i=this.styles.selectBorder)!==null&&i!==void 0?i:"")}createOption(v,o,i){const t=document.createElement("option");return t.value=v,t.text=v,t.disabled=!!i,t}}e.SelectBoxNative=S}),define(J[82],ee([1,0,7,45,58,62,2]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class m extends _.Disposable{onclick(f,v){this._register(y.addDisposableListener(f,y.EventType.CLICK,o=>v(new L.StandardMouseEvent(o))))}onmousedown(f,v){this._register(y.addDisposableListener(f,y.EventType.MOUSE_DOWN,o=>v(new L.StandardMouseEvent(o))))}onmouseover(f,v){this._register(y.addDisposableListener(f,y.EventType.MOUSE_OVER,o=>v(new L.StandardMouseEvent(o))))}onmouseleave(f,v){this._register(y.addDisposableListener(f,y.EventType.MOUSE_LEAVE,o=>v(new L.StandardMouseEvent(o))))}onkeydown(f,v){this._register(y.addDisposableListener(f,y.EventType.KEY_DOWN,o=>v(new k.StandardKeyboardEvent(o))))}onkeyup(f,v){this._register(y.addDisposableListener(f,y.EventType.KEY_UP,o=>v(new k.StandardKeyboardEvent(o))))}oninput(f,v){this._register(y.addDisposableListener(f,y.EventType.INPUT,v))}onblur(f,v){this._register(y.addDisposableListener(f,y.EventType.BLUR,v))}onfocus(f,v){this._register(y.addDisposableListener(f,y.EventType.FOCUS,v))}ignoreGesture(f){return D.Gesture.ignoreTarget(f)}}e.Widget=m}),define(J[226],ee([1,0,154,82,13,27,7]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class m extends k.Widget{constructor(f){super(),this._onActivate=f.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=f.bgWidth+"px",this.bgDomNode.style.height=f.bgHeight+"px",typeof f.top<"u"&&(this.bgDomNode.style.top="0px"),typeof f.left<"u"&&(this.bgDomNode.style.left="0px"),typeof f.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof f.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=f.className,this.domNode.classList.add(...D.ThemeIcon.asClassNameArray(f.icon)),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof f.top<"u"&&(this.domNode.style.top=f.top+"px"),typeof f.left<"u"&&(this.domNode.style.left=f.left+"px"),typeof f.bottom<"u"&&(this.domNode.style.bottom=f.bottom+"px"),typeof f.right<"u"&&(this.domNode.style.right=f.right+"px"),this._pointerMoveMonitor=this._register(new y.GlobalPointerMoveMonitor),this._register(_.addStandardDisposableListener(this.bgDomNode,_.EventType.POINTER_DOWN,v=>this._arrowPointerDown(v))),this._register(_.addStandardDisposableListener(this.domNode,_.EventType.POINTER_DOWN,v=>this._arrowPointerDown(v))),this._pointerdownRepeatTimer=this._register(new L.IntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new L.TimeoutTimer)}_arrowPointerDown(f){if(!f.target||!(f.target instanceof Element))return;const v=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(v,200),this._pointerMoveMonitor.startMonitoring(f.target,f.pointerId,f.buttons,o=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),f.preventDefault()}}e.ScrollbarArrow=m}),define(J[306],ee([1,0,7,35,154,226,561,82,17]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const f=140;class v extends m.Widget{constructor(i){super(),this._lazyRender=i.lazyRender,this._host=i.host,this._scrollable=i.scrollable,this._scrollByPage=i.scrollByPage,this._scrollbarState=i.scrollbarState,this._visibilityController=this._register(new _.ScrollbarVisibilityController(i.visibility,"visible scrollbar "+i.extraScrollbarClassName,"invisible scrollbar "+i.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new L.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(y.addDisposableListener(this.domNode.domNode,y.EventType.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(i){const t=this._register(new D.ScrollbarArrow(i));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(i,t,n,r){this.slider=(0,k.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(i),this.slider.setLeft(t),typeof n=="number"&&this.slider.setWidth(n),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(y.addDisposableListener(this.slider.domNode,y.EventType.POINTER_DOWN,l=>{l.button===0&&(l.preventDefault(),this._sliderPointerDown(l))})),this.onclick(this.slider.domNode,l=>{l.leftButton&&l.stopPropagation()})}_onElementSize(i){return this._scrollbarState.setVisibleSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(i){return this._scrollbarState.setScrollSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(i){return this._scrollbarState.setScrollPosition(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(i){i.target===this.domNode.domNode&&this._onPointerDown(i)}delegatePointerDown(i){const t=this.domNode.domNode.getClientRects()[0].top,n=t+this._scrollbarState.getSliderPosition(),r=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),l=this._sliderPointerPosition(i);n<=l&&l<=r?i.button===0&&(i.preventDefault(),this._sliderPointerDown(i)):this._onPointerDown(i)}_onPointerDown(i){let t,n;if(i.target===this.domNode.domNode&&typeof i.offsetX=="number"&&typeof i.offsetY=="number")t=i.offsetX,n=i.offsetY;else{const l=y.getDomNodePagePosition(this.domNode.domNode);t=i.pageX-l.left,n=i.pageY-l.top}const r=this._pointerDownRelativePosition(t,n);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(r):this._scrollbarState.getDesiredScrollPositionFromOffset(r)),i.button===0&&(i.preventDefault(),this._sliderPointerDown(i))}_sliderPointerDown(i){if(!i.target||!(i.target instanceof Element))return;const t=this._sliderPointerPosition(i),n=this._sliderOrthogonalPointerPosition(i),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(i.target,i.pointerId,i.buttons,l=>{const h=this._sliderOrthogonalPointerPosition(l),s=Math.abs(h-n);if(S.isWindows&&s>f){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const a=this._sliderPointerPosition(l)-t;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(a))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(i){const t={};this.writeScrollPosition(t,i),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(i){this._updateScrollbarSize(i),this._scrollbarState.setScrollbarSize(i),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=v}),define(J[570],ee([1,0,58,306,226,197,26]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class m extends k.AbstractScrollbar{constructor(f,v,o){const i=f.getScrollDimensions(),t=f.getCurrentScrollPosition();if(super({lazyRender:v.lazyRender,host:o,scrollbarState:new D.ScrollbarState(v.horizontalHasArrows?v.arrowSize:0,v.horizontal===2?0:v.horizontalScrollbarSize,v.vertical===2?0:v.verticalScrollbarSize,i.width,i.scrollWidth,t.scrollLeft),visibility:v.horizontal,extraScrollbarClassName:"horizontal",scrollable:f,scrollByPage:v.scrollByPage}),v.horizontalHasArrows){const n=(v.arrowSize-L.ARROW_IMG_SIZE)/2,r=(v.horizontalScrollbarSize-L.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:_.Codicon.scrollbarButtonLeft,top:r,left:n,bottom:void 0,right:void 0,bgWidth:v.arrowSize,bgHeight:v.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:_.Codicon.scrollbarButtonRight,top:r,left:void 0,bottom:void 0,right:n,bgWidth:v.arrowSize,bgHeight:v.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((v.horizontalScrollbarSize-v.horizontalSliderSize)/2),0,void 0,v.horizontalSliderSize)}_updateSlider(f,v){this.slider.setWidth(f),this.slider.setLeft(v)}_renderDomNode(f,v){this.domNode.setWidth(f),this.domNode.setHeight(v),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(f){return this._shouldRender=this._onElementScrollSize(f.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(f.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(f.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(f,v){return f}_sliderPointerPosition(f){return f.pageX}_sliderOrthogonalPointerPosition(f){return f.pageY}_updateScrollbarSize(f){this.slider.setHeight(f)}writeScrollPosition(f,v){f.scrollLeft=v}updateOptions(f){this.updateScrollbarSize(f.horizontal===2?0:f.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(f.vertical===2?0:f.verticalScrollbarSize),this._visibilityController.setVisibility(f.horizontal),this._scrollByPage=f.scrollByPage}}e.HorizontalScrollbar=m}),define(J[571],ee([1,0,58,306,226,197,26]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class m extends k.AbstractScrollbar{constructor(f,v,o){const i=f.getScrollDimensions(),t=f.getCurrentScrollPosition();if(super({lazyRender:v.lazyRender,host:o,scrollbarState:new D.ScrollbarState(v.verticalHasArrows?v.arrowSize:0,v.vertical===2?0:v.verticalScrollbarSize,0,i.height,i.scrollHeight,t.scrollTop),visibility:v.vertical,extraScrollbarClassName:"vertical",scrollable:f,scrollByPage:v.scrollByPage}),v.verticalHasArrows){const n=(v.arrowSize-L.ARROW_IMG_SIZE)/2,r=(v.verticalScrollbarSize-L.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:_.Codicon.scrollbarButtonUp,top:n,left:r,bottom:void 0,right:void 0,bgWidth:v.verticalScrollbarSize,bgHeight:v.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:_.Codicon.scrollbarButtonDown,top:void 0,left:r,bottom:n,right:void 0,bgWidth:v.verticalScrollbarSize,bgHeight:v.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((v.verticalScrollbarSize-v.verticalSliderSize)/2),v.verticalSliderSize,void 0)}_updateSlider(f,v){this.slider.setHeight(f),this.slider.setTop(v)}_renderDomNode(f,v){this.domNode.setWidth(v),this.domNode.setHeight(f),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(f){return this._shouldRender=this._onElementScrollSize(f.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(f.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(f.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(f,v){return v}_sliderPointerPosition(f){return f.pageY}_sliderOrthogonalPointerPosition(f){return f.pageX}_updateScrollbarSize(f){this.slider.setWidth(f)}writeScrollPosition(f,v){f.scrollTop=v}updateOptions(f){this.updateScrollbarSize(f.vertical===2?0:f.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(f.vertical),this._scrollByPage=f.scrollByPage}}e.VerticalScrollbar=m}),define(J[74],ee([1,0,52,7,35,58,570,571,82,13,6,2,17,169,401]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const n=500,r=50,l=!0;class h{constructor(p,C,w){this.timestamp=p,this.deltaX=C,this.deltaY=w,this.score=0}}class s{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let p=1,C=0,w=1,E=this._rear;do{const I=E===this._front?p:Math.pow(2,-w);if(p-=I,C+=this._memory[E].score*I,E===this._front)break;E=(this._capacity+E-1)%this._capacity,w++}while(!0);return C<=.5}acceptStandardWheelEvent(p){const C=window.devicePixelRatio/(0,y.getZoomFactor)();i.isWindows||i.isLinux?this.accept(Date.now(),p.deltaX/C,p.deltaY/C):this.accept(Date.now(),p.deltaX,p.deltaY)}accept(p,C,w){const E=new h(p,C,w);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(p){if(Math.abs(p.deltaX)>0&&Math.abs(p.deltaY)>0)return 1;let C=.5;const w=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(p.deltaX)||!this._isAlmostInt(p.deltaY))&&(C+=.25),Math.min(Math.max(C,0),1)}_isAlmostInt(p){return Math.abs(Math.round(p)-p)<.01}}e.MouseWheelClassifier=s,s.INSTANCE=new s;class u extends S.Widget{get options(){return this._options}constructor(p,C,w){super(),this._onScroll=this._register(new v.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new v.Emitter),p.style.overflow="hidden",this._options=b(C),this._scrollable=w,this._register(this._scrollable.onScroll(I=>{this._onWillScroll.fire(I),this._onDidScroll(I),this._onScroll.fire(I)}));const E={onMouseWheel:I=>this._onMouseWheel(I),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new m.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new _.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(p),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,L.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,L.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,L.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,I=>this._onMouseOver(I)),this.onmouseleave(this._listenOnDomNode,I=>this._onMouseLeave(I)),this._hideTimeout=this._register(new f.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,o.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(p){this._verticalScrollbar.delegatePointerDown(p)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(p){this._scrollable.setScrollDimensions(p,!1)}updateClassName(p){this._options.className=p,i.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(p){typeof p.handleMouseWheel<"u"&&(this._options.handleMouseWheel=p.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof p.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=p.mouseWheelScrollSensitivity),typeof p.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=p.fastScrollSensitivity),typeof p.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=p.scrollPredominantAxis),typeof p.horizontal<"u"&&(this._options.horizontal=p.horizontal),typeof p.vertical<"u"&&(this._options.vertical=p.vertical),typeof p.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=p.horizontalScrollbarSize),typeof p.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=p.verticalScrollbarSize),typeof p.scrollByPage<"u"&&(this._options.scrollByPage=p.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(p){this._onMouseWheel(new D.StandardWheelEvent(p))}_setListeningToMouseWheel(p){if(this._mouseWheelToDispose.length>0!==p&&(this._mouseWheelToDispose=(0,o.dispose)(this._mouseWheelToDispose),p)){const w=E=>{this._onMouseWheel(new D.StandardWheelEvent(E))};this._mouseWheelToDispose.push(k.addDisposableListener(this._listenOnDomNode,k.EventType.MOUSE_WHEEL,w,{passive:!1}))}}_onMouseWheel(p){var C;if(!((C=p.browserEvent)===null||C===void 0)&&C.defaultPrevented)return;const w=s.INSTANCE;l&&w.acceptStandardWheelEvent(p);let E=!1;if(p.deltaY||p.deltaX){let T=p.deltaY*this._options.mouseWheelScrollSensitivity,P=p.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(T)>=Math.abs(P)?P=0:T=0),this._options.flipAxes&&([T,P]=[P,T]);const A=!i.isMacintosh&&p.browserEvent&&p.browserEvent.shiftKey;(this._options.scrollYToX||A)&&!P&&(P=T,T=0),p.browserEvent&&p.browserEvent.altKey&&(P=P*this._options.fastScrollSensitivity,T=T*this._options.fastScrollSensitivity);const M=this._scrollable.getFutureScrollPosition();let N={};if(T){const O=r*T,x=M.scrollTop-(O<0?Math.floor(O):Math.ceil(O));this._verticalScrollbar.writeScrollPosition(N,x)}if(P){const O=r*P,x=M.scrollLeft-(O<0?Math.floor(O):Math.ceil(O));this._horizontalScrollbar.writeScrollPosition(N,x)}N=this._scrollable.validateScrollPosition(N),(M.scrollLeft!==N.scrollLeft||M.scrollTop!==N.scrollTop)&&(l&&this._options.mouseWheelSmoothScroll&&w.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(N):this._scrollable.setScrollPositionNow(N),E=!0)}let I=E;!I&&this._options.alwaysConsumeMouseWheel&&(I=!0),!I&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(I=!0),I&&(p.preventDefault(),p.stopPropagation())}_onDidScroll(p){this._shouldRender=this._horizontalScrollbar.onDidScroll(p)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(p)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const p=this._scrollable.getCurrentScrollPosition(),C=p.scrollTop>0,w=p.scrollLeft>0,E=w?" left":"",I=C?" top":"",T=w||C?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${I}`),this._topLeftShadowDomNode.setClassName(`shadow${T}${I}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(p){this._mouseIsOver=!1,this._hide()}_onMouseOver(p){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),n)}}e.AbstractScrollableElement=u;class a extends u{constructor(p,C){C=C||{},C.mouseWheelSmoothScroll=!1;const w=new t.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>k.scheduleAtNextAnimationFrame(E)});super(p,C,w),this._register(w)}setScrollPosition(p){this._scrollable.setScrollPositionNow(p)}}e.ScrollableElement=a;class d extends u{constructor(p,C,w){super(p,C,w)}setScrollPosition(p){p.reuseAnimation?this._scrollable.setScrollPositionSmooth(p,p.reuseAnimation):this._scrollable.setScrollPositionNow(p)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=d;class c extends u{constructor(p,C){C=C||{},C.mouseWheelSmoothScroll=!1;const w=new t.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>k.scheduleAtNextAnimationFrame(E)});super(p,C,w),this._register(w),this._element=p,this.onScroll(E=>{E.scrollTopChanged&&(this._element.scrollTop=E.scrollTop),E.scrollLeftChanged&&(this._element.scrollLeft=E.scrollLeft)}),this.scanDomNode()}setScrollPosition(p){this._scrollable.setScrollPositionNow(p)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=c;function b(g){const p={lazyRender:typeof g.lazyRender<"u"?g.lazyRender:!1,className:typeof g.className<"u"?g.className:"",useShadows:typeof g.useShadows<"u"?g.useShadows:!0,handleMouseWheel:typeof g.handleMouseWheel<"u"?g.handleMouseWheel:!0,flipAxes:typeof g.flipAxes<"u"?g.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof g.consumeMouseWheelIfScrollbarIsNeeded<"u"?g.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof g.alwaysConsumeMouseWheel<"u"?g.alwaysConsumeMouseWheel:!1,scrollYToX:typeof g.scrollYToX<"u"?g.scrollYToX:!1,mouseWheelScrollSensitivity:typeof g.mouseWheelScrollSensitivity<"u"?g.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof g.fastScrollSensitivity<"u"?g.fastScrollSensitivity:5,scrollPredominantAxis:typeof g.scrollPredominantAxis<"u"?g.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof g.mouseWheelSmoothScroll<"u"?g.mouseWheelSmoothScroll:!0,arrowSize:typeof g.arrowSize<"u"?g.arrowSize:11,listenOnDomNode:typeof g.listenOnDomNode<"u"?g.listenOnDomNode:null,horizontal:typeof g.horizontal<"u"?g.horizontal:1,horizontalScrollbarSize:typeof g.horizontalScrollbarSize<"u"?g.horizontalScrollbarSize:10,horizontalSliderSize:typeof g.horizontalSliderSize<"u"?g.horizontalSliderSize:0,horizontalHasArrows:typeof g.horizontalHasArrows<"u"?g.horizontalHasArrows:!1,vertical:typeof g.vertical<"u"?g.vertical:1,verticalScrollbarSize:typeof g.verticalScrollbarSize<"u"?g.verticalScrollbarSize:10,verticalHasArrows:typeof g.verticalHasArrows<"u"?g.verticalHasArrows:!1,verticalSliderSize:typeof g.verticalSliderSize<"u"?g.verticalSliderSize:0,scrollByPage:typeof g.scrollByPage<"u"?g.scrollByPage:!1};return p.horizontalSliderSize=typeof g.horizontalSliderSize<"u"?g.horizontalSliderSize:p.horizontalScrollbarSize,p.verticalSliderSize=typeof g.verticalSliderSize<"u"?g.verticalSliderSize:p.verticalScrollbarSize,i.isMacintosh&&(p.className+=" mac"),p}}),define(J[307],ee([1,0,7,45,74,2,394]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const _=y.$;class m extends D.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new L.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=m;class S extends D.Disposable{static render(v,o,i){return new S(v,o,i)}constructor(v,o,i){super(),this.actionContainer=y.append(v,_("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=y.append(this.actionContainer,_("a.action")),this.action.setAttribute("role","button"),o.iconClass&&y.append(this.action,_(`span.icon.${o.iconClass}`));const t=y.append(this.action,_("span"));t.textContent=i?`${o.label} (${i})`:o.label,this._register(y.addDisposableListener(this.actionContainer,y.EventType.CLICK,n=>{n.stopPropagation(),n.preventDefault(),o.run(this.actionContainer)})),this._register(y.addDisposableListener(this.actionContainer,y.EventType.KEY_DOWN,n=>{const r=new k.StandardKeyboardEvent(n);(r.equals(3)||r.equals(10))&&(n.stopPropagation(),n.preventDefault(),o.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(v){v?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=S}),define(J[227],ee([1,0,198,7,80,62,74,15,13,105,6,2,168,169,386,567,12]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const h={CurrentDragAndDropData:void 0},s={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(p){return[p]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class u{constructor(C){this.elements=C}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=u;class a{constructor(C){this.elements=C}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=a;class d{constructor(){this.types=[],this.files=[]}update(C){if(C.types&&this.types.splice(0,this.types.length,...C.types),C.files){this.files.splice(0,this.files.length);for(let w=0;w<C.files.length;w++){const E=C.files.item(w);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=d;function c(p,C){return Array.isArray(p)&&Array.isArray(C)?(0,m.equals)(p,C):p===C}class b{constructor(C){C?.getSetSize?this.getSetSize=C.getSetSize.bind(C):this.getSetSize=(w,E,I)=>I,C?.getPosInSet?this.getPosInSet=C.getPosInSet.bind(C):this.getPosInSet=(w,E)=>E+1,C?.getRole?this.getRole=C.getRole.bind(C):this.getRole=w=>"listitem",C?.isChecked?this.isChecked=C.isChecked.bind(C):this.isChecked=w=>{}}}class g{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(C){if(C!==this._horizontalScrolling){if(C&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=C,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const w of this.items)this.measureItemWidth(w);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(C,w,E,I=s){var T,P,A,M,N,O,x,F,B,z,j,R,Z;if(this.virtualDelegate=w,this.domId=`list_id_${++g.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new S.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=o.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=o.Disposable.None,this.onDragLeaveTimeout=o.Disposable.None,this.disposables=new o.DisposableStore,this._onDidChangeContentHeight=new v.Emitter,this._onDidChangeContentWidth=new v.Emitter,this._horizontalScrolling=!1,I.horizontalScrolling&&I.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new n.RangeMap((T=I.paddingTop)!==null&&T!==void 0?T:0);for(const le of E)this.renderers.set(le.templateId,le);this.cache=this.disposables.add(new r.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof I.mouseSupport=="boolean"?I.mouseSupport:!0),this._horizontalScrolling=(P=I.horizontalScrolling)!==null&&P!==void 0?P:s.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof I.paddingBottom>"u"?0:I.paddingBottom,this.accessibilityProvider=new b(I.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((A=I.transformOptimization)!==null&&A!==void 0?A:s.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(D.Gesture.addTarget(this.rowsContainer)),this.scrollable=new t.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(M=I.smoothScrolling)!==null&&M!==void 0&&M?125:0,scheduleAtNextAnimationFrame:le=>(0,k.scheduleAtNextAnimationFrame)(le)}),this.scrollableElement=this.disposables.add(new _.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(N=I.alwaysConsumeMouseWheel)!==null&&N!==void 0?N:s.alwaysConsumeMouseWheel,horizontal:1,vertical:(O=I.verticalScrollMode)!==null&&O!==void 0?O:s.verticalScrollMode,useShadows:(x=I.useShadows)!==null&&x!==void 0?x:s.useShadows,mouseWheelScrollSensitivity:I.mouseWheelScrollSensitivity,fastScrollSensitivity:I.fastScrollSensitivity,scrollByPage:I.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),C.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.addDisposableListener)(this.rowsContainer,D.EventType.Change,le=>this.onTouchChange(le))),this.disposables.add((0,k.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",le=>le.target.scrollTop=0)),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragover",le=>this.onDragOver(this.toDragEvent(le)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"drop",le=>this.onDrop(this.toDragEvent(le)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragleave",le=>this.onDragLeave(this.toDragEvent(le)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragend",le=>this.onDragEnd(le))),this.setRowLineHeight=(F=I.setRowLineHeight)!==null&&F!==void 0?F:s.setRowLineHeight,this.setRowHeight=(B=I.setRowHeight)!==null&&B!==void 0?B:s.setRowHeight,this.supportDynamicHeights=(z=I.supportDynamicHeights)!==null&&z!==void 0?z:s.supportDynamicHeights,this.dnd=(j=I.dnd)!==null&&j!==void 0?j:s.dnd,this.layout((R=I.initialSize)===null||R===void 0?void 0:R.height,(Z=I.initialSize)===null||Z===void 0?void 0:Z.width)}updateOptions(C){C.paddingBottom!==void 0&&(this.paddingBottom=C.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),C.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(C.smoothScrolling?125:0),C.horizontalScrolling!==void 0&&(this.horizontalScrolling=C.horizontalScrolling);let w;if(C.scrollByPage!==void 0&&(w=Object.assign(Object.assign({},w??{}),{scrollByPage:C.scrollByPage})),C.mouseWheelScrollSensitivity!==void 0&&(w=Object.assign(Object.assign({},w??{}),{mouseWheelScrollSensitivity:C.mouseWheelScrollSensitivity})),C.fastScrollSensitivity!==void 0&&(w=Object.assign(Object.assign({},w??{}),{fastScrollSensitivity:C.fastScrollSensitivity})),w&&this.scrollableElement.updateOptions(w),C.paddingTop!==void 0&&C.paddingTop!==this.rangeMap.paddingTop){const E=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),I=C.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=C.paddingTop,this.render(E,Math.max(0,this.lastRenderTop+I),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(C,w,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(C,w,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(C,w,E=[]){const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),T={start:C,end:C+w},P=i.Range.intersect(I,T),A=new Map;for(let U=P.end-1;U>=P.start;U--){const V=this.items[U];if(V.dragStartDisposable.dispose(),V.checkedDisposable.dispose(),V.row){let H=A.get(V.templateId);H||(H=[],A.set(V.templateId,H));const $=this.renderers.get(V.templateId);$&&$.disposeElement&&$.disposeElement(V.element,U,V.row.templateData,V.size),H.push(V.row)}V.row=null}const M={start:C+w,end:this.items.length},N=i.Range.intersect(M,I),O=i.Range.relativeComplement(M,I),x=E.map(U=>({id:String(this.itemId++),element:U,templateId:this.virtualDelegate.getTemplateId(U),size:this.virtualDelegate.getHeight(U),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(U),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:o.Disposable.None,checkedDisposable:o.Disposable.None}));let F;C===0&&w>=this.items.length?(this.rangeMap=new n.RangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,x),F=this.items,this.items=x):(this.rangeMap.splice(C,w,x),F=this.items.splice(C,w,...x));const B=E.length-w,z=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),j=(0,n.shift)(N,B),R=i.Range.intersect(z,j);for(let U=R.start;U<R.end;U++)this.updateItemInDOM(this.items[U],U);const Z=i.Range.relativeComplement(j,z);for(const U of Z)for(let V=U.start;V<U.end;V++)this.removeItemFromDOM(V);const se=O.map(U=>(0,n.shift)(U,B)),te=[{start:C,end:C+E.length},...se].map(U=>i.Range.intersect(z,U)),Y=this.getNextToLastElement(te);for(const U of te)for(let V=U.start;V<U.end;V++){const H=this.items[V],$=A.get(H.templateId),X=$?.pop();this.insertItemInDOM(V,Y,X)}for(const U of A.values())for(const V of U)this.cache.release(V);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),F.map(U=>U.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let C=0;for(const w of this.items)typeof w.width<"u"&&(C=Math.max(C,w.width));this.scrollWidth=C,this.scrollableElement.setScrollDimensions({scrollWidth:C===0?0:C+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const C of this.items)C.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const C=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),w=this.rangeMap.positionAt(C.start),E=this.rangeMap.positionAt(C.start+1);return E!==-1&&(E-w)/2+w<this.scrollTop?C.start+1:C.start}element(C){return this.items[C].element}domElement(C){const w=this.items[C].row;return w&&w.domNode}elementHeight(C){return this.items[C].size}elementTop(C){return this.rangeMap.positionAt(C)}indexAt(C){return this.rangeMap.indexAt(C)}indexAfter(C){return this.rangeMap.indexAfter(C)}layout(C,w){const E={height:typeof C=="number"?C:(0,k.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof w<"u"&&(this.renderWidth=w,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof w=="number"?w:(0,k.getContentWidth)(this.domNode)})}render(C,w,E,I,T,P=!1){const A=this.getRenderRange(w,E),M=i.Range.relativeComplement(A,C),N=i.Range.relativeComplement(C,A),O=this.getNextToLastElement(M);if(P){const x=i.Range.intersect(C,A);for(let F=x.start;F<x.end;F++)this.updateItemInDOM(this.items[F],F)}this.cache.transact(()=>{for(const x of N)for(let F=x.start;F<x.end;F++)this.removeItemFromDOM(F);for(const x of M)for(let F=x.start;F<x.end;F++)this.insertItemInDOM(F,O)}),I!==void 0&&(this.rowsContainer.style.left=`-${I}px`),this.rowsContainer.style.top=`-${w}px`,this.horizontalScrolling&&T!==void 0&&(this.rowsContainer.style.width=`${Math.max(T,this.renderWidth)}px`),this.lastRenderTop=w,this.lastRenderHeight=E}insertItemInDOM(C,w,E){const I=this.items[C];let T=!1;if(!I.row)if(E)I.row=E;else{const O=this.cache.alloc(I.templateId);I.row=O.row,T=O.isReusingConnectedDomNode}const P=this.accessibilityProvider.getRole(I.element)||"listitem";I.row.domNode.setAttribute("role",P);const A=this.accessibilityProvider.isChecked(I.element);if(typeof A=="boolean")I.row.domNode.setAttribute("aria-checked",String(!!A));else if(A){const O=x=>I.row.domNode.setAttribute("aria-checked",String(!!x));O(A.value),I.checkedDisposable=A.onDidChange(O)}(T||!I.row.domNode.parentElement)&&(w?this.rowsContainer.insertBefore(I.row.domNode,w):this.rowsContainer.appendChild(I.row.domNode)),this.updateItemInDOM(I,C);const M=this.renderers.get(I.templateId);if(!M)throw new Error(`No renderer found for template id ${I.templateId}`);M?.renderElement(I.element,C,I.row.templateData,I.size);const N=this.dnd.getDragURI(I.element);I.dragStartDisposable.dispose(),I.row.domNode.draggable=!!N,N&&(I.dragStartDisposable=(0,k.addDisposableListener)(I.row.domNode,"dragstart",O=>this.onDragStart(I.element,N,O))),this.horizontalScrolling&&(this.measureItemWidth(I),this.eventuallyUpdateScrollWidth())}measureItemWidth(C){if(!C.row||!C.row.domNode)return;C.row.domNode.style.width="fit-content",C.width=(0,k.getContentWidth)(C.row.domNode);const w=window.getComputedStyle(C.row.domNode);w.paddingLeft&&(C.width+=parseFloat(w.paddingLeft)),w.paddingRight&&(C.width+=parseFloat(w.paddingRight)),C.row.domNode.style.width=""}updateItemInDOM(C,w){C.row.domNode.style.top=`${this.elementTop(w)}px`,this.setRowHeight&&(C.row.domNode.style.height=`${C.size}px`),this.setRowLineHeight&&(C.row.domNode.style.lineHeight=`${C.size}px`),C.row.domNode.setAttribute("data-index",`${w}`),C.row.domNode.setAttribute("data-last-element",w===this.length-1?"true":"false"),C.row.domNode.setAttribute("data-parity",w%2===0?"even":"odd"),C.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(C.element,w,this.length))),C.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(C.element,w))),C.row.domNode.setAttribute("id",this.getElementDomId(w)),C.row.domNode.classList.toggle("drop-target",C.dropTarget)}removeItemFromDOM(C){const w=this.items[C];if(w.dragStartDisposable.dispose(),w.checkedDisposable.dispose(),w.row){const E=this.renderers.get(w.templateId);E&&E.disposeElement&&E.disposeElement(w.element,C,w.row.templateData,w.size),this.cache.release(w.row),w.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(C,w){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:C,reuseAnimation:w})}get scrollTop(){return this.getScrollTop()}set scrollTop(C){this.setScrollTop(C)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return v.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"click")).event,C=>this.toMouseEvent(C),this.disposables)}get onMouseDblClick(){return v.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"dblclick")).event,C=>this.toMouseEvent(C),this.disposables)}get onMouseMiddleClick(){return v.Event.filter(v.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"auxclick")).event,C=>this.toMouseEvent(C),this.disposables),C=>C.browserEvent.button===1,this.disposables)}get onMouseDown(){return v.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"mousedown")).event,C=>this.toMouseEvent(C),this.disposables)}get onMouseOver(){return v.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"mouseover")).event,C=>this.toMouseEvent(C),this.disposables)}get onMouseOut(){return v.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"mouseout")).event,C=>this.toMouseEvent(C),this.disposables)}get onContextMenu(){return v.Event.any(v.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"contextmenu")).event,C=>this.toMouseEvent(C),this.disposables),v.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,D.EventType.Contextmenu)).event,C=>this.toGestureEvent(C),this.disposables))}get onTouchStart(){return v.Event.map(this.disposables.add(new L.DomEmitter(this.domNode,"touchstart")).event,C=>this.toTouchEvent(C),this.disposables)}get onTap(){return v.Event.map(this.disposables.add(new L.DomEmitter(this.rowsContainer,D.EventType.Tap)).event,C=>this.toGestureEvent(C),this.disposables)}toMouseEvent(C){const w=this.getItemIndexFromEventTarget(C.target||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:C,index:w,element:I}}toTouchEvent(C){const w=this.getItemIndexFromEventTarget(C.target||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:C,index:w,element:I}}toGestureEvent(C){const w=this.getItemIndexFromEventTarget(C.initialTarget||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:C,index:w,element:I}}toDragEvent(C){const w=this.getItemIndexFromEventTarget(C.target||null),E=typeof w>"u"?void 0:this.items[w],I=E&&E.element;return{browserEvent:C,index:w,element:I}}onScroll(C){try{const w=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(w,C.scrollTop,C.height,C.scrollLeft,C.scrollWidth),this.supportDynamicHeights&&this._rerender(C.scrollTop,C.height,C.inSmoothScrolling)}catch(w){throw console.error("Got bad scroll event:",C),w}}onTouchChange(C){C.preventDefault(),C.stopPropagation(),this.scrollTop-=C.translationY}onDragStart(C,w,E){var I,T;if(!E.dataTransfer)return;const P=this.dnd.getDragElements(C);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(y.DataTransfers.TEXT,w),E.dataTransfer.setDragImage){let A;this.dnd.getDragLabel&&(A=this.dnd.getDragLabel(P,E)),typeof A>"u"&&(A=String(P.length));const M=(0,k.$)(".monaco-drag-image");M.textContent=A;const O=(x=>{for(;x&&!x.classList.contains("monaco-workbench");)x=x.parentElement;return x||document.body})(this.domNode);O.appendChild(M),E.dataTransfer.setDragImage(M,-10,-10),setTimeout(()=>O.removeChild(M),0)}this.domNode.classList.add("dragging"),this.currentDragData=new u(P),h.CurrentDragAndDropData=new a(P),(T=(I=this.dnd).onDragStart)===null||T===void 0||T.call(I,this.currentDragData,E)}onDragOver(C){var w;if(C.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),h.CurrentDragAndDropData&&h.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(C.browserEvent),!C.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(h.CurrentDragAndDropData)this.currentDragData=h.CurrentDragAndDropData;else{if(!C.browserEvent.dataTransfer.types)return!1;this.currentDragData=new d}const E=this.dnd.onDragOver(this.currentDragData,C.element,C.index,C.browserEvent);if(this.canDrop=typeof E=="boolean"?E:E.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;C.browserEvent.dataTransfer.dropEffect=typeof E!="boolean"&&E.effect===0?"copy":"move";let I;if(typeof E!="boolean"&&E.feedback?I=E.feedback:typeof C.index>"u"?I=[-1]:I=[C.index],I=(0,m.distinct)(I).filter(T=>T>=-1&&T<this.length).sort((T,P)=>T-P),I=I[0]===-1?[-1]:I,c(this.currentDragFeedback,I))return!0;if(this.currentDragFeedback=I,this.currentDragFeedbackDisposable.dispose(),I[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,o.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const T of I){const P=this.items[T];P.dropTarget=!0,(w=P.row)===null||w===void 0||w.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,o.toDisposable)(()=>{var T;for(const P of I){const A=this.items[P];A.dropTarget=!1,(T=A.row)===null||T===void 0||T.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(C){var w,E;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,S.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((E=(w=this.dnd).onDragLeave)===null||E===void 0||E.call(w,this.currentDragData,C.element,C.index,C.browserEvent))}onDrop(C){if(!this.canDrop)return;const w=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,h.CurrentDragAndDropData=void 0,!(!w||!C.browserEvent.dataTransfer)&&(C.browserEvent.preventDefault(),w.update(C.browserEvent.dataTransfer),this.dnd.drop(w,C.element,C.index,C.browserEvent))}onDragEnd(C){var w,E;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,h.CurrentDragAndDropData=void 0,(E=(w=this.dnd).onDragEnd)===null||E===void 0||E.call(w,C)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=o.Disposable.None}setupDragAndDropScrollTopAnimation(C){if(!this.dragOverAnimationDisposable){const w=(0,k.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.animate)(this.animateDragAndDropScrollTop.bind(this,w))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,S.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=C.pageY}animateDragAndDropScrollTop(C){if(this.dragOverMouseY===void 0)return;const w=this.dragOverMouseY-C,E=this.renderHeight-35;w<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(w-35))):w>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(w-E))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(C){const w=this.scrollableElement.getDomNode();let E=C;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&w.contains(E);){const I=E.getAttribute("data-index");if(I){const T=Number(I);if(!isNaN(T))return T}E=E.parentElement}}getRenderRange(C,w){return{start:this.rangeMap.indexAt(C),end:this.rangeMap.indexAfter(C+w-1)}}_rerender(C,w,E){const I=this.getRenderRange(C,w);let T,P;C===this.elementTop(I.start)?(T=I.start,P=0):I.end-I.start>1&&(T=I.start+1,P=this.elementTop(T)-C);let A=0;for(;;){const M=this.getRenderRange(C,w);let N=!1;for(let O=M.start;O<M.end;O++){const x=this.probeDynamicHeight(O);x!==0&&this.rangeMap.splice(O,1,[this.items[O]]),A+=x,N=N||x!==0}if(!N){A!==0&&this.eventuallyUpdateScrollDimensions();const O=i.Range.relativeComplement(I,M);for(const F of O)for(let B=F.start;B<F.end;B++)this.items[B].row&&this.removeItemFromDOM(B);const x=i.Range.relativeComplement(M,I);for(const F of x)for(let B=F.start;B<F.end;B++){const z=B+1,j=z<this.items.length?this.items[z].row:null,R=j?j.domNode:null;this.insertItemInDOM(B,R)}for(let F=M.start;F<M.end;F++)this.items[F].row&&this.updateItemInDOM(this.items[F],F);if(typeof T=="number"){const F=this.scrollable.getFutureScrollPosition().scrollTop-C,B=this.elementTop(T)-P+F;this.setScrollTop(B,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(C){var w,E,I;const T=this.items[C];if(this.virtualDelegate.getDynamicHeight){const N=this.virtualDelegate.getDynamicHeight(T.element);if(N!==null){const O=T.size;return T.size=N,T.lastDynamicHeightWidth=this.renderWidth,N-O}}if(!T.hasDynamicHeight||T.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(T.element))return 0;const P=T.size;if(T.row)return T.row.domNode.style.height="",T.size=T.row.domNode.offsetHeight,T.lastDynamicHeightWidth=this.renderWidth,T.size-P;const{row:A}=this.cache.alloc(T.templateId);A.domNode.style.height="",this.rowsContainer.appendChild(A.domNode);const M=this.renderers.get(T.templateId);if(!M)throw new l.BugIndicatingError("Missing renderer for templateId: "+T.templateId);return M.renderElement(T.element,C,A.templateData,void 0),T.size=A.domNode.offsetHeight,(w=M.disposeElement)===null||w===void 0||w.call(M,T.element,C,A.templateData,void 0),(I=(E=this.virtualDelegate).setDynamicHeight)===null||I===void 0||I.call(E,T.element,T.size),T.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(A.domNode),this.cache.release(A),T.size-P}getNextToLastElement(C){const w=C[C.length-1];if(!w)return null;const E=this.items[w.end];return!E||!E.row?null:E.row.domNode}getElementDomId(C){return`${this.domId}_${C}`}dispose(){var C;if(this.items){for(const w of this.items)if(w.row){const E=this.renderers.get(w.row.templateId);E&&((C=E.disposeElement)===null||C===void 0||C.call(E,w.element,-1,w.row.templateData,void 0),E.disposeTemplate(w.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,o.dispose)(this.disposables)}}e.ListView=g,g.InstanceCount=0,Ne([f.memoize],g.prototype,"onMouseClick",null),Ne([f.memoize],g.prototype,"onMouseDblClick",null),Ne([f.memoize],g.prototype,"onMouseMiddleClick",null),Ne([f.memoize],g.prototype,"onMouseDown",null),Ne([f.memoize],g.prototype,"onMouseOver",null),Ne([f.memoize],g.prototype,"onMouseOut",null),Ne([f.memoize],g.prototype,"onContextMenu",null),Ne([f.memoize],g.prototype,"onTouchStart",null),Ne([f.memoize],g.prototype,"onTap",null)}),define(J[114],ee([1,0,7,80,45,62,48,378,15,13,37,105,6,71,2,142,17,18,377,227,58,267]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.unthemedListStyles=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=e.isButton=e.isMonacoEditor=e.isInputElement=void 0;class d{constructor(H){this.trait=H,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(H){return H}renderElement(H,$,X){const Q=this.renderedElements.findIndex(de=>de.templateData===X);if(Q>=0){const de=this.renderedElements[Q];this.trait.unrender(X),de.index=$}else{const de={index:$,templateData:X};this.renderedElements.push(de)}this.trait.renderIndex($,X)}splice(H,$,X){const Q=[];for(const de of this.renderedElements)de.index<H?Q.push(de):de.index>=H+$&&Q.push({index:de.index+X-$,templateData:de.templateData});this.renderedElements=Q}renderIndexes(H){for(const{index:$,templateData:X}of this.renderedElements)H.indexOf($)>-1&&this.trait.renderIndex($,X)}disposeTemplate(H){const $=this.renderedElements.findIndex(X=>X.templateData===H);$<0||this.renderedElements.splice($,1)}}class c{get name(){return this._trait}get renderer(){return new d(this)}constructor(H){this._trait=H,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new i.Emitter,this.onChange=this._onChange.event}splice(H,$,X){var Q;$=Math.max(0,Math.min($,this.length-H));const de=X.length-$,ce=H+$,ae=[];let ue=0;for(;ue<this.sortedIndexes.length&&this.sortedIndexes[ue]<H;)ae.push(this.sortedIndexes[ue++]);for(let W=0;W<X.length;W++)X[W]&&ae.push(W+H);for(;ue<this.sortedIndexes.length&&this.sortedIndexes[ue]>=ce;)ae.push(this.sortedIndexes[ue++]+de);const q=this.length+de;if(this.sortedIndexes.length>0&&ae.length===0&&q>0){const W=(Q=this.sortedIndexes.find(K=>K>=H))!==null&&Q!==void 0?Q:q-1;ae.push(Math.min(W,q-1))}this.renderer.splice(H,$,X.length),this._set(ae,ae),this.length=q}renderIndex(H,$){$.classList.toggle(this._trait,this.contains(H))}unrender(H){H.classList.remove(this._trait)}set(H,$){return this._set(H,[...H].sort(se),$)}_set(H,$,X){const Q=this.indexes,de=this.sortedIndexes;this.indexes=H,this.sortedIndexes=$;const ce=R(de,H);return this.renderer.renderIndexes(ce),this._onChange.fire({indexes:H,browserEvent:X}),Q}get(){return this.indexes}contains(H){return(0,S.binarySearch)(this.sortedIndexes,H,se)>=0}dispose(){(0,n.dispose)(this._onChange)}}Ne([o.memoize],c.prototype,"renderer",null);class b extends c{constructor(H){super("selected"),this.setAriaSelected=H}renderIndex(H,$){super.renderIndex(H,$),this.setAriaSelected&&(this.contains(H)?$.setAttribute("aria-selected","true"):$.setAttribute("aria-selected","false"))}}class g{constructor(H,$,X){this.trait=H,this.view=$,this.identityProvider=X}splice(H,$,X){if(!this.identityProvider)return this.trait.splice(H,$,new Array(X.length).fill(!1));const Q=this.trait.get().map(ae=>this.identityProvider.getId(this.view.element(ae)).toString());if(Q.length===0)return this.trait.splice(H,$,new Array(X.length).fill(!1));const de=new Set(Q),ce=X.map(ae=>de.has(this.identityProvider.getId(ae).toString()));this.trait.splice(H,$,ce)}}function p(V){return V.tagName==="INPUT"||V.tagName==="TEXTAREA"}e.isInputElement=p;function C(V){return V.classList.contains("monaco-editor")?!0:V.classList.contains("monaco-list")||!V.parentElement?!1:C(V.parentElement)}e.isMonacoEditor=C;function w(V){return V.tagName==="A"&&V.classList.contains("monaco-button")||V.tagName==="DIV"&&V.classList.contains("monaco-button-dropdown")?!0:V.classList.contains("monaco-list")||!V.parentElement?!1:w(V.parentElement)}e.isButton=w;class E{get onKeyDown(){return this.disposables.add(i.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event).filter(H=>!p(H.target)).map(H=>new L.StandardKeyboardEvent(H)))}constructor(H,$,X){this.list=H,this.view=$,this.disposables=new n.DisposableStore,this.multipleSelectionDisposables=new n.DisposableStore,this.onKeyDown.filter(Q=>Q.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(Q=>Q.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(Q=>Q.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(Q=>Q.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(Q=>Q.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(Q=>Q.keyCode===9).on(this.onEscape,this,this.disposables),X.multipleSelectionSupport!==!1&&this.onKeyDown.filter(Q=>(l.isMacintosh?Q.metaKey:Q.ctrlKey)&&Q.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}updateOptions(H){H.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),H.multipleSelectionSupport&&this.onKeyDown.filter($=>(l.isMacintosh?$.metaKey:$.ctrlKey)&&$.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(H){H.preventDefault(),H.stopPropagation(),this.list.setSelection(this.list.getFocus(),H.browserEvent)}onUpArrow(H){H.preventDefault(),H.stopPropagation(),this.list.focusPrevious(1,!1,H.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onDownArrow(H){H.preventDefault(),H.stopPropagation(),this.list.focusNext(1,!1,H.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onPageUpArrow(H){H.preventDefault(),H.stopPropagation(),this.list.focusPreviousPage(H.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onPageDownArrow(H){H.preventDefault(),H.stopPropagation(),this.list.focusNextPage(H.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onCtrlA(H){H.preventDefault(),H.stopPropagation(),this.list.setSelection((0,S.range)(this.list.length),H.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(H){this.list.getSelection().length&&(H.preventDefault(),H.stopPropagation(),this.list.setSelection([],H.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Ne([o.memoize],E.prototype,"onKeyDown",null);var I;(function(V){V[V.Automatic=0]="Automatic",V[V.Trigger=1]="Trigger"})(I||(e.TypeNavigationMode=I={}));var T;(function(V){V[V.Idle=0]="Idle",V[V.Typing=1]="Typing"})(T||(T={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(V){return V.ctrlKey||V.metaKey||V.altKey?!1:V.keyCode>=31&&V.keyCode<=56||V.keyCode>=21&&V.keyCode<=30||V.keyCode>=98&&V.keyCode<=107||V.keyCode>=85&&V.keyCode<=95}};class P{constructor(H,$,X,Q,de){this.list=H,this.view=$,this.keyboardNavigationLabelProvider=X,this.keyboardNavigationEventFilter=Q,this.delegate=de,this.enabled=!1,this.state=T.Idle,this.mode=I.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new n.DisposableStore,this.disposables=new n.DisposableStore,this.updateOptions(H.options)}updateOptions(H){var $,X;!(($=H.typeNavigationEnabled)!==null&&$!==void 0)||$?this.enable():this.disable(),this.mode=(X=H.typeNavigationMode)!==null&&X!==void 0?X:I.Automatic}enable(){if(this.enabled)return;let H=!1;const $=this.enabledDisposables.add(i.Event.chain(this.enabledDisposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event)).filter(de=>!p(de.target)).filter(()=>this.mode===I.Automatic||this.triggered).map(de=>new L.StandardKeyboardEvent(de)).filter(de=>H||this.keyboardNavigationEventFilter(de)).filter(de=>this.delegate.mightProducePrintableCharacter(de)).forEach(de=>y.EventHelper.stop(de,!0)).map(de=>de.browserEvent.key).event,X=i.Event.debounce($,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);i.Event.reduce(i.Event.any($,X),(de,ce)=>ce===null?null:(de||"")+ce,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),X(this.onClear,this,this.enabledDisposables),$(()=>H=!0,void 0,this.enabledDisposables),X(()=>H=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var H;const $=this.list.getFocus();if($.length>0&&$[0]===this.previouslyFocused){const X=(H=this.list.options.accessibilityProvider)===null||H===void 0?void 0:H.getAriaLabel(this.list.element($[0]));X&&(0,_.alert)(X)}this.previouslyFocused=-1}onInput(H){if(!H){this.state=T.Idle,this.triggered=!1;return}const $=this.list.getFocus(),X=$.length>0?$[0]:0,Q=this.state===T.Idle?1:0;this.state=T.Typing;for(let de=0;de<this.list.length;de++){const ce=(X+de+Q)%this.list.length,ae=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(ce)),ue=ae&&ae.toString();if(typeof ue>"u"||(0,t.matchesPrefix)(H,ue)){this.previouslyFocused=X,this.list.setFocus([ce]),this.list.reveal(ce);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class A{constructor(H,$){this.list=H,this.view=$,this.disposables=new n.DisposableStore,this.disposables.add(i.Event.chain(this.disposables.add(new k.DomEmitter($.domNode,"keydown")).event)).filter(Q=>!p(Q.target)).map(Q=>new L.StandardKeyboardEvent(Q)).filter(Q=>Q.keyCode===2&&!Q.ctrlKey&&!Q.metaKey&&!Q.shiftKey&&!Q.altKey).on(this.onTab,this,this.disposables)}onTab(H){if(H.target!==this.view.domNode)return;const $=this.list.getFocus();if($.length===0)return;const X=this.view.domElement($[0]);if(!X)return;const Q=X.querySelector("[tabIndex]");if(!Q||!(Q instanceof HTMLElement)||Q.tabIndex===-1)return;const de=window.getComputedStyle(Q);de.visibility==="hidden"||de.display==="none"||(H.preventDefault(),H.stopPropagation(),Q.focus())}dispose(){this.disposables.dispose()}}function M(V){return l.isMacintosh?V.browserEvent.metaKey:V.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=M;function N(V){return V.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=N;function O(V){return V instanceof MouseEvent&&V.button===2}const x={isSelectionSingleChangeEvent:M,isSelectionRangeChangeEvent:N};class F{constructor(H){this.list=H,this.disposables=new n.DisposableStore,this._onPointer=new i.Emitter,this.onPointer=this._onPointer.event,H.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||x),this.mouseSupport=typeof H.options.mouseSupport>"u"||!!H.options.mouseSupport,this.mouseSupport&&(H.onMouseDown(this.onMouseDown,this,this.disposables),H.onContextMenu(this.onContextMenu,this,this.disposables),H.onMouseDblClick(this.onDoubleClick,this,this.disposables),H.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(D.Gesture.addTarget(H.getHTMLElement()))),i.Event.any(H.onMouseClick,H.onMouseMiddleClick,H.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(H){H.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,H.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||x))}isSelectionSingleChangeEvent(H){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(H):!1}isSelectionRangeChangeEvent(H){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(H):!1}isSelectionChangeEvent(H){return this.isSelectionSingleChangeEvent(H)||this.isSelectionRangeChangeEvent(H)}onMouseDown(H){C(H.browserEvent.target)||document.activeElement!==H.browserEvent.target&&this.list.domFocus()}onContextMenu(H){if(p(H.browserEvent.target)||C(H.browserEvent.target))return;const $=typeof H.index>"u"?[]:[H.index];this.list.setFocus($,H.browserEvent)}onViewPointer(H){if(!this.mouseSupport||p(H.browserEvent.target)||C(H.browserEvent.target)||H.browserEvent.isHandledByList)return;H.browserEvent.isHandledByList=!0;const $=H.index;if(typeof $>"u"){this.list.setFocus([],H.browserEvent),this.list.setSelection([],H.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(H))return this.changeSelection(H);if(this.isSelectionChangeEvent(H))return this.changeSelection(H);this.list.setFocus([$],H.browserEvent),this.list.setAnchor($),O(H.browserEvent)||this.list.setSelection([$],H.browserEvent),this._onPointer.fire(H)}onDoubleClick(H){if(p(H.browserEvent.target)||C(H.browserEvent.target)||this.isSelectionChangeEvent(H)||H.browserEvent.isHandledByList)return;H.browserEvent.isHandledByList=!0;const $=this.list.getFocus();this.list.setSelection($,H.browserEvent)}changeSelection(H){const $=H.index;let X=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(H)){if(typeof X>"u"){const W=this.list.getFocus()[0];X=W??$,this.list.setAnchor(X)}const Q=Math.min(X,$),de=Math.max(X,$),ce=(0,S.range)(Q,de+1),ae=this.list.getSelection(),ue=j(R(ae,[X]),X);if(ue.length===0)return;const q=R(ce,Z(ae,ue));this.list.setSelection(q,H.browserEvent),this.list.setFocus([$],H.browserEvent)}else if(this.isSelectionSingleChangeEvent(H)){const Q=this.list.getSelection(),de=Q.filter(ce=>ce!==$);this.list.setFocus([$]),this.list.setAnchor($),Q.length===de.length?this.list.setSelection([...de,$],H.browserEvent):this.list.setSelection(de,H.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=F;class B{constructor(H,$){this.styleElement=H,this.selectorSuffix=$}style(H){var $,X;const Q=this.selectorSuffix&&`.${this.selectorSuffix}`,de=[];H.listBackground&&de.push(`.monaco-list${Q} .monaco-list-rows { background: ${H.listBackground}; }`),H.listFocusBackground&&(de.push(`.monaco-list${Q}:focus .monaco-list-row.focused { background-color: ${H.listFocusBackground}; }`),de.push(`.monaco-list${Q}:focus .monaco-list-row.focused:hover { background-color: ${H.listFocusBackground}; }`)),H.listFocusForeground&&de.push(`.monaco-list${Q}:focus .monaco-list-row.focused { color: ${H.listFocusForeground}; }`),H.listActiveSelectionBackground&&(de.push(`.monaco-list${Q}:focus .monaco-list-row.selected { background-color: ${H.listActiveSelectionBackground}; }`),de.push(`.monaco-list${Q}:focus .monaco-list-row.selected:hover { background-color: ${H.listActiveSelectionBackground}; }`)),H.listActiveSelectionForeground&&de.push(`.monaco-list${Q}:focus .monaco-list-row.selected { color: ${H.listActiveSelectionForeground}; }`),H.listActiveSelectionIconForeground&&de.push(`.monaco-list${Q}:focus .monaco-list-row.selected .codicon { color: ${H.listActiveSelectionIconForeground}; }`),H.listFocusAndSelectionBackground&&de.push(`
				.monaco-drag-image,
				.monaco-list${Q}:focus .monaco-list-row.selected.focused { background-color: ${H.listFocusAndSelectionBackground}; }
			`),H.listFocusAndSelectionForeground&&de.push(`
				.monaco-drag-image,
				.monaco-list${Q}:focus .monaco-list-row.selected.focused { color: ${H.listFocusAndSelectionForeground}; }
			`),H.listInactiveFocusForeground&&(de.push(`.monaco-list${Q} .monaco-list-row.focused { color:  ${H.listInactiveFocusForeground}; }`),de.push(`.monaco-list${Q} .monaco-list-row.focused:hover { color:  ${H.listInactiveFocusForeground}; }`)),H.listInactiveSelectionIconForeground&&de.push(`.monaco-list${Q} .monaco-list-row.focused .codicon { color:  ${H.listInactiveSelectionIconForeground}; }`),H.listInactiveFocusBackground&&(de.push(`.monaco-list${Q} .monaco-list-row.focused { background-color:  ${H.listInactiveFocusBackground}; }`),de.push(`.monaco-list${Q} .monaco-list-row.focused:hover { background-color:  ${H.listInactiveFocusBackground}; }`)),H.listInactiveSelectionBackground&&(de.push(`.monaco-list${Q} .monaco-list-row.selected { background-color:  ${H.listInactiveSelectionBackground}; }`),de.push(`.monaco-list${Q} .monaco-list-row.selected:hover { background-color:  ${H.listInactiveSelectionBackground}; }`)),H.listInactiveSelectionForeground&&de.push(`.monaco-list${Q} .monaco-list-row.selected { color: ${H.listInactiveSelectionForeground}; }`),H.listHoverBackground&&de.push(`.monaco-list${Q}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${H.listHoverBackground}; }`),H.listHoverForeground&&de.push(`.monaco-list${Q}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${H.listHoverForeground}; }`);const ce=(0,y.asCssValueWithDefault)(H.listFocusAndSelectionOutline,(0,y.asCssValueWithDefault)(H.listSelectionOutline,($=H.listFocusOutline)!==null&&$!==void 0?$:""));ce&&de.push(`.monaco-list${Q}:focus .monaco-list-row.focused.selected { outline: 1px solid ${ce}; outline-offset: -1px;}`),H.listFocusOutline&&de.push(`
				.monaco-drag-image,
				.monaco-list${Q}:focus .monaco-list-row.focused { outline: 1px solid ${H.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${Q}.last-focused .monaco-list-row.focused { outline: 1px solid ${H.listFocusOutline}; outline-offset: -1px; }
			`);const ae=(0,y.asCssValueWithDefault)(H.listSelectionOutline,(X=H.listInactiveFocusOutline)!==null&&X!==void 0?X:"");ae&&de.push(`.monaco-list${Q} .monaco-list-row.focused.selected { outline: 1px dotted ${ae}; outline-offset: -1px; }`),H.listSelectionOutline&&de.push(`.monaco-list${Q} .monaco-list-row.selected { outline: 1px dotted ${H.listSelectionOutline}; outline-offset: -1px; }`),H.listInactiveFocusOutline&&de.push(`.monaco-list${Q} .monaco-list-row.focused { outline: 1px dotted ${H.listInactiveFocusOutline}; outline-offset: -1px; }`),H.listHoverOutline&&de.push(`.monaco-list${Q} .monaco-list-row:hover { outline: 1px dashed ${H.listHoverOutline}; outline-offset: -1px; }`),H.listDropBackground&&de.push(`
				.monaco-list${Q}.drop-target,
				.monaco-list${Q} .monaco-list-rows.drop-target,
				.monaco-list${Q} .monaco-list-row.drop-target { background-color: ${H.listDropBackground} !important; color: inherit !important; }
			`),H.tableColumnsBorder&&de.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${H.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),H.tableOddRowsBackgroundColor&&de.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${H.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=de.join(`
`)}}e.DefaultStyleController=B,e.unthemedListStyles={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:v.Color.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:v.Color.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:v.Color.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0};const z={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function j(V,H){const $=V.indexOf(H);if($===-1)return[];const X=[];let Q=$-1;for(;Q>=0&&V[Q]===H-($-Q);)X.push(V[Q--]);for(X.reverse(),Q=$;Q<V.length&&V[Q]===H+(Q-$);)X.push(V[Q++]);return X}function R(V,H){const $=[];let X=0,Q=0;for(;X<V.length||Q<H.length;)if(X>=V.length)$.push(H[Q++]);else if(Q>=H.length)$.push(V[X++]);else if(V[X]===H[Q]){$.push(V[X]),X++,Q++;continue}else V[X]<H[Q]?$.push(V[X++]):$.push(H[Q++]);return $}function Z(V,H){const $=[];let X=0,Q=0;for(;X<V.length||Q<H.length;)if(X>=V.length)$.push(H[Q++]);else if(Q>=H.length)$.push(V[X++]);else if(V[X]===H[Q]){X++,Q++;continue}else V[X]<H[Q]?$.push(V[X++]):Q++;return $}const se=(V,H)=>V-H;class le{constructor(H,$){this._templateId=H,this.renderers=$}get templateId(){return this._templateId}renderTemplate(H){return this.renderers.map($=>$.renderTemplate(H))}renderElement(H,$,X,Q){let de=0;for(const ce of this.renderers)ce.renderElement(H,$,X[de++],Q)}disposeElement(H,$,X,Q){var de;let ce=0;for(const ae of this.renderers)(de=ae.disposeElement)===null||de===void 0||de.call(ae,H,$,X[ce],Q),ce+=1}disposeTemplate(H){let $=0;for(const X of this.renderers)X.disposeTemplate(H[$++])}}class te{constructor(H){this.accessibilityProvider=H,this.templateId="a18n"}renderTemplate(H){return H}renderElement(H,$,X){const Q=this.accessibilityProvider.getAriaLabel(H);Q?X.setAttribute("aria-label",Q):X.removeAttribute("aria-label");const de=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(H);typeof de=="number"?X.setAttribute("aria-level",`${de}`):X.removeAttribute("aria-level")}disposeTemplate(H){}}class Y{constructor(H,$){this.list=H,this.dnd=$}getDragElements(H){const $=this.list.getSelectedElements();return $.indexOf(H)>-1?$:[H]}getDragURI(H){return this.dnd.getDragURI(H)}getDragLabel(H,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(H,$)}onDragStart(H,$){var X,Q;(Q=(X=this.dnd).onDragStart)===null||Q===void 0||Q.call(X,H,$)}onDragOver(H,$,X,Q){return this.dnd.onDragOver(H,$,X,Q)}onDragLeave(H,$,X,Q){var de,ce;(ce=(de=this.dnd).onDragLeave)===null||ce===void 0||ce.call(de,H,$,X,Q)}onDragEnd(H){var $,X;(X=($=this.dnd).onDragEnd)===null||X===void 0||X.call($,H)}drop(H,$,X,Q){this.dnd.drop(H,$,X,Q)}}class U{get onDidChangeFocus(){return i.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),H=>this.toListEvent(H),this.disposables)}get onDidChangeSelection(){return i.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),H=>this.toListEvent(H),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let H=!1;const $=this.disposables.add(i.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event)).map(de=>new L.StandardKeyboardEvent(de)).filter(de=>H=de.keyCode===58||de.shiftKey&&de.keyCode===68).map(de=>y.EventHelper.stop(de,!0)).filter(()=>!1).event,X=this.disposables.add(i.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keyup")).event)).forEach(()=>H=!1).map(de=>new L.StandardKeyboardEvent(de)).filter(de=>de.keyCode===58||de.shiftKey&&de.keyCode===68).map(de=>y.EventHelper.stop(de,!0)).map(({browserEvent:de})=>{const ce=this.getFocus(),ae=ce.length?ce[0]:void 0,ue=typeof ae<"u"?this.view.element(ae):void 0,q=typeof ae<"u"?this.view.domElement(ae):this.view.domNode;return{index:ae,element:ue,anchor:q,browserEvent:de}}).event,Q=this.disposables.add(i.Event.chain(this.view.onContextMenu)).filter(de=>!H).map(({element:de,index:ce,browserEvent:ae})=>({element:de,index:ce,anchor:new a.StandardMouseEvent(ae),browserEvent:ae})).event;return i.Event.any($,X,Q)}get onKeyDown(){return this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return i.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"focus",!0)).event)}constructor(H,$,X,Q,de=z){var ce,ae,ue,q;this.user=H,this._options=de,this.focus=new c("focused"),this.anchor=new c("anchor"),this.eventBufferer=new i.EventBufferer,this._ariaLabel="",this.disposables=new n.DisposableStore,this._onDidDispose=new i.Emitter,this.onDidDispose=this._onDidDispose.event;const W=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(ce=this._options.accessibilityProvider)===null||ce===void 0?void 0:ce.getWidgetRole():"list";this.selection=new b(W!=="listbox");const K=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=de.accessibilityProvider,this.accessibilityProvider&&(K.push(new te(this.accessibilityProvider)),(ue=(ae=this.accessibilityProvider).onDidChangeActiveDescendant)===null||ue===void 0||ue.call(ae,this.onDidChangeActiveDescendant,this,this.disposables)),Q=Q.map(ne=>new le(ne.templateId,[...K,ne]));const ie=Object.assign(Object.assign({},de),{dnd:de.dnd&&new Y(this,de.dnd)});if(this.view=this.createListView($,X,Q,ie),this.view.domNode.setAttribute("role",W),de.styleController)this.styleController=de.styleController(this.view.domId);else{const ne=(0,y.createStyleSheet)(this.view.domNode);this.styleController=new B(ne,this.view.domId)}if(this.spliceable=new m.CombinedSpliceable([new g(this.focus,this.view,de.identityProvider),new g(this.selection,this.view,de.identityProvider),new g(this.anchor,this.view,de.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new A(this,this.view)),(typeof de.keyboardSupport!="boolean"||de.keyboardSupport)&&(this.keyboardController=new E(this,this.view,de),this.disposables.add(this.keyboardController)),de.keyboardNavigationLabelProvider){const ne=de.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new P(this,this.view,de.keyboardNavigationLabelProvider,(q=de.keyboardNavigationEventFilter)!==null&&q!==void 0?q:()=>!0,ne),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(de),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(H,$,X,Q){return new u.ListView(H,$,X,Q)}createMouseController(H){return new F(this)}updateOptions(H={}){var $,X;this._options=Object.assign(Object.assign({},this._options),H),($=this.typeNavigationController)===null||$===void 0||$.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(H),(X=this.keyboardController)===null||X===void 0||X.updateOptions(H),this.view.updateOptions(H)}get options(){return this._options}splice(H,$,X=[]){if(H<0||H>this.view.length)throw new s.ListError(this.user,`Invalid start index: ${H}`);if($<0)throw new s.ListError(this.user,`Invalid delete count: ${$}`);$===0&&X.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(H,$,X))}rerender(){this.view.rerender()}element(H){return this.view.element(H)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(H){this.view.setScrollTop(H)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(H){this._ariaLabel=H,this.view.domNode.setAttribute("aria-label",H)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(H,$){this.view.layout(H,$)}setSelection(H,$){for(const X of H)if(X<0||X>=this.length)throw new s.ListError(this.user,`Invalid index ${X}`);this.selection.set(H,$)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(H=>this.view.element(H))}setAnchor(H){if(typeof H>"u"){this.anchor.set([]);return}if(H<0||H>=this.length)throw new s.ListError(this.user,`Invalid index ${H}`);this.anchor.set([H])}getAnchor(){return(0,S.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const H=this.getAnchor();return typeof H>"u"?void 0:this.element(H)}setFocus(H,$){for(const X of H)if(X<0||X>=this.length)throw new s.ListError(this.user,`Invalid index ${X}`);this.focus.set(H,$)}focusNext(H=1,$=!1,X,Q){if(this.length===0)return;const de=this.focus.get(),ce=this.findNextIndex(de.length>0?de[0]+H:0,$,Q);ce>-1&&this.setFocus([ce],X)}focusPrevious(H=1,$=!1,X,Q){if(this.length===0)return;const de=this.focus.get(),ce=this.findPreviousIndex(de.length>0?de[0]-H:0,$,Q);ce>-1&&this.setFocus([ce],X)}focusNextPage(H,$){return Le(this,void 0,void 0,function*(){let X=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);X=X===0?0:X-1;const Q=this.getFocus()[0];if(Q!==X&&(Q===void 0||X>Q)){const de=this.findPreviousIndex(X,!1,$);de>-1&&Q!==de?this.setFocus([de],H):this.setFocus([X],H)}else{const de=this.view.getScrollTop();let ce=de+this.view.renderHeight;X>Q&&(ce-=this.view.elementHeight(X)),this.view.setScrollTop(ce),this.view.getScrollTop()!==de&&(this.setFocus([]),yield(0,f.timeout)(0),yield this.focusNextPage(H,$))}})}focusPreviousPage(H,$){return Le(this,void 0,void 0,function*(){let X;const Q=this.view.getScrollTop();Q===0?X=this.view.indexAt(Q):X=this.view.indexAfter(Q-1);const de=this.getFocus()[0];if(de!==X&&(de===void 0||de>=X)){const ce=this.findNextIndex(X,!1,$);ce>-1&&de!==ce?this.setFocus([ce],H):this.setFocus([X],H)}else{const ce=Q;this.view.setScrollTop(Q-this.view.renderHeight),this.view.getScrollTop()!==ce&&(this.setFocus([]),yield(0,f.timeout)(0),yield this.focusPreviousPage(H,$))}})}focusLast(H,$){if(this.length===0)return;const X=this.findPreviousIndex(this.length-1,!1,$);X>-1&&this.setFocus([X],H)}focusFirst(H,$){this.focusNth(0,H,$)}focusNth(H,$,X){if(this.length===0)return;const Q=this.findNextIndex(H,!1,X);Q>-1&&this.setFocus([Q],$)}findNextIndex(H,$=!1,X){for(let Q=0;Q<this.length;Q++){if(H>=this.length&&!$)return-1;if(H=H%this.length,!X||X(this.element(H)))return H;H++}return-1}findPreviousIndex(H,$=!1,X){for(let Q=0;Q<this.length;Q++){if(H<0&&!$)return-1;if(H=(this.length+H%this.length)%this.length,!X||X(this.element(H)))return H;H--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(H=>this.view.element(H))}reveal(H,$){if(H<0||H>=this.length)throw new s.ListError(this.user,`Invalid index ${H}`);const X=this.view.getScrollTop(),Q=this.view.elementTop(H),de=this.view.elementHeight(H);if((0,h.isNumber)($)){const ce=de-this.view.renderHeight;this.view.setScrollTop(ce*(0,r.clamp)($,0,1)+Q)}else{const ce=Q+de,ae=X+this.view.renderHeight;Q<X&&ce>=ae||(Q<X||ce>=ae&&de>=this.view.renderHeight?this.view.setScrollTop(Q):ce>=ae&&this.view.setScrollTop(ce-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(H){return this.view.getElementDomId(H)}style(H){this.styleController.style(H)}toListEvent({indexes:H,browserEvent:$}){return{indexes:H,elements:H.map(X=>this.view.element(X)),browserEvent:$}}_onFocusChange(){const H=this.focus.get();this.view.domNode.classList.toggle("element-focused",H.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var H;const $=this.focus.get();if($.length>0){let X;!((H=this.accessibilityProvider)===null||H===void 0)&&H.getActiveDescendantId&&(X=this.accessibilityProvider.getActiveDescendantId(this.view.element($[0]))),this.view.domNode.setAttribute("aria-activedescendant",X||this.view.getElementDomId($[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const H=this.selection.get();this.view.domNode.classList.toggle("selection-none",H.length===0),this.view.domNode.classList.toggle("selection-single",H.length===1),this.view.domNode.classList.toggle("selection-multiple",H.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}e.List=U,Ne([o.memoize],U.prototype,"onDidChangeFocus",null),Ne([o.memoize],U.prototype,"onDidChangeSelection",null),Ne([o.memoize],U.prototype,"onContextMenu",null),Ne([o.memoize],U.prototype,"onKeyDown",null),Ne([o.memoize],U.prototype,"onDidFocus",null)}),define(J[572],ee([1,0,15,21,6,2,114,267]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class m{get templateId(){return this.renderer.templateId}constructor(i,t){this.renderer=i,this.modelProvider=t}renderTemplate(i){return{data:this.renderer.renderTemplate(i),disposable:D.Disposable.None}}renderElement(i,t,n,r){var l;if((l=n.disposable)===null||l===void 0||l.dispose(),!n.data)return;const h=this.modelProvider();if(h.isResolved(i))return this.renderer.renderElement(h.get(i),i,n.data,r);const s=new k.CancellationTokenSource,u=h.resolve(i,s.token);n.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(i,n.data),u.then(a=>this.renderer.renderElement(a,i,n.data,r))}disposeTemplate(i){i.disposable&&(i.disposable.dispose(),i.disposable=void 0),i.data&&(this.renderer.disposeTemplate(i.data),i.data=void 0)}}class S{constructor(i,t){this.modelProvider=i,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(i){const t=this.modelProvider();return t.isResolved(i)?this.accessibilityProvider.getAriaLabel(t.get(i)):null}}function f(o,i){return Object.assign(Object.assign({},i),{accessibilityProvider:i.accessibilityProvider&&new S(o,i.accessibilityProvider)})}class v{constructor(i,t,n,r,l={}){const h=()=>this.model,s=r.map(u=>new m(u,h));this.list=new _.List(i,t,n,s,f(h,l))}updateOptions(i){this.list.updateOptions(i)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return L.Event.map(this.list.onMouseDblClick,({element:i,index:t,browserEvent:n})=>({element:i===void 0?void 0:this._model.get(i),index:t,browserEvent:n}))}get onPointer(){return L.Event.map(this.list.onPointer,({element:i,index:t,browserEvent:n})=>({element:i===void 0?void 0:this._model.get(i),index:t,browserEvent:n}))}get onDidChangeSelection(){return L.Event.map(this.list.onDidChangeSelection,({elements:i,indexes:t,browserEvent:n})=>({elements:i.map(r=>this._model.get(r)),indexes:t,browserEvent:n}))}get model(){return this._model}set model(i){this._model=i,this.list.splice(0,this.list.length,(0,y.range)(i.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(i=>this.model.get(i))}style(i){this.list.style(i)}dispose(){this.list.dispose()}}e.PagedList=v}),define(J[308],ee([1,0,7,80,132,74,15,37,6,2,142,169,18,404]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const t={separatorBorder:m.Color.transparent};class n{set size(d){this._size=d}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(d,c){var b,g;d!==this.visible&&(d?(this.size=(0,v.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof c=="number"?c:this.size,this.size=0),this.container.classList.toggle("visible",d),(g=(b=this.view).setVisible)===null||g===void 0||g.call(b,d))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var d;return(d=this.view.proportionalLayout)!==null&&d!==void 0?d:!0}get snap(){return!!this.view.snap}set enabled(d){this.container.style.pointerEvents=d?"":"none"}constructor(d,c,b,g){this.container=d,this.view=c,this.disposable=g,this._cachedVisibleSize=void 0,typeof b=="number"?(this._size=b,this._cachedVisibleSize=void 0,d.classList.add("visible")):(this._size=0,this._cachedVisibleSize=b.cachedVisibleSize)}layout(d,c){this.layoutContainer(d),this.view.layout(this.size,d,c)}dispose(){this.disposable.dispose()}}class r extends n{layoutContainer(d){this.container.style.top=`${d}px`,this.container.style.height=`${this.size}px`}}class l extends n{layoutContainer(d){this.container.style.left=`${d}px`,this.container.style.width=`${this.size}px`}}var h;(function(a){a[a.Idle=0]="Idle",a[a.Busy=1]="Busy"})(h||(h={}));var s;(function(a){a.Distribute={type:"distribute"};function d(g){return{type:"split",index:g}}a.Split=d;function c(g){return{type:"auto",index:g}}a.Auto=c;function b(g){return{type:"invisible",cachedVisibleSize:g}}a.Invisible=b})(s||(e.Sizing=s={}));class u extends f.Disposable{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(d){for(const c of this.sashItems)c.sash.orthogonalStartSash=d;this._orthogonalStartSash=d}set orthogonalEndSash(d){for(const c of this.sashItems)c.sash.orthogonalEndSash=d;this._orthogonalEndSash=d}set startSnappingEnabled(d){this._startSnappingEnabled!==d&&(this._startSnappingEnabled=d,this.updateSashEnablement())}set endSnappingEnabled(d){this._endSnappingEnabled!==d&&(this._endSnappingEnabled=d,this.updateSashEnablement())}constructor(d,c={}){var b,g,p,C,w;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=h.Idle,this._onDidSashChange=this._register(new S.Emitter),this._onDidSashReset=this._register(new S.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(b=c.orientation)!==null&&b!==void 0?b:0,this.inverseAltBehavior=(g=c.inverseAltBehavior)!==null&&g!==void 0?g:!1,this.proportionalLayout=(p=c.proportionalLayout)!==null&&p!==void 0?p:!0,this.getSashOrthogonalSize=c.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),d.appendChild(this.el),this.sashContainer=(0,y.append)(this.el,(0,y.$)(".sash-container")),this.viewContainer=(0,y.$)(".split-view-container"),this.scrollable=new o.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:y.scheduleAtNextAnimationFrame}),this.scrollableElement=this._register(new D.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(C=c.scrollbarVisibility)!==null&&C!==void 0?C:1:2,horizontal:this.orientation===1?(w=c.scrollbarVisibility)!==null&&w!==void 0?w:1:2},this.scrollable));const E=this._register(new k.DomEmitter(this.viewContainer,"scroll")).event;this._register(E(I=>{const T=this.scrollableElement.getScrollPosition(),P=Math.abs(this.viewContainer.scrollLeft-T.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,A=Math.abs(this.viewContainer.scrollTop-T.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(P!==void 0||A!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:P,scrollTop:A})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(I=>{I.scrollTopChanged&&(this.viewContainer.scrollTop=I.scrollTop),I.scrollLeftChanged&&(this.viewContainer.scrollLeft=I.scrollLeft)})),(0,y.append)(this.el,this.scrollableElement.getDomNode()),this.style(c.styles||t),c.descriptor&&(this.size=c.descriptor.size,c.descriptor.views.forEach((I,T)=>{const P=i.isUndefined(I.visible)||I.visible?I.size:{type:"invisible",cachedVisibleSize:I.size},A=I.view;this.doAddView(A,P,T,!0)}),this.contentSize=this.viewItems.reduce((I,T)=>I+T.size,0),this.saveProportions())}style(d){d.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",d.separatorBorder.toString()))}addView(d,c,b=this.viewItems.length,g){this.doAddView(d,c,b,g)}layout(d,c){const b=Math.max(this.size,this.contentSize);if(this.size=d,this.layoutContext=c,this.proportions){let g=0;for(let p=0;p<this.viewItems.length;p++){const C=this.viewItems[p],w=this.proportions[p];typeof w=="number"?g+=w:d-=C.size}for(let p=0;p<this.viewItems.length;p++){const C=this.viewItems[p],w=this.proportions[p];typeof w=="number"&&(C.size=(0,v.clamp)(Math.round(w*d/g),C.minimumSize,C.maximumSize))}}else{const g=(0,_.range)(this.viewItems.length),p=g.filter(w=>this.viewItems[w].priority===1),C=g.filter(w=>this.viewItems[w].priority===2);this.resize(this.viewItems.length-1,d-b,void 0,p,C)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(d=>d.proportionalLayout?d.size/this.contentSize:void 0))}onSashStart({sash:d,start:c,alt:b}){for(const w of this.viewItems)w.enabled=!1;const g=this.sashItems.findIndex(w=>w.sash===d),p=(0,f.combinedDisposable)((0,y.addDisposableListener)(document.body,"keydown",w=>C(this.sashDragState.current,w.altKey)),(0,y.addDisposableListener)(document.body,"keyup",()=>C(this.sashDragState.current,!1))),C=(w,E)=>{const I=this.viewItems.map(N=>N.size);let T=Number.NEGATIVE_INFINITY,P=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(E=!E),E)if(g===this.sashItems.length-1){const O=this.viewItems[g];T=(O.minimumSize-O.size)/2,P=(O.maximumSize-O.size)/2}else{const O=this.viewItems[g+1];T=(O.size-O.maximumSize)/2,P=(O.size-O.minimumSize)/2}let A,M;if(!E){const N=(0,_.range)(g,-1),O=(0,_.range)(g+1,this.viewItems.length),x=N.reduce((le,te)=>le+(this.viewItems[te].minimumSize-I[te]),0),F=N.reduce((le,te)=>le+(this.viewItems[te].viewMaximumSize-I[te]),0),B=O.length===0?Number.POSITIVE_INFINITY:O.reduce((le,te)=>le+(I[te]-this.viewItems[te].minimumSize),0),z=O.length===0?Number.NEGATIVE_INFINITY:O.reduce((le,te)=>le+(I[te]-this.viewItems[te].viewMaximumSize),0),j=Math.max(x,z),R=Math.min(B,F),Z=this.findFirstSnapIndex(N),se=this.findFirstSnapIndex(O);if(typeof Z=="number"){const le=this.viewItems[Z],te=Math.floor(le.viewMinimumSize/2);A={index:Z,limitDelta:le.visible?j-te:j+te,size:le.size}}if(typeof se=="number"){const le=this.viewItems[se],te=Math.floor(le.viewMinimumSize/2);M={index:se,limitDelta:le.visible?R+te:R-te,size:le.size}}}this.sashDragState={start:w,current:w,index:g,sizes:I,minDelta:T,maxDelta:P,alt:E,snapBefore:A,snapAfter:M,disposable:p}};C(c,b)}onSashChange({current:d}){const{index:c,start:b,sizes:g,alt:p,minDelta:C,maxDelta:w,snapBefore:E,snapAfter:I}=this.sashDragState;this.sashDragState.current=d;const T=d-b,P=this.resize(c,T,g,void 0,void 0,C,w,E,I);if(p){const A=c===this.sashItems.length-1,M=this.viewItems.map(z=>z.size),N=A?c:c+1,O=this.viewItems[N],x=O.size-O.maximumSize,F=O.size-O.minimumSize,B=A?c-1:c+1;this.resize(B,-P,M,void 0,void 0,x,F)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(d){this._onDidSashChange.fire(d),this.sashDragState.disposable.dispose(),this.saveProportions();for(const c of this.viewItems)c.enabled=!0}onViewChange(d,c){const b=this.viewItems.indexOf(d);b<0||b>=this.viewItems.length||(c=typeof c=="number"?c:d.size,c=(0,v.clamp)(c,d.minimumSize,d.maximumSize),this.inverseAltBehavior&&b>0?(this.resize(b-1,Math.floor((d.size-c)/2)),this.distributeEmptySpace(),this.layoutViews()):(d.size=c,this.relayout([b],void 0)))}resizeView(d,c){if(this.state!==h.Idle)throw new Error("Cant modify splitview");if(this.state=h.Busy,d<0||d>=this.viewItems.length)return;const b=(0,_.range)(this.viewItems.length).filter(w=>w!==d),g=[...b.filter(w=>this.viewItems[w].priority===1),d],p=b.filter(w=>this.viewItems[w].priority===2),C=this.viewItems[d];c=Math.round(c),c=(0,v.clamp)(c,C.minimumSize,Math.min(C.maximumSize,this.size)),C.size=c,this.relayout(g,p),this.state=h.Idle}distributeViewSizes(){const d=[];let c=0;for(const w of this.viewItems)w.maximumSize-w.minimumSize>0&&(d.push(w),c+=w.size);const b=Math.floor(c/d.length);for(const w of d)w.size=(0,v.clamp)(b,w.minimumSize,w.maximumSize);const g=(0,_.range)(this.viewItems.length),p=g.filter(w=>this.viewItems[w].priority===1),C=g.filter(w=>this.viewItems[w].priority===2);this.relayout(p,C)}getViewSize(d){return d<0||d>=this.viewItems.length?-1:this.viewItems[d].size}doAddView(d,c,b=this.viewItems.length,g){if(this.state!==h.Idle)throw new Error("Cant modify splitview");this.state=h.Busy;const p=(0,y.$)(".split-view-view");b===this.viewItems.length?this.viewContainer.appendChild(p):this.viewContainer.insertBefore(p,this.viewContainer.children.item(b));const C=d.onDidChange(A=>this.onViewChange(T,A)),w=(0,f.toDisposable)(()=>this.viewContainer.removeChild(p)),E=(0,f.combinedDisposable)(C,w);let I;typeof c=="number"?I=c:(c.type==="auto"&&(this.areViewsDistributed()?c={type:"distribute"}:c={type:"split",index:c.index}),c.type==="split"?I=this.getViewSize(c.index)/2:c.type==="invisible"?I={cachedVisibleSize:c.cachedVisibleSize}:I=d.minimumSize);const T=this.orientation===0?new r(p,d,I,E):new l(p,d,I,E);if(this.viewItems.splice(b,0,T),this.viewItems.length>1){const A={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},M=this.orientation===0?new L.Sash(this.sashContainer,{getHorizontalSashTop:le=>this.getSashPosition(le),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},A),{orientation:1})):new L.Sash(this.sashContainer,{getVerticalSashLeft:le=>this.getSashPosition(le),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},A),{orientation:0})),N=this.orientation===0?le=>({sash:M,start:le.startY,current:le.currentY,alt:le.altKey}):le=>({sash:M,start:le.startX,current:le.currentX,alt:le.altKey}),x=S.Event.map(M.onDidStart,N)(this.onSashStart,this),B=S.Event.map(M.onDidChange,N)(this.onSashChange,this),j=S.Event.map(M.onDidEnd,()=>this.sashItems.findIndex(le=>le.sash===M))(this.onSashEnd,this),R=M.onDidReset(()=>{const le=this.sashItems.findIndex(H=>H.sash===M),te=(0,_.range)(le,-1),Y=(0,_.range)(le+1,this.viewItems.length),U=this.findFirstSnapIndex(te),V=this.findFirstSnapIndex(Y);typeof U=="number"&&!this.viewItems[U].visible||typeof V=="number"&&!this.viewItems[V].visible||this._onDidSashReset.fire(le)}),Z=(0,f.combinedDisposable)(x,B,j,R,M),se={sash:M,disposable:Z};this.sashItems.splice(b-1,0,se)}p.appendChild(d.element);let P;typeof c!="number"&&c.type==="split"&&(P=[c.index]),g||this.relayout([b],P),this.state=h.Idle,!g&&typeof c!="number"&&c.type==="distribute"&&this.distributeViewSizes()}relayout(d,c){const b=this.viewItems.reduce((g,p)=>g+p.size,0);this.resize(this.viewItems.length-1,this.size-b,void 0,d,c),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(d,c,b=this.viewItems.map(T=>T.size),g,p,C=Number.NEGATIVE_INFINITY,w=Number.POSITIVE_INFINITY,E,I){if(d<0||d>=this.viewItems.length)return 0;const T=(0,_.range)(d,-1),P=(0,_.range)(d+1,this.viewItems.length);if(p)for(const se of p)(0,_.pushToStart)(T,se),(0,_.pushToStart)(P,se);if(g)for(const se of g)(0,_.pushToEnd)(T,se),(0,_.pushToEnd)(P,se);const A=T.map(se=>this.viewItems[se]),M=T.map(se=>b[se]),N=P.map(se=>this.viewItems[se]),O=P.map(se=>b[se]),x=T.reduce((se,le)=>se+(this.viewItems[le].minimumSize-b[le]),0),F=T.reduce((se,le)=>se+(this.viewItems[le].maximumSize-b[le]),0),B=P.length===0?Number.POSITIVE_INFINITY:P.reduce((se,le)=>se+(b[le]-this.viewItems[le].minimumSize),0),z=P.length===0?Number.NEGATIVE_INFINITY:P.reduce((se,le)=>se+(b[le]-this.viewItems[le].maximumSize),0),j=Math.max(x,z,C),R=Math.min(B,F,w);let Z=!1;if(E){const se=this.viewItems[E.index],le=c>=E.limitDelta;Z=le!==se.visible,se.setVisible(le,E.size)}if(!Z&&I){const se=this.viewItems[I.index],le=c<I.limitDelta;Z=le!==se.visible,se.setVisible(le,I.size)}if(Z)return this.resize(d,c,b,g,p,C,w);c=(0,v.clamp)(c,j,R);for(let se=0,le=c;se<A.length;se++){const te=A[se],Y=(0,v.clamp)(M[se]+le,te.minimumSize,te.maximumSize),U=Y-M[se];le-=U,te.size=Y}for(let se=0,le=c;se<N.length;se++){const te=N[se],Y=(0,v.clamp)(O[se]-le,te.minimumSize,te.maximumSize),U=Y-O[se];le+=U,te.size=Y}return c}distributeEmptySpace(d){const c=this.viewItems.reduce((w,E)=>w+E.size,0);let b=this.size-c;const g=(0,_.range)(this.viewItems.length-1,-1),p=g.filter(w=>this.viewItems[w].priority===1),C=g.filter(w=>this.viewItems[w].priority===2);for(const w of C)(0,_.pushToStart)(g,w);for(const w of p)(0,_.pushToEnd)(g,w);typeof d=="number"&&(0,_.pushToEnd)(g,d);for(let w=0;b!==0&&w<g.length;w++){const E=this.viewItems[g[w]],I=(0,v.clamp)(E.size+b,E.minimumSize,E.maximumSize),T=I-E.size;b-=T,E.size=I}}layoutViews(){this.contentSize=this.viewItems.reduce((c,b)=>c+b.size,0);let d=0;for(const c of this.viewItems)c.layout(d,this.layoutContext),d+=c.size;this.sashItems.forEach(c=>c.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let d=!1;const c=this.viewItems.map(E=>d=E.size-E.minimumSize>0||d);d=!1;const b=this.viewItems.map(E=>d=E.maximumSize-E.size>0||d),g=[...this.viewItems].reverse();d=!1;const p=g.map(E=>d=E.size-E.minimumSize>0||d).reverse();d=!1;const C=g.map(E=>d=E.maximumSize-E.size>0||d).reverse();let w=0;for(let E=0;E<this.sashItems.length;E++){const{sash:I}=this.sashItems[E],T=this.viewItems[E];w+=T.size;const P=!(c[E]&&C[E+1]),A=!(b[E]&&p[E+1]);if(P&&A){const M=(0,_.range)(E,-1),N=(0,_.range)(E+1,this.viewItems.length),O=this.findFirstSnapIndex(M),x=this.findFirstSnapIndex(N),F=typeof O=="number"&&!this.viewItems[O].visible,B=typeof x=="number"&&!this.viewItems[x].visible;F&&p[E]&&(w>0||this.startSnappingEnabled)?I.state=1:B&&c[E]&&(w<this.contentSize||this.endSnappingEnabled)?I.state=2:I.state=0}else P&&!A?I.state=1:!P&&A?I.state=2:I.state=3}}getSashPosition(d){let c=0;for(let b=0;b<this.sashItems.length;b++)if(c+=this.viewItems[b].size,this.sashItems[b].sash===d)return c;return 0}findFirstSnapIndex(d){for(const c of d){const b=this.viewItems[c];if(b.visible&&b.snap)return c}for(const c of d){const b=this.viewItems[c];if(b.visible&&b.maximumSize-b.minimumSize>0)return;if(!b.visible&&b.snap)return c}}areViewsDistributed(){let d,c;for(const b of this.viewItems)if(d=d===void 0?b.size:Math.min(d,b.size),c=c===void 0?b.size:Math.max(c,b.size),c-d>2)return!1;return!0}dispose(){var d;(d=this.sashDragState)===null||d===void 0||d.disposable.dispose(),(0,f.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(c=>c.disposable.dispose()),this.sashItems=[],super.dispose()}}e.SplitView=u}),define(J[573],ee([1,0,7,114,308,6,2,405]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class m{constructor(i,t,n){this.columns=i,this.getColumnSize=n,this.templateId=m.TemplateId,this.renderedTemplates=new Set;const r=new Map(t.map(l=>[l.templateId,l]));this.renderers=[];for(const l of i){const h=r.get(l.templateId);if(!h)throw new Error(`Table cell renderer for template id ${l.templateId} not found.`);this.renderers.push(h)}}renderTemplate(i){const t=(0,y.append)(i,(0,y.$)(".monaco-table-tr")),n=[],r=[];for(let h=0;h<this.columns.length;h++){const s=this.renderers[h],u=(0,y.append)(t,(0,y.$)(".monaco-table-td",{"data-col-index":h}));u.style.width=`${this.getColumnSize(h)}px`,n.push(u),r.push(s.renderTemplate(u))}const l={container:i,cellContainers:n,cellTemplateData:r};return this.renderedTemplates.add(l),l}renderElement(i,t,n,r){for(let l=0;l<this.columns.length;l++){const s=this.columns[l].project(i);this.renderers[l].renderElement(s,t,n.cellTemplateData[l],r)}}disposeElement(i,t,n,r){for(let l=0;l<this.columns.length;l++){const h=this.renderers[l];if(h.disposeElement){const u=this.columns[l].project(i);h.disposeElement(u,t,n.cellTemplateData[l],r)}}}disposeTemplate(i){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(i.cellTemplateData[t]);(0,y.clearNode)(i.container),this.renderedTemplates.delete(i)}layoutColumn(i,t){for(const{cellContainers:n}of this.renderedTemplates)n[i].style.width=`${t}px`}}m.TemplateId="row";function S(o){return{getHeight(i){return o.getHeight(i)},getTemplateId(){return m.TemplateId}}}class f{get minimumSize(){var i;return(i=this.column.minimumWidth)!==null&&i!==void 0?i:120}get maximumSize(){var i;return(i=this.column.maximumWidth)!==null&&i!==void 0?i:Number.POSITIVE_INFINITY}get onDidChange(){var i;return(i=this.column.onDidChangeWidthConstraints)!==null&&i!==void 0?i:D.Event.None}constructor(i,t){this.column=i,this.index=t,this._onDidLayout=new D.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,y.$)(".monaco-table-th",{"data-col-index":t,title:i.tooltip},i.label)}layout(i){this._onDidLayout.fire([this.index,i])}}class v{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(i){this.list.scrollTop=i}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(i,t,n,r,l,h){this.virtualDelegate=n,this.domId=`table_id_${++v.InstanceCount}`,this.disposables=new _.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,y.append)(t,(0,y.$)(`.monaco-table.${this.domId}`));const s=r.map((d,c)=>new f(d,c)),u={size:s.reduce((d,c)=>d+c.column.weight,0),views:s.map(d=>({size:d.column.weight,view:d}))};this.splitview=this.disposables.add(new L.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:u})),this.splitview.el.style.height=`${n.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${n.headerRowHeight}px`;const a=new m(r,l,d=>this.splitview.getViewSize(d));this.list=this.disposables.add(new k.List(i,this.domNode,S(n),[a],h)),D.Event.any(...s.map(d=>d.onDidLayout))(([d,c])=>a.layoutColumn(d,c),null,this.disposables),this.splitview.onDidSashReset(d=>{const c=r.reduce((g,p)=>g+p.weight,0),b=r[d].weight/c*this.cachedWidth;this.splitview.resizeView(d,b)},null,this.disposables),this.styleElement=(0,y.createStyleSheet)(this.domNode),this.style(k.unthemedListStyles)}updateOptions(i){this.list.updateOptions(i)}splice(i,t,n=[]){this.list.splice(i,t,n)}getHTMLElement(){return this.domNode}style(i){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(i)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=v,v.InstanceCount=0}),define(J[155],ee([1,0,82,27,6,406]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=e.unthemedToggleStyles=void 0,e.unthemedToggleStyles={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class D extends y.Widget{constructor(m){super(),this._onChange=this._register(new L.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=m,this._checked=this._opts.isChecked;const S=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,S.push(...k.ThemeIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&S.push(...this._opts.actionClassName.split(" ")),this._checked&&S.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...S),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,f=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),f.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,f=>{if(f.keyCode===10||f.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),f.preventDefault(),f.stopPropagation();return}this._onKeyDown.fire(f)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(m){this._checked=m,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=D}),define(J[309],ee([1,0,155,26,548]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const D=L.localize(0,null),_=L.localize(1,null),m=L.localize(2,null);class S extends y.Toggle{constructor(i){super({icon:k.Codicon.caseSensitive,title:D+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.CaseSensitiveToggle=S;class f extends y.Toggle{constructor(i){super({icon:k.Codicon.wholeWord,title:_+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.WholeWordsToggle=f;class v extends y.Toggle{constructor(i){super({icon:k.Codicon.regex,title:m+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.RegexToggle=v}),define(J[43],ee([1,0,222,54,92,17,9,22]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function S(o){return(0,m.uriToFsPath)(o,!0)}e.originalFSPath=S;class f{constructor(i){this._ignorePathCasing=i}compare(i,t,n=!1){return i===t?0:(0,_.compare)(this.getComparisonKey(i,n),this.getComparisonKey(t,n))}isEqual(i,t,n=!1){return i===t?!0:!i||!t?!1:this.getComparisonKey(i,n)===this.getComparisonKey(t,n)}getComparisonKey(i,t=!1){return i.with({path:this._ignorePathCasing(i)?i.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(i,t,n=!1){if(i.scheme===t.scheme){if(i.scheme===k.Schemas.file)return y.isEqualOrParent(S(i),S(t),this._ignorePathCasing(i))&&i.query===t.query&&(n||i.fragment===t.fragment);if((0,e.isEqualAuthority)(i.authority,t.authority))return y.isEqualOrParent(i.path,t.path,this._ignorePathCasing(i),"/")&&i.query===t.query&&(n||i.fragment===t.fragment)}return!1}joinPath(i,...t){return m.URI.joinPath(i,...t)}basenameOrAuthority(i){return(0,e.basename)(i)||i.authority}basename(i){return L.posix.basename(i.path)}extname(i){return L.posix.extname(i.path)}dirname(i){if(i.path.length===0)return i;let t;return i.scheme===k.Schemas.file?t=m.URI.file(L.dirname(S(i))).path:(t=L.posix.dirname(i.path),i.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${i.toString})) resulted in a relative path`),t="/")),i.with({path:t})}normalizePath(i){if(!i.path.length)return i;let t;return i.scheme===k.Schemas.file?t=m.URI.file(L.normalize(S(i))).path:t=L.posix.normalize(i.path),i.with({path:t})}relativePath(i,t){if(i.scheme!==t.scheme||!(0,e.isEqualAuthority)(i.authority,t.authority))return;if(i.scheme===k.Schemas.file){const l=L.relative(S(i),S(t));return D.isWindows?y.toSlashes(l):l}let n=i.path||"/";const r=t.path||"/";if(this._ignorePathCasing(i)){let l=0;for(const h=Math.min(n.length,r.length);l<h&&!(n.charCodeAt(l)!==r.charCodeAt(l)&&n.charAt(l).toLowerCase()!==r.charAt(l).toLowerCase());l++);n=r.substr(0,l)+n.substr(l)}return L.posix.relative(n,r)}resolvePath(i,t){if(i.scheme===k.Schemas.file){const n=m.URI.file(L.resolve(S(i),t));return i.with({authority:n.authority,path:n.path})}return t=y.toPosixPath(t),i.with({path:L.posix.resolve(i.path,t)})}isAbsolutePath(i){return!!i.path&&i.path[0]==="/"}isEqualAuthority(i,t){return i===t||i!==void 0&&t!==void 0&&(0,_.equalsIgnoreCase)(i,t)}hasTrailingPathSeparator(i,t=L.sep){if(i.scheme===k.Schemas.file){const n=S(i);return n.length>y.getRoot(n).length&&n[n.length-1]===t}else{const n=i.path;return n.length>1&&n.charCodeAt(n.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(i.fsPath)}}removeTrailingPathSeparator(i,t=L.sep){return(0,e.hasTrailingPathSeparator)(i,t)?i.with({path:i.path.substr(0,i.path.length-1)}):i}addTrailingPathSeparator(i,t=L.sep){let n=!1;if(i.scheme===k.Schemas.file){const r=S(i);n=r!==void 0&&r.length===y.getRoot(r).length&&r[r.length-1]===t}else{t="/";const r=i.path;n=r.length===1&&r.charCodeAt(r.length-1)===47}return!n&&!(0,e.hasTrailingPathSeparator)(i,t)?i.with({path:i.path+"/"}):i}}e.ExtUri=f,e.extUri=new f(()=>!1),e.extUriBiasedIgnorePathCase=new f(o=>o.scheme===k.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new f(o=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var v;(function(o){o.META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime";function i(t){const n=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(h=>{const[s,u]=h.split(":");s&&u&&n.set(s,u)});const l=t.path.substring(0,t.path.indexOf(";"));return l&&n.set(o.META_DATA_MIME,l),n}o.parseMetaData=i})(v||(e.DataUri=v={}))}),define(J[55],ee([1,0,12,120,43,9,22]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeDoubleQuotes=e.escapeMarkdownSyntaxTokens=e.markdownStringEqual=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class m{constructor(l="",h=!1){var s,u,a;if(this.value=l,typeof this.value!="string")throw(0,y.illegalArgument)("value");typeof h=="boolean"?(this.isTrusted=h,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(s=h.isTrusted)!==null&&s!==void 0?s:void 0,this.supportThemeIcons=(u=h.supportThemeIcons)!==null&&u!==void 0?u:!1,this.supportHtml=(a=h.supportHtml)!==null&&a!==void 0?a:!1)}appendText(l,h=0){return this.value+=o(this.supportThemeIcons?(0,k.escapeIcons)(l):l).replace(/([ \t]+)/g,(s,u)=>"&nbsp;".repeat(u.length)).replace(/\>/gm,"\\>").replace(/\n/g,h===1?`\\
`:`

`),this}appendMarkdown(l){return this.value+=l,this}appendCodeblock(l,h){return this.value+="\n```",this.value+=l,this.value+=`
`,this.value+=h,this.value+="\n```\n",this}appendLink(l,h,s){return this.value+="[",this.value+=this._escape(h,"]"),this.value+="](",this.value+=this._escape(String(l),")"),s&&(this.value+=` "${this._escape(this._escape(s,'"'),")")}"`),this.value+=")",this}_escape(l,h){const s=new RegExp((0,D.escapeRegExpCharacters)(h),"g");return l.replace(s,(u,a)=>l.charAt(a-1)!=="\\"?`\\${u}`:u)}}e.MarkdownString=m;function S(r){return f(r)?!r.value:Array.isArray(r)?r.every(S):!0}e.isEmptyMarkdownString=S;function f(r){return r instanceof m?!0:r&&typeof r=="object"?typeof r.value=="string"&&(typeof r.isTrusted=="boolean"||typeof r.isTrusted=="object"||r.isTrusted===void 0)&&(typeof r.supportThemeIcons=="boolean"||r.supportThemeIcons===void 0):!1}e.isMarkdownString=f;function v(r,l){return r===l?!0:!r||!l?!1:r.value===l.value&&r.isTrusted===l.isTrusted&&r.supportThemeIcons===l.supportThemeIcons&&r.supportHtml===l.supportHtml&&(r.baseUri===l.baseUri||!!r.baseUri&&!!l.baseUri&&(0,L.isEqual)(_.URI.from(r.baseUri),_.URI.from(l.baseUri)))}e.markdownStringEqual=v;function o(r){return r.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=o;function i(r){return r.replace(/"/g,"&quot;")}e.escapeDoubleQuotes=i;function t(r){return r&&r.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}e.removeMarkdownEscapes=t;function n(r){const l=[],h=r.split("|").map(u=>u.trim());r=h[0];const s=h[1];if(s){const u=/height=(\d+)/.exec(s),a=/width=(\d+)/.exec(s),d=u?u[1]:"",c=a?a[1]:"",b=isFinite(parseInt(c)),g=isFinite(parseInt(d));b&&l.push(`width="${c}"`),g&&l.push(`height="${d}"`)}return{href:r,dimensions:l}}e.parseHrefAndDimensions=n}),define(J[185],ee([1,0,7,301,80,302,45,58,131,12,6,55,120,167,99,2,382,223,54,46,43,9,22]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fillInIncompleteTokens=e.renderMarkdownAsPlaintext=e.renderStringAsPlaintext=e.allowedMarkdownAttr=e.renderMarkdown=void 0;const b=Object.freeze({image:(Y,U,V)=>{let H=[],$=[];return Y&&({href:Y,dimensions:H}=(0,o.parseHrefAndDimensions)(Y),$.push(`src="${(0,o.escapeDoubleQuotes)(Y)}"`)),V&&$.push(`alt="${(0,o.escapeDoubleQuotes)(V)}"`),U&&$.push(`title="${(0,o.escapeDoubleQuotes)(U)}"`),H.length&&($=$.concat(H)),"<img "+$.join(" ")+">"},paragraph:Y=>`<p>${Y}</p>`,link:(Y,U,V)=>typeof Y!="string"?"":(Y===V&&(V=(0,o.removeMarkdownEscapes)(V)),U=typeof U=="string"?(0,o.escapeDoubleQuotes)((0,o.removeMarkdownEscapes)(U)):"",Y=(0,o.removeMarkdownEscapes)(Y),Y=Y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${Y}" title="${U||Y}">${V}</a>`)});function g(Y,U={},V={}){var H,$;const X=new r.DisposableStore;let Q=!1;const de=(0,D.createElement)(U),ce=function(re){let ge;try{ge=(0,h.parse)(decodeURIComponent(re))}catch{}return ge?(ge=(0,u.cloneAndChange)(ge,ve=>{if(Y.uris&&Y.uris[ve])return c.URI.revive(Y.uris[ve])}),encodeURIComponent(JSON.stringify(ge))):re},ae=function(re,ge){const ve=Y.uris&&Y.uris[re];let we=c.URI.revive(ve);return ge?re.startsWith(s.Schemas.data+":")?re:(we||(we=c.URI.parse(re)),s.FileAccess.uriToBrowserUri(we).toString(!0)):!we||c.URI.parse(re).toString()===we.toString()?re:(we.query&&(we=we.with({query:ce(we.query)})),we.toString())},ue=new l.marked.Renderer;ue.image=b.image,ue.link=b.link,ue.paragraph=b.paragraph;const q=[],W=[];if(U.codeBlockRendererSync?ue.code=(re,ge)=>{const ve=t.defaultGenerator.nextId(),we=U.codeBlockRendererSync(p(ge),re);return W.push([ve,we]),`<div class="code" data-code="${ve}">${(0,d.escape)(re)}</div>`}:U.codeBlockRenderer&&(ue.code=(re,ge)=>{const ve=t.defaultGenerator.nextId(),we=U.codeBlockRenderer(p(ge),re);return q.push(we.then(ye=>[ve,ye])),`<div class="code" data-code="${ve}">${(0,d.escape)(re)}</div>`}),U.actionHandler){const re=function(we){let ye=we.target;if(!(ye.tagName!=="A"&&(ye=ye.parentElement,!ye||ye.tagName!=="A")))try{let Ie=ye.dataset.href;Ie&&(Y.baseUri&&(Ie=C(c.URI.from(Y.baseUri),Ie)),U.actionHandler.callback(Ie,we))}catch(Ie){(0,f.onUnexpectedError)(Ie)}finally{we.preventDefault()}},ge=U.actionHandler.disposables.add(new L.DomEmitter(de,"click")),ve=U.actionHandler.disposables.add(new L.DomEmitter(de,"auxclick"));U.actionHandler.disposables.add(v.Event.any(ge.event,ve.event)(we=>{const ye=new m.StandardMouseEvent(we);!ye.leftButton&&!ye.middleButton||re(ye)})),U.actionHandler.disposables.add(y.addDisposableListener(de,"keydown",we=>{const ye=new _.StandardKeyboardEvent(we);!ye.equals(10)&&!ye.equals(3)||re(ye)}))}Y.supportHtml||(V.sanitizer=re=>(Y.isTrusted?re.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?re:"",V.sanitize=!0,V.silent=!0),V.renderer=ue;let K=(H=Y.value)!==null&&H!==void 0?H:"";K.length>1e5&&(K=`${K.substr(0,1e5)}\u2026`),Y.supportThemeIcons&&(K=(0,i.markdownEscapeEscapedIcons)(K));let ie;if(U.fillInIncompleteTokens){const re=Object.assign(Object.assign({},l.marked.defaults),V),ge=l.marked.lexer(K,re),ve=O(ge);ie=l.marked.parser(ve,re)}else ie=l.marked.parse(K,V);Y.supportThemeIcons&&(ie=(0,S.renderLabelWithIcons)(ie).map(ge=>typeof ge=="string"?ge:ge.outerHTML).join(""));const oe=new DOMParser().parseFromString(w(Y,ie),"text/html");if(oe.body.querySelectorAll("img").forEach(re=>{const ge=re.getAttribute("src");if(ge){let ve=ge;try{Y.baseUri&&(ve=C(c.URI.from(Y.baseUri),ve))}catch{}re.src=ae(ve,!0)}}),oe.body.querySelectorAll("a").forEach(re=>{const ge=re.getAttribute("href");if(re.setAttribute("href",""),!ge||/^data:|javascript:/i.test(ge)||/^command:/i.test(ge)&&!Y.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(ge))re.replaceWith(...re.childNodes);else{let ve=ae(ge,!1);Y.baseUri&&(ve=C(c.URI.from(Y.baseUri),ge)),re.dataset.href=ve}}),de.innerHTML=w(Y,oe.body.innerHTML),q.length>0)Promise.all(q).then(re=>{var ge,ve;if(Q)return;const we=new Map(re),ye=de.querySelectorAll("div[data-code]");for(const Ie of ye){const Ee=we.get((ge=Ie.dataset.code)!==null&&ge!==void 0?ge:"");Ee&&y.reset(Ie,Ee)}(ve=U.asyncRenderCallback)===null||ve===void 0||ve.call(U)});else if(W.length>0){const re=new Map(W),ge=de.querySelectorAll("div[data-code]");for(const ve of ge){const we=re.get(($=ve.dataset.code)!==null&&$!==void 0?$:"");we&&y.reset(ve,we)}}if(U.asyncRenderCallback)for(const re of de.getElementsByTagName("img")){const ge=X.add(y.addDisposableListener(re,"load",()=>{ge.dispose(),U.asyncRenderCallback()}))}return{element:de,dispose:()=>{Q=!0,X.dispose()}}}e.renderMarkdown=g;function p(Y){if(!Y)return"";const U=Y.split(/[\s+|:|,|\{|\?]/,1);return U.length?U[0]:Y}function C(Y,U){return/^\w[\w\d+.-]*:/.test(U)?U:Y.path.endsWith("/")?(0,a.resolvePath)(Y,U).toString():(0,a.resolvePath)((0,a.dirname)(Y),U).toString()}function w(Y,U){const{config:V,allowedSchemes:H}=E(Y);k.addHook("uponSanitizeAttribute",(X,Q)=>{if(Q.attrName==="style"||Q.attrName==="class"){if(X.tagName==="SPAN"){if(Q.attrName==="style"){Q.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(Q.attrValue);return}else if(Q.attrName==="class"){Q.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(Q.attrValue);return}}Q.keepAttr=!1;return}});const $=y.hookDomPurifyHrefAndSrcSanitizer(H);try{return k.sanitize(U,Object.assign(Object.assign({},V),{RETURN_TRUSTED_TYPE:!0}))}finally{k.removeHook("uponSanitizeAttribute"),$.dispose()}}e.allowedMarkdownAttr=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function E(Y){const U=[s.Schemas.http,s.Schemas.https,s.Schemas.mailto,s.Schemas.data,s.Schemas.file,s.Schemas.vscodeFileResource,s.Schemas.vscodeRemote,s.Schemas.vscodeRemoteResource];return Y.isTrusted&&U.push(s.Schemas.command),{config:{ALLOWED_TAGS:[...y.basicMarkupHtmlTags],ALLOWED_ATTR:e.allowedMarkdownAttr,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:U}}function I(Y){return typeof Y=="string"?Y:T(Y)}e.renderStringAsPlaintext=I;function T(Y){var U;let V=(U=Y.value)!==null&&U!==void 0?U:"";V.length>1e5&&(V=`${V.substr(0,1e5)}\u2026`);const H=l.marked.parse(V,{renderer:A.value}).replace(/&(#\d+|[a-zA-Z]+);/g,$=>{var X;return(X=P.get($))!==null&&X!==void 0?X:$});return w({isTrusted:!1},H).toString()}e.renderMarkdownAsPlaintext=T;const P=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),A=new n.Lazy(()=>{const Y=new l.marked.Renderer;return Y.code=U=>U,Y.blockquote=U=>U,Y.html=U=>"",Y.heading=(U,V,H)=>U+`
`,Y.hr=()=>"",Y.list=(U,V)=>U,Y.listitem=U=>U+`
`,Y.paragraph=U=>U+`
`,Y.table=(U,V)=>U+V+`
`,Y.tablerow=U=>U,Y.tablecell=(U,V)=>U+" ",Y.strong=U=>U,Y.em=U=>U,Y.codespan=U=>U,Y.br=()=>`
`,Y.del=U=>U,Y.image=(U,V,H)=>"",Y.text=U=>U,Y.link=(U,V,H)=>H,Y});function M(Y){let U="";return Y.forEach(V=>{U+=V.raw}),U}function N(Y){for(const U of Y.tokens)if(U.type==="text"){const V=U.raw.split(`
`),H=V[V.length-1];if(H.includes("`"))return F(Y);if(H.includes("**"))return Z(Y);if(H.match(/\*\w/))return B(Y);if(H.match(/(^|\s)__\w/))return se(Y);if(H.match(/(^|\s)_\w/))return z(Y);if(H.match(/(^|\s)\[.*\]\(\w*/))return j(Y);if(H.match(/(^|\s)\[\w/))return R(Y)}}function O(Y){let U,V;for(U=0;U<Y.length;U++){const H=Y[U];if(H.type==="paragraph"&&H.raw.match(/(\n|^)```/)){V=x(Y.slice(U));break}if(H.type==="paragraph"&&H.raw.match(/(\n|^)\|/)){V=te(Y.slice(U));break}if(U===Y.length-1&&H.type==="paragraph"){const $=N(H);if($){V=[$];break}}}if(V){const H=[...Y.slice(0,U),...V];return H.links=Y.links,H}return Y}e.fillInIncompleteTokens=O;function x(Y){const U=M(Y);return l.marked.lexer(U+"\n```")}function F(Y){return le(Y,"`")}function B(Y){return le(Y,"*")}function z(Y){return le(Y,"_")}function j(Y){return le(Y,")")}function R(Y){return le(Y,"](about:blank)")}function Z(Y){return le(Y,"**")}function se(Y){return le(Y,"__")}function le(Y,U){const V=M(Array.isArray(Y)?Y:[Y]);return l.marked.lexer(V+U)[0]}function te(Y){const U=M(Y),V=U.split(`
`);let H,$=!1;for(let X=0;X<V.length;X++){const Q=V[X].trim();if(typeof H>"u"&&Q.match(/^\s*\|/)){const de=Q.match(/(\|[^\|]+)(?=\||$)/g);de&&(H=de.length)}else if(typeof H=="number")if(Q.match(/^\s*\|/)){if(X!==V.length-1)return;$=!0}else return}if(typeof H=="number"&&H>0){const X=$?V.slice(0,-1).join(`
`):U,Q=!!X.match(/\|\s*$/),de=X+(Q?"":"|")+`
|${" --- |".repeat(H)}`;return l.marked.lexer(de)}}}),define(J[310],ee([1,0,7,301,45,185,62,131,37,6,55,2,389]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.unthemedButtonStyles=void 0,e.unthemedButtonStyles={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:S.Color.white.toString(),buttonForeground:S.Color.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class i extends o.Disposable{get onDidClick(){return this._onDidClick.event}constructor(n,r){super(),this._label="",this._onDidClick=this._register(new f.Emitter),this.options=r,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!r.secondary);const l=r.secondary?r.buttonSecondaryBackground:r.buttonBackground,h=r.secondary?r.buttonSecondaryForeground:r.buttonForeground;this._element.style.color=h||"",this._element.style.backgroundColor=l||"",r.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),n.appendChild(this._element),this._register(_.Gesture.addTarget(this._element)),[y.EventType.CLICK,_.EventType.Tap].forEach(s=>{this._register((0,y.addDisposableListener)(this._element,s,u=>{if(!this.enabled){y.EventHelper.stop(u);return}this._onDidClick.fire(u)}))}),this._register((0,y.addDisposableListener)(this._element,y.EventType.KEY_DOWN,s=>{const u=new L.StandardKeyboardEvent(s);let a=!1;this.enabled&&(u.equals(3)||u.equals(10))?(this._onDidClick.fire(s),a=!0):u.equals(9)&&(this._element.blur(),a=!0),a&&y.EventHelper.stop(u,!0)})),this._register((0,y.addDisposableListener)(this._element,y.EventType.MOUSE_OVER,s=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,y.addDisposableListener)(this._element,y.EventType.MOUSE_OUT,s=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,y.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(n){const r=[];for(let l of(0,m.renderLabelWithIcons)(n))if(typeof l=="string"){if(l=l.trim(),l==="")continue;const h=document.createElement("span");h.textContent=l,r.push(h)}else r.push(l);return r}updateBackground(n){let r;this.options.secondary?r=n?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:r=n?this.options.buttonHoverBackground:this.options.buttonBackground,r&&(this._element.style.backgroundColor=r)}get element(){return this._element}set label(n){var r;if(this._label===n||(0,v.isMarkdownString)(this._label)&&(0,v.isMarkdownString)(n)&&(0,v.markdownStringEqual)(this._label,n))return;this._element.classList.add("monaco-text-button");const l=this.options.supportShortLabel?this._labelElement:this._element;if((0,v.isMarkdownString)(n)){const h=(0,D.renderMarkdown)(n,{inline:!0});h.dispose();const s=(r=h.element.querySelector("p"))===null||r===void 0?void 0:r.innerHTML;if(s){const u=(0,k.sanitize)(s,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});l.innerHTML=u}else(0,y.reset)(l)}else this.options.supportIcons?(0,y.reset)(l,...this.getContentElements(n)):l.textContent=n;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=(0,D.renderStringAsPlaintext)(n)),this._label=n}get label(){return this._label}set enabled(n){n?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=i}),define(J[311],ee([1,0,7,13,21,55,120,2,18,550]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function v(t,n){(0,S.isString)(n)?t.title=(0,_.stripIcons)(n):n?.markdownNotSupportedFallback?t.title=n.markdownNotSupportedFallback:t.removeAttribute("title")}e.setupNativeHover=v;class o{constructor(n,r,l){this.hoverDelegate=n,this.target=r,this.fadeInAnimation=l}update(n,r,l){var h;return Le(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let s;if(n===void 0||(0,S.isString)(n)||n instanceof HTMLElement)s=n;else if(!(0,S.isFunction)(n.markdown))s=(h=n.markdown)!==null&&h!==void 0?h:n.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,f.localize)(0,null),r),this._cancellationTokenSource=new L.CancellationTokenSource;const u=this._cancellationTokenSource.token;if(s=yield n.markdown(u),s===void 0&&(s=n.markdownNotSupportedFallback),this.isDisposed||u.isCancellationRequested)return}this.show(s,r,l)})}show(n,r,l){const h=this._hoverWidget;if(this.hasContent(n)){const s=Object.assign({content:n,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!h},l);this._hoverWidget=this.hoverDelegate.showHover(s,r)}h?.dispose()}hasContent(n){return n?(0,D.isMarkdownString)(n)?!!n.value:!0:!1}get isDisposed(){var n;return(n=this._hoverWidget)===null||n===void 0?void 0:n.isDisposed}dispose(){var n,r;(n=this._hoverWidget)===null||n===void 0||n.dispose(),(r=this._cancellationTokenSource)===null||r===void 0||r.dispose(!0),this._cancellationTokenSource=void 0}}function i(t,n,r,l){let h,s;const u=(g,p)=>{var C;const w=s!==void 0;g&&(s?.dispose(),s=void 0),p&&(h?.dispose(),h=void 0),w&&((C=t.onDidHideHover)===null||C===void 0||C.call(t))},a=(g,p,C)=>new k.TimeoutTimer(()=>Le(this,void 0,void 0,function*(){(!s||s.isDisposed)&&(s=new o(t,C||n,g>0),yield s.update(r,p,l))}),g),d=()=>{if(h)return;const g=new m.DisposableStore,p=E=>u(!1,E.fromElement===n);g.add(y.addDisposableListener(n,y.EventType.MOUSE_LEAVE,p,!0));const C=()=>u(!0,!0);g.add(y.addDisposableListener(n,y.EventType.MOUSE_DOWN,C,!0));const w={targetElements:[n],dispose:()=>{}};if(t.placement===void 0||t.placement==="mouse"){const E=I=>{w.x=I.x+10,I.target instanceof HTMLElement&&I.target.classList.contains("action-label")&&u(!0,!0)};g.add(y.addDisposableListener(n,y.EventType.MOUSE_MOVE,E,!0))}g.add(a(t.delay,!1,w)),h=g},c=y.addDisposableListener(n,y.EventType.MOUSE_OVER,d,!0);return{show:g=>{u(!1,!0),a(0,g)},hide:()=>{u(!0,!0)},update:(g,p)=>Le(this,void 0,void 0,function*(){r=g,yield s?.update(r,void 0,p)}),dispose:()=>{c.dispose(),u(!0,!0)}}}e.setupCustomHover=i}),define(J[228],ee([1,0,7,305,311,2,46,168,395]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class S{constructor(n){this._element=n}get element(){return this._element}set textContent(n){this.disposed||n===this._textContent||(this._textContent=n,this._element.textContent=n)}set className(n){this.disposed||n===this._className||(this._className=n,this._element.className=n)}set empty(n){this.disposed||n===this._empty||(this._empty=n,this._element.style.marginLeft=n?"0":"")}dispose(){this.disposed=!0}}class f extends D.Disposable{constructor(n,r){super(),this.customHovers=new Map,this.creationOptions=r,this.domNode=this._register(new S(y.append(n,y.$(".monaco-icon-label")))),this.labelContainer=y.append(this.domNode.element,y.$(".monaco-icon-label-container"));const l=y.append(this.labelContainer,y.$("span.monaco-icon-name-container"));r?.supportHighlights||r?.supportIcons?this.nameNode=new i(l,!!r.supportIcons):this.nameNode=new v(l),this.hoverDelegate=r?.hoverDelegate}get element(){return this.domNode.element}setLabel(n,r,l){const h=["monaco-icon-label"],s=["monaco-icon-label-container"];if(l&&(l.extraClasses&&h.push(...l.extraClasses),l.italic&&h.push("italic"),l.strikethrough&&h.push("strikethrough"),l.disabledCommand&&s.push("disabled")),this.domNode.className=h.join(" "),this.labelContainer.className=s.join(" "),this.setupHover(l?.descriptionTitle?this.labelContainer:this.element,l?.title),this.nameNode.setLabel(n,l),r||this.descriptionNode){const u=this.getOrCreateDescriptionNode();u instanceof k.HighlightedLabel?(u.set(r||"",l?l.descriptionMatches:void 0,void 0,l?.labelEscapeNewLines),this.setupHover(u.element,l?.descriptionTitle)):(u.textContent=r&&l?.labelEscapeNewLines?k.HighlightedLabel.escapeNewLines(r,[]):r||"",this.setupHover(u.element,l?.descriptionTitle||""),u.empty=!r)}}setupHover(n,r){const l=this.customHovers.get(n);if(l&&(l.dispose(),this.customHovers.delete(n)),!r){n.removeAttribute("title");return}if(!this.hoverDelegate)(0,L.setupNativeHover)(n,r);else{const h=(0,L.setupCustomHover)(this.hoverDelegate,n,r);h&&this.customHovers.set(n,h)}}dispose(){super.dispose();for(const n of this.customHovers.values())n.dispose();this.customHovers.clear()}getOrCreateDescriptionNode(){var n;if(!this.descriptionNode){const r=this._register(new S(y.append(this.labelContainer,y.$("span.monaco-icon-description-container"))));!((n=this.creationOptions)===null||n===void 0)&&n.supportDescriptionHighlights?this.descriptionNode=new k.HighlightedLabel(y.append(r.element,y.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new S(y.append(r.element,y.$("span.label-description"))))}return this.descriptionNode}}e.IconLabel=f;class v{constructor(n){this.container=n,this.label=void 0,this.singleLabel=void 0}setLabel(n,r){if(!(this.label===n&&(0,_.equals)(this.options,r)))if(this.label=n,this.options=r,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=y.append(this.container,y.$("a.label-name",{id:r?.domId}))),this.singleLabel.textContent=n;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let l=0;l<n.length;l++){const h=n[l],s=r?.domId&&`${r?.domId}_${l}`;y.append(this.container,y.$("a.label-name",{id:s,"data-icon-label-count":n.length,"data-icon-label-index":l,role:"treeitem"},h)),l<n.length-1&&y.append(this.container,y.$("span.label-separator",void 0,r?.separator||"/"))}}}}function o(t,n,r){if(!r)return;let l=0;return t.map(h=>{const s={start:l,end:l+h.length},u=r.map(a=>m.Range.intersect(s,a)).filter(a=>!m.Range.isEmpty(a)).map(({start:a,end:d})=>({start:a-l,end:d-l}));return l=s.end+n.length,u})}class i{constructor(n,r){this.container=n,this.supportIcons=r,this.label=void 0,this.singleLabel=void 0}setLabel(n,r){if(!(this.label===n&&(0,_.equals)(this.options,r)))if(this.label=n,this.options=r,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new k.HighlightedLabel(y.append(this.container,y.$("a.label-name",{id:r?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(n,r?.matches,void 0,r?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const l=r?.separator||"/",h=o(n,l,r?.matches);for(let s=0;s<n.length;s++){const u=n[s],a=h?h[s]:void 0,d=r?.domId&&`${r?.domId}_${s}`,c=y.$("a.label-name",{id:d,"data-icon-label-count":n.length,"data-icon-label-index":s,role:"treeitem"});new k.HighlightedLabel(y.append(this.container,c),{supportIcons:this.supportIcons}).set(u,a,void 0,r?.labelEscapeNewLines),s<n.length-1&&y.append(c,y.$("span.label-separator",void 0,l))}}}}}),define(J[574],ee([1,0,7,80,45,185,114,15,6,64,2,17,553,403]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const t=y.$,n="selectOption.entry.template";class r{get templateId(){return n}renderTemplate(s){const u=Object.create(null);return u.root=s,u.text=y.append(s,t(".option-text")),u.detail=y.append(s,t(".option-detail")),u.decoratorRight=y.append(s,t(".option-decorator-right")),u}renderElement(s,u,a){const d=a,c=s.text,b=s.detail,g=s.decoratorRight,p=s.isDisabled;d.text.textContent=c,d.detail.textContent=b||"",d.decoratorRight.innerText=g||"",p?d.root.classList.add("option-disabled"):d.root.classList.remove("option-disabled")}disposeTemplate(s){}}class l extends v.Disposable{constructor(s,u,a,d,c){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=d,this.selectBoxOptions=c||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=l.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new S.Emitter,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(a),this.selected=u||0,s&&this.setOptions(s,u),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return n}constructSelectDropDown(s){this.contextViewProvider=s,this.selectDropDownContainer=y.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=y.append(this.selectDropDownContainer,t(".select-box-details-pane"));const u=y.append(this.selectDropDownContainer,t(".select-box-dropdown-container-width-control")),a=y.append(u,t(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",y.append(a,this.widthControlElement),this._dropDownPosition=0,this.styleElement=y.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(y.addDisposableListener(this.selectDropDownContainer,y.EventType.DRAG_START,d=>{y.EventHelper.stop(d,!0)}))}registerListeners(){this._register(y.addStandardDisposableListener(this.selectElement,"change",u=>{this.selected=u.target.selectedIndex,this._onDidSelect.fire({index:u.target.selectedIndex,selected:u.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(y.addDisposableListener(this.selectElement,y.EventType.CLICK,u=>{y.EventHelper.stop(u),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(y.addDisposableListener(this.selectElement,y.EventType.MOUSE_DOWN,u=>{y.EventHelper.stop(u)}));let s;this._register(y.addDisposableListener(this.selectElement,"touchstart",u=>{s=this._isVisible})),this._register(y.addDisposableListener(this.selectElement,"touchend",u=>{y.EventHelper.stop(u),s?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(y.addDisposableListener(this.selectElement,y.EventType.KEY_DOWN,u=>{const a=new L.StandardKeyboardEvent(u);let d=!1;o.isMacintosh?(a.keyCode===18||a.keyCode===16||a.keyCode===10||a.keyCode===3)&&(d=!0):(a.keyCode===18&&a.altKey||a.keyCode===16&&a.altKey||a.keyCode===10||a.keyCode===3)&&(d=!0),d&&(this.showSelectDropDown(),y.EventHelper.stop(u,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(s,u){m.equals(this.options,s)||(this.options=s,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((a,d)=>{this.selectElement.add(this.createOption(a.text,d,a.isDisabled)),typeof a.description=="string"&&(this._hasDetails=!0)})),u!==void 0&&(this.select(u),this._currentSelection=this.selected)}setOptionsList(){var s;(s=this.selectList)===null||s===void 0||s.splice(0,this.selectList.length,this.options)}select(s){s>=0&&s<this.options.length?this.selected=s:s>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(s){this.selectElement.tabIndex=s?0:-1}render(s){this.container=s,s.classList.add("select-container"),s.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const s=[];this.styles.listFocusBackground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(s.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),s.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),s.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=s.join(`
`)}styleSelectElement(){var s,u,a;const d=(s=this.styles.selectBackground)!==null&&s!==void 0?s:"",c=(u=this.styles.selectForeground)!==null&&u!==void 0?u:"",b=(a=this.styles.selectBorder)!==null&&a!==void 0?a:"";this.selectElement.style.backgroundColor=d,this.selectElement.style.color=c,this.selectElement.style.borderColor=b}styleList(){var s,u;const a=(s=this.styles.selectBackground)!==null&&s!==void 0?s:"",d=y.asCssValueWithDefault(this.styles.selectListBackground,a);this.selectDropDownListContainer.style.backgroundColor=d,this.selectionDetailsPane.style.backgroundColor=d;const c=(u=this.styles.focusBorder)!==null&&u!==void 0?u:"";this.selectDropDownContainer.style.outlineColor=c,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(s,u,a){const d=document.createElement("option");return d.value=s,d.text=s,d.disabled=!!a,d}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:s=>this.renderSelectDropDown(s,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:s=>this.renderSelectDropDown(s),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(s){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),s&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(s,u){return s.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(u),{dispose:()=>{try{s.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let s=0;return this.options.forEach((u,a)=>{this.updateDetail(a),this.selectionDetailsPane.offsetHeight>s&&(s=this.selectionDetailsPane.offsetHeight)}),s}layoutSelectDropDown(s){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const u=y.getDomNodePagePosition(this.selectElement),a=getComputedStyle(this.selectElement),d=parseFloat(a.getPropertyValue("--dropdown-padding-top"))+parseFloat(a.getPropertyValue("--dropdown-padding-bottom")),c=window.innerHeight-u.top-u.height-(this.selectBoxOptions.minBottomMargin||0),b=u.top-l.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,g=this.selectElement.offsetWidth,p=this.setWidthControlElement(this.widthControlElement),C=Math.max(p,Math.round(g)).toString()+"px";this.selectDropDownContainer.style.width=C,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let w=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const E=this._hasDetails?this._cachedMaxDetailsHeight:0,I=w+d+E,T=Math.floor((c-d-E)/this.getHeight()),P=Math.floor((b-d-E)/this.getHeight());if(s)return u.top+u.height>window.innerHeight-22||u.top<l.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||T<1&&P<1?!1:(T<l.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&P>T&&this.options.length>T?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(u.top+u.height>window.innerHeight-22||u.top<l.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&T<1||this._dropDownPosition===1&&P<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&T+P<1)return this.hideSelectDropDown(!0),!1;I>c&&(w=T*this.getHeight())}else I>b&&(w=P*this.getHeight());return this.selectList.layout(w),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=w+d+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=w+d+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=C,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(s){let u=0;if(s){let a=0,d=0;this.options.forEach((c,b)=>{const g=c.detail?c.detail.length:0,p=c.decoratorRight?c.decoratorRight.length:0,C=c.text.length+g+p;C>d&&(a=b,d=C)}),s.textContent=this.options[a].text+(this.options[a].decoratorRight?this.options[a].decoratorRight+" ":""),u=y.getTotalWidth(s)}return u}createSelectList(s){if(this.selectList)return;this.selectDropDownListContainer=y.append(s,t(".select-box-dropdown-list-container")),this.listRenderer=new r,this.selectList=new _.List("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:d=>{let c=d.text;return d.detail&&(c+=`. ${d.detail}`),d.decoratorRight&&(c+=`. ${d.decoratorRight}`),d.description&&(c+=`. ${d.description}`),c},getWidgetAriaLabel:()=>(0,i.localize)(0,null),getRole:()=>o.isMacintosh?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const u=this._register(new k.DomEmitter(this.selectDropDownListContainer,"keydown")),a=S.Event.chain(u.event).filter(()=>this.selectList.length>0).map(d=>new L.StandardKeyboardEvent(d));this._register(a.filter(d=>d.keyCode===3).on(d=>this.onEnter(d),this)),this._register(a.filter(d=>d.keyCode===2).on(d=>this.onEnter(d),this)),this._register(a.filter(d=>d.keyCode===9).on(d=>this.onEscape(d),this)),this._register(a.filter(d=>d.keyCode===16).on(d=>this.onUpArrow(d),this)),this._register(a.filter(d=>d.keyCode===18).on(d=>this.onDownArrow(d),this)),this._register(a.filter(d=>d.keyCode===12).on(this.onPageDown,this)),this._register(a.filter(d=>d.keyCode===11).on(this.onPageUp,this)),this._register(a.filter(d=>d.keyCode===14).on(this.onHome,this)),this._register(a.filter(d=>d.keyCode===13).on(this.onEnd,this)),this._register(a.filter(d=>d.keyCode>=21&&d.keyCode<=56||d.keyCode>=85&&d.keyCode<=113).on(this.onCharacter,this)),this._register(y.addDisposableListener(this.selectList.getHTMLElement(),y.EventType.POINTER_UP,d=>this.onPointerUp(d))),this._register(this.selectList.onMouseOver(d=>typeof d.index<"u"&&this.selectList.setFocus([d.index]))),this._register(this.selectList.onDidChangeFocus(d=>this.onListFocus(d))),this._register(y.addDisposableListener(this.selectDropDownContainer,y.EventType.FOCUS_OUT,d=>{!this._isVisible||y.isAncestor(d.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(s){if(!this.selectList.length)return;y.EventHelper.stop(s);const u=s.target;if(!u||u.classList.contains("slider"))return;const a=u.closest(".monaco-list-row");if(!a)return;const d=Number(a.getAttribute("data-index")),c=a.classList.contains("option-disabled");d>=0&&d<this.options.length&&!c&&(this.selected=d,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(s,u){const a=c=>{for(let b=0;b<c.childNodes.length;b++){const g=c.childNodes.item(b);(g.tagName&&g.tagName.toLowerCase())==="img"?c.removeChild(g):a(g)}},d=(0,D.renderMarkdown)({value:s,supportThemeIcons:!0},{actionHandler:u});return d.element.classList.add("select-box-description-markdown"),a(d.element),d.element}onListFocus(s){!this._isVisible||!this._hasDetails||this.updateDetail(s.indexes[0])}updateDetail(s){var u,a;this.selectionDetailsPane.innerText="";const d=this.options[s],c=(u=d?.description)!==null&&u!==void 0?u:"",b=(a=d?.descriptionIsMarkdown)!==null&&a!==void 0?a:!1;if(c){if(b){const g=d.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(c,g))}else this.selectionDetailsPane.innerText=c;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(s){y.EventHelper.stop(s),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(s){y.EventHelper.stop(s),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(s){if(this.selected<this.options.length-1){y.EventHelper.stop(s,!0);const u=this.options[this.selected+1].isDisabled;if(u&&this.options.length>this.selected+2)this.selected+=2;else{if(u)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(s){this.selected>0&&(y.EventHelper.stop(s,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(s){y.EventHelper.stop(s),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(s){y.EventHelper.stop(s),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(s){y.EventHelper.stop(s),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(s){y.EventHelper.stop(s),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(s){const u=f.KeyCodeUtils.toString(s.keyCode);let a=-1;for(let d=0;d<this.options.length-1;d++)if(a=(d+this.selected+1)%this.options.length,this.options[a].text.charAt(0).toUpperCase()===u&&!this.options[a].isDisabled){this.select(a),this.selectList.setFocus([a]),this.selectList.reveal(this.selectList.getFocus()[0]),y.EventHelper.stop(s);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}e.SelectBoxList=l,l.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,l.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,l.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}),define(J[575],ee([1,0,574,569,82,17,402]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=void 0;class _ extends L.Widget{constructor(S,f,v,o,i){super(),D.isMacintosh&&!i?.useCustomDrawn?this.selectBoxDelegate=new k.SelectBoxNative(S,f,o,i):this.selectBoxDelegate=new y.SelectBoxList(S,f,v,o,i),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(S,f){this.selectBoxDelegate.setOptions(S,f)}select(S){this.selectBoxDelegate.select(S)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(S){this.selectBoxDelegate.setFocusable(S)}render(S){this.selectBoxDelegate.render(S)}}e.SelectBox=_}),define(J[156],ee([1,0,52,198,7,62,311,575,40,2,17,18,546,264]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class t extends f.Disposable{get action(){return this._action}constructor(h,s,u={}){super(),this.options=u,this._context=h||this,this._action=s,s instanceof S.Action&&this._register(s.onDidChange(a=>{this.element&&this.handleActionChangeEvent(a)}))}handleActionChangeEvent(h){h.enabled!==void 0&&this.updateEnabled(),h.checked!==void 0&&this.updateChecked(),h.class!==void 0&&this.updateClass(),h.label!==void 0&&(this.updateLabel(),this.updateTooltip()),h.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new S.ActionRunner)),this._actionRunner}set actionRunner(h){this._actionRunner=h}isEnabled(){return this._action.enabled}setActionContext(h){this._context=h}render(h){const s=this.element=h;this._register(D.Gesture.addTarget(h));const u=this.options&&this.options.draggable;u&&(h.draggable=!0,y.isFirefox&&this._register((0,L.addDisposableListener)(h,L.EventType.DRAG_START,a=>{var d;return(d=a.dataTransfer)===null||d===void 0?void 0:d.setData(k.DataTransfers.TEXT,this._action.label)}))),this._register((0,L.addDisposableListener)(s,D.EventType.Tap,a=>this.onClick(a,!0))),this._register((0,L.addDisposableListener)(s,L.EventType.MOUSE_DOWN,a=>{u||L.EventHelper.stop(a,!0),this._action.enabled&&a.button===0&&s.classList.add("active")})),v.isMacintosh&&this._register((0,L.addDisposableListener)(s,L.EventType.CONTEXT_MENU,a=>{a.button===0&&a.ctrlKey===!0&&this.onClick(a)})),this._register((0,L.addDisposableListener)(s,L.EventType.CLICK,a=>{L.EventHelper.stop(a,!0),this.options&&this.options.isMenu||this.onClick(a)})),this._register((0,L.addDisposableListener)(s,L.EventType.DBLCLICK,a=>{L.EventHelper.stop(a,!0)})),[L.EventType.MOUSE_UP,L.EventType.MOUSE_OUT].forEach(a=>{this._register((0,L.addDisposableListener)(s,a,d=>{L.EventHelper.stop(d),s.classList.remove("active")}))})}onClick(h,s=!1){var u;L.EventHelper.stop(h,!0);const a=o.isUndefinedOrNull(this._context)?!((u=this.options)===null||u===void 0)&&u.useEventAsContext?h:{preserveFocus:s}:this._context;this.actionRunner.run(this._action,a)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(h){this.element&&(this.element.tabIndex=h?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var h;if(!this.element)return;const s=(h=this.getTooltip())!==null&&h!==void 0?h:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(s):(this.customHover=(0,_.setupCustomHover)(this.options.hoverDelegate,this.element,s),this._store.add(this.customHover))):this.element.title=s}updateAriaLabel(){var h;if(this.element){const s=(h=this.getTooltip())!==null&&h!==void 0?h:"";this.element.setAttribute("aria-label",s)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}e.BaseActionViewItem=t;class n extends t{constructor(h,s,u){super(h,s,u),this.options=u,this.options.icon=u.icon!==void 0?u.icon:!1,this.options.label=u.label!==void 0?u.label:!0,this.cssClass=""}render(h){super.render(h),this.element&&(this.label=(0,L.append)(this.element,(0,L.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this.getDefaultAriaRole()),this.options.label&&this.options.keybinding&&this.element&&((0,L.append)(this.element,(0,L.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===S.Separator.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(h){this.label&&(this.label.tabIndex=h?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let h=null;return this.action.tooltip?h=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(h=this.action.label,this.options.keybinding&&(h=i.localize(0,null,h,this.options.keybinding))),h??void 0}updateClass(){var h;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(h=this.label)===null||h===void 0||h.classList.remove("codicon")}updateEnabled(){var h,s;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(h=this.element)===null||h===void 0||h.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(s=this.element)===null||s===void 0||s.classList.add("disabled"))}updateAriaLabel(){var h;if(this.label){const s=(h=this.getTooltip())!==null&&h!==void 0?h:"";this.label.setAttribute("aria-label",s)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.setAttribute("aria-checked",""),this.label.setAttribute("role",this.getDefaultAriaRole())))}}e.ActionViewItem=n;class r extends t{constructor(h,s,u,a,d,c,b){super(h,s),this.selectBox=new m.SelectBox(u,a,d,c,b),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(h){this.selectBox.select(h)}registerListeners(){this._register(this.selectBox.onDidSelect(h=>this.runAction(h.selected,h.index)))}runAction(h,s){this.actionRunner.run(this._action,this.getActionContext(h,s))}getActionContext(h,s){return h}setFocusable(h){this.selectBox.setFocusable(h)}focus(){var h;(h=this.selectBox)===null||h===void 0||h.focus()}blur(){var h;(h=this.selectBox)===null||h===void 0||h.blur()}render(h){this.selectBox.render(h)}}e.SelectActionViewItem=r}),define(J[68],ee([1,0,7,45,156,40,6,2,18,264]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class f extends m.Disposable{constructor(o,i={}){var t,n,r,l,h,s;super(),this._actionRunnerDisposables=this._register(new m.DisposableStore),this.viewItemDisposables=this._register(new m.DisposableMap),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new _.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new _.Emitter({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new _.Emitter),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new _.Emitter),this.onWillRun=this._onWillRun.event,this.options=i,this._context=(t=i.context)!==null&&t!==void 0?t:null,this._orientation=(n=this.options.orientation)!==null&&n!==void 0?n:0,this._triggerKeys={keyDown:(l=(r=this.options.triggerKeys)===null||r===void 0?void 0:r.keyDown)!==null&&l!==void 0?l:!1,keys:(s=(h=this.options.triggerKeys)===null||h===void 0?void 0:h.keys)!==null&&s!==void 0?s:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new D.ActionRunner,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(d=>this._onDidRun.fire(d))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(d=>this._onWillRun.fire(d))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",i.animated!==!1&&this.domNode.classList.add("animated");let u,a;switch(this._orientation){case 0:u=[15],a=[17];break;case 1:u=[16],a=[18],this.domNode.className+=" vertical";break}this._register(y.addDisposableListener(this.domNode,y.EventType.KEY_DOWN,d=>{const c=new k.StandardKeyboardEvent(d);let b=!0;const g=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;u&&(c.equals(u[0])||c.equals(u[1]))?b=this.focusPrevious():a&&(c.equals(a[0])||c.equals(a[1]))?b=this.focusNext():c.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():c.equals(14)?b=this.focusFirst():c.equals(13)?b=this.focusLast():c.equals(2)&&g instanceof L.BaseActionViewItem&&g.trapsArrowNavigation?b=this.focusNext():this.isTriggerKeyEvent(c)?this._triggerKeys.keyDown?this.doTrigger(c):this.triggerKeyDown=!0:b=!1,b&&(c.preventDefault(),c.stopPropagation())})),this._register(y.addDisposableListener(this.domNode,y.EventType.KEY_UP,d=>{const c=new k.StandardKeyboardEvent(d);this.isTriggerKeyEvent(c)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(c)),c.preventDefault(),c.stopPropagation()):(c.equals(2)||c.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(y.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(y.getActiveElement()===this.domNode||!y.isAncestor(y.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),o.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(o){if(this.focusable=o,this.focusable){const i=this.viewItems.find(t=>t instanceof L.BaseActionViewItem&&t.isEnabled());i instanceof L.BaseActionViewItem&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof L.BaseActionViewItem&&i.setFocusable(!1)})}isTriggerKeyEvent(o){let i=!1;return this._triggerKeys.keys.forEach(t=>{i=i||o.equals(t)}),i}updateFocusedItem(){for(let o=0;o<this.actionsList.children.length;o++){const i=this.actionsList.children[o];if(y.isAncestor(y.getActiveElement(),i)){this.focusedItem=o;break}}}get context(){return this._context}set context(o){this._context=o,this.viewItems.forEach(i=>i.setActionContext(o))}get actionRunner(){return this._actionRunner}set actionRunner(o){this._actionRunner=o,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(i=>this._onDidRun.fire(i))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(i=>this._onWillRun.fire(i))),this.viewItems.forEach(i=>i.actionRunner=o)}getContainer(){return this.domNode}getAction(o){var i;if(typeof o=="number")return(i=this.viewItems[o])===null||i===void 0?void 0:i.action;if(o instanceof HTMLElement){for(;o.parentElement!==this.actionsList;){if(!o.parentElement)return;o=o.parentElement}for(let t=0;t<this.actionsList.childNodes.length;t++)if(this.actionsList.childNodes[t]===o)return this.viewItems[t].action}}push(o,i={}){const t=Array.isArray(o)?o:[o];let n=S.isNumber(i.index)?i.index:null;t.forEach(r=>{const l=document.createElement("li");l.className="action-item",l.setAttribute("role","presentation");let h;const s=Object.assign({hoverDelegate:this.options.hoverDelegate},i);this.options.actionViewItemProvider&&(h=this.options.actionViewItemProvider(r,s)),h||(h=new L.ActionViewItem(this.context,r,s)),this.options.allowContextMenu||this.viewItemDisposables.set(h,y.addDisposableListener(l,y.EventType.CONTEXT_MENU,u=>{y.EventHelper.stop(u,!0)})),h.actionRunner=this._actionRunner,h.setActionContext(this.context),h.render(l),this.focusable&&h instanceof L.BaseActionViewItem&&this.viewItems.length===0&&h.setFocusable(!0),n===null||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(l),this.viewItems.push(h)):(this.actionsList.insertBefore(l,this.actionsList.children[n]),this.viewItems.splice(n,0,h),n++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,m.dispose)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),y.clearNode(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(o){let i=!1,t;if(o===void 0?i=!0:typeof o=="number"?t=o:typeof o=="boolean"&&(i=o),i&&typeof this.focusedItem>"u"){const n=this.viewItems.findIndex(r=>r.isEnabled());this.focusedItem=n===-1?void 0:n,this.updateFocus(void 0,void 0,!0)}else t!==void 0&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(o){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(!o&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===D.Separator.ID));return this.updateFocus(),!0}focusPrevious(o){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!o&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===D.Separator.ID));return this.updateFocus(!0),!0}updateFocus(o,i,t=!1){var n;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((n=this.viewItems[this.previouslyFocusedItem])===null||n===void 0||n.blur());const r=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(r){let l=!0;S.isFunction(r.focus)||(l=!1),this.options.focusOnlyEnabledItems&&S.isFunction(r.isEnabled)&&!r.isEnabled()&&(l=!1),r.action.id===D.Separator.ID&&(l=!1),l?(t||this.previouslyFocusedItem!==this.focusedItem)&&(r.focus(o),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0)}}doTrigger(o){if(typeof this.focusedItem>"u")return;const i=this.viewItems[this.focusedItem];if(i instanceof L.BaseActionViewItem){const t=i._context===null||i._context===void 0?o:i._context;this.run(i._action,t)}}run(o,i){return Le(this,void 0,void 0,function*(){yield this._actionRunner.run(o,i)})}dispose(){this._context=void 0,this.viewItems=(0,m.dispose)(this.viewItems),this.getContainer().remove(),super.dispose()}}e.ActionBar=f}),define(J[312],ee([1,0,7,156,566,6,265]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class _ extends k.BaseActionViewItem{constructor(S,f,v,o=Object.create(null)){super(null,S,o),this.actionItem=null,this._onDidChangeVisibility=this._register(new D.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=f,this.contextMenuProvider=v,this.options=o,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(S){this.actionItem=S;const f=i=>{this.element=(0,y.append)(i,(0,y.$)("a.action-label"));let t=[];return typeof this.options.classNames=="string"?t=this.options.classNames.split(/\s+/g).filter(n=>!!n):this.options.classNames&&(t=this.options.classNames),t.find(n=>n==="icon")||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},v=Array.isArray(this.menuActionsOrProvider),o={contextMenuProvider:this.contextMenuProvider,labelRenderer:f,menuAsChild:this.options.menuAsChild,actions:v?this.menuActionsOrProvider:void 0,actionProvider:v?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new L.DropdownMenu(S,o)),this._register(this.dropdownMenu.onDidChangeVisibility(i=>{var t;(t=this.element)===null||t===void 0||t.setAttribute("aria-expanded",`${i}`),this._onDidChangeVisibility.fire(i)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const i=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return i.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let S=null;return this.action.tooltip?S=this.action.tooltip:this.action.label&&(S=this.action.label),S??void 0}setActionContext(S){super.setActionContext(S),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=S:this.dropdownMenu.menuOptions={context:S})}show(){var S;(S=this.dropdownMenu)===null||S===void 0||S.show()}updateEnabled(){var S,f;const v=!this.action.enabled;(S=this.actionItem)===null||S===void 0||S.classList.toggle("disabled",v),(f=this.element)===null||f===void 0||f.classList.toggle("disabled",v)}}e.DropdownMenuActionViewItem=_}),define(J[229],ee([1,0,7,80,302,68,48,74,82,6,384,46,551,396]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=e.unthemedInboxStyles=void 0;const t=y.$;e.unthemedInboxStyles={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class n extends S.Widget{constructor(h,s,u){var a;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new f.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=s,this.options=u,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(a=this.options.tooltip)!==null&&a!==void 0?a:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=y.append(h,t(".monaco-inputbox.idle"));const d=this.options.flexibleHeight?"textarea":"input",c=y.append(this.element,t(".ibwrapper"));if(this.input=y.append(c,t(d+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=y.append(c,t("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new m.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),y.append(h,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(p=>this.input.scrollTop=p.scrollTop));const b=this._register(new k.DomEmitter(document,"selectionchange")),g=f.Event.filter(b.event,()=>{const p=document.getSelection();return p?.anchorNode===c});this._register(g(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new D.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(h){this.placeholder=h,this.input.setAttribute("placeholder",h)}setTooltip(h){this.tooltip=h,this.input.title=h}get inputElement(){return this.input}get value(){return this.input.value}set value(h){this.input.value!==h&&(this.input.value=h,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:y.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(h=null){this.input.select(),h&&(this.input.setSelectionRange(h.start,h.end),h.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(h){this.input.style.width=`calc(100% - ${h}px)`,this.mirror&&(this.mirror.style.paddingRight=h+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const h=this.cachedContentHeight,s=this.cachedHeight,u=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:h,height:s}),this.scrollableElement.setScrollPosition({scrollTop:u})}showMessage(h,s){if(this.state==="open"&&(0,o.equals)(this.message,h))return;this.message=h,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(h.type));const u=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${y.asCssValueWithDefault(u.border,"transparent")}`,this.message.content&&(this.hasFocus()||s)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let h=null;return this.validation&&(h=this.validation(this.value),h?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(h)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),h?.type}stylesForType(h){const s=this.options.inputBoxStyles;switch(h){case 1:return{border:s.inputValidationInfoBorder,background:s.inputValidationInfoBackground,foreground:s.inputValidationInfoForeground};case 2:return{border:s.inputValidationWarningBorder,background:s.inputValidationWarningBackground,foreground:s.inputValidationWarningForeground};default:return{border:s.inputValidationErrorBorder,background:s.inputValidationErrorBackground,foreground:s.inputValidationErrorForeground}}}classForType(h){switch(h){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let h;const s=()=>h.style.width=y.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:a=>{var d,c;if(!this.message)return null;h=y.append(a,t(".monaco-inputbox-container")),s();const b={inline:!0,className:"monaco-inputbox-message"},g=this.message.formatContent?(0,L.renderFormattedText)(this.message.content,b):(0,L.renderText)(this.message.content,b);g.classList.add(this.classForType(this.message.type));const p=this.stylesForType(this.message.type);return g.style.backgroundColor=(d=p.background)!==null&&d!==void 0?d:"",g.style.color=(c=p.foreground)!==null&&c!==void 0?c:"",g.style.border=p.border?`1px solid ${p.border}`:"",y.append(h,g),null},onHide:()=>{this.state="closed"},layout:s});let u;this.message.type===3?u=i.localize(0,null,this.message.content):this.message.type===2?u=i.localize(1,null,this.message.content):u=i.localize(2,null,this.message.content),_.alert(u),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const h=this.value,u=h.charCodeAt(h.length-1)===10?" ":"";(h+u).replace(/\u000c/g,"")?this.mirror.textContent=h+u:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var h,s,u;const a=this.options.inputBoxStyles,d=(h=a.inputBackground)!==null&&h!==void 0?h:"",c=(s=a.inputForeground)!==null&&s!==void 0?s:"",b=(u=a.inputBorder)!==null&&u!==void 0?u:"";this.element.style.backgroundColor=d,this.element.style.color=c,this.input.style.backgroundColor="inherit",this.input.style.color=c,this.element.style.border=`1px solid ${y.asCssValueWithDefault(b,"transparent")}`}layout(){if(!this.mirror)return;const h=this.cachedContentHeight;this.cachedContentHeight=y.getTotalHeight(this.mirror),h!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(h){const s=this.inputElement,u=s.selectionStart,a=s.selectionEnd,d=s.value;u!==null&&a!==null&&(this.value=d.substr(0,u)+h+d.substr(a),s.setSelectionRange(u+1,u+1),this.layout())}dispose(){var h;this._hideMessage(),this.message=null,(h=this.actionbar)===null||h===void 0||h.dispose(),super.dispose()}}e.InputBox=n;class r extends n{constructor(h,s,u){const a=i.localize(3,null),d=` or \u21C5 ${a}`,c=` (\u21C5 ${a})`;super(h,s,u),this._onDidFocus=this._register(new f.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new f.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new v.HistoryNavigator(u.history,100);const b=()=>{if(u.showHistoryHint&&u.showHistoryHint()&&!this.placeholder.endsWith(d)&&!this.placeholder.endsWith(c)&&this.history.getHistory().length){const g=this.placeholder.endsWith(")")?d:c,p=this.placeholder+g;u.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=p:this.setPlaceHolder(p)}};this.observer=new MutationObserver((g,p)=>{g.forEach(C=>{C.target.textContent||b()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>b()),this.onblur(this.input,()=>{const g=p=>{if(this.placeholder.endsWith(p)){const C=this.placeholder.slice(0,this.placeholder.length-p.length);return u.showPlaceholderOnFocus?this.placeholder=C:this.setPlaceHolder(C),!0}else return!1};g(c)||g(d)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(h){this.value&&(h||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let h=this.getNextValue();h&&(h=h===this.value?this.getNextValue():h),this.value=h??"",_.status(this.value?this.value:i.localize(4,null))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let h=this.getPreviousValue();h&&(h=h===this.value?this.getPreviousValue():h),h&&(this.value=h,_.status(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let h=this.history.current();return h||(h=this.history.last(),this.history.next()),h}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}e.HistoryInputBox=r}),define(J[230],ee([1,0,7,309,229,82,6,547,2,266]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const f=m.localize(0,null);class v extends D.Widget{constructor(i,t,n){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=new S.DisposableStore,this.additionalToggles=[],this._onDidOptionChange=this._register(new _.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new _.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new _.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new _.Emitter),this._onKeyUp=this._register(new _.Emitter),this._onCaseSensitiveKeyDown=this._register(new _.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new _.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||f,this.showCommonFindToggles=!!n.showCommonFindToggles;const r=n.appendCaseSensitiveLabel||"",l=n.appendWholeWordsLabel||"",h=n.appendRegexLabel||"",s=n.history||[],u=!!n.flexibleHeight,a=!!n.flexibleWidth,d=n.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new L.HistoryInputBox(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:s,showHistoryHint:n.showHistoryHint,flexibleHeight:u,flexibleWidth:a,flexibleMaxHeight:d,inputBoxStyles:n.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new k.RegexToggle(Object.assign({appendTitle:h,isChecked:!1},n.toggleStyles))),this._register(this.regex.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(b=>{this._onRegexKeyDown.fire(b)})),this.wholeWords=this._register(new k.WholeWordsToggle(Object.assign({appendTitle:l,isChecked:!1},n.toggleStyles))),this._register(this.wholeWords.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new k.CaseSensitiveToggle(Object.assign({appendTitle:r,isChecked:!1},n.toggleStyles))),this._register(this.caseSensitive.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(b=>{this._onCaseSensitiveKeyDown.fire(b)}));const c=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,b=>{if(b.equals(15)||b.equals(17)||b.equals(9)){const g=c.indexOf(document.activeElement);if(g>=0){let p=-1;b.equals(17)?p=(g+1)%c.length:b.equals(15)&&(g===0?p=c.length-1:p=g-1),b.equals(9)?(c[g].blur(),this.inputBox.focus()):p>=0&&c[p].focus(),y.EventHelper.stop(b,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(n?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),i?.appendChild(this.domNode),this._register(y.addDisposableListener(this.inputBox.inputElement,"compositionstart",c=>{this.imeSessionInProgress=!0})),this._register(y.addDisposableListener(this.inputBox.inputElement,"compositionend",c=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,c=>this._onKeyDown.fire(c)),this.onkeyup(this.inputBox.inputElement,c=>this._onKeyUp.fire(c)),this.oninput(this.inputBox.inputElement,c=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,c=>this._onMouseDown.fire(c))}get onDidChange(){return this.inputBox.onDidChange}layout(i){this.inputBox.layout(),this.updateInputBoxPadding(i.collapsedFindWidget)}enable(){var i,t,n;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(i=this.regex)===null||i===void 0||i.enable(),(t=this.wholeWords)===null||t===void 0||t.enable(),(n=this.caseSensitive)===null||n===void 0||n.enable();for(const r of this.additionalToggles)r.enable()}disable(){var i,t,n;this.domNode.classList.add("disabled"),this.inputBox.disable(),(i=this.regex)===null||i===void 0||i.disable(),(t=this.wholeWords)===null||t===void 0||t.disable(),(n=this.caseSensitive)===null||n===void 0||n.disable();for(const r of this.additionalToggles)r.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}setAdditionalToggles(i){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.dispose(),this.additionalTogglesDisposables=new S.DisposableStore;for(const t of i??[])this.additionalTogglesDisposables.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.add(t.onChange(n=>{this._onDidOptionChange.fire(n),!n&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(i=!1){var t,n,r,l,h,s;i?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((n=(t=this.caseSensitive)===null||t===void 0?void 0:t.width())!==null&&n!==void 0?n:0)+((l=(r=this.wholeWords)===null||r===void 0?void 0:r.width())!==null&&l!==void 0?l:0)+((s=(h=this.regex)===null||h===void 0?void 0:h.width())!==null&&s!==void 0?s:0)+this.additionalToggles.reduce((u,a)=>u+a.width(),0)}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var i,t;return(t=(i=this.caseSensitive)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setCaseSensitive(i){this.caseSensitive&&(this.caseSensitive.checked=i)}getWholeWords(){var i,t;return(t=(i=this.wholeWords)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setWholeWords(i){this.wholeWords&&(this.wholeWords.checked=i)}getRegex(){var i,t;return(t=(i=this.regex)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setRegex(i){this.regex&&(this.regex.checked=i,this.validate())}focusOnCaseSensitive(){var i;(i=this.caseSensitive)===null||i===void 0||i.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(i){this.inputBox.showMessage(i)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=v}),define(J[576],ee([1,0,7,155,229,82,26,6,549,266]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=void 0;const f=S.localize(0,null),v=S.localize(1,null);class o extends k.Toggle{constructor(n){super({icon:_.Codicon.preserveCase,title:v+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}class i extends D.Widget{constructor(n,r,l,h){super(),this._showOptionButtons=l,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new m.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new m.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new m.Emitter),this._onInput=this._register(new m.Emitter),this._onKeyUp=this._register(new m.Emitter),this._onPreserveCaseKeyDown=this._register(new m.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=r,this.placeholder=h.placeholder||"",this.validation=h.validation,this.label=h.label||f;const s=h.appendPreserveCaseLabel||"",u=h.history||[],a=!!h.flexibleHeight,d=!!h.flexibleWidth,c=h.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new L.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:u,showHistoryHint:h.showHistoryHint,flexibleHeight:a,flexibleWidth:d,flexibleMaxHeight:c,inputBoxStyles:h.inputBoxStyles})),this.preserveCase=this._register(new o(Object.assign({appendTitle:s,isChecked:!1},h.toggleStyles))),this._register(this.preserveCase.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(p=>{this._onPreserveCaseKeyDown.fire(p)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const b=[this.preserveCase.domNode];this.onkeydown(this.domNode,p=>{if(p.equals(15)||p.equals(17)||p.equals(9)){const C=b.indexOf(document.activeElement);if(C>=0){let w=-1;p.equals(17)?w=(C+1)%b.length:p.equals(15)&&(C===0?w=b.length-1:w=C-1),p.equals(9)?(b[C].blur(),this.inputBox.focus()):w>=0&&b[w].focus(),y.EventHelper.stop(p,!0)}}});const g=document.createElement("div");g.className="controls",g.style.display=this._showOptionButtons?"block":"none",g.appendChild(this.preserveCase.domNode),this.domNode.appendChild(g),n?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,p=>this._onKeyDown.fire(p)),this.onkeyup(this.inputBox.inputElement,p=>this._onKeyUp.fire(p)),this.oninput(this.inputBox.inputElement,p=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,p=>this._onMouseDown.fire(p))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(n){n?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(n){this.preserveCase.checked=n}focusOnPreserve(){this.preserveCase.focus()}validate(){var n;(n=this.inputBox)===null||n===void 0||n.validate()}set width(n){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=n+"px"}dispose(){super.dispose()}}e.ReplaceInput=i}),define(J[577],ee([1,0,52,62,7,45,58,68,156,303,74,40,13,26,27,120,2,17,9]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var u;(function(w){w[w.Right=0]="Right",w[w.Left=1]="Left"})(u||(e.Direction=u={}));class a extends m.ActionBar{constructor(E,I,T,P){E.classList.add("monaco-menu-container"),E.setAttribute("role","presentation");const A=document.createElement("div");A.classList.add("monaco-menu"),A.setAttribute("role","presentation"),super(A,{orientation:1,actionViewItemProvider:O=>this.doGetActionViewItem(O,T,M),context:T.context,actionRunner:T.actionRunner,ariaLabel:T.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...h.isMacintosh||h.isLinux?[10]:[]],keyDown:!0}}),this.menuStyles=P,this.menuElement=A,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new l.DisposableStore),this.initializeOrUpdateStyleSheet(E,P),this._register(k.Gesture.addTarget(A)),(0,L.addDisposableListener)(A,L.EventType.KEY_DOWN,O=>{new D.StandardKeyboardEvent(O).equals(2)&&O.preventDefault()}),T.enableMnemonics&&this.menuDisposables.add((0,L.addDisposableListener)(A,L.EventType.KEY_DOWN,O=>{const x=O.key.toLocaleLowerCase();if(this.mnemonics.has(x)){L.EventHelper.stop(O,!0);const F=this.mnemonics.get(x);if(F.length===1&&(F[0]instanceof c&&F[0].container&&this.focusItemByElement(F[0].container),F[0].onClick(O)),F.length>1){const B=F.shift();B&&B.container&&(this.focusItemByElement(B.container),F.push(B)),this.mnemonics.set(x,F)}}})),h.isLinux&&this._register((0,L.addDisposableListener)(A,L.EventType.KEY_DOWN,O=>{const x=new D.StandardKeyboardEvent(O);x.equals(14)||x.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),L.EventHelper.stop(O,!0)):(x.equals(13)||x.equals(12))&&(this.focusedItem=0,this.focusPrevious(),L.EventHelper.stop(O,!0))})),this._register((0,L.addDisposableListener)(this.domNode,L.EventType.MOUSE_OUT,O=>{const x=O.relatedTarget;(0,L.isAncestor)(x,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),O.stopPropagation())})),this._register((0,L.addDisposableListener)(this.actionsList,L.EventType.MOUSE_OVER,O=>{let x=O.target;if(!(!x||!(0,L.isAncestor)(x,this.actionsList)||x===this.actionsList)){for(;x.parentElement!==this.actionsList&&x.parentElement!==null;)x=x.parentElement;if(x.classList.contains("action-item")){const F=this.focusedItem;this.setFocusedItem(x),F!==this.focusedItem&&this.updateFocus()}}})),this._register(k.Gesture.addTarget(this.actionsList)),this._register((0,L.addDisposableListener)(this.actionsList,k.EventType.Tap,O=>{let x=O.initialTarget;if(!(!x||!(0,L.isAncestor)(x,this.actionsList)||x===this.actionsList)){for(;x.parentElement!==this.actionsList&&x.parentElement!==null;)x=x.parentElement;if(x.classList.contains("action-item")){const F=this.focusedItem;this.setFocusedItem(x),F!==this.focusedItem&&this.updateFocus()}}}));const M={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new v.DomScrollableElement(A,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const N=this.scrollableElement.getDomNode();N.style.position="",this.styleScrollElement(N,P),this._register((0,L.addDisposableListener)(A,k.EventType.Change,O=>{L.EventHelper.stop(O,!0);const x=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:x-O.translationY})})),this._register((0,L.addDisposableListener)(N,L.EventType.MOUSE_UP,O=>{O.preventDefault()})),A.style.maxHeight=`${Math.max(10,window.innerHeight-E.getBoundingClientRect().top-35)}px`,I=I.filter(O=>{var x;return!((x=T.submenuIds)===null||x===void 0)&&x.has(O.id)?(console.warn(`Found submenu cycle: ${O.id}`),!1):!0}),this.push(I,{icon:!0,label:!0,isMenu:!0}),E.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(O=>!(O instanceof b)).forEach((O,x,F)=>{O.updatePositionInSet(x+1,F.length)})}initializeOrUpdateStyleSheet(E,I){this.styleSheet||((0,L.isInShadowDOM)(E)?this.styleSheet=(0,L.createStyleSheet)(E):(a.globalStyleSheet||(a.globalStyleSheet=(0,L.createStyleSheet)()),this.styleSheet=a.globalStyleSheet)),this.styleSheet.textContent=C(I,(0,L.isInShadowDOM)(E))}styleScrollElement(E,I){var T,P;const A=(T=I.foregroundColor)!==null&&T!==void 0?T:"",M=(P=I.backgroundColor)!==null&&P!==void 0?P:"",N=I.borderColor?`1px solid ${I.borderColor}`:"",O="5px",x=I.shadowColor?`0 2px 8px ${I.shadowColor}`:"";E.style.outline=N,E.style.borderRadius=O,E.style.color=A,E.style.backgroundColor=M,E.style.boxShadow=x}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(E){const I=this.focusedItem;this.setFocusedItem(E),I!==this.focusedItem&&this.updateFocus()}setFocusedItem(E){for(let I=0;I<this.actionsList.children.length;I++){const T=this.actionsList.children[I];if(E===T){this.focusedItem=I;break}}}updateFocus(E){super.updateFocus(E,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(E,I,T){if(E instanceof o.Separator)return new b(I.context,E,{icon:!0},this.menuStyles);if(E instanceof o.SubmenuAction){const P=new c(E,E.actions,T,Object.assign(Object.assign({},I),{submenuIds:new Set([...I.submenuIds||[],E.id])}),this.menuStyles);if(I.enableMnemonics){const A=P.getMnemonic();if(A&&P.isEnabled()){let M=[];this.mnemonics.has(A)&&(M=this.mnemonics.get(A)),M.push(P),this.mnemonics.set(A,M)}}return P}else{const P={enableMnemonics:I.enableMnemonics,useEventAsContext:I.useEventAsContext};if(I.getKeyBinding){const M=I.getKeyBinding(E);if(M){const N=M.getLabel();N&&(P.keybinding=N)}}const A=new d(I.context,E,P,this.menuStyles);if(I.enableMnemonics){const M=A.getMnemonic();if(M&&A.isEnabled()){let N=[];this.mnemonics.has(M)&&(N=this.mnemonics.get(M)),N.push(A),this.mnemonics.set(M,N)}}return A}}}e.Menu=a;class d extends S.BaseActionViewItem{constructor(E,I,T,P){if(T.isMenu=!0,super(I,I,T),this.menuStyle=P,this.options=T,this.options.icon=T.icon!==void 0?T.icon:!1,this.options.label=T.label!==void 0?T.label:!0,this.cssClass="",this.options.label&&T.enableMnemonics){const A=this.action.label;if(A){const M=e.MENU_MNEMONIC_REGEX.exec(A);M&&(this.mnemonic=(M[1]?M[1]:M[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new i.RunOnceScheduler(()=>{this.element&&(this._register((0,L.addDisposableListener)(this.element,L.EventType.MOUSE_UP,A=>{if(L.EventHelper.stop(A,!0),y.isFirefox){if(new _.StandardMouseEvent(A).rightButton)return;this.onClick(A)}else setTimeout(()=>{this.onClick(A)},0)})),this._register((0,L.addDisposableListener)(this.element,L.EventType.CONTEXT_MENU,A=>{L.EventHelper.stop(A,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(E){super.render(E),this.element&&(this.container=E,this.item=(0,L.append)(this.element,(0,L.$)("a.action-menu-item")),this._action.id===o.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,L.append)(this.item,(0,L.$)("span.menu-item-check"+n.ThemeIcon.asCSSSelector(t.Codicon.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,L.append)(this.item,(0,L.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,L.append)(this.item,(0,L.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var E;super.focus(),(E=this.item)===null||E===void 0||E.focus(),this.applyStyle()}updatePositionInSet(E,I){this.item&&(this.item.setAttribute("aria-posinset",`${E}`),this.item.setAttribute("aria-setsize",`${I}`))}updateLabel(){var E;if(this.label&&this.options.label){(0,L.clearNode)(this.label);let I=(0,r.stripIcons)(this.action.label);if(I){const T=g(I);this.options.enableMnemonics||(I=T),this.label.setAttribute("aria-label",T.replace(/&&/g,"&"));const P=e.MENU_MNEMONIC_REGEX.exec(I);if(P){I=s.escape(I),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let A=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(I);for(;A&&A[1];)A=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(I);const M=N=>N.replace(/&amp;&amp;/g,"&amp;");A?this.label.append(s.ltrim(M(I.substr(0,A.index))," "),(0,L.$)("u",{"aria-hidden":"true"},A[3]),s.rtrim(M(I.substr(A.index+A[0].length))," ")):this.label.innerText=M(I).trim(),(E=this.item)===null||E===void 0||E.setAttribute("aria-keyshortcuts",(P[1]?P[1]:P[3]).toLocaleLowerCase())}else this.label.innerText=I.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const E=this.action.checked;this.item.classList.toggle("checked",!!E),E!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",E?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const E=this.element&&this.element.classList.contains("focused"),I=E&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,T=E&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,P=E&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",A=E&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=I??"",this.item.style.backgroundColor=T??"",this.item.style.outline=P,this.item.style.outlineOffset=A),this.check&&(this.check.style.color=I??"")}}class c extends d{constructor(E,I,T,P,A){super(E,E,P,A),this.submenuActions=I,this.parentData=T,this.submenuOptions=P,this.mysubmenu=null,this.submenuDisposables=this._register(new l.DisposableStore),this.mouseOver=!1,this.expandDirection=P&&P.expandDirection!==void 0?P.expandDirection:u.Right,this.showScheduler=new i.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new i.RunOnceScheduler(()=>{this.element&&!(0,L.isAncestor)((0,L.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(E){super.render(E),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,L.append)(this.item,(0,L.$)("span.submenu-indicator"+n.ThemeIcon.asCSSSelector(t.Codicon.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,L.addDisposableListener)(this.element,L.EventType.KEY_UP,I=>{const T=new D.StandardKeyboardEvent(I);(T.equals(17)||T.equals(3))&&(L.EventHelper.stop(I,!0),this.createSubmenu(!0))})),this._register((0,L.addDisposableListener)(this.element,L.EventType.KEY_DOWN,I=>{const T=new D.StandardKeyboardEvent(I);(0,L.getActiveElement)()===this.item&&(T.equals(17)||T.equals(3))&&L.EventHelper.stop(I,!0)})),this._register((0,L.addDisposableListener)(this.element,L.EventType.MOUSE_OVER,I=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,L.addDisposableListener)(this.element,L.EventType.MOUSE_LEAVE,I=>{this.mouseOver=!1})),this._register((0,L.addDisposableListener)(this.element,L.EventType.FOCUS_OUT,I=>{this.element&&!(0,L.isAncestor)((0,L.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(E){L.EventHelper.stop(E,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(E){if(this.parentData.submenu&&(E||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(E,I,T,P){const A={top:0,left:0};return A.left=(0,f.layout)(E.width,I.width,{position:P===u.Right?0:1,offset:T.left,size:T.width}),A.left>=T.left&&A.left<T.left+T.width&&(T.left+10+I.width<=E.width&&(A.left=T.left+10),T.top+=10,T.height=0),A.top=(0,f.layout)(E.height,I.height,{position:0,offset:T.top,size:0}),A.top+I.height===T.top&&A.top+T.height+I.height<=E.height&&(A.top+=T.height),A}createSubmenu(E=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,L.append)(this.element,(0,L.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const I=getComputedStyle(this.parentData.parent.domNode),T=parseFloat(I.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new a(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new o.EmptySubmenuAction],this.submenuOptions,this.menuStyle);const P=this.element.getBoundingClientRect(),A={top:P.top-T,left:P.left,height:P.height+2*T,width:P.width},M=this.submenuContainer.getBoundingClientRect(),{top:N,left:O}=this.calculateSubmenuMenuLayout(new L.Dimension(window.innerWidth,window.innerHeight),L.Dimension.lift(M),A,this.expandDirection);this.submenuContainer.style.left=`${O-M.left}px`,this.submenuContainer.style.top=`${N-M.top}px`,this.submenuDisposables.add((0,L.addDisposableListener)(this.submenuContainer,L.EventType.KEY_UP,x=>{new D.StandardKeyboardEvent(x).equals(15)&&(L.EventHelper.stop(x,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,L.addDisposableListener)(this.submenuContainer,L.EventType.KEY_DOWN,x=>{new D.StandardKeyboardEvent(x).equals(15)&&L.EventHelper.stop(x,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(E),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(E){var I;this.item&&((I=this.item)===null||I===void 0||I.setAttribute("aria-expanded",E))}applyStyle(){super.applyStyle();const I=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=I??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class b extends S.ActionViewItem{constructor(E,I,T,P){super(E,I,T),this.menuStyles=P}render(E){super.render(E),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function g(w){const E=e.MENU_MNEMONIC_REGEX,I=E.exec(w);if(!I)return w;const T=!I[1];return w.replace(E,T?"$2$3":"").trim()}e.cleanMnemonic=g;function p(w){const E=(0,t.getCodiconFontCharacters)()[w.id];return`.codicon-${w.id}:before { content: '\\${E.toString(16)}'; }`}e.formatRule=p;function C(w,E){let I=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${p(t.Codicon.menuSelection)}
${p(t.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(E){I+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const T=w.scrollbarShadow;T&&(I+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${T} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${T} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${T} 6px 6px 6px -6px inset;
				}
			`);const P=w.scrollbarSliderBackground;P&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${P};
				}
			`);const A=w.scrollbarSliderHoverBackground;A&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${A};
				}
			`);const M=w.scrollbarSliderActiveBackground;M&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${M};
				}
			`)}return I}}),define(J[578],ee([1,0,68,312,40,26,27,6,2,18,554,407]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMenuAction=e.ToolBar=void 0;class o extends S.Disposable{constructor(n,r,l={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new m.EventMultiplexer),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=new S.DisposableStore,this.options=l,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new i(()=>{var h;return(h=this.toggleMenuActionViewItem)===null||h===void 0?void 0:h.show()},l.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",n.appendChild(this.element),this.actionBar=this._register(new y.ActionBar(this.element,{orientation:l.orientation,ariaLabel:l.ariaLabel,actionRunner:l.actionRunner,allowContextMenu:l.allowContextMenu,actionViewItemProvider:(h,s)=>{var u;if(h.id===i.ID)return this.toggleMenuActionViewItem=new k.DropdownMenuActionViewItem(h,h.menuActions,r,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:_.ThemeIcon.asClassNameArray((u=l.moreIcon)!==null&&u!==void 0?u:D.Codicon.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(l.actionViewItemProvider){const a=l.actionViewItemProvider(h,s);if(a)return a}if(h instanceof L.SubmenuAction){const a=new k.DropdownMenuActionViewItem(h,h.actions,r,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:h.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return a.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(a),this.disposables.add(this._onDidChangeDropdownVisibility.add(a.onDidChangeVisibility)),a}}}))}set actionRunner(n){this.actionBar.actionRunner=n}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(n){return this.actionBar.getAction(n)}setActions(n,r){this.clear();const l=n?n.slice(0):[];this.hasSecondaryActions=!!(r&&r.length>0),this.hasSecondaryActions&&r&&(this.toggleMenuAction.menuActions=r.slice(0),l.push(this.toggleMenuAction)),l.forEach(h=>{this.actionBar.push(h,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(h)})})}getKeybindingLabel(n){var r,l;const h=this.lookupKeybindings?(l=(r=this.options).getKeyBinding)===null||l===void 0?void 0:l.call(r,n):void 0;return(0,f.withNullAsUndefined)(h?.getLabel())}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),super.dispose()}}e.ToolBar=o;class i extends L.Action{constructor(n,r){r=r||v.localize(0,null),super(i.ID,r,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=n}run(){return Le(this,void 0,void 0,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions(n){this._menuActions=n}}e.ToggleMenuAction=i,i.ID="toolbar.toggle.more"}),define(J[186],ee([1,0,7,80,45,68,230,229,227,114,155,220,140,40,15,13,26,27,261,6,71,2,142,18,555,408]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMatchType=e.TreeFindMode=e.FuzzyToggle=e.ModeToggle=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class p extends S.ElementsDragAndDropData{constructor(V){super(V.elements.map(H=>H.element)),this.data=V}}function C(U){return U instanceof S.ElementsDragAndDropData?new p(U):U}class w{constructor(V,H){this.modelProvider=V,this.dnd=H,this.autoExpandDisposable=d.Disposable.None}getDragURI(V){return this.dnd.getDragURI(V.element)}getDragLabel(V,H){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(V.map($=>$.element),H)}onDragStart(V,H){var $,X;(X=($=this.dnd).onDragStart)===null||X===void 0||X.call($,C(V),H)}onDragOver(V,H,$,X,Q=!0){const de=this.dnd.onDragOver(C(V),H&&H.element,$,X),ce=this.autoExpandNode!==H;if(ce&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=H),typeof H>"u")return de;if(ce&&typeof de!="boolean"&&de.autoExpand&&(this.autoExpandDisposable=(0,r.disposableTimeout)(()=>{const K=this.modelProvider(),ie=K.getNodeLocation(H);K.isCollapsed(ie)&&K.setCollapsed(ie,!1),this.autoExpandNode=void 0},500)),typeof de=="boolean"||!de.accept||typeof de.bubble>"u"||de.feedback){if(!Q){const K=typeof de=="boolean"?de:de.accept,ie=typeof de=="boolean"?void 0:de.effect;return{accept:K,effect:ie,feedback:[$]}}return de}if(de.bubble===1){const K=this.modelProvider(),ie=K.getNodeLocation(H),ne=K.getParentNodeLocation(ie),oe=K.getNode(ne),re=ne&&K.getListIndex(ne);return this.onDragOver(V,oe,re,X,!1)}const ae=this.modelProvider(),ue=ae.getNodeLocation(H),q=ae.getListIndex(ue),W=ae.getListRenderCount(ue);return Object.assign(Object.assign({},de),{feedback:(0,n.range)(q,q+W)})}drop(V,H,$,X){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(C(V),H&&H.element,$,X)}onDragEnd(V){var H,$;($=(H=this.dnd).onDragEnd)===null||$===void 0||$.call(H,V)}}function E(U,V){return V&&Object.assign(Object.assign({},V),{identityProvider:V.identityProvider&&{getId(H){return V.identityProvider.getId(H.element)}},dnd:V.dnd&&new w(U,V.dnd),multipleSelectionController:V.multipleSelectionController&&{isSelectionSingleChangeEvent(H){return V.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},H),{element:H.element}))},isSelectionRangeChangeEvent(H){return V.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},H),{element:H.element}))}},accessibilityProvider:V.accessibilityProvider&&Object.assign(Object.assign({},V.accessibilityProvider),{getSetSize(H){const $=U(),X=$.getNodeLocation(H),Q=$.getParentNodeLocation(X);return $.getNode(Q).visibleChildrenCount},getPosInSet(H){return H.visibleChildIndex+1},isChecked:V.accessibilityProvider&&V.accessibilityProvider.isChecked?H=>V.accessibilityProvider.isChecked(H.element):void 0,getRole:V.accessibilityProvider&&V.accessibilityProvider.getRole?H=>V.accessibilityProvider.getRole(H.element):()=>"treeitem",getAriaLabel(H){return V.accessibilityProvider.getAriaLabel(H.element)},getWidgetAriaLabel(){return V.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:V.accessibilityProvider&&V.accessibilityProvider.getWidgetRole?()=>V.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:V.accessibilityProvider&&V.accessibilityProvider.getAriaLevel?H=>V.accessibilityProvider.getAriaLevel(H.element):H=>H.depth,getActiveDescendantId:V.accessibilityProvider.getActiveDescendantId&&(H=>V.accessibilityProvider.getActiveDescendantId(H.element))}),keyboardNavigationLabelProvider:V.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},V.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(H){return V.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(H.element)}})})}class I{constructor(V){this.delegate=V}getHeight(V){return this.delegate.getHeight(V.element)}getTemplateId(V){return this.delegate.getTemplateId(V.element)}hasDynamicHeight(V){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(V.element)}setDynamicHeight(V,H){var $,X;(X=($=this.delegate).setDynamicHeight)===null||X===void 0||X.call($,V.element,H)}}e.ComposedTreeDelegate=I;var T;(function(U){U.None="none",U.OnHover="onHover",U.Always="always"})(T||(e.RenderIndentGuides=T={}));class P{get elements(){return this._elements}constructor(V,H=[]){this._elements=H,this.disposables=new d.DisposableStore,this.onDidChange=u.Event.forEach(V,$=>this._elements=$,this.disposables)}dispose(){this.disposables.dispose()}}class A{constructor(V,H,$,X,Q,de={}){var ce;this.renderer=V,this.modelProvider=H,this.activeNodes=X,this.renderedIndentGuides=Q,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=A.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=d.Disposable.None,this.disposables=new d.DisposableStore,this.templateId=V.templateId,this.updateOptions(de),u.Event.map($,ae=>ae.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(ce=V.onDidChangeTwistieState)===null||ce===void 0||ce.call(V,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(V={}){if(typeof V.indent<"u"){const H=(0,c.clamp)(V.indent,0,40);if(H!==this.indent){this.indent=H;for(const[$,X]of this.renderedNodes)this.renderTreeElement($,X)}}if(typeof V.renderIndentGuides<"u"){const H=V.renderIndentGuides!==T.None;if(H!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=H;for(const[$,X]of this.renderedNodes)this._renderIndentGuides($,X);if(this.indentGuidesDisposable.dispose(),H){const $=new d.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,$),this.indentGuidesDisposable=$,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof V.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=V.hideTwistiesOfChildlessElements)}renderTemplate(V){const H=(0,y.append)(V,(0,y.$)(".monaco-tl-row")),$=(0,y.append)(H,(0,y.$)(".monaco-tl-indent")),X=(0,y.append)(H,(0,y.$)(".monaco-tl-twistie")),Q=(0,y.append)(H,(0,y.$)(".monaco-tl-contents")),de=this.renderer.renderTemplate(Q);return{container:V,indent:$,twistie:X,indentGuidesDisposable:d.Disposable.None,templateData:de}}renderElement(V,H,$,X){this.renderedNodes.set(V,$),this.renderedElements.set(V.element,V),this.renderTreeElement(V,$),this.renderer.renderElement(V,H,$.templateData,X)}disposeElement(V,H,$,X){var Q,de;$.indentGuidesDisposable.dispose(),(de=(Q=this.renderer).disposeElement)===null||de===void 0||de.call(Q,V,H,$.templateData,X),typeof X=="number"&&(this.renderedNodes.delete(V),this.renderedElements.delete(V.element))}disposeTemplate(V){this.renderer.disposeTemplate(V.templateData)}onDidChangeTwistieState(V){const H=this.renderedElements.get(V);H&&this.onDidChangeNodeTwistieState(H)}onDidChangeNodeTwistieState(V){const H=this.renderedNodes.get(V);H&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(V,H))}renderTreeElement(V,H){const $=A.DefaultIndent+(V.depth-1)*this.indent;H.twistie.style.paddingLeft=`${$}px`,H.indent.style.width=`${$+this.indent-16}px`,V.collapsible?H.container.setAttribute("aria-expanded",String(!V.collapsed)):H.container.removeAttribute("aria-expanded"),H.twistie.classList.remove(...h.ThemeIcon.asClassNameArray(l.Codicon.treeItemExpanded));let X=!1;this.renderer.renderTwistie&&(X=this.renderer.renderTwistie(V.element,H.twistie)),V.collapsible&&(!this.hideTwistiesOfChildlessElements||V.visibleChildrenCount>0)?(X||H.twistie.classList.add(...h.ThemeIcon.asClassNameArray(l.Codicon.treeItemExpanded)),H.twistie.classList.add("collapsible"),H.twistie.classList.toggle("collapsed",V.collapsed)):H.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(V,H)}_renderIndentGuides(V,H){if((0,y.clearNode)(H.indent),H.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const $=new d.DisposableStore,X=this.modelProvider();for(;;){const Q=X.getNodeLocation(V),de=X.getParentNodeLocation(Q);if(!de)break;const ce=X.getNode(de),ae=(0,y.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(ce)&&ae.classList.add("active"),H.indent.childElementCount===0?H.indent.appendChild(ae):H.indent.insertBefore(ae,H.indent.firstElementChild),this.renderedIndentGuides.add(ce,ae),$.add((0,d.toDisposable)(()=>this.renderedIndentGuides.delete(ce,ae))),V=ce}H.indentGuidesDisposable=$}_onDidChangeActiveNodes(V){if(!this.shouldRenderIndentGuides)return;const H=new Set,$=this.modelProvider();V.forEach(X=>{const Q=$.getNodeLocation(X);try{const de=$.getParentNodeLocation(Q);X.collapsible&&X.children.length>0&&!X.collapsed?H.add(X):de&&H.add($.getNode(de))}catch{}}),this.activeIndentNodes.forEach(X=>{H.has(X)||this.renderedIndentGuides.forEach(X,Q=>Q.classList.remove("active"))}),H.forEach(X=>{this.activeIndentNodes.has(X)||this.renderedIndentGuides.forEach(X,Q=>Q.classList.add("active"))}),this.activeIndentNodes=H}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,d.dispose)(this.disposables)}}A.DefaultIndent=8;class M{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(V,H,$){this.tree=V,this.keyboardNavigationLabelProvider=H,this._filter=$,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new d.DisposableStore,V.onWillRefilter(this.reset,this,this.disposables)}filter(V,H){let $=1;if(this._filter){const de=this._filter.filter(V,H);if(typeof de=="boolean"?$=de?1:0:(0,o.isFilterResult)(de)?$=(0,o.getVisibleState)(de.visibility):$=de,$===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:a.FuzzyScore.Default,visibility:$};const X=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(V),Q=Array.isArray(X)?X:[X];for(const de of Q){const ce=de&&de.toString();if(typeof ce>"u")return{data:a.FuzzyScore.Default,visibility:$};let ae;if(this.tree.findMatchType===B.Contiguous){const ue=ce.toLowerCase().indexOf(this._lowercasePattern);if(ue>-1){ae=[Number.MAX_SAFE_INTEGER,0];for(let q=this._lowercasePattern.length;q>0;q--)ae.push(ue+q-1)}}else ae=(0,a.fuzzyScore)(this._pattern,this._lowercasePattern,0,ce,ce.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ae)return this._matchCount++,Q.length===1?{data:ae,visibility:$}:{data:{label:ce,score:ae},visibility:$}}return this.tree.findMode===F.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(V):2:{data:a.FuzzyScore.Default,visibility:$}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,d.dispose)(this.disposables)}}class N extends v.Toggle{constructor(V){var H;super({icon:l.Codicon.listFilter,title:(0,g.localize)(0,null),isChecked:(H=V.isChecked)!==null&&H!==void 0?H:!1,inputActiveOptionBorder:V.inputActiveOptionBorder,inputActiveOptionForeground:V.inputActiveOptionForeground,inputActiveOptionBackground:V.inputActiveOptionBackground})}}e.ModeToggle=N;class O extends v.Toggle{constructor(V){var H;super({icon:l.Codicon.searchFuzzy,title:(0,g.localize)(1,null),isChecked:(H=V.isChecked)!==null&&H!==void 0?H:!1,inputActiveOptionBorder:V.inputActiveOptionBorder,inputActiveOptionForeground:V.inputActiveOptionForeground,inputActiveOptionBackground:V.inputActiveOptionBackground})}}e.FuzzyToggle=O;const x={inputBoxStyles:m.unthemedInboxStyles,toggleStyles:v.unthemedToggleStyles,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var F;(function(U){U[U.Highlight=0]="Highlight",U[U.Filter=1]="Filter"})(F||(e.TreeFindMode=F={}));var B;(function(U){U[U.Fuzzy=0]="Fuzzy",U[U.Contiguous=1]="Contiguous"})(B||(e.TreeFindMatchType=B={}));class z extends d.Disposable{set mode(V){this.modeToggle.checked=V===F.Filter,this.findInput.inputBox.setPlaceHolder(V===F.Filter?(0,g.localize)(2,null):(0,g.localize)(3,null))}set matchType(V){this.matchTypeToggle.checked=V===B.Fuzzy}constructor(V,H,$,X,Q,de){var ce;super(),this.tree=H,this.elements=(0,y.h)(".monaco-tree-type-filter",[(0,y.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,y.h)(".monaco-tree-type-filter-input@findInput"),(0,y.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new u.Emitter,V.appendChild(this.elements.root),this._register((0,d.toDisposable)(()=>V.removeChild(this.elements.root)));const ae=(ce=de?.styles)!==null&&ce!==void 0?ce:x;ae.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=ae.listFilterWidgetBackground),ae.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${ae.listFilterWidgetShadow}`),this.modeToggle=this._register(new N(Object.assign(Object.assign({},ae.toggleStyles),{isChecked:X===F.Filter}))),this.matchTypeToggle=this._register(new O(Object.assign(Object.assign({},ae.toggleStyles),{isChecked:Q===B.Fuzzy}))),this.onDidChangeMode=u.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?F.Filter:F.Highlight,this._store),this.onDidChangeMatchType=u.Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?B.Fuzzy:B.Contiguous,this._store),this.findInput=this._register(new _.FindInput(this.elements.findInput,$,{label:(0,g.localize)(4,null),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:ae.inputBoxStyles,toggleStyles:ae.toggleStyles,history:de?.history})),this.actionbar=this._register(new D.ActionBar(this.elements.actionbar)),this.mode=X;const ue=this._register(new k.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),q=this._register(u.Event.chain(ue.event)).map(ne=>new L.StandardKeyboardEvent(ne)).event;this._register(q(ne=>{if(ne.equals(3)){ne.preventDefault(),ne.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(ne.equals(18)){ne.preventDefault(),ne.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(ne.equals(16)){ne.preventDefault(),ne.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const W=this._register(new t.Action("close",(0,g.localize)(5,null),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(W,{icon:!0,label:!1});const K=this._register(new k.DomEmitter(this.elements.grab,"mousedown"));this._register(K.event(ne=>{const oe=new d.DisposableStore,re=oe.add(new k.DomEmitter(window,"mousemove")),ge=oe.add(new k.DomEmitter(window,"mouseup")),ve=this.right,we=ne.pageX,ye=this.top,Ie=ne.pageY;this.elements.grab.classList.add("grabbing");const Ee=this.elements.root.style.transition;this.elements.root.style.transition="unset";const De=Ae=>{const Te=Ae.pageX-we;this.right=ve-Te;const be=Ae.pageY-Ie;this.top=ye+be,this.layout()};oe.add(re.event(De)),oe.add(ge.event(Ae=>{De(Ae),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=Ee,oe.dispose()}))}));const ie=this._register(u.Event.chain(this._register(new k.DomEmitter(this.elements.grab,"keydown")).event)).map(ne=>new L.StandardKeyboardEvent(ne)).event;this._register(ie(ne=>{let oe,re;if(ne.keyCode===15?oe=Number.POSITIVE_INFINITY:ne.keyCode===17?oe=0:ne.keyCode===10&&(oe=this.right===0?Number.POSITIVE_INFINITY:0),ne.keyCode===16?re=0:ne.keyCode===18&&(re=Number.POSITIVE_INFINITY),oe!==void 0&&(ne.preventDefault(),ne.stopPropagation(),this.right=oe,this.layout()),re!==void 0){ne.preventDefault(),ne.stopPropagation(),this.top=re;const ge=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=ge},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(V=this.width){this.width=V,this.right=(0,c.clamp)(this.right,0,Math.max(0,V-212)),this.elements.root.style.right=`${this.right}px`,this.top=(0,c.clamp)(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(V){this.findInput.showMessage(V)}clearMessage(){this.findInput.clearMessage()}dispose(){const V=Object.create(null,{dispose:{get:()=>super.dispose}});return Le(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield(0,r.timeout)(300),V.dispose.call(this)})}}class j{get pattern(){return this._pattern}get mode(){return this._mode}set mode(V){V!==this._mode&&(this._mode=V,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(V))}get matchType(){return this._matchType}set matchType(V){V!==this._matchType&&(this._matchType=V,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(V))}constructor(V,H,$,X,Q,de={}){var ce,ae;this.tree=V,this.view=$,this.filter=X,this.contextViewProvider=Q,this.options=de,this._pattern="",this.width=0,this._onDidChangeMode=new u.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new u.Emitter,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new u.Emitter,this._onDidChangeOpenState=new u.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new d.DisposableStore,this.disposables=new d.DisposableStore,this._mode=(ce=V.options.defaultFindMode)!==null&&ce!==void 0?ce:F.Highlight,this._matchType=(ae=V.options.defaultFindMatchType)!==null&&ae!==void 0?ae:B.Fuzzy,H.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(V={}){V.defaultFindMode!==void 0&&(this.mode=V.defaultFindMode),V.defaultFindMatchType!==void 0&&(this.matchType=V.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var V,H,$,X;const Q=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&Q?!((V=this.tree.options.showNotFoundMessage)!==null&&V!==void 0)||V?(H=this.widget)===null||H===void 0||H.showMessage({type:2,content:(0,g.localize)(6,null)}):($=this.widget)===null||$===void 0||$.showMessage({type:2}):(X=this.widget)===null||X===void 0||X.clearMessage()}shouldAllowFocus(V){return!this.widget||!this.pattern||this._mode===F.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!a.FuzzyScore.isDefault(V.filterData)}layout(V){var H;this.width=V,(H=this.widget)===null||H===void 0||H.layout(V)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function R(U){let V=i.TreeMouseEventTarget.Unknown;return(0,y.hasParentWithClass)(U.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?V=i.TreeMouseEventTarget.Twistie:(0,y.hasParentWithClass)(U.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?V=i.TreeMouseEventTarget.Element:(0,y.hasParentWithClass)(U.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(V=i.TreeMouseEventTarget.Filter),{browserEvent:U.browserEvent,element:U.element?U.element.element:null,target:V}}function Z(U,V){V(U),U.children.forEach(H=>Z(H,V))}class se{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(V,H){this.getFirstViewElementWithTrait=V,this.identityProvider=H,this.nodes=[],this._onDidChange=new u.Emitter,this.onDidChange=this._onDidChange.event}set(V,H){!H?.__forceEvent&&(0,n.equals)(this.nodes,V)||this._set(V,!1,H)}_set(V,H,$){if(this.nodes=[...V],this.elements=void 0,this._nodeSet=void 0,!H){const X=this;this._onDidChange.fire({get elements(){return X.get()},browserEvent:$})}}get(){return this.elements||(this.elements=this.nodes.map(V=>V.element)),[...this.elements]}getNodes(){return this.nodes}has(V){return this.nodeSet.has(V)}onDidModelSplice({insertedNodes:V,deletedNodes:H}){if(!this.identityProvider){const ae=this.createNodeSet(),ue=q=>ae.delete(q);H.forEach(q=>Z(q,ue)),this.set([...ae.values()]);return}const $=new Set,X=ae=>$.add(this.identityProvider.getId(ae.element).toString());H.forEach(ae=>Z(ae,X));const Q=new Map,de=ae=>Q.set(this.identityProvider.getId(ae.element).toString(),ae);V.forEach(ae=>Z(ae,de));const ce=[];for(const ae of this.nodes){const ue=this.identityProvider.getId(ae.element).toString();if(!$.has(ue))ce.push(ae);else{const W=Q.get(ue);W&&W.visible&&ce.push(W)}}if(this.nodes.length>0&&ce.length===0){const ae=this.getFirstViewElementWithTrait();ae&&ce.push(ae)}this._set(ce,!0)}createNodeSet(){const V=new Set;for(const H of this.nodes)V.add(H);return V}}class le extends f.MouseController{constructor(V,H){super(V),this.tree=H}onViewPointer(V){if((0,f.isButton)(V.browserEvent.target)||(0,f.isInputElement)(V.browserEvent.target)||(0,f.isMonacoEditor)(V.browserEvent.target)||V.browserEvent.isHandledByList)return;const H=V.element;if(!H)return super.onViewPointer(V);if(this.isSelectionRangeChangeEvent(V)||this.isSelectionSingleChangeEvent(V))return super.onViewPointer(V);const $=V.browserEvent.target,X=$.classList.contains("monaco-tl-twistie")||$.classList.contains("monaco-icon-label")&&$.classList.contains("folder-icon")&&V.browserEvent.offsetX<16;let Q=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?Q=this.tree.expandOnlyOnTwistieClick(H.element):Q=!!this.tree.expandOnlyOnTwistieClick,Q&&!X&&V.browserEvent.detail!==2)return super.onViewPointer(V);if(!this.tree.expandOnDoubleClick&&V.browserEvent.detail===2)return super.onViewPointer(V);if(H.collapsible){const de=this.tree.getNodeLocation(H),ce=V.browserEvent.altKey;if(this.tree.setFocus([de]),this.tree.toggleCollapsed(de,ce),Q&&X){V.browserEvent.isHandledByList=!0;return}}super.onViewPointer(V)}onDoubleClick(V){V.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||V.browserEvent.isHandledByList||super.onDoubleClick(V)}}class te extends f.List{constructor(V,H,$,X,Q,de,ce,ae){super(V,H,$,X,ae),this.focusTrait=Q,this.selectionTrait=de,this.anchorTrait=ce}createMouseController(V){return new le(this,V.tree)}splice(V,H,$=[]){if(super.splice(V,H,$),$.length===0)return;const X=[],Q=[];let de;$.forEach((ce,ae)=>{this.focusTrait.has(ce)&&X.push(V+ae),this.selectionTrait.has(ce)&&Q.push(V+ae),this.anchorTrait.has(ce)&&(de=V+ae)}),X.length>0&&super.setFocus((0,n.distinct)([...super.getFocus(),...X])),Q.length>0&&super.setSelection((0,n.distinct)([...super.getSelection(),...Q])),typeof de=="number"&&super.setAnchor(de)}setFocus(V,H,$=!1){super.setFocus(V,H),$||this.focusTrait.set(V.map(X=>this.element(X)),H)}setSelection(V,H,$=!1){super.setSelection(V,H),$||this.selectionTrait.set(V.map(X=>this.element(X)),H)}setAnchor(V,H=!1){super.setAnchor(V),H||(typeof V>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(V)]))}}class Y{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return u.Event.filter(u.Event.map(this.view.onMouseDblClick,R),V=>V.target!==i.TreeMouseEventTarget.Filter)}get onPointer(){return u.Event.map(this.view.onPointer,R)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return u.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var V,H;return(H=(V=this.findController)===null||V===void 0?void 0:V.mode)!==null&&H!==void 0?H:F.Highlight}set findMode(V){this.findController&&(this.findController.mode=V)}get findMatchType(){var V,H;return(H=(V=this.findController)===null||V===void 0?void 0:V.matchType)!==null&&H!==void 0?H:B.Fuzzy}set findMatchType(V){this.findController&&(this.findController.matchType=V)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(V,H,$,X,Q={}){var de;this._user=V,this._options=Q,this.eventBufferer=new u.EventBufferer,this.onDidChangeFindOpenState=u.Event.None,this.disposables=new d.DisposableStore,this._onWillRefilter=new u.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new u.Emitter;const ce=new I($),ae=new u.Relay,ue=new u.Relay,q=this.disposables.add(new P(ue.event)),W=new s.SetMap;this.renderers=X.map(ne=>new A(ne,()=>this.model,ae.event,q,W,Q));for(const ne of this.renderers)this.disposables.add(ne);let K;Q.keyboardNavigationLabelProvider&&(K=new M(this,Q.keyboardNavigationLabelProvider,Q.filter),Q=Object.assign(Object.assign({},Q),{filter:K}),this.disposables.add(K)),this.focus=new se(()=>this.view.getFocusedElements()[0],Q.identityProvider),this.selection=new se(()=>this.view.getSelectedElements()[0],Q.identityProvider),this.anchor=new se(()=>this.view.getAnchorElement(),Q.identityProvider),this.view=new te(V,H,ce,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},E(()=>this.model,Q)),{tree:this})),this.model=this.createModel(V,this.view,Q),ae.input=this.model.onDidChangeCollapseState;const ie=u.Event.forEach(this.model.onDidSplice,ne=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(ne),this.selection.onDidModelSplice(ne)})},this.disposables);if(ie(()=>null,null,this.disposables),ue.input=u.Event.chain(u.Event.any(ie,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const ne=new Set;for(const oe of this.focus.getNodes())ne.add(oe);for(const oe of this.selection.getNodes())ne.add(oe);return[...ne.values()]}).event,Q.keyboardSupport!==!1){const ne=u.Event.chain(this.view.onKeyDown).filter(oe=>!(0,f.isInputElement)(oe.target)).map(oe=>new L.StandardKeyboardEvent(oe));ne.filter(oe=>oe.keyCode===15).on(this.onLeftArrow,this,this.disposables),ne.filter(oe=>oe.keyCode===17).on(this.onRightArrow,this,this.disposables),ne.filter(oe=>oe.keyCode===10).on(this.onSpace,this,this.disposables)}if((!((de=Q.findWidgetEnabled)!==null&&de!==void 0)||de)&&Q.keyboardNavigationLabelProvider&&Q.contextViewProvider){const ne=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new j(this,this.model,this.view,K,Q.contextViewProvider,ne),this.focusNavigationFilter=oe=>this.findController.shouldAllowFocus(oe),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=u.Event.None,this.onDidChangeFindMatchType=u.Event.None;this.styleElement=(0,y.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===T.Always)}updateOptions(V={}){var H;this._options=Object.assign(Object.assign({},this._options),V);for(const $ of this.renderers)$.updateOptions(V);this.view.updateOptions(this._options),(H=this.findController)===null||H===void 0||H.updateOptions(V),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===T.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(V){this.view.scrollTop=V}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){this.view.domFocus()}layout(V,H){var $;this.view.layout(V,H),(0,b.isNumber)(H)&&(($=this.findController)===null||$===void 0||$.layout(H))}style(V){const H=`.${this.view.domId}`,$=[];V.treeIndentGuidesStroke&&($.push(`.monaco-list${H}:hover .monaco-tl-indent > .indent-guide, .monaco-list${H}.always .monaco-tl-indent > .indent-guide  { border-color: ${V.treeInactiveIndentGuidesStroke}; }`),$.push(`.monaco-list${H} .monaco-tl-indent > .indent-guide.active { border-color: ${V.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=$.join(`
`),this.view.style(V)}getParentElement(V){const H=this.model.getParentNodeLocation(V);return this.model.getNode(H).element}getFirstElementChild(V){return this.model.getFirstElementChild(V)}getNode(V){return this.model.getNode(V)}getNodeLocation(V){return this.model.getNodeLocation(V)}collapse(V,H=!1){return this.model.setCollapsed(V,!0,H)}expand(V,H=!1){return this.model.setCollapsed(V,!1,H)}toggleCollapsed(V,H=!1){return this.model.setCollapsed(V,void 0,H)}isCollapsible(V){return this.model.isCollapsible(V)}setCollapsible(V,H){return this.model.setCollapsible(V,H)}isCollapsed(V){return this.model.isCollapsed(V)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(V,H){const $=V.map(Q=>this.model.getNode(Q));this.selection.set($,H);const X=V.map(Q=>this.model.getListIndex(Q)).filter(Q=>Q>-1);this.view.setSelection(X,H,!0)}getSelection(){return this.selection.get()}setFocus(V,H){const $=V.map(Q=>this.model.getNode(Q));this.focus.set($,H);const X=V.map(Q=>this.model.getListIndex(Q)).filter(Q=>Q>-1);this.view.setFocus(X,H,!0)}getFocus(){return this.focus.get()}reveal(V,H){this.model.expandTo(V);const $=this.model.getListIndex(V);$!==-1&&this.view.reveal($,H)}onLeftArrow(V){V.preventDefault(),V.stopPropagation();const H=this.view.getFocusedElements();if(H.length===0)return;const $=H[0],X=this.model.getNodeLocation($);if(!this.model.setCollapsed(X,!0)){const de=this.model.getParentNodeLocation(X);if(!de)return;const ce=this.model.getListIndex(de);this.view.reveal(ce),this.view.setFocus([ce])}}onRightArrow(V){V.preventDefault(),V.stopPropagation();const H=this.view.getFocusedElements();if(H.length===0)return;const $=H[0],X=this.model.getNodeLocation($);if(!this.model.setCollapsed(X,!1)){if(!$.children.some(ae=>ae.visible))return;const[de]=this.view.getFocus(),ce=de+1;this.view.reveal(ce),this.view.setFocus([ce])}}onSpace(V){V.preventDefault(),V.stopPropagation();const H=this.view.getFocusedElements();if(H.length===0)return;const $=H[0],X=this.model.getNodeLocation($),Q=V.browserEvent.altKey;this.model.setCollapsed(X,void 0,Q)}dispose(){(0,d.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=Y}),define(J[579],ee([1,0,186,221]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class L extends y.AbstractTree{constructor(_,m,S,f,v,o={}){super(_,m,S,f,o),this.user=_,this.dataSource=v,this.identityProvider=o.identityProvider}createModel(_,m,S){return new k.ObjectTreeModel(_,m,S)}}e.DataTree=L}),define(J[313],ee([1,0,186,562,221,105,51]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class m extends y.AbstractTree{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(i,t,n,r,l={}){super(i,t,n,r,l),this.user=i}setChildren(i,t=_.Iterable.empty(),n){this.model.setChildren(i,t,n)}rerender(i){if(i===void 0){this.view.rerender();return}this.model.rerender(i)}hasElement(i){return this.model.has(i)}createModel(i,t,n){return new L.ObjectTreeModel(i,t,n)}}e.ObjectTree=m;class S{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(i,t){this._compressedTreeNodeProvider=i,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}renderTemplate(i){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(i)}}renderElement(i,t,n,r){const l=this.compressedTreeNodeProvider.getCompressedTreeNode(i.element);l.element.elements.length===1?(n.compressedTreeNode=void 0,this.renderer.renderElement(i,t,n.data,r)):(n.compressedTreeNode=l,this.renderer.renderCompressedElements(l,t,n.data,r))}disposeElement(i,t,n,r){var l,h,s,u;n.compressedTreeNode?(h=(l=this.renderer).disposeCompressedElements)===null||h===void 0||h.call(l,n.compressedTreeNode,t,n.data,r):(u=(s=this.renderer).disposeElement)===null||u===void 0||u.call(s,i,t,n.data,r)}disposeTemplate(i){this.renderer.disposeTemplate(i.data)}renderTwistie(i,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(i,t):!1}}Ne([D.memoize],S.prototype,"compressedTreeNodeProvider",null);function f(o,i){return i&&Object.assign(Object.assign({},i),{keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let n;try{n=o().getCompressedTreeNode(t)}catch{return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return n.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}})}class v extends m{constructor(i,t,n,r,l={}){const h=()=>this,s=r.map(u=>new S(h,u));super(i,t,n,s,f(h,l))}setChildren(i,t=_.Iterable.empty(),n){this.model.setChildren(i,t,n)}createModel(i,t,n){return new k.CompressibleObjectTreeModel(i,t,n)}updateOptions(i={}){super.updateOptions(i),typeof i.compressionEnabled<"u"&&this.model.setCompressionEnabled(i.compressionEnabled)}getCompressedTreeNode(i=null){return this.model.getCompressedTreeNode(i)}}e.CompressibleObjectTree=v}),define(J[580],ee([1,0,227,186,220,313,140,13,26,27,12,6,51,2,18]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function r(M){return Object.assign(Object.assign({},M),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function l(M,N){return N.parent?N.parent===M?!0:l(M,N.parent):!1}function h(M,N){return M===N||l(M,N)||l(N,M)}class s{get element(){return this.node.element.element}get children(){return this.node.children.map(N=>new s(N))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(N){this.node=N}}class u{constructor(N,O,x){this.renderer=N,this.nodeMapper=O,this.onDidChangeTwistieState=x,this.renderedNodes=new Map,this.templateId=N.templateId}renderTemplate(N){return{templateData:this.renderer.renderTemplate(N)}}renderElement(N,O,x,F){this.renderer.renderElement(this.nodeMapper.map(N),O,x.templateData,F)}renderTwistie(N,O){return N.slow?(O.classList.add(...f.ThemeIcon.asClassNameArray(S.Codicon.treeItemLoading)),!0):(O.classList.remove(...f.ThemeIcon.asClassNameArray(S.Codicon.treeItemLoading)),!1)}disposeElement(N,O,x,F){var B,z;(z=(B=this.renderer).disposeElement)===null||z===void 0||z.call(B,this.nodeMapper.map(N),O,x.templateData,F)}disposeTemplate(N){this.renderer.disposeTemplate(N.templateData)}dispose(){this.renderedNodes.clear()}}function a(M){return{browserEvent:M.browserEvent,elements:M.elements.map(N=>N.element)}}function d(M){return{browserEvent:M.browserEvent,element:M.element&&M.element.element,target:M.target}}class c extends y.ElementsDragAndDropData{constructor(N){super(N.elements.map(O=>O.element)),this.data=N}}function b(M){return M instanceof y.ElementsDragAndDropData?new c(M):M}class g{constructor(N){this.dnd=N}getDragURI(N){return this.dnd.getDragURI(N.element)}getDragLabel(N,O){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(N.map(x=>x.element),O)}onDragStart(N,O){var x,F;(F=(x=this.dnd).onDragStart)===null||F===void 0||F.call(x,b(N),O)}onDragOver(N,O,x,F,B=!0){return this.dnd.onDragOver(b(N),O&&O.element,x,F)}drop(N,O,x,F){this.dnd.drop(b(N),O&&O.element,x,F)}onDragEnd(N){var O,x;(x=(O=this.dnd).onDragEnd)===null||x===void 0||x.call(O,N)}}function p(M){return M&&Object.assign(Object.assign({},M),{collapseByDefault:!0,identityProvider:M.identityProvider&&{getId(N){return M.identityProvider.getId(N.element)}},dnd:M.dnd&&new g(M.dnd),multipleSelectionController:M.multipleSelectionController&&{isSelectionSingleChangeEvent(N){return M.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},N),{element:N.element}))},isSelectionRangeChangeEvent(N){return M.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},N),{element:N.element}))}},accessibilityProvider:M.accessibilityProvider&&Object.assign(Object.assign({},M.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:M.accessibilityProvider.getRole?N=>M.accessibilityProvider.getRole(N.element):()=>"treeitem",isChecked:M.accessibilityProvider.isChecked?N=>{var O;return!!(!((O=M.accessibilityProvider)===null||O===void 0)&&O.isChecked(N.element))}:void 0,getAriaLabel(N){return M.accessibilityProvider.getAriaLabel(N.element)},getWidgetAriaLabel(){return M.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:M.accessibilityProvider.getWidgetRole?()=>M.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:M.accessibilityProvider.getAriaLevel&&(N=>M.accessibilityProvider.getAriaLevel(N.element)),getActiveDescendantId:M.accessibilityProvider.getActiveDescendantId&&(N=>M.accessibilityProvider.getActiveDescendantId(N.element))}),filter:M.filter&&{filter(N,O){return M.filter.filter(N.element,O)}},keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},M.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(N){return M.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(N.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof M.expandOnlyOnTwistieClick>"u"?void 0:typeof M.expandOnlyOnTwistieClick!="function"?M.expandOnlyOnTwistieClick:N=>M.expandOnlyOnTwistieClick(N.element),defaultFindVisibility:N=>N.hasChildren&&N.stale?1:typeof M.defaultFindVisibility=="number"?M.defaultFindVisibility:typeof M.defaultFindVisibility>"u"?2:M.defaultFindVisibility(N.element)})}function C(M,N){N(M),M.children.forEach(O=>C(O,N))}class w{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return o.Event.map(this.tree.onDidChangeFocus,a)}get onDidChangeSelection(){return o.Event.map(this.tree.onDidChangeSelection,a)}get onMouseDblClick(){return o.Event.map(this.tree.onMouseDblClick,d)}get onPointer(){return o.Event.map(this.tree.onPointer,d)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(N,O,x,F,B,z={}){this.user=N,this.dataSource=B,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new o.Emitter,this._onDidChangeNodeSlowState=new o.Emitter,this.nodeMapper=new _.WeakMapper(j=>new s(j)),this.disposables=new t.DisposableStore,this.identityProvider=z.identityProvider,this.autoExpandSingleChildren=typeof z.autoExpandSingleChildren>"u"?!1:z.autoExpandSingleChildren,this.sorter=z.sorter,this.collapseByDefault=z.collapseByDefault,this.tree=this.createTree(N,O,x,F,z),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=r({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(N,O,x,F,B){const z=new k.ComposedTreeDelegate(x),j=F.map(Z=>new u(Z,this.nodeMapper,this._onDidChangeNodeSlowState.event)),R=p(B)||{};return new D.ObjectTree(N,O,z,j,R)}updateOptions(N={}){this.tree.updateOptions(N)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(N){this.tree.scrollTop=N}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(N,O){this.tree.layout(N,O)}style(N){this.tree.style(N)}getInput(){return this.root.element}setInput(N,O){return Le(this,void 0,void 0,function*(){this.refreshPromises.forEach(F=>F.cancel()),this.refreshPromises.clear(),this.root.element=N;const x=O&&{viewState:O,focus:[],selection:[]};yield this._updateChildren(N,!0,!1,x),x&&(this.tree.setFocus(x.focus),this.tree.setSelection(x.selection)),O&&typeof O.scrollTop=="number"&&(this.scrollTop=O.scrollTop)})}_updateChildren(N=this.root.element,O=!0,x=!1,F,B){return Le(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new _.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield o.Event.toPromise(this._onDidRender.event));const z=this.getDataNode(N);if(yield this.refreshAndRenderNode(z,O,F,B),x)try{this.tree.rerender(z)}catch{}})}rerender(N){if(N===void 0||N===this.root.element){this.tree.rerender();return}const O=this.getDataNode(N);this.tree.rerender(O)}getNode(N=this.root.element){const O=this.getDataNode(N),x=this.tree.getNode(O===this.root?null:O);return this.nodeMapper.map(x)}collapse(N,O=!1){const x=this.getDataNode(N);return this.tree.collapse(x===this.root?null:x,O)}expand(N,O=!1){return Le(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new _.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield o.Event.toPromise(this._onDidRender.event));const x=this.getDataNode(N);if(this.tree.hasElement(x)&&!this.tree.isCollapsible(x)||(x.refreshPromise&&(yield this.root.refreshPromise,yield o.Event.toPromise(this._onDidRender.event)),x!==this.root&&!x.refreshPromise&&!this.tree.isCollapsed(x)))return!1;const F=this.tree.expand(x===this.root?null:x,O);return x.refreshPromise&&(yield this.root.refreshPromise,yield o.Event.toPromise(this._onDidRender.event)),F})}setSelection(N,O){const x=N.map(F=>this.getDataNode(F));this.tree.setSelection(x,O)}getSelection(){return this.tree.getSelection().map(O=>O.element)}setFocus(N,O){const x=N.map(F=>this.getDataNode(F));this.tree.setFocus(x,O)}getFocus(){return this.tree.getFocus().map(O=>O.element)}reveal(N,O){this.tree.reveal(this.getDataNode(N),O)}getParentElement(N){const O=this.tree.getParentElement(this.getDataNode(N));return O&&O.element}getFirstElementChild(N=this.root.element){const O=this.getDataNode(N),x=this.tree.getFirstElementChild(O===this.root?null:O);return x&&x.element}getDataNode(N){const O=this.nodes.get(N===this.root.element?null:N);if(!O)throw new _.TreeError(this.user,`Data tree node not found: ${N}`);return O}refreshAndRenderNode(N,O,x,F){return Le(this,void 0,void 0,function*(){yield this.refreshNode(N,O,x),this.render(N,x,F)})}refreshNode(N,O,x){return Le(this,void 0,void 0,function*(){let F;if(this.subTreeRefreshPromises.forEach((B,z)=>{!F&&h(z,N)&&(F=B.then(()=>this.refreshNode(N,O,x)))}),F)return F;if(N!==this.root&&this.tree.getNode(N).collapsed){N.hasChildren=!!this.dataSource.hasChildren(N.element),N.stale=!0;return}return this.doRefreshSubTree(N,O,x)})}doRefreshSubTree(N,O,x){return Le(this,void 0,void 0,function*(){let F;N.refreshPromise=new Promise(B=>F=B),this.subTreeRefreshPromises.set(N,N.refreshPromise),N.refreshPromise.finally(()=>{N.refreshPromise=void 0,this.subTreeRefreshPromises.delete(N)});try{const B=yield this.doRefreshNode(N,O,x);N.stale=!1,yield m.Promises.settled(B.map(z=>this.doRefreshSubTree(z,O,x)))}finally{F()}})}doRefreshNode(N,O,x){return Le(this,void 0,void 0,function*(){N.hasChildren=!!this.dataSource.hasChildren(N.element);let F;if(!N.hasChildren)F=Promise.resolve(i.Iterable.empty());else{const B=this.doGetChildren(N);if((0,n.isIterable)(B))F=Promise.resolve(B);else{const z=(0,m.timeout)(800);z.then(()=>{N.slow=!0,this._onDidChangeNodeSlowState.fire(N)},j=>null),F=B.finally(()=>z.cancel())}}try{const B=yield F;return this.setChildren(N,B,O,x)}catch(B){if(N!==this.root&&this.tree.hasElement(N)&&this.tree.collapse(N),(0,v.isCancellationError)(B))return[];throw B}finally{N.slow&&(N.slow=!1,this._onDidChangeNodeSlowState.fire(N))}})}doGetChildren(N){let O=this.refreshPromises.get(N);if(O)return O;const x=this.dataSource.getChildren(N.element);return(0,n.isIterable)(x)?this.processChildren(x):(O=(0,m.createCancelablePromise)(()=>Le(this,void 0,void 0,function*(){return this.processChildren(yield x)})),this.refreshPromises.set(N,O),O.finally(()=>{this.refreshPromises.delete(N)}))}_onDidChangeCollapseState({node:N,deep:O}){N.element!==null&&!N.collapsed&&N.element.stale&&(O?this.collapse(N.element.element):this.refreshAndRenderNode(N.element,!1).catch(v.onUnexpectedError))}setChildren(N,O,x,F){const B=[...O];if(N.children.length===0&&B.length===0)return[];const z=new Map,j=new Map;for(const se of N.children)if(z.set(se.element,se),this.identityProvider){const le=this.tree.isCollapsed(se);j.set(se.id,{node:se,collapsed:le})}const R=[],Z=B.map(se=>{const le=!!this.dataSource.hasChildren(se);if(!this.identityProvider){const V=r({element:se,parent:N,hasChildren:le});return le&&this.collapseByDefault&&!this.collapseByDefault(se)&&(V.collapsedByDefault=!1,R.push(V)),V}const te=this.identityProvider.getId(se).toString(),Y=j.get(te);if(Y){const V=Y.node;return z.delete(V.element),this.nodes.delete(V.element),this.nodes.set(se,V),V.element=se,V.hasChildren=le,x?Y.collapsed?(V.children.forEach(H=>C(H,$=>this.nodes.delete($.element))),V.children.splice(0,V.children.length),V.stale=!0):R.push(V):le&&this.collapseByDefault&&!this.collapseByDefault(se)&&(V.collapsedByDefault=!1,R.push(V)),V}const U=r({element:se,parent:N,id:te,hasChildren:le});return F&&F.viewState.focus&&F.viewState.focus.indexOf(te)>-1&&F.focus.push(U),F&&F.viewState.selection&&F.viewState.selection.indexOf(te)>-1&&F.selection.push(U),F&&F.viewState.expanded&&F.viewState.expanded.indexOf(te)>-1?R.push(U):le&&this.collapseByDefault&&!this.collapseByDefault(se)&&(U.collapsedByDefault=!1,R.push(U)),U});for(const se of z.values())C(se,le=>this.nodes.delete(le.element));for(const se of Z)this.nodes.set(se.element,se);return N.children.splice(0,N.children.length,...Z),N!==this.root&&this.autoExpandSingleChildren&&Z.length===1&&R.length===0&&(Z[0].collapsedByDefault=!1,R.push(Z[0])),R}render(N,O,x){const F=N.children.map(z=>this.asTreeElement(z,O)),B=x&&Object.assign(Object.assign({},x),{diffIdentityProvider:x.diffIdentityProvider&&{getId(z){return x.diffIdentityProvider.getId(z.element)}}});this.tree.setChildren(N===this.root?null:N,F,B),N!==this.root&&this.tree.setCollapsible(N,N.hasChildren),this._onDidRender.fire()}asTreeElement(N,O){if(N.stale)return{element:N,collapsible:N.hasChildren,collapsed:!0};let x;return O&&O.viewState.expanded&&N.id&&O.viewState.expanded.indexOf(N.id)>-1?x=!1:x=N.collapsedByDefault,N.collapsedByDefault=void 0,{element:N,children:N.hasChildren?i.Iterable.map(N.children,F=>this.asTreeElement(F,O)):[],collapsible:N.hasChildren,collapsed:x}}processChildren(N){return this.sorter&&(N=[...N].sort(this.sorter.compare.bind(this.sorter))),N}dispose(){this.disposables.dispose()}}e.AsyncDataTree=w;class E{get element(){return{elements:this.node.element.elements.map(N=>N.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(N=>new E(N))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(N){this.node=N}}class I{constructor(N,O,x,F){this.renderer=N,this.nodeMapper=O,this.compressibleNodeMapperProvider=x,this.onDidChangeTwistieState=F,this.renderedNodes=new Map,this.disposables=[],this.templateId=N.templateId}renderTemplate(N){return{templateData:this.renderer.renderTemplate(N)}}renderElement(N,O,x,F){this.renderer.renderElement(this.nodeMapper.map(N),O,x.templateData,F)}renderCompressedElements(N,O,x,F){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(N),O,x.templateData,F)}renderTwistie(N,O){return N.slow?(O.classList.add(...f.ThemeIcon.asClassNameArray(S.Codicon.treeItemLoading)),!0):(O.classList.remove(...f.ThemeIcon.asClassNameArray(S.Codicon.treeItemLoading)),!1)}disposeElement(N,O,x,F){var B,z;(z=(B=this.renderer).disposeElement)===null||z===void 0||z.call(B,this.nodeMapper.map(N),O,x.templateData,F)}disposeCompressedElements(N,O,x,F){var B,z;(z=(B=this.renderer).disposeCompressedElements)===null||z===void 0||z.call(B,this.compressibleNodeMapperProvider().map(N),O,x.templateData,F)}disposeTemplate(N){this.renderer.disposeTemplate(N.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,t.dispose)(this.disposables)}}function T(M){const N=M&&p(M);return N&&Object.assign(Object.assign({},N),{keyboardNavigationLabelProvider:N.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},N.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(O){return M.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(O.map(x=>x.element))}})})}class P extends w{constructor(N,O,x,F,B,z,j={}){super(N,O,x,B,z,j),this.compressionDelegate=F,this.compressibleNodeMapper=new _.WeakMapper(R=>new E(R)),this.filter=j.filter}createTree(N,O,x,F,B){const z=new k.ComposedTreeDelegate(x),j=F.map(Z=>new I(Z,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),R=T(B)||{};return new D.CompressibleObjectTree(N,O,z,j,R)}asTreeElement(N,O){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(N.element)},super.asTreeElement(N,O))}updateOptions(N={}){this.tree.updateOptions(N)}render(N,O){if(!this.identityProvider)return super.render(N,O);const x=te=>this.identityProvider.getId(te).toString(),F=te=>{const Y=new Set;for(const U of te){const V=this.tree.getCompressedTreeNode(U===this.root?null:U);if(V.element)for(const H of V.element.elements)Y.add(x(H.element))}return Y},B=F(this.tree.getSelection()),z=F(this.tree.getFocus());super.render(N,O);const j=this.getSelection();let R=!1;const Z=this.getFocus();let se=!1;const le=te=>{const Y=te.element;if(Y)for(let U=0;U<Y.elements.length;U++){const V=x(Y.elements[U].element),H=Y.elements[Y.elements.length-1].element;B.has(V)&&j.indexOf(H)===-1&&(j.push(H),R=!0),z.has(V)&&Z.indexOf(H)===-1&&(Z.push(H),se=!0)}te.children.forEach(le)};le(this.tree.getCompressedTreeNode(N===this.root?null:N)),R&&this.setSelection(j),se&&this.setFocus(Z)}processChildren(N){return this.filter&&(N=i.Iterable.filter(N,O=>{const x=this.filter.filter(O,1),F=A(x);if(F===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return F===1})),super.processChildren(N)}}e.CompressibleAsyncDataTree=P;function A(M){return typeof M=="boolean"?M?1:0:(0,L.isFilterResult)(M)?(0,L.getVisibleState)(M.visibility):(0,L.getVisibleState)(M)}}),define(J[314],ee([1,0,12,6,2,46,17,9]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const S="$initialize";let f=!1;function v(b){_.isWeb&&(f||(f=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(b.message))}e.logOnceWebWorkerWarning=v;class o{constructor(g,p,C,w){this.vsWorker=g,this.req=p,this.method=C,this.args=w,this.type=0}}class i{constructor(g,p,C,w){this.vsWorker=g,this.seq=p,this.res=C,this.err=w,this.type=1}}class t{constructor(g,p,C,w){this.vsWorker=g,this.req=p,this.eventName=C,this.arg=w,this.type=2}}class n{constructor(g,p,C){this.vsWorker=g,this.req=p,this.event=C,this.type=3}}class r{constructor(g,p){this.vsWorker=g,this.req=p,this.type=4}}class l{constructor(g){this._workerId=-1,this._handler=g,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(g){this._workerId=g}sendMessage(g,p){const C=String(++this._lastSentReq);return new Promise((w,E)=>{this._pendingReplies[C]={resolve:w,reject:E},this._send(new o(this._workerId,C,g,p))})}listen(g,p){let C=null;const w=new k.Emitter({onWillAddFirstListener:()=>{C=String(++this._lastSentReq),this._pendingEmitters.set(C,w),this._send(new t(this._workerId,C,g,p))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(C),this._send(new r(this._workerId,C)),C=null}});return w.event}handleMessage(g){!g||!g.vsWorker||this._workerId!==-1&&g.vsWorker!==this._workerId||this._handleMessage(g)}_handleMessage(g){switch(g.type){case 1:return this._handleReplyMessage(g);case 0:return this._handleRequestMessage(g);case 2:return this._handleSubscribeEventMessage(g);case 3:return this._handleEventMessage(g);case 4:return this._handleUnsubscribeEventMessage(g)}}_handleReplyMessage(g){if(!this._pendingReplies[g.seq]){console.warn("Got reply to unknown seq");return}const p=this._pendingReplies[g.seq];if(delete this._pendingReplies[g.seq],g.err){let C=g.err;g.err.$isError&&(C=new Error,C.name=g.err.name,C.message=g.err.message,C.stack=g.err.stack),p.reject(C);return}p.resolve(g.res)}_handleRequestMessage(g){const p=g.req;this._handler.handleMessage(g.method,g.args).then(w=>{this._send(new i(this._workerId,p,w,void 0))},w=>{w.detail instanceof Error&&(w.detail=(0,y.transformErrorForSerialization)(w.detail)),this._send(new i(this._workerId,p,void 0,(0,y.transformErrorForSerialization)(w)))})}_handleSubscribeEventMessage(g){const p=g.req,C=this._handler.handleEvent(g.eventName,g.arg)(w=>{this._send(new n(this._workerId,p,w))});this._pendingEvents.set(p,C)}_handleEventMessage(g){if(!this._pendingEmitters.has(g.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(g.req).fire(g.event)}_handleUnsubscribeEventMessage(g){if(!this._pendingEvents.has(g.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(g.req).dispose(),this._pendingEvents.delete(g.req)}_send(g){const p=[];if(g.type===0)for(let C=0;C<g.args.length;C++)g.args[C]instanceof ArrayBuffer&&p.push(g.args[C]);else g.type===1&&g.res instanceof ArrayBuffer&&p.push(g.res);this._handler.sendMessage(g,p)}}class h extends L.Disposable{constructor(g,p,C){super();let w=null;this._worker=this._register(g.create("vs/base/common/worker/simpleWorker",M=>{this._protocol.handleMessage(M)},M=>{w?.(M)})),this._protocol=new l({sendMessage:(M,N)=>{this._worker.postMessage(M,N)},handleMessage:(M,N)=>{if(typeof C[M]!="function")return Promise.reject(new Error("Missing method "+M+" on main thread host."));try{return Promise.resolve(C[M].apply(C,N))}catch(O){return Promise.reject(O)}},handleEvent:(M,N)=>{if(u(M)){const O=C[M].call(C,N);if(typeof O!="function")throw new Error(`Missing dynamic event ${M} on main thread host.`);return O}if(s(M)){const O=C[M];if(typeof O!="function")throw new Error(`Missing event ${M} on main thread host.`);return O}throw new Error(`Malformed event name ${M}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;const I=globalThis.require;typeof I<"u"&&typeof I.getConfig=="function"?E=I.getConfig():typeof globalThis.requirejs<"u"&&(E=globalThis.requirejs.s.contexts._.config);const T=(0,D.getAllMethodNames)(C);this._onModuleLoaded=this._protocol.sendMessage(S,[this._worker.getId(),JSON.parse(JSON.stringify(E)),p,T]);const P=(M,N)=>this._request(M,N),A=(M,N)=>this._protocol.listen(M,N);this._lazyProxy=new Promise((M,N)=>{w=N,this._onModuleLoaded.then(O=>{M(a(O,P,A))},O=>{N(O),this._onError("Worker failed to load "+p,O)})})}getProxyObject(){return this._lazyProxy}_request(g,p){return new Promise((C,w)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(g,p).then(C,w)},w)})}_onError(g,p){console.error(g),console.info(p)}}e.SimpleWorkerClient=h;function s(b){return b[0]==="o"&&b[1]==="n"&&m.isUpperAsciiLetter(b.charCodeAt(2))}function u(b){return/^onDynamic/.test(b)&&m.isUpperAsciiLetter(b.charCodeAt(9))}function a(b,g,p){const C=I=>function(){const T=Array.prototype.slice.call(arguments,0);return g(I,T)},w=I=>function(T){return p(I,T)},E={};for(const I of b){if(u(I)){E[I]=w(I);continue}if(s(I)){E[I]=p(I,void 0);continue}E[I]=C(I)}return E}class d{constructor(g,p){this._requestHandlerFactory=p,this._requestHandler=null,this._protocol=new l({sendMessage:(C,w)=>{g(C,w)},handleMessage:(C,w)=>this._handleMessage(C,w),handleEvent:(C,w)=>this._handleEvent(C,w)})}onmessage(g){this._protocol.handleMessage(g)}_handleMessage(g,p){if(g===S)return this.initialize(p[0],p[1],p[2],p[3]);if(!this._requestHandler||typeof this._requestHandler[g]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+g));try{return Promise.resolve(this._requestHandler[g].apply(this._requestHandler,p))}catch(C){return Promise.reject(C)}}_handleEvent(g,p){if(!this._requestHandler)throw new Error("Missing requestHandler");if(u(g)){const C=this._requestHandler[g].call(this._requestHandler,p);if(typeof C!="function")throw new Error(`Missing dynamic event ${g} on request handler.`);return C}if(s(g)){const C=this._requestHandler[g];if(typeof C!="function")throw new Error(`Missing event ${g} on request handler.`);return C}throw new Error(`Malformed event name ${g}`)}initialize(g,p,C,w){this._protocol.setWorkerId(g);const T=a(w,(P,A)=>this._protocol.sendMessage(P,A),(P,A)=>this._protocol.listen(P,A));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(T),Promise.resolve((0,D.getAllMethodNames)(this._requestHandler))):(p&&(typeof p.baseUrl<"u"&&delete p.baseUrl,typeof p.paths<"u"&&typeof p.paths.vs<"u"&&delete p.paths.vs,typeof p.trustedTypesPolicy!==void 0&&delete p.trustedTypesPolicy,p.catchError=!0,globalThis.require.config(p)),new Promise((P,A)=>{(globalThis.require||G)([C],N=>{if(this._requestHandler=N.create(T),!this._requestHandler){A(new Error("No RequestHandler!"));return}P((0,D.getAllMethodNames)(this._requestHandler))},A)}))}}e.SimpleWorkerServer=d;function c(b){return new d(b,null)}e.create=c}),define(J[581],ee([1,0,91,54,314]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const D=(0,y.createTrustedTypesPolicy)("defaultWorkerFactory",{createScriptURL:o=>o});function _(o){const i=globalThis.MonacoEnvironment;if(i){if(typeof i.getWorker=="function")return i.getWorker("workerMain.js",o);if(typeof i.getWorkerUrl=="function"){const t=i.getWorkerUrl("workerMain.js",o);return new Worker(D?D.createScriptURL(t):t,{name:o})}}if(typeof G=="function"){const t=G.toUrl("vs/base/worker/workerMain.js"),n=m(t,o);return new Worker(D?D.createScriptURL(n):n,{name:o})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function m(o,i){if(/^((http:)|(https:)|(file:))/.test(o)&&o.substring(0,globalThis.origin.length)!==globalThis.origin){const h="vs/base/worker/defaultWorkerFactory.js",s=G.toUrl(h).slice(0,-h.length),u=`/*${i}*/globalThis.MonacoEnvironment={baseUrl: '${s}'};const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${o}') ?? '${o}');/*${i}*/`,a=new Blob([u],{type:"application/javascript"});return URL.createObjectURL(a)}const t=o.lastIndexOf("?"),n=o.lastIndexOf("#",t),r=t>0?new URLSearchParams(o.substring(t+1,~n?n:void 0)):new URLSearchParams;return k.COI.addSearchParam(r,!0,!0),r.toString()?`${o}?${r.toString()}#${i}`:`${o}#${i}`}e.getWorkerBootstrapUrl=m;function S(o){return typeof o.then=="function"}class f{constructor(i,t,n,r,l){this.id=t;const h=_(n);S(h)?this.worker=h:this.worker=Promise.resolve(h),this.postMessage(i,[]),this.worker.then(s=>{s.onmessage=function(u){r(u.data)},s.onmessageerror=l,typeof s.addEventListener=="function"&&s.addEventListener("error",l)})}getId(){return this.id}postMessage(i,t){var n;(n=this.worker)===null||n===void 0||n.then(r=>r.postMessage(i,t))}dispose(){var i;(i=this.worker)===null||i===void 0||i.then(t=>t.terminate()),this.worker=null}}class v{constructor(i){this._label=i,this._webWorkerFailedBeforeError=!1}create(i,t,n){const r=++v.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new f(i,r,this._label||"anonymous"+r,t,l=>{(0,L.logOnceWebWorkerWarning)(l),this._webWorkerFailedBeforeError=l,n(l)})}}e.DefaultWorkerFactory=v,v.LAST_WORKER_ID=0}),define(J[582],ee([1,0,13,6,2,223,18]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=e.StorageHint=void 0;var m;(function(o){o[o.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",o[o.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(m||(e.StorageHint=m={}));var S;(function(o){o[o.None=0]="None",o[o.Initialized=1]="Initialized",o[o.Closed=2]="Closed"})(S||(e.StorageState=S={}));class f extends L.Disposable{constructor(i,t=Object.create(null)){super(),this.database=i,this.options=t,this._onDidChangeStorage=this._register(new k.PauseableEmitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=S.None,this.cache=new Map,this.flushDelayer=new y.ThrottledDelayer(f.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(i=>this.onDidChangeItemsExternal(i)))}onDidChangeItemsExternal(i){var t,n;this._onDidChangeStorage.pause();try{(t=i.changed)===null||t===void 0||t.forEach((r,l)=>this.acceptExternal(l,r)),(n=i.deleted)===null||n===void 0||n.forEach(r=>this.acceptExternal(r,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(i,t){if(this.state===S.Closed)return;let n=!1;(0,_.isUndefinedOrNull)(t)?n=this.cache.delete(i):this.cache.get(i)!==t&&(this.cache.set(i,t),n=!0),n&&this._onDidChangeStorage.fire({key:i,external:!0})}get(i,t){const n=this.cache.get(i);return(0,_.isUndefinedOrNull)(n)?t:n}getBoolean(i,t){const n=this.get(i);return(0,_.isUndefinedOrNull)(n)?t:n==="true"}getNumber(i,t){const n=this.get(i);return(0,_.isUndefinedOrNull)(n)?t:parseInt(n,10)}set(i,t,n=!1){return Le(this,void 0,void 0,function*(){if(this.state===S.Closed)return;if((0,_.isUndefinedOrNull)(t))return this.delete(i,n);const r=(0,_.isObject)(t)||Array.isArray(t)?(0,D.stringify)(t):String(t);if(this.cache.get(i)!==r)return this.cache.set(i,r),this.pendingInserts.set(i,r),this.pendingDeletes.delete(i),this._onDidChangeStorage.fire({key:i,external:n}),this.doFlush()})}delete(i,t=!1){return Le(this,void 0,void 0,function*(){if(!(this.state===S.Closed||!this.cache.delete(i)))return this.pendingDeletes.has(i)||this.pendingDeletes.add(i),this.pendingInserts.delete(i),this._onDidChangeStorage.fire({key:i,external:t}),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Le(this,void 0,void 0,function*(){if(!this.hasPending)return;const i={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(i).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})})}doFlush(i){return Le(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),i)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=f,f.DEFAULT_FLUSH_DELAY=100;class v{constructor(){this.onDidChangeItemsExternal=k.Event.None,this.items=new Map}updateItems(i){var t,n;return Le(this,void 0,void 0,function*(){(t=i.insert)===null||t===void 0||t.forEach((r,l)=>this.items.set(l,r)),(n=i.delete)===null||n===void 0||n.forEach(r=>this.items.delete(r))})}}e.InMemoryStorageDatabase=v}),define(J[187],ee([1,0,52,7,80,45,259,13,6,2,106,9,272,24]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.ClipboardEventUtils=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var n;(function(u){u.Tap="-monaco-textarea-synthetic-tap"})(n||(e.TextAreaSyntethicEvents=n={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class r{constructor(){this._lastState=null}set(a,d){this._lastState={lastCopiedValue:a,data:d}}get(a){return this._lastState&&this._lastState.lastCopiedValue===a?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=r,r.INSTANCE=new r;class l{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(a){a=a||"";const d={text:a,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=a.length,d}}class h extends f.Disposable{get textAreaState(){return this._textAreaState}constructor(a,d,c,b){super(),this._host=a,this._textArea=d,this._OS=c,this._browser=b,this._onFocus=this._register(new S.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new S.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new S.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new S.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new S.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new S.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new S.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new S.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new S.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new S.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new m.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new m.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=i.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let g=null;this._register(this._textArea.onKeyDown(p=>{const C=new D.StandardKeyboardEvent(p);(C.keyCode===114||this._currentComposition&&C.keyCode===1)&&C.stopPropagation(),C.equals(9)&&C.preventDefault(),g=C,this._onKeyDown.fire(C)})),this._register(this._textArea.onKeyUp(p=>{const C=new D.StandardKeyboardEvent(p);this._onKeyUp.fire(C)})),this._register(this._textArea.onCompositionStart(p=>{i._debugComposition&&console.log("[compositionstart]",p);const C=new l;if(this._currentComposition){this._currentComposition=C;return}if(this._currentComposition=C,this._OS===2&&g&&g.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===p.data&&(g.code==="ArrowRight"||g.code==="ArrowLeft")){i._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",p),C.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:p.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:p.data});return}this._onCompositionStart.fire({data:p.data})})),this._register(this._textArea.onCompositionUpdate(p=>{i._debugComposition&&console.log("[compositionupdate]",p);const C=this._currentComposition;if(!C)return;if(this._browser.isAndroid){const E=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),I=i.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,E);this._textAreaState=E,this._onType.fire(I),this._onCompositionUpdate.fire(p);return}const w=C.handleCompositionUpdate(p.data);this._textAreaState=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(w),this._onCompositionUpdate.fire(p)})),this._register(this._textArea.onCompositionEnd(p=>{i._debugComposition&&console.log("[compositionend]",p);const C=this._currentComposition;if(!C)return;if(this._currentComposition=null,this._browser.isAndroid){const E=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),I=i.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,E);this._textAreaState=E,this._onType.fire(I),this._onCompositionEnd.fire();return}const w=C.handleCompositionUpdate(p.data);this._textAreaState=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(w),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(p=>{if(i._debugComposition&&console.log("[input]",p),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const C=i.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),w=i.TextAreaState.deduceInput(this._textAreaState,C,this._OS===2);w.replacePrevCharCnt===0&&w.text.length===1&&(o.isHighSurrogate(w.text.charCodeAt(0))||w.text.charCodeAt(0)===127)||(this._textAreaState=C,(w.text!==""||w.replacePrevCharCnt!==0||w.replaceNextCharCnt!==0||w.positionDelta!==0)&&this._onType.fire(w))})),this._register(this._textArea.onCut(p=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(p),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(p=>{this._ensureClipboardGetsEditorSelection(p)})),this._register(this._textArea.onPaste(p=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),p.preventDefault(),!p.clipboardData)return;let[C,w]=e.ClipboardEventUtils.getTextData(p.clipboardData);C&&(w=w||r.INSTANCE.get(C),this._onPaste.fire({text:C,metadata:w}))})),this._register(this._textArea.onFocus(()=>{const p=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!p&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let a=0;return k.addDisposableListener(document,"selectionchange",d=>{if(_.inputLatency.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const c=Date.now(),b=c-a;if(a=c,b<5)return;const g=c-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),g<100||!this._textAreaState.selection)return;const p=this._textArea.getValue();if(this._textAreaState.value!==p)return;const C=this._textArea.getSelectionStart(),w=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===C&&this._textAreaState.selectionEnd===w)return;const E=this._textAreaState.deduceEditorPosition(C),I=this._host.deduceModelPosition(E[0],E[1],E[2]),T=this._textAreaState.deduceEditorPosition(w),P=this._host.deduceModelPosition(T[0],T[1],T[2]),A=new t.Selection(I.lineNumber,I.column,P.lineNumber,P.column);this._onSelectionChangeRequest.fire(A)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(a){this._hasFocus!==a&&(this._hasFocus=a,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(a,d){this._hasFocus||(d=d.collapseSelection()),d.writeToTextArea(a,this._textArea,this._hasFocus),this._textAreaState=d}writeScreenReaderContent(a){this._currentComposition||this._setAndWriteTextAreaState(a,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection(a){const d=this._host.getDataToCopy(),c={version:1,isFromEmptySelection:d.isFromEmptySelection,multicursorText:d.multicursorText,mode:d.mode};r.INSTANCE.set(this._browser.isFirefox?d.text.replace(/\r\n/g,`
`):d.text,c),a.preventDefault(),a.clipboardData&&e.ClipboardEventUtils.setTextData(a.clipboardData,d.text,d.html,c)}}e.TextAreaInput=h,e.ClipboardEventUtils={getTextData(u){const a=u.getData(v.Mimes.text);let d=null;const c=u.getData("vscode-editor-data");if(typeof c=="string")try{d=JSON.parse(c),d.version!==1&&(d=null)}catch{}return a.length===0&&d===null&&u.files.length>0?[Array.prototype.slice.call(u.files,0).map(g=>g.name).join(`
`),null]:[a,d]},setTextData(u,a,d,c){u.setData(v.Mimes.text,a),typeof d=="string"&&u.setData("text/html",d),u.setData("vscode-editor-data",JSON.stringify(c))}};class s extends f.Disposable{constructor(a){super(),this._actual=a,this.onKeyDown=this._register(new L.DomEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(new L.DomEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(new L.DomEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new L.DomEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new L.DomEmitter(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new L.DomEmitter(this._actual,"beforeinput")).event,this.onInput=this._register(new L.DomEmitter(this._actual,"input")).event,this.onCut=this._register(new L.DomEmitter(this._actual,"cut")).event,this.onCopy=this._register(new L.DomEmitter(this._actual,"copy")).event,this.onPaste=this._register(new L.DomEmitter(this._actual,"paste")).event,this.onFocus=this._register(new L.DomEmitter(this._actual,"focus")).event,this.onBlur=this._register(new L.DomEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new S.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>_.inputLatency.onKeyDown())),this._register(this.onBeforeInput(()=>_.inputLatency.onBeforeInput())),this._register(this.onInput(()=>_.inputLatency.onInput())),this._register(this.onKeyUp(()=>_.inputLatency.onKeyUp())),this._register(k.addDisposableListener(this._actual,n.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const a=k.getShadowRoot(this._actual);return a?a.activeElement===this._actual:k.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(a){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(a,d){const c=this._actual;c.value!==d&&(this.setIgnoreSelectionChangeTime("setValue"),c.value=d)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(a,d,c){const b=this._actual;let g=null;const p=k.getShadowRoot(b);p?g=p.activeElement:g=document.activeElement;const C=g===b,w=b.selectionStart,E=b.selectionEnd;if(C&&w===d&&E===c){y.isFirefox&&window.parent!==window&&b.focus();return}if(C){this.setIgnoreSelectionChangeTime("setSelectionRange"),b.setSelectionRange(d,c),y.isFirefox&&window.parent!==window&&b.focus();return}try{const I=k.saveParentsScrollTop(b);this.setIgnoreSelectionChangeTime("setSelectionRange"),b.focus(),b.setSelectionRange(d,c),k.restoreParentsScrollTop(b,I)}catch{}}}e.TextAreaWrapper=s}),define(J[583],ee([1,0,7,35,53]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D extends L.ViewPart{constructor(i,t){super(i),this._viewDomNode=t,this._widgets={},this.domNode=(0,k.createFastDomNode)(document.createElement("div")),L.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,k.createFastDomNode)(document.createElement("div")),L.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(i){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].onConfigurationChanged(i);return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLineMappingChanged(i){return this._updateAnchorsViewPositions(),!0}onLinesChanged(i){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(i){return this._updateAnchorsViewPositions(),!0}onLinesInserted(i){return this._updateAnchorsViewPositions(),!0}onScrollChanged(i){return!0}onZonesChanged(i){return!0}_updateAnchorsViewPositions(){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].updateAnchorViewPosition()}addWidget(i){const t=new _(this._context,this._viewDomNode,i);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(i,t,n,r,l){this._widgets[i.getId()].setPosition(t,n,r,l),this.setShouldRender()}removeWidget(i){const t=i.getId();if(this._widgets.hasOwnProperty(t)){const n=this._widgets[t];delete this._widgets[t];const r=n.domNode.domNode;r.parentNode.removeChild(r),r.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(i){return this._widgets.hasOwnProperty(i)?this._widgets[i].suppressMouseDown:!1}onBeforeRender(i){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].onBeforeRender(i)}prepareRender(i){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].prepareRender(i)}render(i){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].render(i)}}e.ViewContentWidgets=D;class _{constructor(i,t,n){this._primaryAnchor=new m(null,null),this._secondaryAnchor=new m(null,null),this._context=i,this._viewDomNode=t,this._actual=n,this.domNode=(0,k.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const r=this._context.configuration.options,l=r.get(142);this._fixedOverflowWidgets=r.get(41),this._contentWidth=l.contentWidth,this._contentLeft=l.contentLeft,this._lineHeight=r.get(65),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(i){const t=this._context.configuration.options;if(this._lineHeight=t.get(65),i.hasChanged(142)){const n=t.get(142);this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(i,t,n){this._affinity=i,this._primaryAnchor=r(t,this._context.viewModel,this._affinity),this._secondaryAnchor=r(n,this._context.viewModel,this._affinity);function r(l,h,s){if(!l)return new m(null,null);const u=h.model.validatePosition(l);if(h.coordinatesConverter.modelPositionIsVisible(u)){const a=h.coordinatesConverter.convertModelPositionToViewPosition(u,s??void 0);return new m(l,a)}return new m(l,null)}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(i,t,n,r){this._setPosition(r,i,t),this._preference=n,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(i,t,n,r){const l=i.top,h=l,s=i.top+i.height,u=r.viewportHeight-s,a=l-n,d=h>=n,c=s,b=u>=n;let g=i.left;return g+t>r.scrollLeft+r.viewportWidth&&(g=r.scrollLeft+r.viewportWidth-t),g<r.scrollLeft&&(g=r.scrollLeft),{fitsAbove:d,aboveTop:a,fitsBelow:b,belowTop:c,left:g}}_layoutHorizontalSegmentInPage(i,t,n,r){const s=Math.max(15,t.left-r),u=Math.min(t.left+t.width+r,i.width-15);let a=t.left+n-window.scrollX;if(a+r>u){const d=a-(u-r);a-=d,n-=d}if(a<s){const d=a-s;a-=d,n-=d}return[n,a]}_layoutBoxInPage(i,t,n,r){const l=i.top-n,h=i.top+i.height,s=y.getDomNodePagePosition(this._viewDomNode.domNode),u=s.top+l-window.scrollY,a=s.top+h-window.scrollY,d=y.getClientArea(document.body),[c,b]=this._layoutHorizontalSegmentInPage(d,s,i.left-r.scrollLeft+this._contentLeft,t),g=22,p=22,C=u>=g,w=a+n<=d.height-p;return this._fixedOverflowWidgets?{fitsAbove:C,aboveTop:Math.max(u,g),fitsBelow:w,belowTop:a,left:b}:{fitsAbove:C,aboveTop:l,fitsBelow:w,belowTop:h,left:c}}_prepareRenderWidgetAtExactPositionOverflowing(i){return new S(i.top,i.left+this._contentLeft)}_getAnchorsCoordinates(i){var t,n;const r=s(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),l=((t=this._secondaryAnchor.viewPosition)===null||t===void 0?void 0:t.lineNumber)===((n=this._primaryAnchor.viewPosition)===null||n===void 0?void 0:n.lineNumber)?this._secondaryAnchor.viewPosition:null,h=s(l,this._affinity,this._lineHeight);return{primary:r,secondary:h};function s(u,a,d){if(!u)return null;const c=i.visibleRangeForPosition(u);if(!c)return null;const b=u.column===1&&a===3?0:c.left,g=i.getVerticalOffsetForLineNumber(u.lineNumber)-i.scrollTop;return new f(g,b,d)}}_reduceAnchorCoordinates(i,t,n){if(!t)return i;const r=this._context.configuration.options.get(49);let l=t.left;return l<i.left?l=Math.max(l,i.left-n+r.typicalFullwidthCharacterWidth):l=Math.min(l,i.left+n-r.typicalFullwidthCharacterWidth),new f(i.top,l,i.height)}_prepareRenderWidget(i){if(!this._preference||this._preference.length===0)return null;const{primary:t,secondary:n}=this._getAnchorsCoordinates(i);if(!t)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let h=null;if(typeof this._actual.beforeRender=="function"&&(h=v(this._actual.beforeRender,this._actual)),h)this._cachedDomNodeOffsetWidth=h.width,this._cachedDomNodeOffsetHeight=h.height;else{const u=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(u.width),this._cachedDomNodeOffsetHeight=Math.round(u.height)}}const r=this._reduceAnchorCoordinates(t,n,this._cachedDomNodeOffsetWidth);let l;this.allowEditorOverflow?l=this._layoutBoxInPage(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i):l=this._layoutBoxInViewport(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i);for(let h=1;h<=2;h++)for(const s of this._preference)if(s===1){if(!l)return null;if(h===2||l.fitsAbove)return{coordinate:new S(l.aboveTop,l.left),position:1}}else if(s===2){if(!l)return null;if(h===2||l.fitsBelow)return{coordinate:new S(l.belowTop,l.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new S(r.top,r.left)),position:0}:{coordinate:new S(r.top,r.left),position:0};return null}onBeforeRender(i){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<i.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>i.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(i){this._renderData=this._prepareRenderWidget(i)}render(i){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+i.scrollTop-i.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,this._renderData.position)}}class m{constructor(i,t){this.modelPosition=i,this.viewPosition=t}}class S{constructor(i,t){this.top=i,this.left=t,this._coordinateBrand=void 0}}class f{constructor(i,t,n){this.top=i,this.left=t,this.height=n,this._anchorCoordinateBrand=void 0}}function v(o,i,...t){try{return o.call(i,...t)}catch{return null}}}),define(J[584],ee([1,0,132,2,42]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorSash=void 0;class D extends k.Disposable{constructor(m,S,f){super(),this._options=m,this._domNode=S,this._dimensions=f,this._sashRatio=(0,L.observableValue)("sashRatio",void 0),this.sashLeft=(0,L.derived)("sashLeft",v=>{var o;const i=(o=this._sashRatio.read(v))!==null&&o!==void 0?o:this._options.splitViewDefaultRatio.read(v);return this._computeSashLeft(i,v)}),this._sash=this._register(new y.Sash(this._domNode,{getVerticalSashTop:v=>0,getVerticalSashLeft:v=>this.sashLeft.get(),getVerticalSashHeight:v=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(v=>{const o=this._dimensions.width.get(),i=this._computeSashLeft((this._startSashPosition+(v.currentX-v.startX))/o,void 0);this._sashRatio.set(i/o,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,L.autorun)("update sash layout",v=>{const o=this._options.enableSplitViewResizing.read(v);this._sash.state=o?3:0,this.sashLeft.read(v),this._sash.layout()}))}setBoundarySashes(m){this._sash.orthogonalEndSash=m.bottom}_computeSashLeft(m,S){const f=this._dimensions.width.read(S),v=Math.floor(this._options.splitViewDefaultRatio.read(S)*f),o=this._options.enableSplitViewResizing.read(S)?Math.floor(m*f):v,i=100;return f<=i*2?v:o<i?i:o>f-i?f-i:o}}e.DiffEditorSash=D}),define(J[315],ee([1,0,13,2,42,86,18,61,5,109,275,181,277,87]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRegion=e.DiffMapping=e.DiffState=e.DiffEditorViewModel=void 0;class n extends k.Disposable{constructor(g,p,C){super(),this.model=g,this._options=p,this._isDiffUpToDate=(0,L.observableValue)("isDiffUpToDate",!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,L.observableValue)("diff",void 0),this.diff=this._diff,this._unchangedRegions=(0,L.observableValue)("unchangedRegion",{regions:[],originalDecorationIds:[],modifiedDecorationIds:[]}),this.unchangedRegions=(0,L.derived)("unchangedRegions",P=>this._options.collapseUnchangedRegions.read(P)?this._unchangedRegions.read(P).regions:((0,L.transaction)(A=>{for(const M of this._unchangedRegions.get().regions)M.setState(0,0,A)}),[])),this.syncedMovedTexts=(0,L.observableValue)("syncedMovedText",void 0);const w=(0,L.observableSignal)("contentChangedSignal"),E=this._register(new y.RunOnceScheduler(()=>w.trigger(void 0),200)),I=(P,A)=>{const M=h.fromDiffs(P.changes,g.original.getLineCount(),g.modified.getLineCount()),N=this._unchangedRegions.get(),O=N.originalDecorationIds.map(z=>g.original.getDecorationRange(z)).filter(z=>!!z).map(z=>m.LineRange.fromRange(z)),x=N.modifiedDecorationIds.map(z=>g.modified.getDecorationRange(z)).filter(z=>!!z).map(z=>m.LineRange.fromRange(z)),F=g.original.deltaDecorations(N.originalDecorationIds,M.map(z=>({range:z.originalRange.toInclusiveRange(),options:{description:"unchanged"}}))),B=g.modified.deltaDecorations(N.modifiedDecorationIds,M.map(z=>({range:z.modifiedRange.toInclusiveRange(),options:{description:"unchanged"}})));for(const z of M)for(let j=0;j<N.regions.length;j++)if(z.originalRange.intersectsStrict(O[j])&&z.modifiedRange.intersectsStrict(x[j])){z.setHiddenModifiedRange(N.regions[j].getHiddenModifiedRange(void 0),A);break}this._unchangedRegions.set({regions:M,originalDecorationIds:F,modifiedDecorationIds:B},A)};this._register(g.modified.onDidChangeContent(P=>{if(!this._diff.get())return;const M=o.TextEditInfo.fromModelContentChanges(P.changes),N=a(this._lastDiff,M,g.original,g.modified);N&&(this._lastDiff=N,(0,L.transaction)(O=>{this._diff.set(r.fromDiffResult(this._lastDiff),O),I(N,O);const x=this.syncedMovedTexts.get();this.syncedMovedTexts.set(x?this._lastDiff.moves.find(F=>F.lineRangeMapping.modified.intersect(x.lineRangeMapping.modified)):void 0,O)})),E.schedule()})),this._register(g.original.onDidChangeContent(P=>{if(!this._diff.get())return;const M=o.TextEditInfo.fromModelContentChanges(P.changes),N=s(this._lastDiff,M,g.original,g.modified);N&&(this._lastDiff=N,(0,L.transaction)(O=>{this._diff.set(r.fromDiffResult(this._lastDiff),O),I(N,O);const x=this.syncedMovedTexts.get();this.syncedMovedTexts.set(x?this._lastDiff.moves.find(F=>F.lineRangeMapping.modified.intersect(x.lineRangeMapping.modified)):void 0,O)})),E.schedule()}));const T=(0,L.observableSignalFromEvent)("documentDiffProviderOptionChanged",C.onDidChange);this._register((0,D.autorunWithStore2)("compute diff",(P,A)=>Le(this,void 0,void 0,function*(){var M,N;E.cancel(),w.read(P),T.read(P),this._isDiffUpToDate.set(!1,void 0);let O=[];A.add(g.original.onDidChangeContent(B=>{const z=o.TextEditInfo.fromModelContentChanges(B.changes);O=(0,i.combineTextEditInfos)(O,z)}));let x=[];A.add(g.modified.onDidChangeContent(B=>{const z=o.TextEditInfo.fromModelContentChanges(B.changes);x=(0,i.combineTextEditInfos)(x,z)}));let F=yield C.computeDiff(g.original,g.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(P),maxComputationTimeMs:this._options.maxComputationTimeMs.read(P),computeMoves:this._options.showMoves.read(P)});F=(M=s(F,O,g.original,g.modified))!==null&&M!==void 0?M:F,F=(N=a(F,x,g.original,g.modified))!==null&&N!==void 0?N:F,(0,L.transaction)(B=>{I(F,B),this._lastDiff=F;const z=r.fromDiffResult(F);this._diff.set(z,B),this._isDiffUpToDate.set(!0,B);const j=this.syncedMovedTexts.get();this.syncedMovedTexts.set(j?this._lastDiff.moves.find(R=>R.lineRangeMapping.modified.intersect(j.lineRangeMapping.modified)):void 0,B)})})))}ensureModifiedLineIsVisible(g,p){var C;if(((C=this.diff.get())===null||C===void 0?void 0:C.mappings.length)===0)return;const w=this._unchangedRegions.get().regions;for(const E of w)if(E.getHiddenModifiedRange(void 0).contains(g)){E.showAll(p);return}}ensureOriginalLineIsVisible(g,p){var C;if(((C=this.diff.get())===null||C===void 0?void 0:C.mappings.length)===0)return;const w=this._unchangedRegions.get().regions;for(const E of w)if(E.getHiddenOriginalRange(void 0).contains(g)){E.showAll(p);return}}waitForDiff(){return Le(this,void 0,void 0,function*(){yield(0,L.waitForState)(this.isDiffUpToDate,g=>g)})}serializeState(){return{collapsedRegions:this._unchangedRegions.get().regions.map(p=>({range:p.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(g){const p=g.collapsedRegions.map(w=>m.LineRange.deserialize(w.range)),C=this._unchangedRegions.get();(0,L.transaction)(w=>{for(const E of C.regions)for(const I of p)if(E.modifiedRange.intersect(I)){E.setHiddenModifiedRange(I,w);break}})}}e.DiffEditorViewModel=n;class r{static fromDiffResult(g){return new r(g.changes.map(p=>new l(p)),g.moves||[],g.identical,g.quitEarly)}constructor(g,p,C,w){this.mappings=g,this.movedTexts=p,this.identical=C,this.quitEarly=w}}e.DiffState=r;class l{constructor(g){this.lineRangeMapping=g}}e.DiffMapping=l;class h{static fromDiffs(g,p,C){const w=f.LineRangeMapping.inverse(g,p,C),E=[],I=3,T=3;for(const P of w){let A=P.originalRange.startLineNumber,M=P.modifiedRange.startLineNumber,N=P.originalRange.length;const O=A===1&&M===1,x=A+N===p+1&&M+N===C+1;(O||x)&&N>T+I?(O&&!x&&(N-=T),x&&!O&&(A+=T,M+=T,N-=T),E.push(new h(A,M,N,0,0))):N>T*2+I&&(A+=T,M+=T,N-=T*2,E.push(new h(A,M,N,0,0)))}return E}get originalRange(){return m.LineRange.ofLength(this.originalLineNumber,this.lineCount)}get modifiedRange(){return m.LineRange.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(g,p,C,w,E){this.originalLineNumber=g,this.modifiedLineNumber=p,this.lineCount=C,this._visibleLineCountTop=(0,L.observableValue)("visibleLineCountTop",0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,L.observableValue)("visibleLineCountBottom",0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,L.derived)("isVisible",I=>this.visibleLineCountTop.read(I)+this.visibleLineCountBottom.read(I)===this.lineCount&&!this.isDragged.read(I)),this.isDragged=(0,L.observableValue)("isDragged",!1),this._visibleLineCountTop.set(w,void 0),this._visibleLineCountBottom.set(E,void 0)}shouldHideControls(g){return this._shouldHideControls.read(g)}getHiddenOriginalRange(g){return m.LineRange.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(g),this.lineCount-this._visibleLineCountTop.read(g)-this._visibleLineCountBottom.read(g))}getHiddenModifiedRange(g){return m.LineRange.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(g),this.lineCount-this._visibleLineCountTop.read(g)-this._visibleLineCountBottom.read(g))}setHiddenModifiedRange(g,p){const C=g.startLineNumber-this.modifiedLineNumber,w=this.modifiedLineNumber+this.lineCount-g.endLineNumberExclusive;this.setState(C,w,p)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(g=10,p){const C=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+g,C),p)}showMoreBelow(g=10,p){const C=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+g,C),p)}showAll(g){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),g)}setState(g,p,C){g=Math.max(Math.min(g,this.lineCount),0),p=Math.max(Math.min(p,this.lineCount-g),0),this._visibleLineCountTop.set(g,C),this._visibleLineCountBottom.set(p,C)}}e.UnchangedRegion=h;function s(b,g,p,C){if(g.length===0)return b;const w=u(b),E=a(w,g,C,p);if(E)return u(E)}function u(b){return{changes:b.changes.map(g=>g.flip()),moves:b.moves.map(g=>g.flip()),identical:b.identical,quitEarly:b.quitEarly}}function a(b,g,p,C){if(g.length===0)return b;if(b.changes.some(I=>!I.innerChanges)||b.moves.length>0)return;const w=c(b.changes,g,p,C),E=b.moves.map(I=>{const T=d(I.lineRangeMapping.modified,g);return T?new f.MovedText(new f.SimpleLineRangeMapping(I.lineRangeMapping.original,T),c(I.changes,g,p,C)):void 0}).filter(_.isDefined);return{identical:!1,quitEarly:!1,changes:w,moves:E}}function d(b,g){let p=b.startLineNumber,C=b.endLineNumberExclusive;for(let w=g.length-1;w>=0;w--){const E=g[w],I=(0,t.lengthGetLineCount)(E.startOffset)+1,T=(0,t.lengthGetLineCount)(E.endOffset)+1,A=(0,t.lengthGetLineCount)(E.newLength)-(T-I);if(T<p)p+=A,C+=A;else if(!(I>C)){if(I<p&&C<T)return;I<p&&T<=C?(p=T+1,p+=A,C+=A):p<=I&&T<p?C=I:C+=A}}return new m.LineRange(p,C)}function c(b,g,p,C){const w=b.flatMap(M=>M.innerChanges.map(N=>new o.TextEditInfo((0,t.positionToLength)(N.originalRange.getStartPosition()),(0,t.positionToLength)(N.originalRange.getEndPosition()),(0,t.lengthOfRange)(N.modifiedRange).toLength()))),E=(0,i.combineTextEditInfos)(w,g);let I=t.lengthZero,T=t.lengthZero;const P=E.map(M=>{const N=(0,t.lengthAdd)(T,(0,t.lengthDiffNonNegative)(I,M.startOffset));return I=M.endOffset,T=(0,t.lengthAdd)(N,M.newLength),new f.RangeMapping(S.Range.fromPositions((0,t.lengthToPosition)(M.startOffset),(0,t.lengthToPosition)(M.endOffset)),S.Range.fromPositions((0,t.lengthToPosition)(N),(0,t.lengthToPosition)(T)))});return(0,v.lineRangeMappingFromRangeMappings)(P,p.getLinesContent(),C.getLinesContent())}}),define(J[93],ee([1,0,9,17,141]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringBuilder=e.decodeUTF16LE=e.getPlatformTextDecoder=void 0;let D;function _(){return D||(D=new TextDecoder("UTF-16LE")),D}let m;function S(){return m||(m=new TextDecoder("UTF-16BE")),m}let f;function v(){return f||(f=k.isLittleEndian()?_():S()),f}e.getPlatformTextDecoder=v;function o(n,r,l){const h=new Uint16Array(n.buffer,r,l);return l>0&&(h[0]===65279||h[0]===65534)?i(n,r,l):_().decode(h)}e.decodeUTF16LE=o;function i(n,r,l){const h=[];let s=0;for(let u=0;u<l;u++){const a=L.readUInt16LE(n,r);r+=2,h[s++]=String.fromCharCode(a)}return h.join("")}class t{constructor(r){this._capacity=r|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const r=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return v().decode(r)}_flushBuffer(){const r=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[r]:this._completedStrings[this._completedStrings.length]=r}appendCharCode(r){const l=this._capacity-this._bufferLength;l<=1&&(l===0||y.isHighSurrogate(r))&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCIICharCode(r){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendString(r){const l=r.length;if(this._bufferLength+l>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=r;return}for(let h=0;h<l;h++)this._buffer[this._bufferLength++]=r.charCodeAt(h)}}e.StringBuilder=t}),define(J[585],ee([1,0,91,9,60,93,283,111]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const S=(0,y.createTrustedTypesPolicy)("domLineBreaksComputer",{createHTML:r=>r});class f{static create(){return new f}constructor(){}createLineBreaksComputer(l,h,s,u,a){const d=[],c=[];return{addRequest:(b,g,p)=>{d.push(b),c.push(g)},finalize:()=>v(d,l,h,s,u,a,c)}}}e.DOMLineBreaksComputerFactory=f;function v(r,l,h,s,u,a,d){var c;function b(j){const R=d[j];if(R){const Z=m.LineInjectedText.applyInjectedText(r[j],R),se=R.map(te=>te.options),le=R.map(te=>te.column-1);return new _.ModelLineProjectionData(le,se,[Z.length],[],0)}else return null}if(s===-1){const j=[];for(let R=0,Z=r.length;R<Z;R++)j[R]=b(R);return j}const g=Math.round(s*l.typicalHalfwidthCharacterWidth),C=Math.round(h*(u===3?2:u===2?1:0)),w=Math.ceil(l.spaceWidth*C),E=document.createElement("div");(0,L.applyFontInfo)(E,l);const I=new D.StringBuilder(1e4),T=[],P=[],A=[],M=[],N=[];for(let j=0;j<r.length;j++){const R=m.LineInjectedText.applyInjectedText(r[j],d[j]);let Z=0,se=0,le=g;if(u!==0)if(Z=k.firstNonWhitespaceIndex(R),Z===-1)Z=0;else{for(let V=0;V<Z;V++){const H=R.charCodeAt(V)===9?h-se%h:1;se+=H}const U=Math.ceil(l.spaceWidth*se);U+l.typicalFullwidthCharacterWidth>g?(Z=0,se=0):le=g-U}const te=R.substr(Z),Y=o(te,se,h,le,I,w);T[j]=Z,P[j]=se,A[j]=te,M[j]=Y[0],N[j]=Y[1]}const O=I.build(),x=(c=S?.createHTML(O))!==null&&c!==void 0?c:O;E.innerHTML=x,E.style.position="absolute",E.style.top="10000",a==="keepAll"?(E.style.wordBreak="keep-all",E.style.overflowWrap="anywhere"):(E.style.wordBreak="inherit",E.style.overflowWrap="break-word"),document.body.appendChild(E);const F=document.createRange(),B=Array.prototype.slice.call(E.children,0),z=[];for(let j=0;j<r.length;j++){const R=B[j],Z=i(F,R,A[j],M[j]);if(Z===null){z[j]=b(j);continue}const se=T[j],le=P[j]+C,te=N[j],Y=[];for(let $=0,X=Z.length;$<X;$++)Y[$]=te[Z[$]];if(se!==0)for(let $=0,X=Z.length;$<X;$++)Z[$]+=se;let U,V;const H=d[j];H?(U=H.map($=>$.options),V=H.map($=>$.column-1)):(U=null,V=null),z[j]=new _.ModelLineProjectionData(V,U,Z,Y,le)}return document.body.removeChild(E),z}function o(r,l,h,s,u,a){if(a!==0){const w=String(a);u.appendString('<div style="text-indent: -'),u.appendString(w),u.appendString("px; padding-left: "),u.appendString(w),u.appendString("px; box-sizing: border-box; width:")}else u.appendString('<div style="width:');u.appendString(String(s)),u.appendString('px;">');const d=r.length;let c=l,b=0;const g=[],p=[];let C=0<d?r.charCodeAt(0):0;u.appendString("<span>");for(let w=0;w<d;w++){w!==0&&w%16384===0&&u.appendString("</span><span>"),g[w]=b,p[w]=c;const E=C;C=w+1<d?r.charCodeAt(w+1):0;let I=1,T=1;switch(E){case 9:I=h-c%h,T=I;for(let P=1;P<=I;P++)P<I?u.appendCharCode(160):u.appendASCIICharCode(32);break;case 32:C===32?u.appendCharCode(160):u.appendASCIICharCode(32);break;case 60:u.appendString("&lt;");break;case 62:u.appendString("&gt;");break;case 38:u.appendString("&amp;");break;case 0:u.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:u.appendCharCode(65533);break;default:k.isFullWidthCharacter(E)&&T++,E<32?u.appendCharCode(9216+E):u.appendCharCode(E)}b+=I,c+=T}return u.appendString("</span>"),g[r.length]=b,p[r.length]=c,u.appendString("</div>"),[g,p]}function i(r,l,h,s){if(h.length<=1)return null;const u=Array.prototype.slice.call(l.children,0),a=[];try{t(r,u,s,0,null,h.length-1,null,a)}catch(d){return console.log(d),null}return a.length===0?null:(a.push(h.length),a)}function t(r,l,h,s,u,a,d,c){if(s===a||(u=u||n(r,l,h[s],h[s+1]),d=d||n(r,l,h[a],h[a+1]),Math.abs(u[0].top-d[0].top)<=.1))return;if(s+1===a){c.push(a);return}const b=s+(a-s)/2|0,g=n(r,l,h[b],h[b+1]);t(r,l,h,s,u,b,g,c),t(r,l,h,b,g,a,d,c)}function n(r,l,h,s){return r.setStart(l[h/16384|0].firstChild,h%16384),r.setEnd(l[s/16384|0].firstChild,s%16384),r.getClientRects()}}),define(J[231],ee([1,0,35,91,12,93]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class _{constructor(v){this._createLine=v,this._set(1,[])}flush(){this._set(1,[])}_set(v,o){this._lines=o,this._rendLineNumberStart=v}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(v){const o=v-this._rendLineNumberStart;if(o<0||o>=this._lines.length)throw new L.BugIndicatingError("Illegal value for lineNumber");return this._lines[o]}onLinesDeleted(v,o){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),t=this.getEndLineNumber();if(o<i){const h=o-v+1;return this._rendLineNumberStart-=h,null}if(v>t)return null;let n=0,r=0;for(let h=i;h<=t;h++){const s=h-this._rendLineNumberStart;v<=h&&h<=o&&(r===0?(n=s,r=1):r++)}if(v<i){let h=0;o<i?h=o-v+1:h=i-v,this._rendLineNumberStart-=h}return this._lines.splice(n,r)}onLinesChanged(v,o){const i=v+o-1;if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),n=this.getEndLineNumber();let r=!1;for(let l=v;l<=i;l++)l>=t&&l<=n&&(this._lines[l-this._rendLineNumberStart].onContentChanged(),r=!0);return r}onLinesInserted(v,o){if(this.getCount()===0)return null;const i=o-v+1,t=this.getStartLineNumber(),n=this.getEndLineNumber();if(v<=t)return this._rendLineNumberStart+=i,null;if(v>n)return null;if(i+v>n)return this._lines.splice(v-this._rendLineNumberStart,n-v+1);const r=[];for(let a=0;a<i;a++)r[a]=this._createLine();const l=v-this._rendLineNumberStart,h=this._lines.slice(0,l),s=this._lines.slice(l,this._lines.length-i),u=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=h.concat(r).concat(s),u}onTokensChanged(v){if(this.getCount()===0)return!1;const o=this.getStartLineNumber(),i=this.getEndLineNumber();let t=!1;for(let n=0,r=v.length;n<r;n++){const l=v[n];if(l.toLineNumber<o||l.fromLineNumber>i)continue;const h=Math.max(o,l.fromLineNumber),s=Math.min(i,l.toLineNumber);for(let u=h;u<=s;u++){const a=u-this._rendLineNumberStart;this._lines[a].onTokensChanged(),t=!0}}return t}}e.RenderedLinesCollection=_;class m{constructor(v){this._host=v,this.domNode=this._createDomNode(),this._linesCollection=new _(()=>this._host.createVisibleLine())}_createDomNode(){const v=(0,y.createFastDomNode)(document.createElement("div"));return v.setClassName("view-layer"),v.setPosition("absolute"),v.domNode.setAttribute("role","presentation"),v.domNode.setAttribute("aria-hidden","true"),v}onConfigurationChanged(v){return!!v.hasChanged(142)}onFlushed(v){return this._linesCollection.flush(),!0}onLinesChanged(v){return this._linesCollection.onLinesChanged(v.fromLineNumber,v.count)}onLinesDeleted(v){const o=this._linesCollection.onLinesDeleted(v.fromLineNumber,v.toLineNumber);if(o)for(let i=0,t=o.length;i<t;i++){const n=o[i].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0}onLinesInserted(v){const o=this._linesCollection.onLinesInserted(v.fromLineNumber,v.toLineNumber);if(o)for(let i=0,t=o.length;i<t;i++){const n=o[i].getDomNode();n&&this.domNode.domNode.removeChild(n)}return!0}onScrollChanged(v){return v.scrollTopChanged}onTokensChanged(v){return this._linesCollection.onTokensChanged(v.ranges)}onZonesChanged(v){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(v){return this._linesCollection.getLine(v)}renderLines(v){const o=this._linesCollection._get(),i=new S(this.domNode.domNode,this._host,v),t={rendLineNumberStart:o.rendLineNumberStart,lines:o.lines,linesLength:o.lines.length},n=i.render(t,v.startLineNumber,v.endLineNumber,v.relativeVerticalOffset);this._linesCollection._set(n.rendLineNumberStart,n.lines)}}e.VisibleLinesCollection=m;class S{constructor(v,o,i){this.domNode=v,this.host=o,this.viewportData=i}render(v,o,i,t){const n={rendLineNumberStart:v.rendLineNumberStart,lines:v.lines.slice(0),linesLength:v.linesLength};if(n.rendLineNumberStart+n.linesLength-1<o||i<n.rendLineNumberStart){n.rendLineNumberStart=o,n.linesLength=i-o+1,n.lines=[];for(let r=o;r<=i;r++)n.lines[r-o]=this.host.createVisibleLine();return this._finishRendering(n,!0,t),n}if(this._renderUntouchedLines(n,Math.max(o-n.rendLineNumberStart,0),Math.min(i-n.rendLineNumberStart,n.linesLength-1),t,o),n.rendLineNumberStart>o){const r=o,l=Math.min(i,n.rendLineNumberStart-1);r<=l&&(this._insertLinesBefore(n,r,l,t,o),n.linesLength+=l-r+1)}else if(n.rendLineNumberStart<o){const r=Math.min(n.linesLength,o-n.rendLineNumberStart);r>0&&(this._removeLinesBefore(n,r),n.linesLength-=r)}if(n.rendLineNumberStart=o,n.rendLineNumberStart+n.linesLength-1<i){const r=n.rendLineNumberStart+n.linesLength,l=i;r<=l&&(this._insertLinesAfter(n,r,l,t,o),n.linesLength+=l-r+1)}else if(n.rendLineNumberStart+n.linesLength-1>i){const r=Math.max(0,i-n.rendLineNumberStart+1),h=n.linesLength-1-r+1;h>0&&(this._removeLinesAfter(n,h),n.linesLength-=h)}return this._finishRendering(n,!1,t),n}_renderUntouchedLines(v,o,i,t,n){const r=v.rendLineNumberStart,l=v.lines;for(let h=o;h<=i;h++){const s=r+h;l[h].layoutLine(s,t[s-n])}}_insertLinesBefore(v,o,i,t,n){const r=[];let l=0;for(let h=o;h<=i;h++)r[l++]=this.host.createVisibleLine();v.lines=r.concat(v.lines)}_removeLinesBefore(v,o){for(let i=0;i<o;i++){const t=v.lines[i].getDomNode();t&&this.domNode.removeChild(t)}v.lines.splice(0,o)}_insertLinesAfter(v,o,i,t,n){const r=[];let l=0;for(let h=o;h<=i;h++)r[l++]=this.host.createVisibleLine();v.lines=v.lines.concat(r)}_removeLinesAfter(v,o){const i=v.linesLength-o;for(let t=0;t<o;t++){const n=v.lines[i+t].getDomNode();n&&this.domNode.removeChild(n)}v.lines.splice(i,o)}_finishRenderingNewLines(v,o,i,t){S._ttPolicy&&(i=S._ttPolicy.createHTML(i));const n=this.domNode.lastChild;o||!n?this.domNode.innerHTML=i:n.insertAdjacentHTML("afterend",i);let r=this.domNode.lastChild;for(let l=v.linesLength-1;l>=0;l--){const h=v.lines[l];t[l]&&(h.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(v,o,i){const t=document.createElement("div");S._ttPolicy&&(o=S._ttPolicy.createHTML(o)),t.innerHTML=o;for(let n=0;n<v.linesLength;n++){const r=v.lines[n];if(i[n]){const l=t.firstChild,h=r.getDomNode();h.parentNode.replaceChild(l,h),r.setDomNode(l)}}}_finishRendering(v,o,i){const t=S._sb,n=v.linesLength,r=v.lines,l=v.rendLineNumberStart,h=[];{t.reset();let s=!1;for(let u=0;u<n;u++){const a=r[u];h[u]=!1,!(a.getDomNode()||!a.renderLine(u+l,i[u],this.viewportData,t))&&(h[u]=!0,s=!0)}s&&this._finishRenderingNewLines(v,o,t.build(),h)}{t.reset();let s=!1;const u=[];for(let a=0;a<n;a++){const d=r[a];u[a]=!1,!(h[a]||!d.renderLine(a+l,i[a],this.viewportData,t))&&(u[a]=!0,s=!0)}s&&this._finishRenderingInvalidLines(v,t.build(),u)}}}S._ttPolicy=(0,k.createTrustedTypesPolicy)("editorViewLayer",{createHTML:f=>f}),S._sb=new D.StringBuilder(1e5)}),define(J[586],ee([1,0,35,60,231,53]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class _ extends D.ViewPart{constructor(o){super(o),this._visibleLines=new L.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const t=this._context.configuration.options.get(49);(0,k.applyFontInfo)(this.domNode,t),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let o=0,i=this._dynamicOverlays.length;o<i;o++)if(this._dynamicOverlays[o].shouldRender())return!0;return!1}dispose(){super.dispose();for(let o=0,i=this._dynamicOverlays.length;o<i;o++)this._dynamicOverlays[o].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new m(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(o){this._dynamicOverlays.push(o)}onConfigurationChanged(o){this._visibleLines.onConfigurationChanged(o);const i=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let l=i;l<=t;l++)this._visibleLines.getVisibleLine(l).onConfigurationChanged(o);const r=this._context.configuration.options.get(49);return(0,k.applyFontInfo)(this.domNode,r),!0}onFlushed(o){return this._visibleLines.onFlushed(o)}onFocusChanged(o){return this._isFocused=o.isFocused,!0}onLinesChanged(o){return this._visibleLines.onLinesChanged(o)}onLinesDeleted(o){return this._visibleLines.onLinesDeleted(o)}onLinesInserted(o){return this._visibleLines.onLinesInserted(o)}onScrollChanged(o){return this._visibleLines.onScrollChanged(o)||!0}onTokensChanged(o){return this._visibleLines.onTokensChanged(o)}onZonesChanged(o){return this._visibleLines.onZonesChanged(o)}prepareRender(o){const i=this._dynamicOverlays.filter(t=>t.shouldRender());for(let t=0,n=i.length;t<n;t++){const r=i[t];r.prepareRender(o),r.onDidRender()}}render(o){this._viewOverlaysRender(o),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(o){this._visibleLines.renderLines(o.viewportData)}}e.ViewOverlays=_;class m{constructor(o,i){this._configuration=o,this._lineHeight=this._configuration.options.get(65),this._dynamicOverlays=i,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(o){this._domNode=(0,y.createFastDomNode)(o)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(o){this._lineHeight=this._configuration.options.get(65)}renderLine(o,i,t,n){let r="";for(let l=0,h=this._dynamicOverlays.length;l<h;l++){const s=this._dynamicOverlays[l];r+=s.render(t.startLineNumber,o)}return this._renderedContent===r?!1:(this._renderedContent=r,n.appendString('<div style="position:absolute;top:'),n.appendString(String(i)),n.appendString("px;width:100%;height:"),n.appendString(String(this._lineHeight)),n.appendString('px;">'),n.appendString(r),n.appendString("</div>"),!0)}layoutLine(o,i){this._domNode&&(this._domNode.setTop(i),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=m;class S extends _{constructor(o){super(o);const t=this._context.configuration.options.get(142);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(o){const t=this._context.configuration.options.get(142);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(o)||!0}onScrollChanged(o){return super.onScrollChanged(o)||o.scrollWidthChanged}_viewOverlaysRender(o){super._viewOverlaysRender(o),this.domNode.setWidth(Math.max(o.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=S;class f extends _{constructor(o){super(o);const i=this._context.configuration.options,t=i.get(142);this._contentLeft=t.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,k.applyFontInfo)(this.domNode,i.get(49))}onConfigurationChanged(o){const i=this._context.configuration.options;(0,k.applyFontInfo)(this.domNode,i.get(49));const t=i.get(142);return this._contentLeft=t.contentLeft,super.onConfigurationChanged(o)||!0}onScrollChanged(o){return super.onScrollChanged(o)||o.scrollHeightChanged}_viewOverlaysRender(o){super._viewOverlaysRender(o);const i=Math.min(o.scrollHeight,1e6);this.domNode.setHeight(i),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=f}),define(J[316],ee([1,0,141,93]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function L(S){return S.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(f,v,o,i){this.oldPosition=f,this.oldText=v,this.newPosition=o,this.newText=i}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${L(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${L(this.oldText)}")`:`(replace@${this.oldPosition} "${L(this.oldText)}" with "${L(this.newText)}")`}static _writeStringSize(f){return 4+2*f.length}static _writeString(f,v,o){const i=v.length;y.writeUInt32BE(f,i,o),o+=4;for(let t=0;t<i;t++)y.writeUInt16LE(f,v.charCodeAt(t),o),o+=2;return o}static _readString(f,v){const o=y.readUInt32BE(f,v);return v+=4,(0,k.decodeUTF16LE)(f,v,o)}writeSize(){return 4+4+D._writeStringSize(this.oldText)+D._writeStringSize(this.newText)}write(f,v){return y.writeUInt32BE(f,this.oldPosition,v),v+=4,y.writeUInt32BE(f,this.newPosition,v),v+=4,v=D._writeString(f,this.oldText,v),v=D._writeString(f,this.newText,v),v}static read(f,v,o){const i=y.readUInt32BE(f,v);v+=4;const t=y.readUInt32BE(f,v);v+=4;const n=D._readString(f,v);v+=D._writeStringSize(n);const r=D._readString(f,v);return v+=D._writeStringSize(r),o.push(new D(i,n,t,r)),v}}e.TextChange=D;function _(S,f){return S===null||S.length===0?f:new m(S,f).compress()}e.compressConsecutiveTextChanges=_;class m{constructor(f,v){this._prevEdits=f,this._currEdits=v,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let f=0,v=0,o=this._getPrev(f),i=this._getCurr(v);for(;f<this._prevLen||v<this._currLen;){if(o===null){this._acceptCurr(i),i=this._getCurr(++v);continue}if(i===null){this._acceptPrev(o),o=this._getPrev(++f);continue}if(i.oldEnd<=o.newPosition){this._acceptCurr(i),i=this._getCurr(++v);continue}if(o.newEnd<=i.oldPosition){this._acceptPrev(o),o=this._getPrev(++f);continue}if(i.oldPosition<o.newPosition){const[h,s]=m._splitCurr(i,o.newPosition-i.oldPosition);this._acceptCurr(h),i=s;continue}if(o.newPosition<i.oldPosition){const[h,s]=m._splitPrev(o,i.oldPosition-o.newPosition);this._acceptPrev(h),o=s;continue}let r,l;if(i.oldEnd===o.newEnd)r=o,l=i,o=this._getPrev(++f),i=this._getCurr(++v);else if(i.oldEnd<o.newEnd){const[h,s]=m._splitPrev(o,i.oldLength);r=h,l=i,o=s,i=this._getCurr(++v)}else{const[h,s]=m._splitCurr(i,o.newLength);r=o,l=h,o=this._getPrev(++f),i=s}this._result[this._resultLen++]=new D(r.oldPosition,r.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=r.newLength-r.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}const t=m._merge(this._result);return m._removeNoOps(t)}_acceptCurr(f){this._result[this._resultLen++]=m._rebaseCurr(this._prevDeltaOffset,f),this._currDeltaOffset+=f.newLength-f.oldLength}_getCurr(f){return f<this._currLen?this._currEdits[f]:null}_acceptPrev(f){this._result[this._resultLen++]=m._rebasePrev(this._currDeltaOffset,f),this._prevDeltaOffset+=f.newLength-f.oldLength}_getPrev(f){return f<this._prevLen?this._prevEdits[f]:null}static _rebaseCurr(f,v){return new D(v.oldPosition-f,v.oldText,v.newPosition,v.newText)}static _rebasePrev(f,v){return new D(v.oldPosition,v.oldText,v.newPosition+f,v.newText)}static _splitPrev(f,v){const o=f.newText.substr(0,v),i=f.newText.substr(v);return[new D(f.oldPosition,f.oldText,f.newPosition,o),new D(f.oldEnd,"",f.newPosition+v,i)]}static _splitCurr(f,v){const o=f.oldText.substr(0,v),i=f.oldText.substr(v);return[new D(f.oldPosition,o,f.newPosition,f.newText),new D(f.oldPosition+v,i,f.newEnd,"")]}static _merge(f){if(f.length===0)return f;const v=[];let o=0,i=f[0];for(let t=1;t<f.length;t++){const n=f[t];i.oldEnd===n.oldPosition?i=new D(i.oldPosition,i.oldText+n.oldText,i.newPosition,i.newText+n.newText):(v[o++]=i,i=n)}return v[o++]=i,v}static _removeNoOps(f){if(f.length===0)return f;const v=[];let o=0;for(let i=0;i<f.length;i++){const t=f[i];t.oldText!==t.newText&&(v[o++]=t)}return v}}}),define(J[587],ee([1,0,300,92]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function L(D,_,m,S,f,v){if(Array.isArray(D)){let o=0;for(const i of D){const t=L(i,_,m,S,f,v);if(t===10)return t;t>o&&(o=t)}return o}else{if(typeof D=="string")return S?D==="*"?5:D===m?10:0:0;if(D){const{language:o,pattern:i,scheme:t,hasAccessToAllModels:n,notebookType:r}=D;if(!S&&!n)return 0;r&&f&&(_=f);let l=0;if(t)if(t===_.scheme)l=10;else if(t==="*")l=5;else return 0;if(o)if(o===m)l=10;else if(o==="*")l=Math.max(l,5);else return 0;if(r)if(r===v)l=10;else if(r==="*"&&v!==void 0)l=Math.max(l,5);else return 0;if(i){let h;if(typeof i=="string"?h=i:h=Object.assign(Object.assign({},i),{base:(0,k.normalize)(i.base)}),h===_.fsPath||(0,y.match)(h,_.fsPath))l=10;else return 0}return l}else return 0}}e.score=L}),define(J[588],ee([1,0,6,2,47,587]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function _(v){return typeof v=="string"?!1:Array.isArray(v)?v.every(_):!!v.exclusive}class m{constructor(o,i,t,n){this.uri=o,this.languageId=i,this.notebookUri=t,this.notebookType=n}equals(o){var i,t;return this.notebookType===o.notebookType&&this.languageId===o.languageId&&this.uri.toString()===o.uri.toString()&&((i=this.notebookUri)===null||i===void 0?void 0:i.toString())===((t=o.notebookUri)===null||t===void 0?void 0:t.toString())}}class S{constructor(o){this._notebookInfoResolver=o,this._clock=0,this._entries=[],this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event}register(o,i){let t={selector:o,provider:i,_score:-1,_time:this._clock++};return this._entries.push(t),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.toDisposable)(()=>{if(t){const n=this._entries.indexOf(t);n>=0&&(this._entries.splice(n,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),t=void 0)}})}has(o){return this.all(o).length>0}all(o){if(!o)return[];this._updateScores(o);const i=[];for(const t of this._entries)t._score>0&&i.push(t.provider);return i}ordered(o){const i=[];return this._orderedForEach(o,t=>i.push(t.provider)),i}orderedGroups(o){const i=[];let t,n;return this._orderedForEach(o,r=>{t&&n===r._score?t.push(r.provider):(n=r._score,t=[r.provider],i.push(t))}),i}_orderedForEach(o,i){this._updateScores(o);for(const t of this._entries)t._score>0&&i(t)}_updateScores(o){var i,t;const n=(i=this._notebookInfoResolver)===null||i===void 0?void 0:i.call(this,o.uri),r=n?new m(o.uri,o.getLanguageId(),n.uri,n.type):new m(o.uri,o.getLanguageId(),void 0,void 0);if(!(!((t=this._lastCandidate)===null||t===void 0)&&t.equals(r))){this._lastCandidate=r;for(const l of this._entries)if(l._score=(0,D.score)(l.selector,r.uri,r.languageId,(0,L.shouldSynchronizeModel)(o),r.notebookUri,r.notebookType),_(l.selector)&&l._score>0){for(const h of this._entries)h._score=0;l._score=1e3;break}this._entries.sort(S._compareByScoreAndTime)}}static _compareByScoreAndTime(o,i){return o._score<i._score?1:o._score>i._score?-1:f(o.selector)&&!f(i.selector)?1:!f(o.selector)&&f(i.selector)?-1:o._time<i._time?1:o._time>i._time?-1:0}}e.LanguageFeatureRegistry=S;function f(v){return typeof v=="string"?!1:Array.isArray(v)?v.some(f):!!v.isBuiltin}}),define(J[232],ee([1,0,9,93,5]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class D{constructor(a,d,c,b,g,p){this._richEditBracketBrand=void 0,this.languageId=a,this.index=d,this.open=c,this.close=b,this.forwardRegex=g,this.reversedRegex=p,this._openSet=D._toSet(this.open),this._closeSet=D._toSet(this.close)}isOpen(a){return this._openSet.has(a)}isClose(a){return this._closeSet.has(a)}static _toSet(a){const d=new Set;for(const c of a)d.add(c);return d}}e.RichEditBracket=D;function _(u){const a=u.length;u=u.map(p=>[p[0].toLowerCase(),p[1].toLowerCase()]);const d=[];for(let p=0;p<a;p++)d[p]=p;const c=(p,C)=>{const[w,E]=p,[I,T]=C;return w===I||w===T||E===I||E===T},b=(p,C)=>{const w=Math.min(p,C),E=Math.max(p,C);for(let I=0;I<a;I++)d[I]===E&&(d[I]=w)};for(let p=0;p<a;p++){const C=u[p];for(let w=p+1;w<a;w++){const E=u[w];c(C,E)&&b(d[p],d[w])}}const g=[];for(let p=0;p<a;p++){const C=[],w=[];for(let E=0;E<a;E++)if(d[E]===p){const[I,T]=u[E];C.push(I),w.push(T)}C.length>0&&g.push({open:C,close:w})}return g}class m{constructor(a,d){this._richEditBracketsBrand=void 0;const c=_(d);this.brackets=c.map((b,g)=>new D(a,g,b.open,b.close,o(b.open,b.close,c,g),i(b.open,b.close,c,g))),this.forwardRegex=t(this.brackets),this.reversedRegex=n(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const b of this.brackets){for(const g of b.open)this.textIsBracket[g]=b,this.textIsOpenBracket[g]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,g.length);for(const g of b.close)this.textIsBracket[g]=b,this.textIsOpenBracket[g]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,g.length)}}}e.RichEditBrackets=m;function S(u,a,d,c){for(let b=0,g=a.length;b<g;b++){if(b===d)continue;const p=a[b];for(const C of p.open)C.indexOf(u)>=0&&c.push(C);for(const C of p.close)C.indexOf(u)>=0&&c.push(C)}}function f(u,a){return u.length-a.length}function v(u){if(u.length<=1)return u;const a=[],d=new Set;for(const c of u)d.has(c)||(a.push(c),d.add(c));return a}function o(u,a,d,c){let b=[];b=b.concat(u),b=b.concat(a);for(let g=0,p=b.length;g<p;g++)S(b[g],d,c,b);return b=v(b),b.sort(f),b.reverse(),l(b)}function i(u,a,d,c){let b=[];b=b.concat(u),b=b.concat(a);for(let g=0,p=b.length;g<p;g++)S(b[g],d,c,b);return b=v(b),b.sort(f),b.reverse(),l(b.map(h))}function t(u){let a=[];for(const d of u){for(const c of d.open)a.push(c);for(const c of d.close)a.push(c)}return a=v(a),l(a)}function n(u){let a=[];for(const d of u){for(const c of d.open)a.push(c);for(const c of d.close)a.push(c)}return a=v(a),l(a.map(h))}function r(u){const a=/^[\w ]+$/.test(u);return u=y.escapeRegExpCharacters(u),a?`\\b${u}\\b`:u}function l(u){const a=`(${u.map(r).join(")|(")})`;return y.createRegExp(a,!0)}const h=function(){function u(c){const b=new Uint16Array(c.length);let g=0;for(let p=c.length-1;p>=0;p--)b[g++]=c.charCodeAt(p);return k.getPlatformTextDecoder().decode(b)}let a=null,d=null;return function(b){return a!==b&&(a=b,d=u(a)),d}}();class s{static _findPrevBracketInText(a,d,c,b){const g=c.match(a);if(!g)return null;const p=c.length-(g.index||0),C=g[0].length,w=b+p;return new L.Range(d,w-C+1,d,w+1)}static findPrevBracketInRange(a,d,c,b,g){const C=h(c).substring(c.length-g,c.length-b);return this._findPrevBracketInText(a,d,C,b)}static findNextBracketInText(a,d,c,b){const g=c.match(a);if(!g)return null;const p=g.index||0,C=g[0].length;if(C===0)return null;const w=b+p;return new L.Range(d,w+1,d,w+1+C)}static findNextBracketInRange(a,d,c,b,g){const p=c.substring(b,g);return this.findNextBracketInText(a,d,p,b)}}e.BracketsUtils=s}),define(J[589],ee([1,0,15,127,232]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class D{constructor(m){this._richEditBrackets=m}getElectricCharacters(){const m=[];if(this._richEditBrackets)for(const S of this._richEditBrackets.brackets)for(const f of S.close){const v=f.charAt(f.length-1);m.push(v)}return(0,y.distinct)(m)}onElectricCharacter(m,S,f){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const v=S.findTokenIndexAtOffset(f-1);if((0,k.ignoreBracketsInToken)(S.getStandardTokenType(v)))return null;const o=this._richEditBrackets.reversedRegex,i=S.getLineContent().substring(0,f-1)+m,t=L.BracketsUtils.findPrevBracketInRange(o,1,i,0,i.length);if(!t)return null;const n=i.substring(t.startColumn-1,t.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[n])return null;const l=S.getActualLineContentBefore(t.startColumn-1);return/^\s*$/.test(l)?{matchOpenBracket:n}:null}}e.BracketElectricCharacterSupport=D}),define(J[590],ee([1,0,15,6,2,5,127,232,508]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class f extends L.Disposable{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(r,l){super(),this.textModel=r,this.languageConfigurationService=l,this.bracketPairsTree=this._register(new L.MutableDisposable),this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(h=>{var s;(!h.languageId||!((s=this.bracketPairsTree.value)===null||s===void 0)&&s.object.didLanguageChange(h.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(r){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(r){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(r){var l;(l=this.bracketPairsTree.value)===null||l===void 0||l.object.handleContentChanged(r)}handleDidChangeBackgroundTokenizationState(){var r;(r=this.bracketPairsTree.value)===null||r===void 0||r.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(r){var l;(l=this.bracketPairsTree.value)===null||l===void 0||l.object.handleDidChangeTokens(r)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const r=new L.DisposableStore;this.bracketPairsTree.value=v(r.add(new S.BracketPairsTree(this.textModel,l=>this.languageConfigurationService.getLanguageConfiguration(l))),r),r.add(this.bracketPairsTree.value.object.onDidChange(l=>this.onDidChangeEmitter.fire(l))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(r){var l;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((l=this.bracketPairsTree.value)===null||l===void 0?void 0:l.object.getBracketPairsInRange(r,!1))||y.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(r){var l;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((l=this.bracketPairsTree.value)===null||l===void 0?void 0:l.object.getBracketPairsInRange(r,!0))||y.CallbackIterable.empty}getBracketsInRange(r,l=!1){var h;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((h=this.bracketPairsTree.value)===null||h===void 0?void 0:h.object.getBracketsInRange(r,l))||y.CallbackIterable.empty}findMatchingBracketUp(r,l,h){const s=this.textModel.validatePosition(l),u=this.textModel.getLanguageIdAtPosition(s.lineNumber,s.column);if(this.canBuildAST){const a=this.languageConfigurationService.getLanguageConfiguration(u).bracketsNew.getClosingBracketInfo(r);if(!a)return null;const d=this.getBracketPairsInRange(D.Range.fromPositions(l,l)).findLast(c=>a.closes(c.openingBracketInfo));return d?d.openingBracketRange:null}else{const a=r.toLowerCase(),d=this.languageConfigurationService.getLanguageConfiguration(u).brackets;if(!d)return null;const c=d.textIsBracket[a];return c?t(this._findMatchingBracketUp(c,s,o(h))):null}}matchBracket(r,l){if(this.canBuildAST){const h=this.getBracketPairsInRange(D.Range.fromPositions(r,r)).filter(s=>s.closingBracketRange!==void 0&&(s.openingBracketRange.containsPosition(r)||s.closingBracketRange.containsPosition(r))).findLastMaxBy((0,y.compareBy)(s=>s.openingBracketRange.containsPosition(r)?s.openingBracketRange:s.closingBracketRange,D.Range.compareRangesUsingStarts));return h?[h.openingBracketRange,h.closingBracketRange]:null}else{const h=o(l);return this._matchBracket(this.textModel.validatePosition(r),h)}}_establishBracketSearchOffsets(r,l,h,s){const u=l.getCount(),a=l.getLanguageId(s);let d=Math.max(0,r.column-1-h.maxBracketLength);for(let b=s-1;b>=0;b--){const g=l.getEndOffset(b);if(g<=d)break;if((0,_.ignoreBracketsInToken)(l.getStandardTokenType(b))||l.getLanguageId(b)!==a){d=g;break}}let c=Math.min(l.getLineContent().length,r.column-1+h.maxBracketLength);for(let b=s+1;b<u;b++){const g=l.getStartOffset(b);if(g>=c)break;if((0,_.ignoreBracketsInToken)(l.getStandardTokenType(b))||l.getLanguageId(b)!==a){c=g;break}}return{searchStartOffset:d,searchEndOffset:c}}_matchBracket(r,l){const h=r.lineNumber,s=this.textModel.tokenization.getLineTokens(h),u=this.textModel.getLineContent(h),a=s.findTokenIndexAtOffset(r.column-1);if(a<0)return null;const d=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(a)).brackets;if(d&&!(0,_.ignoreBracketsInToken)(s.getStandardTokenType(a))){let{searchStartOffset:c,searchEndOffset:b}=this._establishBracketSearchOffsets(r,s,d,a),g=null;for(;;){const p=m.BracketsUtils.findNextBracketInRange(d.forwardRegex,h,u,c,b);if(!p)break;if(p.startColumn<=r.column&&r.column<=p.endColumn){const C=u.substring(p.startColumn-1,p.endColumn-1).toLowerCase(),w=this._matchFoundBracket(p,d.textIsBracket[C],d.textIsOpenBracket[C],l);if(w){if(w instanceof i)return null;g=w}}c=p.endColumn-1}if(g)return g}if(a>0&&s.getStartOffset(a)===r.column-1){const c=a-1,b=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(c)).brackets;if(b&&!(0,_.ignoreBracketsInToken)(s.getStandardTokenType(c))){const{searchStartOffset:g,searchEndOffset:p}=this._establishBracketSearchOffsets(r,s,b,c),C=m.BracketsUtils.findPrevBracketInRange(b.reversedRegex,h,u,g,p);if(C&&C.startColumn<=r.column&&r.column<=C.endColumn){const w=u.substring(C.startColumn-1,C.endColumn-1).toLowerCase(),E=this._matchFoundBracket(C,b.textIsBracket[w],b.textIsOpenBracket[w],l);if(E)return E instanceof i?null:E}}}return null}_matchFoundBracket(r,l,h,s){if(!l)return null;const u=h?this._findMatchingBracketDown(l,r.getEndPosition(),s):this._findMatchingBracketUp(l,r.getStartPosition(),s);return u?u instanceof i?u:[r,u]:null}_findMatchingBracketUp(r,l,h){const s=r.languageId,u=r.reversedRegex;let a=-1,d=0;const c=(b,g,p,C)=>{for(;;){if(h&&++d%100===0&&!h())return i.INSTANCE;const w=m.BracketsUtils.findPrevBracketInRange(u,b,g,p,C);if(!w)break;const E=g.substring(w.startColumn-1,w.endColumn-1).toLowerCase();if(r.isOpen(E)?a++:r.isClose(E)&&a--,a===0)return w;C=w.startColumn-1}return null};for(let b=l.lineNumber;b>=1;b--){const g=this.textModel.tokenization.getLineTokens(b),p=g.getCount(),C=this.textModel.getLineContent(b);let w=p-1,E=C.length,I=C.length;b===l.lineNumber&&(w=g.findTokenIndexAtOffset(l.column-1),E=l.column-1,I=l.column-1);let T=!0;for(;w>=0;w--){const P=g.getLanguageId(w)===s&&!(0,_.ignoreBracketsInToken)(g.getStandardTokenType(w));if(P)T?E=g.getStartOffset(w):(E=g.getStartOffset(w),I=g.getEndOffset(w));else if(T&&E!==I){const A=c(b,C,E,I);if(A)return A}T=P}if(T&&E!==I){const P=c(b,C,E,I);if(P)return P}}return null}_findMatchingBracketDown(r,l,h){const s=r.languageId,u=r.forwardRegex;let a=1,d=0;const c=(g,p,C,w)=>{for(;;){if(h&&++d%100===0&&!h())return i.INSTANCE;const E=m.BracketsUtils.findNextBracketInRange(u,g,p,C,w);if(!E)break;const I=p.substring(E.startColumn-1,E.endColumn-1).toLowerCase();if(r.isOpen(I)?a++:r.isClose(I)&&a--,a===0)return E;C=E.endColumn-1}return null},b=this.textModel.getLineCount();for(let g=l.lineNumber;g<=b;g++){const p=this.textModel.tokenization.getLineTokens(g),C=p.getCount(),w=this.textModel.getLineContent(g);let E=0,I=0,T=0;g===l.lineNumber&&(E=p.findTokenIndexAtOffset(l.column-1),I=l.column-1,T=l.column-1);let P=!0;for(;E<C;E++){const A=p.getLanguageId(E)===s&&!(0,_.ignoreBracketsInToken)(p.getStandardTokenType(E));if(A)P||(I=p.getStartOffset(E)),T=p.getEndOffset(E);else if(P&&I!==T){const M=c(g,w,I,T);if(M)return M}P=A}if(P&&I!==T){const A=c(g,w,I,T);if(A)return A}}return null}findPrevBracket(r){var l;const h=this.textModel.validatePosition(r);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((l=this.bracketPairsTree.value)===null||l===void 0?void 0:l.object.getFirstBracketBefore(h))||null;let s=null,u=null,a=null;for(let d=h.lineNumber;d>=1;d--){const c=this.textModel.tokenization.getLineTokens(d),b=c.getCount(),g=this.textModel.getLineContent(d);let p=b-1,C=g.length,w=g.length;if(d===h.lineNumber){p=c.findTokenIndexAtOffset(h.column-1),C=h.column-1,w=h.column-1;const I=c.getLanguageId(p);s!==I&&(s=I,u=this.languageConfigurationService.getLanguageConfiguration(s).brackets,a=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew)}let E=!0;for(;p>=0;p--){const I=c.getLanguageId(p);if(s!==I){if(u&&a&&E&&C!==w){const P=m.BracketsUtils.findPrevBracketInRange(u.reversedRegex,d,g,C,w);if(P)return this._toFoundBracket(a,P);E=!1}s=I,u=this.languageConfigurationService.getLanguageConfiguration(s).brackets,a=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew}const T=!!u&&!(0,_.ignoreBracketsInToken)(c.getStandardTokenType(p));if(T)E?C=c.getStartOffset(p):(C=c.getStartOffset(p),w=c.getEndOffset(p));else if(a&&u&&E&&C!==w){const P=m.BracketsUtils.findPrevBracketInRange(u.reversedRegex,d,g,C,w);if(P)return this._toFoundBracket(a,P)}E=T}if(a&&u&&E&&C!==w){const I=m.BracketsUtils.findPrevBracketInRange(u.reversedRegex,d,g,C,w);if(I)return this._toFoundBracket(a,I)}}return null}findNextBracket(r){var l;const h=this.textModel.validatePosition(r);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((l=this.bracketPairsTree.value)===null||l===void 0?void 0:l.object.getFirstBracketAfter(h))||null;const s=this.textModel.getLineCount();let u=null,a=null,d=null;for(let c=h.lineNumber;c<=s;c++){const b=this.textModel.tokenization.getLineTokens(c),g=b.getCount(),p=this.textModel.getLineContent(c);let C=0,w=0,E=0;if(c===h.lineNumber){C=b.findTokenIndexAtOffset(h.column-1),w=h.column-1,E=h.column-1;const T=b.getLanguageId(C);u!==T&&(u=T,a=this.languageConfigurationService.getLanguageConfiguration(u).brackets,d=this.languageConfigurationService.getLanguageConfiguration(u).bracketsNew)}let I=!0;for(;C<g;C++){const T=b.getLanguageId(C);if(u!==T){if(d&&a&&I&&w!==E){const A=m.BracketsUtils.findNextBracketInRange(a.forwardRegex,c,p,w,E);if(A)return this._toFoundBracket(d,A);I=!1}u=T,a=this.languageConfigurationService.getLanguageConfiguration(u).brackets,d=this.languageConfigurationService.getLanguageConfiguration(u).bracketsNew}const P=!!a&&!(0,_.ignoreBracketsInToken)(b.getStandardTokenType(C));if(P)I||(w=b.getStartOffset(C)),E=b.getEndOffset(C);else if(d&&a&&I&&w!==E){const A=m.BracketsUtils.findNextBracketInRange(a.forwardRegex,c,p,w,E);if(A)return this._toFoundBracket(d,A)}I=P}if(d&&a&&I&&w!==E){const T=m.BracketsUtils.findNextBracketInRange(a.forwardRegex,c,p,w,E);if(T)return this._toFoundBracket(d,T)}}return null}findEnclosingBrackets(r,l){const h=this.textModel.validatePosition(r);if(this.canBuildAST){const w=D.Range.fromPositions(h),E=this.getBracketPairsInRange(D.Range.fromPositions(h,h)).findLast(I=>I.closingBracketRange!==void 0&&I.range.strictContainsRange(w));return E?[E.openingBracketRange,E.closingBracketRange]:null}const s=o(l),u=this.textModel.getLineCount(),a=new Map;let d=[];const c=(w,E)=>{if(!a.has(w)){const I=[];for(let T=0,P=E?E.brackets.length:0;T<P;T++)I[T]=0;a.set(w,I)}d=a.get(w)};let b=0;const g=(w,E,I,T,P)=>{for(;;){if(s&&++b%100===0&&!s())return i.INSTANCE;const A=m.BracketsUtils.findNextBracketInRange(w.forwardRegex,E,I,T,P);if(!A)break;const M=I.substring(A.startColumn-1,A.endColumn-1).toLowerCase(),N=w.textIsBracket[M];if(N&&(N.isOpen(M)?d[N.index]++:N.isClose(M)&&d[N.index]--,d[N.index]===-1))return this._matchFoundBracket(A,N,!1,s);T=A.endColumn-1}return null};let p=null,C=null;for(let w=h.lineNumber;w<=u;w++){const E=this.textModel.tokenization.getLineTokens(w),I=E.getCount(),T=this.textModel.getLineContent(w);let P=0,A=0,M=0;if(w===h.lineNumber){P=E.findTokenIndexAtOffset(h.column-1),A=h.column-1,M=h.column-1;const O=E.getLanguageId(P);p!==O&&(p=O,C=this.languageConfigurationService.getLanguageConfiguration(p).brackets,c(p,C))}let N=!0;for(;P<I;P++){const O=E.getLanguageId(P);if(p!==O){if(C&&N&&A!==M){const F=g(C,w,T,A,M);if(F)return t(F);N=!1}p=O,C=this.languageConfigurationService.getLanguageConfiguration(p).brackets,c(p,C)}const x=!!C&&!(0,_.ignoreBracketsInToken)(E.getStandardTokenType(P));if(x)N||(A=E.getStartOffset(P)),M=E.getEndOffset(P);else if(C&&N&&A!==M){const F=g(C,w,T,A,M);if(F)return t(F)}N=x}if(C&&N&&A!==M){const O=g(C,w,T,A,M);if(O)return t(O)}}return null}_toFoundBracket(r,l){if(!l)return null;let h=this.textModel.getValueInRange(l);h=h.toLowerCase();const s=r.getBracketInfo(h);return s?{range:l,bracketInfo:s}:null}}e.BracketPairsTextModelPart=f;function v(n,r){return{object:n,dispose:()=>r?.dispose()}}function o(n){if(typeof n>"u")return()=>!0;{const r=Date.now();return()=>Date.now()-r<=n}}class i{constructor(){this._searchCanceledBrand=void 0}}i.INSTANCE=new i;function t(n){return n instanceof i?null:n}}),define(J[317],ee([1,0,6,9,5,47,282,123,316,2]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class v extends f.Disposable{constructor(i,t,n,r,l,h,s){super(),this._onDidChangeContent=this._register(new y.Emitter),this._BOM=t,this._mightContainNonBasicASCII=!h,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=l,this._pieceTree=new _.PieceTreeBase(i,n,s)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(i){return this._pieceTree.createSnapshot(i?this._BOM:"")}getOffsetAt(i,t){return this._pieceTree.getOffsetAt(i,t)}getPositionAt(i){return this._pieceTree.getPositionAt(i)}getRangeAt(i,t){const n=i+t,r=this.getPositionAt(i),l=this.getPositionAt(n);return new L.Range(r.lineNumber,r.column,l.lineNumber,l.column)}getValueInRange(i,t=0){if(i.isEmpty())return"";const n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(i,n)}getValueLengthInRange(i,t=0){if(i.isEmpty())return 0;if(i.startLineNumber===i.endLineNumber)return i.endColumn-i.startColumn;const n=this.getOffsetAt(i.startLineNumber,i.startColumn),r=this.getOffsetAt(i.endLineNumber,i.endColumn);let l=0;const h=this._getEndOfLine(t),s=this.getEOL();if(h.length!==s.length){const u=h.length-s.length,a=i.endLineNumber-i.startLineNumber;l=u*a}return r-n+l}getCharacterCountInRange(i,t=0){if(this._mightContainNonBasicASCII){let n=0;const r=i.startLineNumber,l=i.endLineNumber;for(let h=r;h<=l;h++){const s=this.getLineContent(h),u=h===r?i.startColumn-1:0,a=h===l?i.endColumn-1:s.length;for(let d=u;d<a;d++)k.isHighSurrogate(s.charCodeAt(d))?(n=n+1,d=d+1):n=n+1}return n+=this._getEndOfLine(t).length*(l-r),n}return this.getValueLengthInRange(i,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(i){return this._pieceTree.getLineContent(i)}getLineCharCode(i,t){return this._pieceTree.getLineCharCode(i,t)}getLineLength(i){return this._pieceTree.getLineLength(i)}getLineFirstNonWhitespaceColumn(i){const t=k.firstNonWhitespaceIndex(this.getLineContent(i));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(i){const t=k.lastNonWhitespaceIndex(this.getLineContent(i));return t===-1?0:t+2}_getEndOfLine(i){switch(i){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(i){this._pieceTree.setEOL(i)}applyEdits(i,t,n){let r=this._mightContainRTL,l=this._mightContainUnusualLineTerminators,h=this._mightContainNonBasicASCII,s=!0,u=[];for(let C=0;C<i.length;C++){const w=i[C];s&&w._isTracked&&(s=!1);const E=w.range;if(w.text){let M=!0;h||(M=!k.isBasicASCII(w.text),h=M),!r&&M&&(r=k.containsRTL(w.text)),!l&&M&&(l=k.containsUnusualLineTerminators(w.text))}let I="",T=0,P=0,A=0;if(w.text){let M;[T,P,A,M]=(0,m.countEOL)(w.text);const N=this.getEOL();M===0||M===(N===`\r
`?2:1)?I=w.text:I=w.text.replace(/\r\n|\r|\n/g,N)}u[C]={sortIndex:C,identifier:w.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:I,eolCount:T,firstLineLength:P,lastLineLength:A,forceMoveMarkers:!!w.forceMoveMarkers,isAutoWhitespaceEdit:w.isAutoWhitespaceEdit||!1}}u.sort(v._sortOpsAscending);let a=!1;for(let C=0,w=u.length-1;C<w;C++){const E=u[C].range.getEndPosition(),I=u[C+1].range.getStartPosition();if(I.isBeforeOrEqual(E)){if(I.isBefore(E))throw new Error("Overlapping ranges are not allowed!");a=!0}}s&&(u=this._reduceOperations(u));const d=n||t?v._getInverseEditRanges(u):[],c=[];if(t)for(let C=0;C<u.length;C++){const w=u[C],E=d[C];if(w.isAutoWhitespaceEdit&&w.range.isEmpty())for(let I=E.startLineNumber;I<=E.endLineNumber;I++){let T="";I===E.startLineNumber&&(T=this.getLineContent(w.range.startLineNumber),k.firstNonWhitespaceIndex(T)!==-1)||c.push({lineNumber:I,oldContent:T})}}let b=null;if(n){let C=0;b=[];for(let w=0;w<u.length;w++){const E=u[w],I=d[w],T=this.getValueInRange(E.range),P=E.rangeOffset+C;C+=E.text.length-T.length,b[w]={sortIndex:E.sortIndex,identifier:E.identifier,range:I,text:T,textChange:new S.TextChange(E.rangeOffset,T,P,E.text)}}a||b.sort((w,E)=>w.sortIndex-E.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=l,this._mightContainNonBasicASCII=h;const g=this._doApplyEdits(u);let p=null;if(t&&c.length>0){c.sort((C,w)=>w.lineNumber-C.lineNumber),p=[];for(let C=0,w=c.length;C<w;C++){const E=c[C].lineNumber;if(C>0&&c[C-1].lineNumber===E)continue;const I=c[C].oldContent,T=this.getLineContent(E);T.length===0||T===I||k.firstNonWhitespaceIndex(T)!==-1||p.push(E)}}return this._onDidChangeContent.fire(),new D.ApplyEditsResult(b,g,p)}_reduceOperations(i){return i.length<1e3?i:[this._toSingleEditOperation(i)]}_toSingleEditOperation(i){let t=!1;const n=i[0].range,r=i[i.length-1].range,l=new L.Range(n.startLineNumber,n.startColumn,r.endLineNumber,r.endColumn);let h=n.startLineNumber,s=n.startColumn;const u=[];for(let g=0,p=i.length;g<p;g++){const C=i[g],w=C.range;t=t||C.forceMoveMarkers,u.push(this.getValueInRange(new L.Range(h,s,w.startLineNumber,w.startColumn))),C.text.length>0&&u.push(C.text),h=w.endLineNumber,s=w.endColumn}const a=u.join(""),[d,c,b]=(0,m.countEOL)(a);return{sortIndex:0,identifier:i[0].identifier,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l,0),text:a,eolCount:d,firstLineLength:c,lastLineLength:b,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(i){i.sort(v._sortOpsDescending);const t=[];for(let n=0;n<i.length;n++){const r=i[n],l=r.range.startLineNumber,h=r.range.startColumn,s=r.range.endLineNumber,u=r.range.endColumn;if(l===s&&h===u&&r.text.length===0)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);const a=new L.Range(l,h,s,u);t.push({range:a,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t}findMatchesLineByLine(i,t,n,r){return this._pieceTree.findMatchesLineByLine(i,t,n,r)}static _getInverseEditRanges(i){const t=[];let n=0,r=0,l=null;for(let h=0,s=i.length;h<s;h++){const u=i[h];let a,d;l?l.range.endLineNumber===u.range.startLineNumber?(a=n,d=r+(u.range.startColumn-l.range.endColumn)):(a=n+(u.range.startLineNumber-l.range.endLineNumber),d=u.range.startColumn):(a=u.range.startLineNumber,d=u.range.startColumn);let c;if(u.text.length>0){const b=u.eolCount+1;b===1?c=new L.Range(a,d,a,d+u.firstLineLength):c=new L.Range(a,d,a+b-1,u.lastLineLength+1)}else c=new L.Range(a,d,a,d);n=c.endLineNumber,r=c.endColumn,t.push(c),l=u}return t}static _sortOpsAscending(i,t){const n=L.Range.compareRangesUsingEnds(i.range,t.range);return n===0?i.sortIndex-t.sortIndex:n}static _sortOpsDescending(i,t){const n=L.Range.compareRangesUsingEnds(i.range,t.range);return n===0?t.sortIndex-i.sortIndex:-n}}e.PieceTreeTextBuffer=v}),define(J[591],ee([1,0,9,282,317]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=void 0;class D{constructor(S,f,v,o,i,t,n,r,l){this._chunks=S,this._bom=f,this._cr=v,this._lf=o,this._crlf=i,this._containsRTL=t,this._containsUnusualLineTerminators=n,this._isBasicASCII=r,this._normalizeEOL=l}_getEOL(S){const f=this._cr+this._lf+this._crlf,v=this._cr+this._crlf;return f===0?S===1?`
`:`\r
`:v>f/2?`\r
`:`
`}create(S){const f=this._getEOL(S),v=this._chunks;if(this._normalizeEOL&&(f===`\r
`&&(this._cr>0||this._lf>0)||f===`
`&&(this._cr>0||this._crlf>0)))for(let i=0,t=v.length;i<t;i++){const n=v[i].buffer.replace(/\r\n|\r|\n/g,f),r=(0,k.createLineStartsFast)(n);v[i]=new k.StringBuffer(n,r)}const o=new L.PieceTreeTextBuffer(v,this._bom,f,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:o,disposable:o}}}class _{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(S){if(S.length===0)return;this.chunks.length===0&&y.startsWithUTF8BOM(S)&&(this.BOM=y.UTF8_BOM_CHARACTER,S=S.substr(1));const f=S.charCodeAt(S.length-1);f===13||f>=55296&&f<=56319?(this._acceptChunk1(S.substr(0,S.length-1),!1),this._hasPreviousChar=!0,this._previousChar=f):(this._acceptChunk1(S,!1),this._hasPreviousChar=!1,this._previousChar=f)}_acceptChunk1(S,f){!f&&S.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+S):this._acceptChunk2(S))}_acceptChunk2(S){const f=(0,k.createLineStarts)(this._tmpLineStarts,S);this.chunks.push(new k.StringBuffer(S,f.lineStarts)),this.cr+=f.cr,this.lf+=f.lf,this.crlf+=f.crlf,f.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=y.containsRTL(S)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=y.containsUnusualLineTerminators(S)))}finish(S=!0){return this._finish(),new D(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,S)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const S=this.chunks[this.chunks.length-1];S.buffer+=String.fromCharCode(this._previousChar);const f=(0,k.createLineStartsFast)(S.buffer);S.lineStarts=f,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=_}),define(J[592],ee([1,0,141,17]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function L(S){for(let f=0,v=S.length;f<v;f+=4){const o=S[f+0],i=S[f+1],t=S[f+2],n=S[f+3];S[f+0]=n,S[f+1]=t,S[f+2]=i,S[f+3]=o}}function D(S){const f=new Uint8Array(S.buffer,S.byteOffset,S.length*4);return k.isLittleEndian()||L(f),y.VSBuffer.wrap(f)}function _(S){const f=new Uint32Array(m(S));let v=0;if(f[v++]=S.id,S.type==="full")f[v++]=1,f[v++]=S.data.length,f.set(S.data,v),v+=S.data.length;else{f[v++]=2,f[v++]=S.deltas.length;for(const o of S.deltas)f[v++]=o.start,f[v++]=o.deleteCount,o.data?(f[v++]=o.data.length,f.set(o.data,v),v+=o.data.length):f[v++]=0}return D(f)}e.encodeSemanticTokensDto=_;function m(S){let f=0;if(f+=1+1,S.type==="full")f+=1+S.data.length;else{f+=1,f+=(1+1+1)*S.deltas.length;for(const v of S.deltas)v.data&&(f+=v.data.length)}return f}}),define(J[188],ee([1,0,6,2,17]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(o,i){return!!o[i]}class _{constructor(i,t){this.target=i.target,this.isLeftClick=i.event.leftButton,this.isMiddleClick=i.event.middleButton,this.isRightClick=i.event.rightButton,this.hasTriggerModifier=D(i.event,t.triggerModifier),this.hasSideBySideModifier=D(i.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=i.event.detail<=1}}e.ClickLinkMouseEvent=_;class m{constructor(i,t){this.keyCodeIsTriggerKey=i.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=i.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=D(i,t.triggerModifier)}}e.ClickLinkKeyboardEvent=m;class S{constructor(i,t,n,r){this.triggerKey=i,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=r}equals(i){return this.triggerKey===i.triggerKey&&this.triggerModifier===i.triggerModifier&&this.triggerSideBySideKey===i.triggerSideBySideKey&&this.triggerSideBySideModifier===i.triggerSideBySideModifier}}e.ClickLinkOptions=S;function f(o){return o==="altKey"?L.isMacintosh?new S(57,"metaKey",6,"altKey"):new S(5,"ctrlKey",6,"altKey"):L.isMacintosh?new S(6,"altKey",57,"metaKey"):new S(6,"altKey",5,"ctrlKey")}class v extends k.Disposable{constructor(i,t){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new y.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new y.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new y.Emitter),this.onCancel=this._onCancel.event,this._editor=i,this._alwaysFireExecuteOnMouseUp=t,this._opts=f(this._editor.getOption(76)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(n=>{if(n.hasChanged(76)){const r=f(this._editor.getOption(76));if(this._opts.equals(r))return;this._opts=r,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(n=>this._onEditorMouseMove(new _(n,this._opts)))),this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(new _(n,this._opts)))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(new _(n,this._opts)))),this._register(this._editor.onKeyDown(n=>this._onEditorKeyDown(new m(n,this._opts)))),this._register(this._editor.onKeyUp(n=>this._onEditorKeyUp(new m(n,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(n=>this._onDidChangeCursorSelection(n))),this._register(this._editor.onDidChangeModel(n=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(n=>{(n.scrollTopChanged||n.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(i){i.selection&&i.selection.startColumn!==i.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(i){this._lastMouseMoveEvent=i,this._onMouseMoveOrRelevantKeyDown.fire([i,null])}_onEditorMouseDown(i){this._hasTriggerKeyOnMouseDown=i.hasTriggerModifier,this._lineNumberOnMouseDown=i.target.position?i.target.position.lineNumber:0}_onEditorMouseUp(i){const t=i.target.position?i.target.position.lineNumber:0;(this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t||this._alwaysFireExecuteOnMouseUp)&&this._onExecute.fire(i)}_onEditorKeyDown(i){this._lastMouseMoveEvent&&(i.keyCodeIsTriggerKey||i.keyCodeIsSideBySideKey&&i.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,i]):i.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(i){i.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=v});var Dt=this&&this.__asyncValues||function(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=G[Symbol.asyncIterator],y;return e?e.call(G):(G=typeof __values=="function"?__values(G):G[Symbol.iterator](),y={},k("next"),k("throw"),k("return"),y[Symbol.asyncIterator]=function(){return this},y);function k(D){y[D]=G[D]&&function(_){return new Promise(function(m,S){_=G[D](_),L(m,S,_.done,_.value)})}}function L(D,_,m,S){Promise.resolve(S).then(function(f){D({value:f,done:m})},_)}};define(J[318],ee([1,0,13,12,6,2]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class _{constructor(f,v,o){this.value=f,this.isComplete=v,this.hasLoadingMessage=o}}e.HoverResult=_;class m extends D.Disposable{constructor(f,v){super(),this._editor=f,this._computer=v,this._onResult=this._register(new L.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new y.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new y.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new y.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(59).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(f,v=!0){this._state=f,v&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,y.createCancelableAsyncIterable)(f=>this._computer.computeAsync(f)),Le(this,void 0,void 0,function*(){var f,v,o,i;try{try{for(var t=!0,n=Dt(this._asyncIterable),r;r=yield n.next(),f=r.done,!f;t=!0){i=r.value,t=!1;const l=i;l&&(this._result.push(l),this._fireResult())}}catch(l){v={error:l}}finally{try{!t&&!f&&(o=n.return)&&(yield o.call(n))}finally{if(v)throw v.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(l){(0,k.onUnexpectedError)(l)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const f=this._state===0,v=this._state===4;this._onResult.fire(new _(this._result.slice(0),f,v))}start(f){if(f===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=m}),define(J[593],ee([1,0,225,2,11,7]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableContentWidget=void 0;const _=30,m=24;class S extends k.Disposable{constructor(v,o=new D.Dimension(10,10)){super(),this._editor=v,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new y.ResizableHTMLElement),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=D.Dimension.lift(o),this._resizableNode.layout(o.height,o.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(i=>{this._resize(new D.Dimension(i.dimension.width,i.dimension.height)),i.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var v;return!((v=this._contentPosition)===null||v===void 0)&&v.position?L.Position.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(v){const o=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(v);return!o||!i?void 0:D.getDomNodePagePosition(o).top+i.top-_}_availableVerticalSpaceBelow(v){const o=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(v);if(!o||!i)return;const t=D.getDomNodePagePosition(o),n=D.getClientArea(document.body),r=t.top+i.top+i.height;return n.height-r-m}_findPositionPreference(v,o){var i,t;const n=Math.min((i=this._availableVerticalSpaceBelow(o))!==null&&i!==void 0?i:1/0,v),r=Math.min((t=this._availableVerticalSpaceAbove(o))!==null&&t!==void 0?t:1/0,v),l=Math.min(Math.max(r,n),v),h=Math.min(v,l);let s;return this._editor.getOption(59).above?s=h<=r?1:2:s=h<=n?2:1,s===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),s}_resize(v){this._resizableNode.layout(v.height,v.width)}}e.ResizableContentWidget=S}),define(J[319],ee([1,0,12,2,11,5,54,22]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asCommandLink=e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class S{constructor(t,n){this.range=t,this.direction=n}}e.InlayHintAnchor=S;class f{constructor(t,n,r){this.hint=t,this.anchor=n,this.provider=r,this._isResolved=!1}with(t){const n=new f(this.hint,t.anchor,this.provider);return n._isResolved=this._isResolved,n._currentResolve=this._currentResolve,n}resolve(t){return Le(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,t.isCancellationRequested?void 0:this.resolve(t);this._isResolved||(this._currentResolve=this._doResolve(t).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(t){var n,r;return Le(this,void 0,void 0,function*(){try{const l=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,t));this.hint.tooltip=(n=l?.tooltip)!==null&&n!==void 0?n:this.hint.tooltip,this.hint.label=(r=l?.label)!==null&&r!==void 0?r:this.hint.label,this._isResolved=!0}catch(l){(0,y.onUnexpectedExternalError)(l),this._isResolved=!1}})}}e.InlayHintItem=f;class v{static create(t,n,r,l){return Le(this,void 0,void 0,function*(){const h=[],s=t.ordered(n).reverse().map(u=>r.map(a=>Le(this,void 0,void 0,function*(){try{const d=yield u.provideInlayHints(n,a,l);d?.hints.length&&h.push([d,u])}catch(d){(0,y.onUnexpectedExternalError)(d)}})));if(yield Promise.all(s.flat()),l.isCancellationRequested||n.isDisposed())throw new y.CancellationError;return new v(r,h,n)})}constructor(t,n,r){this._disposables=new k.DisposableStore,this.ranges=t,this.provider=new Set;const l=[];for(const[h,s]of n){this._disposables.add(h),this.provider.add(s);for(const u of h.hints){const a=r.validatePosition(u.position);let d="before";const c=v._getRangeAtPosition(r,a);let b;c.getStartPosition().isBefore(a)?(b=D.Range.fromPositions(c.getStartPosition(),a),d="after"):(b=D.Range.fromPositions(a,c.getEndPosition()),d="before"),l.push(new f(u,new S(b,d),s))}}this.items=l.sort((h,s)=>L.Position.compare(h.hint.position,s.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(t,n){const r=n.lineNumber,l=t.getWordAtPosition(n);if(l)return new D.Range(r,l.startColumn,r,l.endColumn);t.tokenization.tokenizeIfCheap(r);const h=t.tokenization.getLineTokens(r),s=n.column-1,u=h.findTokenIndexAtOffset(s);let a=h.getStartOffset(u),d=h.getEndOffset(u);return d-a===1&&(a===s&&u>1?(a=h.getStartOffset(u-1),d=h.getEndOffset(u-1)):d===s&&u<h.getCount()-1&&(a=h.getStartOffset(u+1),d=h.getEndOffset(u+1))),new D.Range(r,a+1,r,d+1)}}e.InlayHintsFragments=v;function o(i){return m.URI.from({scheme:_.Schemas.command,path:i.id,query:i.arguments&&encodeURIComponent(JSON.stringify(i.arguments))}).toString()}e.asCommandLink=o}),define(J[594],ee([1,0,85,13,21,261,12,5,501,153,130]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionItem=e.InlineCompletionList=e.InlineCompletionProviderResult=e.provideInlineCompletions=void 0;function o(h,s,u,a,d=L.CancellationToken.None,c){return Le(this,void 0,void 0,function*(){const b=r(s,u),g=h.all(u),p=new D.SetMap;for(const N of g)N.groupId&&p.add(N.groupId,N);function C(N){if(!N.yieldsToGroupIds)return[];const O=[];for(const x of N.yieldsToGroupIds||[]){const F=p.get(x);for(const B of F)O.push(B)}return O}const w=new Map,E=new Set;function I(N,O){if(O=[...O,N],E.has(N))return O;E.add(N);try{const x=C(N);for(const F of x){const B=I(F,O);if(B)return B}}finally{E.delete(N)}}function T(N){const O=w.get(N);if(O)return O;const x=I(N,[]);x&&(0,_.onUnexpectedExternalError)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${x.map(B=>B.toString?B.toString():""+B).join(" -> ")}`));const F=new k.DeferredPromise;return w.set(N,F.p),(()=>Le(this,void 0,void 0,function*(){if(!x){const B=C(N);for(const z of B){const j=yield T(z);if(j&&j.items.length>0)return}}try{return yield N.provideInlineCompletions(u,s,a,d)}catch(B){(0,_.onUnexpectedExternalError)(B);return}}))().then(B=>F.complete(B),B=>F.error(B)),F.p}const P=yield Promise.all(g.map(N=>Le(this,void 0,void 0,function*(){return{provider:N,completions:yield T(N)}}))),A=new Map,M=[];for(const N of P){const O=N.completions;if(!O)continue;const x=new t(O,N.provider);M.push(x);for(const F of O.items){const B=n.from(F,x,b,u,c);A.set(B.hash(),B)}}return new i(Array.from(A.values()),new Set(A.keys()),M)})}e.provideInlineCompletions=o;class i{constructor(s,u,a){this.completions=s,this.hashs=u,this.providerResults=a}has(s){return this.hashs.has(s.hash())}dispose(){for(const s of this.providerResults)s.removeRef()}}e.InlineCompletionProviderResult=i;class t{constructor(s,u){this.inlineCompletions=s,this.provider=u,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}e.InlineCompletionList=t;class n{static from(s,u,a,d,c){let b,g,p=s.range?m.Range.lift(s.range):a;if(typeof s.insertText=="string"){if(b=s.insertText,c&&s.completeBracketPairs){b=l(b,p.getStartPosition(),d,c);const C=b.length-s.insertText.length;C!==0&&(p=new m.Range(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn+C))}g=void 0}else if("snippet"in s.insertText){const C=s.insertText.snippet.length;if(c&&s.completeBracketPairs){s.insertText.snippet=l(s.insertText.snippet,p.getStartPosition(),d,c);const E=s.insertText.snippet.length-C;E!==0&&(p=new m.Range(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn+E))}const w=new v.SnippetParser().parse(s.insertText.snippet);w.children.length===1&&w.children[0]instanceof v.Text?(b=w.children[0].value,g=void 0):(b=w.toString(),g={snippet:s.insertText.snippet,range:p})}else(0,y.assertNever)(s.insertText);return new n(b,s.command,p,b,g,s.additionalTextEdits||(0,f.getReadonlyEmptyArray)(),s,u)}constructor(s,u,a,d,c,b,g,p){this.filterText=s,this.command=u,this.range=a,this.insertText=d,this.snippetInfo=c,this.additionalTextEdits=b,this.sourceInlineCompletion=g,this.source=p,s=s.replace(/\r\n|\r/g,`
`),d=s.replace(/\r\n|\r/g,`
`)}withRange(s){return new n(this.filterText,this.command,s,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}e.InlineCompletionItem=n;function r(h,s){const u=s.getWordAtPosition(h),a=s.getLineMaxColumn(h.lineNumber);return u?new m.Range(h.lineNumber,u.startColumn,h.lineNumber,a):m.Range.fromPositions(h,h.with(void 0,a))}function l(h,s,u,a){const c=u.getLineContent(s.lineNumber).substring(0,s.column-1)+h,b=u.tokenization.tokenizeLineWithEdit(s,c.length-(s.column-1),h),g=b?.sliceAndInflate(s.column-1,c.length,0);return g?(0,S.fixBracketsInLine)(g,a):h}}),define(J[595],ee([3,4]),function(G,e){return G.create("vs/editor/browser/controller/textAreaHandler",e)}),define(J[596],ee([3,4]),function(G,e){return G.create("vs/editor/browser/coreCommands",e)}),define(J[597],ee([3,4]),function(G,e){return G.create("vs/editor/browser/editorExtensions",e)}),define(J[598],ee([3,4]),function(G,e){return G.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(J[599],ee([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditor.contribution",e)}),define(J[600],ee([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(J[601],ee([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget2/accessibleDiffViewer",e)}),define(J[602],ee([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget2/colors",e)}),define(J[603],ee([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget2/decorations",e)}),define(J[604],ee([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget2/diffEditorEditors",e)}),define(J[605],ee([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget2/inlineDiffDeletedCodeMargin",e)}),define(J[606],ee([1,0,7,40,26,2,17,27,605]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffDeletedCodeMargin=void 0;class f extends D.Disposable{get visibility(){return this._visibility}set visibility(o){this._visibility!==o&&(this._visibility=o,this._diffActions.style.visibility=o?"visible":"hidden")}constructor(o,i,t,n,r,l,h,s,u){super(),this._getViewZoneId=o,this._marginDomNode=i,this._modifiedEditor=t,this._diff=n,this._editor=r,this._viewLineCounts=l,this._originalTextModel=h,this._contextMenuService=s,this._clipboardService=u,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=m.ThemeIcon.asClassName(L.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const a=this._modifiedEditor.getOption(65);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);let d=0;const c=t.getOption(125)&&!_.isIOS,b=(g,p)=>{var C;this._contextMenuService.showContextMenu({domForShadowRoot:c&&(C=t.getDomNode())!==null&&C!==void 0?C:void 0,getAnchor:()=>({x:g,y:p}),getActions:()=>{const w=[],E=n.modifiedRange.isEmpty;return w.push(new k.Action("diff.clipboard.copyDeletedContent",E?n.originalRange.length>1?(0,S.localize)(0,null):(0,S.localize)(1,null):n.originalRange.length>1?(0,S.localize)(2,null):(0,S.localize)(3,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const T=this._originalTextModel.getValueInRange(n.originalRange.toExclusiveRange());yield this._clipboardService.writeText(T)}))),n.originalRange.length>1&&w.push(new k.Action("diff.clipboard.copyDeletedLineContent",E?(0,S.localize)(4,null,n.originalRange.startLineNumber+d):(0,S.localize)(5,null,n.originalRange.startLineNumber+d),void 0,!0,()=>Le(this,void 0,void 0,function*(){let T=this._originalTextModel.getLineContent(n.originalRange.startLineNumber+d);T===""&&(T=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),yield this._clipboardService.writeText(T)}))),t.getOption(89)||w.push(new k.Action("diff.inline.revertChange",(0,S.localize)(6,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){this._editor.revert(this._diff)}))),w},autoSelectFirstItem:!0})};this._register((0,y.addStandardDisposableListener)(this._diffActions,"mousedown",g=>{const{top:p,height:C}=(0,y.getDomNodePagePosition)(this._diffActions),w=Math.floor(a/3);g.preventDefault(),b(g.posx,p+C+w)})),this._register(t.onMouseMove(g=>{(g.target.type===8||g.target.type===5)&&g.target.detail.viewZoneId===this._getViewZoneId()?(d=this._updateLightBulbPosition(this._marginDomNode,g.event.browserEvent.y,a),this.visibility=!0):this.visibility=!1})),this._register(t.onMouseDown(g=>{g.event.rightButton&&(g.target.type===8||g.target.type===5)&&g.target.detail.viewZoneId===this._getViewZoneId()&&(g.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,g.event.browserEvent.y,a),b(g.event.posx,g.event.posy+a))}))}_updateLightBulbPosition(o,i,t){const{top:n}=(0,y.getDomNodePagePosition)(o),r=i-n,l=Math.floor(r/t),h=l*t;if(this._diffActions.style.top=`${h}px`,this._viewLineCounts){let s=0;for(let u=0;u<this._viewLineCounts.length;u++)if(s+=this._viewLineCounts[u],l<s)return u}return l}}e.InlineDiffDeletedCodeMargin=f}),define(J[607],ee([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget2/unchangedRanges",e)}),define(J[608],ee([1,0,7,131,26,55,2,42,86,144,27,18,121,61,11,5,607]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRangesFeature=void 0;class h extends _.Disposable{get isUpdatingViewZones(){return this._isUpdatingViewZones}constructor(a,d,c){super(),this._editors=a,this._diffModel=d,this._options=c,this._isUpdatingViewZones=!1,this._register(this._editors.original.onDidChangeCursorPosition(w=>{if(w.reason===3){const E=this._diffModel.get();(0,m.transaction)(I=>{for(const T of this._editors.original.getSelections()||[])E?.ensureOriginalLineIsVisible(T.getStartPosition().lineNumber,I),E?.ensureOriginalLineIsVisible(T.getEndPosition().lineNumber,I)})}})),this._register(this._editors.modified.onDidChangeCursorPosition(w=>{if(w.reason===3){const E=this._diffModel.get();(0,m.transaction)(I=>{for(const T of this._editors.modified.getSelections()||[])E?.ensureModifiedLineIsVisible(T.getStartPosition().lineNumber,I),E?.ensureModifiedLineIsVisible(T.getEndPosition().lineNumber,I)})}}));const b=this._diffModel.map((w,E)=>{var I,T;return((I=w?.diff.read(E))===null||I===void 0?void 0:I.mappings.length)===0?[]:(T=w?.unchangedRegions.read(E))!==null&&T!==void 0?T:[]}),g=(0,f.derivedWithStore)("view zones",(w,E)=>{const I=[],T=[],P=this._options.renderSideBySide.read(w),A=b.read(w);for(const M of A)if(!M.shouldHideControls(w)){{const N=(0,f.derived)("hiddenOriginalRangeStart",x=>M.getHiddenOriginalRange(x).startLineNumber-1),O=new i.PlaceholderViewZone(N,24);I.push(O),E.add(new s(this._editors.original,O,M,!P))}{const N=(0,f.derived)("hiddenModifiedRangeStart",x=>M.getHiddenModifiedRange(x).startLineNumber-1),O=new i.PlaceholderViewZone(N,24);T.push(O),E.add(new s(this._editors.modified,O,M,!1))}}return{origViewZones:I,modViewZones:T}}),p={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},C={description:"Fold Unchanged",glyphMarginHoverMessage:new D.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,l.localize)(0,null)),glyphMarginClassName:"fold-unchanged "+v.ThemeIcon.asClassName(L.Codicon.fold),zIndex:10001};this._register((0,i.applyObservableDecorations)(this._editors.original,(0,f.derived)("decorations",w=>{const E=b.read(w),I=E.map(T=>({range:T.originalRange.toInclusiveRange(),options:p}));for(const T of E)T.shouldHideControls(w)&&I.push({range:r.Range.fromPositions(new n.Position(T.originalLineNumber,1)),options:C});return I}))),this._register((0,i.applyObservableDecorations)(this._editors.modified,(0,f.derived)("decorations",w=>{const E=b.read(w),I=E.map(T=>({range:T.modifiedRange.toInclusiveRange(),options:p}));for(const T of E)T.shouldHideControls(w)&&I.push({range:t.LineRange.ofLength(T.modifiedLineNumber,1).toInclusiveRange(),options:C});return I}))),this._register((0,i.applyViewZones)(this._editors.original,g.map(w=>w.origViewZones),w=>this._isUpdatingViewZones=w)),this._register((0,i.applyViewZones)(this._editors.modified,g.map(w=>w.modViewZones),w=>this._isUpdatingViewZones=w)),this._register((0,S.autorunWithStore2)("update folded unchanged regions",(w,E)=>{const I=b.read(w);this._editors.original.setHiddenAreas(I.map(T=>T.getHiddenOriginalRange(w).toInclusiveRange()).filter(o.isDefined)),this._editors.modified.setHiddenAreas(I.map(T=>T.getHiddenModifiedRange(w).toInclusiveRange()).filter(o.isDefined))})),this._register(this._editors.modified.onMouseUp(w=>{var E;if(!w.event.rightButton&&w.target.position&&(!((E=w.target.element)===null||E===void 0)&&E.className.includes("fold-unchanged"))){const I=w.target.position.lineNumber,T=this._diffModel.get();if(!T)return;const P=T.unchangedRegions.get().find(A=>A.modifiedRange.includes(I));if(!P)return;P.setState(0,0,void 0),w.event.stopPropagation(),w.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(w=>{var E;if(!w.event.rightButton&&w.target.position&&(!((E=w.target.element)===null||E===void 0)&&E.className.includes("fold-unchanged"))){const I=w.target.position.lineNumber,T=this._diffModel.get();if(!T)return;const P=T.unchangedRegions.get().find(A=>A.originalRange.includes(I));if(!P)return;P.setState(0,0,void 0),w.event.stopPropagation(),w.event.preventDefault()}}))}}e.UnchangedRangesFeature=h;class s extends i.ViewZoneOverlayWidget{constructor(a,d,c,b){const g=(0,y.h)("div.diff-hidden-lines-widget");super(a,d,g.root),this._editor=a,this._unchangedRegion=c,this.hide=b,this._nodes=(0,y.h)("div.diff-hidden-lines",[(0,y.h)("div.top@top",{title:"Click or drag to show more above"}),(0,y.h)("div.center@content",{style:{display:"flex"}},[(0,y.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},[(0,y.$)("a",{title:"Show all",role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,k.renderLabelWithIcons)("$(unfold)"))]),(0,y.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,y.h)("div.bottom@bottom",{title:"Click or drag to show more below",role:"button"})]),g.root.appendChild(this._nodes.root);const p=(0,m.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this.hide?(0,y.reset)(this._nodes.first):this._register((0,i.applyStyle)(this._nodes.first,{width:p.map(w=>w.contentLeft)}));const C=this._editor;this._register((0,y.addDisposableListener)(this._nodes.top,"mousedown",w=>{if(w.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),w.preventDefault();const E=w.clientY;let I=!1;const T=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set(!0,void 0);const P=(0,y.addDisposableListener)(window,"mousemove",M=>{const O=M.clientY-E;I=I||Math.abs(O)>2;const x=Math.round(O/C.getOption(65)),F=Math.max(0,Math.min(T+x,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(F,void 0)}),A=(0,y.addDisposableListener)(window,"mouseup",M=>{I||this._unchangedRegion.showMoreAbove(20,void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(!1,void 0),P.dispose(),A.dispose()})})),this._register((0,y.addDisposableListener)(this._nodes.bottom,"mousedown",w=>{if(w.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),w.preventDefault();const E=w.clientY;let I=!1;const T=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set(!0,void 0);const P=(0,y.addDisposableListener)(window,"mousemove",M=>{const O=M.clientY-E;I=I||Math.abs(O)>2;const x=Math.round(O/C.getOption(65)),F=Math.max(0,Math.min(T-x,this._unchangedRegion.getMaxVisibleLineCountBottom())),B=C.getTopForLineNumber(this._unchangedRegion.originalRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(F,void 0);const z=C.getTopForLineNumber(this._unchangedRegion.originalRange.endLineNumberExclusive);C.setScrollTop(C.getScrollTop()+(z-B))}),A=(0,y.addDisposableListener)(window,"mouseup",M=>{if(this._unchangedRegion.isDragged.set(!1,void 0),!I){const N=C.getTopForLineNumber(this._unchangedRegion.originalRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(20,void 0);const O=C.getTopForLineNumber(this._unchangedRegion.originalRange.endLineNumberExclusive);C.setScrollTop(C.getScrollTop()+(O-N))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),P.dispose(),A.dispose()})})),this._register((0,S.autorun)("update labels",w=>{const E=[];if(!this.hide){const T=`${c.getHiddenModifiedRange(w).length} Hidden Lines`;E.push((0,y.$)("span",{title:T},T))}(0,y.reset)(this._nodes.others,...E)}))}}}),define(J[609],ee([3,4]),function(G,e){return G.create("vs/editor/browser/widget/diffReview",e)}),define(J[610],ee([3,4]),function(G,e){return G.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(J[611],ee([1,0,610,7,40,2,5,26,27,17]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class v extends D.Disposable{get visibility(){return this._visibility}set visibility(i){this._visibility!==i&&(this._visibility=i,i?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}constructor(i,t,n,r,l,h){super(),this._viewZoneId=i,this._marginDomNode=t,this.editor=n,this.diff=r,this._contextMenuService=l,this._clipboardService=h,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=S.ThemeIcon.asClassName(m.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const s=n.getOption(65),u=n.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${s}px`,this._diffActions.style.lineHeight=`${s}px`,this._marginDomNode.appendChild(this._diffActions);const a=[],d=r.modifiedEndLineNumber===0;a.push(new L.Action("diff.clipboard.copyDeletedContent",d?r.originalEndLineNumber>r.modifiedStartLineNumber?y.localize(0,null):y.localize(1,null):r.originalEndLineNumber>r.modifiedStartLineNumber?y.localize(2,null):y.localize(3,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const w=new _.Range(r.originalStartLineNumber,1,r.originalEndLineNumber+1,1),E=r.originalModel.getValueInRange(w);yield this._clipboardService.writeText(E)})));let c=0,b;r.originalEndLineNumber>r.modifiedStartLineNumber&&(b=new L.Action("diff.clipboard.copyDeletedLineContent",d?y.localize(4,null,r.originalStartLineNumber):y.localize(5,null,r.originalStartLineNumber),void 0,!0,()=>Le(this,void 0,void 0,function*(){const w=r.originalModel.getLineContent(r.originalStartLineNumber+c);if(w===""){const E=r.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(E===0?`
`:`\r
`)}else yield this._clipboardService.writeText(w)})),a.push(b)),n.getOption(89)||a.push(new L.Action("diff.inline.revertChange",y.localize(6,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const w=new _.Range(r.originalStartLineNumber,1,r.originalEndLineNumber,r.originalModel.getLineMaxColumn(r.originalEndLineNumber)),E=r.originalModel.getValueInRange(w);if(r.modifiedEndLineNumber===0){const I=n.getModel().getLineMaxColumn(r.modifiedStartLineNumber);n.executeEdits("diffEditor",[{range:new _.Range(r.modifiedStartLineNumber,I,r.modifiedStartLineNumber,I),text:u+E}])}else{const I=n.getModel().getLineMaxColumn(r.modifiedEndLineNumber);n.executeEdits("diffEditor",[{range:new _.Range(r.modifiedStartLineNumber,1,r.modifiedEndLineNumber,I),text:E}])}})));const p=n.getOption(125)&&!f.isIOS,C=(w,E)=>{var I;this._contextMenuService.showContextMenu({domForShadowRoot:p&&(I=n.getDomNode())!==null&&I!==void 0?I:void 0,getAnchor:()=>({x:w,y:E}),getActions:()=>(b&&(b.label=d?y.localize(7,null,r.originalStartLineNumber+c):y.localize(8,null,r.originalStartLineNumber+c)),a),autoSelectFirstItem:!0})};this._register(k.addStandardDisposableListener(this._diffActions,"mousedown",w=>{const{top:E,height:I}=k.getDomNodePagePosition(this._diffActions),T=Math.floor(s/3);w.preventDefault(),C(w.posx,E+I+T)})),this._register(n.onMouseMove(w=>{w.target.type===8||w.target.type===5?w.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,c=this._updateLightBulbPosition(this._marginDomNode,w.event.browserEvent.y,s)):this.visibility=!1:this.visibility=!1})),this._register(n.onMouseDown(w=>{w.event.rightButton&&(w.target.type===8||w.target.type===5)&&w.target.detail.viewZoneId===this._viewZoneId&&(w.event.preventDefault(),c=this._updateLightBulbPosition(this._marginDomNode,w.event.browserEvent.y,s),C(w.event.posx,w.event.posy+s))}))}_updateLightBulbPosition(i,t,n){const{top:r}=k.getDomNodePagePosition(i),l=t-r,h=Math.floor(l/n),s=h*n;if(this._diffActions.style.top=`${s}px`,this.diff.viewLineCounts){let u=0;for(let a=0;a<this.diff.viewLineCounts.length;a++)if(u+=this.diff.viewLineCounts[a],h<u)return a}return h}}e.InlineDiffMargin=v}),define(J[612],ee([3,4]),function(G,e){return G.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(J[613],ee([3,4]),function(G,e){return G.create("vs/editor/common/config/editorOptions",e)}),define(J[36],ee([1,0,15,46,17,177,149,613]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontVariations=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedFloat=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class S{constructor(he){this._values=he}hasChanged(he){return this._values[he]}}e.ConfigurationChangedEvent=S;class f{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=f;class v{constructor(he,Ce,pe,_e){this.id=he,this.name=Ce,this.defaultValue=pe,this.schema=_e}applyUpdate(he,Ce){return i(he,Ce)}compute(he,Ce,pe){return pe}}class o{constructor(he,Ce){this.newValue=he,this.didChange=Ce}}e.ApplyUpdateResult=o;function i(Se,he){if(typeof Se!="object"||typeof he!="object"||!Se||!he)return new o(he,Se!==he);if(Array.isArray(Se)||Array.isArray(he)){const pe=Array.isArray(Se)&&Array.isArray(he)&&y.equals(Se,he);return new o(he,!pe)}let Ce=!1;for(const pe in he)if(he.hasOwnProperty(pe)){const _e=i(Se[pe],he[pe]);_e.didChange&&(Se[pe]=_e.newValue,Ce=!0)}return new o(Se,Ce)}class t{constructor(he){this.schema=void 0,this.id=he,this.name="_never_",this.defaultValue=void 0}applyUpdate(he,Ce){return i(he,Ce)}validate(he){return this.defaultValue}}class n{constructor(he,Ce,pe,_e){this.id=he,this.name=Ce,this.defaultValue=pe,this.schema=_e}applyUpdate(he,Ce){return i(he,Ce)}validate(he){return typeof he>"u"?this.defaultValue:he}compute(he,Ce,pe){return pe}}function r(Se,he){return typeof Se>"u"?he:Se==="false"?!1:!!Se}e.boolean=r;class l extends n{constructor(he,Ce,pe,_e=void 0){typeof _e<"u"&&(_e.type="boolean",_e.default=pe),super(he,Ce,pe,_e)}validate(he){return r(he,this.defaultValue)}}function h(Se,he,Ce,pe){if(typeof Se>"u")return he;let _e=parseInt(Se,10);return isNaN(_e)?he:(_e=Math.max(Ce,_e),_e=Math.min(pe,_e),_e|0)}e.clampedInt=h;class s extends n{static clampedInt(he,Ce,pe,_e){return h(he,Ce,pe,_e)}constructor(he,Ce,pe,_e,ke,Re=void 0){typeof Re<"u"&&(Re.type="integer",Re.default=pe,Re.minimum=_e,Re.maximum=ke),super(he,Ce,pe,Re),this.minimum=_e,this.maximum=ke}validate(he){return s.clampedInt(he,this.defaultValue,this.minimum,this.maximum)}}function u(Se,he,Ce,pe){if(typeof Se>"u")return he;const _e=a.float(Se,he);return a.clamp(_e,Ce,pe)}e.clampedFloat=u;class a extends n{static clamp(he,Ce,pe){return he<Ce?Ce:he>pe?pe:he}static float(he,Ce){if(typeof he=="number")return he;if(typeof he>"u")return Ce;const pe=parseFloat(he);return isNaN(pe)?Ce:pe}constructor(he,Ce,pe,_e,ke){typeof ke<"u"&&(ke.type="number",ke.default=pe),super(he,Ce,pe,ke),this.validationFn=_e}validate(he){return this.validationFn(a.float(he,this.defaultValue))}}class d extends n{static string(he,Ce){return typeof he!="string"?Ce:he}constructor(he,Ce,pe,_e=void 0){typeof _e<"u"&&(_e.type="string",_e.default=pe),super(he,Ce,pe,_e)}validate(he){return d.string(he,this.defaultValue)}}function c(Se,he,Ce,pe){return typeof Se!="string"?he:pe&&Se in pe?pe[Se]:Ce.indexOf(Se)===-1?he:Se}e.stringSet=c;class b extends n{constructor(he,Ce,pe,_e,ke=void 0){typeof ke<"u"&&(ke.type="string",ke.enum=_e,ke.default=pe),super(he,Ce,pe,ke),this._allowedValues=_e}validate(he){return c(he,this.defaultValue,this._allowedValues)}}class g extends v{constructor(he,Ce,pe,_e,ke,Re,Pe=void 0){typeof Pe<"u"&&(Pe.type="string",Pe.enum=ke,Pe.default=_e),super(he,Ce,pe,Pe),this._allowedValues=ke,this._convert=Re}validate(he){return typeof he!="string"?this.defaultValue:this._allowedValues.indexOf(he)===-1?this.defaultValue:this._convert(he)}}function p(Se){switch(Se){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class C extends v{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[m.localize(0,null),m.localize(1,null),m.localize(2,null)],default:"auto",tags:["accessibility"],description:m.localize(3,null)})}validate(he){switch(he){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(he,Ce,pe){return pe===0?he.accessibilitySupport:pe}}class w extends v{constructor(){const he={insertSpace:!0,ignoreEmptyLines:!0};super(22,"comments",he,{"editor.comments.insertSpace":{type:"boolean",default:he.insertSpace,description:m.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:he.ignoreEmptyLines,description:m.localize(5,null)}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{insertSpace:r(Ce.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:r(Ce.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function E(Se){switch(Se){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var I;(function(Se){Se[Se.Line=1]="Line",Se[Se.Block=2]="Block",Se[Se.Underline=3]="Underline",Se[Se.LineThin=4]="LineThin",Se[Se.BlockOutline=5]="BlockOutline",Se[Se.UnderlineThin=6]="UnderlineThin"})(I||(e.TextEditorCursorStyle=I={}));function T(Se){switch(Se){case"line":return I.Line;case"block":return I.Block;case"underline":return I.Underline;case"line-thin":return I.LineThin;case"block-outline":return I.BlockOutline;case"underline-thin":return I.UnderlineThin}}class P extends t{constructor(){super(139)}compute(he,Ce,pe){const _e=["monaco-editor"];return Ce.get(38)&&_e.push(Ce.get(38)),he.extraEditorClassName&&_e.push(he.extraEditorClassName),Ce.get(72)==="default"?_e.push("mouse-default"):Ce.get(72)==="copy"&&_e.push("mouse-copy"),Ce.get(109)&&_e.push("showUnused"),Ce.get(137)&&_e.push("showDeprecated"),_e.join(" ")}}class A extends l{constructor(){super(36,"emptySelectionClipboard",!0,{description:m.localize(6,null)})}compute(he,Ce,pe){return pe&&he.emptySelectionClipboard}}class M extends v{constructor(){const he={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(40,"find",he,{"editor.find.cursorMoveOnType":{type:"boolean",default:he.cursorMoveOnType,description:m.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:he.seedSearchStringFromSelection,enumDescriptions:[m.localize(8,null),m.localize(9,null),m.localize(10,null)],description:m.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:he.autoFindInSelection,enumDescriptions:[m.localize(12,null),m.localize(13,null),m.localize(14,null)],description:m.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:he.globalFindClipboard,description:m.localize(16,null),included:L.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:he.addExtraSpaceOnTop,description:m.localize(17,null)},"editor.find.loop":{type:"boolean",default:he.loop,description:m.localize(18,null)}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{cursorMoveOnType:r(Ce.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof he.seedSearchStringFromSelection=="boolean"?he.seedSearchStringFromSelection?"always":"never":c(Ce.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof he.autoFindInSelection=="boolean"?he.autoFindInSelection?"always":"never":c(Ce.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:r(Ce.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:r(Ce.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:r(Ce.loop,this.defaultValue.loop)}}}class N extends v{constructor(){super(50,"fontLigatures",N.OFF,{anyOf:[{type:"boolean",description:m.localize(19,null)},{type:"string",description:m.localize(20,null)}],description:m.localize(21,null),default:!1})}validate(he){return typeof he>"u"?this.defaultValue:typeof he=="string"?he==="false"?N.OFF:he==="true"?N.ON:he:he?N.ON:N.OFF}}e.EditorFontLigatures=N,N.OFF='"liga" off, "calt" off',N.ON='"liga" on, "calt" on';class O extends v{constructor(){super(53,"fontVariations",O.OFF,{anyOf:[{type:"boolean",description:m.localize(22,null)},{type:"string",description:m.localize(23,null)}],description:m.localize(24,null),default:!1})}validate(he){return typeof he>"u"?this.defaultValue:typeof he=="string"?he==="false"?O.OFF:he==="true"?O.TRANSLATE:he:he?O.TRANSLATE:O.OFF}compute(he,Ce,pe){return he.fontInfo.fontVariationSettings}}e.EditorFontVariations=O,O.OFF="normal",O.TRANSLATE="translate";class x extends t{constructor(){super(49)}compute(he,Ce,pe){return he.fontInfo}}class F extends n{constructor(){super(51,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:m.localize(25,null)})}validate(he){const Ce=a.float(he,this.defaultValue);return Ce===0?e.EDITOR_FONT_DEFAULTS.fontSize:a.clamp(Ce,6,100)}compute(he,Ce,pe){return he.fontInfo.fontSize}}class B extends v{constructor(){super(52,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:B.MINIMUM_VALUE,maximum:B.MAXIMUM_VALUE,errorMessage:m.localize(26,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:B.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:m.localize(27,null)})}validate(he){return he==="normal"||he==="bold"?he:String(s.clampedInt(he,e.EDITOR_FONT_DEFAULTS.fontWeight,B.MINIMUM_VALUE,B.MAXIMUM_VALUE))}}B.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],B.MINIMUM_VALUE=1,B.MAXIMUM_VALUE=1e3;class z extends v{constructor(){const he={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Ce={type:"string",enum:["peek","gotoAndPeek","goto"],default:he.multiple,enumDescriptions:[m.localize(28,null),m.localize(29,null),m.localize(30,null)]},pe=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(57,"gotoLocation",he,{"editor.gotoLocation.multiple":{deprecationMessage:m.localize(31,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:m.localize(32,null)},Ce),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:m.localize(33,null)},Ce),"editor.gotoLocation.multipleDeclarations":Object.assign({description:m.localize(34,null)},Ce),"editor.gotoLocation.multipleImplementations":Object.assign({description:m.localize(35,null)},Ce),"editor.gotoLocation.multipleReferences":Object.assign({description:m.localize(36,null)},Ce),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:he.alternativeDefinitionCommand,enum:pe,description:m.localize(37,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:he.alternativeTypeDefinitionCommand,enum:pe,description:m.localize(38,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:he.alternativeDeclarationCommand,enum:pe,description:m.localize(39,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:he.alternativeImplementationCommand,enum:pe,description:m.localize(40,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:he.alternativeReferenceCommand,enum:pe,description:m.localize(41,null)}})}validate(he){var Ce,pe,_e,ke,Re;if(!he||typeof he!="object")return this.defaultValue;const Pe=he;return{multiple:c(Pe.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(Ce=Pe.multipleDefinitions)!==null&&Ce!==void 0?Ce:c(Pe.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(pe=Pe.multipleTypeDefinitions)!==null&&pe!==void 0?pe:c(Pe.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(_e=Pe.multipleDeclarations)!==null&&_e!==void 0?_e:c(Pe.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(ke=Pe.multipleImplementations)!==null&&ke!==void 0?ke:c(Pe.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Re=Pe.multipleReferences)!==null&&Re!==void 0?Re:c(Pe.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:d.string(Pe.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:d.string(Pe.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:d.string(Pe.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:d.string(Pe.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:d.string(Pe.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class j extends v{constructor(){const he={enabled:!0,delay:300,sticky:!0,above:!0};super(59,"hover",he,{"editor.hover.enabled":{type:"boolean",default:he.enabled,description:m.localize(42,null)},"editor.hover.delay":{type:"number",default:he.delay,minimum:0,maximum:1e4,description:m.localize(43,null)},"editor.hover.sticky":{type:"boolean",default:he.sticky,description:m.localize(44,null)},"editor.hover.above":{type:"boolean",default:he.above,description:m.localize(45,null)}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{enabled:r(Ce.enabled,this.defaultValue.enabled),delay:s.clampedInt(Ce.delay,this.defaultValue.delay,0,1e4),sticky:r(Ce.sticky,this.defaultValue.sticky),above:r(Ce.above,this.defaultValue.above)}}}class R extends t{constructor(){super(142)}compute(he,Ce,pe){return R.computeLayout(Ce,{memory:he.memory,outerWidth:he.outerWidth,outerHeight:he.outerHeight,isDominatedByLongLines:he.isDominatedByLongLines,lineHeight:he.fontInfo.lineHeight,viewLineCount:he.viewLineCount,lineNumbersDigitCount:he.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:he.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:he.fontInfo.maxDigitWidth,pixelRatio:he.pixelRatio,glyphMarginDecorationLaneCount:he.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(he){const Ce=he.height/he.lineHeight,pe=Math.floor(he.paddingTop/he.lineHeight);let _e=Math.floor(he.paddingBottom/he.lineHeight);he.scrollBeyondLastLine&&(_e=Math.max(_e,Ce-1));const ke=(pe+he.viewLineCount+_e)/(he.pixelRatio*he.height),Re=Math.floor(he.viewLineCount/ke);return{typicalViewportLineCount:Ce,extraLinesBeforeFirstLine:pe,extraLinesBeyondLastLine:_e,desiredRatio:ke,minimapLineCount:Re}}static _computeMinimapLayout(he,Ce){const pe=he.outerWidth,_e=he.outerHeight,ke=he.pixelRatio;if(!he.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ke*_e),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:_e};const Re=Ce.stableMinimapLayoutInput,Pe=Re&&he.outerHeight===Re.outerHeight&&he.lineHeight===Re.lineHeight&&he.typicalHalfwidthCharacterWidth===Re.typicalHalfwidthCharacterWidth&&he.pixelRatio===Re.pixelRatio&&he.scrollBeyondLastLine===Re.scrollBeyondLastLine&&he.paddingTop===Re.paddingTop&&he.paddingBottom===Re.paddingBottom&&he.minimap.enabled===Re.minimap.enabled&&he.minimap.side===Re.minimap.side&&he.minimap.size===Re.minimap.size&&he.minimap.showSlider===Re.minimap.showSlider&&he.minimap.renderCharacters===Re.minimap.renderCharacters&&he.minimap.maxColumn===Re.minimap.maxColumn&&he.minimap.scale===Re.minimap.scale&&he.verticalScrollbarWidth===Re.verticalScrollbarWidth&&he.isViewportWrapping===Re.isViewportWrapping,Fe=he.lineHeight,We=he.typicalHalfwidthCharacterWidth,xe=he.scrollBeyondLastLine,Ke=he.minimap.renderCharacters;let je=ke>=2?Math.round(he.minimap.scale*2):he.minimap.scale;const Je=he.minimap.maxColumn,ze=he.minimap.size,Me=he.minimap.side,Be=he.verticalScrollbarWidth,He=he.viewLineCount,Ze=he.remainingWidth,Qe=he.isViewportWrapping,et=Ke?2:3;let qe=Math.floor(ke*_e);const rt=qe/ke;let st=!1,ut=!1,ht=et*je,Ye=je/ke,lt=1;if(ze==="fill"||ze==="fit"){const{typicalViewportLineCount:Ge,extraLinesBeforeFirstLine:tt,extraLinesBeyondLastLine:it,desiredRatio:dt,minimapLineCount:nt}=R.computeContainedMinimapLineCount({viewLineCount:He,scrollBeyondLastLine:xe,paddingTop:he.paddingTop,paddingBottom:he.paddingBottom,height:_e,lineHeight:Fe,pixelRatio:ke});if(He/nt>1)st=!0,ut=!0,je=1,ht=1,Ye=je/ke;else{let ct=!1,pt=je+1;if(ze==="fit"){const St=Math.ceil((tt+He+it)*ht);Qe&&Pe&&Ze<=Ce.stableFitRemainingWidth?(ct=!0,pt=Ce.stableFitMaxMinimapScale):ct=St>qe}if(ze==="fill"||ct){st=!0;const St=je;ht=Math.min(Fe*ke,Math.max(1,Math.floor(1/dt))),Qe&&Pe&&Ze<=Ce.stableFitRemainingWidth&&(pt=Ce.stableFitMaxMinimapScale),je=Math.min(pt,Math.max(1,Math.floor(ht/et))),je>St&&(lt=Math.min(2,je/St)),Ye=je/ke/lt,qe=Math.ceil(Math.max(Ge,tt+He+it)*ht),Qe?(Ce.stableMinimapLayoutInput=he,Ce.stableFitRemainingWidth=Ze,Ce.stableFitMaxMinimapScale=je):(Ce.stableMinimapLayoutInput=null,Ce.stableFitRemainingWidth=0)}}}const Ct=Math.floor(Je*Ye),ot=Math.min(Ct,Math.max(0,Math.floor((Ze-Be-2)*Ye/(We+Ye)))+e.MINIMAP_GUTTER_WIDTH);let $e=Math.floor(ke*ot);const Oe=$e/ke;$e=Math.floor($e*lt);const Ve=Ke?1:2,Ue=Me==="left"?0:pe-ot-Be;return{renderMinimap:Ve,minimapLeft:Ue,minimapWidth:ot,minimapHeightIsEditorHeight:st,minimapIsSampling:ut,minimapScale:je,minimapLineHeight:ht,minimapCanvasInnerWidth:$e,minimapCanvasInnerHeight:qe,minimapCanvasOuterWidth:Oe,minimapCanvasOuterHeight:rt}}static computeLayout(he,Ce){const pe=Ce.outerWidth|0,_e=Ce.outerHeight|0,ke=Ce.lineHeight|0,Re=Ce.lineNumbersDigitCount|0,Pe=Ce.typicalHalfwidthCharacterWidth,Fe=Ce.maxDigitWidth,We=Ce.pixelRatio,xe=Ce.viewLineCount,Ke=he.get(134),je=Ke==="inherit"?he.get(133):Ke,Je=je==="inherit"?he.get(129):je,ze=he.get(132),Me=Ce.isDominatedByLongLines,Be=he.get(56),He=he.get(66).renderType!==0,Ze=he.get(67),Qe=he.get(103),et=he.get(82),qe=he.get(71),rt=he.get(101),st=rt.verticalScrollbarSize,ut=rt.verticalHasArrows,ht=rt.arrowSize,Ye=rt.horizontalScrollbarSize,lt=he.get(42),Ct=he.get(108)!=="never";let ot=he.get(64);lt&&Ct&&(ot+=16);let $e=0;if(He){const wt=Math.max(Re,Ze);$e=Math.round(wt*Fe)}let Oe=0;Be&&(Oe=ke*Ce.glyphMarginDecorationLaneCount);let Ve=0,Ue=Ve+Oe,Ge=Ue+$e,tt=Ge+ot;const it=pe-Oe-$e-ot;let dt=!1,nt=!1,at=-1;je==="inherit"&&Me?(dt=!0,nt=!0):Je==="on"||Je==="bounded"?nt=!0:Je==="wordWrapColumn"&&(at=ze);const ct=R._computeMinimapLayout({outerWidth:pe,outerHeight:_e,lineHeight:ke,typicalHalfwidthCharacterWidth:Pe,pixelRatio:We,scrollBeyondLastLine:Qe,paddingTop:et.top,paddingBottom:et.bottom,minimap:qe,verticalScrollbarWidth:st,viewLineCount:xe,remainingWidth:it,isViewportWrapping:nt},Ce.memory||new f);ct.renderMinimap!==0&&ct.minimapLeft===0&&(Ve+=ct.minimapWidth,Ue+=ct.minimapWidth,Ge+=ct.minimapWidth,tt+=ct.minimapWidth);const pt=it-ct.minimapWidth,St=Math.max(1,Math.floor((pt-st-2)/Pe)),mt=ut?ht:0;return nt&&(at=Math.max(1,St),Je==="bounded"&&(at=Math.min(at,ze))),{width:pe,height:_e,glyphMarginLeft:Ve,glyphMarginWidth:Oe,glyphMarginDecorationLaneCount:Ce.glyphMarginDecorationLaneCount,lineNumbersLeft:Ue,lineNumbersWidth:$e,decorationsLeft:Ge,decorationsWidth:ot,contentLeft:tt,contentWidth:pt,minimap:ct,viewportColumn:St,isWordWrapMinified:dt,isViewportWrapping:nt,wrappingColumn:at,verticalScrollbarWidth:st,horizontalScrollbarHeight:Ye,overviewRuler:{top:mt,width:st,height:_e-2*mt,right:0}}}}e.EditorLayoutInfoComputer=R;class Z extends v{constructor(){super(136,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[m.localize(46,null),m.localize(47,null)],type:"string",enum:["simple","advanced"],default:"simple",description:m.localize(48,null)}})}validate(he){return c(he,"simple",["simple","advanced"])}compute(he,Ce,pe){return Ce.get(2)===2?"advanced":pe}}class se extends v{constructor(){const he={enabled:!0};super(63,"lightbulb",he,{"editor.lightbulb.enabled":{type:"boolean",default:he.enabled,description:m.localize(49,null)}})}validate(he){return!he||typeof he!="object"?this.defaultValue:{enabled:r(he.enabled,this.defaultValue.enabled)}}}class le extends v{constructor(){const he={enabled:!1,maxLineCount:5,defaultModel:"outlineModel"};super(113,"stickyScroll",he,{"editor.stickyScroll.enabled":{type:"boolean",default:he.enabled,description:m.localize(50,null)},"editor.stickyScroll.maxLineCount":{type:"number",default:he.maxLineCount,minimum:1,maximum:10,description:m.localize(51,null)},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:he.defaultModel,description:m.localize(52,null)}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{enabled:r(Ce.enabled,this.defaultValue.enabled),maxLineCount:s.clampedInt(Ce.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:c(Ce.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"])}}}class te extends v{constructor(){const he={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(138,"inlayHints",he,{"editor.inlayHints.enabled":{type:"string",default:he.enabled,description:m.localize(53,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[m.localize(54,null),m.localize(55,null,L.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),m.localize(56,null,L.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),m.localize(57,null)]},"editor.inlayHints.fontSize":{type:"number",default:he.fontSize,markdownDescription:m.localize(58,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:he.fontFamily,markdownDescription:m.localize(59,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:he.padding,description:m.localize(60,null)}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return typeof Ce.enabled=="boolean"&&(Ce.enabled=Ce.enabled?"on":"off"),{enabled:c(Ce.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:s.clampedInt(Ce.fontSize,this.defaultValue.fontSize,0,100),fontFamily:d.string(Ce.fontFamily,this.defaultValue.fontFamily),padding:r(Ce.padding,this.defaultValue.padding)}}}class Y extends v{constructor(){super(64,"lineDecorationsWidth",10)}validate(he){return typeof he=="string"&&/^\d+(\.\d+)?ch$/.test(he)?-parseFloat(he.substring(0,he.length-2)):s.clampedInt(he,this.defaultValue,0,1e3)}compute(he,Ce,pe){return pe<0?s.clampedInt(-pe*he.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):pe}}class U extends a{constructor(){super(65,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,he=>a.clamp(he,0,150),{markdownDescription:m.localize(61,null)})}compute(he,Ce,pe){return he.fontInfo.lineHeight}}class V extends v{constructor(){const he={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(71,"minimap",he,{"editor.minimap.enabled":{type:"boolean",default:he.enabled,description:m.localize(62,null)},"editor.minimap.autohide":{type:"boolean",default:he.autohide,description:m.localize(63,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[m.localize(64,null),m.localize(65,null),m.localize(66,null)],default:he.size,description:m.localize(67,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:he.side,description:m.localize(68,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:he.showSlider,description:m.localize(69,null)},"editor.minimap.scale":{type:"number",default:he.scale,minimum:1,maximum:3,enum:[1,2,3],description:m.localize(70,null)},"editor.minimap.renderCharacters":{type:"boolean",default:he.renderCharacters,description:m.localize(71,null)},"editor.minimap.maxColumn":{type:"number",default:he.maxColumn,description:m.localize(72,null)}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{enabled:r(Ce.enabled,this.defaultValue.enabled),autohide:r(Ce.autohide,this.defaultValue.autohide),size:c(Ce.size,this.defaultValue.size,["proportional","fill","fit"]),side:c(Ce.side,this.defaultValue.side,["right","left"]),showSlider:c(Ce.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:r(Ce.renderCharacters,this.defaultValue.renderCharacters),scale:s.clampedInt(Ce.scale,1,1,3),maxColumn:s.clampedInt(Ce.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function H(Se){return Se==="ctrlCmd"?L.isMacintosh?"metaKey":"ctrlKey":"altKey"}class $ extends v{constructor(){super(82,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:m.localize(73,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:m.localize(74,null)}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{top:s.clampedInt(Ce.top,0,0,1e3),bottom:s.clampedInt(Ce.bottom,0,0,1e3)}}}class X extends v{constructor(){const he={enabled:!0,cycle:!0};super(84,"parameterHints",he,{"editor.parameterHints.enabled":{type:"boolean",default:he.enabled,description:m.localize(75,null)},"editor.parameterHints.cycle":{type:"boolean",default:he.cycle,description:m.localize(76,null)}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{enabled:r(Ce.enabled,this.defaultValue.enabled),cycle:r(Ce.cycle,this.defaultValue.cycle)}}}class Q extends t{constructor(){super(140)}compute(he,Ce,pe){return he.pixelRatio}}class de extends v{constructor(){const he={other:"on",comments:"off",strings:"off"},Ce=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[m.localize(77,null),m.localize(78,null),m.localize(79,null)]}];super(87,"quickSuggestions",he,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:Ce,default:he.strings,description:m.localize(80,null)},comments:{anyOf:Ce,default:he.comments,description:m.localize(81,null)},other:{anyOf:Ce,default:he.other,description:m.localize(82,null)}},default:he,markdownDescription:m.localize(83,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=he}validate(he){if(typeof he=="boolean"){const We=he?"on":"off";return{comments:We,strings:We,other:We}}if(!he||typeof he!="object")return this.defaultValue;const{other:Ce,comments:pe,strings:_e}=he,ke=["on","inline","off"];let Re,Pe,Fe;return typeof Ce=="boolean"?Re=Ce?"on":"off":Re=c(Ce,this.defaultValue.other,ke),typeof pe=="boolean"?Pe=pe?"on":"off":Pe=c(pe,this.defaultValue.comments,ke),typeof _e=="boolean"?Fe=_e?"on":"off":Fe=c(_e,this.defaultValue.strings,ke),{other:Re,comments:Pe,strings:Fe}}}class ce extends v{constructor(){super(66,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[m.localize(84,null),m.localize(85,null),m.localize(86,null),m.localize(87,null)],default:"on",description:m.localize(88,null)})}validate(he){let Ce=this.defaultValue.renderType,pe=this.defaultValue.renderFn;return typeof he<"u"&&(typeof he=="function"?(Ce=4,pe=he):he==="interval"?Ce=3:he==="relative"?Ce=2:he==="on"?Ce=1:Ce=0),{renderType:Ce,renderFn:pe}}}function ae(Se){const he=Se.get(96);return he==="editable"?Se.get(89):he!=="on"}e.filterValidationDecorations=ae;class ue extends v{constructor(){const he=[],Ce={type:"number",description:m.localize(89,null)};super(100,"rulers",he,{type:"array",items:{anyOf:[Ce,{type:["object"],properties:{column:Ce,color:{type:"string",description:m.localize(90,null),format:"color-hex"}}}]},default:he,description:m.localize(91,null)})}validate(he){if(Array.isArray(he)){const Ce=[];for(const pe of he)if(typeof pe=="number")Ce.push({column:s.clampedInt(pe,0,0,1e4),color:null});else if(pe&&typeof pe=="object"){const _e=pe;Ce.push({column:s.clampedInt(_e.column,0,0,1e4),color:_e.color})}return Ce.sort((pe,_e)=>pe.column-_e.column),Ce}return this.defaultValue}}class q extends v{constructor(){super(90,"readOnlyMessage",void 0)}validate(he){return!he||typeof he!="object"?this.defaultValue:he}}function W(Se,he){if(typeof Se!="string")return he;switch(Se){case"hidden":return 2;case"visible":return 3;default:return 1}}class K extends v{constructor(){const he={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(101,"scrollbar",he,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.localize(92,null),m.localize(93,null),m.localize(94,null)],default:"auto",description:m.localize(95,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[m.localize(96,null),m.localize(97,null),m.localize(98,null)],default:"auto",description:m.localize(99,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:he.verticalScrollbarSize,description:m.localize(100,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:he.horizontalScrollbarSize,description:m.localize(101,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:he.scrollByPage,description:m.localize(102,null)}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he,pe=s.clampedInt(Ce.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),_e=s.clampedInt(Ce.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:s.clampedInt(Ce.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:W(Ce.vertical,this.defaultValue.vertical),horizontal:W(Ce.horizontal,this.defaultValue.horizontal),useShadows:r(Ce.useShadows,this.defaultValue.useShadows),verticalHasArrows:r(Ce.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:r(Ce.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:r(Ce.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:r(Ce.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:pe,horizontalSliderSize:s.clampedInt(Ce.horizontalSliderSize,pe,0,1e3),verticalScrollbarSize:_e,verticalSliderSize:s.clampedInt(Ce.verticalSliderSize,_e,0,1e3),scrollByPage:r(Ce.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class ie extends v{constructor(){const he={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(123,"unicodeHighlight",he,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:he.nonBasicASCII,description:m.localize(103,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:he.invisibleCharacters,description:m.localize(104,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:he.ambiguousCharacters,description:m.localize(105,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:he.includeComments,description:m.localize(106,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:he.includeStrings,description:m.localize(107,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:he.allowedCharacters,description:m.localize(108,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:he.allowedLocales,description:m.localize(109,null)}})}applyUpdate(he,Ce){let pe=!1;Ce.allowedCharacters&&he&&(k.equals(he.allowedCharacters,Ce.allowedCharacters)||(he=Object.assign(Object.assign({},he),{allowedCharacters:Ce.allowedCharacters}),pe=!0)),Ce.allowedLocales&&he&&(k.equals(he.allowedLocales,Ce.allowedLocales)||(he=Object.assign(Object.assign({},he),{allowedLocales:Ce.allowedLocales}),pe=!0));const _e=super.applyUpdate(he,Ce);return pe?new o(_e.newValue,!0):_e}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{nonBasicASCII:ge(Ce.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:r(Ce.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:r(Ce.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:ge(Ce.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:ge(Ce.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(he.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(he.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(he,Ce){if(typeof he!="object"||!he)return Ce;const pe={};for(const[_e,ke]of Object.entries(he))ke===!0&&(pe[_e]=!0);return pe}}class ne extends v{constructor(){const he={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(61,"inlineSuggest",he,{"editor.inlineSuggest.enabled":{type:"boolean",default:he.enabled,description:m.localize(110,null)},"editor.inlineSuggest.showToolbar":{type:"string",default:he.showToolbar,enum:["always","onHover"],enumDescriptions:[m.localize(111,null),m.localize(112,null)],description:m.localize(113,null)},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:he.suppressSuggestions,description:m.localize(114,null)}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{enabled:r(Ce.enabled,this.defaultValue.enabled),mode:c(Ce.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:c(Ce.showToolbar,this.defaultValue.showToolbar,["always","onHover"]),suppressSuggestions:r(Ce.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:r(Ce.keepOnBlur,this.defaultValue.keepOnBlur)}}}class oe extends v{constructor(){const he={enabled:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(14,"bracketPairColorization",he,{"editor.bracketPairColorization.enabled":{type:"boolean",default:he.enabled,markdownDescription:m.localize(115,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:he.independentColorPoolPerBracketType,description:m.localize(116,null)}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{enabled:r(Ce.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:r(Ce.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class re extends v{constructor(){const he={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(15,"guides",he,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.localize(117,null),m.localize(118,null),m.localize(119,null)],default:he.bracketPairs,description:m.localize(120,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[m.localize(121,null),m.localize(122,null),m.localize(123,null)],default:he.bracketPairsHorizontal,description:m.localize(124,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:he.highlightActiveBracketPair,description:m.localize(125,null)},"editor.guides.indentation":{type:"boolean",default:he.indentation,description:m.localize(126,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[m.localize(127,null),m.localize(128,null),m.localize(129,null)],default:he.highlightActiveIndentation,description:m.localize(130,null)}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{bracketPairs:ge(Ce.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:ge(Ce.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:r(Ce.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:r(Ce.indentation,this.defaultValue.indentation),highlightActiveIndentation:ge(Ce.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function ge(Se,he,Ce){const pe=Ce.indexOf(Se);return pe===-1?he:Ce[pe]}class ve extends v{constructor(){const he={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(116,"suggest",he,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[m.localize(131,null),m.localize(132,null)],default:he.insertMode,description:m.localize(133,null)},"editor.suggest.filterGraceful":{type:"boolean",default:he.filterGraceful,description:m.localize(134,null)},"editor.suggest.localityBonus":{type:"boolean",default:he.localityBonus,description:m.localize(135,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:he.shareSuggestSelections,markdownDescription:m.localize(136,null)},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[m.localize(137,null),m.localize(138,null),m.localize(139,null),m.localize(140,null)],default:he.selectionMode,markdownDescription:m.localize(141,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:he.snippetsPreventQuickSuggestions,description:m.localize(142,null)},"editor.suggest.showIcons":{type:"boolean",default:he.showIcons,description:m.localize(143,null)},"editor.suggest.showStatusBar":{type:"boolean",default:he.showStatusBar,description:m.localize(144,null)},"editor.suggest.preview":{type:"boolean",default:he.preview,description:m.localize(145,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:he.showInlineDetails,description:m.localize(146,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:m.localize(147,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:m.localize(148,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:m.localize(149,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:m.localize(150,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:m.localize(151,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:m.localize(152,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:m.localize(153,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:m.localize(154,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:m.localize(155,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:m.localize(156,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:m.localize(157,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:m.localize(158,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:m.localize(159,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:m.localize(160,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:m.localize(161,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:m.localize(162,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:m.localize(163,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:m.localize(164,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:m.localize(165,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:m.localize(166,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:m.localize(167,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:m.localize(168,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:m.localize(169,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:m.localize(170,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:m.localize(171,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:m.localize(172,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:m.localize(173,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:m.localize(174,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:m.localize(175,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:m.localize(176,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:m.localize(177,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:m.localize(178,null)}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{insertMode:c(Ce.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:r(Ce.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:r(Ce.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:r(Ce.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:r(Ce.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:c(Ce.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:r(Ce.showIcons,this.defaultValue.showIcons),showStatusBar:r(Ce.showStatusBar,this.defaultValue.showStatusBar),preview:r(Ce.preview,this.defaultValue.preview),previewMode:c(Ce.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:r(Ce.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:r(Ce.showMethods,this.defaultValue.showMethods),showFunctions:r(Ce.showFunctions,this.defaultValue.showFunctions),showConstructors:r(Ce.showConstructors,this.defaultValue.showConstructors),showDeprecated:r(Ce.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:r(Ce.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:r(Ce.showFields,this.defaultValue.showFields),showVariables:r(Ce.showVariables,this.defaultValue.showVariables),showClasses:r(Ce.showClasses,this.defaultValue.showClasses),showStructs:r(Ce.showStructs,this.defaultValue.showStructs),showInterfaces:r(Ce.showInterfaces,this.defaultValue.showInterfaces),showModules:r(Ce.showModules,this.defaultValue.showModules),showProperties:r(Ce.showProperties,this.defaultValue.showProperties),showEvents:r(Ce.showEvents,this.defaultValue.showEvents),showOperators:r(Ce.showOperators,this.defaultValue.showOperators),showUnits:r(Ce.showUnits,this.defaultValue.showUnits),showValues:r(Ce.showValues,this.defaultValue.showValues),showConstants:r(Ce.showConstants,this.defaultValue.showConstants),showEnums:r(Ce.showEnums,this.defaultValue.showEnums),showEnumMembers:r(Ce.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:r(Ce.showKeywords,this.defaultValue.showKeywords),showWords:r(Ce.showWords,this.defaultValue.showWords),showColors:r(Ce.showColors,this.defaultValue.showColors),showFiles:r(Ce.showFiles,this.defaultValue.showFiles),showReferences:r(Ce.showReferences,this.defaultValue.showReferences),showFolders:r(Ce.showFolders,this.defaultValue.showFolders),showTypeParameters:r(Ce.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:r(Ce.showSnippets,this.defaultValue.showSnippets),showUsers:r(Ce.showUsers,this.defaultValue.showUsers),showIssues:r(Ce.showIssues,this.defaultValue.showIssues)}}}class we extends v{constructor(){super(111,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:m.localize(179,null),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:m.localize(180,null),default:!0,type:"boolean"}})}validate(he){return!he||typeof he!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:r(he.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:r(he.selectSubwords,this.defaultValue.selectSubwords)}}}class ye extends v{constructor(){super(135,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[m.localize(181,null),m.localize(182,null),m.localize(183,null),m.localize(184,null)],description:m.localize(185,null),default:"same"}})}validate(he){switch(he){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(he,Ce,pe){return Ce.get(2)===2?0:pe}}class Ie extends t{constructor(){super(143)}compute(he,Ce,pe){const _e=Ce.get(142);return{isDominatedByLongLines:he.isDominatedByLongLines,isWordWrapMinified:_e.isWordWrapMinified,isViewportWrapping:_e.isViewportWrapping,wrappingColumn:_e.wrappingColumn}}}class Ee extends v{constructor(){const he={enabled:!0,showDropSelector:"afterDrop"};super(35,"dropIntoEditor",he,{"editor.dropIntoEditor.enabled":{type:"boolean",default:he.enabled,markdownDescription:m.localize(186,null)},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:m.localize(187,null),enum:["afterDrop","never"],enumDescriptions:[m.localize(188,null),m.localize(189,null)],default:"afterDrop"}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{enabled:r(Ce.enabled,this.defaultValue.enabled),showDropSelector:c(Ce.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class De extends v{constructor(){const he={enabled:!0,showPasteSelector:"afterPaste"};super(83,"pasteAs",he,{"editor.pasteAs.enabled":{type:"boolean",default:he.enabled,markdownDescription:m.localize(190,null)},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:m.localize(191,null),enum:["afterPaste","never"],enumDescriptions:[m.localize(192,null),m.localize(193,null)],default:"afterPaste"}})}validate(he){if(!he||typeof he!="object")return this.defaultValue;const Ce=he;return{enabled:r(Ce.enabled,this.defaultValue.enabled),showPasteSelector:c(Ce.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const Ae="Consolas, 'Courier New', monospace",Te="Menlo, Monaco, 'Courier New', monospace",be="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:L.isMacintosh?Te:L.isLinux?be:Ae,fontWeight:"normal",fontSize:L.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function me(Se){return e.editorOptionsRegistry[Se.id]=Se,Se}e.EditorOptions={acceptSuggestionOnCommitCharacter:me(new l(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:m.localize(194,null)})),acceptSuggestionOnEnter:me(new b(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",m.localize(195,null),""],markdownDescription:m.localize(196,null)})),accessibilitySupport:me(new C),accessibilityPageSize:me(new s(3,"accessibilityPageSize",10,1,1073741824,{description:m.localize(197,null),tags:["accessibility"]})),ariaLabel:me(new d(4,"ariaLabel",m.localize(198,null))),ariaRequired:me(new l(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:me(new l(7,"screenReaderAnnounceInlineSuggestion",!0,{description:m.localize(199,null),tags:["accessibility"]})),autoClosingBrackets:me(new b(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(200,null),m.localize(201,null),""],description:m.localize(202,null)})),autoClosingDelete:me(new b(8,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",m.localize(203,null),""],description:m.localize(204,null)})),autoClosingOvertype:me(new b(9,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",m.localize(205,null),""],description:m.localize(206,null)})),autoClosingQuotes:me(new b(10,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",m.localize(207,null),m.localize(208,null),""],description:m.localize(209,null)})),autoIndent:me(new g(11,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],p,{enumDescriptions:[m.localize(210,null),m.localize(211,null),m.localize(212,null),m.localize(213,null),m.localize(214,null)],description:m.localize(215,null)})),automaticLayout:me(new l(12,"automaticLayout",!1)),autoSurround:me(new b(13,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[m.localize(216,null),m.localize(217,null),m.localize(218,null),""],description:m.localize(219,null)})),bracketPairColorization:me(new oe),bracketPairGuides:me(new re),stickyTabStops:me(new l(114,"stickyTabStops",!1,{description:m.localize(220,null)})),codeLens:me(new l(16,"codeLens",!0,{description:m.localize(221,null)})),codeLensFontFamily:me(new d(17,"codeLensFontFamily","",{description:m.localize(222,null)})),codeLensFontSize:me(new s(18,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:m.localize(223,null)})),colorDecorators:me(new l(19,"colorDecorators",!0,{description:m.localize(224,null)})),colorDecoratorActivatedOn:me(new b(145,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[m.localize(225,null),m.localize(226,null),m.localize(227,null)],description:m.localize(228,null)})),colorDecoratorsLimit:me(new s(20,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:m.localize(229,null)})),columnSelection:me(new l(21,"columnSelection",!1,{description:m.localize(230,null)})),comments:me(new w),contextmenu:me(new l(23,"contextmenu",!0)),copyWithSyntaxHighlighting:me(new l(24,"copyWithSyntaxHighlighting",!0,{description:m.localize(231,null)})),cursorBlinking:me(new g(25,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],E,{description:m.localize(232,null)})),cursorSmoothCaretAnimation:me(new b(26,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[m.localize(233,null),m.localize(234,null),m.localize(235,null)],description:m.localize(236,null)})),cursorStyle:me(new g(27,"cursorStyle",I.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],T,{description:m.localize(237,null)})),cursorSurroundingLines:me(new s(28,"cursorSurroundingLines",0,0,1073741824,{description:m.localize(238,null)})),cursorSurroundingLinesStyle:me(new b(29,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[m.localize(239,null),m.localize(240,null)],description:m.localize(241,null)})),cursorWidth:me(new s(30,"cursorWidth",0,0,1073741824,{markdownDescription:m.localize(242,null)})),disableLayerHinting:me(new l(31,"disableLayerHinting",!1)),disableMonospaceOptimizations:me(new l(32,"disableMonospaceOptimizations",!1)),domReadOnly:me(new l(33,"domReadOnly",!1)),dragAndDrop:me(new l(34,"dragAndDrop",!0,{description:m.localize(243,null)})),emptySelectionClipboard:me(new A),dropIntoEditor:me(new Ee),stickyScroll:me(new le),experimentalWhitespaceRendering:me(new b(37,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[m.localize(244,null),m.localize(245,null),m.localize(246,null)],description:m.localize(247,null)})),extraEditorClassName:me(new d(38,"extraEditorClassName","")),fastScrollSensitivity:me(new a(39,"fastScrollSensitivity",5,Se=>Se<=0?5:Se,{markdownDescription:m.localize(248,null)})),find:me(new M),fixedOverflowWidgets:me(new l(41,"fixedOverflowWidgets",!1)),folding:me(new l(42,"folding",!0,{description:m.localize(249,null)})),foldingStrategy:me(new b(43,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[m.localize(250,null),m.localize(251,null)],description:m.localize(252,null)})),foldingHighlight:me(new l(44,"foldingHighlight",!0,{description:m.localize(253,null)})),foldingImportsByDefault:me(new l(45,"foldingImportsByDefault",!1,{description:m.localize(254,null)})),foldingMaximumRegions:me(new s(46,"foldingMaximumRegions",5e3,10,65e3,{description:m.localize(255,null)})),unfoldOnClickAfterEndOfLine:me(new l(47,"unfoldOnClickAfterEndOfLine",!1,{description:m.localize(256,null)})),fontFamily:me(new d(48,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:m.localize(257,null)})),fontInfo:me(new x),fontLigatures2:me(new N),fontSize:me(new F),fontWeight:me(new B),fontVariations:me(new O),formatOnPaste:me(new l(54,"formatOnPaste",!1,{description:m.localize(258,null)})),formatOnType:me(new l(55,"formatOnType",!1,{description:m.localize(259,null)})),glyphMargin:me(new l(56,"glyphMargin",!0,{description:m.localize(260,null)})),gotoLocation:me(new z),hideCursorInOverviewRuler:me(new l(58,"hideCursorInOverviewRuler",!1,{description:m.localize(261,null)})),hover:me(new j),inDiffEditor:me(new l(60,"inDiffEditor",!1)),letterSpacing:me(new a(62,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,Se=>a.clamp(Se,-5,20),{description:m.localize(262,null)})),lightbulb:me(new se),lineDecorationsWidth:me(new Y),lineHeight:me(new U),lineNumbers:me(new ce),lineNumbersMinChars:me(new s(67,"lineNumbersMinChars",5,1,300)),linkedEditing:me(new l(68,"linkedEditing",!1,{description:m.localize(263,null)})),links:me(new l(69,"links",!0,{description:m.localize(264,null)})),matchBrackets:me(new b(70,"matchBrackets","always",["always","near","never"],{description:m.localize(265,null)})),minimap:me(new V),mouseStyle:me(new b(72,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:me(new a(73,"mouseWheelScrollSensitivity",1,Se=>Se===0?1:Se,{markdownDescription:m.localize(266,null)})),mouseWheelZoom:me(new l(74,"mouseWheelZoom",!1,{markdownDescription:m.localize(267,null)})),multiCursorMergeOverlapping:me(new l(75,"multiCursorMergeOverlapping",!0,{description:m.localize(268,null)})),multiCursorModifier:me(new g(76,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],H,{markdownEnumDescriptions:[m.localize(269,null),m.localize(270,null)],markdownDescription:m.localize(271,null)})),multiCursorPaste:me(new b(77,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[m.localize(272,null),m.localize(273,null)],markdownDescription:m.localize(274,null)})),multiCursorLimit:me(new s(78,"multiCursorLimit",1e4,1,1e5,{markdownDescription:m.localize(275,null)})),occurrencesHighlight:me(new l(79,"occurrencesHighlight",!0,{description:m.localize(276,null)})),overviewRulerBorder:me(new l(80,"overviewRulerBorder",!0,{description:m.localize(277,null)})),overviewRulerLanes:me(new s(81,"overviewRulerLanes",3,0,3)),padding:me(new $),pasteAs:me(new De),parameterHints:me(new X),peekWidgetDefaultFocus:me(new b(85,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[m.localize(278,null),m.localize(279,null)],description:m.localize(280,null)})),definitionLinkOpensInPeek:me(new l(86,"definitionLinkOpensInPeek",!1,{description:m.localize(281,null)})),quickSuggestions:me(new de),quickSuggestionsDelay:me(new s(88,"quickSuggestionsDelay",10,0,1073741824,{description:m.localize(282,null)})),readOnly:me(new l(89,"readOnly",!1)),readOnlyMessage:me(new q),renameOnType:me(new l(91,"renameOnType",!1,{description:m.localize(283,null),markdownDeprecationMessage:m.localize(284,null)})),renderControlCharacters:me(new l(92,"renderControlCharacters",!0,{description:m.localize(285,null),restricted:!0})),renderFinalNewline:me(new b(93,"renderFinalNewline",L.isLinux?"dimmed":"on",["off","on","dimmed"],{description:m.localize(286,null)})),renderLineHighlight:me(new b(94,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",m.localize(287,null)],description:m.localize(288,null)})),renderLineHighlightOnlyWhenFocus:me(new l(95,"renderLineHighlightOnlyWhenFocus",!1,{description:m.localize(289,null)})),renderValidationDecorations:me(new b(96,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:me(new b(97,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",m.localize(290,null),m.localize(291,null),m.localize(292,null),""],description:m.localize(293,null)})),revealHorizontalRightPadding:me(new s(98,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:me(new l(99,"roundedSelection",!0,{description:m.localize(294,null)})),rulers:me(new ue),scrollbar:me(new K),scrollBeyondLastColumn:me(new s(102,"scrollBeyondLastColumn",4,0,1073741824,{description:m.localize(295,null)})),scrollBeyondLastLine:me(new l(103,"scrollBeyondLastLine",!0,{description:m.localize(296,null)})),scrollPredominantAxis:me(new l(104,"scrollPredominantAxis",!0,{description:m.localize(297,null)})),selectionClipboard:me(new l(105,"selectionClipboard",!0,{description:m.localize(298,null),included:L.isLinux})),selectionHighlight:me(new l(106,"selectionHighlight",!0,{description:m.localize(299,null)})),selectOnLineNumbers:me(new l(107,"selectOnLineNumbers",!0)),showFoldingControls:me(new b(108,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[m.localize(300,null),m.localize(301,null),m.localize(302,null)],description:m.localize(303,null)})),showUnused:me(new l(109,"showUnused",!0,{description:m.localize(304,null)})),showDeprecated:me(new l(137,"showDeprecated",!0,{description:m.localize(305,null)})),inlayHints:me(new te),snippetSuggestions:me(new b(110,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[m.localize(306,null),m.localize(307,null),m.localize(308,null),m.localize(309,null)],description:m.localize(310,null)})),smartSelect:me(new we),smoothScrolling:me(new l(112,"smoothScrolling",!1,{description:m.localize(311,null)})),stopRenderingLineAfter:me(new s(115,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:me(new ve),inlineSuggest:me(new ne),suggestFontSize:me(new s(117,"suggestFontSize",0,0,1e3,{markdownDescription:m.localize(312,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:me(new s(118,"suggestLineHeight",0,0,1e3,{markdownDescription:m.localize(313,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:me(new l(119,"suggestOnTriggerCharacters",!0,{description:m.localize(314,null)})),suggestSelection:me(new b(120,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[m.localize(315,null),m.localize(316,null),m.localize(317,null)],description:m.localize(318,null)})),tabCompletion:me(new b(121,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[m.localize(319,null),m.localize(320,null),m.localize(321,null)],description:m.localize(322,null)})),tabIndex:me(new s(122,"tabIndex",0,-1,1073741824)),unicodeHighlight:me(new ie),unusualLineTerminators:me(new b(124,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[m.localize(323,null),m.localize(324,null),m.localize(325,null)],description:m.localize(326,null)})),useShadowDOM:me(new l(125,"useShadowDOM",!0)),useTabStops:me(new l(126,"useTabStops",!0,{description:m.localize(327,null)})),wordBreak:me(new b(127,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[m.localize(328,null),m.localize(329,null)],description:m.localize(330,null)})),wordSeparators:me(new d(128,"wordSeparators",_.USUAL_WORD_SEPARATORS,{description:m.localize(331,null)})),wordWrap:me(new b(129,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[m.localize(332,null),m.localize(333,null),m.localize(334,null),m.localize(335,null)],description:m.localize(336,null)})),wordWrapBreakAfterCharacters:me(new d(130,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:me(new d(131,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:me(new s(132,"wordWrapColumn",80,1,1073741824,{markdownDescription:m.localize(337,null)})),wordWrapOverride1:me(new b(133,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:me(new b(134,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:me(new P),defaultColorDecorators:me(new l(144,"defaultColorDecorators",!1,{markdownDescription:m.localize(338,null)})),pixelRatio:me(new Q),tabFocusMode:me(new l(141,"tabFocusMode",!1,{markdownDescription:m.localize(339,null)})),layoutInfo:me(new R),wrappingInfo:me(new Ie),wrappingIndent:me(new ye),wrappingStrategy:me(new Z)}}),define(J[614],ee([1,0,7,35,9,60,36,11,5,175]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class v{constructor(t,n,r,l,h,s,u){this.top=t,this.left=n,this.paddingLeft=r,this.width=l,this.height=h,this.textContent=s,this.textContentClassName=u}}class o{constructor(t){this._context=t;const n=this._context.configuration.options,r=n.get(49);this._cursorStyle=n.get(27),this._lineHeight=n.get(65),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(n.get(30),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,k.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${f.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,D.applyFontInfo)(this._domNode,r),this._domNode.setDisplay("none"),this._position=new m.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const n=this._context.configuration.options,r=n.get(49);return this._cursorStyle=n.get(27),this._lineHeight=n.get(65),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(n.get(30),this._typicalHalfwidthCharacterWidth),(0,D.applyFontInfo)(this._domNode,r),!0}onCursorPositionChanged(t,n){return n?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:n}=this._position,r=this._context.viewModel.getLineContent(t),[l,h]=L.getCharContainingOffset(r,n-1);return[new m.Position(t,l+1),r.substring(l,h)]}_prepareRender(t){let n="",r="";const[l,h]=this._getGraphemeAwarePosition();if(this._cursorStyle===_.TextEditorCursorStyle.Line||this._cursorStyle===_.TextEditorCursorStyle.LineThin){const g=t.visibleRangeForPosition(l);if(!g||g.outsideRenderedLine)return null;let p;this._cursorStyle===_.TextEditorCursorStyle.Line?(p=y.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),p>2&&(n=h,r=this._getTokenClassName(l))):p=y.computeScreenAwareSize(1);let C=g.left,w=0;p>=2&&C>=1&&(w=1,C-=w);const E=t.getVerticalOffsetForLineNumber(l.lineNumber)-t.bigNumbersDelta;return new v(E,C,w,p,this._lineHeight,n,r)}const s=t.linesVisibleRangesForRange(new S.Range(l.lineNumber,l.column,l.lineNumber,l.column+h.length),!1);if(!s||s.length===0)return null;const u=s[0];if(u.outsideRenderedLine||u.ranges.length===0)return null;const a=u.ranges[0],d=h==="	"?this._typicalHalfwidthCharacterWidth:a.width<1?this._typicalHalfwidthCharacterWidth:a.width;this._cursorStyle===_.TextEditorCursorStyle.Block&&(n=h,r=this._getTokenClassName(l));let c=t.getVerticalOffsetForLineNumber(l.lineNumber)-t.bigNumbersDelta,b=this._lineHeight;return(this._cursorStyle===_.TextEditorCursorStyle.Underline||this._cursorStyle===_.TextEditorCursorStyle.UnderlineThin)&&(c+=this._lineHeight-2,b=2),new v(c,a.left,0,d,b,n,r)}_getTokenClassName(t){const n=this._context.viewModel.getViewLineData(t.lineNumber),r=n.tokens.findTokenIndexAtOffset(t.column-1);return n.tokens.getClassName(r)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${f.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=o}),define(J[615],ee([1,0,42,36]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorOptions=void 0;class L{get editorOptions(){return this._options}constructor(S){this.renderOverviewRuler=(0,y.derived)("renderOverviewRuler",v=>this._options.read(v).renderOverviewRuler),this.renderSideBySide=(0,y.derived)("renderSideBySide",v=>this._options.read(v).renderSideBySide),this.readOnly=(0,y.derived)("readOnly",v=>this._options.read(v).readOnly),this.shouldRenderRevertArrows=(0,y.derived)("shouldRenderRevertArrows",v=>!(!this._options.read(v).renderMarginRevertIcon||!this.renderSideBySide.read(v)||this.readOnly.read(v))),this.renderIndicators=(0,y.derived)("renderIndicators",v=>this._options.read(v).renderIndicators),this.enableSplitViewResizing=(0,y.derived)("enableSplitViewResizing",v=>this._options.read(v).enableSplitViewResizing),this.collapseUnchangedRegions=(0,y.derived)("hideUnchangedRegions",v=>this._options.read(v).experimental.collapseUnchangedRegions),this.splitViewDefaultRatio=(0,y.derived)("splitViewDefaultRatio",v=>this._options.read(v).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,y.derived)("ignoreTrimWhitespace",v=>this._options.read(v).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,y.derived)("maxComputationTime",v=>this._options.read(v).maxComputationTime),this.showMoves=(0,y.derived)("showMoves",v=>{const o=this._options.read(v);return o.experimental.showMoves&&o.renderSideBySide}),this.isInEmbeddedEditor=(0,y.derived)("isInEmbeddedEditor",v=>this._options.read(v).isInEmbeddedEditor),this.diffWordWrap=(0,y.derived)("diffWordWrap",v=>this._options.read(v).diffWordWrap),this.originalEditable=(0,y.derived)("originalEditable",v=>this._options.read(v).originalEditable),this.diffCodeLens=(0,y.derived)("diffCodeLens",v=>this._options.read(v).diffCodeLens),this.accessibilityVerbose=(0,y.derived)("accessibilityVerbose",v=>this._options.read(v).accessibilityVerbose),this.diffAlgorithm=(0,y.derived)("diffAlgorithm",v=>this._options.read(v).diffAlgorithm),this.showEmptyDecorations=(0,y.derived)("showEmptyDecorations",v=>this._options.read(v).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,y.derived)("onlyShowAccessibleDiffViewer",v=>this._options.read(v).onlyShowAccessibleDiffViewer);const f=Object.assign(Object.assign({},S),_(S,D));this._options=(0,y.observableValue)("options",f)}updateOptions(S){const f=_(S,this._options.get()),v=Object.assign(Object.assign(Object.assign({},this._options.get()),S),f);this._options.set(v,void 0,{changedOptions:S})}}e.DiffEditorOptions=L;const D={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{collapseUnchangedRegions:!1,showMoves:!1,showEmptyDecorations:!0},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1};function _(m,S){var f,v,o;return{enableSplitViewResizing:(0,k.boolean)(m.enableSplitViewResizing,S.enableSplitViewResizing),splitViewDefaultRatio:(0,k.clampedFloat)(m.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,k.boolean)(m.renderSideBySide,S.renderSideBySide),renderMarginRevertIcon:(0,k.boolean)(m.renderMarginRevertIcon,S.renderMarginRevertIcon),maxComputationTime:(0,k.clampedInt)(m.maxComputationTime,S.maxComputationTime,0,1073741824),maxFileSize:(0,k.clampedInt)(m.maxFileSize,S.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,k.boolean)(m.ignoreTrimWhitespace,S.ignoreTrimWhitespace),renderIndicators:(0,k.boolean)(m.renderIndicators,S.renderIndicators),originalEditable:(0,k.boolean)(m.originalEditable,S.originalEditable),diffCodeLens:(0,k.boolean)(m.diffCodeLens,S.diffCodeLens),renderOverviewRuler:(0,k.boolean)(m.renderOverviewRuler,S.renderOverviewRuler),diffWordWrap:(0,k.stringSet)(m.diffWordWrap,S.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,k.stringSet)(m.diffAlgorithm,S.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,k.boolean)(m.accessibilityVerbose,S.accessibilityVerbose),experimental:{collapseUnchangedRegions:(0,k.boolean)((f=m.experimental)===null||f===void 0?void 0:f.collapseUnchangedRegions,S.experimental.collapseUnchangedRegions),showMoves:(0,k.boolean)((v=m.experimental)===null||v===void 0?void 0:v.showMoves,S.experimental.showMoves),showEmptyDecorations:(0,k.boolean)((o=m.experimental)===null||o===void 0?void 0:o.showEmptyDecorations,S.experimental.showEmptyDecorations)},isInEmbeddedEditor:(0,k.boolean)(m.isInEmbeddedEditor,S.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,k.boolean)(m.onlyShowAccessibleDiffViewer,S.onlyShowAccessibleDiffViewer)}}}),define(J[233],ee([1,0,17,36,147]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const D=y.isMacintosh?1.5:1.35,_=8;class m{static createFromValidatedSettings(v,o,i){const t=v.get(48),n=v.get(52),r=v.get(51),l=v.get(50),h=v.get(53),s=v.get(65),u=v.get(62);return m._create(t,n,r,l,h,s,u,o,i)}static _create(v,o,i,t,n,r,l,h,s){r===0?r=D*i:r<_&&(r=r*i),r=Math.round(r),r<_&&(r=_);const u=1+(s?0:L.EditorZoom.getZoomLevel()*.1);return i*=u,r*=u,n===k.EditorFontVariations.TRANSLATE&&(o==="normal"||o==="bold"?n=k.EditorFontVariations.OFF:(n=`'wght' ${parseInt(o,10)}`,o="normal")),new m({pixelRatio:h,fontFamily:v,fontWeight:o,fontSize:i,fontFeatureSettings:t,fontVariationSettings:n,lineHeight:r,letterSpacing:l})}constructor(v){this._bareFontInfoBrand=void 0,this.pixelRatio=v.pixelRatio,this.fontFamily=String(v.fontFamily),this.fontWeight=String(v.fontWeight),this.fontSize=v.fontSize,this.fontFeatureSettings=v.fontFeatureSettings,this.fontVariationSettings=v.fontVariationSettings,this.lineHeight=v.lineHeight|0,this.letterSpacing=v.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const v=k.EDITOR_FONT_DEFAULTS.fontFamily,o=m._wrapInQuotes(this.fontFamily);return v&&this.fontFamily!==v?`${o}, ${v}`:o}static _wrapInQuotes(v){return/[,"']/.test(v)?v:/[+ ]/.test(v)?`"${v}"`:v}}e.BareFontInfo=m,e.SERIALIZED_FONT_INFO_VERSION=2;class S extends m{constructor(v,o){super(v),this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=o,this.isMonospace=v.isMonospace,this.typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=v.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=v.canUseHalfwidthRightwardsArrow,this.spaceWidth=v.spaceWidth,this.middotWidth=v.middotWidth,this.wsmiddotWidth=v.wsmiddotWidth,this.maxDigitWidth=v.maxDigitWidth}equals(v){return this.fontFamily===v.fontFamily&&this.fontWeight===v.fontWeight&&this.fontSize===v.fontSize&&this.fontFeatureSettings===v.fontFeatureSettings&&this.fontVariationSettings===v.fontVariationSettings&&this.lineHeight===v.lineHeight&&this.letterSpacing===v.letterSpacing&&this.typicalHalfwidthCharacterWidth===v.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===v.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===v.canUseHalfwidthRightwardsArrow&&this.spaceWidth===v.spaceWidth&&this.middotWidth===v.middotWidth&&this.wsmiddotWidth===v.wsmiddotWidth&&this.maxDigitWidth===v.maxDigitWidth}}e.FontInfo=S}),define(J[320],ee([1,0,52,6,2,470,36,233]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=e.FontMeasurementsImpl=void 0;class S extends L.Disposable{constructor(){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new f,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new f,this._onDidChange.fire()}_writeToCache(o,i){this._cache.put(o,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const o=this._cache.getValues();let i=!1;for(const t of o)t.isTrusted||(i=!0,this._cache.remove(t));i&&this._onDidChange.fire()}readFontInfo(o){if(!this._cache.has(o)){let i=this._actualReadFontInfo(o);(i.typicalHalfwidthCharacterWidth<=2||i.typicalFullwidthCharacterWidth<=2||i.spaceWidth<=2||i.maxDigitWidth<=2)&&(i=new m.FontInfo({pixelRatio:y.PixelRatio.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:i.isMonospace,typicalHalfwidthCharacterWidth:Math.max(i.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(i.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:i.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(i.spaceWidth,5),middotWidth:Math.max(i.middotWidth,5),wsmiddotWidth:Math.max(i.wsmiddotWidth,5),maxDigitWidth:Math.max(i.maxDigitWidth,5)},!1)),this._writeToCache(o,i)}return this._cache.get(o)}_createRequest(o,i,t,n){const r=new D.CharWidthRequest(o,i);return t.push(r),n?.push(r),r}_actualReadFontInfo(o){const i=[],t=[],n=this._createRequest("n",0,i,t),r=this._createRequest("\uFF4D",0,i,null),l=this._createRequest(" ",0,i,t),h=this._createRequest("0",0,i,t),s=this._createRequest("1",0,i,t),u=this._createRequest("2",0,i,t),a=this._createRequest("3",0,i,t),d=this._createRequest("4",0,i,t),c=this._createRequest("5",0,i,t),b=this._createRequest("6",0,i,t),g=this._createRequest("7",0,i,t),p=this._createRequest("8",0,i,t),C=this._createRequest("9",0,i,t),w=this._createRequest("\u2192",0,i,t),E=this._createRequest("\uFFEB",0,i,null),I=this._createRequest("\xB7",0,i,t),T=this._createRequest(String.fromCharCode(11825),0,i,null),P="|/-_ilm%";for(let x=0,F=P.length;x<F;x++)this._createRequest(P.charAt(x),0,i,t),this._createRequest(P.charAt(x),1,i,t),this._createRequest(P.charAt(x),2,i,t);(0,D.readCharWidths)(o,i);const A=Math.max(h.width,s.width,u.width,a.width,d.width,c.width,b.width,g.width,p.width,C.width);let M=o.fontFeatureSettings===_.EditorFontLigatures.OFF;const N=t[0].width;for(let x=1,F=t.length;M&&x<F;x++){const B=N-t[x].width;if(B<-.001||B>.001){M=!1;break}}let O=!0;return M&&E.width!==N&&(O=!1),E.width>w.width&&(O=!1),new m.FontInfo({pixelRatio:y.PixelRatio.value,fontFamily:o.fontFamily,fontWeight:o.fontWeight,fontSize:o.fontSize,fontFeatureSettings:o.fontFeatureSettings,fontVariationSettings:o.fontVariationSettings,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,isMonospace:M,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:O,spaceWidth:l.width,middotWidth:I.width,wsmiddotWidth:T.width,maxDigitWidth:A},!0)}}e.FontMeasurementsImpl=S;class f{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(o){const i=o.getId();return!!this._values[i]}get(o){const i=o.getId();return this._values[i]}put(o,i){const t=o.getId();this._keys[t]=o,this._values[t]=i}remove(o){const i=o.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(o=>this._values[o])}}e.FontMeasurements=new S}),define(J[321],ee([1,0,11,5,67,36]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class _{constructor(i,t,n,r,l){this.editorId=i,this.model=t,this.configuration=n,this._linesCollection=r,this._coordinatesConverter=l,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(i){const t=i.id;let n=this._decorationsCache[t];if(!n){const r=i.range,l=i.options;let h;if(l.isWholeLine){const s=this._coordinatesConverter.convertModelPositionToViewPosition(new y.Position(r.startLineNumber,1),0,!1,!0),u=this._coordinatesConverter.convertModelPositionToViewPosition(new y.Position(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);h=new k.Range(s.lineNumber,s.column,u.lineNumber,u.column)}else h=this._coordinatesConverter.convertModelRangeToViewRange(r,1);n=new L.ViewModelDecoration(h,l),this._decorationsCache[t]=n}return n}getMinimapDecorationsInRange(i){return this._getDecorationsInRange(i,!0,!1).decorations}getDecorationsViewportData(i){let t=this._cachedModelDecorationsResolver!==null;return t=t&&i.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(i,!1,!1),this._cachedModelDecorationsResolverViewRange=i),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(i,t=!1,n=!1){const r=new k.Range(i,this._linesCollection.getViewLineMinColumn(i),i,this._linesCollection.getViewLineMaxColumn(i));return this._getDecorationsInRange(r,t,n).inlineDecorations[0]}_getDecorationsInRange(i,t,n){const r=this._linesCollection.getDecorationsInRange(i,this.editorId,(0,D.filterValidationDecorations)(this.configuration.options),t,n),l=i.startLineNumber,h=i.endLineNumber,s=[];let u=0;const a=[];for(let d=l;d<=h;d++)a[d-l]=[];for(let d=0,c=r.length;d<c;d++){const b=r[d],g=b.options;if(!m(this.model,b))continue;const p=this._getOrCreateViewModelDecoration(b),C=p.range;if(s[u++]=p,g.inlineClassName){const w=new L.InlineDecoration(C,g.inlineClassName,g.inlineClassNameAffectsLetterSpacing?3:0),E=Math.max(l,C.startLineNumber),I=Math.min(h,C.endLineNumber);for(let T=E;T<=I;T++)a[T-l].push(w)}if(g.beforeContentClassName&&l<=C.startLineNumber&&C.startLineNumber<=h){const w=new L.InlineDecoration(new k.Range(C.startLineNumber,C.startColumn,C.startLineNumber,C.startColumn),g.beforeContentClassName,1);a[C.startLineNumber-l].push(w)}if(g.afterContentClassName&&l<=C.endLineNumber&&C.endLineNumber<=h){const w=new L.InlineDecoration(new k.Range(C.endLineNumber,C.endColumn,C.endLineNumber,C.endColumn),g.afterContentClassName,2);a[C.endLineNumber-l].push(w)}}return{decorations:s,inlineDecorations:a}}}e.ViewModelDecorations=_;function m(o,i){return!(i.options.hideInCommentTokens&&S(o,i)||i.options.hideInStringTokens&&f(o,i))}e.isModelDecorationVisible=m;function S(o,i){return v(o,i.range,t=>t===1)}e.isModelDecorationInComment=S;function f(o,i){return v(o,i.range,t=>t===2)}e.isModelDecorationInString=f;function v(o,i,t){for(let n=i.startLineNumber;n<=i.endLineNumber;n++){const r=o.tokenization.getLineTokens(n),l=n===i.startLineNumber,h=n===i.endLineNumber;let s=l?r.findTokenIndexAtOffset(i.startColumn-1):0;for(;s<r.getCount()&&!(h&&r.getStartOffset(s)>i.endColumn-1);){if(!t(r.getStandardTokenType(s)))return!1;s++}}return!0}}),define(J[616],ee([3,4]),function(G,e){return G.create("vs/editor/common/core/editorColorRegistry",e)}),define(J[617],ee([3,4]),function(G,e){return G.create("vs/editor/common/editorContextKeys",e)}),define(J[618],ee([3,4]),function(G,e){return G.create("vs/editor/common/languages",e)}),define(J[30],ee([1,0,26,22,5,509,618]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.LazyTokenizationSupport=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.TextEdit=e.SymbolKinds=e.getAriaLabelForSymbol=e.symbolKindNames=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.SelectedSuggestionInfo=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0;class m{constructor(g,p,C){this.offset=g,this.type=p,this.language=C,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=m;class S{constructor(g,p){this.tokens=g,this.endState=p,this._tokenizationResultBrand=void 0}}e.TokenizationResult=S;class f{constructor(g,p){this.tokens=g,this.endState=p,this._encodedTokenizationResultBrand=void 0}}e.EncodedTokenizationResult=f;var v;(function(b){const g=new Map;g.set(0,y.Codicon.symbolMethod),g.set(1,y.Codicon.symbolFunction),g.set(2,y.Codicon.symbolConstructor),g.set(3,y.Codicon.symbolField),g.set(4,y.Codicon.symbolVariable),g.set(5,y.Codicon.symbolClass),g.set(6,y.Codicon.symbolStruct),g.set(7,y.Codicon.symbolInterface),g.set(8,y.Codicon.symbolModule),g.set(9,y.Codicon.symbolProperty),g.set(10,y.Codicon.symbolEvent),g.set(11,y.Codicon.symbolOperator),g.set(12,y.Codicon.symbolUnit),g.set(13,y.Codicon.symbolValue),g.set(15,y.Codicon.symbolEnum),g.set(14,y.Codicon.symbolConstant),g.set(15,y.Codicon.symbolEnum),g.set(16,y.Codicon.symbolEnumMember),g.set(17,y.Codicon.symbolKeyword),g.set(27,y.Codicon.symbolSnippet),g.set(18,y.Codicon.symbolText),g.set(19,y.Codicon.symbolColor),g.set(20,y.Codicon.symbolFile),g.set(21,y.Codicon.symbolReference),g.set(22,y.Codicon.symbolCustomColor),g.set(23,y.Codicon.symbolFolder),g.set(24,y.Codicon.symbolTypeParameter),g.set(25,y.Codicon.account),g.set(26,y.Codicon.issues);function p(E){let I=g.get(E);return I||(console.info("No codicon found for CompletionItemKind "+E),I=y.Codicon.symbolProperty),I}b.toIcon=p;const C=new Map;C.set("method",0),C.set("function",1),C.set("constructor",2),C.set("field",3),C.set("variable",4),C.set("class",5),C.set("struct",6),C.set("interface",7),C.set("module",8),C.set("property",9),C.set("event",10),C.set("operator",11),C.set("unit",12),C.set("value",13),C.set("constant",14),C.set("enum",15),C.set("enum-member",16),C.set("enumMember",16),C.set("keyword",17),C.set("snippet",27),C.set("text",18),C.set("color",19),C.set("file",20),C.set("reference",21),C.set("customcolor",22),C.set("folder",23),C.set("type-parameter",24),C.set("typeParameter",24),C.set("account",25),C.set("issue",26);function w(E,I){let T=C.get(E);return typeof T>"u"&&!I&&(T=9),T}b.fromString=w})(v||(e.CompletionItemKinds=v={}));var o;(function(b){b[b.Automatic=0]="Automatic",b[b.Explicit=1]="Explicit"})(o||(e.InlineCompletionTriggerKind=o={}));class i{constructor(g,p,C,w){this.range=g,this.text=p,this.completionKind=C,this.isSnippetText=w}equals(g){return L.Range.lift(this.range).equalsRange(g.range)&&this.text===g.text&&this.completionKind===g.completionKind&&this.isSnippetText===g.isSnippetText}}e.SelectedSuggestionInfo=i;var t;(function(b){b[b.Invoke=1]="Invoke",b[b.TriggerCharacter=2]="TriggerCharacter",b[b.ContentChange=3]="ContentChange"})(t||(e.SignatureHelpTriggerKind=t={}));var n;(function(b){b[b.Text=0]="Text",b[b.Read=1]="Read",b[b.Write=2]="Write"})(n||(e.DocumentHighlightKind=n={}));function r(b){return b&&k.URI.isUri(b.uri)&&L.Range.isIRange(b.range)&&(L.Range.isIRange(b.originSelectionRange)||L.Range.isIRange(b.targetSelectionRange))}e.isLocationLink=r,e.symbolKindNames={[17]:(0,_.localize)(0,null),[16]:(0,_.localize)(1,null),[4]:(0,_.localize)(2,null),[13]:(0,_.localize)(3,null),[8]:(0,_.localize)(4,null),[9]:(0,_.localize)(5,null),[21]:(0,_.localize)(6,null),[23]:(0,_.localize)(7,null),[7]:(0,_.localize)(8,null),[0]:(0,_.localize)(9,null),[11]:(0,_.localize)(10,null),[10]:(0,_.localize)(11,null),[19]:(0,_.localize)(12,null),[5]:(0,_.localize)(13,null),[1]:(0,_.localize)(14,null),[2]:(0,_.localize)(15,null),[20]:(0,_.localize)(16,null),[15]:(0,_.localize)(17,null),[18]:(0,_.localize)(18,null),[24]:(0,_.localize)(19,null),[3]:(0,_.localize)(20,null),[6]:(0,_.localize)(21,null),[14]:(0,_.localize)(22,null),[22]:(0,_.localize)(23,null),[25]:(0,_.localize)(24,null),[12]:(0,_.localize)(25,null)};function l(b,g){return(0,_.localize)(26,null,b,e.symbolKindNames[g])}e.getAriaLabelForSymbol=l;var h;(function(b){const g=new Map;g.set(0,y.Codicon.symbolFile),g.set(1,y.Codicon.symbolModule),g.set(2,y.Codicon.symbolNamespace),g.set(3,y.Codicon.symbolPackage),g.set(4,y.Codicon.symbolClass),g.set(5,y.Codicon.symbolMethod),g.set(6,y.Codicon.symbolProperty),g.set(7,y.Codicon.symbolField),g.set(8,y.Codicon.symbolConstructor),g.set(9,y.Codicon.symbolEnum),g.set(10,y.Codicon.symbolInterface),g.set(11,y.Codicon.symbolFunction),g.set(12,y.Codicon.symbolVariable),g.set(13,y.Codicon.symbolConstant),g.set(14,y.Codicon.symbolString),g.set(15,y.Codicon.symbolNumber),g.set(16,y.Codicon.symbolBoolean),g.set(17,y.Codicon.symbolArray),g.set(18,y.Codicon.symbolObject),g.set(19,y.Codicon.symbolKey),g.set(20,y.Codicon.symbolNull),g.set(21,y.Codicon.symbolEnumMember),g.set(22,y.Codicon.symbolStruct),g.set(23,y.Codicon.symbolEvent),g.set(24,y.Codicon.symbolOperator),g.set(25,y.Codicon.symbolTypeParameter);function p(C){let w=g.get(C);return w||(console.info("No codicon found for SymbolKind "+C),w=y.Codicon.symbolProperty),w}b.toIcon=p})(h||(e.SymbolKinds=h={}));class s{}e.TextEdit=s;class u{static fromValue(g){switch(g){case"comment":return u.Comment;case"imports":return u.Imports;case"region":return u.Region}return new u(g)}constructor(g){this.value=g}}e.FoldingRangeKind=u,u.Comment=new u("comment"),u.Imports=new u("imports"),u.Region=new u("region");var a;(function(b){function g(p){return!p||typeof p!="object"?!1:typeof p.id=="string"&&typeof p.title=="string"}b.is=g})(a||(e.Command=a={}));var d;(function(b){b[b.Type=1]="Type",b[b.Parameter=2]="Parameter"})(d||(e.InlayHintKind=d={}));class c{constructor(g){this.createSupport=g,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(g=>{g&&g.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}e.LazyTokenizationSupport=c,e.TokenizationRegistry=new D.TokenizationRegistry}),define(J[157],ee([1,0,30]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(D){return this===D}};function k(D,_){return new y.TokenizationResult([new y.Token(0,"",D)],_)}e.nullTokenize=k;function L(D,_){const m=new Uint32Array(2);return m[0]=0,m[1]=(D<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new y.EncodedTokenizationResult(m,_===null?e.NullState:_)}e.nullTokenizeEncoded=L}),define(J[322],ee([1,0,9,88,30,157]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const _={getInitialState:()=>D.NullState,tokenizeEncoded:(v,o,i)=>(0,D.nullTokenizeEncoded)(0,i)};function m(v,o,i){return Le(this,void 0,void 0,function*(){if(!i)return f(o,v.languageIdCodec,_);const t=yield L.TokenizationRegistry.getOrCreate(i);return f(o,v.languageIdCodec,t||_)})}e.tokenizeToString=m;function S(v,o,i,t,n,r,l){let h="<div>",s=t,u=0,a=!0;for(let d=0,c=o.getCount();d<c;d++){const b=o.getEndOffset(d);if(b<=t)continue;let g="";for(;s<b&&s<n;s++){const p=v.charCodeAt(s);switch(p){case 9:{let C=r-(s+u)%r;for(u+=C-1;C>0;)l&&a?(g+="&#160;",a=!1):(g+=" ",a=!0),C--;break}case 60:g+="&lt;",a=!1;break;case 62:g+="&gt;",a=!1;break;case 38:g+="&amp;",a=!1;break;case 0:g+="&#00;",a=!1;break;case 65279:case 8232:case 8233:case 133:g+="\uFFFD",a=!1;break;case 13:g+="&#8203",a=!1;break;case 32:l&&a?(g+="&#160;",a=!1):(g+=" ",a=!0);break;default:g+=String.fromCharCode(p),a=!1}}if(h+=`<span style="${o.getInlineStyle(d,i)}">${g}</span>`,b>n||s>=n)break}return h+="</div>",h}e.tokenizeLineToHTML=S;function f(v,o,i){let t='<div class="monaco-tokenized-source">';const n=y.splitLines(v);let r=i.getInitialState();for(let l=0,h=n.length;l<h;l++){const s=n[l];l>0&&(t+="<br/>");const u=i.tokenizeEncoded(s,!0,r);k.LineTokens.convertToEndOffset(u.tokens,s.length);const d=new k.LineTokens(u.tokens,s,o).inflate();let c=0;for(let b=0,g=d.getCount();b<g;b++){const p=d.getClassName(b),C=d.getEndOffset(b);t+=`<span class="${p}">${y.escape(s.substring(c,C))}</span>`,c=C}r=u.endState}return t+="</div>",t}e._tokenizeToString=f}),define(J[619],ee([1,0,13,12,17,59,123,61,124,157,502,287,88]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultBackgroundTokenizer=e.RangePriorityQueueImpl=e.TokenizationStateStore=e.TrackingTokenizationStateStore=e.TokenizerWithStateStoreAndTextModel=e.TokenizerWithStateStore=void 0;class t{constructor(d,c){this.tokenizationSupport=c,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new r(d)}getStartState(d){return this.store.getStartState(d,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}e.TokenizerWithStateStore=t;class n extends t{constructor(d,c,b,g){super(d,c),this._textModel=b,this._languageIdCodec=g}updateTokensUntilLine(d,c){const b=this._textModel.getLanguageId();for(;;){const g=this.getFirstInvalidLine();if(!g||g.lineNumber>c)break;const p=this._textModel.getLineContent(g.lineNumber),C=s(this._languageIdCodec,b,this.tokenizationSupport,p,!0,g.startState);d.add(g.lineNumber,C.tokens),this.store.setEndState(g.lineNumber,C.endState)}}getTokenTypeIfInsertingCharacter(d,c){const b=this.getStartState(d.lineNumber);if(!b)return 0;const g=this._textModel.getLanguageId(),p=this._textModel.getLineContent(d.lineNumber),C=p.substring(0,d.column-1)+c+p.substring(d.column-1),w=s(this._languageIdCodec,g,this.tokenizationSupport,C,!0,b),E=new i.LineTokens(w.tokens,C,this._languageIdCodec);if(E.getCount()===0)return 0;const I=E.findTokenIndexAtOffset(d.column-1);return E.getStandardTokenType(I)}tokenizeLineWithEdit(d,c,b){const g=d.lineNumber,p=d.column,C=this.getStartState(g);if(!C)return null;const w=this._textModel.getLineContent(g),E=w.substring(0,p-1)+b+w.substring(p-1+c),I=this._textModel.getLanguageIdAtPosition(g,0),T=s(this._languageIdCodec,I,this.tokenizationSupport,E,!0,C);return new i.LineTokens(T.tokens,E,this._languageIdCodec)}isCheapToTokenize(d){const c=this.store.getFirstInvalidEndStateLineNumberOrMax();return d<c||d===c&&this._textModel.getLineLength(d)<2048}tokenizeHeuristically(d,c,b){if(b<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(c<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(d,b),{heuristicTokens:!1};let g=this.guessStartState(c);const p=this._textModel.getLanguageId();for(let C=c;C<=b;C++){const w=this._textModel.getLineContent(C),E=s(this._languageIdCodec,p,this.tokenizationSupport,w,!0,g);d.add(C,E.tokens),g=E.endState}return{heuristicTokens:!0}}guessStartState(d){let c=this._textModel.getLineFirstNonWhitespaceColumn(d);const b=[];let g=null;for(let w=d-1;c>1&&w>=1;w--){const E=this._textModel.getLineFirstNonWhitespaceColumn(w);if(E!==0&&E<c&&(b.push(this._textModel.getLineContent(w)),c=E,g=this.getStartState(w),g))break}g||(g=this.tokenizationSupport.getInitialState()),b.reverse();const p=this._textModel.getLanguageId();let C=g;for(const w of b)C=s(this._languageIdCodec,p,this.tokenizationSupport,w,!1,C).endState;return C}}e.TokenizerWithStateStoreAndTextModel=n;class r{constructor(d){this.lineCount=d,this._tokenizationStateStore=new l,this._invalidEndStatesLineNumbers=new h,this._invalidEndStatesLineNumbers.addRange(new S.OffsetRange(1,d+1))}getEndState(d){return this._tokenizationStateStore.getEndState(d)}setEndState(d,c){if(!c)throw new k.BugIndicatingError("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(d);const b=this._tokenizationStateStore.setEndState(d,c);return b&&d<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new S.OffsetRange(d+1,d+2)),b}acceptChange(d,c){this.lineCount+=c-d.length,this._tokenizationStateStore.acceptChange(d,c),this._invalidEndStatesLineNumbers.addRangeAndResize(new S.OffsetRange(d.startLineNumber,d.endLineNumberExclusive),c)}acceptChanges(d){for(const c of d){const[b]=(0,_.countEOL)(c.text);this.acceptChange(new m.LineRange(c.range.startLineNumber,c.range.endLineNumber+1),b+1)}}invalidateEndStateRange(d){this._invalidEndStatesLineNumbers.addRange(new S.OffsetRange(d.startLineNumber,d.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(d,c){return d===1?c:this.getEndState(d-1)}getFirstInvalidLine(d){const c=this.getFirstInvalidEndStateLineNumber();if(c===null)return null;const b=this.getStartState(c,d);if(!b)throw new k.BugIndicatingError("Start state must be defined");return{lineNumber:c,startState:b}}}e.TrackingTokenizationStateStore=r;class l{constructor(){this._lineEndStates=new v.FixedArray(null)}getEndState(d){return this._lineEndStates.get(d)}setEndState(d,c){const b=this._lineEndStates.get(d);return b&&b.equals(c)?!1:(this._lineEndStates.set(d,c),!0)}acceptChange(d,c){let b=d.length;c>0&&b>0&&(b--,c--),this._lineEndStates.replace(d.startLineNumber,b,c)}}e.TokenizationStateStore=l;class h{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(d){const c=this._ranges.findIndex(b=>b.contains(d));if(c!==-1){const b=this._ranges[c];b.start===d?b.endExclusive===d+1?this._ranges.splice(c,1):this._ranges[c]=new S.OffsetRange(d+1,b.endExclusive):b.endExclusive===d+1?this._ranges[c]=new S.OffsetRange(b.start,d):this._ranges.splice(c,1,new S.OffsetRange(b.start,d),new S.OffsetRange(d+1,b.endExclusive))}}addRange(d){S.OffsetRange.addRange(d,this._ranges)}addRangeAndResize(d,c){let b=0;for(;!(b>=this._ranges.length||d.start<=this._ranges[b].endExclusive);)b++;let g=b;for(;!(g>=this._ranges.length||d.endExclusive<this._ranges[g].start);)g++;const p=c-d.length;for(let C=g;C<this._ranges.length;C++)this._ranges[C]=this._ranges[C].delta(p);if(b===g){const C=new S.OffsetRange(d.start,d.start+c);C.isEmpty||this._ranges.splice(b,0,C)}else{const C=Math.min(d.start,this._ranges[b].start),w=Math.max(d.endExclusive,this._ranges[g-1].endExclusive),E=new S.OffsetRange(C,w+p);E.isEmpty?this._ranges.splice(b,g-b):this._ranges.splice(b,g-b,E)}}toString(){return this._ranges.map(d=>d.toString()).join(" + ")}}e.RangePriorityQueueImpl=h;function s(a,d,c,b,g,p){let C=null;if(c)try{C=c.tokenizeEncoded(b,g,p.clone())}catch(w){(0,k.onUnexpectedError)(w)}return C||(C=(0,f.nullTokenizeEncoded)(a.encodeLanguageId(d),p)),i.LineTokens.convertToEndOffset(C.tokens,b.length),C}class u{constructor(d,c){this._tokenizerWithStateStore=d,this._backgroundTokenStore=c,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,y.runWhenIdle)(d=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(d)}))}_backgroundTokenizeWithDeadline(d){const c=Date.now()+d.timeRemaining(),b=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<c?(0,L.setTimeout0)(b):this._beginBackgroundTokenization())};b()}_backgroundTokenizeForAtLeast1ms(){const d=this._tokenizerWithStateStore._textModel.getLineCount(),c=new o.ContiguousMultilineTokensBuilder,b=D.StopWatch.create(!1);do if(b.elapsed()>1||this._tokenizeOneInvalidLine(c)>=d)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(c.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(d){var c;const b=(c=this._tokenizerWithStateStore)===null||c===void 0?void 0:c.getFirstInvalidLine();return b?(this._tokenizerWithStateStore.updateTokensUntilLine(d,b.lineNumber),b.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(d,c){this._tokenizerWithStateStore.store.invalidateEndStateRange(new m.LineRange(d,c))}}e.DefaultBackgroundTokenizer=u}),define(J[620],ee([1,0,15,13,12,6,2,123,61,11,149,30,281,619,287,512,514]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class h extends i.TextModelPart{constructor(d,c,b,g,p,C){super(),this._languageService=d,this._languageConfigurationService=c,this._textModel=b,this._bracketPairsTextModelPart=g,this._languageId=p,this._attachedViews=C,this._semanticTokens=new l.SparseTokensStore(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new D.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new D.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new s(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(w=>{w.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(w=>{this._emitModelTokensChangedEvent(w)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(w=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(d){if(d.isFlush)this._semanticTokens.flush();else if(!d.isEolChange)for(const c of d.changes){const[b,g,p]=(0,m.countEOL)(c.text);this._semanticTokens.acceptEdit(c.range,b,g,p,c.text.length>0?c.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(d)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(d){this.validateLineNumber(d);const c=this.grammarTokens.getLineTokens(d);return this._semanticTokens.addSparseTokens(d,c)}_emitModelTokensChangedEvent(d){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(d),this._onDidChangeTokens.fire(d))}validateLineNumber(d){if(d<1||d>this._textModel.getLineCount())throw new L.BugIndicatingError("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(d){this.validateLineNumber(d),this.grammarTokens.forceTokenization(d)}isCheapToTokenize(d){return this.validateLineNumber(d),this.grammarTokens.isCheapToTokenize(d)}tokenizeIfCheap(d){this.validateLineNumber(d),this.grammarTokens.tokenizeIfCheap(d)}getTokenTypeIfInsertingCharacter(d,c,b){return this.grammarTokens.getTokenTypeIfInsertingCharacter(d,c,b)}tokenizeLineWithEdit(d,c,b){return this.grammarTokens.tokenizeLineWithEdit(d,c,b)}setSemanticTokens(d,c){this._semanticTokens.set(d,c),this._emitModelTokensChangedEvent({semanticTokensApplied:d!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(d,c){if(this.hasCompleteSemanticTokens())return;const b=this._textModel.validateRange(this._semanticTokens.setPartial(d,c));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:b.startLineNumber,toLineNumber:b.endLineNumber}]})}getWordAtPosition(d){this.assertNotDisposed();const c=this._textModel.validatePosition(d),b=this._textModel.getLineContent(c.lineNumber),g=this.getLineTokens(c.lineNumber),p=g.findTokenIndexAtOffset(c.column-1),[C,w]=h._findLanguageBoundaries(g,p),E=(0,v.getWordAtText)(c.column,this.getLanguageConfiguration(g.getLanguageId(p)).getWordDefinition(),b.substring(C,w),C);if(E&&E.startColumn<=d.column&&d.column<=E.endColumn)return E;if(p>0&&C===c.column-1){const[I,T]=h._findLanguageBoundaries(g,p-1),P=(0,v.getWordAtText)(c.column,this.getLanguageConfiguration(g.getLanguageId(p-1)).getWordDefinition(),b.substring(I,T),I);if(P&&P.startColumn<=d.column&&d.column<=P.endColumn)return P}return null}getLanguageConfiguration(d){return this._languageConfigurationService.getLanguageConfiguration(d)}static _findLanguageBoundaries(d,c){const b=d.getLanguageId(c);let g=0;for(let C=c;C>=0&&d.getLanguageId(C)===b;C--)g=d.getStartOffset(C);let p=d.getLineContent().length;for(let C=c,w=d.getCount();C<w&&d.getLanguageId(C)===b;C++)p=d.getEndOffset(C);return[g,p]}getWordUntilPosition(d){const c=this.getWordAtPosition(d);return c?{word:c.word.substr(0,d.column-c.startColumn),startColumn:c.startColumn,endColumn:d.column}:{word:"",startColumn:d.column,endColumn:d.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(d,c){const b=this._textModel.validatePosition(new f.Position(d,c)),g=this.getLineTokens(b.lineNumber);return g.getLanguageId(g.findTokenIndexAtOffset(b.column-1))}setLanguageId(d,c="api"){if(this._languageId===d)return;const b={oldLanguage:this._languageId,newLanguage:d,source:c};this._languageId=d,this._bracketPairsTextModelPart.handleDidChangeLanguage(b),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(b),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=h;class s extends _.Disposable{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(d,c,b,g){super(),this._languageIdCodec=d,this._textModel=c,this.getLanguageId=b,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new _.MutableDisposable),this._tokens=new r.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new _.MutableDisposable),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new D.Emitter),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new _.DisposableMap),this._register(o.TokenizationRegistry.onDidChange(p=>{const C=this.getLanguageId();p.changedLanguages.indexOf(C)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(g.onDidChangeVisibleRanges(({view:p,state:C})=>{if(C){let w=this._attachedViewStates.get(p);w||(w=new u(()=>this.refreshRanges(w.lineRanges)),this._attachedViewStates.set(p,w)),w.handleStateChange(C)}else this._attachedViewStates.deleteAndDispose(p)}))}resetTokenization(d=!0){var c;this._tokens.flush(),(c=this._debugBackgroundTokens)===null||c===void 0||c.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new t.TrackingTokenizationStateStore(this._textModel.getLineCount())),d&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const b=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const C=o.TokenizationRegistry.get(this.getLanguageId());if(!C)return[null,null];let w;try{w=C.getInitialState()}catch(E){return(0,L.onUnexpectedError)(E),[null,null]}return[C,w]},[g,p]=b();if(g&&p?this._tokenizer=new t.TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(),g,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const C={setTokens:w=>{this.setTokens(w)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const w=2;this._backgroundTokenizationState=w,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(w,E)=>{var I;if(!this._tokenizer)return;const T=this._tokenizer.store.getFirstInvalidEndStateLineNumber();T!==null&&w>=T&&((I=this._tokenizer)===null||I===void 0||I.store.setEndState(w,E))}};g&&g.createBackgroundTokenizer&&!g.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=g.createBackgroundTokenizer(this._textModel,C)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new t.DefaultBackgroundTokenizer(this._tokenizer,C),this._defaultBackgroundTokenizer.handleChanges()),g?.backgroundTokenizerShouldOnlyVerifyTokens&&g.createBackgroundTokenizer?(this._debugBackgroundTokens=new r.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundStates=new t.TrackingTokenizationStateStore(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=g.createBackgroundTokenizer(this._textModel,{setTokens:w=>{var E;(E=this._debugBackgroundTokens)===null||E===void 0||E.setMultilineTokens(w,this._textModel)},backgroundTokenizationFinished(){},setEndState:(w,E)=>{var I;(I=this._debugBackgroundStates)===null||I===void 0||I.setEndState(w,E)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var d;(d=this._defaultBackgroundTokenizer)===null||d===void 0||d.handleChanges()}handleDidChangeContent(d){var c,b,g;if(d.isFlush)this.resetTokenization(!1);else if(!d.isEolChange){for(const p of d.changes){const[C,w]=(0,m.countEOL)(p.text);this._tokens.acceptEdit(p.range,C,w),(c=this._debugBackgroundTokens)===null||c===void 0||c.acceptEdit(p.range,C,w)}(b=this._debugBackgroundStates)===null||b===void 0||b.acceptChanges(d.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(d.changes),(g=this._defaultBackgroundTokenizer)===null||g===void 0||g.handleChanges()}}setTokens(d){const{changes:c}=this._tokens.setMultilineTokens(d,this._textModel);return c.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:c}),{changes:c}}refreshAllVisibleLineTokens(){const d=S.LineRange.joinMany([...this._attachedViewStates].map(([c,b])=>b.lineRanges));this.refreshRanges(d)}refreshRanges(d){for(const c of d)this.refreshRange(c.startLineNumber,c.endLineNumberExclusive-1)}refreshRange(d,c){var b,g;if(!this._tokenizer)return;d=Math.max(1,Math.min(this._textModel.getLineCount(),d)),c=Math.min(this._textModel.getLineCount(),c);const p=new n.ContiguousMultilineTokensBuilder,{heuristicTokens:C}=this._tokenizer.tokenizeHeuristically(p,d,c),w=this.setTokens(p.finalize());if(C)for(const E of w.changes)(b=this._backgroundTokenizer.value)===null||b===void 0||b.requestTokens(E.fromLineNumber,E.toLineNumber+1);(g=this._defaultBackgroundTokenizer)===null||g===void 0||g.checkFinished()}forceTokenization(d){var c,b;const g=new n.ContiguousMultilineTokensBuilder;(c=this._tokenizer)===null||c===void 0||c.updateTokensUntilLine(g,d),this.setTokens(g.finalize()),(b=this._defaultBackgroundTokenizer)===null||b===void 0||b.checkFinished()}isCheapToTokenize(d){return this._tokenizer?this._tokenizer.isCheapToTokenize(d):!0}tokenizeIfCheap(d){this.isCheapToTokenize(d)&&this.forceTokenization(d)}getLineTokens(d){var c;const b=this._textModel.getLineContent(d),g=this._tokens.getTokens(this._textModel.getLanguageId(),d-1,b);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>d&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>d){const p=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),d-1,b);!g.equals(p)&&(!((c=this._debugBackgroundTokenizer.value)===null||c===void 0)&&c.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(d)}return g}getTokenTypeIfInsertingCharacter(d,c,b){if(!this._tokenizer)return 0;const g=this._textModel.validatePosition(new f.Position(d,c));return this.forceTokenization(g.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(g,b)}tokenizeLineWithEdit(d,c,b){if(!this._tokenizer)return null;const g=this._textModel.validatePosition(d);return this.forceTokenization(g.lineNumber),this._tokenizer.tokenizeLineWithEdit(g,c,b)}get hasTokens(){return this._tokens.hasTokens}}class u extends _.Disposable{get lineRanges(){return this._lineRanges}constructor(d){super(),this._refreshTokens=d,this.runner=this._register(new k.RunOnceScheduler(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,y.equals)(this._computedLineRanges,this._lineRanges,(d,c)=>d.equals(c))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(d){this._lineRanges=d.visibleLineRanges,d.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}}),define(J[323],ee([1,0,21,6,64,22,11,5,24,30,209]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class o{static chord(n,r){return(0,L.KeyChord)(n,r)}}e.KeyMod=o,o.CtrlCmd=2048,o.Shift=1024,o.Alt=512,o.WinCtrl=256;function i(){return{editor:void 0,languages:void 0,CancellationTokenSource:y.CancellationTokenSource,Emitter:k.Emitter,KeyCode:v.KeyCode,KeyMod:o,Position:_.Position,Range:m.Range,Selection:S.Selection,SelectionDirection:v.SelectionDirection,MarkerSeverity:v.MarkerSeverity,MarkerTag:v.MarkerTag,Uri:D.URI,Token:f.Token}}e.createMonacoBaseAPI=i}),define(J[621],ee([1,0,170,22,11,5,506,149,489,495,323,59,285,486,46,488]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class l extends _.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(a){const d=[];for(let c=0;c<this._lines.length;c++){const b=this._lines[c],g=this.offsetAt(new L.Position(c+1,1)),p=b.matchAll(a);for(const C of p)(C.index||C.index===0)&&(C.index=C.index+g),d.push(C)}return d}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(a){return this._lines[a-1]}getWordAtPosition(a,d){const c=(0,m.getWordAtText)(a.column,(0,m.ensureValidWordDefinition)(d),this._lines[a.lineNumber-1],0);return c?new D.Range(a.lineNumber,c.startColumn,a.lineNumber,c.endColumn):null}words(a){const d=this._lines,c=this._wordenize.bind(this);let b=0,g="",p=0,C=[];return{*[Symbol.iterator](){for(;;)if(p<C.length){const w=g.substring(C[p].start,C[p].end);p+=1,yield w}else if(b<d.length)g=d[b],C=c(g,a),p=0,b+=1;else break}}}getLineWords(a,d){const c=this._lines[a-1],b=this._wordenize(c,d),g=[];for(const p of b)g.push({word:c.substring(p.start,p.end),startColumn:p.start+1,endColumn:p.end+1});return g}_wordenize(a,d){const c=[];let b;for(d.lastIndex=0;(b=d.exec(a))&&b[0].length!==0;)c.push({start:b.index,end:b.index+b[0].length});return c}getValueInRange(a){if(a=this._validateRange(a),a.startLineNumber===a.endLineNumber)return this._lines[a.startLineNumber-1].substring(a.startColumn-1,a.endColumn-1);const d=this._eol,c=a.startLineNumber-1,b=a.endLineNumber-1,g=[];g.push(this._lines[c].substring(a.startColumn-1));for(let p=c+1;p<b;p++)g.push(this._lines[p]);return g.push(this._lines[b].substring(0,a.endColumn-1)),g.join(d)}offsetAt(a){return a=this._validatePosition(a),this._ensureLineStarts(),this._lineStarts.getPrefixSum(a.lineNumber-2)+(a.column-1)}positionAt(a){a=Math.floor(a),a=Math.max(0,a),this._ensureLineStarts();const d=this._lineStarts.getIndexOf(a),c=this._lines[d.index].length;return{lineNumber:1+d.index,column:1+Math.min(d.remainder,c)}}_validateRange(a){const d=this._validatePosition({lineNumber:a.startLineNumber,column:a.startColumn}),c=this._validatePosition({lineNumber:a.endLineNumber,column:a.endColumn});return d.lineNumber!==a.startLineNumber||d.column!==a.startColumn||c.lineNumber!==a.endLineNumber||c.column!==a.endColumn?{startLineNumber:d.lineNumber,startColumn:d.column,endLineNumber:c.lineNumber,endColumn:c.column}:a}_validatePosition(a){if(!L.Position.isIPosition(a))throw new Error("bad position");let{lineNumber:d,column:c}=a,b=!1;if(d<1)d=1,c=1,b=!0;else if(d>this._lines.length)d=this._lines.length,c=this._lines[d-1].length+1,b=!0;else{const g=this._lines[d-1].length+1;c<1?(c=1,b=!0):c>g&&(c=g,b=!0)}return b?{lineNumber:d,column:c}:a}}class h{constructor(a,d){this._host=a,this._models=Object.create(null),this._foreignModuleFactory=d,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(a){return this._models[a]}_getModels(){const a=[];return Object.keys(this._models).forEach(d=>a.push(this._models[d])),a}acceptNewModel(a){this._models[a.url]=new l(k.URI.parse(a.url),a.lines,a.EOL,a.versionId)}acceptModelChanged(a,d){if(!this._models[a])return;this._models[a].onEvents(d)}acceptRemovedModel(a){this._models[a]&&delete this._models[a]}computeUnicodeHighlights(a,d,c){return Le(this,void 0,void 0,function*(){const b=this._getModel(a);return b?i.UnicodeTextModelHighlighter.computeUnicodeHighlights(b,d,c):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(a,d,c,b){return Le(this,void 0,void 0,function*(){const g=this._getModel(a),p=this._getModel(d);return!g||!p?null:h.computeDiff(g,p,c,b)})}static computeDiff(a,d,c,b){const g=b==="advanced"?t.linesDiffComputers.getAdvanced():t.linesDiffComputers.getLegacy(),p=a.getLinesContent(),C=d.getLinesContent(),w=g.computeDiff(p,C,c),E=w.changes.length>0?!1:this._modelsAreIdentical(a,d);function I(T){return T.map(P=>{var A;return[P.originalRange.startLineNumber,P.originalRange.endLineNumberExclusive,P.modifiedRange.startLineNumber,P.modifiedRange.endLineNumberExclusive,(A=P.innerChanges)===null||A===void 0?void 0:A.map(M=>[M.originalRange.startLineNumber,M.originalRange.startColumn,M.originalRange.endLineNumber,M.originalRange.endColumn,M.modifiedRange.startLineNumber,M.modifiedRange.startColumn,M.modifiedRange.endLineNumber,M.modifiedRange.endColumn])]})}return{identical:E,quitEarly:w.hitTimeout,changes:I(w.changes),moves:w.moves.map(T=>[T.lineRangeMapping.original.startLineNumber,T.lineRangeMapping.original.endLineNumberExclusive,T.lineRangeMapping.modified.startLineNumber,T.lineRangeMapping.modified.endLineNumberExclusive,I(T.changes)])}}static _modelsAreIdentical(a,d){const c=a.getLineCount(),b=d.getLineCount();if(c!==b)return!1;for(let g=1;g<=c;g++){const p=a.getLineContent(g),C=d.getLineContent(g);if(p!==C)return!1}return!0}computeMoreMinimalEdits(a,d,c){return Le(this,void 0,void 0,function*(){const b=this._getModel(a);if(!b)return d;const g=[];let p;d=d.slice(0).sort((C,w)=>{if(C.range&&w.range)return D.Range.compareRangesUsingStarts(C.range,w.range);const E=C.range?0:1,I=w.range?0:1;return E-I});for(let{range:C,text:w,eol:E}of d){if(typeof E=="number"&&(p=E),D.Range.isEmpty(C)&&!w)continue;const I=b.getValueInRange(C);if(w=w.replace(/\r\n|\n|\r/g,b.eol),I===w)continue;if(Math.max(w.length,I.length)>h._diffLimit){g.push({range:C,text:w});continue}const T=(0,y.stringDiff)(I,w,c),P=b.offsetAt(D.Range.lift(C).getStartPosition());for(const A of T){const M=b.positionAt(P+A.originalStart),N=b.positionAt(P+A.originalStart+A.originalLength),O={text:w.substr(A.modifiedStart,A.modifiedLength),range:{startLineNumber:M.lineNumber,startColumn:M.column,endLineNumber:N.lineNumber,endColumn:N.column}};b.getValueInRange(O.range)!==O.text&&g.push(O)}}return typeof p=="number"&&g.push({eol:p,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),g})}computeLinks(a){return Le(this,void 0,void 0,function*(){const d=this._getModel(a);return d?(0,S.computeLinks)(d):null})}computeDefaultDocumentColors(a){return Le(this,void 0,void 0,function*(){const d=this._getModel(a);return d?(0,r.computeDefaultDocumentColors)(d):null})}textualSuggest(a,d,c,b){return Le(this,void 0,void 0,function*(){const g=new o.StopWatch,p=new RegExp(c,b),C=new Set;e:for(const w of a){const E=this._getModel(w);if(E){for(const I of E.words(p))if(!(I===d||!isNaN(Number(I)))&&(C.add(I),C.size>h._suggestionsLimit))break e}}return{words:Array.from(C),duration:g.elapsed()}})}computeWordRanges(a,d,c,b){return Le(this,void 0,void 0,function*(){const g=this._getModel(a);if(!g)return Object.create(null);const p=new RegExp(c,b),C=Object.create(null);for(let w=d.startLineNumber;w<d.endLineNumber;w++){const E=g.getLineWords(w,p);for(const I of E){if(!isNaN(Number(I.word)))continue;let T=C[I.word];T||(T=[],C[I.word]=T),T.push({startLineNumber:w,startColumn:I.startColumn,endLineNumber:w,endColumn:I.endColumn})}}return C})}navigateValueSet(a,d,c,b,g){return Le(this,void 0,void 0,function*(){const p=this._getModel(a);if(!p)return null;const C=new RegExp(b,g);d.startColumn===d.endColumn&&(d={startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.endColumn+1});const w=p.getValueInRange(d),E=p.getWordAtPosition({lineNumber:d.startLineNumber,column:d.startColumn},C);if(!E)return null;const I=p.getValueInRange(E);return f.BasicInplaceReplace.INSTANCE.navigateValueSet(d,w,E,I,c)})}loadForeignModule(a,d,c){const b=(C,w)=>this._host.fhr(C,w),p={host:(0,n.createProxyObject)(c,b),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(p,d),Promise.resolve((0,n.getAllMethodNames)(this._foreignModule))):new Promise((C,w)=>{G([a],E=>{this._foreignModule=E.create(p,d),C((0,n.getAllMethodNames)(this._foreignModule))},w)})}fmr(a,d){if(!this._foreignModule||typeof this._foreignModule[a]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+a));try{return Promise.resolve(this._foreignModule[a].apply(this._foreignModule,d))}catch(c){return Promise.reject(c)}}}e.EditorSimpleWorker=h,h._diffLimit=1e5,h._suggestionsLimit=1e4;function s(u){return new h(u,null)}e.create=s,typeof importScripts=="function"&&(globalThis.monaco=(0,v.createMonacoBaseAPI)())}),define(J[324],ee([1,0,6,2,273,30]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class _ extends k.Disposable{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,k.markAsSingleton)(new _)),this._INSTANCE}constructor(){super(),this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(D.TokenizationRegistry.onDidChange(S=>{S.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const S=D.TokenizationRegistry.getColorMap();if(!S){this._colors=[L.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[L.RGBA8.Empty];for(let v=1;v<S.length;v++){const o=S[v].rgba;this._colors[v]=new L.RGBA8(o.r,o.g,o.b,Math.round(o.a*255))}const f=S[2].getRelativeLuminance();this._backgroundIsLight=f>=.5,this._onDidChange.fire(void 0)}getColor(S){return(S<1||S>=this._colors.length)&&(S=2),this._colors[S]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=_,_._INSTANCE=null}),define(J[622],ee([3,4]),function(G,e){return G.create("vs/editor/common/languages/modesRegistry",e)}),define(J[623],ee([3,4]),function(G,e){return G.create("vs/editor/common/model/editStack",e)}),define(J[325],ee([1,0,623,12,24,22,316,141,43]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function f(l){return l.toString()}class v{static create(h,s){const u=h.getAlternativeVersionId(),a=t(h);return new v(u,u,a,a,s,s,[])}constructor(h,s,u,a,d,c,b){this.beforeVersionId=h,this.afterVersionId=s,this.beforeEOL=u,this.afterEOL=a,this.beforeCursorState=d,this.afterCursorState=c,this.changes=b}append(h,s,u,a,d){s.length>0&&(this.changes=(0,_.compressConsecutiveTextChanges)(this.changes,s)),this.afterEOL=u,this.afterVersionId=a,this.afterCursorState=d}static _writeSelectionsSize(h){return 4+4*4*(h?h.length:0)}static _writeSelections(h,s,u){if(m.writeUInt32BE(h,s?s.length:0,u),u+=4,s)for(const a of s)m.writeUInt32BE(h,a.selectionStartLineNumber,u),u+=4,m.writeUInt32BE(h,a.selectionStartColumn,u),u+=4,m.writeUInt32BE(h,a.positionLineNumber,u),u+=4,m.writeUInt32BE(h,a.positionColumn,u),u+=4;return u}static _readSelections(h,s,u){const a=m.readUInt32BE(h,s);s+=4;for(let d=0;d<a;d++){const c=m.readUInt32BE(h,s);s+=4;const b=m.readUInt32BE(h,s);s+=4;const g=m.readUInt32BE(h,s);s+=4;const p=m.readUInt32BE(h,s);s+=4,u.push(new L.Selection(c,b,g,p))}return s}serialize(){let h=10+v._writeSelectionsSize(this.beforeCursorState)+v._writeSelectionsSize(this.afterCursorState)+4;for(const a of this.changes)h+=a.writeSize();const s=new Uint8Array(h);let u=0;m.writeUInt32BE(s,this.beforeVersionId,u),u+=4,m.writeUInt32BE(s,this.afterVersionId,u),u+=4,m.writeUInt8(s,this.beforeEOL,u),u+=1,m.writeUInt8(s,this.afterEOL,u),u+=1,u=v._writeSelections(s,this.beforeCursorState,u),u=v._writeSelections(s,this.afterCursorState,u),m.writeUInt32BE(s,this.changes.length,u),u+=4;for(const a of this.changes)u=a.write(s,u);return s.buffer}static deserialize(h){const s=new Uint8Array(h);let u=0;const a=m.readUInt32BE(s,u);u+=4;const d=m.readUInt32BE(s,u);u+=4;const c=m.readUInt8(s,u);u+=1;const b=m.readUInt8(s,u);u+=1;const g=[];u=v._readSelections(s,u,g);const p=[];u=v._readSelections(s,u,p);const C=m.readUInt32BE(s,u);u+=4;const w=[];for(let E=0;E<C;E++)u=_.TextChange.read(s,u,w);return new v(a,d,c,b,g,p,w)}}e.SingleModelEditStackData=v;class o{get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}constructor(h,s,u,a){this.label=h,this.code=s,this.model=u,this._data=v.create(u,a)}toString(){return(this._data instanceof v?this._data:v.deserialize(this._data)).changes.map(s=>s.toString()).join(", ")}matchesResource(h){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===h.toString()}setModel(h){this.model=h}canAppend(h){return this.model===h&&this._data instanceof v}append(h,s,u,a,d){this._data instanceof v&&this._data.append(h,s,u,a,d)}close(){this._data instanceof v&&(this._data=this._data.serialize())}open(){this._data instanceof v||(this._data=v.deserialize(this._data))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof v&&(this._data=this._data.serialize());const h=v.deserialize(this._data);this.model._applyUndo(h.changes,h.beforeEOL,h.beforeVersionId,h.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof v&&(this._data=this._data.serialize());const h=v.deserialize(this._data);this.model._applyRedo(h.changes,h.afterEOL,h.afterVersionId,h.afterCursorState)}heapSize(){return this._data instanceof v&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=o;class i{get resources(){return this._editStackElementsArr.map(h=>h.resource)}constructor(h,s,u){this.label=h,this.code=s,this.type=1,this._isOpen=!0,this._editStackElementsArr=u.slice(0),this._editStackElementsMap=new Map;for(const a of this._editStackElementsArr){const d=f(a.resource);this._editStackElementsMap.set(d,a)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(h){const s=f(h);return this._editStackElementsMap.has(s)}setModel(h){const s=f(D.URI.isUri(h)?h:h.uri);this._editStackElementsMap.has(s)&&this._editStackElementsMap.get(s).setModel(h)}canAppend(h){if(!this._isOpen)return!1;const s=f(h.uri);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).canAppend(h):!1}append(h,s,u,a,d){const c=f(h.uri);this._editStackElementsMap.get(c).append(h,s,u,a,d)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const h of this._editStackElementsArr)h.undo()}redo(){for(const h of this._editStackElementsArr)h.redo()}heapSize(h){const s=f(h);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).heapSize():0}split(){return this._editStackElementsArr}toString(){const h=[];for(const s of this._editStackElementsArr)h.push(`${(0,S.basename)(s.resource)}: ${s}`);return`{${h.join(", ")}}`}}e.MultiModelEditStackElement=i;function t(l){return l.getEOL()===`
`?0:1}function n(l){return l?l instanceof o||l instanceof i:!1}e.isEditStackElement=n;class r{constructor(h,s){this._model=h,this._undoRedoService=s}pushStackElement(){const h=this._undoRedoService.getLastElement(this._model.uri);n(h)&&h.close()}popStackElement(){const h=this._undoRedoService.getLastElement(this._model.uri);n(h)&&h.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(h,s){const u=this._undoRedoService.getLastElement(this._model.uri);if(n(u)&&u.canAppend(this._model))return u;const a=new o(y.localize(0,null),"undoredo.textBufferEdit",this._model,h);return this._undoRedoService.pushElement(a,s),a}pushEOL(h){const s=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(h),s.append(this._model,[],t(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(h,s,u,a){const d=this._getOrCreateEditStackElement(h,a),c=this._model.applyEdits(s,!0),b=r._computeCursorState(u,c),g=c.map((p,C)=>({index:C,textChange:p.textChange}));return g.sort((p,C)=>p.textChange.oldPosition===C.textChange.oldPosition?p.index-C.index:p.textChange.oldPosition-C.textChange.oldPosition),d.append(this._model,g.map(p=>p.textChange),t(this._model),this._model.getAlternativeVersionId(),b),b}static _computeCursorState(h,s){try{return h?h(s):null}catch(u){return(0,k.onUnexpectedError)(u),null}}}e.EditStack=r}),define(J[624],ee([3,4]),function(G,e){return G.create("vs/editor/common/standaloneStrings",e)}),define(J[94],ee([1,0,624]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=void 0;var k;(function(o){o.inspectTokensAction=y.localize(0,null)})(k||(e.InspectTokensNLS=k={}));var L;(function(o){o.gotoLineActionLabel=y.localize(1,null)})(L||(e.GoToLineNLS=L={}));var D;(function(o){o.helpQuickAccessActionLabel=y.localize(2,null)})(D||(e.QuickHelpNLS=D={}));var _;(function(o){o.quickCommandActionLabel=y.localize(3,null),o.quickCommandHelp=y.localize(4,null)})(_||(e.QuickCommandNLS=_={}));var m;(function(o){o.quickOutlineActionLabel=y.localize(5,null),o.quickOutlineByCategoryActionLabel=y.localize(6,null)})(m||(e.QuickOutlineNLS=m={}));var S;(function(o){o.editorViewAccessibleLabel=y.localize(7,null),o.accessibilityHelpMessage=y.localize(8,null)})(S||(e.StandaloneCodeEditorNLS=S={}));var f;(function(o){o.toggleHighContrast=y.localize(9,null)})(f||(e.ToggleHighContrastNLS=f={}));var v;(function(o){o.bulkEditServiceSummary=y.localize(10,null)})(v||(e.StandaloneServicesNLS=v={}))}),define(J[625],ee([3,4]),function(G,e){return G.create("vs/editor/common/viewLayout/viewLineRenderer",e)}),define(J[95],ee([1,0,625,9,93,129,523]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class m{constructor(w,E){this.startOffset=w,this.endOffset=E}equals(w){return this.startOffset===w.startOffset&&this.endOffset===w.endOffset}}e.LineRange=m;class S{constructor(w,E,I,T,P,A,M,N,O,x,F,B,z,j,R,Z,se,le,te){this.useMonospaceOptimizations=w,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=I,this.continuesWithWrappedLine=T,this.isBasicASCII=P,this.containsRTL=A,this.fauxIndentLength=M,this.lineTokens=N,this.lineDecorations=O.sort(D.LineDecoration.compare),this.tabSize=x,this.startVisibleColumn=F,this.spaceWidth=B,this.stopRenderingLineAfter=R,this.renderWhitespace=Z==="all"?4:Z==="boundary"?1:Z==="selection"?2:Z==="trailing"?3:0,this.renderControlCharacters=se,this.fontLigatures=le,this.selectionsOnLine=te&&te.sort((V,H)=>V.startOffset<H.startOffset?-1:1);const Y=Math.abs(j-B),U=Math.abs(z-B);Y<U?(this.renderSpaceWidth=j,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=z,this.renderSpaceCharCode=183)}sameSelection(w){if(this.selectionsOnLine===null)return w===null;if(w===null||w.length!==this.selectionsOnLine.length)return!1;for(let E=0;E<this.selectionsOnLine.length;E++)if(!this.selectionsOnLine[E].equals(w[E]))return!1;return!0}equals(w){return this.useMonospaceOptimizations===w.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===w.canUseHalfwidthRightwardsArrow&&this.lineContent===w.lineContent&&this.continuesWithWrappedLine===w.continuesWithWrappedLine&&this.isBasicASCII===w.isBasicASCII&&this.containsRTL===w.containsRTL&&this.fauxIndentLength===w.fauxIndentLength&&this.tabSize===w.tabSize&&this.startVisibleColumn===w.startVisibleColumn&&this.spaceWidth===w.spaceWidth&&this.renderSpaceWidth===w.renderSpaceWidth&&this.renderSpaceCharCode===w.renderSpaceCharCode&&this.stopRenderingLineAfter===w.stopRenderingLineAfter&&this.renderWhitespace===w.renderWhitespace&&this.renderControlCharacters===w.renderControlCharacters&&this.fontLigatures===w.fontLigatures&&D.LineDecoration.equalsArr(this.lineDecorations,w.lineDecorations)&&this.lineTokens.equals(w.lineTokens)&&this.sameSelection(w.selectionsOnLine)}}e.RenderLineInput=S;class f{constructor(w,E){this.partIndex=w,this.charIndex=E}}e.DomPosition=f;class v{static getPartIndex(w){return(w&4294901760)>>>16}static getCharIndex(w){return(w&65535)>>>0}constructor(w,E){this.length=w,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(w,E,I,T){const P=(E<<16|I<<0)>>>0;this._data[w-1]=P,this._horizontalOffset[w-1]=T}getHorizontalOffset(w){return this._horizontalOffset.length===0?0:this._horizontalOffset[w-1]}charOffsetToPartData(w){return this.length===0?0:w<0?this._data[0]:w>=this.length?this._data[this.length-1]:this._data[w]}getDomPosition(w){const E=this.charOffsetToPartData(w-1),I=v.getPartIndex(E),T=v.getCharIndex(E);return new f(I,T)}getColumn(w,E){return this.partDataToCharOffset(w.partIndex,E,w.charIndex)+1}partDataToCharOffset(w,E,I){if(this.length===0)return 0;const T=(w<<16|I<<0)>>>0;let P=0,A=this.length-1;for(;P+1<A;){const R=P+A>>>1,Z=this._data[R];if(Z===T)return R;Z>T?A=R:P=R}if(P===A)return P;const M=this._data[P],N=this._data[A];if(M===T)return P;if(N===T)return A;const O=v.getPartIndex(M),x=v.getCharIndex(M),F=v.getPartIndex(N);let B;O!==F?B=E:B=v.getCharIndex(N);const z=I-x,j=B-I;return z<=j?P:A}}e.CharacterMapping=v;class o{constructor(w,E,I){this._renderLineOutputBrand=void 0,this.characterMapping=w,this.containsRTL=E,this.containsForeignElements=I}}e.RenderLineOutput=o;function i(C,w){if(C.lineContent.length===0){if(C.lineDecorations.length>0){w.appendString("<span>");let E=0,I=0,T=0;for(const A of C.lineDecorations)(A.type===1||A.type===2)&&(w.appendString('<span class="'),w.appendString(A.className),w.appendString('"></span>'),A.type===1&&(T|=1,E++),A.type===2&&(T|=2,I++));w.appendString("</span>");const P=new v(1,E+I);return P.setColumnInfo(1,E,0,0),new o(P,!1,T)}return w.appendString("<span><span></span></span>"),new o(new v(0,0),!1,0)}return b(l(C),w)}e.renderViewLine=i;class t{constructor(w,E,I,T){this.characterMapping=w,this.html=E,this.containsRTL=I,this.containsForeignElements=T}}e.RenderLineOutput2=t;function n(C){const w=new L.StringBuilder(1e4),E=i(C,w);return new t(E.characterMapping,w.build(),E.containsRTL,E.containsForeignElements)}e.renderViewLine2=n;class r{constructor(w,E,I,T,P,A,M,N,O,x,F,B,z,j,R,Z){this.fontIsMonospace=w,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=I,this.len=T,this.isOverflowing=P,this.overflowingCharCount=A,this.parts=M,this.containsForeignElements=N,this.fauxIndentLength=O,this.tabSize=x,this.startVisibleColumn=F,this.containsRTL=B,this.spaceWidth=z,this.renderSpaceCharCode=j,this.renderWhitespace=R,this.renderControlCharacters=Z}}function l(C){const w=C.lineContent;let E,I,T;C.stopRenderingLineAfter!==-1&&C.stopRenderingLineAfter<w.length?(E=!0,I=w.length-C.stopRenderingLineAfter,T=C.stopRenderingLineAfter):(E=!1,I=0,T=w.length);let P=h(w,C.containsRTL,C.lineTokens,C.fauxIndentLength,T);C.renderControlCharacters&&!C.isBasicASCII&&(P=a(w,P)),(C.renderWhitespace===4||C.renderWhitespace===1||C.renderWhitespace===2&&C.selectionsOnLine||C.renderWhitespace===3&&!C.continuesWithWrappedLine)&&(P=d(C,w,T,P));let A=0;if(C.lineDecorations.length>0){for(let M=0,N=C.lineDecorations.length;M<N;M++){const O=C.lineDecorations[M];O.type===3||O.type===1?A|=1:O.type===2&&(A|=2)}P=c(w,T,P,C.lineDecorations)}return C.containsRTL||(P=s(w,P,!C.isBasicASCII||C.fontLigatures)),new r(C.useMonospaceOptimizations,C.canUseHalfwidthRightwardsArrow,w,T,E,I,P,A,C.fauxIndentLength,C.tabSize,C.startVisibleColumn,C.containsRTL,C.spaceWidth,C.renderSpaceCharCode,C.renderWhitespace,C.renderControlCharacters)}function h(C,w,E,I,T){const P=[];let A=0;I>0&&(P[A++]=new _.LinePart(I,"",0,!1));let M=I;for(let N=0,O=E.getCount();N<O;N++){const x=E.getEndOffset(N);if(x<=I)continue;const F=E.getClassName(N);if(x>=T){const z=w?k.containsRTL(C.substring(M,T)):!1;P[A++]=new _.LinePart(T,F,0,z);break}const B=w?k.containsRTL(C.substring(M,x)):!1;P[A++]=new _.LinePart(x,F,0,B),M=x}return P}function s(C,w,E){let I=0;const T=[];let P=0;if(E)for(let A=0,M=w.length;A<M;A++){const N=w[A],O=N.endIndex;if(I+50<O){const x=N.type,F=N.metadata,B=N.containsRTL;let z=-1,j=I;for(let R=I;R<O;R++)C.charCodeAt(R)===32&&(z=R),z!==-1&&R-j>=50&&(T[P++]=new _.LinePart(z+1,x,F,B),j=z+1,z=-1);j!==O&&(T[P++]=new _.LinePart(O,x,F,B))}else T[P++]=N;I=O}else for(let A=0,M=w.length;A<M;A++){const N=w[A],O=N.endIndex,x=O-I;if(x>50){const F=N.type,B=N.metadata,z=N.containsRTL,j=Math.ceil(x/50);for(let R=1;R<j;R++){const Z=I+R*50;T[P++]=new _.LinePart(Z,F,B,z)}T[P++]=new _.LinePart(O,F,B,z)}else T[P++]=N;I=O}return T}function u(C){return C<32?C!==9:C===127||C>=8234&&C<=8238||C>=8294&&C<=8297||C>=8206&&C<=8207||C===1564}function a(C,w){const E=[];let I=new _.LinePart(0,"",0,!1),T=0;for(const P of w){const A=P.endIndex;for(;T<A;T++){const M=C.charCodeAt(T);u(M)&&(T>I.endIndex&&(I=new _.LinePart(T,P.type,P.metadata,P.containsRTL),E.push(I)),I=new _.LinePart(T+1,"mtkcontrol",P.metadata,!1),E.push(I))}T>I.endIndex&&(I=new _.LinePart(A,P.type,P.metadata,P.containsRTL),E.push(I))}return E}function d(C,w,E,I){const T=C.continuesWithWrappedLine,P=C.fauxIndentLength,A=C.tabSize,M=C.startVisibleColumn,N=C.useMonospaceOptimizations,O=C.selectionsOnLine,x=C.renderWhitespace===1,F=C.renderWhitespace===3,B=C.renderSpaceWidth!==C.spaceWidth,z=[];let j=0,R=0,Z=I[R].type,se=I[R].containsRTL,le=I[R].endIndex;const te=I.length;let Y=!1,U=k.firstNonWhitespaceIndex(w),V;U===-1?(Y=!0,U=E,V=E):V=k.lastNonWhitespaceIndex(w);let H=!1,$=0,X=O&&O[$],Q=M%A;for(let ce=P;ce<E;ce++){const ae=w.charCodeAt(ce);X&&ce>=X.endOffset&&($++,X=O&&O[$]);let ue;if(ce<U||ce>V)ue=!0;else if(ae===9)ue=!0;else if(ae===32)if(x)if(H)ue=!0;else{const q=ce+1<E?w.charCodeAt(ce+1):0;ue=q===32||q===9}else ue=!0;else ue=!1;if(ue&&O&&(ue=!!X&&X.startOffset<=ce&&X.endOffset>ce),ue&&F&&(ue=Y||ce>V),ue&&se&&ce>=U&&ce<=V&&(ue=!1),H){if(!ue||!N&&Q>=A){if(B){const q=j>0?z[j-1].endIndex:P;for(let W=q+1;W<=ce;W++)z[j++]=new _.LinePart(W,"mtkw",1,!1)}else z[j++]=new _.LinePart(ce,"mtkw",1,!1);Q=Q%A}}else(ce===le||ue&&ce>P)&&(z[j++]=new _.LinePart(ce,Z,0,se),Q=Q%A);for(ae===9?Q=A:k.isFullWidthCharacter(ae)?Q+=2:Q++,H=ue;ce===le&&(R++,R<te);)Z=I[R].type,se=I[R].containsRTL,le=I[R].endIndex}let de=!1;if(H)if(T&&x){const ce=E>0?w.charCodeAt(E-1):0,ae=E>1?w.charCodeAt(E-2):0;ce===32&&ae!==32&&ae!==9||(de=!0)}else de=!0;if(de)if(B){const ce=j>0?z[j-1].endIndex:P;for(let ae=ce+1;ae<=E;ae++)z[j++]=new _.LinePart(ae,"mtkw",1,!1)}else z[j++]=new _.LinePart(E,"mtkw",1,!1);else z[j++]=new _.LinePart(E,Z,0,se);return z}function c(C,w,E,I){I.sort(D.LineDecoration.compare);const T=D.LineDecorationsNormalizer.normalize(C,I),P=T.length;let A=0;const M=[];let N=0,O=0;for(let F=0,B=E.length;F<B;F++){const z=E[F],j=z.endIndex,R=z.type,Z=z.metadata,se=z.containsRTL;for(;A<P&&T[A].startOffset<j;){const le=T[A];if(le.startOffset>O&&(O=le.startOffset,M[N++]=new _.LinePart(O,R,Z,se)),le.endOffset+1<=j)O=le.endOffset+1,M[N++]=new _.LinePart(O,R+" "+le.className,Z|le.metadata,se),A++;else{O=j,M[N++]=new _.LinePart(O,R+" "+le.className,Z|le.metadata,se);break}}j>O&&(O=j,M[N++]=new _.LinePart(O,R,Z,se))}const x=E[E.length-1].endIndex;if(A<P&&T[A].startOffset===x)for(;A<P&&T[A].startOffset===x;){const F=T[A];M[N++]=new _.LinePart(O,F.className,F.metadata,!1),A++}return M}function b(C,w){const E=C.fontIsMonospace,I=C.canUseHalfwidthRightwardsArrow,T=C.containsForeignElements,P=C.lineContent,A=C.len,M=C.isOverflowing,N=C.overflowingCharCount,O=C.parts,x=C.fauxIndentLength,F=C.tabSize,B=C.startVisibleColumn,z=C.containsRTL,j=C.spaceWidth,R=C.renderSpaceCharCode,Z=C.renderWhitespace,se=C.renderControlCharacters,le=new v(A+1,O.length);let te=!1,Y=0,U=B,V=0,H=0,$=0;z?w.appendString('<span dir="ltr">'):w.appendString("<span>");for(let X=0,Q=O.length;X<Q;X++){const de=O[X],ce=de.endIndex,ae=de.type,ue=de.containsRTL,q=Z!==0&&de.isWhitespace(),W=q&&!E&&(ae==="mtkw"||!T),K=Y===ce&&de.isPseudoAfter();if(V=0,w.appendString("<span "),ue&&w.appendString('style="unicode-bidi:isolate" '),w.appendString('class="'),w.appendString(W?"mtkz":ae),w.appendASCIICharCode(34),q){let ie=0;{let ne=Y,oe=U;for(;ne<ce;ne++){const ge=(P.charCodeAt(ne)===9?F-oe%F:1)|0;ie+=ge,ne>=x&&(oe+=ge)}}for(W&&(w.appendString(' style="width:'),w.appendString(String(j*ie)),w.appendString('px"')),w.appendASCIICharCode(62);Y<ce;Y++){le.setColumnInfo(Y+1,X-$,V,H),$=0;const ne=P.charCodeAt(Y);let oe,re;if(ne===9){oe=F-U%F|0,re=oe,!I||re>1?w.appendCharCode(8594):w.appendCharCode(65515);for(let ge=2;ge<=re;ge++)w.appendCharCode(160)}else oe=2,re=1,w.appendCharCode(R),w.appendCharCode(8204);V+=oe,H+=re,Y>=x&&(U+=re)}}else for(w.appendASCIICharCode(62);Y<ce;Y++){le.setColumnInfo(Y+1,X-$,V,H),$=0;const ie=P.charCodeAt(Y);let ne=1,oe=1;switch(ie){case 9:ne=F-U%F,oe=ne;for(let re=1;re<=ne;re++)w.appendCharCode(160);break;case 32:w.appendCharCode(160);break;case 60:w.appendString("&lt;");break;case 62:w.appendString("&gt;");break;case 38:w.appendString("&amp;");break;case 0:se?w.appendCharCode(9216):w.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:w.appendCharCode(65533);break;default:k.isFullWidthCharacter(ie)&&oe++,se&&ie<32?w.appendCharCode(9216+ie):se&&ie===127?w.appendCharCode(9249):se&&u(ie)?(w.appendString("[U+"),w.appendString(g(ie)),w.appendString("]"),ne=8,oe=ne):w.appendCharCode(ie)}V+=ne,H+=oe,Y>=x&&(U+=oe)}K?$++:$=0,Y>=A&&!te&&de.isPseudoAfter()&&(te=!0,le.setColumnInfo(Y+1,X,V,H)),w.appendString("</span>")}return te||le.setColumnInfo(A+1,O.length-1,V,H),M&&(w.appendString('<span class="mtkoverflow">'),w.appendString(y.localize(0,null,p(N))),w.appendString("</span>")),w.appendString("</span>"),new o(le,z,T)}function g(C){return C.toString(16).toUpperCase().padStart(4,"0")}function p(C){return C<1024?y.localize(1,null,C):C<1024*1024?`${(C/1024).toFixed(1)} KB`:`${(C/1024/1024).toFixed(1)} MB`}}),define(J[626],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(J[627],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(J[628],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(J[629],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(J[630],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(J[631],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/codeAction",e)}),define(J[632],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(J[633],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/codeActionContributions",e)}),define(J[634],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/codeActionController",e)}),define(J[635],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/codeActionMenu",e)}),define(J[636],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(J[637],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(J[638],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(J[639],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions",e)}),define(J[640],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/comment/browser/comment",e)}),define(J[641],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(J[642],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(J[643],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution",e)}),define(J[644],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController",e)}),define(J[645],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders",e)}),define(J[646],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController",e)}),define(J[647],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(J[648],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/find/browser/findController",e)}),define(J[649],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/find/browser/findWidget",e)}),define(J[650],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/folding/browser/folding",e)}),define(J[651],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(J[652],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(J[653],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/format/browser/format",e)}),define(J[654],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/format/browser/formatActions",e)}),define(J[655],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(J[656],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(J[657],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(J[658],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(J[659],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(J[660],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(J[661],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(J[662],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(J[158],ee([1,0,12,6,167,2,66,43,9,5,662]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class o{constructor(l,h,s,u){this.isProviderFirst=l,this.parent=h,this.link=s,this._rangeCallback=u,this.id=L.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var l,h;return(h=(l=this._range)!==null&&l!==void 0?l:this.link.targetSelectionRange)!==null&&h!==void 0?h:this.link.range}set range(l){this._range=l,this._rangeCallback(this)}get ariaMessage(){var l;const h=(l=this.parent.getPreview(this))===null||l===void 0?void 0:l.preview(this.range);return h?(0,v.localize)(1,null,h.value,(0,m.basename)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,v.localize)(0,null,(0,m.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=o;class i{constructor(l){this._modelReference=l}dispose(){this._modelReference.dispose()}preview(l,h=8){const s=this._modelReference.object.textEditorModel;if(!s)return;const{startLineNumber:u,startColumn:a,endLineNumber:d,endColumn:c}=l,b=s.getWordUntilPosition({lineNumber:u,column:a-h}),g=new f.Range(u,b.startColumn,u,a),p=new f.Range(d,c,d,1073741824),C=s.getValueInRange(g).replace(/^\s+/,""),w=s.getValueInRange(l),E=s.getValueInRange(p).replace(/\s+$/,"");return{value:C+w+E,highlight:{start:C.length,end:C.length+w.length}}}}e.FilePreview=i;class t{constructor(l,h){this.parent=l,this.uri=h,this.children=[],this._previews=new _.ResourceMap}dispose(){(0,D.dispose)(this._previews.values()),this._previews.clear()}getPreview(l){return this._previews.get(l.uri)}get ariaMessage(){const l=this.children.length;return l===1?(0,v.localize)(2,null,(0,m.basename)(this.uri),this.uri.fsPath):(0,v.localize)(3,null,l,(0,m.basename)(this.uri),this.uri.fsPath)}resolve(l){return Le(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const h of this.children)if(!this._previews.has(h.uri))try{const s=yield l.createModelReference(h.uri);this._previews.set(h.uri,new i(s))}catch(s){(0,y.onUnexpectedError)(s)}return this})}}e.FileReferences=t;class n{constructor(l,h){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=l,this._title=h;const[s]=l;l.sort(n._compareReferences);let u;for(const a of l)if((!u||!m.extUri.isEqual(u.uri,a.uri,!0))&&(u=new t(this,a.uri),this.groups.push(u)),u.children.length===0||n._compareReferences(a,u.children[u.children.length-1])!==0){const d=new o(s===a,u,a,c=>this._onDidChangeReferenceRange.fire(c));this.references.push(d),u.children.push(d)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new n(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,v.localize)(4,null):this.references.length===1?(0,v.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,v.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,v.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(l,h){const{parent:s}=l;let u=s.children.indexOf(l);const a=s.children.length,d=s.parent.groups.length;return d===1||h&&u+1<a||!h&&u>0?(h?u=(u+1)%a:u=(u+a-1)%a,s.children[u]):(u=s.parent.groups.indexOf(s),h?(u=(u+1)%d,s.parent.groups[u].children[0]):(u=(u+d-1)%d,s.parent.groups[u].children[s.parent.groups[u].children.length-1]))}nearestReference(l,h){const s=this.references.map((u,a)=>({idx:a,prefixLen:S.commonPrefixLength(u.uri.toString(),l.toString()),offsetDist:Math.abs(u.range.startLineNumber-h.lineNumber)*100+Math.abs(u.range.startColumn-h.column)})).sort((u,a)=>u.prefixLen>a.prefixLen?-1:u.prefixLen<a.prefixLen?1:u.offsetDist<a.offsetDist?-1:u.offsetDist>a.offsetDist?1:0)[0];if(s)return this.references[s.idx]}referenceAt(l,h){for(const s of this.references)if(s.uri.toString()===l.toString()&&f.Range.containsPosition(s.range,h))return s}firstReference(){for(const l of this.references)if(l.isProviderFirst)return l;return this.references[0]}static _compareReferences(l,h){return m.extUri.compare(l.uri,h.uri)||f.Range.compareRangesUsingStarts(l.range,h.range)}}e.ReferencesModel=n}),define(J[663],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(J[664],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/hover/browser/hover",e)}),define(J[665],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(J[666],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(J[667],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(J[668],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(J[669],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(J[670],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/inlineCompletions/browser/commands",e)}),define(J[671],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/inlineCompletions/browser/hoverParticipant",e)}),define(J[672],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys",e)}),define(J[673],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget",e)}),define(J[674],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(J[675],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(J[676],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(J[677],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/links/browser/links",e)}),define(J[678],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/message/browser/messageController",e)}),define(J[679],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(J[680],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(J[681],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(J[682],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(J[683],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(J[684],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(J[685],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(J[686],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/rename/browser/rename",e)}),define(J[687],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(J[688],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(J[689],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(J[690],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(J[691],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",e)}),define(J[692],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(J[693],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(J[694],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(J[695],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(J[696],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(J[697],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(J[698],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(J[699],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(J[700],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(J[701],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(J[702],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(J[703],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/wordHighlighter/browser/highlightDecorations",e)}),define(J[704],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(J[705],ee([3,4]),function(G,e){return G.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(J[706],ee([3,4]),function(G,e){return G.create("vs/platform/action/common/actionCommonCategories",e)}),define(J[707],ee([3,4]),function(G,e){return G.create("vs/platform/actionWidget/browser/actionList",e)}),define(J[708],ee([3,4]),function(G,e){return G.create("vs/platform/actionWidget/browser/actionWidget",e)}),define(J[709],ee([3,4]),function(G,e){return G.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(J[710],ee([3,4]),function(G,e){return G.create("vs/platform/actions/browser/toolbar",e)}),define(J[711],ee([3,4]),function(G,e){return G.create("vs/platform/actions/common/menuService",e)}),define(J[712],ee([3,4]),function(G,e){return G.create("vs/platform/audioCues/browser/audioCueService",e)}),define(J[713],ee([3,4]),function(G,e){return G.create("vs/platform/configuration/common/configurationRegistry",e)}),define(J[714],ee([3,4]),function(G,e){return G.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(J[715],ee([3,4]),function(G,e){return G.create("vs/platform/contextkey/common/contextkey",e)}),define(J[716],ee([3,4]),function(G,e){return G.create("vs/platform/contextkey/common/contextkeys",e)}),define(J[717],ee([3,4]),function(G,e){return G.create("vs/platform/contextkey/common/scanner",e)}),define(J[718],ee([3,4]),function(G,e){return G.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(J[719],ee([3,4]),function(G,e){return G.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(J[720],ee([3,4]),function(G,e){return G.create("vs/platform/list/browser/listService",e)}),define(J[721],ee([3,4]),function(G,e){return G.create("vs/platform/markers/common/markers",e)}),define(J[722],ee([3,4]),function(G,e){return G.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(J[723],ee([3,4]),function(G,e){return G.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(J[724],ee([3,4]),function(G,e){return G.create("vs/platform/quickinput/browser/quickInput",e)}),define(J[725],ee([3,4]),function(G,e){return G.create("vs/platform/quickinput/browser/quickInputList",e)}),define(J[726],ee([3,4]),function(G,e){return G.create("vs/platform/quickinput/browser/quickInputUtils",e)}),define(J[727],ee([3,4]),function(G,e){return G.create("vs/platform/theme/common/colorRegistry",e)}),define(J[728],ee([3,4]),function(G,e){return G.create("vs/platform/theme/common/iconRegistry",e)}),define(J[729],ee([3,4]),function(G,e){return G.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(J[730],ee([3,4]),function(G,e){return G.create("vs/platform/workspace/common/workspace",e)}),define(J[731],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isICommandActionToggleInfo=void 0;function y(k){return k?k.condition!==void 0:!1}e.isICommandActionToggleInfo=y}),define(J[732],ee([1,0,706]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Categories=void 0,e.Categories=Object.freeze({View:{value:(0,y.localize)(0,null),original:"View"},Help:{value:(0,y.localize)(1,null),original:"Help"},Test:{value:(0,y.localize)(2,null),original:"Test"},File:{value:(0,y.localize)(3,null),original:"File"},Preferences:{value:(0,y.localize)(4,null),original:"Preferences"},Developer:{value:(0,y.localize)(5,null),original:"Developer"}})}),define(J[733],ee([1,0,12,717]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scanner=void 0;function L(...S){switch(S.length){case 1:return(0,k.localize)(0,null,S[0]);case 2:return(0,k.localize)(1,null,S[0],S[1]);case 3:return(0,k.localize)(2,null,S[0],S[1],S[2]);default:return}}const D=(0,k.localize)(3,null),_=(0,k.localize)(4,null);class m{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(f){switch(f.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return f.isTripleEq?"===":"==";case 4:return f.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return f.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return f.lexeme;case 18:return f.lexeme;case 19:return f.lexeme;case 20:return"EOF";default:throw(0,y.illegalState)(`unhandled token type: ${JSON.stringify(f)}; have you forgotten to add a case?`)}}reset(f){return this._input=f,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const v=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:v})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const v=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:v})}else this._match(126)?this._addToken(9):this._error(L("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(L("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(L("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(f){return this._isAtEnd()||this._input.charCodeAt(this._current)!==f?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(f){this._tokens.push({type:f,offset:this._start})}_error(f){const v=this._start,o=this._input.substring(this._start,this._current),i={type:19,offset:this._start,lexeme:o};this._errors.push({offset:v,lexeme:o,additionalInfo:f}),this._tokens.push(i)}_string(){this.stringRe.lastIndex=this._start;const f=this.stringRe.exec(this._input);if(f){this._current=this._start+f[0].length;const v=this._input.substring(this._start,this._current),o=m._keywords.get(v);o?this._addToken(o):this._tokens.push({type:17,lexeme:v,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(D);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let f=this._current,v=!1,o=!1;for(;;){if(f>=this._input.length){this._current=f,this._error(_);return}const t=this._input.charCodeAt(f);if(v)v=!1;else if(t===47&&!o){f++;break}else t===91?o=!0:t===92?v=!0:t===93&&(o=!1);f++}for(;f<this._input.length&&m._regexFlags.has(this._input.charCodeAt(f));)f++;this._current=f;const i=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:i,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}e.Scanner=m,m._regexFlags=new Set(["i","g","s","m","y","u"].map(S=>S.charCodeAt(0))),m._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}),define(J[734],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var y;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(y||(e.EditorOpenSource=y={}))}),define(J[735],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifierSet=e.ExtensionIdentifier=void 0;class y{constructor(D){this.value=D,this._lower=D.toLowerCase()}static toKey(D){return typeof D=="string"?D.toLowerCase():D._lower}}e.ExtensionIdentifier=y;class k{constructor(D){if(this._set=new Set,D)for(const _ of D)this.add(_)}add(D){this._set.add(y.toKey(D))}has(D){return this._set.has(y.toKey(D))}}e.ExtensionIdentifierSet=k}),define(J[326],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var y;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(y||(e.FileKind=y={}))}),define(J[736],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function y(k){var L,D;return((L=k.lookupKeybinding("history.showPrevious"))===null||L===void 0?void 0:L.getElectronAccelerator())==="Up"&&((D=k.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=y}),define(J[234],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class y{constructor(L,D=[],_=!1){this.ctor=L,this.staticArguments=D,this.supportsDelayedInstantiation=_}}e.SyncDescriptor=y}),define(J[49],ee([1,0,234]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const k=[];function L(_,m,S){m instanceof y.SyncDescriptor||(m=new y.SyncDescriptor(m,[],!!S)),k.push([_,m])}e.registerSingleton=L;function D(){return k}e.getSingletonServiceDescriptors=D}),define(J[737],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class y{constructor(D,_){this.key=D,this.data=_,this.incoming=new Map,this.outgoing=new Map}}e.Node=y;class k{constructor(D){this._hashFn=D,this._nodes=new Map}roots(){const D=[];for(const _ of this._nodes.values())_.outgoing.size===0&&D.push(_);return D}insertEdge(D,_){const m=this.lookupOrInsertNode(D),S=this.lookupOrInsertNode(_);m.outgoing.set(S.key,S),S.incoming.set(m.key,m)}removeNode(D){const _=this._hashFn(D);this._nodes.delete(_);for(const m of this._nodes.values())m.outgoing.delete(_),m.incoming.delete(_)}lookupOrInsertNode(D){const _=this._hashFn(D);let m=this._nodes.get(_);return m||(m=new y(_,D),this._nodes.set(_,m)),m}isEmpty(){return this._nodes.size===0}toString(){const D=[];for(const[_,m]of this._nodes)D.push(`${_}
	(-> incoming)[${[...m.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...m.outgoing.keys()].join(",")}]
`);return D.join(`
`)}findCycleSlow(){for(const[D,_]of this._nodes){const m=new Set([D]),S=this._findCycle(_,m);if(S)return S}}_findCycle(D,_){for(const[m,S]of D.outgoing){if(_.has(m))return[..._,m].join(" -> ");_.add(m);const f=this._findCycle(S,_);if(f)return f;_.delete(m)}}}e.Graph=k}),define(J[8],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var y;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function _(m){return m[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=_})(y||(e._util=y={})),e.IInstantiationService=L("instantiationService");function k(D,_,m){_[y.DI_TARGET]===_?_[y.DI_DEPENDENCIES].push({id:D,index:m}):(_[y.DI_DEPENDENCIES]=[{id:D,index:m}],_[y.DI_TARGET]=_)}function L(D){if(y.serviceIds.has(D))return y.serviceIds.get(D);const _=function(m,S,f){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(_,m,f)};return _.toString=()=>D,y.serviceIds.set(D,_),_}e.createDecorator=L}),define(J[133],ee([1,0,8,22,18]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,y.createDecorator)("IWorkspaceEditService");class D{constructor(f){this.metadata=f}static convert(f){return f.edits.map(v=>{if(_.is(v))return _.lift(v);if(m.is(v))return m.lift(v);throw new Error("Unsupported edit")})}}e.ResourceEdit=D;class _ extends D{static is(f){return f instanceof _?!0:(0,L.isObject)(f)&&k.URI.isUri(f.resource)&&(0,L.isObject)(f.textEdit)}static lift(f){return f instanceof _?f:new _(f.resource,f.textEdit,f.versionId,f.metadata)}constructor(f,v,o=void 0,i){super(i),this.resource=f,this.textEdit=v,this.versionId=o}}e.ResourceTextEdit=_;class m extends D{static is(f){return f instanceof m?!0:(0,L.isObject)(f)&&(!!f.newResource||!!f.oldResource)}static lift(f){return f instanceof m?f:new m(f.oldResource,f.newResource,f.options,f.metadata)}constructor(f,v,o={},i){super(i),this.oldResource=f,this.newResource=v,this.options=o}}e.ResourceFileEdit=m}),define(J[33],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,y.createDecorator)("codeEditorService")}),define(J[41],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,y.createDecorator)("languageService")}),define(J[115],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=void 0,e.IEditorWorkerService=(0,y.createDecorator)("editorWorkerService")}),define(J[19],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,y.createDecorator)("ILanguageFeaturesService")}),define(J[738],ee([1,0,588,19,49]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class D{constructor(){this.referenceProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentOnDropEditProvider=new y.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new y.LanguageFeatureRegistry(this._score.bind(this))}_score(m){var S;return(S=this._notebookTypeResolver)===null||S===void 0?void 0:S.call(this,m)}}e.LanguageFeaturesService=D,(0,L.registerSingleton)(k.ILanguageFeaturesService,D,1)}),define(J[235],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,y.createDecorator)("markerDecorationsService")}),define(J[50],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,y.createDecorator)("modelService")}),define(J[69],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,y.createDecorator)("textModelService")}),define(J[236],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISemanticTokensStylingService=void 0,e.ISemanticTokensStylingService=(0,y.createDecorator)("semanticTokensStylingService")}),define(J[189],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,y.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,y.createDecorator)("textResourcePropertiesService")}),define(J[739],ee([1,0,49,8,284]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITreeViewsDnDService=void 0,e.ITreeViewsDnDService=(0,k.createDecorator)("treeViewsDndService"),(0,y.registerSingleton)(e.ITreeViewsDnDService,L.TreeViewsDnDService,1)}),define(J[740],ee([1,0,133]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCombinedWorkspaceEdit=void 0;function k(L,D,_){var m,S;return{edits:[...D.map(f=>new y.ResourceTextEdit(L,typeof _.insertText=="string"?{range:f,text:_.insertText,insertAsSnippet:!1}:{range:f,text:_.insertText.snippet,insertAsSnippet:!0})),...(S=(m=_.additionalEdit)===null||m===void 0?void 0:m.edits)!==null&&S!==void 0?S:[]]}}e.createCombinedWorkspaceEdit=k});var fe=this&&this.__param||function(G,e){return function(y,k){e(y,k,G)}};define(J[741],ee([1,0,91,6,2,42,9,60,36,11,5,93,41,47,88,129,95,216,153,445]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;let u=class extends L.Disposable{constructor(g,p,C){super(),this.editor=g,this.model=p,this.languageService=C,this.isDisposed=(0,D.observableValue)("isDisposed",!1),this.currentTextModel=(0,D.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,D.derived)("uiState",w=>{if(this.isDisposed.read(w))return;const E=this.currentTextModel.read(w);if(E!==this.model.targetTextModel.read(w))return;const I=this.model.ghostText.read(w);if(!I)return;const T=I instanceof h.GhostTextReplacement?I.columnRange:void 0,P=[],A=[];function M(B,z){if(A.length>0){const j=A[A.length-1];z&&j.decorations.push(new r.LineDecoration(j.content.length+1,j.content.length+1+B[0].length,z,0)),j.content+=B[0],B=B.slice(1)}for(const j of B)A.push({content:j,decorations:z?[new r.LineDecoration(1,j.length+1,z,0)]:[]})}const N=E.getLineContent(I.lineNumber);let O,x=0;for(const B of I.parts){let z=B.lines;O===void 0?(P.push({column:B.column,text:z[0],preview:B.preview}),z=z.slice(1)):M([N.substring(x,B.column-1)],void 0),z.length>0&&(M(z,"ghost-text"),O===void 0&&B.column<=N.length&&(O=B.column)),x=B.column-1}O!==void 0&&M([N.substring(x)],void 0);const F=O!==void 0?new s.ColumnRange(O,N.length+1):void 0;return{replacedRange:T,inlineTexts:P,additionalLines:A,hiddenRange:F,lineNumber:I.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(w),targetTextModel:E}}),this.decorations=(0,D.derived)("decorations",w=>{const E=this.uiState.read(w);if(!E)return[];const I=[];E.replacedRange&&I.push({range:E.replacedRange.toRange(E.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),E.hiddenRange&&I.push({range:E.hiddenRange.toRange(E.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const T of E.inlineTexts)I.push({range:v.Range.fromPositions(new f.Position(E.lineNumber,T.column)),options:{description:"ghost-text",after:{content:T.text,inlineClassName:T.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:t.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return I}),this.additionalLinesWidget=this._register(new a(this.editor,this.languageService.languageIdCodec,(0,D.derived)("lines",w=>{const E=this.uiState.read(w);return E?{lineNumber:E.lineNumber,additionalLines:E.additionalLines,minReservedLineCount:E.additionalReservedLineCount,targetTextModel:E.targetTextModel}:void 0}))),this._register((0,L.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,s.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(g){return this.additionalLinesWidget.viewZoneId===g}};e.GhostTextWidget=u,e.GhostTextWidget=u=Ne([fe(2,i.ILanguageService)],u);class a extends L.Disposable{get viewZoneId(){return this._viewZoneId}constructor(g,p,C){super(),this.editor=g,this.languageIdCodec=p,this.lines=C,this._viewZoneId=void 0,this.editorOptionsChanged=(0,D.observableSignalFromEvent)("editorOptionChanged",k.Event.filter(this.editor.onDidChangeConfiguration,w=>w.hasChanged(32)||w.hasChanged(115)||w.hasChanged(97)||w.hasChanged(92)||w.hasChanged(50)||w.hasChanged(49)||w.hasChanged(65))),this._register((0,D.autorun)("update view zone",w=>{const E=this.lines.read(w);this.editorOptionsChanged.read(w),E?this.updateLines(E.lineNumber,E.additionalLines,E.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(g=>{this._viewZoneId&&(g.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(g,p,C){const w=this.editor.getModel();if(!w)return;const{tabSize:E}=w.getOptions();this.editor.changeViewZones(I=>{this._viewZoneId&&(I.removeZone(this._viewZoneId),this._viewZoneId=void 0);const T=Math.max(p.length,C);if(T>0){const P=document.createElement("div");d(P,E,p,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=I.addZone({afterLineNumber:g,heightInLines:T,domNode:P,afterColumnAffinity:1})}})}}function d(b,g,p,C,w){const E=C.get(32),I=C.get(115),T="none",P=C.get(92),A=C.get(50),M=C.get(49),N=C.get(65),O=new o.StringBuilder(1e4);O.appendString('<div class="suggest-preview-text">');for(let B=0,z=p.length;B<z;B++){const j=p[B],R=j.content;O.appendString('<div class="view-line'),O.appendString('" style="top:'),O.appendString(String(B*N)),O.appendString('px;width:1000000px;">');const Z=_.isBasicASCII(R),se=_.containsRTL(R),le=n.LineTokens.createEmpty(R,w);(0,l.renderViewLine)(new l.RenderLineInput(M.isMonospace&&!E,M.canUseHalfwidthRightwardsArrow,R,!1,Z,se,0,le,j.decorations,g,0,M.spaceWidth,M.middotWidth,M.wsmiddotWidth,I,T,P,A!==S.EditorFontLigatures.OFF,null),O),O.appendString("</div>")}O.appendString("</div>"),(0,m.applyFontInfo)(b,M);const x=O.build(),F=c?c.createHTML(x):x;b.innerHTML=F}const c=(0,y.createTrustedTypesPolicy)("editorGhostText",{createHTML:b=>b})}),define(J[134],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,y.createDecorator)("themeService")}),define(J[116],ee([1,0,8,712]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AudioCue=e.SoundSource=e.Sound=e.IAudioCueService=void 0,e.IAudioCueService=(0,y.createDecorator)("audioCue");class L{static register(S){return new L(S.fileName)}constructor(S){this.fileName=S}}e.Sound=L,L.error=L.register({fileName:"error.mp3"}),L.warning=L.register({fileName:"warning.mp3"}),L.foldedArea=L.register({fileName:"foldedAreas.mp3"}),L.break=L.register({fileName:"break.mp3"}),L.quickFixes=L.register({fileName:"quickFixes.mp3"}),L.taskCompleted=L.register({fileName:"taskCompleted.mp3"}),L.taskFailed=L.register({fileName:"taskFailed.mp3"}),L.terminalBell=L.register({fileName:"terminalBell.mp3"}),L.diffLineInserted=L.register({fileName:"diffLineInserted.mp3"}),L.diffLineDeleted=L.register({fileName:"diffLineDeleted.mp3"}),L.diffLineModified=L.register({fileName:"diffLineModified.mp3"}),L.chatRequestSent=L.register({fileName:"chatRequestSent.mp3"}),L.chatResponsePending=L.register({fileName:"chatResponsePending.mp3"}),L.chatResponseReceived1=L.register({fileName:"chatResponseReceived1.mp3"}),L.chatResponseReceived2=L.register({fileName:"chatResponseReceived2.mp3"}),L.chatResponseReceived3=L.register({fileName:"chatResponseReceived3.mp3"}),L.chatResponseReceived4=L.register({fileName:"chatResponseReceived4.mp3"});class D{constructor(S){this.randomOneOf=S}}e.SoundSource=D;class _{static register(S){const f=new D("randomOneOf"in S.sound?S.sound.randomOneOf:[S.sound]),v=new _(f,S.name,S.settingsKey);return _._audioCues.add(v),v}constructor(S,f,v){this.sound=S,this.name=f,this.settingsKey=v}}e.AudioCue=_,_._audioCues=new Set,_.error=_.register({name:(0,k.localize)(0,null),sound:L.error,settingsKey:"audioCues.lineHasError"}),_.warning=_.register({name:(0,k.localize)(1,null),sound:L.warning,settingsKey:"audioCues.lineHasWarning"}),_.foldedArea=_.register({name:(0,k.localize)(2,null),sound:L.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),_.break=_.register({name:(0,k.localize)(3,null),sound:L.break,settingsKey:"audioCues.lineHasBreakpoint"}),_.inlineSuggestion=_.register({name:(0,k.localize)(4,null),sound:L.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),_.terminalQuickFix=_.register({name:(0,k.localize)(5,null),sound:L.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),_.onDebugBreak=_.register({name:(0,k.localize)(6,null),sound:L.break,settingsKey:"audioCues.onDebugBreak"}),_.noInlayHints=_.register({name:(0,k.localize)(7,null),sound:L.error,settingsKey:"audioCues.noInlayHints"}),_.taskCompleted=_.register({name:(0,k.localize)(8,null),sound:L.taskCompleted,settingsKey:"audioCues.taskCompleted"}),_.taskFailed=_.register({name:(0,k.localize)(9,null),sound:L.taskFailed,settingsKey:"audioCues.taskFailed"}),_.terminalCommandFailed=_.register({name:(0,k.localize)(10,null),sound:L.error,settingsKey:"audioCues.terminalCommandFailed"}),_.terminalBell=_.register({name:(0,k.localize)(11,null),sound:L.terminalBell,settingsKey:"audioCues.terminalBell"}),_.notebookCellCompleted=_.register({name:(0,k.localize)(12,null),sound:L.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),_.notebookCellFailed=_.register({name:(0,k.localize)(13,null),sound:L.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),_.diffLineInserted=_.register({name:(0,k.localize)(14,null),sound:L.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),_.diffLineDeleted=_.register({name:(0,k.localize)(15,null),sound:L.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),_.diffLineModified=_.register({name:(0,k.localize)(16,null),sound:L.diffLineModified,settingsKey:"audioCues.diffLineModified"}),_.chatRequestSent=_.register({name:(0,k.localize)(17,null),sound:L.chatRequestSent,settingsKey:"audioCues.chatRequestSent"}),_.chatResponseReceived=_.register({name:(0,k.localize)(18,null),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[L.chatResponseReceived1,L.chatResponseReceived2,L.chatResponseReceived3,L.chatResponseReceived4]}}),_.chatResponsePending=_.register({name:(0,k.localize)(19,null),sound:L.chatResponsePending,settingsKey:"audioCues.chatResponsePending"})}),define(J[96],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,y.createDecorator)("clipboardService")}),define(J[25],ee([1,0,6,51,2,65,18,8]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,m.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new y.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(S,f){if(!S)throw new Error("invalid command");if(typeof S=="string"){if(!f)throw new Error("invalid command");return this.registerCommand({id:S,handler:f})}if(S.description){const n=[];for(const l of S.description.args)n.push(l.constraint);const r=S.handler;S.handler=function(l,...h){return(0,_.validateConstraints)(h,n),r(l,...h)}}const{id:v}=S;let o=this._commands.get(v);o||(o=new D.LinkedList,this._commands.set(v,o));const i=o.unshift(S),t=(0,L.toDisposable)(()=>{i();const n=this._commands.get(v);n?.isEmpty()&&this._commands.delete(v)});return this._onDidRegisterCommand.fire(v),t}registerCommandAlias(S,f){return e.CommandsRegistry.registerCommand(S,(v,...o)=>v.get(e.ICommandService).executeCommand(f,...o))}getCommand(S){const f=this._commands.get(S);if(!(!f||f.isEmpty()))return k.Iterable.first(f)}getCommands(){const S=new Map;for(const f of this._commands.keys()){const v=this.getCommand(f);v&&S.set(f,v)}return S}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(J[327],ee([1,0,21,12,2,18,22,50,25,19]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class v{constructor(){this.lenses=[],this._disposables=new L.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(t,n){this._disposables.add(t);for(const r of t.lenses)this.lenses.push({symbol:r,provider:n})}}e.CodeLensModel=v;function o(i,t,n){return Le(this,void 0,void 0,function*(){const r=i.ordered(t),l=new Map,h=new v,s=r.map((u,a)=>Le(this,void 0,void 0,function*(){l.set(u,a);try{const d=yield Promise.resolve(u.provideCodeLenses(t,n));d&&h.add(d,u)}catch(d){(0,k.onUnexpectedExternalError)(d)}}));return yield Promise.all(s),h.lenses=h.lenses.sort((u,a)=>u.symbol.range.startLineNumber<a.symbol.range.startLineNumber?-1:u.symbol.range.startLineNumber>a.symbol.range.startLineNumber?1:l.get(u.provider)<l.get(a.provider)?-1:l.get(u.provider)>l.get(a.provider)?1:u.symbol.range.startColumn<a.symbol.range.startColumn?-1:u.symbol.range.startColumn>a.symbol.range.startColumn?1:0),h})}e.getCodeLensModel=o,S.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(i,...t){let[n,r]=t;(0,D.assertType)(_.URI.isUri(n)),(0,D.assertType)(typeof r=="number"||!r);const{codeLensProvider:l}=i.get(f.ILanguageFeaturesService),h=i.get(m.IModelService).getModel(n);if(!h)throw(0,k.illegalArgument)();const s=[],u=new L.DisposableStore;return o(l,h,y.CancellationToken.None).then(a=>{u.add(a);const d=[];for(const c of a.lenses)r==null||c.symbol.command?s.push(c.symbol):r-- >0&&c.provider.resolveCodeLens&&d.push(Promise.resolve(c.provider.resolveCodeLens(h,c.symbol,y.CancellationToken.None)).then(b=>s.push(b||c.symbol)));return Promise.all(d)}).then(()=>s).finally(()=>{setTimeout(()=>u.dispose(),100)})})}),define(J[742],ee([1,0,15,21,12,2,18,22,5,50,25,19]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class i{constructor(l,h){this._link=l,this._provider=h}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(l){return Le(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,l)).then(h=>(this._link=h||this._link,this._link.url?this.resolve(l):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=i;class t{constructor(l){this._disposables=new D.DisposableStore;let h=[];for(const[s,u]of l){const a=s.links.map(d=>new i(d,u));h=t._union(h,a),(0,D.isDisposable)(s)&&this._disposables.add(s)}this.links=h}dispose(){this._disposables.dispose(),this.links.length=0}static _union(l,h){const s=[];let u,a,d,c;for(u=0,d=0,a=l.length,c=h.length;u<a&&d<c;){const b=l[u],g=h[d];if(S.Range.areIntersectingOrTouching(b.range,g.range)){u++;continue}S.Range.compareRangesUsingStarts(b.range,g.range)<0?(s.push(b),u++):(s.push(g),d++)}for(;u<a;u++)s.push(l[u]);for(;d<c;d++)s.push(h[d]);return s}}e.LinksList=t;function n(r,l,h){const s=[],u=r.ordered(l).reverse().map((a,d)=>Promise.resolve(a.provideLinks(l,h)).then(c=>{c&&(s[d]=[c,a])},L.onUnexpectedExternalError));return Promise.all(u).then(()=>{const a=new t((0,y.coalesce)(s));return h.isCancellationRequested?(a.dispose(),new t([])):a})}e.getLinks=n,v.CommandsRegistry.registerCommand("_executeLinkProvider",(r,...l)=>Le(void 0,void 0,void 0,function*(){let[h,s]=l;(0,_.assertType)(h instanceof m.URI),typeof s!="number"&&(s=0);const{linkProvider:u}=r.get(o.ILanguageFeaturesService),a=r.get(f.IModelService).getModel(h);if(!a)return[];const d=yield n(u,a,k.CancellationToken.None);if(!d)return[];for(let b=0;b<Math.min(s,d.links.length);b++)yield d.links[b].resolve(k.CancellationToken.None);const c=d.links.slice(0);return d.dispose(),c}))}),define(J[328],ee([1,0,21,12,22,50,25,18,592,5,19]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function o(c){return c&&!!c.data}e.isSemanticTokens=o;function i(c){return c&&Array.isArray(c.edits)}e.isSemanticTokensEdits=i;class t{constructor(b,g,p){this.provider=b,this.tokens=g,this.error=p}}e.DocumentSemanticTokensResult=t;function n(c,b){return c.has(b)}e.hasDocumentSemanticTokensProvider=n;function r(c,b){const g=c.orderedGroups(b);return g.length>0?g[0]:[]}function l(c,b,g,p,C){return Le(this,void 0,void 0,function*(){const w=r(c,b),E=yield Promise.all(w.map(I=>Le(this,void 0,void 0,function*(){let T,P=null;try{T=yield I.provideDocumentSemanticTokens(b,I===g?p:null,C)}catch(A){P=A,T=null}return(!T||!o(T)&&!i(T))&&(T=null),new t(I,T,P)})));for(const I of E){if(I.error)throw I.error;if(I.tokens)return I}return E.length>0?E[0]:null})}e.getDocumentSemanticTokens=l;function h(c,b){const g=c.orderedGroups(b);return g.length>0?g[0]:null}class s{constructor(b,g){this.provider=b,this.tokens=g}}function u(c,b){return c.has(b)}e.hasDocumentRangeSemanticTokensProvider=u;function a(c,b){const g=c.orderedGroups(b);return g.length>0?g[0]:[]}function d(c,b,g,p){return Le(this,void 0,void 0,function*(){const C=a(c,b),w=yield Promise.all(C.map(E=>Le(this,void 0,void 0,function*(){let I;try{I=yield E.provideDocumentRangeSemanticTokens(b,g,p)}catch(T){(0,k.onUnexpectedExternalError)(T),I=null}return(!I||!o(I))&&(I=null),new s(E,I)})));for(const E of w)if(E.tokens)return E;return w.length>0?w[0]:null})}e.getDocumentRangeSemanticTokens=d,_.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(c,...b)=>Le(void 0,void 0,void 0,function*(){const[g]=b;(0,m.assertType)(g instanceof L.URI);const p=c.get(D.IModelService).getModel(g);if(!p)return;const{documentSemanticTokensProvider:C}=c.get(v.ILanguageFeaturesService),w=h(C,p);return w?w[0].getLegend():c.get(_.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",g)})),_.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(c,...b)=>Le(void 0,void 0,void 0,function*(){const[g]=b;(0,m.assertType)(g instanceof L.URI);const p=c.get(D.IModelService).getModel(g);if(!p)return;const{documentSemanticTokensProvider:C}=c.get(v.ILanguageFeaturesService);if(!n(C,p))return c.get(_.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",g,p.getFullModelRange());const w=yield l(C,p,null,null,y.CancellationToken.None);if(!w)return;const{provider:E,tokens:I}=w;if(!I||!o(I))return;const T=(0,S.encodeSemanticTokensDto)({id:0,type:"full",data:I.data});return I.resultId&&E.releaseDocumentSemanticTokens(I.resultId),T})),_.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(c,...b)=>Le(void 0,void 0,void 0,function*(){const[g,p]=b;(0,m.assertType)(g instanceof L.URI);const C=c.get(D.IModelService).getModel(g);if(!C)return;const{documentRangeSemanticTokensProvider:w}=c.get(v.ILanguageFeaturesService),E=a(w,C);if(E.length===0)return;if(E.length===1)return E[0].getLegend();if(!p||!f.Range.isIRange(p))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),E[0].getLegend();const I=yield d(w,C,f.Range.lift(p),y.CancellationToken.None);if(I)return I.provider.getLegend()})),_.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(c,...b)=>Le(void 0,void 0,void 0,function*(){const[g,p]=b;(0,m.assertType)(g instanceof L.URI),(0,m.assertType)(f.Range.isIRange(p));const C=c.get(D.IModelService).getModel(g);if(!C)return;const{documentRangeSemanticTokensProvider:w}=c.get(v.ILanguageFeaturesService),E=yield d(w,C,f.Range.lift(p),y.CancellationToken.None);if(!(!E||!E.tokens))return(0,S.encodeSemanticTokensDto)({id:0,type:"full",data:E.tokens.data})}))}),define(J[28],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,y.createDecorator)("configurationService");function k(f,v){const o=Object.create(null);for(const i in f)L(o,i,f[i],v);return o}e.toValuesTree=k;function L(f,v,o,i){const t=v.split("."),n=t.pop();let r=f;for(let l=0;l<t.length;l++){const h=t[l];let s=r[h];switch(typeof s){case"undefined":s=r[h]=Object.create(null);break;case"object":break;default:i(`Ignoring ${v} as ${t.slice(0,l+1).join(".")} is ${JSON.stringify(s)}`);return}r=s}if(typeof r=="object"&&r!==null)try{r[n]=o}catch{i(`Ignoring ${v} as ${t.join(".")} is ${JSON.stringify(r)}`)}else i(`Ignoring ${v} as ${t.join(".")} is ${JSON.stringify(r)}`)}e.addToValueTree=L;function D(f,v){const o=v.split(".");_(f,o)}e.removeFromValueTree=D;function _(f,v){const o=v.shift();if(v.length===0){delete f[o];return}if(Object.keys(f).indexOf(o)!==-1){const i=f[o];typeof i=="object"&&!Array.isArray(i)&&(_(i,v),Object.keys(i).length===0&&delete f[o])}}function m(f,v,o){function i(r,l){let h=r;for(const s of l){if(typeof h!="object"||h===null)return;h=h[s]}return h}const t=v.split("."),n=i(f,t);return typeof n>"u"?o:n}e.getConfigurationValue=m;function S(f){return f.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=S}),define(J[329],ee([1,0,30,157,299,28]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const _=5;class m{static create(h,s){return this._INSTANCE.create(h,s)}constructor(h){this._maxCacheDepth=h,this._entries=Object.create(null)}create(h,s){if(h!==null&&h.depth>=this._maxCacheDepth)return new S(h,s);let u=S.getStackElementId(h);u.length>0&&(u+="|"),u+=s;let a=this._entries[u];return a||(a=new S(h,s),this._entries[u]=a,a)}}m._INSTANCE=new m(_);class S{constructor(h,s){this.parent=h,this.state=s,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(h){let s="";for(;h!==null;)s.length>0&&(s+="|"),s+=h.state,h=h.parent;return s}static _equals(h,s){for(;h!==null&&s!==null;){if(h===s)return!0;if(h.state!==s.state)return!1;h=h.parent,s=s.parent}return h===null&&s===null}equals(h){return S._equals(this,h)}push(h){return m.create(this,h)}pop(){return this.parent}popall(){let h=this;for(;h.parent;)h=h.parent;return h}switchTo(h){return m.create(this.parent,h)}}class f{constructor(h,s){this.languageId=h,this.state=s}equals(h){return this.languageId===h.languageId&&this.state.equals(h.state)}clone(){return this.state.clone()===this.state?this:new f(this.languageId,this.state)}}class v{static create(h,s){return this._INSTANCE.create(h,s)}constructor(h){this._maxCacheDepth=h,this._entries=Object.create(null)}create(h,s){if(s!==null)return new o(h,s);if(h!==null&&h.depth>=this._maxCacheDepth)return new o(h,s);const u=S.getStackElementId(h);let a=this._entries[u];return a||(a=new o(h,null),this._entries[u]=a,a)}}v._INSTANCE=new v(_);class o{constructor(h,s){this.stack=h,this.embeddedLanguageData=s}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:v.create(this.stack,this.embeddedLanguageData)}equals(h){return!(h instanceof o)||!this.stack.equals(h.stack)?!1:this.embeddedLanguageData===null&&h.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||h.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(h.embeddedLanguageData)}}class i{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(h){this._languageId=h}emit(h,s){this._lastTokenType===s&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=s,this._lastTokenLanguage=this._languageId,this._tokens.push(new y.Token(h,s,this._languageId)))}nestedLanguageTokenize(h,s,u,a){const d=u.languageId,c=u.state,b=y.TokenizationRegistry.get(d);if(!b)return this.enterLanguage(d),this.emit(a,""),c;const g=b.tokenize(h,s,c);if(a!==0)for(const p of g.tokens)this._tokens.push(new y.Token(p.offset+a,p.type,p.language));else this._tokens=this._tokens.concat(g.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,g.endState}finalize(h){return new y.TokenizationResult(this._tokens,h)}}class t{constructor(h,s){this._languageService=h,this._theme=s,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(h){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(h)}emit(h,s){const u=this._theme.match(this._currentLanguageId,s)|1024;this._lastTokenMetadata!==u&&(this._lastTokenMetadata=u,this._tokens.push(h),this._tokens.push(u))}static _merge(h,s,u){const a=h!==null?h.length:0,d=s.length,c=u!==null?u.length:0;if(a===0&&d===0&&c===0)return new Uint32Array(0);if(a===0&&d===0)return u;if(d===0&&c===0)return h;const b=new Uint32Array(a+d+c);h!==null&&b.set(h);for(let g=0;g<d;g++)b[a+g]=s[g];return u!==null&&b.set(u,a+d),b}nestedLanguageTokenize(h,s,u,a){const d=u.languageId,c=u.state,b=y.TokenizationRegistry.get(d);if(!b)return this.enterLanguage(d),this.emit(a,""),c;const g=b.tokenizeEncoded(h,s,c);if(a!==0)for(let p=0,C=g.tokens.length;p<C;p+=2)g.tokens[p]+=a;return this._prependTokens=t._merge(this._prependTokens,this._tokens,g.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,g.endState}finalize(h){return new y.EncodedTokenizationResult(t._merge(this._prependTokens,this._tokens,null),h)}}let n=class Pi{constructor(h,s,u,a,d){this._configurationService=d,this._languageService=h,this._standaloneThemeService=s,this._languageId=u,this._lexer=a,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let c=!1;this._tokenizationRegistryListener=y.TokenizationRegistry.onDidChange(b=>{if(c)return;let g=!1;for(let p=0,C=b.changedLanguages.length;p<C;p++){const w=b.changedLanguages[p];if(this._embeddedLanguages[w]){g=!0;break}}g&&(c=!0,y.TokenizationRegistry.handleChange([this._languageId]),c=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(b=>{b.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const h=[];for(const s in this._embeddedLanguages){const u=y.TokenizationRegistry.get(s);if(u){if(u instanceof Pi){const a=u.getLoadStatus();a.loaded===!1&&h.push(a.promise)}continue}y.TokenizationRegistry.isResolved(s)||h.push(y.TokenizationRegistry.getOrCreate(s))}return h.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(h).then(s=>{})}}getInitialState(){const h=m.create(null,this._lexer.start);return v.create(h,null)}tokenize(h,s,u){if(h.length>=this._maxTokenizationLineLength)return(0,k.nullTokenize)(this._languageId,u);const a=new i,d=this._tokenize(h,s,u,a);return a.finalize(d)}tokenizeEncoded(h,s,u){if(h.length>=this._maxTokenizationLineLength)return(0,k.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),u);const a=new t(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),d=this._tokenize(h,s,u,a);return a.finalize(d)}_tokenize(h,s,u,a){return u.embeddedLanguageData?this._nestedTokenize(h,s,u,0,a):this._myTokenize(h,s,u,0,a)}_findLeavingNestedLanguageOffset(h,s){let u=this._lexer.tokenizer[s.stack.state];if(!u&&(u=L.findRules(this._lexer,s.stack.state),!u))throw L.createError(this._lexer,"tokenizer state is not defined: "+s.stack.state);let a=-1,d=!1;for(const c of u){if(!L.isIAction(c.action)||c.action.nextEmbedded!=="@pop")continue;d=!0;let b=c.regex;const g=c.regex.source;if(g.substr(0,4)==="^(?:"&&g.substr(g.length-1,1)===")"){const C=(b.ignoreCase?"i":"")+(b.unicode?"u":"");b=new RegExp(g.substr(4,g.length-5),C)}const p=h.search(b);p===-1||p!==0&&c.matchOnlyAtLineStart||(a===-1||p<a)&&(a=p)}if(!d)throw L.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+s.stack.state);return a}_nestedTokenize(h,s,u,a,d){const c=this._findLeavingNestedLanguageOffset(h,u);if(c===-1){const p=d.nestedLanguageTokenize(h,s,u.embeddedLanguageData,a);return v.create(u.stack,new f(u.embeddedLanguageData.languageId,p))}const b=h.substring(0,c);b.length>0&&d.nestedLanguageTokenize(b,!1,u.embeddedLanguageData,a);const g=h.substring(c);return this._myTokenize(g,s,u,a+c,d)}_safeRuleName(h){return h?h.name:"(unknown)"}_myTokenize(h,s,u,a,d){d.enterLanguage(this._languageId);const c=h.length,b=s&&this._lexer.includeLF?h+`
`:h,g=b.length;let p=u.embeddedLanguageData,C=u.stack,w=0,E=null,I=!0;for(;I||w<g;){const T=w,P=C.depth,A=E?E.groups.length:0,M=C.state;let N=null,O=null,x=null,F=null,B=null;if(E){N=E.matches;const R=E.groups.shift();O=R.matched,x=R.action,F=E.rule,E.groups.length===0&&(E=null)}else{if(!I&&w>=g)break;I=!1;let R=this._lexer.tokenizer[M];if(!R&&(R=L.findRules(this._lexer,M),!R))throw L.createError(this._lexer,"tokenizer state is not defined: "+M);const Z=b.substr(w);for(const se of R)if((w===0||!se.matchOnlyAtLineStart)&&(N=Z.match(se.regex),N)){O=N[0],x=se.action;break}}if(N||(N=[""],O=""),x||(w<g&&(N=[b.charAt(w)],O=N[0]),x=this._lexer.defaultToken),O===null)break;for(w+=O.length;L.isFuzzyAction(x)&&L.isIAction(x)&&x.test;)x=x.test(O,N,M,w===g);let z=null;if(typeof x=="string"||Array.isArray(x))z=x;else if(x.group)z=x.group;else if(x.token!==null&&x.token!==void 0){if(x.tokenSubst?z=L.substituteMatches(this._lexer,x.token,O,N,M):z=x.token,x.nextEmbedded)if(x.nextEmbedded==="@pop"){if(!p)throw L.createError(this._lexer,"cannot pop embedded language if not inside one");p=null}else{if(p)throw L.createError(this._lexer,"cannot enter embedded language from within an embedded language");B=L.substituteMatches(this._lexer,x.nextEmbedded,O,N,M)}if(x.goBack&&(w=Math.max(0,w-x.goBack)),x.switchTo&&typeof x.switchTo=="string"){let R=L.substituteMatches(this._lexer,x.switchTo,O,N,M);if(R[0]==="@"&&(R=R.substr(1)),L.findRules(this._lexer,R))C=C.switchTo(R);else throw L.createError(this._lexer,"trying to switch to a state '"+R+"' that is undefined in rule: "+this._safeRuleName(F))}else{if(x.transform&&typeof x.transform=="function")throw L.createError(this._lexer,"action.transform not supported");if(x.next)if(x.next==="@push"){if(C.depth>=this._lexer.maxStack)throw L.createError(this._lexer,"maximum tokenizer stack size reached: ["+C.state+","+C.parent.state+",...]");C=C.push(M)}else if(x.next==="@pop"){if(C.depth<=1)throw L.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(F));C=C.pop()}else if(x.next==="@popall")C=C.popall();else{let R=L.substituteMatches(this._lexer,x.next,O,N,M);if(R[0]==="@"&&(R=R.substr(1)),L.findRules(this._lexer,R))C=C.push(R);else throw L.createError(this._lexer,"trying to set a next state '"+R+"' that is undefined in rule: "+this._safeRuleName(F))}}x.log&&typeof x.log=="string"&&L.log(this._lexer,this._lexer.languageId+": "+L.substituteMatches(this._lexer,x.log,O,N,M))}if(z===null)throw L.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(F));const j=R=>{const Z=this._languageService.getLanguageIdByLanguageName(R)||this._languageService.getLanguageIdByMimeType(R)||R,se=this._getNestedEmbeddedLanguageData(Z);if(w<g){const le=h.substr(w);return this._nestedTokenize(le,s,v.create(C,se),a+w,d)}else return v.create(C,se)};if(Array.isArray(z)){if(E&&E.groups.length>0)throw L.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(F));if(N.length!==z.length+1)throw L.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(F));let R=0;for(let Z=1;Z<N.length;Z++)R+=N[Z].length;if(R!==O.length)throw L.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(F));E={rule:F,matches:N,groups:[]};for(let Z=0;Z<z.length;Z++)E.groups[Z]={action:z[Z],matched:N[Z+1]};w-=O.length;continue}else{if(z==="@rematch"&&(w-=O.length,O="",N=null,z="",B!==null))return j(B);if(O.length===0){if(g===0||P!==C.depth||M!==C.state||(E?E.groups.length:0)!==A)continue;throw L.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(F))}let R=null;if(L.isString(z)&&z.indexOf("@brackets")===0){const Z=z.substr(9),se=r(this._lexer,O);if(!se)throw L.createError(this._lexer,"@brackets token returned but no bracket defined as: "+O);R=L.sanitize(se.token+Z)}else{const Z=z===""?"":z+this._lexer.tokenPostfix;R=L.sanitize(Z)}T<c&&d.emit(T+a,R)}if(B!==null)return j(B)}return v.create(C,p)}_getNestedEmbeddedLanguageData(h){if(!this._languageService.isRegisteredLanguageId(h))return new f(h,k.NullState);h!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(h),y.TokenizationRegistry.getOrCreate(h),this._embeddedLanguages[h]=!0);const s=y.TokenizationRegistry.get(h);return s?new f(h,s.getInitialState()):new f(h,k.NullState)}};e.MonarchTokenizer=n,e.MonarchTokenizer=n=Ne([fe(4,D.IConfigurationService)],n);function r(l,h){if(!h)return null;h=L.fixCase(l,h);const s=l.brackets;for(const u of s){if(u.open===h)return{token:u.token,bracketType:1};if(u.close===h)return{token:u.token,bracketType:-1}}return null}}),define(J[743],ee([1,0,91,9,30,88,95,67,329]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const f=(0,y.createTrustedTypesPolicy)("standaloneColorizer",{createHTML:n=>n});class v{static colorizeElement(r,l,h,s){s=s||{};const u=s.theme||"vs",a=s.mimeType||h.getAttribute("lang")||h.getAttribute("data-lang");if(!a)return console.error("Mode not detected"),Promise.resolve();const d=l.getLanguageIdByMimeType(a)||a;r.setTheme(u);const c=h.firstChild?h.firstChild.nodeValue:"";h.className+=" "+u;const b=g=>{var p;const C=(p=f?.createHTML(g))!==null&&p!==void 0?p:g;h.innerHTML=C};return this.colorize(l,c||"",d,s).then(b,g=>console.error(g))}static colorize(r,l,h,s){return Le(this,void 0,void 0,function*(){const u=r.languageIdCodec;let a=4;s&&typeof s.tabSize=="number"&&(a=s.tabSize),k.startsWithUTF8BOM(l)&&(l=l.substr(1));const d=k.splitLines(l);if(!r.isRegisteredLanguageId(h))return i(d,a,u);const c=yield L.TokenizationRegistry.getOrCreate(h);return c?o(d,a,c,u):i(d,a,u)})}static colorizeLine(r,l,h,s,u=4){const a=m.ViewLineRenderingData.isBasicASCII(r,l),d=m.ViewLineRenderingData.containsRTL(r,a,h);return(0,_.renderViewLine2)(new _.RenderLineInput(!1,!0,r,!1,a,d,0,s,[],u,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(r,l,h=4){const s=r.getLineContent(l);r.tokenization.forceTokenization(l);const a=r.tokenization.getLineTokens(l).inflate();return this.colorizeLine(s,r.mightContainNonBasicASCII(),r.mightContainRTL(),a,h)}}e.Colorizer=v;function o(n,r,l,h){return new Promise((s,u)=>{const a=()=>{const d=t(n,r,l,h);if(l instanceof S.MonarchTokenizer){const c=l.getLoadStatus();if(c.loaded===!1){c.promise.then(a,u);return}}s(d)};a()})}function i(n,r,l){let h=[];const u=new Uint32Array(2);u[0]=0,u[1]=33587200;for(let a=0,d=n.length;a<d;a++){const c=n[a];u[0]=c.length;const b=new D.LineTokens(u,c,l),g=m.ViewLineRenderingData.isBasicASCII(c,!0),p=m.ViewLineRenderingData.containsRTL(c,g,!0),C=(0,_.renderViewLine2)(new _.RenderLineInput(!1,!0,c,!1,g,p,0,b,[],r,0,0,0,0,-1,"none",!1,!1,null));h=h.concat(C.html),h.push("<br/>")}return h.join("")}function t(n,r,l,h){let s=[],u=l.getInitialState();for(let a=0,d=n.length;a<d;a++){const c=n[a],b=l.tokenizeEncoded(c,!0,u);D.LineTokens.convertToEndOffset(b.tokens,c.length);const g=new D.LineTokens(b.tokens,c,h),p=m.ViewLineRenderingData.isBasicASCII(c,!0),C=m.ViewLineRenderingData.containsRTL(c,p,!0),w=(0,_.renderViewLine2)(new _.RenderLineInput(!1,!0,c,!1,p,C,0,g.inflate(),[],r,0,0,0,0,-1,"none",!1,!1,null));s=s.concat(w.html),s.push("<br/>"),u=b.endState}return s.join("")}}),define(J[14],ee([1,0,17,9,733,8,715]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=e.Parser=void 0;const m=new Map;m.set("false",!1),m.set("true",!0),m.set("isMac",y.isMacintosh),m.set("isLinux",y.isLinux),m.set("isWindows",y.isWindows),m.set("isWeb",y.isWeb),m.set("isMacNative",y.isMacintosh&&!y.isWeb),m.set("isEdge",y.isEdge),m.set("isFirefox",y.isFirefox),m.set("isChrome",y.isChrome),m.set("isSafari",y.isSafari);const S=Object.prototype.hasOwnProperty,f={regexParsingWithErrorRecovery:!0},v=(0,_.localize)(0,null),o=(0,_.localize)(1,null),i=(0,_.localize)(2,null),t=(0,_.localize)(3,null),n=(0,_.localize)(4,null),r=(0,_.localize)(5,null),l=(0,_.localize)(6,null),h=(0,_.localize)(7,null);class s{constructor(U=f){this._config=U,this._scanner=new L.Scanner,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(U){if(U===""){this._parsingErrors.push({message:v,offset:0,lexeme:"",additionalInfo:o});return}this._tokens=this._scanner.reset(U).scan(),this._current=0,this._parsingErrors=[];try{const V=this._expr();if(!this._isAtEnd()){const H=this._peek(),$=H.type===17?r:void 0;throw this._parsingErrors.push({message:n,offset:H.offset,lexeme:L.Scanner.getLexeme(H),additionalInfo:$}),s._parseError}return V}catch(V){if(V!==s._parseError)throw V;return}}_expr(){return this._or()}_or(){const U=[this._and()];for(;this._matchOne(16);){const V=this._and();U.push(V)}return U.length===1?U[0]:u.or(...U)}_and(){const U=[this._term()];for(;this._matchOne(15);){const V=this._term();U.push(V)}return U.length===1?U[0]:u.and(...U)}_term(){if(this._matchOne(2)){const U=this._peek();switch(U.type){case 11:return this._advance(),c.INSTANCE;case 12:return this._advance(),b.INSTANCE;case 0:{this._advance();const V=this._expr();return this._consume(1,t),V?.negate()}case 17:return this._advance(),I.create(U.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",U)}}return this._primary()}_primary(){const U=this._peek();switch(U.type){case 11:return this._advance(),u.true();case 12:return this._advance(),u.false();case 0:{this._advance();const V=this._expr();return this._consume(1,t),V}case 17:{const V=U.lexeme;if(this._advance(),this._matchOne(9)){const $=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),$.type!==10)throw this._errExpectedButGot("REGEX",$);const X=$.lexeme,Q=X.lastIndexOf("/"),de=Q===X.length-1?void 0:this._removeFlagsGY(X.substring(Q+1));let ce;try{ce=new RegExp(X.substring(1,Q),de)}catch{throw this._errExpectedButGot("REGEX",$)}return O.create(V,ce)}switch($.type){case 10:case 19:{const X=[$.lexeme];this._advance();let Q=this._peek(),de=0;for(let W=0;W<$.lexeme.length;W++)$.lexeme.charCodeAt(W)===40?de++:$.lexeme.charCodeAt(W)===41&&de--;for(;!this._isAtEnd()&&Q.type!==15&&Q.type!==16;){switch(Q.type){case 0:de++;break;case 1:de--;break;case 10:case 18:for(let W=0;W<Q.lexeme.length;W++)Q.lexeme.charCodeAt(W)===40?de++:$.lexeme.charCodeAt(W)===41&&de--}if(de<0)break;X.push(L.Scanner.getLexeme(Q)),this._advance(),Q=this._peek()}const ce=X.join(""),ae=ce.lastIndexOf("/"),ue=ae===ce.length-1?void 0:this._removeFlagsGY(ce.substring(ae+1));let q;try{q=new RegExp(ce.substring(1,ae),ue)}catch{throw this._errExpectedButGot("REGEX",$)}return u.regex(V,q)}case 18:{const X=$.lexeme;this._advance();let Q=null;if(!(0,k.isFalsyOrWhitespace)(X)){const de=X.indexOf("/"),ce=X.lastIndexOf("/");if(de!==ce&&de>=0){const ae=X.slice(de+1,ce),ue=X[ce+1]==="i"?"i":"";try{Q=new RegExp(ae,ue)}catch{throw this._errExpectedButGot("REGEX",$)}}}if(Q===null)throw this._errExpectedButGot("REGEX",$);return O.create(V,Q)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,i);const $=this._value();return u.notIn(V,$)}switch(this._peek().type){case 3:{this._advance();const $=this._value();if(this._previous().type===18)return u.equals(V,$);switch($){case"true":return u.has(V);case"false":return u.not(V);default:return u.equals(V,$)}}case 4:{this._advance();const $=this._value();if(this._previous().type===18)return u.notEquals(V,$);switch($){case"true":return u.not(V);case"false":return u.has(V);default:return u.notEquals(V,$)}}case 5:return this._advance(),M.create(V,this._value());case 6:return this._advance(),N.create(V,this._value());case 7:return this._advance(),P.create(V,this._value());case 8:return this._advance(),A.create(V,this._value());case 13:return this._advance(),u.in(V,this._value());default:return u.has(V)}}case 20:throw this._parsingErrors.push({message:l,offset:U.offset,lexeme:"",additionalInfo:h}),s._parseError;default:throw this._errExpectedButGot(`true | false | KEY
	| KEY '=~' REGEX
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const U=this._peek();switch(U.type){case 17:case 18:return this._advance(),U.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(U){return U.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(U){return this._check(U)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(U,V){if(this._check(U))return this._advance();throw this._errExpectedButGot(V,this._peek())}_errExpectedButGot(U,V,H){const $=(0,_.localize)(8,null,U,L.Scanner.getLexeme(V)),X=V.offset,Q=L.Scanner.getLexeme(V);return this._parsingErrors.push({message:$,offset:X,lexeme:Q,additionalInfo:H}),s._parseError}_check(U){return this._peek().type===U}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}e.Parser=s,s._parseError=new Error;class u{static false(){return c.INSTANCE}static true(){return b.INSTANCE}static has(U){return g.create(U)}static equals(U,V){return p.create(U,V)}static notEquals(U,V){return E.create(U,V)}static regex(U,V){return O.create(U,V)}static in(U,V){return C.create(U,V)}static notIn(U,V){return w.create(U,V)}static not(U){return I.create(U)}static and(...U){return B.create(U,null,!0)}static or(...U){return z.create(U,null,!0)}static deserialize(U){return U==null?void 0:this._parser.parse(U)}}e.ContextKeyExpr=u,u._parser=new s({regexParsingWithErrorRecovery:!1});function a(Y,U){const V=Y?Y.substituteConstants():void 0,H=U?U.substituteConstants():void 0;return!V&&!H?!0:!V||!H?!1:V.equals(H)}e.expressionsAreEqualWithConstantSubstitution=a;function d(Y,U){return Y.cmp(U)}class c{constructor(){this.type=0}cmp(U){return this.type-U.type}equals(U){return U.type===this.type}substituteConstants(){return this}evaluate(U){return!1}serialize(){return"false"}keys(){return[]}negate(){return b.INSTANCE}}e.ContextKeyFalseExpr=c,c.INSTANCE=new c;class b{constructor(){this.type=1}cmp(U){return this.type-U.type}equals(U){return U.type===this.type}substituteConstants(){return this}evaluate(U){return!0}serialize(){return"true"}keys(){return[]}negate(){return c.INSTANCE}}e.ContextKeyTrueExpr=b,b.INSTANCE=new b;class g{static create(U,V=null){const H=m.get(U);return typeof H=="boolean"?H?b.INSTANCE:c.INSTANCE:new g(U,V)}constructor(U,V){this.key=U,this.negated=V,this.type=2}cmp(U){return U.type!==this.type?this.type-U.type:R(this.key,U.key)}equals(U){return U.type===this.type?this.key===U.key:!1}substituteConstants(){const U=m.get(this.key);return typeof U=="boolean"?U?b.INSTANCE:c.INSTANCE:this}evaluate(U){return!!U.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=g;class p{static create(U,V,H=null){if(typeof V=="boolean")return V?g.create(U,H):I.create(U,H);const $=m.get(U);return typeof $=="boolean"?V===($?"true":"false")?b.INSTANCE:c.INSTANCE:new p(U,V,H)}constructor(U,V,H){this.key=U,this.value=V,this.negated=H,this.type=4}cmp(U){return U.type!==this.type?this.type-U.type:Z(this.key,this.value,U.key,U.value)}equals(U){return U.type===this.type?this.key===U.key&&this.value===U.value:!1}substituteConstants(){const U=m.get(this.key);if(typeof U=="boolean"){const V=U?"true":"false";return this.value===V?b.INSTANCE:c.INSTANCE}return this}evaluate(U){return U.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=p;class C{static create(U,V){return new C(U,V)}constructor(U,V){this.key=U,this.valueKey=V,this.type=10,this.negated=null}cmp(U){return U.type!==this.type?this.type-U.type:Z(this.key,this.valueKey,U.key,U.valueKey)}equals(U){return U.type===this.type?this.key===U.key&&this.valueKey===U.valueKey:!1}substituteConstants(){return this}evaluate(U){const V=U.getValue(this.valueKey),H=U.getValue(this.key);return Array.isArray(V)?V.includes(H):typeof H=="string"&&typeof V=="object"&&V!==null?S.call(V,H):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=w.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=C;class w{static create(U,V){return new w(U,V)}constructor(U,V){this.key=U,this.valueKey=V,this.type=11,this._negated=C.create(U,V)}cmp(U){return U.type!==this.type?this.type-U.type:this._negated.cmp(U._negated)}equals(U){return U.type===this.type?this._negated.equals(U._negated):!1}substituteConstants(){return this}evaluate(U){return!this._negated.evaluate(U)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=w;class E{static create(U,V,H=null){if(typeof V=="boolean")return V?I.create(U,H):g.create(U,H);const $=m.get(U);return typeof $=="boolean"?V===($?"true":"false")?c.INSTANCE:b.INSTANCE:new E(U,V,H)}constructor(U,V,H){this.key=U,this.value=V,this.negated=H,this.type=5}cmp(U){return U.type!==this.type?this.type-U.type:Z(this.key,this.value,U.key,U.value)}equals(U){return U.type===this.type?this.key===U.key&&this.value===U.value:!1}substituteConstants(){const U=m.get(this.key);if(typeof U=="boolean"){const V=U?"true":"false";return this.value===V?c.INSTANCE:b.INSTANCE}return this}evaluate(U){return U.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=E;class I{static create(U,V=null){const H=m.get(U);return typeof H=="boolean"?H?c.INSTANCE:b.INSTANCE:new I(U,V)}constructor(U,V){this.key=U,this.negated=V,this.type=3}cmp(U){return U.type!==this.type?this.type-U.type:R(this.key,U.key)}equals(U){return U.type===this.type?this.key===U.key:!1}substituteConstants(){const U=m.get(this.key);return typeof U=="boolean"?U?c.INSTANCE:b.INSTANCE:this}evaluate(U){return!U.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=I;function T(Y,U){if(typeof Y=="string"){const V=parseFloat(Y);isNaN(V)||(Y=V)}return typeof Y=="string"||typeof Y=="number"?U(Y):c.INSTANCE}class P{static create(U,V,H=null){return T(V,$=>new P(U,$,H))}constructor(U,V,H){this.key=U,this.value=V,this.negated=H,this.type=12}cmp(U){return U.type!==this.type?this.type-U.type:Z(this.key,this.value,U.key,U.value)}equals(U){return U.type===this.type?this.key===U.key&&this.value===U.value:!1}substituteConstants(){return this}evaluate(U){return typeof this.value=="string"?!1:parseFloat(U.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=P;class A{static create(U,V,H=null){return T(V,$=>new A(U,$,H))}constructor(U,V,H){this.key=U,this.value=V,this.negated=H,this.type=13}cmp(U){return U.type!==this.type?this.type-U.type:Z(this.key,this.value,U.key,U.value)}equals(U){return U.type===this.type?this.key===U.key&&this.value===U.value:!1}substituteConstants(){return this}evaluate(U){return typeof this.value=="string"?!1:parseFloat(U.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=A;class M{static create(U,V,H=null){return T(V,$=>new M(U,$,H))}constructor(U,V,H){this.key=U,this.value=V,this.negated=H,this.type=14}cmp(U){return U.type!==this.type?this.type-U.type:Z(this.key,this.value,U.key,U.value)}equals(U){return U.type===this.type?this.key===U.key&&this.value===U.value:!1}substituteConstants(){return this}evaluate(U){return typeof this.value=="string"?!1:parseFloat(U.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=M;class N{static create(U,V,H=null){return T(V,$=>new N(U,$,H))}constructor(U,V,H){this.key=U,this.value=V,this.negated=H,this.type=15}cmp(U){return U.type!==this.type?this.type-U.type:Z(this.key,this.value,U.key,U.value)}equals(U){return U.type===this.type?this.key===U.key&&this.value===U.value:!1}substituteConstants(){return this}evaluate(U){return typeof this.value=="string"?!1:parseFloat(U.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=N;class O{static create(U,V){return new O(U,V)}constructor(U,V){this.key=U,this.regexp=V,this.type=7,this.negated=null}cmp(U){if(U.type!==this.type)return this.type-U.type;if(this.key<U.key)return-1;if(this.key>U.key)return 1;const V=this.regexp?this.regexp.source:"",H=U.regexp?U.regexp.source:"";return V<H?-1:V>H?1:0}equals(U){if(U.type===this.type){const V=this.regexp?this.regexp.source:"",H=U.regexp?U.regexp.source:"";return this.key===U.key&&V===H}return!1}substituteConstants(){return this}evaluate(U){const V=U.getValue(this.key);return this.regexp?this.regexp.test(V):!1}serialize(){const U=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${U}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this)),this.negated}}e.ContextKeyRegexExpr=O;class x{static create(U){return new x(U)}constructor(U){this._actual=U,this.type=8}cmp(U){return U.type!==this.type?this.type-U.type:this._actual.cmp(U._actual)}equals(U){return U.type===this.type?this._actual.equals(U._actual):!1}substituteConstants(){return this}evaluate(U){return!this._actual.evaluate(U)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=x;function F(Y){let U=null;for(let V=0,H=Y.length;V<H;V++){const $=Y[V].substituteConstants();if(Y[V]!==$&&U===null){U=[];for(let X=0;X<V;X++)U[X]=Y[X]}U!==null&&(U[V]=$)}return U===null?Y:U}class B{static create(U,V,H){return B._normalizeArr(U,V,H)}constructor(U,V){this.expr=U,this.negated=V,this.type=6}cmp(U){if(U.type!==this.type)return this.type-U.type;if(this.expr.length<U.expr.length)return-1;if(this.expr.length>U.expr.length)return 1;for(let V=0,H=this.expr.length;V<H;V++){const $=d(this.expr[V],U.expr[V]);if($!==0)return $}return 0}equals(U){if(U.type===this.type){if(this.expr.length!==U.expr.length)return!1;for(let V=0,H=this.expr.length;V<H;V++)if(!this.expr[V].equals(U.expr[V]))return!1;return!0}return!1}substituteConstants(){const U=F(this.expr);return U===this.expr?this:B.create(U,this.negated,!1)}evaluate(U){for(let V=0,H=this.expr.length;V<H;V++)if(!this.expr[V].evaluate(U))return!1;return!0}static _normalizeArr(U,V,H){const $=[];let X=!1;for(const Q of U)if(Q){if(Q.type===1){X=!0;continue}if(Q.type===0)return c.INSTANCE;if(Q.type===6){$.push(...Q.expr);continue}$.push(Q)}if($.length===0&&X)return b.INSTANCE;if($.length!==0){if($.length===1)return $[0];$.sort(d);for(let Q=1;Q<$.length;Q++)$[Q-1].equals($[Q])&&($.splice(Q,1),Q--);if($.length===1)return $[0];for(;$.length>1;){const Q=$[$.length-1];if(Q.type!==9)break;$.pop();const de=$.pop(),ce=$.length===0,ae=z.create(Q.expr.map(ue=>B.create([ue,de],null,H)),null,ce);ae&&($.push(ae),$.sort(d))}if($.length===1)return $[0];if(H){for(let Q=0;Q<$.length;Q++)for(let de=Q+1;de<$.length;de++)if($[Q].negate().equals($[de]))return c.INSTANCE;if($.length===1)return $[0]}return new B($,V)}}serialize(){return this.expr.map(U=>U.serialize()).join(" && ")}keys(){const U=[];for(const V of this.expr)U.push(...V.keys());return U}negate(){if(!this.negated){const U=[];for(const V of this.expr)U.push(V.negate());this.negated=z.create(U,this,!0)}return this.negated}}e.ContextKeyAndExpr=B;class z{static create(U,V,H){return z._normalizeArr(U,V,H)}constructor(U,V){this.expr=U,this.negated=V,this.type=9}cmp(U){if(U.type!==this.type)return this.type-U.type;if(this.expr.length<U.expr.length)return-1;if(this.expr.length>U.expr.length)return 1;for(let V=0,H=this.expr.length;V<H;V++){const $=d(this.expr[V],U.expr[V]);if($!==0)return $}return 0}equals(U){if(U.type===this.type){if(this.expr.length!==U.expr.length)return!1;for(let V=0,H=this.expr.length;V<H;V++)if(!this.expr[V].equals(U.expr[V]))return!1;return!0}return!1}substituteConstants(){const U=F(this.expr);return U===this.expr?this:z.create(U,this.negated,!1)}evaluate(U){for(let V=0,H=this.expr.length;V<H;V++)if(this.expr[V].evaluate(U))return!0;return!1}static _normalizeArr(U,V,H){let $=[],X=!1;if(U){for(let Q=0,de=U.length;Q<de;Q++){const ce=U[Q];if(ce){if(ce.type===0){X=!0;continue}if(ce.type===1)return b.INSTANCE;if(ce.type===9){$=$.concat(ce.expr);continue}$.push(ce)}}if($.length===0&&X)return c.INSTANCE;$.sort(d)}if($.length!==0){if($.length===1)return $[0];for(let Q=1;Q<$.length;Q++)$[Q-1].equals($[Q])&&($.splice(Q,1),Q--);if($.length===1)return $[0];if(H){for(let Q=0;Q<$.length;Q++)for(let de=Q+1;de<$.length;de++)if($[Q].negate().equals($[de]))return b.INSTANCE;if($.length===1)return $[0]}return new z($,V)}}serialize(){return this.expr.map(U=>U.serialize()).join(" || ")}keys(){const U=[];for(const V of this.expr)U.push(...V.keys());return U}negate(){if(!this.negated){const U=[];for(const V of this.expr)U.push(V.negate());for(;U.length>1;){const V=U.shift(),H=U.shift(),$=[];for(const X of te(V))for(const Q of te(H))$.push(B.create([X,Q],null,!1));U.unshift(z.create($,null,!1))}this.negated=z.create(U,this,!0)}return this.negated}}e.ContextKeyOrExpr=z;class j extends g{static all(){return j._info.values()}constructor(U,V,H){super(U,null),this._defaultValue=V,typeof H=="object"?j._info.push(Object.assign(Object.assign({},H),{key:U})):H!==!0&&j._info.push({key:U,description:H,type:V!=null?typeof V:void 0})}bindTo(U){return U.createKey(this.key,this._defaultValue)}getValue(U){return U.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(U){return p.create(this.key,U)}}e.RawContextKey=j,j._info=[],e.IContextKeyService=(0,D.createDecorator)("contextKeyService");function R(Y,U){return Y<U?-1:Y>U?1:0}function Z(Y,U,V,H){return Y<V?-1:Y>V?1:U<H?-1:U>H?1:0}function se(Y,U){if(Y.type===0||U.type===1)return!0;if(Y.type===9)return U.type===9?le(Y.expr,U.expr):!1;if(U.type===9){for(const V of U.expr)if(se(Y,V))return!0;return!1}if(Y.type===6){if(U.type===6)return le(U.expr,Y.expr);for(const V of Y.expr)if(se(V,U))return!0;return!1}return Y.equals(U)}e.implies=se;function le(Y,U){let V=0,H=0;for(;V<Y.length&&H<U.length;){const $=Y[V].cmp(U[H]);if($<0)return!1;$===0&&V++,H++}return V===Y.length}function te(Y){return Y.type===9?Y.expr:[Y]}}),define(J[20],ee([1,0,617,14]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var L;(function(D){D.editorSimpleInput=new k.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new k.RawContextKey("editorTextFocus",!1,y.localize(0,null)),D.focus=new k.RawContextKey("editorFocus",!1,y.localize(1,null)),D.textInputFocus=new k.RawContextKey("textInputFocus",!1,y.localize(2,null)),D.readOnly=new k.RawContextKey("editorReadonly",!1,y.localize(3,null)),D.inDiffEditor=new k.RawContextKey("inDiffEditor",!1,y.localize(4,null)),D.isEmbeddedDiffEditor=new k.RawContextKey("isEmbeddedDiffEditor",!1,y.localize(5,null)),D.accessibleDiffViewerVisible=new k.RawContextKey("accessibleDiffViewerVisible",!1,y.localize(6,null)),D.columnSelection=new k.RawContextKey("editorColumnSelection",!1,y.localize(7,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new k.RawContextKey("editorHasSelection",!1,y.localize(8,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new k.RawContextKey("editorHasMultipleSelections",!1,y.localize(9,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new k.RawContextKey("editorTabMovesFocus",!1,y.localize(10,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInWalkThroughSnippet=new k.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new k.RawContextKey("canUndo",!1,!0),D.canRedo=new k.RawContextKey("canRedo",!1,!0),D.hoverVisible=new k.RawContextKey("editorHoverVisible",!1,y.localize(11,null)),D.hoverFocused=new k.RawContextKey("editorHoverFocused",!1,y.localize(12,null)),D.stickyScrollFocused=new k.RawContextKey("stickyScrollFocused",!1,y.localize(13,null)),D.stickyScrollVisible=new k.RawContextKey("stickyScrollVisible",!1,y.localize(14,null)),D.standaloneColorPickerVisible=new k.RawContextKey("standaloneColorPickerVisible",!1,y.localize(15,null)),D.standaloneColorPickerFocused=new k.RawContextKey("standaloneColorPickerFocused",!1,y.localize(16,null)),D.inCompositeEditor=new k.RawContextKey("inCompositeEditor",void 0,y.localize(17,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new k.RawContextKey("editorLangId","",y.localize(18,null)),D.hasCompletionItemProvider=new k.RawContextKey("editorHasCompletionItemProvider",!1,y.localize(19,null)),D.hasCodeActionsProvider=new k.RawContextKey("editorHasCodeActionsProvider",!1,y.localize(20,null)),D.hasCodeLensProvider=new k.RawContextKey("editorHasCodeLensProvider",!1,y.localize(21,null)),D.hasDefinitionProvider=new k.RawContextKey("editorHasDefinitionProvider",!1,y.localize(22,null)),D.hasDeclarationProvider=new k.RawContextKey("editorHasDeclarationProvider",!1,y.localize(23,null)),D.hasImplementationProvider=new k.RawContextKey("editorHasImplementationProvider",!1,y.localize(24,null)),D.hasTypeDefinitionProvider=new k.RawContextKey("editorHasTypeDefinitionProvider",!1,y.localize(25,null)),D.hasHoverProvider=new k.RawContextKey("editorHasHoverProvider",!1,y.localize(26,null)),D.hasDocumentHighlightProvider=new k.RawContextKey("editorHasDocumentHighlightProvider",!1,y.localize(27,null)),D.hasDocumentSymbolProvider=new k.RawContextKey("editorHasDocumentSymbolProvider",!1,y.localize(28,null)),D.hasReferenceProvider=new k.RawContextKey("editorHasReferenceProvider",!1,y.localize(29,null)),D.hasRenameProvider=new k.RawContextKey("editorHasRenameProvider",!1,y.localize(30,null)),D.hasSignatureHelpProvider=new k.RawContextKey("editorHasSignatureHelpProvider",!1,y.localize(31,null)),D.hasInlayHintsProvider=new k.RawContextKey("editorHasInlayHintsProvider",!1,y.localize(32,null)),D.hasDocumentFormattingProvider=new k.RawContextKey("editorHasDocumentFormattingProvider",!1,y.localize(33,null)),D.hasDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,y.localize(34,null)),D.hasMultipleDocumentFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,y.localize(35,null)),D.hasMultipleDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,y.localize(36,null))})(L||(e.EditorContextKeys=L={}))}),define(J[237],ee([1,0,42,9,81,14,2,672]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionContextKeys=void 0;class S extends _.Disposable{constructor(v,o){super(),this.contextKeyService=v,this.model=o,this.inlineCompletionVisible=S.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=S.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=S.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=S.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,y.autorun)("update context key: inlineCompletionVisible, suppressSuggestions",i=>{const t=this.model.read(i),n=t?.state.read(i),r=!!n?.inlineCompletion&&n?.ghostText!==void 0&&!n?.ghostText.isEmpty();this.inlineCompletionVisible.set(r),n?.ghostText&&n?.inlineCompletion&&this.suppressSuggestions.set(n.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,y.autorun)("update context key: inlineCompletionSuggestsIndentation, inlineCompletionSuggestsIndentationLessThanTabSize",i=>{const t=this.model.read(i);let n=!1,r=!0;const l=t?.ghostText.read(i);if(t?.selectedSuggestItem&&l&&l.parts.length>0){const{column:h,lines:s}=l.parts[0],u=s[0],a=t.textModel.getLineIndentColumn(l.lineNumber);if(h<=a){let c=(0,k.firstNonWhitespaceIndex)(u);c===-1&&(c=u.length-1),n=c>0;const b=t.textModel.getOptions().tabSize;r=L.CursorColumns.visibleColumnFromColumn(u,c+1,b)<b}}this.inlineCompletionSuggestsIndentation.set(n),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(r)}))}}e.InlineCompletionContextKeys=S,S.inlineSuggestionVisible=new D.RawContextKey("inlineSuggestionVisible",!1,(0,m.localize)(0,null)),S.inlineSuggestionHasIndentation=new D.RawContextKey("inlineSuggestionHasIndentation",!1,(0,m.localize)(1,null)),S.inlineSuggestionHasIndentationLessThanTabSize=new D.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,m.localize)(2,null)),S.suppressSuggestions=new D.RawContextKey("inlineSuggestionSuppressSuggestions",void 0,(0,m.localize)(3,null))}),define(J[238],ee([1,0,21,12,18,22,11,30,19,69,25,14]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new o.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new o.RawContextKey("parameterHintsMultipleSignatures",!1)};function i(t,n,r,l,h){return Le(this,void 0,void 0,function*(){const s=t.ordered(n);for(const u of s)try{const a=yield u.provideSignatureHelp(n,r,h,l);if(a)return a}catch(a){(0,k.onUnexpectedExternalError)(a)}})}e.provideSignatureHelp=i,v.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(t,...n)=>Le(void 0,void 0,void 0,function*(){const[r,l,h]=n;(0,L.assertType)(D.URI.isUri(r)),(0,L.assertType)(_.Position.isIPosition(l)),(0,L.assertType)(typeof h=="string"||!h);const s=t.get(S.ILanguageFeaturesService),u=yield t.get(f.ITextModelService).createModelReference(r);try{const a=yield i(s.signatureHelpProvider,u.object.textEditorModel,_.Position.lift(l),{triggerKind:m.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:h},y.CancellationToken.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{u.dispose()}}))}),define(J[744],ee([1,0,13,12,6,2,122,30,238]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var f;(function(i){i.Default={type:0};class t{constructor(l,h){this.request=l,this.previouslyActiveHints=h,this.type=2}}i.Pending=t;class n{constructor(l){this.hints=l,this.type=1}}i.Active=n})(f||(f={}));class v extends D.Disposable{constructor(t,n,r=v.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new L.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=f.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.MutableDisposable),this.triggerChars=new _.CharacterSet,this.retriggerChars=new _.CharacterSet,this.triggerId=0,this.editor=t,this.providers=n,this.throttledDelayer=new y.Delayer(r),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(l=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(l=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(l=>this.onCursorChange(l))),this._register(this.editor.onDidChangeModelContent(l=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(l=>this.onDidType(l))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(t){this._state.type===2&&this._state.request.cancel(),this._state=t}cancel(t=!1){this.state=f.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)}trigger(t,n){const r=this.editor.getModel();if(!r||!this.providers.has(r))return;const l=++this.triggerId;this._pendingTriggers.push(t),this.throttledDelayer.trigger(()=>this.doTrigger(l),n).catch(k.onUnexpectedError)}next(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,n=this.state.hints.activeSignature,r=n%t===t-1,l=this.editor.getOption(84).cycle;if((t<2||r)&&!l){this.cancel();return}this.updateActiveSignature(r&&l?0:n+1)}previous(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,n=this.state.hints.activeSignature,r=n===0,l=this.editor.getOption(84).cycle;if((t<2||r)&&!l){this.cancel();return}this.updateActiveSignature(r&&l?t-1:n-1)}updateActiveSignature(t){this.state.type===1&&(this.state=new f.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:t})),this._onChangedHints.fire(this.state.hints))}doTrigger(t){return Le(this,void 0,void 0,function*(){const n=this.state.type===1||this.state.type===2,r=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const l=this._pendingTriggers.reduce(o);this._pendingTriggers=[];const h={triggerKind:l.triggerKind,triggerCharacter:l.triggerCharacter,isRetrigger:n,activeSignatureHelp:r};if(!this.editor.hasModel())return!1;const s=this.editor.getModel(),u=this.editor.getPosition();this.state=new f.Pending((0,y.createCancelablePromise)(a=>(0,S.provideSignatureHelp)(this.providers,s,u,h,a)),r);try{const a=yield this.state.request;return t!==this.triggerId?(a?.dispose(),!1):!a||!a.value.signatures||a.value.signatures.length===0?(a?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new f.Active(a.value),this._lastSignatureHelpResult.value=a,this._onChangedHints.fire(this.state.hints),!0)}catch(a){return t===this.triggerId&&(this.state=f.Default),(0,k.onUnexpectedError)(a),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const t=this.editor.getModel();if(t)for(const n of this.providers.ordered(t)){for(const r of n.signatureHelpTriggerCharacters||[])if(r.length){const l=r.charCodeAt(0);this.triggerChars.add(l),this.retriggerChars.add(l)}for(const r of n.signatureHelpRetriggerCharacters||[])r.length&&this.retriggerChars.add(r.charCodeAt(0))}}onDidType(t){if(!this.triggerOnType)return;const n=t.length-1,r=t.charCodeAt(n);(this.triggerChars.has(r)||this.isTriggered&&this.retriggerChars.has(r))&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:t.charAt(n)})}onCursorChange(t){t.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:m.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(84).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=v,v.DEFAULT_DELAY=120;function o(i,t){switch(t.triggerKind){case m.SignatureHelpTriggerKind.Invoke:return t;case m.SignatureHelpTriggerKind.ContentChange:return i;case m.SignatureHelpTriggerKind.TriggerCharacter:default:return t}}}),define(J[745],ee([1,0,14]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let k=class Yt{constructor(D,_){this._editor=D,this._index=0,this._ckOtherSuggestions=Yt.OtherSuggestions.bindTo(_)}dispose(){this.reset()}reset(){var D;this._ckOtherSuggestions.reset(),(D=this._listener)===null||D===void 0||D.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:D,index:_},m){if(D.items.length===0){this.reset();return}if(Yt._moveIndex(!0,D,_)===_){this.reset();return}this._acceptNext=m,this._model=D,this._index=_,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(D,_,m){let S=m;for(let f=_.items.length;f>0&&(S=(S+_.items.length+(D?1:-1))%_.items.length,!(S===m||!_.items[S].completion.additionalTextEdits));f--);return S}next(){this._move(!0)}prev(){this._move(!1)}_move(D){if(this._model)try{this._ignore=!0,this._index=Yt._moveIndex(D,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};e.SuggestAlternatives=k,k.OtherSuggestions=new y.RawContextKey("hasOtherSuggestions",!1),e.SuggestAlternatives=k=Ne([fe(1,y.IContextKeyService)],k)}),define(J[746],ee([1,0,14]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let k=class Oi{constructor(D,_){this._editor=D,this._enabled=!1,this._ckAtEnd=Oi.AtEnd.bindTo(_),this._configListener=this._editor.onDidChangeConfiguration(m=>m.hasChanged(121)&&this._update()),this._update()}dispose(){var D;this._configListener.dispose(),(D=this._selectionListener)===null||D===void 0||D.dispose(),this._ckAtEnd.reset()}_update(){const D=this._editor.getOption(121)==="on";if(this._enabled!==D)if(this._enabled=D,this._enabled){const _=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const m=this._editor.getModel(),S=this._editor.getSelection(),f=m.getWordAtPosition(S.getStartPosition());if(!f){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(f.endColumn===S.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(_),_()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};e.WordContextKey=k,k.AtEnd=new y.RawContextKey("atEndOfWord",!1),e.WordContextKey=k=Ne([fe(1,y.IContextKeyService)],k)}),define(J[83],ee([1,0,14,8]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,k.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new y.RawContextKey("accessibilityModeEnabled",!1)}),define(J[747],ee([1,0,52,15,6,2,46,17,201,320,471,202,36,147,233,83]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let l=class extends D.Disposable{constructor(g,p,C,w){super(),this._accessibilityService=w,this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new L.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new i.ComputeOptionsMemory,this.isSimpleWidget=g,this._containerObserver=this._register(new S.ElementSizeObserver(C,p.dimension)),this._rawOptions=c(p),this._validatedOptions=d.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(12)&&this._containerObserver.startObserving(),this._register(t.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(o.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(f.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(y.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const g=this._computeOptions(),p=d.checkEquals(this.options,g);p!==null&&(this.options=g,this._onDidChangeFast.fire(p),this._onDidChange.fire(p))}_computeOptions(){const g=this._readEnvConfiguration(),p=n.BareFontInfo.createFromValidatedSettings(this._validatedOptions,g.pixelRatio,this.isSimpleWidget),C=this._readFontInfo(p),w={memory:this._computeOptionsMemory,outerWidth:g.outerWidth,outerHeight:g.outerHeight-this._reservedHeight,fontInfo:C,extraEditorClassName:g.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:g.emptySelectionClipboard,pixelRatio:g.pixelRatio,tabFocusMode:o.TabFocus.getTabFocusMode("editorFocus"),accessibilitySupport:g.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return d.computeOptions(this._validatedOptions,w)}_readEnvConfiguration(){return{extraEditorClassName:s(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:y.isWebKit||y.isFirefox,pixelRatio:y.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(g){return f.FontMeasurements.readFontInfo(g)}getRawOptions(){return this._rawOptions}updateOptions(g){const p=c(g);d.applyUpdate(this._rawOptions,p)&&(this._validatedOptions=d.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(g){this._containerObserver.observe(g)}setIsDominatedByLongLines(g){this._isDominatedByLongLines!==g&&(this._isDominatedByLongLines=g,this._recomputeOptions())}setModelLineCount(g){const p=h(g);this._lineNumbersDigitCount!==p&&(this._lineNumbersDigitCount=p,this._recomputeOptions())}setViewLineCount(g){this._viewLineCount!==g&&(this._viewLineCount=g,this._recomputeOptions())}setReservedHeight(g){this._reservedHeight!==g&&(this._reservedHeight=g,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(g){this._glyphMarginDecorationLaneCount!==g&&(this._glyphMarginDecorationLaneCount=g,this._recomputeOptions())}};e.EditorConfiguration=l,e.EditorConfiguration=l=Ne([fe(3,r.IAccessibilityService)],l);function h(b){let g=0;for(;b;)b=Math.floor(b/10),g++;return g||1}function s(){let b="";return!y.isSafari&&!y.isWebkitWebView&&(b+="no-user-select "),y.isSafari&&(b+="no-minimap-shadow ",b+="enable-user-select "),m.isMacintosh&&(b+="mac "),b}class u{constructor(){this._values=[]}_read(g){return this._values[g]}get(g){return this._values[g]}_write(g,p){this._values[g]=p}}class a{constructor(){this._values=[]}_read(g){if(g>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[g]}get(g){return this._read(g)}_write(g,p){this._values[g]=p}}e.ComputedEditorOptions=a;class d{static validateOptions(g){const p=new u;for(const C of i.editorOptionsRegistry){const w=C.name==="_never_"?void 0:g[C.name];p._write(C.id,C.validate(w))}return p}static computeOptions(g,p){const C=new a;for(const w of i.editorOptionsRegistry)C._write(w.id,w.compute(p,C,g._read(w.id)));return C}static _deepEquals(g,p){if(typeof g!="object"||typeof p!="object"||!g||!p)return g===p;if(Array.isArray(g)||Array.isArray(p))return Array.isArray(g)&&Array.isArray(p)?k.equals(g,p):!1;if(Object.keys(g).length!==Object.keys(p).length)return!1;for(const C in g)if(!d._deepEquals(g[C],p[C]))return!1;return!0}static checkEquals(g,p){const C=[];let w=!1;for(const E of i.editorOptionsRegistry){const I=!d._deepEquals(g._read(E.id),p._read(E.id));C[E.id]=I,I&&(w=!0)}return w?new i.ConfigurationChangedEvent(C):null}static applyUpdate(g,p){let C=!1;for(const w of i.editorOptionsRegistry)if(p.hasOwnProperty(w.name)){const E=w.applyUpdate(g[w.name],p[w.name]);g[w.name]=E.newValue,C=C||E.didChange}return C}}function c(b){const g=_.deepClone(b);return(0,v.migrateOptions)(g),g}}),define(J[239],ee([1,0,85,6,2,46,5,116,33,83]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const v={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0,findResultLoop:!0};let o=class extends L.Disposable{constructor(t,n={},r,l,h){super(),this._audioCueService=r,this._codeEditorService=l,this._accessibilityService=h,this._onDidUpdate=this._register(new k.Emitter),this._editor=t,this._options=D.mixin(n,v,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=!!this._options.alwaysRevealFirst,this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(s=>{this.ignoreSelectionChange||(this._updateAccessibilityState(s.position.lineNumber),this.nextIdx=-1)})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(t){this.ranges=[],t&&t.forEach(n=>{!this._options.ignoreCharChanges&&n.charChanges?n.charChanges.forEach(r=>{this.ranges.push({rhs:!0,range:new _.Range(r.modifiedStartLineNumber,r.modifiedStartColumn,r.modifiedEndLineNumber,r.modifiedEndColumn)})}):n.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new _.Range(n.modifiedStartLineNumber,1,n.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new _.Range(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber+1,1)})}),this.ranges.sort((n,r)=>_.Range.compareRangesUsingStarts(n.range,r.range)),this._onDidUpdate.fire(this)}_initIdx(t){let n=!1;const r=this._editor.getPosition();if(!r){this.nextIdx=0;return}for(let l=0,h=this.ranges.length;l<h&&!n;l++){const s=this.ranges[l].range;r.isBeforeOrEqual(s.getStartPosition())&&(this.nextIdx=l+(t?0:-1),n=!0)}n||(this.nextIdx=t?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(t,n){if(y.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(t):t?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const r=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const l=r.range.getStartPosition();this._editor.setPosition(l),this._editor.revealRangeInCenter(r.range,n),this._updateAccessibilityState(l.lineNumber,!0)}finally{this.ignoreSelectionChange=!1}}_updateAccessibilityState(t,n){var r;const l=(r=this._editor.getModel())===null||r===void 0?void 0:r.modified;if(!l)return;const h=l.getLineDecorations(t).find(u=>u.options.className==="line-insert");if(h)this._audioCueService.playAudioCue(m.AudioCue.diffLineModified,!0);else if(n)this._audioCueService.playAudioCue(m.AudioCue.diffLineDeleted,!0);else return;const s=this._codeEditorService.getActiveCodeEditor();n&&s&&h&&this._accessibilityService.isScreenReaderOptimized()&&(s.setSelection({startLineNumber:t,startColumn:0,endLineNumber:t,endColumn:Number.MAX_VALUE}),s.writeScreenReaderContent("diff-navigation"))}canNavigate(){return this.ranges&&this.ranges.length>0}next(t=0){this.canNavigateNext()&&this._move(!0,t)}previous(t=0){this.canNavigatePrevious()&&this._move(!1,t)}canNavigateNext(){return this.canNavigateLoop()||this.nextIdx<this.ranges.length-1}canNavigatePrevious(){return this.canNavigateLoop()||this.nextIdx!==0}canNavigateLoop(){return!!this._options.findResultLoop}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}};e.DiffNavigator=o,e.DiffNavigator=o=Ne([fe(2,m.IAudioCueService),fe(3,S.ICodeEditorService),fe(4,f.IAccessibilityService)],o)}),define(J[748],ee([1,0,6,51,2,46,199,22,714,25,28,14]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const i="data-keybinding-context";class t{constructor(E,I){this._id=E,this._parent=I,this._value=Object.create(null),this._value._contextId=E}get value(){return Object.assign({},this._value)}setValue(E,I){return this._value[E]!==I?(this._value[E]=I,!0):!1}removeValue(E){return E in this._value?(delete this._value[E],!0):!1}getValue(E){const I=this._value[E];return typeof I>"u"&&this._parent?this._parent.getValue(E):I}}e.Context=t;class n extends t{constructor(){super(-1,null)}setValue(E,I){return!1}removeValue(E){return!1}getValue(E){}}n.INSTANCE=new n;class r extends t{constructor(E,I,T){super(E,null),this._configurationService=I,this._values=_.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(P=>{if(P.source===7){const A=Array.from(this._values,([M])=>M);this._values.clear(),T.fire(new s(A))}else{const A=[];for(const M of P.affectedKeys){const N=`config.${M}`,O=this._values.findSuperstr(N);O!==void 0&&(A.push(...k.Iterable.map(O,([x])=>x)),this._values.deleteSuperstr(N)),this._values.has(N)&&(A.push(N),this._values.delete(N))}T.fire(new s(A))}})}dispose(){this._listener.dispose()}getValue(E){if(E.indexOf(r._keyPrefix)!==0)return super.getValue(E);if(this._values.has(E))return this._values.get(E);const I=E.substr(r._keyPrefix.length),T=this._configurationService.getValue(I);let P;switch(typeof T){case"number":case"boolean":case"string":P=T;break;default:Array.isArray(T)?P=JSON.stringify(T):P=T}return this._values.set(E,P),P}setValue(E,I){return super.setValue(E,I)}removeValue(E){return super.removeValue(E)}}r._keyPrefix="config.";class l{constructor(E,I,T){this._service=E,this._key=I,this._defaultValue=T,this.reset()}set(E){this._service.setContext(this._key,E)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class h{constructor(E){this.key=E}affectsSome(E){return E.has(this.key)}allKeysContainedIn(E){return this.affectsSome(E)}}class s{constructor(E){this.keys=E}affectsSome(E){for(const I of this.keys)if(E.has(I))return!0;return!1}allKeysContainedIn(E){return this.keys.every(I=>E.has(I))}}class u{constructor(E){this.events=E}affectsSome(E){for(const I of this.events)if(I.affectsSome(E))return!0;return!1}allKeysContainedIn(E){return this.events.every(I=>I.allKeysContainedIn(E))}}function a(w,E){return w.allKeysContainedIn(new Set(Object.keys(E)))}class d{constructor(E){this._onDidChangeContext=new y.PauseableEmitter({merge:I=>new u(I)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=E}createKey(E,I){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new l(this,E,I)}bufferChangeEvents(E){this._onDidChangeContext.pause();try{E()}finally{this._onDidChangeContext.resume()}}createScoped(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new b(this,E)}contextMatchesRules(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const I=this.getContextValuesContainer(this._myContextId);return E?E.evaluate(I):!0}getContextKeyValue(E){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(E)}setContext(E,I){if(this._isDisposed)return;const T=this.getContextValuesContainer(this._myContextId);T&&T.setValue(E,I)&&this._onDidChangeContext.fire(new h(E))}removeContext(E){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(E)&&this._onDidChangeContext.fire(new h(E))}getContext(E){return this._isDisposed?n.INSTANCE:this.getContextValuesContainer(g(E))}}e.AbstractContextKeyService=d;let c=class extends d{constructor(E){super(0),this._contexts=new Map,this._toDispose=new L.DisposableStore,this._lastContextId=0;const I=new r(this._myContextId,E,this._onDidChangeContext);this._contexts.set(this._myContextId,I),this._toDispose.add(I)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(E){return this._isDisposed?n.INSTANCE:this._contexts.get(E)||n.INSTANCE}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const I=++this._lastContextId;return this._contexts.set(I,new t(I,this.getContextValuesContainer(E))),I}disposeContext(E){this._isDisposed||this._contexts.delete(E)}};e.ContextKeyService=c,e.ContextKeyService=c=Ne([fe(0,v.IConfigurationService)],c);class b extends d{constructor(E,I){if(super(E.createChildContext()),this._parentChangeListener=new L.MutableDisposable,this._parent=E,this._updateParentChangeListener(),this._domNode=I,this._domNode.hasAttribute(i)){let T="";this._domNode.classList&&(T=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${T?": "+T:""}`)}this._domNode.setAttribute(i,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(E=>{const T=this._parent.getContextValuesContainer(this._myContextId).value;a(E,T)||this._onDidChangeContext.fire(E)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(i),this._isDisposed=!0)}getContextValuesContainer(E){return this._isDisposed?n.INSTANCE:this._parent.getContextValuesContainer(E)}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(E)}disposeContext(E){this._isDisposed||this._parent.disposeContext(E)}}function g(w){for(;w;){if(w.hasAttribute(i)){const E=w.getAttribute(i);return E?parseInt(E,10):NaN}w=w.parentElement}return 0}function p(w,E,I){w.get(o.IContextKeyService).createKey(String(E),C(I))}e.setContext=p;function C(w){return(0,D.cloneAndChange)(w,E=>{if(typeof E=="object"&&E.$mid===1)return m.URI.revive(E).toString();if(E instanceof m.URI)return E.toString()})}f.CommandsRegistry.registerCommand("_setContext",p),f.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...o.RawContextKey.all()].sort((w,E)=>w.key.localeCompare(E.key))},description:{description:(0,S.localize)(0,null),args:[]}}),f.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const w=[],E=new Set;for(const I of o.RawContextKey.all())E.has(I.key)||(E.add(I.key),w.push(I));w.sort((I,T)=>I.key.localeCompare(T.key)),console.log(JSON.stringify(w,void 0,2))})}),define(J[240],ee([1,0,17,716,14]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsMobileContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new L.RawContextKey("isMac",y.isMacintosh,(0,k.localize)(0,null)),e.IsLinuxContext=new L.RawContextKey("isLinux",y.isLinux,(0,k.localize)(1,null)),e.IsWindowsContext=new L.RawContextKey("isWindows",y.isWindows,(0,k.localize)(2,null)),e.IsWebContext=new L.RawContextKey("isWeb",y.isWeb,(0,k.localize)(3,null)),e.IsMacNativeContext=new L.RawContextKey("isMacNative",y.isMacintosh&&!y.isWeb,(0,k.localize)(4,null)),e.IsIOSContext=new L.RawContextKey("isIOS",y.isIOS,(0,k.localize)(5,null)),e.IsMobileContext=new L.RawContextKey("isMobile",y.isMobile,(0,k.localize)(6,null)),e.IsDevelopmentContext=new L.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new L.RawContextKey("productQualityType","",(0,k.localize)(7,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new L.RawContextKey(e.InputFocusedContextKey,!1,(0,k.localize)(8,null))}),define(J[57],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,y.createDecorator)("contextViewService"),e.IContextMenuService=(0,y.createDecorator)("contextMenuService")}),define(J[159],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,y.createDecorator)("dialogService")}),define(J[241],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEnvironmentService=void 0,e.IEnvironmentService=(0,y.createDecorator)("environmentService")}),define(J[160],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class y{constructor(...L){this._entries=new Map;for(const[D,_]of L)this.set(D,_)}set(L,D){const _=this._entries.get(L);return this._entries.set(L,D),_}get(L){return this._entries.get(L)}}e.ServiceCollection=y}),define(J[749],ee([1,0,13,12,2,234,737,8,160,65]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const v=!1;class o extends Error{constructor(r){var l;super("cyclic dependency between services"),this.message=(l=r.findCycleSlow())!==null&&l!==void 0?l:`UNABLE to detect cycle, dumping graph:
${r.toString()}`}}class i{constructor(r=new S.ServiceCollection,l=!1,h,s=v){var u;this._services=r,this._strict=l,this._parent=h,this._enableTracing=s,this._activeInstantiations=new Set,this._services.set(m.IInstantiationService,this),this._globalGraph=s?(u=h?._globalGraph)!==null&&u!==void 0?u:new _.Graph(a=>a):void 0}createChild(r){return new i(r,this._strict,this,this._enableTracing)}invokeFunction(r,...l){const h=t.traceInvocation(this._enableTracing,r);let s=!1;try{return r({get:a=>{if(s)throw(0,k.illegalState)("service accessor is only valid during the invocation of its target method");const d=this._getOrCreateServiceInstance(a,h);if(!d)throw new Error(`[invokeFunction] unknown service '${a}'`);return d}},...l)}finally{s=!0,h.stop()}}createInstance(r,...l){let h,s;return r instanceof D.SyncDescriptor?(h=t.traceCreation(this._enableTracing,r.ctor),s=this._createInstance(r.ctor,r.staticArguments.concat(l),h)):(h=t.traceCreation(this._enableTracing,r),s=this._createInstance(r,l,h)),h.stop(),s}_createInstance(r,l=[],h){const s=m._util.getServiceDependencies(r).sort((d,c)=>d.index-c.index),u=[];for(const d of s){const c=this._getOrCreateServiceInstance(d.id,h);c||this._throwIfStrict(`[createInstance] ${r.name} depends on UNKNOWN service ${d.id}.`,!1),u.push(c)}const a=s.length>0?s[0].index:l.length;if(l.length!==a){console.trace(`[createInstance] First service dependency of ${r.name} at position ${a+1} conflicts with ${l.length} static arguments`);const d=a-l.length;d>0?l=l.concat(new Array(d)):l=l.slice(0,a)}return Reflect.construct(r,l.concat(u))}_setServiceInstance(r,l){if(this._services.get(r)instanceof D.SyncDescriptor)this._services.set(r,l);else if(this._parent)this._parent._setServiceInstance(r,l);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(r){const l=this._services.get(r);return!l&&this._parent?this._parent._getServiceInstanceOrDescriptor(r):l}_getOrCreateServiceInstance(r,l){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(r));const h=this._getServiceInstanceOrDescriptor(r);return h instanceof D.SyncDescriptor?this._safeCreateAndCacheServiceInstance(r,h,l.branch(r,!0)):(l.branch(r,!1),h)}_safeCreateAndCacheServiceInstance(r,l,h){if(this._activeInstantiations.has(r))throw new Error(`illegal state - RECURSIVELY instantiating service '${r}'`);this._activeInstantiations.add(r);try{return this._createAndCacheServiceInstance(r,l,h)}finally{this._activeInstantiations.delete(r)}}_createAndCacheServiceInstance(r,l,h){var s;const u=new _.Graph(c=>c.id.toString());let a=0;const d=[{id:r,desc:l,_trace:h}];for(;d.length;){const c=d.pop();if(u.lookupOrInsertNode(c),a++>1e3)throw new o(u);for(const b of m._util.getServiceDependencies(c.desc.ctor)){const g=this._getServiceInstanceOrDescriptor(b.id);if(g||this._throwIfStrict(`[createInstance] ${r} depends on ${b.id} which is NOT registered.`,!0),(s=this._globalGraph)===null||s===void 0||s.insertEdge(String(c.id),String(b.id)),g instanceof D.SyncDescriptor){const p={id:b.id,desc:g,_trace:c._trace.branch(b.id,!0)};u.insertEdge(c,p),d.push(p)}}}for(;;){const c=u.roots();if(c.length===0){if(!u.isEmpty())throw new o(u);break}for(const{data:b}of c){if(this._getServiceInstanceOrDescriptor(b.id)instanceof D.SyncDescriptor){const p=this._createServiceInstanceWithOwner(b.id,b.desc.ctor,b.desc.staticArguments,b.desc.supportsDelayedInstantiation,b._trace);this._setServiceInstance(b.id,p)}u.removeNode(b)}}return this._getServiceInstanceOrDescriptor(r)}_createServiceInstanceWithOwner(r,l,h=[],s,u){if(this._services.get(r)instanceof D.SyncDescriptor)return this._createServiceInstance(r,l,h,s,u);if(this._parent)return this._parent._createServiceInstanceWithOwner(r,l,h,s,u);throw new Error(`illegalState - creating UNKNOWN service instance ${l.name}`)}_createServiceInstance(r,l,h=[],s,u){if(s){const a=new i(void 0,this._strict,this,this._enableTracing);a._globalGraphImplicitDependency=String(r);const d=new Map,c=new y.IdleValue(()=>{const b=a._createInstance(l,h,u);for(const[g,p]of d){const C=b[g];if(typeof C=="function")for(const w of p)C.apply(b,w)}return d.clear(),b});return new Proxy(Object.create(null),{get(b,g){if(!c.isInitialized&&typeof g=="string"&&(g.startsWith("onDid")||g.startsWith("onWill"))){let w=d.get(g);return w||(w=new f.LinkedList,d.set(g,w)),(I,T,P)=>{const A=w.push([I,T,P]);return(0,L.toDisposable)(A)}}if(g in b)return b[g];const p=c.value;let C=p[g];return typeof C!="function"||(C=C.bind(p),b[g]=C),C},set(b,g,p){return c.value[g]=p,!0},getPrototypeOf(b){return l.prototype}})}else return this._createInstance(l,h,u)}_throwIfStrict(r,l){if(l&&console.warn(r),this._strict)throw new Error(r)}}e.InstantiationService=i;class t{static traceInvocation(r,l){return r?new t(2,l.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):t._None}static traceCreation(r,l){return r?new t(1,l.name):t._None}constructor(r,l){this.type=r,this.name=l,this._start=Date.now(),this._dep=[]}branch(r,l){const h=new t(3,r.toString());return this._dep.push([r,l,h]),h}stop(){const r=Date.now()-this._start;t._totals+=r;let l=!1;function h(u,a){const d=[],c=new Array(u+1).join("	");for(const[b,g,p]of a._dep)if(g&&p){l=!0,d.push(`${c}CREATES -> ${b}`);const C=h(u+1,p);C&&d.push(C)}else d.push(`${c}uses -> ${b}`);return d.join(`
`)}const s=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${h(1,this)}`,`DONE, took ${r.toFixed(2)}ms (grand total ${t._totals.toFixed(2)}ms)`];(r>2||l)&&t.all.add(s.join(`
`))}}e.Trace=t,t.all=new Set,t._None=new class extends t{constructor(){super(0,null)}stop(){}branch(){return this}},t._totals=0}),define(J[750],ee([1,0,12,218,119]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends L.ResolvedKeybinding{constructor(m,S){if(super(),S.length===0)throw(0,y.illegalArgument)("chords");this._os=m,this._chords=S}getLabel(){return k.UILabelProvider.toLabel(this._os,this._chords,m=>this._getLabel(m))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._chords,m=>this._getAriaLabel(m))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:k.ElectronAcceleratorLabelProvider.toLabel(this._os,this._chords,m=>this._getElectronAccelerator(m))}getUserSettingsLabel(){return k.UserSettingsLabelProvider.toLabel(this._os,this._chords,m=>this._getUserSettingsLabel(m))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(m=>this._getChord(m))}_getChord(m){return new L.ResolvedChord(m.ctrlKey,m.shiftKey,m.altKey,m.metaKey,this._getLabel(m),this._getAriaLabel(m))}getDispatchChords(){return this._chords.map(m=>this._getChordDispatch(m))}getSingleModifierDispatchChords(){return this._chords.map(m=>this._getSingleModifierChordDispatch(m))}}e.BaseResolvedKeybinding=D}),define(J[34],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,y.createDecorator)("keybindingService")}),define(J[330],ee([1,0,7,310,40,6,2,133,14,57,8,34,436]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PostEditWidgetManager=void 0;let i=class Fi extends _.Disposable{constructor(r,l,h,s,u,a,d,c,b,g){super(),this.typeId=r,this.editor=l,this.showCommand=s,this.range=u,this.edits=a,this.onSelectNewEdit=d,this._contextMenuService=c,this._keybindingService=g,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=h.bindTo(b),this.visibleContext.set(!0),this._register((0,_.toDisposable)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,_.toDisposable)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(p=>{u.containsPosition(p.position)||this.dispose()})),this._register(D.Event.runAndSubscribe(g.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var r;const l=(r=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||r===void 0?void 0:r.getLabel();this.button.element.title=this.showCommand.label+(l?` (${l})`:"")}create(){this.domNode=y.$(".post-edit-widget"),this.button=this._register(new k.Button(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(y.addDisposableListener(this.domNode,y.EventType.CLICK,()=>this.showSelector()))}getId(){return Fi.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const r=y.getDomNodePagePosition(this.button.element);return{x:r.left+r.width,y:r.top+r.height}},getActions:()=>this.edits.allEdits.map((r,l)=>(0,L.toAction)({id:"",label:r.label,checked:l===this.edits.activeEditIndex,run:()=>{if(l!==this.edits.activeEditIndex)return this.onSelectNewEdit(l)}}))})}};i.baseId="editor.widget.postEditWidget",i=Ne([fe(7,f.IContextMenuService),fe(8,S.IContextKeyService),fe(9,o.IKeybindingService)],i);let t=class extends _.Disposable{constructor(r,l,h,s,u,a){super(),this._id=r,this._editor=l,this._visibleContext=h,this._showCommand=s,this._instantiationService=u,this._bulkEditService=a,this._currentWidget=this._register(new _.MutableDisposable),this._register(D.Event.any(l.onDidChangeModel,l.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(r,l,h,s){var u,a;return Le(this,void 0,void 0,function*(){const d=this._editor.getModel();if(!d||!r.length)return;const c=l.allEdits[l.activeEditIndex];if(!c)return;let b=[];(typeof c.insertText=="string"?c.insertText==="":c.insertText.snippet==="")?b=[]:b=r.map(T=>new m.ResourceTextEdit(d.uri,typeof c.insertText=="string"?{range:T,text:c.insertText,insertAsSnippet:!1}:{range:T,text:c.insertText.snippet,insertAsSnippet:!0}));const p={edits:[...b,...(a=(u=c.additionalEdit)===null||u===void 0?void 0:u.edits)!==null&&a!==void 0?a:[]]},C=r[0],w=d.deltaDecorations([],[{range:C,options:{description:"paste-line-suffix",stickiness:0}}]);let E,I;try{E=yield this._bulkEditService.apply(p,{editor:this._editor,token:s}),I=d.getDecorationRange(w[0])}finally{d.deltaDecorations(w,[])}h&&E.isApplied&&l.allEdits.length>1&&this.show(I??C,l,T=>Le(this,void 0,void 0,function*(){const P=this._editor.getModel();P&&(yield P.undo(),this.applyEditAndShowIfNeeded(r,{activeEditIndex:T,allEdits:l.allEdits},h,s))}))})}show(r,l,h){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(i,this._id,this._editor,this._visibleContext,this._showCommand,r,l,h))}clear(){this._currentWidget.clear()}tryShowSelector(){var r;(r=this._currentWidget.value)===null||r===void 0||r.showSelector()}};e.PostEditWidgetManager=t,e.PostEditWidgetManager=t=Ne([fe(4,v.IInstantiationService),fe(5,m.IBulkEditService)],t)}),define(J[331],ee([1,0,14]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=e.NoMatchingKb=void 0,e.NoMatchingKb={kind:0};const k={kind:1};function L(S,f,v){return{kind:2,commandId:S,commandArgs:f,isBubble:v}}class D{constructor(f,v,o){var i;this._log=o,this._defaultKeybindings=f,this._defaultBoundCommands=new Map;for(const t of f){const n=t.command;n&&n.charAt(0)!=="-"&&this._defaultBoundCommands.set(n,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=D.handleRemovals([].concat(f).concat(v));for(let t=0,n=this._keybindings.length;t<n;t++){const r=this._keybindings[t];if(r.chords.length===0)continue;const l=(i=r.when)===null||i===void 0?void 0:i.substituteConstants();l&&l.type===0||this._addKeyPress(r.chords[0],r)}}static _isTargetedForRemoval(f,v,o){if(v){for(let i=0;i<v.length;i++)if(v[i]!==f.chords[i])return!1}return!(o&&o.type!==1&&(!f.when||!(0,y.expressionsAreEqualWithConstantSubstitution)(o,f.when)))}static handleRemovals(f){const v=new Map;for(let i=0,t=f.length;i<t;i++){const n=f[i];if(n.command&&n.command.charAt(0)==="-"){const r=n.command.substring(1);v.has(r)?v.get(r).push(n):v.set(r,[n])}}if(v.size===0)return f;const o=[];for(let i=0,t=f.length;i<t;i++){const n=f[i];if(!n.command||n.command.length===0){o.push(n);continue}if(n.command.charAt(0)==="-")continue;const r=v.get(n.command);if(!r||!n.isDefault){o.push(n);continue}let l=!1;for(const h of r){const s=h.when;if(this._isTargetedForRemoval(n,h.chords,s)){l=!0;break}}if(!l){o.push(n);continue}}return o}_addKeyPress(f,v){const o=this._map.get(f);if(typeof o>"u"){this._map.set(f,[v]),this._addToLookupMap(v);return}for(let i=o.length-1;i>=0;i--){const t=o[i];if(t.command===v.command)continue;let n=!0;for(let r=1;r<t.chords.length&&r<v.chords.length;r++)if(t.chords[r]!==v.chords[r]){n=!1;break}n&&D.whenIsEntirelyIncluded(t.when,v.when)&&this._removeFromLookupMap(t)}o.push(v),this._addToLookupMap(v)}_addToLookupMap(f){if(!f.command)return;let v=this._lookupMap.get(f.command);typeof v>"u"?(v=[f],this._lookupMap.set(f.command,v)):v.push(f)}_removeFromLookupMap(f){if(!f.command)return;const v=this._lookupMap.get(f.command);if(!(typeof v>"u")){for(let o=0,i=v.length;o<i;o++)if(v[o]===f){v.splice(o,1);return}}}static whenIsEntirelyIncluded(f,v){return!v||v.type===1?!0:!f||f.type===1?!1:(0,y.implies)(f,v)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(f,v){const o=this._lookupMap.get(f);if(typeof o>"u"||o.length===0)return null;if(o.length===1)return o[0];for(let i=o.length-1;i>=0;i--){const t=o[i];if(v.contextMatchesRules(t.when))return t}return o[o.length-1]}resolve(f,v,o){const i=[...v,o];this._log(`| Resolving ${i}`);const t=this._map.get(i[0]);if(t===void 0)return this._log("\\ No keybinding entries."),e.NoMatchingKb;let n=null;if(i.length<2)n=t;else{n=[];for(let l=0,h=t.length;l<h;l++){const s=t[l];if(i.length>s.chords.length)continue;let u=!0;for(let a=1;a<i.length;a++)if(s.chords[a]!==i[a]){u=!1;break}u&&n.push(s)}}const r=this._findCommand(f,n);return r?i.length<r.chords.length?(this._log(`\\ From ${n.length} keybinding entries, awaiting ${r.chords.length-i.length} more chord(s), when: ${_(r.when)}, source: ${m(r)}.`),k):(this._log(`\\ From ${n.length} keybinding entries, matched ${r.command}, when: ${_(r.when)}, source: ${m(r)}.`),L(r.command,r.commandArgs,r.bubble)):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),e.NoMatchingKb)}_findCommand(f,v){for(let o=v.length-1;o>=0;o--){const i=v[o];if(D._contextMatchesRules(f,i.when))return i}return null}static _contextMatchesRules(f,v){return v?v.evaluate(f):!0}}e.KeybindingResolver=D;function _(S){return S?`${S.serialize()}`:"no when condition"}function m(S){return S.extensionId?S.isBuiltinExtension?`built-in extension ${S.extensionId}`:`user extension ${S.extensionId}`:S.isDefault?"built-in":"user"}}),define(J[751],ee([1,0,13,12,6,262,2,719,331]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const f=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class v extends _.Disposable{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:L.Event.None}get inChordMode(){return this._currentChords.length>0}constructor(t,n,r,l,h){super(),this._contextKeyService=t,this._commandService=n,this._telemetryService=r,this._notificationService=l,this._logService=h,this._onDidUpdateKeybindings=this._register(new L.Emitter),this._currentChords=[],this._currentChordChecker=new y.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=o.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new y.TimeoutTimer,this._logging=!1}dispose(){super.dispose()}_log(t){this._logging&&this._logService.info(`[KeybindingService]: ${t}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(t,n){const r=this._getResolver().lookupPrimaryKeybinding(t,n||this._contextKeyService);if(r)return r.resolvedKeybinding}dispatchEvent(t,n){return this._dispatch(t,n)}softDispatch(t,n){this._log("/ Soft dispatching keyboard event");const r=this.resolveKeyboardEvent(t);if(r.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),S.NoMatchingKb;const[l]=r.getDispatchChords();if(l===null)return this._log("\\ Keyboard event cannot be dispatched"),S.NoMatchingKb;const h=this._contextKeyService.getContext(n),s=this._currentChords.map(({keypress:u})=>u);return this._getResolver().resolve(h,s,l)}_scheduleLeaveChordMode(){const t=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-t>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(t,n){switch(this._currentChords.push({keypress:t,label:n}),this._currentChords.length){case 0:throw(0,k.illegalState)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(m.localize(0,null,n));break;default:{const r=this._currentChords.map(({label:l})=>l).join(", ");this._currentChordStatusMessage=this._notificationService.status(m.localize(1,null,r))}}this._scheduleLeaveChordMode(),D.IME.enabled&&D.IME.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],D.IME.enable()}_dispatch(t,n){return this._doDispatch(this.resolveKeyboardEvent(t),n,!1)}_singleModifierDispatch(t,n){const r=this.resolveKeyboardEvent(t),[l]=r.getSingleModifierDispatchChords();if(l)return this._ignoreSingleModifiers.has(l)?(this._log(`+ Ignoring single modifier ${l} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=o.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=o.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${l}.`),this._currentSingleModifier=l,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):l===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${l} ${l}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(r,n,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${l}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[h]=r.getChords();return this._ignoreSingleModifiers=new o(h),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(t,n,r=!1){var l;let h=!1;if(t.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let s=null,u=null;if(r){const[b]=t.getSingleModifierDispatchChords();s=b,u=b?[b]:[]}else[s]=t.getDispatchChords(),u=this._currentChords.map(({keypress:b})=>b);if(s===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),h;const a=this._contextKeyService.getContext(n),d=t.getLabel(),c=this._getResolver().resolve(a,u,s);switch(c.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",d,"[ No matching keybinding ]"),this.inChordMode){const b=this._currentChords.map(({label:g})=>g).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${b}, ${d}".`),this._notificationService.status(m.localize(2,null,b,d),{hideAfter:10*1e3}),this._leaveChordMode(),h=!0}return h}case 1:return this._logService.trace("KeybindingService#dispatch",d,"[ Several keybindings match - more chords needed ]"),h=!0,this._expectAnotherChord(s,d),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),h;case 2:{if(this._logService.trace("KeybindingService#dispatch",d,`[ Will dispatch command ${c.commandId} ]`),c.commandId===null||c.commandId===""){if(this.inChordMode){const b=this._currentChords.map(({label:g})=>g).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${b}, ${d}".`),this._notificationService.status(m.localize(3,null,b,d),{hideAfter:10*1e3}),this._leaveChordMode(),h=!0}}else this.inChordMode&&this._leaveChordMode(),c.isBubble||(h=!0),this._log(`+ Invoking command ${c.commandId}.`),typeof c.commandArgs>"u"?this._commandService.executeCommand(c.commandId).then(void 0,b=>this._notificationService.warn(b)):this._commandService.executeCommand(c.commandId,c.commandArgs).then(void 0,b=>this._notificationService.warn(b)),f.test(c.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"keybinding",detail:(l=t.getUserSettingsLabel())!==null&&l!==void 0?l:void 0});return h}}}mightProducePrintableCharacter(t){return t.ctrlKey||t.metaKey?!1:t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30}}e.AbstractKeybindingService=v;class o{constructor(t){this._ctrlKey=t?t.ctrlKey:!1,this._shiftKey=t?t.shiftKey:!1,this._altKey=t?t.altKey:!1,this._metaKey=t?t.metaKey:!1}has(t){switch(t){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}o.EMPTY=new o(null)}),define(J[332],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toEmptyArrayIfContainsNull=e.ResolvedKeybindingItem=void 0;class y{constructor(D,_,m,S,f,v,o){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.chords=D?k(D.getDispatchChords()):[],D&&this.chords.length===0&&(this.chords=k(D.getSingleModifierDispatchChords())),this.bubble=_?_.charCodeAt(0)===94:!1,this.command=this.bubble?_.substr(1):_,this.commandArgs=m,this.when=S,this.isDefault=f,this.extensionId=v,this.isBuiltinExtension=o}}e.ResolvedKeybindingItem=y;function k(L){const D=[];for(let _=0,m=L.length;_<m;_++){const S=L[_];if(!S)return[];D.push(S)}return D}e.toEmptyArrayIfContainsNull=k}),define(J[752],ee([1,0,64,119,750,332]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class _ extends L.BaseResolvedKeybinding{constructor(S,f){super(f,S)}_keyCodeToUILabel(S){if(this._os===2)switch(S){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return y.KeyCodeUtils.toString(S)}_getLabel(S){return S.isDuplicateModifierCase()?"":this._keyCodeToUILabel(S.keyCode)}_getAriaLabel(S){return S.isDuplicateModifierCase()?"":y.KeyCodeUtils.toString(S.keyCode)}_getElectronAccelerator(S){return y.KeyCodeUtils.toElectronAccelerator(S.keyCode)}_getUserSettingsLabel(S){if(S.isDuplicateModifierCase())return"";const f=y.KeyCodeUtils.toUserSettingsUS(S.keyCode);return f&&f.toLowerCase()}_getChordDispatch(S){return _.getDispatchStr(S)}static getDispatchStr(S){if(S.isModifierKey())return null;let f="";return S.ctrlKey&&(f+="ctrl+"),S.shiftKey&&(f+="shift+"),S.altKey&&(f+="alt+"),S.metaKey&&(f+="meta+"),f+=y.KeyCodeUtils.toString(S.keyCode),f}_getSingleModifierChordDispatch(S){return S.keyCode===5&&!S.shiftKey&&!S.altKey&&!S.metaKey?"ctrl":S.keyCode===4&&!S.ctrlKey&&!S.altKey&&!S.metaKey?"shift":S.keyCode===6&&!S.ctrlKey&&!S.shiftKey&&!S.metaKey?"alt":S.keyCode===57&&!S.ctrlKey&&!S.shiftKey&&!S.altKey?"meta":null}static _scanCodeToKeyCode(S){const f=y.IMMUTABLE_CODE_TO_KEY_CODE[S];if(f!==-1)return f;switch(S){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(S){if(!S)return null;if(S instanceof k.KeyCodeChord)return S;const f=this._scanCodeToKeyCode(S.scanCode);return f===0?null:new k.KeyCodeChord(S.ctrlKey,S.shiftKey,S.altKey,S.metaKey,f)}static resolveKeybinding(S,f){const v=(0,D.toEmptyArrayIfContainsNull)(S.chords.map(o=>this._toKeyCodeChord(o)));return v.length>0?[new _(v,f)]:[]}}e.USLayoutResolvedKeybinding=_}),define(J[161],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,y.createDecorator)("labelService")}),define(J[135],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,y.createDecorator)("layoutService")}),define(J[333],ee([1,0,7,6,135,33,49]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let m=class{get dimension(){return this._dimension||(this._dimension=y.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var v;(v=this._codeEditorService.getFocusedCodeEditor())===null||v===void 0||v.focus()}constructor(v){this._codeEditorService=v,this.onDidLayout=k.Event.None,this.offset={top:0,quickPickTop:0}}};m=Ne([fe(0,D.ICodeEditorService)],m);let S=class extends m{get hasContainer(){return!1}get container(){return this._container}constructor(v,o){super(o),this._container=v}};e.EditorScopedLayoutService=S,e.EditorScopedLayoutService=S=Ne([fe(1,D.ICodeEditorService)],S),(0,_.registerSingleton)(L.ILayoutService,m,1)}),define(J[753],ee([1,0,7,6,2,83,28,14,135]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let f=class extends L.Disposable{constructor(o,i,t){super(),this._contextKeyService=o,this._layoutService=i,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new k.Emitter,this._onDidChangeReducedMotion=new k.Emitter,this._accessibilityModeEnabledContext=D.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(l=>{l.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire()),l.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),n(),this._register(this.onDidChangeScreenReaderOptimized(()=>n()));const r=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=r.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(r)}initReducedMotionListeners(o){if(!this._layoutService.hasContainer)return;this._register((0,y.addDisposableListener)(o,"change",()=>{this._systemMotionReduced=o.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const i=()=>{const t=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",t),this._layoutService.container.classList.toggle("enable-motion",!t)};i(),this._register(this.onDidChangeReducedMotion(()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const o=this._configurationService.getValue("editor.accessibilitySupport");return o==="on"||o==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const o=this._configMotionReduced;return o==="on"||o==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};e.AccessibilityService=f,e.AccessibilityService=f=Ne([fe(0,m.IContextKeyService),fe(1,S.ILayoutService),fe(2,_.IConfigurationService)],f)}),define(J[754],ee([1,0,303,2,135]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let D=class extends k.Disposable{constructor(m){super(),this.layoutService=m,this.currentViewDisposable=k.Disposable.None,this.container=m.hasContainer?m.container:null,this.contextView=this._register(new y.ContextView(this.container,1)),this.layout(),this._register(m.onDidLayout(()=>this.layout()))}setContainer(m,S){this.contextView.setContainer(m,S||1)}showContextView(m,S,f){S?(S!==this.container||this.shadowRoot!==f)&&(this.container=S,this.setContainer(S,f?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=f,this.contextView.show(m);const v=(0,k.toDisposable)(()=>{this.currentViewDisposable===v&&this.hideContextView()});return this.currentViewDisposable=v,v}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(m){this.contextView.hide(m)}};e.ContextViewService=D,e.ContextViewService=D=Ne([fe(0,L.ILayoutService)],D)}),define(J[70],ee([1,0,6,2,14,8]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_LOG_LEVEL=e.LogLevelToString=e.MultiplexLogger=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,D.createDecorator)("logService");var _;(function(o){o[o.Off=0]="Off",o[o.Trace=1]="Trace",o[o.Debug=2]="Debug",o[o.Info=3]="Info",o[o.Warning=4]="Warning",o[o.Error=5]="Error"})(_||(e.LogLevel=_={})),e.DEFAULT_LOG_LEVEL=_.Info;class m extends k.Disposable{constructor(){super(...arguments),this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new y.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(i){this.level!==i&&(this.level=i,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(i){return this.level!==_.Off&&this.level<=i}}e.AbstractLogger=m;class S extends m{constructor(i=e.DEFAULT_LOG_LEVEL,t=!0){super(),this.useColors=t,this.setLevel(i)}trace(i,...t){this.checkLogLevel(_.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",i,...t):console.log(i,...t))}debug(i,...t){this.checkLogLevel(_.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",i,...t):console.log(i,...t))}info(i,...t){this.checkLogLevel(_.Info)&&(this.useColors?console.log("%c INFO","color: #33f",i,...t):console.log(i,...t))}warn(i,...t){this.checkLogLevel(_.Warning)&&(this.useColors?console.log("%c WARN","color: #993",i,...t):console.log(i,...t))}error(i,...t){this.checkLogLevel(_.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",i,...t):console.error(i,...t))}dispose(){}}e.ConsoleLogger=S;class f extends m{constructor(i){super(),this.loggers=i,i.length&&this.setLevel(i[0].getLevel())}setLevel(i){for(const t of this.loggers)t.setLevel(i);super.setLevel(i)}trace(i,...t){for(const n of this.loggers)n.trace(i,...t)}debug(i,...t){for(const n of this.loggers)n.debug(i,...t)}info(i,...t){for(const n of this.loggers)n.info(i,...t)}warn(i,...t){for(const n of this.loggers)n.warn(i,...t)}error(i,...t){for(const n of this.loggers)n.error(i,...t)}dispose(){for(const i of this.loggers)i.dispose()}}e.MultiplexLogger=f;function v(o){switch(o){case _.Trace:return"trace";case _.Debug:return"debug";case _.Info:return"info";case _.Warning:return"warn";case _.Error:return"error";case _.Off:return"off"}}e.LogLevelToString=v,e.CONTEXT_LOG_LEVEL=new L.RawContextKey("logLevel",v(_.Info))}),define(J[755],ee([1,0,52,7,13,2,135,70]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let S=class extends D.Disposable{constructor(v,o){super(),this.layoutService=v,this.logService=o,this.mapTextToType=new Map,this.findText="",this.resources=[],(y.isSafari||y.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const v=()=>{const o=new L.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=o,navigator.clipboard.write([new ClipboardItem({"text/plain":o.p})]).catch(i=>Le(this,void 0,void 0,function*(){(!(i instanceof Error)||i.name!=="NotAllowedError"||!o.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register((0,k.addDisposableListener)(this.layoutService.container,"click",v)),this._register((0,k.addDisposableListener)(this.layoutService.container,"keydown",v)))}writeText(v,o){return Le(this,void 0,void 0,function*(){if(o){this.mapTextToType.set(o,v);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(v);try{return yield navigator.clipboard.writeText(v)}catch(n){console.error(n)}const i=document.activeElement,t=document.body.appendChild((0,k.$)("textarea",{"aria-hidden":!0}));t.style.height="1px",t.style.width="1px",t.style.position="absolute",t.value=v,t.focus(),t.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(t)})}readText(v){return Le(this,void 0,void 0,function*(){if(v)return this.mapTextToType.get(v)||"";try{return yield navigator.clipboard.readText()}catch(o){return console.error(o),""}})}readFindText(){return Le(this,void 0,void 0,function*(){return this.findText})}writeFindText(v){return Le(this,void 0,void 0,function*(){this.findText=v})}writeResources(v){return Le(this,void 0,void 0,function*(){this.resources=v})}readResources(){return Le(this,void 0,void 0,function*(){return this.resources})}};e.BrowserClipboardService=S,e.BrowserClipboardService=S=Ne([fe(0,_.ILayoutService),fe(1,m.ILogService)],S)}),define(J[756],ee([1,0,2,70]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=void 0;class L extends y.Disposable{constructor(_,m=[]){super(),this.logger=new k.MultiplexLogger([_,...m]),this._register(_.onDidChangeLogLevel(S=>this.setLevel(S)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(_){this.logger.setLevel(_)}getLevel(){return this.logger.getLevel()}trace(_,...m){this.logger.trace(_,...m)}debug(_,...m){this.logger.debug(_,...m)}info(_,...m){this.logger.info(_,...m)}warn(_,...m){this.logger.warn(_,...m)}error(_,...m){this.logger.error(_,...m)}}e.LogService=L}),define(J[97],ee([1,0,107,721,8]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(m){m[m.Hint=1]="Hint",m[m.Info=2]="Info",m[m.Warning=4]="Warning",m[m.Error=8]="Error"})(D||(e.MarkerSeverity=D={})),function(m){function S(t,n){return n-t}m.compare=S;const f=Object.create(null);f[m.Error]=(0,k.localize)(0,null),f[m.Warning]=(0,k.localize)(1,null),f[m.Info]=(0,k.localize)(2,null);function v(t){return f[t]||""}m.toString=v;function o(t){switch(t){case y.default.Error:return m.Error;case y.default.Warning:return m.Warning;case y.default.Info:return m.Info;case y.default.Ignore:return m.Hint}}m.fromSeverity=o;function i(t){switch(t){case m.Error:return y.default.Error;case m.Warning:return y.default.Warning;case m.Info:return y.default.Info;case m.Hint:return y.default.Ignore}}m.toSeverity=i}(D||(e.MarkerSeverity=D={}));var _;(function(m){const S="";function f(o){return v(o,!0)}m.makeKey=f;function v(o,i){const t=[S];return o.source?t.push(o.source.replace("\xA6","\\\xA6")):t.push(S),o.code?typeof o.code=="string"?t.push(o.code.replace("\xA6","\\\xA6")):t.push(o.code.value.replace("\xA6","\\\xA6")):t.push(S),o.severity!==void 0&&o.severity!==null?t.push(D.toString(o.severity)):t.push(S),o.message&&i?t.push(o.message.replace("\xA6","\\\xA6")):t.push(S),o.startLineNumber!==void 0&&o.startLineNumber!==null?t.push(o.startLineNumber.toString()):t.push(S),o.startColumn!==void 0&&o.startColumn!==null?t.push(o.startColumn.toString()):t.push(S),o.endLineNumber!==void 0&&o.endLineNumber!==null?t.push(o.endLineNumber.toString()):t.push(S),o.endColumn!==void 0&&o.endColumn!==null?t.push(o.endColumn.toString()):t.push(S),t.push(S),t.join("\xA6")}m.makeKeyOptionalMessage=v})(_||(e.IMarkerData=_={})),e.IMarkerService=(0,L.createDecorator)("markerService")}),define(J[757],ee([1,0,15,6,2,65,9,22,5,49,8,97,28]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class t{constructor(h,s,u){this.marker=h,this.index=s,this.total=u}}e.MarkerCoordinate=t;let n=class{constructor(h,s,u){this._markerService=s,this._configService=u,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new L.DisposableStore,this._markers=[],this._nextIdx=-1,m.URI.isUri(h)?this._resourceFilter=b=>b.toString()===h.toString():h&&(this._resourceFilter=h);const a=this._configService.getValue("problems.sortOrder"),d=(b,g)=>{let p=(0,_.compare)(b.resource.toString(),g.resource.toString());return p===0&&(a==="position"?p=S.Range.compareRangesUsingStarts(b,g)||o.MarkerSeverity.compare(b.severity,g.severity):p=o.MarkerSeverity.compare(b.severity,g.severity)||S.Range.compareRangesUsingStarts(b,g)),p},c=()=>{this._markers=this._markerService.read({resource:m.URI.isUri(h)?h:void 0,severities:o.MarkerSeverity.Error|o.MarkerSeverity.Warning|o.MarkerSeverity.Info}),typeof h=="function"&&(this._markers=this._markers.filter(b=>this._resourceFilter(b.resource))),this._markers.sort(d)};c(),this._dispoables.add(s.onMarkerChanged(b=>{(!this._resourceFilter||b.some(g=>this._resourceFilter(g)))&&(c(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(h){return!this._resourceFilter&&!h?!0:!this._resourceFilter||!h?!1:this._resourceFilter(h)}get selected(){const h=this._markers[this._nextIdx];return h&&new t(h,this._nextIdx+1,this._markers.length)}_initIdx(h,s,u){let a=!1,d=this._markers.findIndex(c=>c.resource.toString()===h.uri.toString());d<0&&(d=(0,y.binarySearch)(this._markers,{resource:h.uri},(c,b)=>(0,_.compare)(c.resource.toString(),b.resource.toString())),d<0&&(d=~d));for(let c=d;c<this._markers.length;c++){let b=S.Range.lift(this._markers[c]);if(b.isEmpty()){const g=h.getWordAtPosition(b.getStartPosition());g&&(b=new S.Range(b.startLineNumber,g.startColumn,b.startLineNumber,g.endColumn))}if(s&&(b.containsPosition(s)||s.isBeforeOrEqual(b.getStartPosition()))){this._nextIdx=c,a=!0;break}if(this._markers[c].resource.toString()!==h.uri.toString())break}a||(this._nextIdx=u?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(h,s,u){if(this._markers.length===0)return!1;const a=this._nextIdx;return this._nextIdx===-1?this._initIdx(s,u,h):h?this._nextIdx=(this._nextIdx+1)%this._markers.length:h||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),a!==this._nextIdx}find(h,s){let u=this._markers.findIndex(a=>a.resource.toString()===h.toString());if(!(u<0)){for(;u<this._markers.length;u++)if(S.Range.containsPosition(this._markers[u],s))return new t(this._markers[u],u+1,this._markers.length)}}};e.MarkerList=n,e.MarkerList=n=Ne([fe(1,o.IMarkerService),fe(2,i.IConfigurationService)],n),e.IMarkerNavigationService=(0,v.createDecorator)("IMarkerNavigationService");let r=class{constructor(h,s){this._markerService=h,this._configService=s,this._provider=new D.LinkedList}getMarkerList(h){for(const s of this._provider){const u=s.getMarkerList(h);if(u)return u}return new n(h,this._markerService,this._configService)}};r=Ne([fe(0,o.IMarkerService),fe(1,i.IConfigurationService)],r),(0,f.registerSingleton)(e.IMarkerNavigationService,r,1)}),define(J[758],ee([1,0,15,6,51,66,54,22,97]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([_.Schemas.inMemory,_.Schemas.vscodeSourceControl,_.Schemas.walkThrough,_.Schemas.walkThroughSnippet]);class f{constructor(){this._byResource=new D.ResourceMap,this._byOwner=new Map}set(t,n,r){let l=this._byResource.get(t);l||(l=new Map,this._byResource.set(t,l)),l.set(n,r);let h=this._byOwner.get(n);h||(h=new D.ResourceMap,this._byOwner.set(n,h)),h.set(t,r)}get(t,n){const r=this._byResource.get(t);return r?.get(n)}delete(t,n){let r=!1,l=!1;const h=this._byResource.get(t);h&&(r=h.delete(n));const s=this._byOwner.get(n);if(s&&(l=s.delete(t)),r!==l)throw new Error("illegal state");return r&&l}values(t){var n,r,l,h;return typeof t=="string"?(r=(n=this._byOwner.get(t))===null||n===void 0?void 0:n.values())!==null&&r!==void 0?r:L.Iterable.empty():m.URI.isUri(t)?(h=(l=this._byResource.get(t))===null||l===void 0?void 0:l.values())!==null&&h!==void 0?h:L.Iterable.empty():L.Iterable.map(L.Iterable.concat(...this._byOwner.values()),s=>s[1])}}class v{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new D.ResourceMap,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const n of t){const r=this._data.get(n);r&&this._substract(r);const l=this._resourceStats(n);this._add(l),this._data.set(n,l)}}_resourceStats(t){const n={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(t.scheme))return n;for(const{severity:r}of this._service.read({resource:t}))r===S.MarkerSeverity.Error?n.errors+=1:r===S.MarkerSeverity.Warning?n.warnings+=1:r===S.MarkerSeverity.Info?n.infos+=1:n.unknowns+=1;return n}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class o{constructor(){this._onMarkerChanged=new k.DebounceEmitter({delay:0,merge:o._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new f,this._stats=new v(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,n){for(const r of n||[])this.changeOne(t,r,[])}changeOne(t,n,r){if((0,y.isFalsyOrEmpty)(r))this._data.delete(n,t)&&this._onMarkerChanged.fire([n]);else{const l=[];for(const h of r){const s=o._toMarker(t,n,h);s&&l.push(s)}this._data.set(n,t,l),this._onMarkerChanged.fire([n])}}static _toMarker(t,n,r){let{code:l,severity:h,message:s,source:u,startLineNumber:a,startColumn:d,endLineNumber:c,endColumn:b,relatedInformation:g,tags:p}=r;if(s)return a=a>0?a:1,d=d>0?d:1,c=c>=a?c:a,b=b>0?b:d,{resource:n,owner:t,code:l,severity:h,message:s,source:u,startLineNumber:a,startColumn:d,endLineNumber:c,endColumn:b,relatedInformation:g,tags:p}}changeAll(t,n){const r=[],l=this._data.values(t);if(l)for(const h of l){const s=L.Iterable.first(h);s&&(r.push(s.resource),this._data.delete(s.resource,t))}if((0,y.isNonEmptyArray)(n)){const h=new D.ResourceMap;for(const{resource:s,marker:u}of n){const a=o._toMarker(t,s,u);if(!a)continue;const d=h.get(s);d?d.push(a):(h.set(s,[a]),r.push(s))}for(const[s,u]of h)this._data.set(s,t,u)}r.length>0&&this._onMarkerChanged.fire(r)}read(t=Object.create(null)){let{owner:n,resource:r,severities:l,take:h}=t;if((!h||h<0)&&(h=-1),n&&r){const s=this._data.get(r,n);if(s){const u=[];for(const a of s)if(o._accept(a,l)){const d=u.push(a);if(h>0&&d===h)break}return u}else return[]}else if(!n&&!r){const s=[];for(const u of this._data.values())for(const a of u)if(o._accept(a,l)){const d=s.push(a);if(h>0&&d===h)return s}return s}else{const s=this._data.values(r??n),u=[];for(const a of s)for(const d of a)if(o._accept(d,l)){const c=u.push(d);if(h>0&&c===h)return u}return u}}static _accept(t,n){return n===void 0||(n&t.severity)===t.severity}static _merge(t){const n=new D.ResourceMap;for(const r of t)for(const l of r)n.set(l,!0);return Array.from(n.keys())}}e.MarkerService=o}),define(J[44],ee([1,0,107,8]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=y.default,e.INotificationService=(0,k.createDecorator)("notificationService");class L{}e.NoOpNotification=L}),define(J[56],ee([1,0,9,22,8]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.matchesSomeScheme=e.matchesScheme=e.IOpenerService=void 0,e.IOpenerService=(0,L.createDecorator)("openerService");function D(S,f){return k.URI.isUri(S)?(0,y.equalsIgnoreCase)(S.scheme,f):(0,y.startsWithIgnoreCase)(S,f+":")}e.matchesScheme=D;function _(S,...f){return f.some(v=>D(S,v))}e.matchesSomeScheme=_;function m(S){let f;const v=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(S.fragment);return v&&(f={startLineNumber:parseInt(v[1]),startColumn:v[2]?parseInt(v[2]):1,endLineNumber:v[4]?parseInt(v[4]):void 0,endColumn:v[4]?v[5]?parseInt(v[5]):1:void 0},S=S.with({fragment:""})),{selection:f,uri:S}}e.extractSelection=m}),define(J[759],ee([1,0,7,21,65,66,223,54,43,22,33,25,734,56]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let n=class{constructor(s){this._commandService=s}open(s,u){return Le(this,void 0,void 0,function*(){if(!(0,t.matchesScheme)(s,m.Schemas.command))return!1;if(!u?.allowCommands||(typeof s=="string"&&(s=f.URI.parse(s)),Array.isArray(u.allowCommands)&&!u.allowCommands.includes(s.path)))return!0;let a=[];try{a=(0,_.parse)(decodeURIComponent(s.query))}catch{try{a=(0,_.parse)(s.query)}catch{}}return Array.isArray(a)||(a=[a]),yield this._commandService.executeCommand(s.path,...a),!0})}};n=Ne([fe(0,o.ICommandService)],n);let r=class{constructor(s){this._editorService=s}open(s,u){return Le(this,void 0,void 0,function*(){typeof s=="string"&&(s=f.URI.parse(s));const{selection:a,uri:d}=(0,t.extractSelection)(s);return s=d,s.scheme===m.Schemas.file&&(s=(0,S.normalizePath)(s)),yield this._editorService.openCodeEditor({resource:s,options:Object.assign({selection:a,source:u?.fromUserGesture?i.EditorOpenSource.USER:i.EditorOpenSource.API},u?.editorOptions)},this._editorService.getFocusedCodeEditor(),u?.openToSide),!0})}};r=Ne([fe(0,v.ICodeEditorService)],r);let l=class{constructor(s,u){this._openers=new L.LinkedList,this._validators=new L.LinkedList,this._resolvers=new L.LinkedList,this._resolvedUriTargets=new D.ResourceMap(a=>a.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new L.LinkedList,this._defaultExternalOpener={openExternal:a=>Le(this,void 0,void 0,function*(){return(0,t.matchesSomeScheme)(a,m.Schemas.http,m.Schemas.https)?y.windowOpenNoOpener(a):window.location.href=a,!0})},this._openers.push({open:(a,d)=>Le(this,void 0,void 0,function*(){return d?.openExternal||(0,t.matchesSomeScheme)(a,m.Schemas.mailto,m.Schemas.http,m.Schemas.https,m.Schemas.vsls)?(yield this._doOpenExternal(a,d),!0):!1})}),this._openers.push(new n(u)),this._openers.push(new r(s))}registerOpener(s){return{dispose:this._openers.unshift(s)}}open(s,u){var a;return Le(this,void 0,void 0,function*(){const d=typeof s=="string"?f.URI.parse(s):s,c=(a=this._resolvedUriTargets.get(d))!==null&&a!==void 0?a:s;for(const b of this._validators)if(!(yield b.shouldOpen(c,u)))return!1;for(const b of this._openers)if(yield b.open(s,u))return!0;return!1})}resolveExternalUri(s,u){return Le(this,void 0,void 0,function*(){for(const a of this._resolvers)try{const d=yield a.resolveExternalUri(s,u);if(d)return this._resolvedUriTargets.has(d.resolved)||this._resolvedUriTargets.set(d.resolved,s),d}catch{}throw new Error("Could not resolve external URI: "+s.toString())})}_doOpenExternal(s,u){return Le(this,void 0,void 0,function*(){const a=typeof s=="string"?f.URI.parse(s):s;let d;try{d=(yield this.resolveExternalUri(a,u)).resolved}catch{d=a}let c;if(typeof s=="string"&&a.toString()===d.toString()?c=s:c=encodeURI(d.toString(!0)),u?.allowContributedOpeners){const b=typeof u?.allowContributedOpeners=="string"?u?.allowContributedOpeners:void 0;for(const g of this._externalOpeners)if(yield g.openExternal(c,{sourceUri:a,preferredOpenerId:b},k.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(c,{sourceUri:a},k.CancellationToken.None)})}dispose(){this._validators.clear()}};e.OpenerService=l,e.OpenerService=l=Ne([fe(0,v.ICodeEditorService),fe(1,o.ICommandService)],l)}),define(J[75],ee([1,0,145,66,142,241,49,8,70,56]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,m.createDecorator)("ILanguageFeatureDebounceService");var v;(function(n){const r=new WeakMap;let l=0;function h(s){let u=r.get(s);return u===void 0&&(u=++l,r.set(s,u)),u}n.of=h})(v||(v={}));class o{constructor(r){this._default=r}get(r){return this._default}update(r,l){return this._default}default(){return this._default}}class i{constructor(r,l,h,s,u,a){this._logService=r,this._name=l,this._registry=h,this._default=s,this._min=u,this._max=a,this._cache=new k.LRUCache(50,.7)}_key(r){return r.id+this._registry.all(r).reduce((l,h)=>(0,y.doHash)(v.of(h),l),0)}get(r){const l=this._key(r),h=this._cache.get(l);return h?(0,L.clamp)(h.value,this._min,this._max):this.default()}update(r,l){const h=this._key(r);let s=this._cache.get(h);s||(s=new L.SlidingWindowAverage(6),this._cache.set(h,s));const u=(0,L.clamp)(s.update(l),this._min,this._max);return(0,f.matchesScheme)(r.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${r.uri.toString()} is ${u}ms`),u}_overall(){const r=new L.MovingAverage;for(const[,l]of this._cache)r.update(l.value);return r.value}default(){const r=this._overall()|0||this._default;return(0,L.clamp)(r,this._min,this._max)}}let t=class{constructor(r,l){this._logService=r,this._data=new Map,this._isDev=l.isExtensionDevelopment||!l.isBuilt}for(r,l,h){var s,u,a;const d=(s=h?.min)!==null&&s!==void 0?s:50,c=(u=h?.max)!==null&&u!==void 0?u:Math.pow(d,2),b=(a=h?.key)!==null&&a!==void 0?a:void 0,g=`${v.of(r)},${d}${b?","+b:""}`;let p=this._data.get(g);return p||(this._isDev?p=new i(this._logService,l,r,this._overallAverage()|0||d*1.5,d,c):(this._logService.debug(`[DEBOUNCE: ${l}] is disabled in developed mode`),p=new o(d*1.5)),this._data.set(g,p)),p}_overallAverage(){const r=new L.MovingAverage;for(const l of this._data.values())r.update(l.default());return r.value}};e.LanguageFeatureDebounceService=t,e.LanguageFeatureDebounceService=t=Ne([fe(0,S.ILogService),fe(1,D.IEnvironmentService)],t),(0,_.registerSingleton)(e.ILanguageFeatureDebounceService,t,1)}),define(J[190],ee([1,0,15,21,12,51,66,11,5,75,8,49,50,2,19]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class r{remove(){var d;(d=this.parent)===null||d===void 0||d.children.delete(this.id)}static findId(d,c){let b;typeof d=="string"?b=`${c.id}/${d}`:(b=`${c.id}/${d.name}`,c.children.get(b)!==void 0&&(b=`${c.id}/${d.name}_${d.range.startLineNumber}_${d.range.startColumn}`));let g=b;for(let p=0;c.children.get(g)!==void 0;p++)g=`${b}_${p}`;return g}static empty(d){return d.children.size===0}}e.TreeElement=r;class l extends r{constructor(d,c,b){super(),this.id=d,this.parent=c,this.symbol=b,this.children=new Map}}e.OutlineElement=l;class h extends r{constructor(d,c,b,g){super(),this.id=d,this.parent=c,this.label=b,this.order=g,this.children=new Map}}e.OutlineGroup=h;class s extends r{static create(d,c,b){const g=new k.CancellationTokenSource(b),p=new s(c.uri),C=d.ordered(c),w=C.map((I,T)=>{var P;const A=r.findId(`provider_${T}`,p),M=new h(A,p,(P=I.displayName)!==null&&P!==void 0?P:"Unknown Outline Provider",T);return Promise.resolve(I.provideDocumentSymbols(c,g.token)).then(N=>{for(const O of N||[])s._makeOutlineElement(O,M);return M},N=>((0,L.onUnexpectedExternalError)(N),M)).then(N=>{r.empty(N)?N.remove():p._groups.set(A,N)})}),E=d.onDidChange(()=>{const I=d.ordered(c);(0,y.equals)(I,C)||g.cancel()});return Promise.all(w).then(()=>g.token.isCancellationRequested&&!b.isCancellationRequested?s.create(d,c,b):p._compact()).finally(()=>{E.dispose()})}static _makeOutlineElement(d,c){const b=r.findId(d,c),g=new l(b,c,d);if(d.children)for(const p of d.children)s._makeOutlineElement(p,g);c.children.set(g.id,g)}constructor(d){super(),this.uri=d,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let d=0;for(const[c,b]of this._groups)b.children.size===0?this._groups.delete(c):d+=1;if(d!==1)this.children=this._groups;else{const c=D.Iterable.first(this._groups.values());for(const[,b]of c.children)b.parent=this,this.children.set(b.id,b)}return this}getTopLevelSymbols(){const d=[];for(const c of this.children.values())c instanceof l?d.push(c.symbol):d.push(...D.Iterable.map(c.children.values(),b=>b.symbol));return d.sort((c,b)=>S.Range.compareRangesUsingStarts(c.range,b.range))}asListOfDocumentSymbols(){const d=this.getTopLevelSymbols(),c=[];return s._flattenDocumentSymbols(c,d,""),c.sort((b,g)=>m.Position.compare(S.Range.getStartPosition(b.range),S.Range.getStartPosition(g.range))||m.Position.compare(S.Range.getEndPosition(g.range),S.Range.getEndPosition(b.range)))}static _flattenDocumentSymbols(d,c,b){for(const g of c)d.push({kind:g.kind,tags:g.tags,name:g.name,detail:g.detail,containerName:g.containerName||b,range:g.range,selectionRange:g.selectionRange,children:void 0}),g.children&&s._flattenDocumentSymbols(d,g.children,g.name)}}e.OutlineModel=s,e.IOutlineModelService=(0,v.createDecorator)("IOutlineModelService");let u=class{constructor(d,c,b){this._languageFeaturesService=d,this._disposables=new t.DisposableStore,this._cache=new _.LRUCache(10,.7),this._debounceInformation=c.for(d.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(b.onModelRemoved(g=>{this._cache.delete(g.id)}))}dispose(){this._disposables.dispose()}getOrCreate(d,c){return Le(this,void 0,void 0,function*(){const b=this._languageFeaturesService.documentSymbolProvider,g=b.ordered(d);let p=this._cache.get(d.id);if(!p||p.versionId!==d.getVersionId()||!(0,y.equals)(p.provider,g)){const w=new k.CancellationTokenSource;p={versionId:d.getVersionId(),provider:g,promiseCnt:0,source:w,promise:s.create(b,d,w.token),model:void 0},this._cache.set(d.id,p);const E=Date.now();p.promise.then(I=>{p.model=I,this._debounceInformation.update(d,Date.now()-E)}).catch(I=>{this._cache.delete(d.id)})}if(p.model)return p.model;p.promiseCnt+=1;const C=c.onCancellationRequested(()=>{--p.promiseCnt===0&&(p.source.cancel(),this._cache.delete(d.id))});try{return yield p.promise}finally{C.dispose()}})}};e.OutlineModelService=u,e.OutlineModelService=u=Ne([fe(0,n.ILanguageFeaturesService),fe(1,f.ILanguageFeatureDebounceService),fe(2,i.IModelService)],u),(0,o.registerSingleton)(e.IOutlineModelService,u,1)}),define(J[760],ee([1,0,21,18,22,69,190,25]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),m.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(S,...f){return Le(this,void 0,void 0,function*(){const[v]=f;(0,k.assertType)(L.URI.isUri(v));const o=S.get(_.IOutlineModelService),t=yield S.get(D.ITextModelService).createModelReference(v);try{return(yield o.getOrCreate(t.object.textEditorModel,y.CancellationToken.None)).getTopLevelSymbols()}finally{t.dispose()}})})}),define(J[761],ee([1,0,7,80,45,62,6,2,56,468]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let f=class extends m.Disposable{get enabled(){return this._enabled}set enabled(o){o?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=o}constructor(o,i,t={},n){var r;super(),this._link=i,this._enabled=!0,this.el=(0,y.append)(o,(0,y.$)("a.monaco-link",{tabIndex:(r=i.tabIndex)!==null&&r!==void 0?r:0,href:i.href,title:i.title},i.label)),this.el.setAttribute("role","button");const l=this._register(new k.DomEmitter(this.el,"click")),h=this._register(new k.DomEmitter(this.el,"keypress")),s=_.Event.chain(h.event).map(d=>new L.StandardKeyboardEvent(d)).filter(d=>d.keyCode===3).event,u=this._register(new k.DomEmitter(this.el,D.EventType.Tap)).event;this._register(D.Gesture.addTarget(this.el));const a=_.Event.any(l.event,s,u);this._register(a(d=>{this.enabled&&(y.EventHelper.stop(d,!0),t?.opener?t.opener(this._link.href):n.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};e.Link=f,e.Link=f=Ne([fe(3,S.IOpenerService)],f)}),define(J[84],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,y.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class k{constructor(D,_){this.callback=D,this.report=_?.async?this._reportAsync.bind(this):this._reportSync.bind(this)}_reportSync(D){this._value=D,this.callback(this._value)}_reportAsync(D){Promise.resolve(this._lastTask).finally(()=>{this._value=D;const _=this.callback(this._value);this._lastTask=Promise.resolve(_).finally(()=>this._lastTask=void 0)})}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,y.createDecorator)("editorProgressService")}),define(J[762],ee([1,0,13,21,2,18]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var _;(function(v){v[v.NO_ACTION=0]="NO_ACTION",v[v.CLOSE_PICKER=1]="CLOSE_PICKER",v[v.REFRESH_PICKER=2]="REFRESH_PICKER",v[v.REMOVE_ITEM=3]="REMOVE_ITEM"})(_||(e.TriggerAction=_={}));function m(v){const o=v;return Array.isArray(o.items)}function S(v){const o=v;return!!o.picks&&o.additionalPicks instanceof Promise}class f extends L.Disposable{constructor(o,i){super(),this.prefix=o,this.options=i}provide(o,i,t){var n;const r=new L.DisposableStore;o.canAcceptInBackground=!!(!((n=this.options)===null||n===void 0)&&n.canAcceptInBackground),o.matchOnLabel=o.matchOnDescription=o.matchOnDetail=o.sortByLabel=!1;let l;const h=r.add(new L.MutableDisposable),s=()=>Le(this,void 0,void 0,function*(){const u=h.value=new L.DisposableStore;l?.dispose(!0),o.busy=!1,l=new k.CancellationTokenSource(i);const a=l.token,d=o.value.substr(this.prefix.length).trim(),c=this._getPicks(d,u,a,t),b=(p,C)=>{var w;let E,I;if(m(p)?(E=p.items,I=p.active):E=p,E.length===0){if(C)return!1;(d.length>0||o.hideInput)&&(!((w=this.options)===null||w===void 0)&&w.noResultsPick)&&((0,D.isFunction)(this.options.noResultsPick)?E=[this.options.noResultsPick(d)]:E=[this.options.noResultsPick])}return o.items=E,I&&(o.activeItems=[I]),!0},g=p=>Le(this,void 0,void 0,function*(){let C=!1,w=!1;yield Promise.all([(()=>Le(this,void 0,void 0,function*(){typeof p.mergeDelay=="number"&&(yield(0,y.timeout)(p.mergeDelay),a.isCancellationRequested)||w||(C=b(p.picks,!0))}))(),(()=>Le(this,void 0,void 0,function*(){o.busy=!0;try{const E=yield p.additionalPicks;if(a.isCancellationRequested)return;let I,T;m(p.picks)?(I=p.picks.items,T=p.picks.active):I=p.picks;let P,A;if(m(E)?(P=E.items,A=E.active):P=E,P.length>0||!C){let M;if(!T&&!A){const N=o.activeItems[0];N&&I.indexOf(N)!==-1&&(M=N)}b({items:[...I,...P],active:T||A||M})}}finally{a.isCancellationRequested||(o.busy=!1),w=!0}}))()])});if(c!==null)if(S(c))yield g(c);else if(!(c instanceof Promise))b(c);else{o.busy=!0;try{const p=yield c;if(a.isCancellationRequested)return;S(p)?yield g(p):b(p)}finally{a.isCancellationRequested||(o.busy=!1)}}});return r.add(o.onDidChangeValue(()=>s())),s(),r.add(o.onDidAccept(u=>{const[a]=o.selectedItems;typeof a?.accept=="function"&&(u.inBackground||o.hide(),a.accept(o.keyMods,u))})),r.add(o.onDidTriggerItemButton(({button:u,item:a})=>Le(this,void 0,void 0,function*(){var d,c;if(typeof a.trigger=="function"){const b=(c=(d=a.buttons)===null||d===void 0?void 0:d.indexOf(u))!==null&&c!==void 0?c:-1;if(b>=0){const g=a.trigger(b,o.keyMods),p=typeof g=="number"?g:yield g;if(i.isCancellationRequested)return;switch(p){case _.NO_ACTION:break;case _.CLOSE_PICKER:o.hide();break;case _.REFRESH_PICKER:s();break;case _.REMOVE_ITEM:{const C=o.items.indexOf(a);if(C!==-1){const w=o.items.slice(),E=w.splice(C,1),I=o.activeItems.filter(P=>P!==E[0]),T=o.keepScrollPosition;o.keepScrollPosition=!0,o.items=w,I&&(o.activeItems=I),o.keepScrollPosition=T}break}}}}}))),r}}e.PickerQuickAccessProvider=f}),define(J[763],ee([1,0,7,45,58,230,2,107,176]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const S=y.$;class f extends _.Disposable{constructor(o,i,t){super(),this.parent=o,this.onKeyDown=r=>y.addDisposableListener(this.findInput.inputBox.inputElement,y.EventType.KEY_DOWN,l=>{r(new k.StandardKeyboardEvent(l))}),this.onMouseDown=r=>y.addDisposableListener(this.findInput.inputBox.inputElement,y.EventType.MOUSE_DOWN,l=>{r(new L.StandardMouseEvent(l))}),this.onDidChange=r=>this.findInput.onDidChange(r),this.container=y.append(this.parent,S(".quick-input-box")),this.findInput=this._register(new D.FindInput(this.container,void 0,{label:"",inputBoxStyles:i,toggleStyles:t}));const n=this.findInput.inputBox.inputElement;n.role="combobox",n.ariaHasPopup="menu",n.ariaAutoComplete="list",n.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(o){this.findInput.setValue(o)}select(o=null){this.findInput.inputBox.select(o)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(o){this.findInput.inputBox.setPlaceHolder(o)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(o){this.findInput.inputBox.inputElement.type=o?"password":"text"}set enabled(o){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!o)}set toggles(o){this.findInput.setAdditionalToggles(o)}setAttribute(o,i){this.findInput.inputBox.inputElement.setAttribute(o,i)}showDecoration(o){o===m.default.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:o===m.default.Info?1:o===m.default.Warning?2:3,content:""})}stylesForType(o){return this.findInput.inputBox.stylesForType(o===m.default.Info?1:o===m.default.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}e.QuickInputBox=f}),define(J[334],ee([1,0,7,80,6,45,62,131,167,381,726,176]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderQuickInputDescription=e.getIconClass=void 0;const o={},i=new S.IdGenerator("quick-input-button-icon-");function t(r){if(!r)return;let l;const h=r.dark.toString();return o[h]?l=o[h]:(l=i.nextId(),y.createCSSRule(`.${l}, .hc-light .${l}`,`background-image: ${y.asCSSUrl(r.light||r.dark)}`),y.createCSSRule(`.vs-dark .${l}, .hc-black .${l}`,`background-image: ${y.asCSSUrl(r.dark)}`),o[h]=l),l}e.getIconClass=t;function n(r,l,h){y.reset(l);const s=(0,f.parseLinkedText)(r);let u=0;for(const a of s.nodes)if(typeof a=="string")l.append(...(0,m.renderLabelWithIcons)(a));else{let d=a.title;!d&&a.href.startsWith("command:")?d=(0,v.localize)(0,null,a.href.substring(8)):d||(d=a.href);const c=y.$("a",{href:a.href,title:d,tabIndex:u++},a.label);c.style.textDecoration="underline";const b=E=>{y.isEventLike(E)&&y.EventHelper.stop(E,!0),h.callback(a.href)},g=h.disposables.add(new k.DomEmitter(c,y.EventType.CLICK)).event,p=h.disposables.add(new k.DomEmitter(c,y.EventType.KEY_DOWN)).event,C=h.disposables.add(L.Event.chain(p)).filter(E=>{const I=new D.StandardKeyboardEvent(E);return I.equals(10)||I.equals(3)}).event;h.disposables.add(_.Gesture.addTarget(c));const w=h.disposables.add(new k.DomEmitter(c,_.EventType.Tap)).event;L.Event.any(g,w,C)(b,null,h.disposables),l.appendChild(c)}}e.renderQuickInputDescription=n}),define(J[76],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var k;(function(_){_[_.Blur=1]="Blur",_[_.Gesture=2]="Gesture",_[_.Other=3]="Other"})(k||(e.QuickInputHideReason=k={}));var L;(function(_){_[_.NONE=0]="NONE",_[_.FIRST=1]="FIRST",_[_.SECOND=2]="SECOND",_[_.LAST=3]="LAST"})(L||(e.ItemActivation=L={}));class D{constructor(m){this.options=m}}e.QuickPickItemScorerAccessor=D,e.quickPickItemScorerAccessor=new D,e.IQuickInputService=(0,y.createDecorator)("quickInputService")}),define(J[38],ee([1,0,85,18]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class L{constructor(){this.data=new Map}add(_,m){y.ok(k.isString(_)),y.ok(k.isObject(m)),y.ok(!this.data.has(_),"There is already an extension with this id"),this.data.set(_,m)}as(_){return this.data.get(_)||null}}e.Registry=new L}),define(J[335],ee([1,0,38]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalSelectionTransfer=e.Extensions=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};class k{}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},y.Registry.add(e.Extensions.DragAndDropContribution,new k);class L{constructor(){}static getInstance(){return L.INSTANCE}hasData(_){return _&&_===this.proto}getData(_){if(this.hasData(_))return this.data}}e.LocalSelectionTransfer=L,L.INSTANCE=new L}),define(J[336],ee([1,0,198,173,106,22,335]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toExternalVSDataTransfer=e.toVSDataTransfer=void 0;function m(o){const i=new k.VSDataTransfer;for(const t of o.items){const n=t.type;if(t.kind==="string"){const r=new Promise(l=>t.getAsString(l));i.append(n,(0,k.createStringDataTransferItem)(r))}else if(t.kind==="file"){const r=t.getAsFile();r&&i.append(n,S(r))}}return i}e.toVSDataTransfer=m;function S(o){const i=o.path?D.URI.parse(o.path):void 0;return(0,k.createFileDataTransferItem)(o.name,i,()=>Le(this,void 0,void 0,function*(){return new Uint8Array(yield o.arrayBuffer())}))}const f=Object.freeze([_.CodeDataTransfers.EDITORS,_.CodeDataTransfers.FILES,y.DataTransfers.RESOURCES,y.DataTransfers.INTERNAL_URI_LIST]);function v(o,i=!1){const t=m(o),n=t.get(y.DataTransfers.INTERNAL_URI_LIST);if(n)t.replace(L.Mimes.uriList,n);else if(i||!t.has(L.Mimes.uriList)){const r=[];for(const l of o.items){const h=l.getAsFile();if(h){const s=h.path;try{s?r.push(D.URI.file(s).toString()):r.push(D.URI.parse(h.name,!0).toString())}catch{}}}r.length&&t.replace(L.Mimes.uriList,(0,k.createStringDataTransferItem)(k.UriList.create(r)))}for(const r of f)t.delete(r);return t}e.toExternalVSDataTransfer=v}),define(J[242],ee([1,0,6,38]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function L(m){return m.length>0&&m.charAt(m.length-1)==="#"?m.substring(0,m.length-1):m}class D{constructor(){this._onDidChangeSchema=new y.Emitter,this.schemasById={}}registerSchema(S,f){this.schemasById[L(S)]=f,this._onDidChangeSchema.fire(S)}notifySchemaChanged(S){this._onDidChangeSchema.fire(S)}}const _=new D;k.Registry.add(e.Extensions.JSONContribution,_)}),define(J[102],ee([1,0,15,6,18,713,28,242,38]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const f=S.Registry.as(m.Extensions.JSONContribution);class v{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:D.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},f.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(s,u=!0){this.registerConfigurations([s],u)}registerConfigurations(s,u=!0){const a=new Set;this.doRegisterConfigurations(s,u,a),f.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:a})}registerDefaultConfigurations(s){const u=new Set;this.doRegisterDefaultConfigurations(s,u),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:u,defaultsOverrides:!0})}doRegisterDefaultConfigurations(s,u){var a;const d=[];for(const{overrides:c,source:b}of s)for(const g in c)if(u.add(g),e.OVERRIDE_PROPERTY_REGEX.test(g)){const p=this.configurationDefaultsOverrides.get(g),C=(a=p?.valuesSources)!==null&&a!==void 0?a:new Map;if(b)for(const T of Object.keys(c[g]))C.set(T,b);const w=Object.assign(Object.assign({},p?.value||{}),c[g]);this.configurationDefaultsOverrides.set(g,{source:b,value:w,valuesSources:C});const E=(0,_.getLanguageTagSettingPlainKey)(g),I={type:"object",default:w,description:D.localize(1,null,E),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:w,source:L.isString(b)?void 0:b,defaultValueSource:b};d.push(...t(g)),this.configurationProperties[g]=I,this.defaultLanguageConfigurationOverridesNode.properties[g]=I}else{this.configurationDefaultsOverrides.set(g,{value:c[g],source:b});const p=this.configurationProperties[g];p&&(this.updatePropertyDefaultValue(g,p),this.updateSchema(g,p))}this.doRegisterOverrideIdentifiers(d)}registerOverrideIdentifiers(s){this.doRegisterOverrideIdentifiers(s),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(s){for(const u of s)this.overrideIdentifiers.add(u);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(s,u,a){s.forEach(d=>{this.validateAndRegisterProperties(d,u,d.extensionInfo,d.restrictedProperties,void 0,a),this.configurationContributors.push(d),this.registerJSONConfiguration(d)})}validateAndRegisterProperties(s,u=!0,a,d,c=3,b){var g;c=L.isUndefinedOrNull(s.scope)?c:s.scope;const p=s.properties;if(p)for(const w in p){const E=p[w];if(u&&l(w,E)){delete p[w];continue}if(E.source=a,E.defaultDefaultValue=p[w].default,this.updatePropertyDefaultValue(w,E),e.OVERRIDE_PROPERTY_REGEX.test(w)?E.scope=void 0:(E.scope=L.isUndefinedOrNull(E.scope)?c:E.scope,E.restricted=L.isUndefinedOrNull(E.restricted)?!!d?.includes(w):E.restricted),p[w].hasOwnProperty("included")&&!p[w].included){this.excludedConfigurationProperties[w]=p[w],delete p[w];continue}else this.configurationProperties[w]=p[w],!((g=p[w].policy)===null||g===void 0)&&g.name&&this.policyConfigurations.set(p[w].policy.name,w);!p[w].deprecationMessage&&p[w].markdownDeprecationMessage&&(p[w].deprecationMessage=p[w].markdownDeprecationMessage),b.add(w)}const C=s.allOf;if(C)for(const w of C)this.validateAndRegisterProperties(w,u,a,d,c,b)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(s){const u=a=>{const d=a.properties;if(d)for(const b in d)this.updateSchema(b,d[b]);const c=a.allOf;c?.forEach(u)};u(s)}updateSchema(s,u){switch(e.allSettings.properties[s]=u,u.scope){case 1:e.applicationSettings.properties[s]=u;break;case 2:e.machineSettings.properties[s]=u;break;case 6:e.machineOverridableSettings.properties[s]=u;break;case 3:e.windowSettings.properties[s]=u;break;case 4:e.resourceSettings.properties[s]=u;break;case 5:e.resourceSettings.properties[s]=u,this.resourceLanguageSettingsSchema.properties[s]=u;break}}updateOverridePropertyPatternKey(){for(const s of this.overrideIdentifiers.values()){const u=`[${s}]`,a={type:"object",description:D.localize(2,null),errorMessage:D.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(u,a),e.allSettings.properties[u]=a,e.applicationSettings.properties[u]=a,e.machineSettings.properties[u]=a,e.machineOverridableSettings.properties[u]=a,e.windowSettings.properties[u]=a,e.resourceSettings.properties[u]=a}}registerOverridePropertyPatternKey(){const s={type:"object",description:D.localize(4,null),errorMessage:D.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(s,u){const a=this.configurationDefaultsOverrides.get(s);let d=a?.value,c=a?.source;L.isUndefined(d)&&(d=u.defaultDefaultValue,c=void 0),L.isUndefined(d)&&(d=n(u.type)),u.default=d,u.defaultValueSource=c}}const o="\\[([^\\]]+)\\]",i=new RegExp(o,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${o})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function t(h){const s=[];if(e.OVERRIDE_PROPERTY_REGEX.test(h)){let u=i.exec(h);for(;u?.length;){const a=u[1].trim();a&&s.push(a),u=i.exec(h)}}return(0,y.distinct)(s)}e.overrideIdentifiersFromKey=t;function n(h){switch(Array.isArray(h)?h[0]:h){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=n;const r=new v;S.Registry.add(e.Extensions.Configuration,r);function l(h,s){var u,a,d,c;return h.trim()?e.OVERRIDE_PROPERTY_REGEX.test(h)?D.localize(7,null,h):r.getConfigurationProperties()[h]!==void 0?D.localize(8,null,h):!((u=s.policy)===null||u===void 0)&&u.name&&r.getPolicyConfigurations().get((a=s.policy)===null||a===void 0?void 0:a.name)!==void 0?D.localize(9,null,h,(d=s.policy)===null||d===void 0?void 0:d.name,r.getPolicyConfigurations().get((c=s.policy)===null||c===void 0?void 0:c.name)):null:D.localize(6,null)}e.validateProperty=l}),define(J[337],ee([1,0,36,177,612,102,38]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:L.localize(0,null),scope:5});const m=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:k.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:L.localize(1,null,"`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:L.localize(2,null)},"editor.insertSpaces":{type:"boolean",default:k.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:L.localize(3,null,"`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:k.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:L.localize(4,null,"`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:k.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:L.localize(5,null)},"editor.largeFileOptimizations":{type:"boolean",default:k.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:L.localize(6,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:L.localize(7,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[L.localize(8,null),L.localize(9,null),L.localize(10,null)],description:L.localize(11,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[L.localize(12,null),L.localize(13,null),L.localize(14,null)],default:"configuredByTheme",description:L.localize(15,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:L.localize(16,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:L.localize(17,null)},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:L.localize(18,null),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:L.localize(19,null)},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:L.localize(20,null)},"editor.language.brackets":{type:["array","null"],default:null,description:L.localize(21,null),items:{type:"array",items:[{type:"string",description:L.localize(22,null)},{type:"string",description:L.localize(23,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:L.localize(24,null),items:{type:"array",items:[{type:"string",description:L.localize(25,null)},{type:"string",description:L.localize(26,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:L.localize(27,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:L.localize(28,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:L.localize(29,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:L.localize(30,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:L.localize(31,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:L.localize(32,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:L.localize(33,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[L.localize(34,null),L.localize(35,null),L.localize(36,null,"`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:"advanced",markdownEnumDescriptions:[L.localize(37,null),L.localize(38,null)],tags:["experimental"]},"diffEditor.experimental.collapseUnchangedRegions":{type:"boolean",default:!1,markdownDescription:L.localize(39,null,"`#diffEditor.experimental.useVersion2#`")},"diffEditor.experimental.showMoves":{type:"boolean",default:!1,markdownDescription:L.localize(40,null,"`#diffEditor.experimental.useVersion2#`")},"diffEditor.experimental.useVersion2":{type:"boolean",default:!1,description:L.localize(41,null),tags:["experimental"]},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:!0,description:L.localize(42,null)}}});function S(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of y.editorOptionsRegistry){const r=n.schema;if(typeof r<"u")if(S(r))m.properties[`editor.${n.name}`]=r;else for(const l in r)Object.hasOwnProperty.call(r,l)&&(m.properties[l]=r[l])}let f=null;function v(){return f===null&&(f=Object.create(null),Object.keys(m.properties).forEach(n=>{f[n]=!0})),f}function o(n){return v()[`editor.${n}`]||!1}e.isEditorConfigurationKey=o;function i(n){return v()[`diffEditor.${n}`]||!1}e.isDiffEditorConfigurationKey=i,_.Registry.as(D.Extensions.Configuration).registerConfiguration(m)}),define(J[77],ee([1,0,622,6,38,106,102]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class m{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(f){return this._languages.push(f),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let v=0,o=this._languages.length;v<o;v++)if(this._languages[v]===f){this._languages.splice(v,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=m,e.ModesRegistry=new m,L.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[y.localize(0,null),"text"],mimetypes:[D.Mimes.text]}),L.Registry.as(_.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(J[31],ee([1,0,6,2,9,149,110,127,493,589,494,497,232,8,28,41,49,77,496]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.getScopedLineTokens=e.getIndentationAtPosition=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class u{constructor(N){this.languageId=N}affects(N){return this.languageId?this.languageId===N:!0}}e.LanguageConfigurationServiceChangeEvent=u,e.ILanguageConfigurationService=(0,t.createDecorator)("languageConfigurationService");let a=class extends k.Disposable{constructor(N,O){super(),this.configurationService=N,this.languageService=O,this._registry=this._register(new P),this.onDidChangeEmitter=this._register(new y.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const x=new Set(Object.values(c));this._register(this.configurationService.onDidChangeConfiguration(F=>{const B=F.change.keys.some(j=>x.has(j)),z=F.change.overrides.filter(([j,R])=>R.some(Z=>x.has(Z))).map(([j])=>j);if(B)this.configurations.clear(),this.onDidChangeEmitter.fire(new u(void 0));else for(const j of z)this.languageService.isRegisteredLanguageId(j)&&(this.configurations.delete(j),this.onDidChangeEmitter.fire(new u(j)))})),this._register(this._registry.onDidChange(F=>{this.configurations.delete(F.languageId),this.onDidChangeEmitter.fire(new u(F.languageId))}))}register(N,O,x){return this._registry.register(N,O,x)}getLanguageConfiguration(N){let O=this.configurations.get(N);return O||(O=d(N,this._registry,this.configurationService,this.languageService),this.configurations.set(N,O)),O}};e.LanguageConfigurationService=a,e.LanguageConfigurationService=a=Ne([fe(0,n.IConfigurationService),fe(1,r.ILanguageService)],a);function d(M,N,O,x){let F=N.getLanguageConfiguration(M);if(!F){if(!x.isRegisteredLanguageId(M))return new A(M,{});F=new A(M,{})}const B=b(F.languageId,O),z=E([F.underlyingConfig,B]);return new A(F.languageId,z)}const c={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function b(M,N){const O=N.getValue(c.brackets,{overrideIdentifier:M}),x=N.getValue(c.colorizedBracketPairs,{overrideIdentifier:M});return{brackets:g(O),colorizedBracketPairs:g(x)}}function g(M){if(Array.isArray(M))return M.map(N=>{if(!(!Array.isArray(N)||N.length!==2))return[N[0],N[1]]}).filter(N=>!!N)}function p(M,N,O){const x=M.getLineContent(N);let F=L.getLeadingWhitespace(x);return F.length>O-1&&(F=F.substring(0,O-1)),F}e.getIndentationAtPosition=p;function C(M,N,O){M.tokenization.forceTokenization(N);const x=M.tokenization.getLineTokens(N),F=typeof O>"u"?M.getLineMaxColumn(N)-1:O-1;return(0,m.createScopedLineTokens)(x,F)}e.getScopedLineTokens=C;class w{constructor(N){this.languageId=N,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(N,O){const x=new I(N,O,++this._order);return this._entries.push(x),this._resolved=null,(0,k.toDisposable)(()=>{for(let F=0;F<this._entries.length;F++)if(this._entries[F]===x){this._entries.splice(F,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const N=this._resolve();N&&(this._resolved=new A(this.languageId,N))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(I.cmp),E(this._entries.map(N=>N.configuration)))}}function E(M){let N={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const O of M)N={comments:O.comments||N.comments,brackets:O.brackets||N.brackets,wordPattern:O.wordPattern||N.wordPattern,indentationRules:O.indentationRules||N.indentationRules,onEnterRules:O.onEnterRules||N.onEnterRules,autoClosingPairs:O.autoClosingPairs||N.autoClosingPairs,surroundingPairs:O.surroundingPairs||N.surroundingPairs,autoCloseBefore:O.autoCloseBefore||N.autoCloseBefore,folding:O.folding||N.folding,colorizedBracketPairs:O.colorizedBracketPairs||N.colorizedBracketPairs,__electricCharacterSupport:O.__electricCharacterSupport||N.__electricCharacterSupport};return N}class I{constructor(N,O,x){this.configuration=N,this.priority=O,this.order=x}static cmp(N,O){return N.priority===O.priority?N.order-O.order:N.priority-O.priority}}class T{constructor(N){this.languageId=N}}e.LanguageConfigurationChangeEvent=T;class P extends k.Disposable{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(h.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(N,O,x=0){let F=this._entries.get(N);F||(F=new w(N),this._entries.set(N,F));const B=F.register(O,x);return this._onDidChange.fire(new T(N)),(0,k.toDisposable)(()=>{B.dispose(),this._onDidChange.fire(new T(N))})}getLanguageConfiguration(N){const O=this._entries.get(N);return O?.getResolvedConfiguration()||null}}e.LanguageConfigurationRegistry=P;class A{constructor(N,O){this.languageId=N,this.underlyingConfig=O,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new o.OnEnterSupport(this.underlyingConfig):null,this.comments=A._handleComments(this.underlyingConfig),this.characterPair=new S.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new v.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new s.LanguageBracketsConfiguration(N,this.underlyingConfig)}getWordDefinition(){return(0,D.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new i.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new f.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(N,O,x,F){return this._onEnterSupport?this._onEnterSupport.onEnter(N,O,x,F):null}getAutoClosingPairs(){return new _.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(N){return this.characterPair.getAutoCloseBeforeSet(N)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(N){const O=N.comments;if(!O)return null;const x={};if(O.lineComment&&(x.lineCommentToken=O.lineComment),O.blockComment){const[F,B]=O.blockComment;x.blockCommentStartToken=F,x.blockCommentEndToken=B}return x}}e.ResolvedLanguageConfiguration=A,(0,l.registerSingleton)(e.ILanguageConfigurationService,a,1)}),define(J[243],ee([1,0,13,2,314,581,5,31,621,50,189,9,15,70,59,12,19,109,61]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const u=60*1e3,a=5*60*1e3;function d(I,T){const P=I.getModel(T);return!(!P||P.isTooLargeForSyncing())}let c=class extends k.Disposable{constructor(T,P,A,M,N){super(),this._modelService=T,this._workerManager=this._register(new g(this._modelService,M)),this._logService=A,this._register(N.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(O,x)=>d(this._modelService,O.uri)?this._workerManager.withWorker().then(F=>F.computeLinks(O.uri)).then(F=>F&&{links:F}):Promise.resolve({links:[]})})),this._register(N.completionProvider.register("*",new b(this._workerManager,P,this._modelService,M)))}dispose(){super.dispose()}canComputeUnicodeHighlights(T){return d(this._modelService,T)}computedUnicodeHighlights(T,P,A){return this._workerManager.withWorker().then(M=>M.computedUnicodeHighlights(T,P,A))}computeDiff(T,P,A,M){return Le(this,void 0,void 0,function*(){const N=yield this._workerManager.withWorker().then(F=>F.computeDiff(T,P,A,M));if(!N)return null;return{identical:N.identical,quitEarly:N.quitEarly,changes:x(N.changes),moves:N.moves.map(F=>new h.MovedText(new h.SimpleLineRangeMapping(new s.LineRange(F[0],F[1]),new s.LineRange(F[2],F[3])),x(F[4])))};function x(F){return F.map(B=>{var z;return new h.LineRangeMapping(new s.LineRange(B[0],B[1]),new s.LineRange(B[2],B[3]),(z=B[4])===null||z===void 0?void 0:z.map(j=>new h.RangeMapping(new _.Range(j[0],j[1],j[2],j[3]),new _.Range(j[4],j[5],j[6],j[7]))))})}})}computeMoreMinimalEdits(T,P,A=!1){if((0,i.isNonEmptyArray)(P)){if(!d(this._modelService,T))return Promise.resolve(P);const M=n.StopWatch.create(),N=this._workerManager.withWorker().then(O=>O.computeMoreMinimalEdits(T,P,A));return N.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",T.toString(!0),M.elapsed())),Promise.race([N,(0,y.timeout)(1e3).then(()=>P)])}else return Promise.resolve(void 0)}canNavigateValueSet(T){return d(this._modelService,T)}navigateValueSet(T,P,A){return this._workerManager.withWorker().then(M=>M.navigateValueSet(T,P,A))}canComputeWordRanges(T){return d(this._modelService,T)}computeWordRanges(T,P){return this._workerManager.withWorker().then(A=>A.computeWordRanges(T,P))}};e.EditorWorkerService=c,e.EditorWorkerService=c=Ne([fe(0,f.IModelService),fe(1,v.ITextResourceConfigurationService),fe(2,t.ILogService),fe(3,m.ILanguageConfigurationService),fe(4,l.ILanguageFeaturesService)],c);class b{constructor(T,P,A,M){this.languageConfigurationService=M,this._debugDisplayName="wordbasedCompletions",this._workerManager=T,this._configurationService=P,this._modelService=A}provideCompletionItems(T,P){return Le(this,void 0,void 0,function*(){const A=this._configurationService.getValue(T.uri,P,"editor");if(!A.wordBasedSuggestions)return;const M=[];if(A.wordBasedSuggestionsMode==="currentDocument")d(this._modelService,T.uri)&&M.push(T.uri);else for(const j of this._modelService.getModels())d(this._modelService,j.uri)&&(j===T?M.unshift(j.uri):(A.wordBasedSuggestionsMode==="allDocuments"||j.getLanguageId()===T.getLanguageId())&&M.push(j.uri));if(M.length===0)return;const N=this.languageConfigurationService.getLanguageConfiguration(T.getLanguageId()).getWordDefinition(),O=T.getWordAtPosition(P),x=O?new _.Range(P.lineNumber,O.startColumn,P.lineNumber,O.endColumn):_.Range.fromPositions(P),F=x.setEndPosition(P.lineNumber,P.column),z=yield(yield this._workerManager.withWorker()).textualSuggest(M,O?.word,N);if(z)return{duration:z.duration,suggestions:z.words.map(j=>({kind:18,label:j,insertText:j,range:{insert:F,replace:x}}))}})}}class g extends k.Disposable{constructor(T,P){super(),this.languageConfigurationService=P,this._modelService=T,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new y.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(a/2)),this._register(this._modelService.onModelRemoved(M=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>a&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new E(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class p extends k.Disposable{constructor(T,P,A){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=T,this._modelService=P,!A){const M=new y.IntervalTimer;M.cancelAndSet(()=>this._checkStopModelSync(),Math.round(u/2)),this._register(M)}}dispose(){for(const T in this._syncedModels)(0,k.dispose)(this._syncedModels[T]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(T,P){for(const A of T){const M=A.toString();this._syncedModels[M]||this._beginModelSync(A,P),this._syncedModels[M]&&(this._syncedModelsLastUsedTime[M]=new Date().getTime())}}_checkStopModelSync(){const T=new Date().getTime(),P=[];for(const A in this._syncedModelsLastUsedTime)T-this._syncedModelsLastUsedTime[A]>u&&P.push(A);for(const A of P)this._stopModelSync(A)}_beginModelSync(T,P){const A=this._modelService.getModel(T);if(!A||!P&&A.isTooLargeForSyncing())return;const M=T.toString();this._proxy.acceptNewModel({url:A.uri.toString(),lines:A.getLinesContent(),EOL:A.getEOL(),versionId:A.getVersionId()});const N=new k.DisposableStore;N.add(A.onDidChangeContent(O=>{this._proxy.acceptModelChanged(M.toString(),O)})),N.add(A.onWillDispose(()=>{this._stopModelSync(M)})),N.add((0,k.toDisposable)(()=>{this._proxy.acceptRemovedModel(M)})),this._syncedModels[M]=N}_stopModelSync(T){const P=this._syncedModels[T];delete this._syncedModels[T],delete this._syncedModelsLastUsedTime[T],(0,k.dispose)(P)}}class C{constructor(T){this._instance=T,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class w{constructor(T){this._workerClient=T}fhr(T,P){return this._workerClient.fhr(T,P)}}e.EditorWorkerHost=w;class E extends k.Disposable{constructor(T,P,A,M){super(),this.languageConfigurationService=M,this._disposed=!1,this._modelService=T,this._keepIdleModels=P,this._workerFactory=new D.DefaultWorkerFactory(A),this._worker=null,this._modelManager=null}fhr(T,P){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new L.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new w(this)))}catch(T){(0,L.logOnceWebWorkerWarning)(T),this._worker=new C(new S.EditorSimpleWorker(new w(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,T=>((0,L.logOnceWebWorkerWarning)(T),this._worker=new C(new S.EditorSimpleWorker(new w(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(T){return this._modelManager||(this._modelManager=this._register(new p(T,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(T,P=!1){return Le(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,r.canceled)()):this._getProxy().then(A=>(this._getOrCreateModelManager(A).ensureSyncedResources(T,P),A))})}computedUnicodeHighlights(T,P,A){return this._withSyncedResources([T]).then(M=>M.computeUnicodeHighlights(T.toString(),P,A))}computeDiff(T,P,A,M){return this._withSyncedResources([T,P],!0).then(N=>N.computeDiff(T.toString(),P.toString(),A,M))}computeMoreMinimalEdits(T,P,A){return this._withSyncedResources([T]).then(M=>M.computeMoreMinimalEdits(T.toString(),P,A))}computeLinks(T){return this._withSyncedResources([T]).then(P=>P.computeLinks(T.toString()))}computeDefaultDocumentColors(T){return this._withSyncedResources([T]).then(P=>P.computeDefaultDocumentColors(T.toString()))}textualSuggest(T,P,A){return Le(this,void 0,void 0,function*(){const M=yield this._withSyncedResources(T),N=A.source,O=(0,o.regExpFlags)(A);return M.textualSuggest(T.map(x=>x.toString()),P,N,O)})}computeWordRanges(T,P){return this._withSyncedResources([T]).then(A=>{const M=this._modelService.getModel(T);if(!M)return Promise.resolve(null);const N=this.languageConfigurationService.getLanguageConfiguration(M.getLanguageId()).getWordDefinition(),O=N.source,x=(0,o.regExpFlags)(N);return A.computeWordRanges(T.toString(),P,O,x)})}navigateValueSet(T,P,A){return this._withSyncedResources([T]).then(M=>{const N=this._modelService.getModel(T);if(!N)return null;const O=this.languageConfigurationService.getLanguageConfiguration(N.getLanguageId()).getWordDefinition(),x=O.source,F=(0,o.regExpFlags)(O);return M.navigateValueSet(T.toString(),P,A,x,F)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=E}),define(J[764],ee([1,0,46,243]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function L(_,m,S){return new D(_,m,S)}e.createWebWorker=L;class D extends k.EditorWorkerClient{constructor(m,S,f){super(m,f.keepIdleModels||!1,f.label,S),this._foreignModuleId=f.moduleId,this._foreignModuleCreateData=f.createData||null,this._foreignModuleHost=f.host||null,this._foreignProxy=null}fhr(m,S){if(!this._foreignModuleHost||typeof this._foreignModuleHost[m]!="function")return Promise.reject(new Error("Missing method "+m+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[m].apply(this._foreignModuleHost,S))}catch(f){return Promise.reject(f)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(m=>{const S=this._foreignModuleHost?(0,y.getAllMethodNames)(this._foreignModuleHost):[];return m.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,S).then(f=>{this._foreignModuleCreateData=null;const v=(t,n)=>m.fmr(t,n),o=(t,n)=>function(){const r=Array.prototype.slice.call(arguments,0);return n(t,r)},i={};for(const t of f)i[t]=o(t,v);return i})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(m){return this._withSyncedResources(m).then(S=>this.getProxy())}}}),define(J[244],ee([1,0,9,110,127,31]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndentMetadata=e.getIndentActionForType=e.getIndentForEnter=e.getGoodIndentForLine=e.getInheritIndentForLine=void 0;function _(i,t,n){const r=i.tokenization.getLanguageIdAtPosition(t,0);if(t>1){let l,h=-1;for(l=t-1;l>=1;l--){if(i.tokenization.getLanguageIdAtPosition(l,0)!==r)return h;const s=i.getLineContent(l);if(n.shouldIgnore(s)||/^\s+$/.test(s)||s===""){h=l;continue}return l}}return-1}function m(i,t,n,r=!0,l){if(i<4)return null;const h=l.getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!h)return null;if(n<=1)return{indentation:"",action:null};for(let a=n-1;a>0&&t.getLineContent(a)==="";a--)if(a===1)return{indentation:"",action:null};const s=_(t,n,h);if(s<0)return null;if(s<1)return{indentation:"",action:null};const u=t.getLineContent(s);if(h.shouldIncrease(u)||h.shouldIndentNextLine(u))return{indentation:y.getLeadingWhitespace(u),action:k.IndentAction.Indent,line:s};if(h.shouldDecrease(u))return{indentation:y.getLeadingWhitespace(u),action:null,line:s};{if(s===1)return{indentation:y.getLeadingWhitespace(t.getLineContent(s)),action:null,line:s};const a=s-1,d=h.getIndentMetadata(t.getLineContent(a));if(!(d&3)&&d&4){let c=0;for(let b=a-1;b>0;b--)if(!h.shouldIndentNextLine(t.getLineContent(b))){c=b;break}return{indentation:y.getLeadingWhitespace(t.getLineContent(c+1)),action:null,line:c+1}}if(r)return{indentation:y.getLeadingWhitespace(t.getLineContent(s)),action:null,line:s};for(let c=s;c>0;c--){const b=t.getLineContent(c);if(h.shouldIncrease(b))return{indentation:y.getLeadingWhitespace(b),action:k.IndentAction.Indent,line:c};if(h.shouldIndentNextLine(b)){let g=0;for(let p=c-1;p>0;p--)if(!h.shouldIndentNextLine(t.getLineContent(c))){g=p;break}return{indentation:y.getLeadingWhitespace(t.getLineContent(g+1)),action:null,line:g+1}}else if(h.shouldDecrease(b))return{indentation:y.getLeadingWhitespace(b),action:null,line:c}}return{indentation:y.getLeadingWhitespace(t.getLineContent(1)),action:null,line:1}}}e.getInheritIndentForLine=m;function S(i,t,n,r,l,h){if(i<4)return null;const s=h.getLanguageConfiguration(n);if(!s)return null;const u=h.getLanguageConfiguration(n).indentRulesSupport;if(!u)return null;const a=m(i,t,r,void 0,h),d=t.getLineContent(r);if(a){const c=a.line;if(c!==void 0){let b=!0;for(let g=c;g<r-1;g++)if(!/^\s*$/.test(t.getLineContent(g))){b=!1;break}if(b){const g=s.onEnter(i,"",t.getLineContent(c),"");if(g){let p=y.getLeadingWhitespace(t.getLineContent(c));return g.removeText&&(p=p.substring(0,p.length-g.removeText)),g.indentAction===k.IndentAction.Indent||g.indentAction===k.IndentAction.IndentOutdent?p=l.shiftIndent(p):g.indentAction===k.IndentAction.Outdent&&(p=l.unshiftIndent(p)),u.shouldDecrease(d)&&(p=l.unshiftIndent(p)),g.appendText&&(p+=g.appendText),y.getLeadingWhitespace(p)}}}return u.shouldDecrease(d)?a.action===k.IndentAction.Indent?a.indentation:l.unshiftIndent(a.indentation):a.action===k.IndentAction.Indent?l.shiftIndent(a.indentation):a.indentation}return null}e.getGoodIndentForLine=S;function f(i,t,n,r,l){if(i<4)return null;t.tokenization.forceTokenization(n.startLineNumber);const h=t.tokenization.getLineTokens(n.startLineNumber),s=(0,L.createScopedLineTokens)(h,n.startColumn-1),u=s.getLineContent();let a=!1,d;s.firstCharOffset>0&&h.getLanguageId(0)!==s.languageId?(a=!0,d=u.substr(0,n.startColumn-1-s.firstCharOffset)):d=h.getLineContent().substring(0,n.startColumn-1);let c;n.isEmpty()?c=u.substr(n.startColumn-1-s.firstCharOffset):c=(0,D.getScopedLineTokens)(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-s.firstCharOffset);const b=l.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!b)return null;const g=d,p=y.getLeadingWhitespace(d),C={tokenization:{getLineTokens:T=>t.tokenization.getLineTokens(T),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(T,P)=>t.getLanguageIdAtPosition(T,P)},getLineContent:T=>T===n.startLineNumber?g:t.getLineContent(T)},w=y.getLeadingWhitespace(h.getLineContent()),E=m(i,C,n.startLineNumber+1,void 0,l);if(!E){const T=a?w:p;return{beforeEnter:T,afterEnter:T}}let I=a?w:E.indentation;return E.action===k.IndentAction.Indent&&(I=r.shiftIndent(I)),b.shouldDecrease(c)&&(I=r.unshiftIndent(I)),{beforeEnter:a?w:p,afterEnter:I}}e.getIndentForEnter=f;function v(i,t,n,r,l,h){if(i<4)return null;const s=(0,D.getScopedLineTokens)(t,n.startLineNumber,n.startColumn);if(s.firstCharOffset)return null;const u=h.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!u)return null;const a=s.getLineContent(),d=a.substr(0,n.startColumn-1-s.firstCharOffset);let c;if(n.isEmpty()?c=a.substr(n.startColumn-1-s.firstCharOffset):c=(0,D.getScopedLineTokens)(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-s.firstCharOffset),!u.shouldDecrease(d+c)&&u.shouldDecrease(d+r+c)){const b=m(i,t,n.startLineNumber,!1,h);if(!b)return null;let g=b.indentation;return b.action!==k.IndentAction.Indent&&(g=l.unshiftIndent(g)),g}return null}e.getIndentActionForType=v;function o(i,t,n){const r=n.getLanguageConfiguration(i.getLanguageId()).indentRulesSupport;return!r||t<1||t>i.getLineCount()?null:r.getIndentMetadata(i.getLineContent(t))}e.getIndentMetadata=o}),define(J[245],ee([1,0,110,31]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=void 0;function L(D,_,m,S){const f=(0,k.getScopedLineTokens)(_,m.startLineNumber,m.startColumn),v=S.getLanguageConfiguration(f.languageId);if(!v)return null;const o=f.getLineContent(),i=o.substr(0,m.startColumn-1-f.firstCharOffset);let t;m.isEmpty()?t=o.substr(m.startColumn-1-f.firstCharOffset):t=(0,k.getScopedLineTokens)(_,m.endLineNumber,m.endColumn).getLineContent().substr(m.endColumn-1-f.firstCharOffset);let n="";if(m.startLineNumber>1&&f.firstCharOffset===0){const a=(0,k.getScopedLineTokens)(_,m.startLineNumber-1);a.languageId===f.languageId&&(n=a.getLineContent())}const r=v.onEnter(D,n,i,t);if(!r)return null;const l=r.indentAction;let h=r.appendText;const s=r.removeText||0;h?l===y.IndentAction.Indent&&(h="	"+h):l===y.IndentAction.Indent||l===y.IndentAction.IndentOutdent?h="	":h="";let u=(0,k.getIndentationAtPosition)(_,m.startLineNumber,m.startColumn);return s&&(u=u.substring(0,u.length-s)),{indentAction:l,appendText:h,removeText:s,indentation:u}}e.getEnterAction=L}),define(J[246],ee([1,0,9,81,5,24,245,31]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=void 0;const S=Object.create(null);function f(o,i){if(i<=0)return"";S[o]||(S[o]=["",o]);const t=S[o];for(let n=t.length;n<=i;n++)t[n]=t[n-1]+o;return t[i]}let v=class ci{static unshiftIndent(i,t,n,r,l){const h=k.CursorColumns.visibleColumnFromColumn(i,t,n);if(l){const s=f(" ",r),a=k.CursorColumns.prevIndentTabStop(h,r)/r;return f(s,a)}else{const s="	",a=k.CursorColumns.prevRenderTabStop(h,n)/n;return f(s,a)}}static shiftIndent(i,t,n,r,l){const h=k.CursorColumns.visibleColumnFromColumn(i,t,n);if(l){const s=f(" ",r),a=k.CursorColumns.nextIndentTabStop(h,r)/r;return f(s,a)}else{const s="	",a=k.CursorColumns.nextRenderTabStop(h,n)/n;return f(s,a)}}constructor(i,t,n){this._languageConfigurationService=n,this._opts=t,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(i,t,n){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(t,n):i.addEditOperation(t,n)}getEditOperations(i,t){const n=this._selection.startLineNumber;let r=this._selection.endLineNumber;this._selection.endColumn===1&&n!==r&&(r=r-1);const{tabSize:l,indentSize:h,insertSpaces:s}=this._opts,u=n===r;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(n))&&(this._useLastEditRangeForCursorEndPosition=!0);let a=0,d=0;for(let c=n;c<=r;c++,a=d){d=0;const b=i.getLineContent(c);let g=y.firstNonWhitespaceIndex(b);if(this._opts.isUnshift&&(b.length===0||g===0)||!u&&!this._opts.isUnshift&&b.length===0)continue;if(g===-1&&(g=b.length),c>1&&k.CursorColumns.visibleColumnFromColumn(b,g+1,l)%h!==0&&i.tokenization.isCheapToTokenize(c-1)){const w=(0,_.getEnterAction)(this._opts.autoIndent,i,new L.Range(c-1,i.getLineMaxColumn(c-1),c-1,i.getLineMaxColumn(c-1)),this._languageConfigurationService);if(w){if(d=a,w.appendText)for(let E=0,I=w.appendText.length;E<I&&d<h&&w.appendText.charCodeAt(E)===32;E++)d++;w.removeText&&(d=Math.max(0,d-w.removeText));for(let E=0;E<d&&!(g===0||b.charCodeAt(g-1)!==32);E++)g--}}if(this._opts.isUnshift&&g===0)continue;let p;this._opts.isUnshift?p=ci.unshiftIndent(b,g+1,l,h,s):p=ci.shiftIndent(b,g+1,l,h,s),this._addEditOperation(t,new L.Range(c,1,c,g+1),p),c===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=g+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(n)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const a=s?f(" ",h):"	";for(let d=n;d<=r;d++){const c=i.getLineContent(d);let b=y.firstNonWhitespaceIndex(c);if(!(this._opts.isUnshift&&(c.length===0||b===0))&&!(!u&&!this._opts.isUnshift&&c.length===0)&&(b===-1&&(b=c.length),!(this._opts.isUnshift&&b===0)))if(this._opts.isUnshift){b=Math.min(b,h);for(let g=0;g<b;g++)if(c.charCodeAt(g)===9){b=g+1;break}this._addEditOperation(t,new L.Range(d,1,d,b+1),"")}else this._addEditOperation(t,new L.Range(d,1,d,1),a),d===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(i,t){if(this._useLastEditRangeForCursorEndPosition){const r=t.getInverseEditOperations()[0];return new D.Selection(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}const n=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const r=this._selection.startColumn;return n.startColumn<=r?n:n.getDirection()===0?new D.Selection(n.startLineNumber,r,n.endLineNumber,n.endColumn):new D.Selection(n.endLineNumber,n.endColumn,n.startLineNumber,r)}return n}};e.ShiftCommand=v,e.ShiftCommand=v=Ne([fe(2,m.ILanguageConfigurationService)],v)}),define(J[247],ee([1,0,12,9,125,246,479,73,148,5,11,110,31,127,244,245]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class l{static indent(g,p,C){if(p===null||C===null)return[];const w=[];for(let E=0,I=C.length;E<I;E++)w[E]=new D.ShiftCommand(C[E],{isUnshift:!1,tabSize:g.tabSize,indentSize:g.indentSize,insertSpaces:g.insertSpaces,useTabStops:g.useTabStops,autoIndent:g.autoIndent},g.languageConfigurationService);return w}static outdent(g,p,C){const w=[];for(let E=0,I=C.length;E<I;E++)w[E]=new D.ShiftCommand(C[E],{isUnshift:!0,tabSize:g.tabSize,indentSize:g.indentSize,insertSpaces:g.insertSpaces,useTabStops:g.useTabStops,autoIndent:g.autoIndent},g.languageConfigurationService);return w}static shiftIndent(g,p,C){return C=C||1,D.ShiftCommand.shiftIndent(p,p.length+C,g.tabSize,g.indentSize,g.insertSpaces)}static unshiftIndent(g,p,C){return C=C||1,D.ShiftCommand.unshiftIndent(p,p.length+C,g.tabSize,g.indentSize,g.insertSpaces)}static _distributedPaste(g,p,C,w){const E=[];for(let I=0,T=C.length;I<T;I++)E[I]=new L.ReplaceCommand(C[I],w[I]);return new m.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(g,p,C,w,E){const I=[];for(let T=0,P=C.length;T<P;T++){const A=C[T],M=A.getPosition();if(E&&!A.isEmpty()&&(E=!1),E&&w.indexOf(`
`)!==w.length-1&&(E=!1),E){const N=new f.Range(M.lineNumber,1,M.lineNumber,1);I[T]=new L.ReplaceCommandThatPreservesSelection(N,w,A,!0)}else I[T]=new L.ReplaceCommand(A,w)}return new m.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(g,p,C,w,E){if(w||p.length===1)return null;if(E&&E.length===p.length)return E;if(g.multiCursorPaste==="spread"){C.charCodeAt(C.length-1)===10&&(C=C.substr(0,C.length-1)),C.charCodeAt(C.length-1)===13&&(C=C.substr(0,C.length-1));const I=k.splitLines(C);if(I.length===p.length)return I}return null}static paste(g,p,C,w,E,I){const T=this._distributePasteToCursors(g,C,w,E,I);return T?(C=C.sort(f.Range.compareRangesUsingStarts),this._distributedPaste(g,p,C,T)):this._simplePaste(g,p,C,w,E)}static _goodIndentForLine(g,p,C){let w=null,E="";const I=(0,n.getInheritIndentForLine)(g.autoIndent,p,C,!1,g.languageConfigurationService);if(I)w=I.action,E=I.indentation;else if(C>1){let T;for(T=C-1;T>=1;T--){const M=p.getLineContent(T);if(k.lastNonWhitespaceIndex(M)>=0)break}if(T<1)return null;const P=p.getLineMaxColumn(T),A=(0,r.getEnterAction)(g.autoIndent,p,new f.Range(T,P,T,P),g.languageConfigurationService);A&&(E=A.indentation+A.appendText)}return w&&(w===o.IndentAction.Indent&&(E=l.shiftIndent(g,E)),w===o.IndentAction.Outdent&&(E=l.unshiftIndent(g,E)),E=g.normalizeIndentation(E)),E||null}static _replaceJumpToNextIndent(g,p,C,w){let E="";const I=C.getStartPosition();if(g.insertSpaces){const T=g.visibleColumnFromColumn(p,I),P=g.indentSize,A=P-T%P;for(let M=0;M<A;M++)E+=" "}else E="	";return new L.ReplaceCommand(C,E,w)}static tab(g,p,C){const w=[];for(let E=0,I=C.length;E<I;E++){const T=C[E];if(T.isEmpty()){const P=p.getLineContent(T.startLineNumber);if(/^\s*$/.test(P)&&p.tokenization.isCheapToTokenize(T.startLineNumber)){let A=this._goodIndentForLine(g,p,T.startLineNumber);A=A||"	";const M=g.normalizeIndentation(A);if(!P.startsWith(M)){w[E]=new L.ReplaceCommand(new f.Range(T.startLineNumber,1,T.startLineNumber,P.length+1),M,!0);continue}}w[E]=this._replaceJumpToNextIndent(g,p,T,!0)}else{if(T.startLineNumber===T.endLineNumber){const P=p.getLineMaxColumn(T.startLineNumber);if(T.startColumn!==1||T.endColumn!==P){w[E]=this._replaceJumpToNextIndent(g,p,T,!1);continue}}w[E]=new D.ShiftCommand(T,{isUnshift:!1,tabSize:g.tabSize,indentSize:g.indentSize,insertSpaces:g.insertSpaces,useTabStops:g.useTabStops,autoIndent:g.autoIndent},g.languageConfigurationService)}}return w}static compositionType(g,p,C,w,E,I,T,P){const A=w.map(M=>this._compositionType(C,M,E,I,T,P));return new m.EditOperationResult(4,A,{shouldPushStackElementBefore:a(g,4),shouldPushStackElementAfter:!1})}static _compositionType(g,p,C,w,E,I){if(!p.isEmpty())return null;const T=p.getPosition(),P=Math.max(1,T.column-w),A=Math.min(g.getLineMaxColumn(T.lineNumber),T.column+E),M=new f.Range(T.lineNumber,P,T.lineNumber,A);return g.getValueInRange(M)===C&&I===0?null:new L.ReplaceCommandWithOffsetCursorState(M,C,0,I)}static _typeCommand(g,p,C){return C?new L.ReplaceCommandWithoutChangingPosition(g,p,!0):new L.ReplaceCommand(g,p,!0)}static _enter(g,p,C,w){if(g.autoIndent===0)return l._typeCommand(w,`
`,C);if(!p.tokenization.isCheapToTokenize(w.getStartPosition().lineNumber)||g.autoIndent===1){const P=p.getLineContent(w.startLineNumber),A=k.getLeadingWhitespace(P).substring(0,w.startColumn-1);return l._typeCommand(w,`
`+g.normalizeIndentation(A),C)}const E=(0,r.getEnterAction)(g.autoIndent,p,w,g.languageConfigurationService);if(E){if(E.indentAction===o.IndentAction.None)return l._typeCommand(w,`
`+g.normalizeIndentation(E.indentation+E.appendText),C);if(E.indentAction===o.IndentAction.Indent)return l._typeCommand(w,`
`+g.normalizeIndentation(E.indentation+E.appendText),C);if(E.indentAction===o.IndentAction.IndentOutdent){const P=g.normalizeIndentation(E.indentation),A=g.normalizeIndentation(E.indentation+E.appendText),M=`
`+A+`
`+P;return C?new L.ReplaceCommandWithoutChangingPosition(w,M,!0):new L.ReplaceCommandWithOffsetCursorState(w,M,-1,A.length-P.length,!0)}else if(E.indentAction===o.IndentAction.Outdent){const P=l.unshiftIndent(g,E.indentation);return l._typeCommand(w,`
`+g.normalizeIndentation(P+E.appendText),C)}}const I=p.getLineContent(w.startLineNumber),T=k.getLeadingWhitespace(I).substring(0,w.startColumn-1);if(g.autoIndent>=4){const P=(0,n.getIndentForEnter)(g.autoIndent,p,w,{unshiftIndent:A=>l.unshiftIndent(g,A),shiftIndent:A=>l.shiftIndent(g,A),normalizeIndentation:A=>g.normalizeIndentation(A)},g.languageConfigurationService);if(P){let A=g.visibleColumnFromColumn(p,w.getEndPosition());const M=w.endColumn,N=p.getLineContent(w.endLineNumber),O=k.firstNonWhitespaceIndex(N);if(O>=0?w=w.setEndPosition(w.endLineNumber,Math.max(w.endColumn,O+1)):w=w.setEndPosition(w.endLineNumber,p.getLineMaxColumn(w.endLineNumber)),C)return new L.ReplaceCommandWithoutChangingPosition(w,`
`+g.normalizeIndentation(P.afterEnter),!0);{let x=0;return M<=O+1&&(g.insertSpaces||(A=Math.ceil(A/g.indentSize)),x=Math.min(A+1-g.normalizeIndentation(P.afterEnter).length-1,0)),new L.ReplaceCommandWithOffsetCursorState(w,`
`+g.normalizeIndentation(P.afterEnter),0,x,!0)}}}return l._typeCommand(w,`
`+g.normalizeIndentation(T),C)}static _isAutoIndentType(g,p,C){if(g.autoIndent<4)return!1;for(let w=0,E=C.length;w<E;w++)if(!p.tokenization.isCheapToTokenize(C[w].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(g,p,C,w){const E=(0,i.getIndentationAtPosition)(p,C.startLineNumber,C.startColumn),I=(0,n.getIndentActionForType)(g.autoIndent,p,C,w,{shiftIndent:T=>l.shiftIndent(g,T),unshiftIndent:T=>l.unshiftIndent(g,T)},g.languageConfigurationService);if(I===null)return null;if(I!==g.normalizeIndentation(E)){const T=p.getLineFirstNonWhitespaceColumn(C.startLineNumber);return T===0?l._typeCommand(new f.Range(C.startLineNumber,1,C.endLineNumber,C.endColumn),g.normalizeIndentation(I)+w,!1):l._typeCommand(new f.Range(C.startLineNumber,1,C.endLineNumber,C.endColumn),g.normalizeIndentation(I)+p.getLineContent(C.startLineNumber).substring(T-1,C.startColumn-1)+w,!1)}return null}static _isAutoClosingOvertype(g,p,C,w,E){if(g.autoClosingOvertype==="never"||!g.autoClosingPairs.autoClosingPairsCloseSingleChar.has(E))return!1;for(let I=0,T=C.length;I<T;I++){const P=C[I];if(!P.isEmpty())return!1;const A=P.getPosition(),M=p.getLineContent(A.lineNumber);if(M.charAt(A.column-1)!==E)return!1;const O=(0,m.isQuote)(E);if((A.column>2?M.charCodeAt(A.column-2):0)===92&&O)return!1;if(g.autoClosingOvertype==="auto"){let F=!1;for(let B=0,z=w.length;B<z;B++){const j=w[B];if(A.lineNumber===j.startLineNumber&&A.column===j.startColumn){F=!0;break}}if(!F)return!1}}return!0}static _runAutoClosingOvertype(g,p,C,w,E){const I=[];for(let T=0,P=w.length;T<P;T++){const M=w[T].getPosition(),N=new f.Range(M.lineNumber,M.column,M.lineNumber,M.column+1);I[T]=new L.ReplaceCommand(N,E)}return new m.EditOperationResult(4,I,{shouldPushStackElementBefore:a(g,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(g,p){const C=p.charAt(0),w=g.autoClosingPairs.autoClosingPairsOpenByStart.get(C)||[],E=g.autoClosingPairs.autoClosingPairsCloseByStart.get(C)||[],I=w.some(P=>p.startsWith(P.open)),T=E.some(P=>p.startsWith(P.close));return!I&&T}static _findAutoClosingPairOpen(g,p,C,w){const E=g.autoClosingPairs.autoClosingPairsOpenByEnd.get(w);if(!E)return null;let I=null;for(const T of E)if(I===null||T.open.length>I.open.length){let P=!0;for(const A of C)if(p.getValueInRange(new f.Range(A.lineNumber,A.column-T.open.length+1,A.lineNumber,A.column))+w!==T.open){P=!1;break}P&&(I=T)}return I}static _findContainedAutoClosingPair(g,p){if(p.open.length<=1)return null;const C=p.close.charAt(p.close.length-1),w=g.autoClosingPairs.autoClosingPairsCloseByEnd.get(C)||[];let E=null;for(const I of w)I.open!==p.open&&p.open.includes(I.open)&&p.close.endsWith(I.close)&&(!E||I.open.length>E.open.length)&&(E=I);return E}static _getAutoClosingPairClose(g,p,C,w,E){const I=(0,m.isQuote)(w),T=I?g.autoClosingQuotes:g.autoClosingBrackets,P=I?g.shouldAutoCloseBefore.quote:g.shouldAutoCloseBefore.bracket;if(T==="never")return null;for(const F of C)if(!F.isEmpty())return null;const A=C.map(F=>{const B=F.getPosition();return E?{lineNumber:B.lineNumber,beforeColumn:B.column-w.length,afterColumn:B.column}:{lineNumber:B.lineNumber,beforeColumn:B.column,afterColumn:B.column}}),M=this._findAutoClosingPairOpen(g,p,A.map(F=>new v.Position(F.lineNumber,F.beforeColumn)),w);if(!M)return null;const N=this._findContainedAutoClosingPair(g,M),O=N?N.close:"";let x=!0;for(const F of A){const{lineNumber:B,beforeColumn:z,afterColumn:j}=F,R=p.getLineContent(B),Z=R.substring(0,z-1),se=R.substring(j-1);if(se.startsWith(O)||(x=!1),se.length>0){const U=se.charAt(0);if(!l._isBeforeClosingBrace(g,se)&&!P(U))return null}if(M.open.length===1&&(w==="'"||w==='"')&&T!=="always"){const U=(0,S.getMapForWordSeparators)(g.wordSeparators);if(Z.length>0){const V=Z.charCodeAt(Z.length-1);if(U.get(V)===0)return null}}if(!p.tokenization.isCheapToTokenize(B))return null;p.tokenization.forceTokenization(B);const le=p.tokenization.getLineTokens(B),te=(0,t.createScopedLineTokens)(le,z-1);if(!M.shouldAutoClose(te,z-te.firstCharOffset))return null;const Y=M.findNeutralCharacter();if(Y){const U=p.tokenization.getTokenTypeIfInsertingCharacter(B,z,Y);if(!M.isOK(U))return null}}return x?M.close.substring(0,M.close.length-O.length):M.close}static _runAutoClosingOpenCharType(g,p,C,w,E,I,T){const P=[];for(let A=0,M=w.length;A<M;A++){const N=w[A];P[A]=new h(N,E,!I,T)}return new m.EditOperationResult(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(g,p){return(0,m.isQuote)(p)?g.autoSurround==="quotes"||g.autoSurround==="languageDefined":g.autoSurround==="brackets"||g.autoSurround==="languageDefined"}static _isSurroundSelectionType(g,p,C,w){if(!l._shouldSurroundChar(g,w)||!g.surroundingPairs.hasOwnProperty(w))return!1;const E=(0,m.isQuote)(w);for(const I of C){if(I.isEmpty())return!1;let T=!0;for(let P=I.startLineNumber;P<=I.endLineNumber;P++){const A=p.getLineContent(P),M=P===I.startLineNumber?I.startColumn-1:0,N=P===I.endLineNumber?I.endColumn-1:A.length,O=A.substring(M,N);if(/[^ \t]/.test(O)){T=!1;break}}if(T)return!1;if(E&&I.startLineNumber===I.endLineNumber&&I.startColumn+1===I.endColumn){const P=p.getValueInRange(I);if((0,m.isQuote)(P))return!1}}return!0}static _runSurroundSelectionType(g,p,C,w,E){const I=[];for(let T=0,P=w.length;T<P;T++){const A=w[T],M=p.surroundingPairs[E];I[T]=new _.SurroundSelectionCommand(A,E,M)}return new m.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(g,p,C){return!!(C.length===1&&p.tokenization.isCheapToTokenize(C[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(g,p,C,w,E){if(!p.electricChars.hasOwnProperty(E)||!w.isEmpty())return null;const I=w.getPosition();C.tokenization.forceTokenization(I.lineNumber);const T=C.tokenization.getLineTokens(I.lineNumber);let P;try{P=p.onElectricCharacter(E,T,I.column)}catch(A){return(0,y.onUnexpectedError)(A),null}if(!P)return null;if(P.matchOpenBracket){const A=(T.getLineContent()+E).lastIndexOf(P.matchOpenBracket)+1,M=C.bracketPairs.findMatchingBracketUp(P.matchOpenBracket,{lineNumber:I.lineNumber,column:A},500);if(M){if(M.startLineNumber===I.lineNumber)return null;const N=C.getLineContent(M.startLineNumber),O=k.getLeadingWhitespace(N),x=p.normalizeIndentation(O),F=C.getLineContent(I.lineNumber),B=C.getLineFirstNonWhitespaceColumn(I.lineNumber)||I.column,z=F.substring(B-1,I.column-1),j=x+z+E,R=new f.Range(I.lineNumber,1,I.lineNumber,I.column),Z=new L.ReplaceCommand(R,j);return new m.EditOperationResult(u(j,g),[Z],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(g,p,C,w,E,I){if(!w)return null;let T=null;for(const N of w)if(T===null)T=N.insertedText;else if(T!==N.insertedText)return null;if(!T||T.length!==1)return null;const P=T;let A=!1;for(const N of w)if(N.deletedText.length!==0){A=!0;break}if(A){if(!l._shouldSurroundChar(p,P)||!p.surroundingPairs.hasOwnProperty(P))return null;const N=(0,m.isQuote)(P);for(const F of w)if(F.deletedSelectionStart!==0||F.deletedSelectionEnd!==F.deletedText.length||/^[ \t]+$/.test(F.deletedText)||N&&(0,m.isQuote)(F.deletedText))return null;const O=[];for(const F of E){if(!F.isEmpty())return null;O.push(F.getPosition())}if(O.length!==w.length)return null;const x=[];for(let F=0,B=O.length;F<B;F++)x.push(new _.CompositionSurroundSelectionCommand(O[F],w[F].deletedText,p.surroundingPairs[P]));return new m.EditOperationResult(4,x,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(p,C,E,I,P)){const N=E.map(O=>new L.ReplaceCommand(new f.Range(O.positionLineNumber,O.positionColumn,O.positionLineNumber,O.positionColumn+1),"",!1));return new m.EditOperationResult(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const M=this._getAutoClosingPairClose(p,C,E,P,!0);return M!==null?this._runAutoClosingOpenCharType(g,p,C,E,P,!0,M):null}static typeWithInterceptors(g,p,C,w,E,I,T){if(!g&&T===`
`){const M=[];for(let N=0,O=E.length;N<O;N++)M[N]=l._enter(C,w,!1,E[N]);return new m.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!g&&this._isAutoIndentType(C,w,E)){const M=[];let N=!1;for(let O=0,x=E.length;O<x;O++)if(M[O]=this._runAutoIndentType(C,w,E[O],T),!M[O]){N=!0;break}if(!N)return new m.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(C,w,E,I,T))return this._runAutoClosingOvertype(p,C,w,E,T);if(!g){const M=this._getAutoClosingPairClose(C,w,E,T,!1);if(M)return this._runAutoClosingOpenCharType(p,C,w,E,T,!1,M)}if(!g&&this._isSurroundSelectionType(C,w,E,T))return this._runSurroundSelectionType(p,C,w,E,T);if(!g&&this._isTypeInterceptorElectricChar(C,w,E)){const M=this._typeInterceptorElectricChar(p,C,w,E[0],T);if(M)return M}const P=[];for(let M=0,N=E.length;M<N;M++)P[M]=new L.ReplaceCommand(E[M],T);const A=u(T,p);return new m.EditOperationResult(A,P,{shouldPushStackElementBefore:a(p,A),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(g,p,C,w,E){const I=[];for(let P=0,A=w.length;P<A;P++)I[P]=new L.ReplaceCommand(w[P],E);const T=u(E,g);return new m.EditOperationResult(T,I,{shouldPushStackElementBefore:a(g,T),shouldPushStackElementAfter:!1})}static lineInsertBefore(g,p,C){if(p===null||C===null)return[];const w=[];for(let E=0,I=C.length;E<I;E++){let T=C[E].positionLineNumber;if(T===1)w[E]=new L.ReplaceCommandWithoutChangingPosition(new f.Range(1,1,1,1),`
`);else{T--;const P=p.getLineMaxColumn(T);w[E]=this._enter(g,p,!1,new f.Range(T,P,T,P))}}return w}static lineInsertAfter(g,p,C){if(p===null||C===null)return[];const w=[];for(let E=0,I=C.length;E<I;E++){const T=C[E].positionLineNumber,P=p.getLineMaxColumn(T);w[E]=this._enter(g,p,!1,new f.Range(T,P,T,P))}return w}static lineBreakInsert(g,p,C){const w=[];for(let E=0,I=C.length;E<I;E++)w[E]=this._enter(g,p,!0,C[E]);return w}}e.TypeOperations=l;class h extends L.ReplaceCommandWithOffsetCursorState{constructor(g,p,C,w){super(g,(C?p:"")+w,0,-w.length),this._openCharacter=p,this._closeCharacter=w,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(g,p){const w=p.getInverseEditOperations()[0].range;return this.closeCharacterRange=new f.Range(w.startLineNumber,w.endColumn-this._closeCharacter.length,w.endLineNumber,w.endColumn),this.enclosingRange=new f.Range(w.startLineNumber,w.endColumn-this._openCharacter.length-this._closeCharacter.length,w.endLineNumber,w.endColumn),super.computeCursorState(g,p)}}e.TypeWithAutoClosingCommand=h;class s{constructor(g,p,C,w,E,I){this.deletedText=g,this.deletedSelectionStart=p,this.deletedSelectionEnd=C,this.insertedText=w,this.insertedSelectionStart=E,this.insertedSelectionEnd=I}}e.CompositionOutcome=s;function u(b,g){return b===" "?g===5||g===6?6:5:4}function a(b,g){return c(b)&&!c(g)?!0:b===5?!1:d(b)!==d(g)}function d(b){return b===6||b===5?"space":b}function c(b){return b===4||b===5||b===6}}),define(J[765],ee([1,0,12,9,492,73,480,205,247,5,24,111,212,2,214]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class r extends t.Disposable{constructor(c,b,g,p){super(),this._model=c,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=b,this._coordinatesConverter=g,this.context=new _.CursorContext(this._model,this._viewModel,this._coordinatesConverter,p),this._cursors=new L.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,t.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(c){this.context=new _.CursorContext(this._model,this._viewModel,this._coordinatesConverter,c),this._cursors.updateContext(this.context)}onLineMappingChanged(c){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(c,"viewModel",0,this.getCursorStates())}setHasFocus(c){this._hasFocus=c}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const c=this._cursors.getSelections();for(let b=0;b<this._autoClosedActions.length;b++){const g=this._autoClosedActions[b];g.isValid(c)||(g.dispose(),this._autoClosedActions.splice(b,1),b--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(c,b,g,p){let C=!1;const w=this.context.cursorConfig.multiCursorLimit;p!==null&&p.length>w&&(p=p.slice(0,w),C=!0);const E=l.from(this._model,this);return this._cursors.setStates(p),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(c,b,g,E,C)}setCursorColumnSelectData(c){this._columnSelectData=c}revealPrimary(c,b,g,p,C,w){const E=this._cursors.getViewPositions();let I=null,T=null;E.length>1?T=this._cursors.getViewSelections():I=f.Range.fromPositions(E[0],E[0]),c.emitViewEvent(new i.ViewRevealRangeRequestEvent(b,g,I,T,p,C,w))}saveState(){const c=[],b=this._cursors.getSelections();for(let g=0,p=b.length;g<p;g++){const C=b[g];c.push({inSelectionMode:!C.isEmpty(),selectionStart:{lineNumber:C.selectionStartLineNumber,column:C.selectionStartColumn},position:{lineNumber:C.positionLineNumber,column:C.positionColumn}})}return c}restoreState(c,b){const g=[];for(let p=0,C=b.length;p<C;p++){const w=b[p];let E=1,I=1;w.position&&w.position.lineNumber&&(E=w.position.lineNumber),w.position&&w.position.column&&(I=w.position.column);let T=E,P=I;w.selectionStart&&w.selectionStart.lineNumber&&(T=w.selectionStart.lineNumber),w.selectionStart&&w.selectionStart.column&&(P=w.selectionStart.column),g.push({selectionStartLineNumber:T,selectionStartColumn:P,positionLineNumber:E,positionColumn:I})}this.setStates(c,"restoreState",0,D.CursorState.fromModelSelections(g)),this.revealPrimary(c,"restoreState",!1,0,!0,1)}onModelContentChanged(c,b){if(b instanceof o.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(c,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const g=b.rawContentChangedEvent;if(this._knownModelVersionId=g.versionId,this._isHandling)return;const p=g.containsEvent(1);if(this._prevEditOperationType=0,p)this._cursors.dispose(),this._cursors=new L.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(c,"model",1,null,!1);else if(this._hasFocus&&g.resultingSelection&&g.resultingSelection.length>0){const C=D.CursorState.fromModelSelections(g.resultingSelection);this.setStates(c,"modelChange",g.isUndoing?5:g.isRedoing?6:2,C)&&this.revealPrimary(c,"modelChange",!1,0,!0,0)}else{const C=this._cursors.readSelectionFromMarkers();this.setStates(c,"modelChange",2,D.CursorState.fromModelSelections(C))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const c=this._cursors.getPrimaryCursor(),b=c.viewState.selectionStart.getStartPosition(),g=c.viewState.position;return{isReal:!1,fromViewLineNumber:b.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,b),toViewLineNumber:g.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,g)}}getSelections(){return this._cursors.getSelections()}setSelections(c,b,g,p){this.setStates(c,b,p,D.CursorState.fromModelSelections(g))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(c){this._prevEditOperationType=c}_pushAutoClosedAction(c,b){const g=[],p=[];for(let E=0,I=c.length;E<I;E++)g.push({range:c[E],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),p.push({range:b[E],options:{description:"auto-closed-enclosing",stickiness:1}});const C=this._model.deltaDecorations([],g),w=this._model.deltaDecorations([],p);this._autoClosedActions.push(new h(this._model,C,w))}_executeEditOperation(c){if(!c)return;c.shouldPushStackElementBefore&&this._model.pushStackElement();const b=s.executeCommands(this._model,this._cursors.getSelections(),c.commands);if(b){this._interpretCommandResult(b);const g=[],p=[];for(let C=0;C<c.commands.length;C++){const w=c.commands[C];w instanceof S.TypeWithAutoClosingCommand&&w.enclosingRange&&w.closeCharacterRange&&(g.push(w.closeCharacterRange),p.push(w.enclosingRange))}g.length>0&&this._pushAutoClosedAction(g,p),this._prevEditOperationType=c.type}c.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(c){(!c||c.length===0)&&(c=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(c),this._cursors.normalize()}_emitStateChangedIfNecessary(c,b,g,p,C){const w=l.from(this._model,this);if(w.equals(p))return!1;const E=this._cursors.getSelections(),I=this._cursors.getViewSelections();if(c.emitViewEvent(new i.ViewCursorStateChangedEvent(I,E,g)),!p||p.cursorState.length!==w.cursorState.length||w.cursorState.some((T,P)=>!T.modelState.equals(p.cursorState[P].modelState))){const T=p?p.cursorState.map(A=>A.modelState.selection):null,P=p?p.modelVersionId:0;c.emitOutgoingEvent(new n.CursorStateChangedEvent(T,E,P,w.modelVersionId,b||"keyboard",g,C))}return!0}_findAutoClosingPairs(c){if(!c.length)return null;const b=[];for(let g=0,p=c.length;g<p;g++){const C=c[g];if(!C.text||C.text.indexOf(`
`)>=0)return null;const w=C.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!w)return null;const E=w[1],I=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(E);if(!I||I.length!==1)return null;const T=I[0].open,P=C.text.length-w[2].length-1,A=C.text.lastIndexOf(T,P-1);if(A===-1)return null;b.push([A,P])}return b}executeEdits(c,b,g,p){let C=null;b==="snippet"&&(C=this._findAutoClosingPairs(g)),C&&(g[0]._isTracked=!0);const w=[],E=[],I=this._model.pushEditOperations(this.getSelections(),g,T=>{if(C)for(let A=0,M=C.length;A<M;A++){const[N,O]=C[A],x=T[A],F=x.range.startLineNumber,B=x.range.startColumn-1+N,z=x.range.startColumn-1+O;w.push(new f.Range(F,z+1,F,z+2)),E.push(new f.Range(F,B+1,F,z+2))}const P=p(T);return P&&(this._isHandling=!0),P});I&&(this._isHandling=!1,this.setSelections(c,b,I,0)),w.length>0&&this._pushAutoClosedAction(w,E)}_executeEdit(c,b,g,p=0){if(this.context.cursorConfig.readOnly)return;const C=l.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),c()}catch(w){(0,y.onUnexpectedError)(w)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(b,g,p,C,!1)&&this.revealPrimary(b,g,!1,0,!0,0)}getAutoClosedCharacters(){return h.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(c){this._compositionState=new a(this._model,this.getSelections())}endComposition(c,b){const g=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{b==="keyboard"&&this._executeEditOperation(S.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,g,this.getSelections(),this.getAutoClosedCharacters()))},c,b)}type(c,b,g){this._executeEdit(()=>{if(g==="keyboard"){const p=b.length;let C=0;for(;C<p;){const w=k.nextCharLength(b,C),E=b.substr(C,w);this._executeEditOperation(S.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),E)),C+=w}}else this._executeEditOperation(S.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),b))},c,g)}compositionType(c,b,g,p,C,w){if(b.length===0&&g===0&&p===0){if(C!==0){const E=this.getSelections().map(I=>{const T=I.getPosition();return new v.Selection(T.lineNumber,T.column+C,T.lineNumber,T.column+C)});this.setSelections(c,w,E,0)}return}this._executeEdit(()=>{this._executeEditOperation(S.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),b,g,p,C))},c,w)}paste(c,b,g,p,C){this._executeEdit(()=>{this._executeEditOperation(S.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),b,g,p||[]))},c,C,4)}cut(c,b){this._executeEdit(()=>{this._executeEditOperation(m.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},c,b)}executeCommand(c,b,g){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new D.EditOperationResult(0,[b],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},c,g)}executeCommands(c,b,g){this._executeEdit(()=>{this._executeEditOperation(new D.EditOperationResult(0,b,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},c,g)}}e.CursorsController=r;class l{static from(c,b){return new l(c.getVersionId(),b.getCursorStates())}constructor(c,b){this.modelVersionId=c,this.cursorState=b}equals(c){if(!c||this.modelVersionId!==c.modelVersionId||this.cursorState.length!==c.cursorState.length)return!1;for(let b=0,g=this.cursorState.length;b<g;b++)if(!this.cursorState[b].equals(c.cursorState[b]))return!1;return!0}}class h{static getAllAutoClosedCharacters(c){let b=[];for(const g of c)b=b.concat(g.getAutoClosedCharactersRanges());return b}constructor(c,b,g){this._model=c,this._autoClosedCharactersDecorations=b,this._autoClosedEnclosingDecorations=g}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const c=[];for(let b=0;b<this._autoClosedCharactersDecorations.length;b++){const g=this._model.getDecorationRange(this._autoClosedCharactersDecorations[b]);g&&c.push(g)}return c}isValid(c){const b=[];for(let g=0;g<this._autoClosedEnclosingDecorations.length;g++){const p=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[g]);if(p&&(b.push(p),p.startLineNumber!==p.endLineNumber))return!1}b.sort(f.Range.compareRangesUsingStarts),c.sort(f.Range.compareRangesUsingStarts);for(let g=0;g<c.length;g++)if(g>=b.length||!b[g].strictContainsRange(c[g]))return!1;return!0}}class s{static executeCommands(c,b,g){const p={model:c,selectionsBefore:b,trackedRanges:[],trackedRangesDirection:[]},C=this._innerExecuteCommands(p,g);for(let w=0,E=p.trackedRanges.length;w<E;w++)p.model._setTrackedRange(p.trackedRanges[w],null,0);return C}static _innerExecuteCommands(c,b){if(this._arrayIsEmpty(b))return null;const g=this._getEditOperations(c,b);if(g.operations.length===0)return null;const p=g.operations,C=this._getLoserCursorMap(p);if(C.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const w=[];for(let T=0,P=p.length;T<P;T++)C.hasOwnProperty(p[T].identifier.major.toString())||w.push(p[T]);g.hadTrackedEditOperation&&w.length>0&&(w[0]._isTracked=!0);let E=c.model.pushEditOperations(c.selectionsBefore,w,T=>{const P=[];for(let N=0;N<c.selectionsBefore.length;N++)P[N]=[];for(const N of T)N.identifier&&P[N.identifier.major].push(N);const A=(N,O)=>N.identifier.minor-O.identifier.minor,M=[];for(let N=0;N<c.selectionsBefore.length;N++)P[N].length>0?(P[N].sort(A),M[N]=b[N].computeCursorState(c.model,{getInverseEditOperations:()=>P[N],getTrackedSelection:O=>{const x=parseInt(O,10),F=c.model._getTrackedRange(c.trackedRanges[x]);return c.trackedRangesDirection[x]===0?new v.Selection(F.startLineNumber,F.startColumn,F.endLineNumber,F.endColumn):new v.Selection(F.endLineNumber,F.endColumn,F.startLineNumber,F.startColumn)}})):M[N]=c.selectionsBefore[N];return M});E||(E=c.selectionsBefore);const I=[];for(const T in C)C.hasOwnProperty(T)&&I.push(parseInt(T,10));I.sort((T,P)=>P-T);for(const T of I)E.splice(T,1);return E}static _arrayIsEmpty(c){for(let b=0,g=c.length;b<g;b++)if(c[b])return!1;return!0}static _getEditOperations(c,b){let g=[],p=!1;for(let C=0,w=b.length;C<w;C++){const E=b[C];if(E){const I=this._getEditOperationsFromCommand(c,C,E);g=g.concat(I.operations),p=p||I.hadTrackedEditOperation}}return{operations:g,hadTrackedEditOperation:p}}static _getEditOperationsFromCommand(c,b,g){const p=[];let C=0;const w=(A,M,N=!1)=>{f.Range.isEmpty(A)&&M===""||p.push({identifier:{major:b,minor:C++},range:A,text:M,forceMoveMarkers:N,isAutoWhitespaceEdit:g.insertsAutoWhitespace})};let E=!1;const P={addEditOperation:w,addTrackedEditOperation:(A,M,N)=>{E=!0,w(A,M,N)},trackSelection:(A,M)=>{const N=v.Selection.liftSelection(A);let O;if(N.isEmpty())if(typeof M=="boolean")M?O=2:O=3;else{const B=c.model.getLineMaxColumn(N.startLineNumber);N.startColumn===B?O=2:O=3}else O=1;const x=c.trackedRanges.length,F=c.model._setTrackedRange(null,N,O);return c.trackedRanges[x]=F,c.trackedRangesDirection[x]=N.getDirection(),x.toString()}};try{g.getEditOperations(c.model,P)}catch(A){return(0,y.onUnexpectedError)(A),{operations:[],hadTrackedEditOperation:!1}}return{operations:p,hadTrackedEditOperation:E}}static _getLoserCursorMap(c){c=c.slice(0),c.sort((g,p)=>-f.Range.compareRangesUsingEnds(g.range,p.range));const b={};for(let g=1;g<c.length;g++){const p=c[g-1],C=c[g];if(f.Range.getStartPosition(p.range).isBefore(f.Range.getEndPosition(C.range))){let w;p.identifier.major>C.identifier.major?w=p.identifier.major:w=C.identifier.major,b[w.toString()]=!0;for(let E=0;E<c.length;E++)c[E].identifier.major===w&&(c.splice(E,1),E<g&&g--,E--);g>0&&g--}}return b}}class u{constructor(c,b,g){this.text=c,this.startSelection=b,this.endSelection=g}}class a{static _capture(c,b){const g=[];for(const p of b){if(p.startLineNumber!==p.endLineNumber)return null;g.push(new u(c.getLineContent(p.startLineNumber),p.startColumn-1,p.endColumn-1))}return g}constructor(c,b){this._original=a._capture(c,b)}deduceOutcome(c,b){if(!this._original)return null;const g=a._capture(c,b);if(!g||this._original.length!==g.length)return null;const p=[];for(let C=0,w=this._original.length;C<w;C++)p.push(a._deduceOutcome(this._original[C],g[C]));return p}static _deduceOutcome(c,b){const g=Math.min(c.startSelection,b.startSelection,k.commonPrefixLength(c.text,b.text)),p=Math.min(c.text.length-c.endSelection,b.text.length-b.endSelection,k.commonSuffixLength(c.text,b.text)),C=c.text.substring(g,c.text.length-p),w=b.text.substring(g,b.text.length-p);return new S.CompositionOutcome(C,c.startSelection-g,c.endSelection-g,w,b.startSelection-g,b.endSelection-g)}}}),define(J[766],ee([1,0,54,43,77,326]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClasses=void 0;const _=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function m(v,o,i,t){const n=t===D.FileKind.ROOT_FOLDER?["rootfolder-icon"]:t===D.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(i){let r;if(i.scheme===y.Schemas.data)r=k.DataUri.parseMetaData(i).get(k.DataUri.META_DATA_LABEL);else{const l=i.path.match(_);l?(r=f(l[2].toLowerCase()),l[1]&&n.push(`${f(l[1].toLowerCase())}-name-dir-icon`)):r=f(i.authority.toLowerCase())}if(t===D.FileKind.FOLDER)n.push(`${r}-name-folder-icon`);else{if(r){if(n.push(`${r}-name-file-icon`),n.push("name-file-icon"),r.length<=255){const h=r.split(".");for(let s=1;s<h.length;s++)n.push(`${h.slice(s).join(".")}-ext-file-icon`)}n.push("ext-file-icon")}const l=S(v,o,i);l&&n.push(`${f(l)}-lang-file-icon`)}}return n}e.getIconClasses=m;function S(v,o,i){if(!i)return null;let t=null;if(i.scheme===y.Schemas.data){const r=k.DataUri.parseMetaData(i).get(k.DataUri.META_DATA_MIME);r&&(t=o.getLanguageIdByMimeType(r))}else{const n=v.getModel(i);n&&(t=n.getLanguageId())}return t&&t!==L.PLAINTEXT_LANGUAGE_ID?t:o.guessLanguageIdByFilepathOrFirstLine(i)}function f(v){return v.replace(/[\11\12\14\15\40]/g,"/")}}),define(J[767],ee([1,0,300,106,54,92,43,9,77]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageIds=e.clearPlatformLanguageAssociations=e.registerPlatformLanguageAssociation=void 0;let f=[],v=[],o=[];function i(a,d=!1){t(a,!1,d)}e.registerPlatformLanguageAssociation=i;function t(a,d,c){const b=n(a,d);f.push(b),b.userConfigured?o.push(b):v.push(b),c&&!b.userConfigured&&f.forEach(g=>{g.mime===b.mime||g.userConfigured||(b.extension&&g.extension===b.extension&&console.warn(`Overwriting extension <<${b.extension}>> to now point to mime <<${b.mime}>>`),b.filename&&g.filename===b.filename&&console.warn(`Overwriting filename <<${b.filename}>> to now point to mime <<${b.mime}>>`),b.filepattern&&g.filepattern===b.filepattern&&console.warn(`Overwriting filepattern <<${b.filepattern}>> to now point to mime <<${b.mime}>>`),b.firstline&&g.firstline===b.firstline&&console.warn(`Overwriting firstline <<${b.firstline}>> to now point to mime <<${b.mime}>>`))})}function n(a,d){return{id:a.id,mime:a.mime,filename:a.filename,extension:a.extension,filepattern:a.filepattern,firstline:a.firstline,userConfigured:d,filenameLowercase:a.filename?a.filename.toLowerCase():void 0,extensionLowercase:a.extension?a.extension.toLowerCase():void 0,filepatternLowercase:a.filepattern?(0,y.parse)(a.filepattern.toLowerCase()):void 0,filepatternOnPath:a.filepattern?a.filepattern.indexOf(D.posix.sep)>=0:!1}}function r(){f=f.filter(a=>a.userConfigured),v=[]}e.clearPlatformLanguageAssociations=r;function l(a,d){return h(a,d).map(c=>c.id)}e.getLanguageIds=l;function h(a,d){let c;if(a)switch(a.scheme){case L.Schemas.file:c=a.fsPath;break;case L.Schemas.data:{c=_.DataUri.parseMetaData(a).get(_.DataUri.META_DATA_LABEL);break}case L.Schemas.vscodeNotebookCell:c=void 0;break;default:c=a.path}if(!c)return[{id:"unknown",mime:k.Mimes.unknown}];c=c.toLowerCase();const b=(0,D.basename)(c),g=s(c,b,o);if(g)return[g,{id:S.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];const p=s(c,b,v);if(p)return[p,{id:S.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];if(d){const C=u(d);if(C)return[C,{id:S.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}]}return[{id:"unknown",mime:k.Mimes.unknown}]}function s(a,d,c){var b;let g,p,C;for(let w=c.length-1;w>=0;w--){const E=c[w];if(d===E.filenameLowercase){g=E;break}if(E.filepattern&&(!p||E.filepattern.length>p.filepattern.length)){const I=E.filepatternOnPath?a:d;!((b=E.filepatternLowercase)===null||b===void 0)&&b.call(E,I)&&(p=E)}E.extension&&(!C||E.extension.length>C.extension.length)&&d.endsWith(E.extensionLowercase)&&(C=E)}if(g)return g;if(p)return p;if(C)return C}function u(a){if((0,m.startsWithUTF8BOM)(a)&&(a=a.substr(1)),a.length>0)for(let d=f.length-1;d>=0;d--){const c=f[d];if(!c.firstline)continue;const b=a.match(c.firstline);if(b&&b.length>0)return c}}}),define(J[768],ee([1,0,6,2,9,767,77,102,38]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const f=Object.prototype.hasOwnProperty,v="vs.editor.nullLanguage";class o{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(v,0),this._register(_.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(n,r){this._languageIdToLanguage[r]=n,this._languageToLanguageId.set(n,r)}register(n){if(this._languageToLanguageId.has(n))return;const r=this._nextLanguageId++;this._register(n,r)}encodeLanguageId(n){return this._languageToLanguageId.get(n)||0}decodeLanguageId(n){return this._languageIdToLanguage[n]||v}}e.LanguageIdCodec=o;class i extends k.Disposable{constructor(n=!0,r=!1){super(),this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,i.instanceCount++,this._warnOnOverwrite=r,this.languageIdCodec=new o,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},n&&(this._initializeFromRegistry(),this._register(_.ModesRegistry.onDidChangeLanguages(l=>{this._initializeFromRegistry()})))}dispose(){i.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,D.clearPlatformLanguageAssociations)();const n=[].concat(_.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(n)}_registerLanguages(n){for(const r of n)this._registerLanguage(r);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(r=>{const l=this._languages[r];l.name&&(this._nameMap[l.name]=l.identifier),l.aliases.forEach(h=>{this._lowercaseNameMap[h.toLowerCase()]=l.identifier}),l.mimetypes.forEach(h=>{this._mimeTypesMap[h]=l.identifier})}),S.Registry.as(m.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(n){const r=n.id;let l;f.call(this._languages,r)?l=this._languages[r]:(this.languageIdCodec.register(r),l={identifier:r,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[r]=l),this._mergeLanguage(l,n)}_mergeLanguage(n,r){const l=r.id;let h=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(n.mimetypes.push(...r.mimetypes),h=r.mimetypes[0]),h||(h=`text/x-${l}`,n.mimetypes.push(h)),Array.isArray(r.extensions)){r.configuration?n.extensions=r.extensions.concat(n.extensions):n.extensions=n.extensions.concat(r.extensions);for(const a of r.extensions)(0,D.registerPlatformLanguageAssociation)({id:l,mime:h,extension:a},this._warnOnOverwrite)}if(Array.isArray(r.filenames))for(const a of r.filenames)(0,D.registerPlatformLanguageAssociation)({id:l,mime:h,filename:a},this._warnOnOverwrite),n.filenames.push(a);if(Array.isArray(r.filenamePatterns))for(const a of r.filenamePatterns)(0,D.registerPlatformLanguageAssociation)({id:l,mime:h,filepattern:a},this._warnOnOverwrite);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let a=r.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{const d=new RegExp(a);(0,L.regExpLeadsToEndlessLoop)(d)||(0,D.registerPlatformLanguageAssociation)({id:l,mime:h,firstline:d},this._warnOnOverwrite)}catch(d){console.warn(`[${r.id}]: Invalid regular expression \`${a}\`: `,d)}}n.aliases.push(l);let s=null;if(typeof r.aliases<"u"&&Array.isArray(r.aliases)&&(r.aliases.length===0?s=[null]:s=r.aliases),s!==null)for(const a of s)!a||a.length===0||n.aliases.push(a);const u=s!==null&&s.length>0;if(!(u&&s[0]===null)){const a=(u?s[0]:null)||l;(u||!n.name)&&(n.name=a)}r.configuration&&n.configurationFiles.push(r.configuration),r.icon&&n.icons.push(r.icon)}isRegisteredLanguageId(n){return n?f.call(this._languages,n):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(n){const r=n.toLowerCase();return f.call(this._lowercaseNameMap,r)?this._lowercaseNameMap[r]:null}getLanguageIdByMimeType(n){return n&&f.call(this._mimeTypesMap,n)?this._mimeTypesMap[n]:null}guessLanguageIdByFilepathOrFirstLine(n,r){return!n&&!r?[]:(0,D.getLanguageIds)(n,r)}}e.LanguagesRegistry=i,i.instanceCount=0}),define(J[769],ee([1,0,6,2,768,15,30,77]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class S extends k.Disposable{constructor(o=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new y.Emitter),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new y.Emitter),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new y.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,S.instanceCount++,this._registry=this._register(new L.LanguagesRegistry(!0,o)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){S.instanceCount--,super.dispose()}isRegisteredLanguageId(o){return this._registry.isRegisteredLanguageId(o)}getLanguageIdByLanguageName(o){return this._registry.getLanguageIdByLanguageName(o)}getLanguageIdByMimeType(o){return this._registry.getLanguageIdByMimeType(o)}guessLanguageIdByFilepathOrFirstLine(o,i){const t=this._registry.guessLanguageIdByFilepathOrFirstLine(o,i);return(0,D.firstOrDefault)(t,null)}createById(o){return new f(this.onDidChange,()=>this._createAndGetLanguageIdentifier(o))}createByFilepathOrFirstLine(o,i){return new f(this.onDidChange,()=>{const t=this.guessLanguageIdByFilepathOrFirstLine(o,i);return this._createAndGetLanguageIdentifier(t)})}_createAndGetLanguageIdentifier(o){return(!o||!this.isRegisteredLanguageId(o))&&(o=m.PLAINTEXT_LANGUAGE_ID),o}requestBasicLanguageFeatures(o){this._requestedBasicLanguages.has(o)||(this._requestedBasicLanguages.add(o),this._onDidRequestBasicLanguageFeatures.fire(o))}requestRichLanguageFeatures(o){this._requestedRichLanguages.has(o)||(this._requestedRichLanguages.add(o),this.requestBasicLanguageFeatures(o),_.TokenizationRegistry.getOrCreate(o),this._onDidRequestRichLanguageFeatures.fire(o))}}e.LanguageService=S,S.instanceCount=0;class f{constructor(o,i){this._onDidChangeLanguages=o,this._selector=i,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new y.Emitter({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var o;const i=this._selector();i!==this.languageId&&(this.languageId=i,(o=this._emitter)===null||o===void 0||o.fire(this.languageId))}}}),define(J[338],ee([1,0,37,243,50,31,2,19,151]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDocumentColorProvider=void 0;class f{constructor(i,t){this._editorWorkerClient=new k.EditorWorkerClient(i,!1,"editorWorkerService",t)}provideDocumentColors(i,t){return Le(this,void 0,void 0,function*(){return this._editorWorkerClient.computeDefaultDocumentColors(i.uri)})}provideColorPresentations(i,t,n){const r=t.range,l=t.color,h=l.alpha,s=new y.Color(new y.RGBA(Math.round(255*l.red),Math.round(255*l.green),Math.round(255*l.blue),h)),u=h?y.Color.Format.CSS.formatRGB(s):y.Color.Format.CSS.formatRGBA(s),a=h?y.Color.Format.CSS.formatHSL(s):y.Color.Format.CSS.formatHSLA(s),d=h?y.Color.Format.CSS.formatHex(s):y.Color.Format.CSS.formatHexA(s),c=[];return c.push({label:u,textEdit:{range:r,text:u}}),c.push({label:a,textEdit:{range:r,text:a}}),c.push({label:d,textEdit:{range:r,text:d}}),c}}e.DefaultDocumentColorProvider=f;let v=class extends _.Disposable{constructor(i,t,n){super(),this._register(n.colorProvider.register("*",new f(i,t)))}};v=Ne([fe(0,L.IModelService),fe(1,D.ILanguageConfigurationService),fe(2,m.ILanguageFeaturesService)],v),(0,S.registerEditorFeature)(v)}),define(J[339],ee([1,0,21,12,22,5,50,25,19,338,28]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function o(s,u,a,d=!0){return Le(this,void 0,void 0,function*(){return l(new t,s,u,a,d)})}e.getColors=o;function i(s,u,a,d){return Promise.resolve(a.provideColorPresentations(s,u,d))}e.getColorPresentations=i;class t{constructor(){}compute(u,a,d,c){return Le(this,void 0,void 0,function*(){const b=yield u.provideDocumentColors(a,d);if(Array.isArray(b))for(const g of b)c.push({colorInfo:g,provider:u});return Array.isArray(b)})}}class n{constructor(){}compute(u,a,d,c){return Le(this,void 0,void 0,function*(){const b=yield u.provideDocumentColors(a,d);if(Array.isArray(b))for(const g of b)c.push({range:g.range,color:[g.color.red,g.color.green,g.color.blue,g.color.alpha]});return Array.isArray(b)})}}class r{constructor(u){this.colorInfo=u}compute(u,a,d,c){return Le(this,void 0,void 0,function*(){const b=yield u.provideColorPresentations(a,this.colorInfo,y.CancellationToken.None);return Array.isArray(b)&&c.push(...b),Array.isArray(b)})}}function l(s,u,a,d,c){return Le(this,void 0,void 0,function*(){let b=!1,g;const p=[],C=u.ordered(a);for(let w=C.length-1;w>=0;w--){const E=C[w];if(E instanceof f.DefaultDocumentColorProvider)g=E;else try{(yield s.compute(E,a,d,p))&&(b=!0)}catch(I){(0,k.onUnexpectedExternalError)(I)}}return b?p:g&&c?(yield s.compute(g,a,d,p),p):[]})}function h(s,u){const{colorProvider:a}=s.get(S.ILanguageFeaturesService),d=s.get(_.IModelService).getModel(u);if(!d)throw(0,k.illegalArgument)();const c=s.get(v.IConfigurationService).getValue("editor.defaultColorDecorators",{resource:u});return{model:d,colorProviderRegistry:a,isDefaultColorDecoratorsEnabled:c}}m.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(s,...u){const[a]=u;if(!(a instanceof L.URI))throw(0,k.illegalArgument)();const{model:d,colorProviderRegistry:c,isDefaultColorDecoratorsEnabled:b}=h(s,a);return l(new n,c,d,y.CancellationToken.None,b)}),m.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(s,...u){const[a,d]=u,{uri:c,range:b}=d;if(!(c instanceof L.URI)||!Array.isArray(a)||a.length!==4||!D.Range.isIRange(b))throw(0,k.illegalArgument)();const{model:g,colorProviderRegistry:p,isDefaultColorDecoratorsEnabled:C}=h(s,c),[w,E,I,T]=a;return l(new r({range:b,color:{red:w,green:E,blue:I,alpha:T}}),p,g,y.CancellationToken.None,C)})}),define(J[770],ee([1,0,21,71,2,42,100,11,30,31,19,294,594]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionWithUpdatedRange=e.UpToDateInlineCompletions=e.InlineCompletionsSource=void 0;let t=class extends L.Disposable{constructor(c,b,g,p,C){super(),this.textModel=c,this.versionId=b,this._debounceValue=g,this.languageFeaturesService=p,this.languageConfigurationService=C,this._updateOperation=this._register(new L.MutableDisposable),this.inlineCompletions=(0,_.disposableObservableValue)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,_.disposableObservableValue)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(c,b,g){var p,C;const w=new r(c,b,this.textModel.getVersionId()),E=b.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((p=this._updateOperation.value)===null||p===void 0)&&p.request.satisfies(w))return this._updateOperation.value.promise;if(!((C=E.get())===null||C===void 0)&&C.request.satisfies(w))return Promise.resolve(!0);const I=!!this._updateOperation.value;this._updateOperation.clear();const T=new y.CancellationTokenSource,P=(()=>Le(this,void 0,void 0,function*(){if((I||b.triggerKind===S.InlineCompletionTriggerKind.Automatic)&&(yield n(this._debounceValue.get(this.textModel))),T.token.isCancellationRequested||this.textModel.getVersionId()!==w.versionId)return!1;const N=new Date,O=yield(0,i.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,c,this.textModel,b,T.token,this.languageConfigurationService);if(T.token.isCancellationRequested||this.textModel.getVersionId()!==w.versionId)return!1;const x=new Date;this._debounceValue.update(this.textModel,x.getTime()-N.getTime());const F=new s(O,w,this.textModel,this.versionId);if(g){const B=g.toInlineCompletion(void 0);g.canBeReused(this.textModel,c)&&!O.has(B)&&F.prepend(g.inlineCompletion,B.range,!0)}return this._updateOperation.clear(),(0,_.transaction)(B=>{E.set(F,B)}),!0}))(),A=new h(w,T,P);return this._updateOperation.value=A,P}clear(c){this._updateOperation.clear(),this.inlineCompletions.set(void 0,c),this.suggestWidgetInlineCompletions.set(void 0,c)}clearSuggestWidgetInlineCompletions(c){var b;!((b=this._updateOperation.value)===null||b===void 0)&&b.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,c)}cancelUpdate(){this._updateOperation.clear()}};e.InlineCompletionsSource=t,e.InlineCompletionsSource=t=Ne([fe(3,v.ILanguageFeaturesService),fe(4,f.ILanguageConfigurationService)],t);function n(d,c){return new Promise(b=>{let g;const p=setTimeout(()=>{g&&g.dispose(),b()},d);c&&(g=c.onCancellationRequested(()=>{clearTimeout(p),g&&g.dispose(),b()}))})}class r{constructor(c,b,g){this.position=c,this.context=b,this.versionId=g}satisfies(c){return this.position.equals(c.position)&&l(this.context.selectedSuggestionInfo,c.context.selectedSuggestionInfo,(b,g)=>b.equals(g))&&(c.context.triggerKind===S.InlineCompletionTriggerKind.Automatic||this.context.triggerKind===S.InlineCompletionTriggerKind.Explicit)&&this.versionId===c.versionId}}function l(d,c,b){return!d||!c?d===c:b(d,c)}class h{constructor(c,b,g){this.request=c,this.cancellationTokenSource=b,this.promise=g}dispose(){this.cancellationTokenSource.cancel()}}class s{get inlineCompletions(){return this._inlineCompletions}constructor(c,b,g,p){this.inlineCompletionProviderResult=c,this.request=b,this.textModel=g,this.versionId=p,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=(0,D.derived)("ranges",w=>{this.versionId.read(w);let E=!1;for(const I of this._inlineCompletions)E=E||I._updateRange(this.textModel);return E&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const C=g.deltaDecorations([],c.completions.map(w=>({range:w.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=c.completions.map((w,E)=>new u(w,C[E],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(c=>c.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const c of this._prependedInlineCompletionItems)c.source.removeRef()}}prepend(c,b,g){g&&c.source.addRef();const p=this.textModel.deltaDecorations([],[{range:b,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new u(c,p,this._rangeVersionId,b)),this._prependedInlineCompletionItems.push(c)}}e.UpToDateInlineCompletions=s;class u{get forwardStable(){var c;return(c=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&c!==void 0?c:!1}constructor(c,b,g,p){this.inlineCompletion=c,this.decorationId=b,this.rangeVersion=g,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=p??c.range}toInlineCompletion(c){return this.inlineCompletion.withRange(this._getUpdatedRange(c))}toSingleTextEdit(c){return new o.SingleTextEdit(this._getUpdatedRange(c),this.inlineCompletion.insertText)}isVisible(c,b,g){const p=this._toFilterTextReplacement(g).removeCommonPrefix(c);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(g).getStartPosition())||b.lineNumber!==p.range.startLineNumber)return!1;const C=c.getValueInRange(p.range,1).toLowerCase(),w=p.text.toLowerCase(),E=Math.max(0,b.column-p.range.startColumn);let I=w.substring(0,E),T=w.substring(E),P=C.substring(0,E),A=C.substring(E);const M=c.getLineIndentColumn(p.range.startLineNumber);return p.range.startColumn<=M&&(P=P.trimStart(),P.length===0&&(A=A.trimStart()),I=I.trimStart(),I.length===0&&(T=T.trimStart())),I.startsWith(P)&&!!(0,k.matchesSubString)(A,T)}canBeReused(c,b){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(b)&&this.isVisible(c,b,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(c){return new o.SingleTextEdit(this._getUpdatedRange(c),this.inlineCompletion.filterText)}_isSmallerThanOriginal(c){return a(this._getUpdatedRange(c)).isBefore(a(this.inlineCompletion.range))}_getUpdatedRange(c){return this.rangeVersion.read(c),this._updatedRange}_updateRange(c){const b=c.getDecorationRange(this.decorationId);return b?this._updatedRange.equalsRange(b)?!1:(this._updatedRange=b,!0):(this._isValid=!1,!0)}}e.InlineCompletionWithUpdatedRange=u;function a(d){return d.startLineNumber===d.endLineNumber?new m.Position(1,1+d.endColumn-d.startColumn):new m.Position(1+d.endLineNumber-d.startLineNumber,d.endColumn)}}),define(J[771],ee([1,0,9,246,5,24,110,31,293,244,245]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let o=class{constructor(t,n,r,l){this._languageConfigurationService=l,this._selection=t,this._isMovingDown=n,this._autoIndent=r,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,n){const r=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===r){this._selectionId=n.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=n.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let l=this._selection;l.startLineNumber<l.endLineNumber&&l.endColumn===1&&(this._moveEndPositionDown=!0,l=l.setEndPosition(l.endLineNumber-1,t.getLineMaxColumn(l.endLineNumber-1)));const{tabSize:h,indentSize:s,insertSpaces:u}=t.getOptions(),a=this.buildIndentConverter(h,s,u),d={tokenization:{getLineTokens:c=>t.tokenization.getLineTokens(c),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(c,b)=>t.getLanguageIdAtPosition(c,b)},getLineContent:null};if(l.startLineNumber===l.endLineNumber&&t.getLineMaxColumn(l.startLineNumber)===1){const c=l.startLineNumber,b=this._isMovingDown?c+1:c-1;t.getLineMaxColumn(b)===1?n.addEditOperation(new L.Range(1,1,1,1),null):(n.addEditOperation(new L.Range(c,1,c,1),t.getLineContent(b)),n.addEditOperation(new L.Range(b,1,b,t.getLineMaxColumn(b)),null)),l=new D.Selection(b,1,b,1)}else{let c,b;if(this._isMovingDown){c=l.endLineNumber+1,b=t.getLineContent(c),n.addEditOperation(new L.Range(c-1,t.getLineMaxColumn(c-1),c,t.getLineMaxColumn(c)),null);let g=b;if(this.shouldAutoIndent(t,l)){const p=this.matchEnterRule(t,a,h,c,l.startLineNumber-1);if(p!==null){const w=y.getLeadingWhitespace(t.getLineContent(c)),E=p+S.getSpaceCnt(w,h);g=S.generateIndent(E,h,u)+this.trimLeft(b)}else{d.getLineContent=E=>E===l.startLineNumber?t.getLineContent(c):t.getLineContent(E);const w=(0,f.getGoodIndentForLine)(this._autoIndent,d,t.getLanguageIdAtPosition(c,1),l.startLineNumber,a,this._languageConfigurationService);if(w!==null){const E=y.getLeadingWhitespace(t.getLineContent(c)),I=S.getSpaceCnt(w,h),T=S.getSpaceCnt(E,h);I!==T&&(g=S.generateIndent(I,h,u)+this.trimLeft(b))}}n.addEditOperation(new L.Range(l.startLineNumber,1,l.startLineNumber,1),g+`
`);const C=this.matchEnterRuleMovingDown(t,a,h,l.startLineNumber,c,g);if(C!==null)C!==0&&this.getIndentEditsOfMovingBlock(t,n,l,h,u,C);else{d.getLineContent=E=>E===l.startLineNumber?g:E>=l.startLineNumber+1&&E<=l.endLineNumber+1?t.getLineContent(E-1):t.getLineContent(E);const w=(0,f.getGoodIndentForLine)(this._autoIndent,d,t.getLanguageIdAtPosition(c,1),l.startLineNumber+1,a,this._languageConfigurationService);if(w!==null){const E=y.getLeadingWhitespace(t.getLineContent(l.startLineNumber)),I=S.getSpaceCnt(w,h),T=S.getSpaceCnt(E,h);if(I!==T){const P=I-T;this.getIndentEditsOfMovingBlock(t,n,l,h,u,P)}}}}else n.addEditOperation(new L.Range(l.startLineNumber,1,l.startLineNumber,1),g+`
`)}else if(c=l.startLineNumber-1,b=t.getLineContent(c),n.addEditOperation(new L.Range(c,1,c+1,1),null),n.addEditOperation(new L.Range(l.endLineNumber,t.getLineMaxColumn(l.endLineNumber),l.endLineNumber,t.getLineMaxColumn(l.endLineNumber)),`
`+b),this.shouldAutoIndent(t,l)){d.getLineContent=p=>p===c?t.getLineContent(l.startLineNumber):t.getLineContent(p);const g=this.matchEnterRule(t,a,h,l.startLineNumber,l.startLineNumber-2);if(g!==null)g!==0&&this.getIndentEditsOfMovingBlock(t,n,l,h,u,g);else{const p=(0,f.getGoodIndentForLine)(this._autoIndent,d,t.getLanguageIdAtPosition(l.startLineNumber,1),c,a,this._languageConfigurationService);if(p!==null){const C=y.getLeadingWhitespace(t.getLineContent(l.startLineNumber)),w=S.getSpaceCnt(p,h),E=S.getSpaceCnt(C,h);if(w!==E){const I=w-E;this.getIndentEditsOfMovingBlock(t,n,l,h,u,I)}}}}}this._selectionId=n.trackSelection(l)}buildIndentConverter(t,n,r){return{shiftIndent:l=>k.ShiftCommand.shiftIndent(l,l.length+1,t,n,r),unshiftIndent:l=>k.ShiftCommand.unshiftIndent(l,l.length+1,t,n,r)}}parseEnterResult(t,n,r,l,h){if(h){let s=h.indentation;h.indentAction===_.IndentAction.None||h.indentAction===_.IndentAction.Indent?s=h.indentation+h.appendText:h.indentAction===_.IndentAction.IndentOutdent?s=h.indentation:h.indentAction===_.IndentAction.Outdent&&(s=n.unshiftIndent(h.indentation)+h.appendText);const u=t.getLineContent(l);if(this.trimLeft(u).indexOf(this.trimLeft(s))>=0){const a=y.getLeadingWhitespace(t.getLineContent(l));let d=y.getLeadingWhitespace(s);const c=(0,f.getIndentMetadata)(t,l,this._languageConfigurationService);c!==null&&c&2&&(d=n.unshiftIndent(d));const b=S.getSpaceCnt(d,r),g=S.getSpaceCnt(a,r);return b-g}}return null}matchEnterRuleMovingDown(t,n,r,l,h,s){if(y.lastNonWhitespaceIndex(s)>=0){const u=t.getLineMaxColumn(h),a=(0,v.getEnterAction)(this._autoIndent,t,new L.Range(h,u,h,u),this._languageConfigurationService);return this.parseEnterResult(t,n,r,l,a)}else{let u=l-1;for(;u>=1;){const c=t.getLineContent(u);if(y.lastNonWhitespaceIndex(c)>=0)break;u--}if(u<1||l>t.getLineCount())return null;const a=t.getLineMaxColumn(u),d=(0,v.getEnterAction)(this._autoIndent,t,new L.Range(u,a,u,a),this._languageConfigurationService);return this.parseEnterResult(t,n,r,l,d)}}matchEnterRule(t,n,r,l,h,s){let u=h;for(;u>=1;){let c;if(u===h&&s!==void 0?c=s:c=t.getLineContent(u),y.lastNonWhitespaceIndex(c)>=0)break;u--}if(u<1||l>t.getLineCount())return null;const a=t.getLineMaxColumn(u),d=(0,v.getEnterAction)(this._autoIndent,t,new L.Range(u,a,u,a),this._languageConfigurationService);return this.parseEnterResult(t,n,r,l,d)}trimLeft(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,n){if(this._autoIndent<4||!t.tokenization.isCheapToTokenize(n.startLineNumber))return!1;const r=t.getLanguageIdAtPosition(n.startLineNumber,1),l=t.getLanguageIdAtPosition(n.endLineNumber,1);return!(r!==l||this._languageConfigurationService.getLanguageConfiguration(r).indentRulesSupport===null)}getIndentEditsOfMovingBlock(t,n,r,l,h,s){for(let u=r.startLineNumber;u<=r.endLineNumber;u++){const a=t.getLineContent(u),d=y.getLeadingWhitespace(a),b=S.getSpaceCnt(d,l)+s,g=S.generateIndent(b,l,h);g!==d&&(n.addEditOperation(new L.Range(u,1,u,d.length+1),g),u===r.endLineNumber&&r.endColumn<=d.length+1&&g===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,n){let r=n.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(r=r.setEndPosition(r.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&r.startLineNumber<r.endLineNumber&&(r=r.setEndPosition(r.endLineNumber,2)),r}};e.MoveLinesCommand=o,e.MoveLinesCommand=o=Ne([fe(3,m.ILanguageConfigurationService)],o)}),define(J[117],ee([1,0,185,91,12,6,2,60,41,77,322,56,450]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.openLinkFromMarkdown=e.MarkdownRenderer=void 0;let i=class xi{constructor(l,h,s){this._options=l,this._languageService=h,this._openerService=s,this._onDidRenderAsync=new D.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(l,h,s){if(!l)return{element:document.createElement("span"),dispose:()=>{}};const u=new _.DisposableStore,a=u.add((0,y.renderMarkdown)(l,Object.assign(Object.assign({},this._getRenderOptions(l,u)),h),s));return a.element.classList.add("rendered-markdown"),{element:a.element,dispose:()=>u.dispose()}}_getRenderOptions(l,h){return{codeBlockRenderer:(s,u)=>Le(this,void 0,void 0,function*(){var a,d,c;let b;s?b=this._languageService.getLanguageIdByLanguageName(s):this._options.editor&&(b=(a=this._options.editor.getModel())===null||a===void 0?void 0:a.getLanguageId()),b||(b=f.PLAINTEXT_LANGUAGE_ID);const g=yield(0,v.tokenizeToString)(this._languageService,u,b),p=document.createElement("span");if(p.innerHTML=(c=(d=xi._ttpTokenizer)===null||d===void 0?void 0:d.createHTML(g))!==null&&c!==void 0?c:g,this._options.editor){const C=this._options.editor.getOption(49);(0,m.applyFontInfo)(p,C)}else this._options.codeBlockFontFamily&&(p.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(p.style.fontSize=this._options.codeBlockFontSize),p}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:s=>t(this._openerService,s,l.isTrusted),disposables:h}}}};e.MarkdownRenderer=i,i._ttpTokenizer=(0,k.createTrustedTypesPolicy)("tokenizeToString",{createHTML(r){return r}}),e.MarkdownRenderer=i=Ne([fe(1,S.ILanguageService),fe(2,o.IOpenerService)],i);function t(r,l,h){return Le(this,void 0,void 0,function*(){try{return yield r.open(l,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:n(h)})}catch(s){return(0,L.onUnexpectedError)(s),!1}})}e.openLinkFromMarkdown=t;function n(r){return r===!0?!0:r&&Array.isArray(r.enabledCommands)?r.enabledCommands:!1}}),define(J[772],ee([1,0,7,15,55,2,117,318,307]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const f=y.$;class v extends D.Disposable{constructor(t,n,r){super(),this._renderDisposeables=this._register(new D.DisposableStore),this._editor=t,this._isVisible=!1,this._messages=[],this._hover=this._register(new S.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new _.MarkdownRenderer({editor:this._editor},n,r)),this._computer=new o(this._editor),this._hoverOperation=this._register(new m.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(l=>{this._withResult(l.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(49)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return v.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(n=>this._editor.applyFontInfo(n))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(t){this._computer.lineNumber!==t&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=t,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(t){this._messages=t,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(t,n){this._renderDisposeables.clear();const r=document.createDocumentFragment();for(const l of n){const h=f("div.hover-row.markdown-hover"),s=y.append(h,f("div.hover-contents")),u=this._renderDisposeables.add(this._markdownRenderer.render(l.value));s.appendChild(u.element),r.appendChild(h)}this._updateContents(r),this._showAt(t)}_updateContents(t){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._updateFont()}_showAt(t){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const n=this._editor.getLayoutInfo(),r=this._editor.getTopForLineNumber(t),l=this._editor.getScrollTop(),h=this._editor.getOption(65),s=this._hover.containerDomNode.clientHeight,u=r-l-(s-h)/2;this._hover.containerDomNode.style.left=`${n.glyphMarginLeft+n.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(u),0)}px`}}e.MarginHoverWidget=v,v.ID="editor.contrib.modesGlyphHoverWidget";class o{get lineNumber(){return this._lineNumber}set lineNumber(t){this._lineNumber=t}constructor(t){this._editor=t,this._lineNumber=-1}computeSync(){const t=l=>({value:l}),n=this._editor.getLineDecorations(this._lineNumber),r=[];if(!n)return r;for(const l of n){if(!l.options.glyphMarginClassName)continue;const h=l.options.glyphMarginHoverMessage;!h||(0,L.isEmptyMarkdownString)(h)||r.push(...(0,k.asArray)(h).map(t))}return r}}}),define(J[340],ee([1,0,7,74,26,27,6,55,2,117,225,695,8]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function t(l){return!!l&&!!(l.completion.documentation||l.completion.detail&&l.completion.detail!==l.completion.label)}e.canExpandCompletionItem=t;let n=class{constructor(h,s){this._editor=h,this._onDidClose=new _.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new _.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new S.DisposableStore,this._renderDisposeable=new S.DisposableStore,this._borderWidth=1,this._size=new y.Dimension(330,0),this.domNode=y.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=s.createInstance(f.MarkdownRenderer,{editor:h}),this._body=y.$(".body"),this._scrollbar=new k.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),y.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=y.append(this._body,y.$(".header")),this._close=y.append(this._header,y.$("span"+D.ThemeIcon.asCSSSelector(L.Codicon.close))),this._close.title=o.localize(0,null),this._type=y.append(this._header,y.$("p.type")),this._docs=y.append(this._body,y.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(49)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const h=this._editor.getOptions(),s=h.get(49),u=s.getMassagedFontFamily(),a=h.get(117)||s.fontSize,d=h.get(118)||s.lineHeight,c=s.fontWeight,b=`${a}px`,g=`${d}px`;this.domNode.style.fontSize=b,this.domNode.style.lineHeight=`${d/a}`,this.domNode.style.fontWeight=c,this.domNode.style.fontFeatureSettings=s.fontFeatureSettings,this._type.style.fontFamily=u,this._close.style.height=g,this._close.style.width=g}getLayoutInfo(){const h=this._editor.getOption(118)||this._editor.getOption(49).lineHeight,s=this._borderWidth,u=s*2;return{lineHeight:h,borderWidth:s,borderHeight:u,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=o.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(h,s){var u,a;this._renderDisposeable.clear();let{detail:d,documentation:c}=h.completion;if(s){let b="";b+=`score: ${h.score[0]}
`,b+=`prefix: ${(u=h.word)!==null&&u!==void 0?u:"(no prefix)"}
`,b+=`word: ${h.completion.filterText?h.completion.filterText+" (filterText)":h.textLabel}
`,b+=`distance: ${h.distance} (localityBonus-setting)
`,b+=`index: ${h.idx}, based on ${h.completion.sortText&&`sortText: "${h.completion.sortText}"`||"label"}
`,b+=`commit_chars: ${(a=h.completion.commitCharacters)===null||a===void 0?void 0:a.join("")}
`,c=new m.MarkdownString().appendCodeblock("empty",b),d=`Provider: ${h.provider._debugDisplayName}`}if(!s&&!t(h)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),d){const b=d.length>1e5?`${d.substr(0,1e5)}\u2026`:d;this._type.textContent=b,this._type.title=b,y.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(b))}else y.clearNode(this._type),this._type.title="",y.hide(this._type),this.domNode.classList.add("no-type");if(y.clearNode(this._docs),typeof c=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=c;else if(c){this._docs.classList.add("markdown-docs"),y.clearNode(this._docs);const b=this._markdownRenderer.render(c);this._docs.appendChild(b.element),this._renderDisposeable.add(b),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=b=>{b.preventDefault(),b.stopPropagation()},this._close.onclick=b=>{b.preventDefault(),b.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(h,s){const u=new y.Dimension(h,s);y.Dimension.equals(u,this._size)||(this._size=u,y.size(this.domNode,h,s)),this._scrollbar.scanDomNode()}scrollDown(h=8){this._body.scrollTop+=h}scrollUp(h=8){this._body.scrollTop-=h}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(h){this._borderWidth=h}get borderWidth(){return this._borderWidth}};e.SuggestDetailsWidget=n,e.SuggestDetailsWidget=n=Ne([fe(1,i.IInstantiationService)],n);class r{constructor(h,s){this.widget=h,this._editor=s,this._disposables=new S.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new v.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(h.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let u,a,d=0,c=0;this._disposables.add(this._resizable.onDidWillResize(()=>{u=this._topLeft,a=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(b=>{if(u&&a){this.widget.layout(b.dimension.width,b.dimension.height);let g=!1;b.west&&(c=a.width-b.dimension.width,g=!0),b.north&&(d=a.height-b.dimension.height,g=!0),g&&this._applyTopLeft({top:u.top+d,left:u.left+c})}b.done&&(u=void 0,a=void 0,d=0,c=0,this._userSize=b.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var b;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(b=this._userSize)!==null&&b!==void 0?b:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(h=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),h&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(h,s){var u;const a=h.getBoundingClientRect();this._anchorBox=a,this._preferAlignAtTop=s,this._placeAtAnchor(this._anchorBox,(u=this._userSize)!==null&&u!==void 0?u:this.widget.size,s)}_placeAtAnchor(h,s,u){var a;const d=y.getClientArea(document.body),c=this.widget.getLayoutInfo(),b=new y.Dimension(220,2*c.lineHeight),g=h.top,p=function(){const O=d.width-(h.left+h.width+c.borderWidth+c.horizontalPadding),x=-c.borderWidth+h.left+h.width,F=new y.Dimension(O,d.height-h.top-c.borderHeight-c.verticalPadding),B=F.with(void 0,h.top+h.height-c.borderHeight-c.verticalPadding);return{top:g,left:x,fit:O-s.width,maxSizeTop:F,maxSizeBottom:B,minSize:b.with(Math.min(O,b.width))}}(),C=function(){const O=h.left-c.borderWidth-c.horizontalPadding,x=Math.max(c.horizontalPadding,h.left-s.width-c.borderWidth),F=new y.Dimension(O,d.height-h.top-c.borderHeight-c.verticalPadding),B=F.with(void 0,h.top+h.height-c.borderHeight-c.verticalPadding);return{top:g,left:x,fit:O-s.width,maxSizeTop:F,maxSizeBottom:B,minSize:b.with(Math.min(O,b.width))}}(),w=function(){const O=h.left,x=-c.borderWidth+h.top+h.height,F=new y.Dimension(h.width-c.borderHeight,d.height-h.top-h.height-c.verticalPadding);return{top:x,left:O,fit:F.height-s.height,maxSizeBottom:F,maxSizeTop:F,minSize:b.with(F.width)}}(),E=[p,C,w],I=(a=E.find(O=>O.fit>=0))!==null&&a!==void 0?a:E.sort((O,x)=>x.fit-O.fit)[0],T=h.top+h.height-c.borderHeight;let P,A=s.height;const M=Math.max(I.maxSizeTop.height,I.maxSizeBottom.height);A>M&&(A=M);let N;u?A<=I.maxSizeTop.height?(P=!0,N=I.maxSizeTop):(P=!1,N=I.maxSizeBottom):A<=I.maxSizeBottom.height?(P=!1,N=I.maxSizeBottom):(P=!0,N=I.maxSizeTop),this._applyTopLeft({left:I.left,top:P?I.top:T-A}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!P,I===p,P,I!==p),this._resizable.minSize=I.minSize,this._resizable.maxSize=N,this._resizable.layout(A,Math.min(N.width,s.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(h){this._topLeft=h,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=r}),define(J[341],ee([1,0,15,66,46,18,22,28,102,38]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModelParser=e.ConfigurationModel=void 0;function v(l){return Object.isFrozen(l)?l:L.deepFreeze(l)}class o{constructor(h={},s=[],u=[],a){this._contents=h,this._keys=s,this._overrides=u,this.raw=a,this.overrideConfigurations=new Map}get rawConfiguration(){var h;if(!this._rawConfiguration)if(!((h=this.raw)===null||h===void 0)&&h.length){const s=this.raw.map(u=>{if(u instanceof o)return u;const a=new i("");return a.parseRaw(u),a.configurationModel});this._rawConfiguration=s.reduce((u,a)=>a===u?a:u.merge(a),s[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(h){return h?(0,m.getConfigurationValue)(this.contents,h):this.contents}inspect(h,s){const u=this.rawConfiguration.getValue(h),a=s?this.rawConfiguration.getOverrideValue(h,s):void 0,d=s?this.rawConfiguration.override(s).getValue(h):u;return{value:u,override:a,merged:d}}getOverrideValue(h,s){const u=this.getContentsForOverrideIdentifer(s);return u?h?(0,m.getConfigurationValue)(u,h):u:void 0}override(h){let s=this.overrideConfigurations.get(h);return s||(s=this.createOverrideConfigurationModel(h),this.overrideConfigurations.set(h,s)),s}merge(...h){var s,u;const a=L.deepClone(this.contents),d=L.deepClone(this.overrides),c=[...this.keys],b=!((s=this.raw)===null||s===void 0)&&s.length?[...this.raw]:[this];for(const g of h)if(b.push(...!((u=g.raw)===null||u===void 0)&&u.length?g.raw:[g]),!g.isEmpty()){this.mergeContents(a,g.contents);for(const p of g.overrides){const[C]=d.filter(w=>y.equals(w.identifiers,p.identifiers));C?(this.mergeContents(C.contents,p.contents),C.keys.push(...p.keys),C.keys=y.distinct(C.keys)):d.push(L.deepClone(p))}for(const p of g.keys)c.indexOf(p)===-1&&c.push(p)}return new o(a,c,d,b.every(g=>g instanceof o)?void 0:b)}createOverrideConfigurationModel(h){const s=this.getContentsForOverrideIdentifer(h);if(!s||typeof s!="object"||!Object.keys(s).length)return this;const u={};for(const a of y.distinct([...Object.keys(this.contents),...Object.keys(s)])){let d=this.contents[a];const c=s[a];c&&(typeof d=="object"&&typeof c=="object"?(d=L.deepClone(d),this.mergeContents(d,c)):d=c),u[a]=d}return new o(u,this.keys,this.overrides)}mergeContents(h,s){for(const u of Object.keys(s)){if(u in h&&D.isObject(h[u])&&D.isObject(s[u])){this.mergeContents(h[u],s[u]);continue}h[u]=L.deepClone(s[u])}}getContentsForOverrideIdentifer(h){let s=null,u=null;const a=d=>{d&&(u?this.mergeContents(u,d):u=L.deepClone(d))};for(const d of this.overrides)d.identifiers.length===1&&d.identifiers[0]===h?s=d.contents:d.identifiers.includes(h)&&a(d.contents);return a(s),u}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(h,s){this.updateValue(h,s,!0)}setValue(h,s){this.updateValue(h,s,!1)}removeValue(h){const s=this.keys.indexOf(h);s!==-1&&(this.keys.splice(s,1),(0,m.removeFromValueTree)(this.contents,h),S.OVERRIDE_PROPERTY_REGEX.test(h)&&this.overrides.splice(this.overrides.findIndex(u=>y.equals(u.identifiers,(0,S.overrideIdentifiersFromKey)(h))),1))}updateValue(h,s,u){(0,m.addToValueTree)(this.contents,h,s,a=>console.error(a)),u=u||this.keys.indexOf(h)===-1,u&&this.keys.push(h),S.OVERRIDE_PROPERTY_REGEX.test(h)&&this.overrides.push({identifiers:(0,S.overrideIdentifiersFromKey)(h),keys:Object.keys(this.contents[h]),contents:(0,m.toValuesTree)(this.contents[h],a=>console.error(a))})}}e.ConfigurationModel=o;class i{constructor(h){this._name=h,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new o}parseRaw(h,s){this._raw=h;const{contents:u,keys:a,overrides:d,restricted:c,hasExcludedProperties:b}=this.doParseRaw(h,s);this._configurationModel=new o(u,a,d,b?[h]:void 0),this._restrictedConfigurations=c||[]}doParseRaw(h,s){const u=f.Registry.as(S.Extensions.Configuration).getConfigurationProperties(),a=this.filter(h,u,!0,s);h=a.raw;const d=(0,m.toValuesTree)(h,g=>console.error(`Conflict in settings file ${this._name}: ${g}`)),c=Object.keys(h),b=this.toOverrides(h,g=>console.error(`Conflict in settings file ${this._name}: ${g}`));return{contents:d,keys:c,overrides:b,restricted:a.restricted,hasExcludedProperties:a.hasExcludedProperties}}filter(h,s,u,a){var d,c,b;let g=!1;if(!a?.scopes&&!a?.skipRestricted&&!(!((d=a?.exclude)===null||d===void 0)&&d.length))return{raw:h,restricted:[],hasExcludedProperties:g};const p={},C=[];for(const w in h)if(S.OVERRIDE_PROPERTY_REGEX.test(w)&&u){const E=this.filter(h[w],s,!1,a);p[w]=E.raw,g=g||E.hasExcludedProperties,C.push(...E.restricted)}else{const E=s[w],I=E?typeof E.scope<"u"?E.scope:3:void 0;E?.restricted&&C.push(w),!(!((c=a.exclude)===null||c===void 0)&&c.includes(w))&&(!((b=a.include)===null||b===void 0)&&b.includes(w)||(I===void 0||a.scopes===void 0||a.scopes.includes(I))&&!(a.skipRestricted&&E?.restricted))?p[w]=h[w]:g=!0}return{raw:p,restricted:C,hasExcludedProperties:g}}toOverrides(h,s){const u=[];for(const a of Object.keys(h))if(S.OVERRIDE_PROPERTY_REGEX.test(a)){const d={};for(const c in h[a])d[c]=h[a][c];u.push({identifiers:(0,S.overrideIdentifiersFromKey)(a),keys:Object.keys(d),contents:(0,m.toValuesTree)(d,s)})}return u}}e.ConfigurationModelParser=i;class t{constructor(h,s,u,a,d,c,b,g,p,C,w,E,I){this.key=h,this.overrides=s,this._value=u,this.overrideIdentifiers=a,this.defaultConfiguration=d,this.policyConfiguration=c,this.applicationConfiguration=b,this.userConfiguration=g,this.localUserConfiguration=p,this.remoteUserConfiguration=C,this.workspaceConfiguration=w,this.folderConfigurationModel=E,this.memoryConfigurationModel=I}inspect(h,s,u){const a=h.inspect(s,u);return{get value(){return v(a.value)},get override(){return v(a.override)},get merged(){return v(a.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class n{constructor(h,s,u,a,d=new o,c=new o,b=new k.ResourceMap,g=new o,p=new k.ResourceMap){this._defaultConfiguration=h,this._policyConfiguration=s,this._applicationConfiguration=u,this._localUserConfiguration=a,this._remoteUserConfiguration=d,this._workspaceConfiguration=c,this._folderConfigurations=b,this._memoryConfiguration=g,this._memoryConfigurationByResource=p,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new k.ResourceMap,this._userConfiguration=null}getValue(h,s,u){return this.getConsolidatedConfigurationModel(h,s,u).getValue(h)}updateValue(h,s,u={}){let a;u.resource?(a=this._memoryConfigurationByResource.get(u.resource),a||(a=new o,this._memoryConfigurationByResource.set(u.resource,a))):a=this._memoryConfiguration,s===void 0?a.removeValue(h):a.setValue(h,s),u.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(h,s,u){const a=this.getConsolidatedConfigurationModel(h,s,u),d=this.getFolderConfigurationModelForResource(s.resource,u),c=s.resource?this._memoryConfigurationByResource.get(s.resource)||this._memoryConfiguration:this._memoryConfiguration,b=new Set;for(const g of a.overrides)for(const p of g.identifiers)a.getOverrideValue(h,p)!==void 0&&b.add(p);return new t(h,s,a.getValue(h),b.size?[...b]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,u?this._workspaceConfiguration:void 0,d||void 0,c)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(h,s,u){let a=this.getConsolidatedConfigurationModelForResource(s,u);return s.overrideIdentifier&&(a=a.override(s.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(h)!==void 0&&(a=a.merge(this._policyConfiguration)),a}getConsolidatedConfigurationModelForResource({resource:h},s){let u=this.getWorkspaceConsolidatedConfiguration();if(s&&h){const a=s.getFolder(h);a&&(u=this.getFolderConsolidatedConfiguration(a.uri)||u);const d=this._memoryConfigurationByResource.get(h);d&&(u=u.merge(d))}return u}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(h){let s=this._foldersConsolidatedConfigurations.get(h);if(!s){const u=this.getWorkspaceConsolidatedConfiguration(),a=this._folderConfigurations.get(h);a?(s=u.merge(a),this._foldersConsolidatedConfigurations.set(h,s)):s=u}return s}getFolderConfigurationModelForResource(h,s){if(s&&h){const u=s.getFolder(h);if(u)return this._folderConfigurations.get(u.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((h,s)=>{const{contents:u,overrides:a,keys:d}=this._folderConfigurations.get(s);return h.push([s,{contents:u,overrides:a,keys:d}]),h},[])}}static parse(h){const s=this.parseConfigurationModel(h.defaults),u=this.parseConfigurationModel(h.policy),a=this.parseConfigurationModel(h.application),d=this.parseConfigurationModel(h.user),c=this.parseConfigurationModel(h.workspace),b=h.folders.reduce((g,p)=>(g.set(_.URI.revive(p[0]),this.parseConfigurationModel(p[1])),g),new k.ResourceMap);return new n(s,u,a,d,new o,c,b,new o,new k.ResourceMap)}static parseConfigurationModel(h){return new o(h.contents,h.keys,h.overrides)}}e.Configuration=n;class r{constructor(h,s,u,a){this.change=h,this.previous=s,this.currentConfiguraiton=u,this.currentWorkspace=a,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const d of h.keys)this.affectedKeys.add(d);for(const[,d]of h.overrides)for(const c of d)this.affectedKeys.add(c);this._affectsConfigStr=this._marker;for(const d of this.affectedKeys)this._affectsConfigStr+=d+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=n.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(h,s){var u;const a=this._marker+h,d=this._affectsConfigStr.indexOf(a);if(d<0)return!1;const c=d+a.length;if(c>=this._affectsConfigStr.length)return!1;const b=this._affectsConfigStr.charCodeAt(c);if(b!==this._markerCode1&&b!==this._markerCode2)return!1;if(s){const g=this.previousConfiguration?this.previousConfiguration.getValue(h,s,(u=this.previous)===null||u===void 0?void 0:u.workspace):void 0,p=this.currentConfiguraiton.getValue(h,s,this.currentWorkspace);return!L.equals(g,p)}return!0}}e.ConfigurationChangeEvent=r}),define(J[773],ee([1,0,2,341,102,38]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfiguration=void 0;class _ extends y.Disposable{constructor(){super(...arguments),this._configurationModel=new k.ConfigurationModel}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new k.ConfigurationModel;const S=D.Registry.as(L.Extensions.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(S),S)}updateConfigurationModel(S,f){const v=this.getConfigurationDefaultOverrides();for(const o of S){const i=v[o],t=f[o];i!==void 0?this._configurationModel.addValue(o,i):t?this._configurationModel.addValue(o,t.default):this._configurationModel.removeValue(o)}}}e.DefaultConfiguration=_}),define(J[118],ee([1,0,119,17,25,38,2,65]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class S{constructor(){this._coreKeybindings=new m.LinkedList,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(o){if(k.OS===1){if(o&&o.win)return o.win}else if(k.OS===2){if(o&&o.mac)return o.mac}else if(o&&o.linux)return o.linux;return o}registerKeybindingRule(o){const i=S.bindToCurrentPlatform(o),t=new _.DisposableStore;if(i&&i.primary){const n=(0,y.decodeKeybinding)(i.primary,k.OS);n&&t.add(this._registerDefaultKeybinding(n,o.id,o.args,o.weight,0,o.when))}if(i&&Array.isArray(i.secondary))for(let n=0,r=i.secondary.length;n<r;n++){const l=i.secondary[n],h=(0,y.decodeKeybinding)(l,k.OS);h&&t.add(this._registerDefaultKeybinding(h,o.id,o.args,o.weight,-n-1,o.when))}return t}registerCommandAndKeybindingRule(o){return(0,_.combinedDisposable)(this.registerKeybindingRule(o),L.CommandsRegistry.registerCommand(o))}_registerDefaultKeybinding(o,i,t,n,r,l){const h=this._coreKeybindings.push({keybinding:o,command:i,commandArgs:t,when:l,weight1:n,weight2:r,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,_.toDisposable)(()=>{h(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(f)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new S,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function f(v,o){if(v.weight1!==o.weight1)return v.weight1-o.weight1;if(v.command&&o.command){if(v.command<o.command)return-1;if(v.command>o.command)return 1}return v.weight2-o.weight2}});var Bn=this&&this.__rest||function(G,e){var y={};for(var k in G)Object.prototype.hasOwnProperty.call(G,k)&&e.indexOf(k)<0&&(y[k]=G[k]);if(G!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,k=Object.getOwnPropertySymbols(G);L<k.length;L++)e.indexOf(k[L])<0&&Object.prototype.propertyIsEnumerable.call(G,k[L])&&(y[k[L]]=G[k[L]]);return y};define(J[29],ee([1,0,40,27,6,2,65,25,14,8,118]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerAction2=e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isISubmenuItem=e.isIMenuItem=void 0;function o(u){return u.command!==void 0}e.isIMenuItem=o;function i(u){return u.submenu!==void 0}e.isISubmenuItem=i;class t{constructor(a){if(t._instances.has(a))throw new TypeError(`MenuId with identifier '${a}' already exists. Use MenuId.for(ident) or a unique identifier`);t._instances.set(a,this),this.id=a}}e.MenuId=t,t._instances=new Map,t.CommandPalette=new t("CommandPalette"),t.DebugBreakpointsContext=new t("DebugBreakpointsContext"),t.DebugCallStackContext=new t("DebugCallStackContext"),t.DebugConsoleContext=new t("DebugConsoleContext"),t.DebugVariablesContext=new t("DebugVariablesContext"),t.DebugWatchContext=new t("DebugWatchContext"),t.DebugToolBar=new t("DebugToolBar"),t.DebugToolBarStop=new t("DebugToolBarStop"),t.EditorContext=new t("EditorContext"),t.SimpleEditorContext=new t("SimpleEditorContext"),t.EditorContent=new t("EditorContent"),t.EditorLineNumberContext=new t("EditorLineNumberContext"),t.EditorContextCopy=new t("EditorContextCopy"),t.EditorContextPeek=new t("EditorContextPeek"),t.EditorContextShare=new t("EditorContextShare"),t.EditorTitle=new t("EditorTitle"),t.EditorTitleRun=new t("EditorTitleRun"),t.EditorTitleContext=new t("EditorTitleContext"),t.EditorTitleContextShare=new t("EditorTitleContextShare"),t.EmptyEditorGroup=new t("EmptyEditorGroup"),t.EmptyEditorGroupContext=new t("EmptyEditorGroupContext"),t.EditorTabsBarContext=new t("EditorTabsBarContext"),t.ExplorerContext=new t("ExplorerContext"),t.ExplorerContextShare=new t("ExplorerContextShare"),t.ExtensionContext=new t("ExtensionContext"),t.GlobalActivity=new t("GlobalActivity"),t.CommandCenter=new t("CommandCenter"),t.LayoutControlMenuSubmenu=new t("LayoutControlMenuSubmenu"),t.LayoutControlMenu=new t("LayoutControlMenu"),t.MenubarMainMenu=new t("MenubarMainMenu"),t.MenubarAppearanceMenu=new t("MenubarAppearanceMenu"),t.MenubarDebugMenu=new t("MenubarDebugMenu"),t.MenubarEditMenu=new t("MenubarEditMenu"),t.MenubarCopy=new t("MenubarCopy"),t.MenubarFileMenu=new t("MenubarFileMenu"),t.MenubarGoMenu=new t("MenubarGoMenu"),t.MenubarHelpMenu=new t("MenubarHelpMenu"),t.MenubarLayoutMenu=new t("MenubarLayoutMenu"),t.MenubarNewBreakpointMenu=new t("MenubarNewBreakpointMenu"),t.PanelAlignmentMenu=new t("PanelAlignmentMenu"),t.PanelPositionMenu=new t("PanelPositionMenu"),t.MenubarPreferencesMenu=new t("MenubarPreferencesMenu"),t.MenubarRecentMenu=new t("MenubarRecentMenu"),t.MenubarSelectionMenu=new t("MenubarSelectionMenu"),t.MenubarShare=new t("MenubarShare"),t.MenubarSwitchEditorMenu=new t("MenubarSwitchEditorMenu"),t.MenubarSwitchGroupMenu=new t("MenubarSwitchGroupMenu"),t.MenubarTerminalMenu=new t("MenubarTerminalMenu"),t.MenubarViewMenu=new t("MenubarViewMenu"),t.MenubarHomeMenu=new t("MenubarHomeMenu"),t.OpenEditorsContext=new t("OpenEditorsContext"),t.OpenEditorsContextShare=new t("OpenEditorsContextShare"),t.ProblemsPanelContext=new t("ProblemsPanelContext"),t.SCMChangeContext=new t("SCMChangeContext"),t.SCMResourceContext=new t("SCMResourceContext"),t.SCMResourceContextShare=new t("SCMResourceContextShare"),t.SCMResourceFolderContext=new t("SCMResourceFolderContext"),t.SCMResourceGroupContext=new t("SCMResourceGroupContext"),t.SCMSourceControl=new t("SCMSourceControl"),t.SCMTitle=new t("SCMTitle"),t.SearchContext=new t("SearchContext"),t.SearchActionMenu=new t("SearchActionContext"),t.StatusBarWindowIndicatorMenu=new t("StatusBarWindowIndicatorMenu"),t.StatusBarRemoteIndicatorMenu=new t("StatusBarRemoteIndicatorMenu"),t.StickyScrollContext=new t("StickyScrollContext"),t.TestItem=new t("TestItem"),t.TestItemGutter=new t("TestItemGutter"),t.TestPeekElement=new t("TestPeekElement"),t.TestPeekTitle=new t("TestPeekTitle"),t.TouchBarContext=new t("TouchBarContext"),t.TitleBarContext=new t("TitleBarContext"),t.TitleBarTitleContext=new t("TitleBarTitleContext"),t.TunnelContext=new t("TunnelContext"),t.TunnelPrivacy=new t("TunnelPrivacy"),t.TunnelProtocol=new t("TunnelProtocol"),t.TunnelPortInline=new t("TunnelInline"),t.TunnelTitle=new t("TunnelTitle"),t.TunnelLocalAddressInline=new t("TunnelLocalAddressInline"),t.TunnelOriginInline=new t("TunnelOriginInline"),t.ViewItemContext=new t("ViewItemContext"),t.ViewContainerTitle=new t("ViewContainerTitle"),t.ViewContainerTitleContext=new t("ViewContainerTitleContext"),t.ViewTitle=new t("ViewTitle"),t.ViewTitleContext=new t("ViewTitleContext"),t.CommentEditorActions=new t("CommentEditorActions"),t.CommentThreadTitle=new t("CommentThreadTitle"),t.CommentThreadActions=new t("CommentThreadActions"),t.CommentThreadAdditionalActions=new t("CommentThreadAdditionalActions"),t.CommentThreadTitleContext=new t("CommentThreadTitleContext"),t.CommentThreadCommentContext=new t("CommentThreadCommentContext"),t.CommentTitle=new t("CommentTitle"),t.CommentActions=new t("CommentActions"),t.InteractiveToolbar=new t("InteractiveToolbar"),t.InteractiveCellTitle=new t("InteractiveCellTitle"),t.InteractiveCellDelete=new t("InteractiveCellDelete"),t.InteractiveCellExecute=new t("InteractiveCellExecute"),t.InteractiveInputExecute=new t("InteractiveInputExecute"),t.NotebookToolbar=new t("NotebookToolbar"),t.NotebookStickyScrollContext=new t("NotebookStickyScrollContext"),t.NotebookCellTitle=new t("NotebookCellTitle"),t.NotebookCellDelete=new t("NotebookCellDelete"),t.NotebookCellInsert=new t("NotebookCellInsert"),t.NotebookCellBetween=new t("NotebookCellBetween"),t.NotebookCellListTop=new t("NotebookCellTop"),t.NotebookCellExecute=new t("NotebookCellExecute"),t.NotebookCellExecutePrimary=new t("NotebookCellExecutePrimary"),t.NotebookDiffCellInputTitle=new t("NotebookDiffCellInputTitle"),t.NotebookDiffCellMetadataTitle=new t("NotebookDiffCellMetadataTitle"),t.NotebookDiffCellOutputsTitle=new t("NotebookDiffCellOutputsTitle"),t.NotebookOutputToolbar=new t("NotebookOutputToolbar"),t.NotebookEditorLayoutConfigure=new t("NotebookEditorLayoutConfigure"),t.NotebookKernelSource=new t("NotebookKernelSource"),t.BulkEditTitle=new t("BulkEditTitle"),t.BulkEditContext=new t("BulkEditContext"),t.TimelineItemContext=new t("TimelineItemContext"),t.TimelineTitle=new t("TimelineTitle"),t.TimelineTitleContext=new t("TimelineTitleContext"),t.TimelineFilterSubMenu=new t("TimelineFilterSubMenu"),t.AccountsContext=new t("AccountsContext"),t.PanelTitle=new t("PanelTitle"),t.AuxiliaryBarTitle=new t("AuxiliaryBarTitle"),t.TerminalInstanceContext=new t("TerminalInstanceContext"),t.TerminalEditorInstanceContext=new t("TerminalEditorInstanceContext"),t.TerminalNewDropdownContext=new t("TerminalNewDropdownContext"),t.TerminalTabContext=new t("TerminalTabContext"),t.TerminalTabEmptyAreaContext=new t("TerminalTabEmptyAreaContext"),t.TerminalInlineTabContext=new t("TerminalInlineTabContext"),t.WebviewContext=new t("WebviewContext"),t.InlineCompletionsActions=new t("InlineCompletionsActions"),t.NewFile=new t("NewFile"),t.MergeInput1Toolbar=new t("MergeToolbar1Toolbar"),t.MergeInput2Toolbar=new t("MergeToolbar2Toolbar"),t.MergeBaseToolbar=new t("MergeBaseToolbar"),t.MergeInputResultToolbar=new t("MergeToolbarResultToolbar"),t.InlineSuggestionToolbar=new t("InlineSuggestionToolbar"),t.ChatContext=new t("ChatContext"),t.ChatCodeBlock=new t("ChatCodeblock"),t.ChatMessageTitle=new t("ChatMessageTitle"),t.ChatExecute=new t("ChatExecute"),e.IMenuService=(0,f.createDecorator)("menuService");class n{static for(a){let d=this._all.get(a);return d||(d=new n(a),this._all.set(a,d)),d}static merge(a){const d=new Set;for(const c of a)c instanceof n&&d.add(c.id);return d}constructor(a){this.id=a,this.has=d=>d===a}}n._all=new Map,e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new L.MicrotaskEmitter({merge:n.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(u){return this._commands.set(u.id,u),this._onDidChangeMenu.fire(n.for(t.CommandPalette)),(0,D.toDisposable)(()=>{this._commands.delete(u.id)&&this._onDidChangeMenu.fire(n.for(t.CommandPalette))})}getCommand(u){return this._commands.get(u)}getCommands(){const u=new Map;return this._commands.forEach((a,d)=>u.set(d,a)),u}appendMenuItem(u,a){let d=this._menuItems.get(u);d||(d=new _.LinkedList,this._menuItems.set(u,d));const c=d.push(a);return this._onDidChangeMenu.fire(n.for(u)),(0,D.toDisposable)(c)}appendMenuItems(u){const a=new D.DisposableStore;for(const{id:d,item:c}of u)a.add(this.appendMenuItem(d,c));return a}getMenuItems(u){let a;return this._menuItems.has(u)?a=[...this._menuItems.get(u)]:a=[],u===t.CommandPalette&&this._appendImplicitItems(a),a}_appendImplicitItems(u){const a=new Set;for(const d of u)o(d)&&(a.add(d.command.id),d.alt&&a.add(d.alt.id));this._commands.forEach((d,c)=>{a.has(c)||u.push({command:d})})}};class r extends y.SubmenuAction{constructor(a,d,c){super(`submenuitem.${a.submenu.id}`,typeof a.title=="string"?a.title:a.title.value,c,"submenu"),this.item=a,this.hideActions=d}}e.SubmenuItemAction=r;let l=class ui{static label(a,d){return d?.renderShortTitle&&a.shortTitle?typeof a.shortTitle=="string"?a.shortTitle:a.shortTitle.value:typeof a.title=="string"?a.title:a.title.value}constructor(a,d,c,b,g,p){var C,w;this.hideActions=b,this._commandService=p,this.id=a.id,this.label=ui.label(a,c),this.tooltip=(w=typeof a.tooltip=="string"?a.tooltip:(C=a.tooltip)===null||C===void 0?void 0:C.value)!==null&&w!==void 0?w:"",this.enabled=!a.precondition||g.contextMatchesRules(a.precondition),this.checked=void 0;let E;if(a.toggled){const I=a.toggled.condition?a.toggled:{condition:a.toggled};this.checked=g.contextMatchesRules(I.condition),this.checked&&I.tooltip&&(this.tooltip=typeof I.tooltip=="string"?I.tooltip:I.tooltip.value),this.checked&&k.ThemeIcon.isThemeIcon(I.icon)&&(E=I.icon),this.checked&&I.title&&(this.label=typeof I.title=="string"?I.title:I.title.value)}E||(E=k.ThemeIcon.isThemeIcon(a.icon)?a.icon:void 0),this.item=a,this.alt=d?new ui(d,void 0,c,b,g,p):void 0,this._options=c,this.class=E&&k.ThemeIcon.asClassName(E)}run(...a){var d,c;let b=[];return!((d=this._options)===null||d===void 0)&&d.arg&&(b=[...b,this._options.arg]),!((c=this._options)===null||c===void 0)&&c.shouldForwardArgs&&(b=[...b,...a]),this._commandService.executeCommand(this.id,...b)}};e.MenuItemAction=l,e.MenuItemAction=l=Ne([fe(4,S.IContextKeyService),fe(5,m.ICommandService)],l);class h{constructor(a){this.desc=a}}e.Action2=h;function s(u){const a=new D.DisposableStore,d=new u,c=d.desc,{f1:b,menu:g,keybinding:p,description:C}=c,w=Bn(c,["f1","menu","keybinding","description"]);if(a.add(m.CommandsRegistry.registerCommand({id:w.id,handler:(E,...I)=>d.run(E,...I),description:C})),Array.isArray(g))for(const E of g)a.add(e.MenuRegistry.appendMenuItem(E.id,Object.assign({command:Object.assign(Object.assign({},w),{precondition:E.precondition===null?void 0:w.precondition})},E)));else g&&a.add(e.MenuRegistry.appendMenuItem(g.id,Object.assign({command:Object.assign(Object.assign({},w),{precondition:g.precondition===null?void 0:w.precondition})},g)));if(b&&(a.add(e.MenuRegistry.appendMenuItem(t.CommandPalette,{command:w,when:w.precondition})),a.add(e.MenuRegistry.addCommand(w))),Array.isArray(p))for(const E of p)a.add(v.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},E),{id:w.id,when:w.precondition?S.ContextKeyExpr.and(w.precondition,E.when):E.when})));else p&&a.add(v.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},p),{id:w.id,when:w.precondition?S.ContextKeyExpr.and(w.precondition,p.when):p.when})));return a}e.registerAction2=s}),define(J[774],ee([1,0,33,20,599,29,25,14]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findFocusedDiffEditor=e.AccessibleDiffViewerPrev=e.AccessibleDiffViewerNext=void 0;const S={value:(0,L.localize)(0,null),original:"Accessible Diff Viewer"};class f extends D.Action2{constructor(){super({id:f.id,title:{value:(0,L.localize)(1,null),original:"Go to Next Difference"},category:S,precondition:m.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(n){const r=o(n);r?.accessibleDiffViewerNext()}}e.AccessibleDiffViewerNext=f,f.id="editor.action.accessibleDiffViewer.next",D.MenuRegistry.appendMenuItem(D.MenuId.EditorTitle,{command:{id:f.id,title:(0,L.localize)(2,null)},order:10,group:"2_diff",when:m.ContextKeyExpr.and(k.EditorContextKeys.accessibleDiffViewerVisible.negate(),m.ContextKeyExpr.has("isInDiffEditor"))});class v extends D.Action2{constructor(){super({id:v.id,title:{value:(0,L.localize)(3,null),original:"Go to Previous Difference"},category:S,precondition:m.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(n){const r=o(n);r?.accessibleDiffViewerPrev()}}e.AccessibleDiffViewerPrev=v,v.id="editor.action.accessibleDiffViewer.prev";function o(t){var n;const r=t.get(y.ICodeEditorService),l=r.listDiffEditors(),h=(n=r.getFocusedCodeEditor())!==null&&n!==void 0?n:r.getActiveCodeEditor();if(!h)return null;for(let s=0,u=l.length;s<u;s++){const a=l[s];if(a.getModifiedEditor().getId()===h.getId()||a.getOriginalEditor().getId()===h.getId())return a}if(document.activeElement)for(const s of l){const u=s.getContainerDomNode();if(i(u,document.activeElement))return s}return null}e.findFocusedDiffEditor=o;function i(t,n){let r=n;for(;r;){if(r===t)return!0;r=r.parentElement}return!1}_.CommandsRegistry.registerCommandAlias("editor.action.diffReview.next",f.id),(0,D.registerAction2)(f),_.CommandsRegistry.registerCommandAlias("editor.action.diffReview.prev",v.id),(0,D.registerAction2)(v)}),define(J[775],ee([1,0,13,12,2,774]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeEditorContributions=void 0;class D extends L.Disposable{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new L.DisposableMap),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(m,S,f){this._editor=m,this._instantiationService=f;for(const v of S){if(this._pending.has(v.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${v.id}`));continue}this._pending.set(v.id,v)}this._instantiateSome(0),this._register((0,y.runWhenIdle)(()=>{this._instantiateSome(1)})),this._register((0,y.runWhenIdle)(()=>{this._instantiateSome(2)})),this._register((0,y.runWhenIdle)(()=>{this._instantiateSome(3)},5e3))}saveViewState(){const m={};for(const[S,f]of this._instances)typeof f.saveViewState=="function"&&(m[S]=f.saveViewState());return m}restoreViewState(m){for(const[S,f]of this._instances)typeof f.restoreViewState=="function"&&f.restoreViewState(m[S])}get(m){return this._instantiateById(m),this._instances.get(m)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){this._register((0,y.runWhenIdle)(()=>{this._instantiateSome(1)},50))}_instantiateSome(m){if(this._finishedInstantiation[m])return;this._finishedInstantiation[m]=!0;const S=this._findPendingContributionsByInstantiation(m);for(const f of S)this._instantiateById(f.id)}_findPendingContributionsByInstantiation(m){const S=[];for(const[,f]of this._pending)f.instantiation===m&&S.push(f);return S}_instantiateById(m){const S=this._pending.get(m);if(S){if(this._pending.delete(m),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const f=this._instantiationService.createInstance(S.ctor,this._editor);this._instances.set(S.id,f),typeof f.restoreViewState=="function"&&S.instantiation!==0&&console.warn(`Editor contribution '${S.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(f){(0,k.onUnexpectedError)(f)}}}}e.CodeEditorContributions=D}),define(J[776],ee([1,0,48,202,699,29,14]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class m extends D.Action2{constructor(){super({id:m.ID,title:{value:L.localize(0,null),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(f){const v=f.get(_.IContextKeyService).getContextKeyValue("focusedView")==="terminal"?"terminalFocus":"editorFocus",i=!k.TabFocus.getTabFocusMode(v);k.TabFocus.setTabFocusMode(i,v),i?(0,y.alert)(L.localize(1,null)):(0,y.alert)(L.localize(2,null))}}e.ToggleTabFocusModeAction=m,m.ID="editor.action.toggleTabFocusMode",(0,D.registerAction2)(m)}),define(J[342],ee([1,0,230,576,14,118,718,2]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.registerAndCreateHistoryNavigationContext=e.historyNavigationVisible=void 0,e.historyNavigationVisible=new L.RawContextKey("suggestWidgetVisible",!1,(0,_.localize)(0,null));const S="historyNavigationWidgetFocus",f="historyNavigationForwardsEnabled",v="historyNavigationBackwardsEnabled";let o;const i=[];function t(l,h){if(i.includes(h))throw new Error("Cannot register the same widget multiple times");i.push(h);const s=new m.DisposableStore,u=new L.RawContextKey(S,!1).bindTo(l),a=new L.RawContextKey(f,!0).bindTo(l),d=new L.RawContextKey(v,!0).bindTo(l),c=()=>{u.set(!0),o=h},b=()=>{u.set(!1),o===h&&(o=void 0)};return h.element===document.activeElement&&c(),s.add(h.onDidFocus(()=>c())),s.add(h.onDidBlur(()=>b())),s.add((0,m.toDisposable)(()=>{i.splice(i.indexOf(h),1),b()})),{historyNavigationForwardsEnablement:a,historyNavigationBackwardsEnablement:d,dispose(){s.dispose()}}}e.registerAndCreateHistoryNavigationContext=t;let n=class extends y.FindInput{constructor(h,s,u,a){super(h,s,u);const d=this._register(a.createScoped(this.inputBox.element));this._register(t(d,this.inputBox))}};e.ContextScopedFindInput=n,e.ContextScopedFindInput=n=Ne([fe(3,L.IContextKeyService)],n);let r=class extends k.ReplaceInput{constructor(h,s,u,a,d=!1){super(h,s,d,u);const c=this._register(a.createScoped(this.inputBox.element));this._register(t(c,this.inputBox))}};e.ContextScopedReplaceInput=r,e.ContextScopedReplaceInput=r=Ne([fe(3,L.IContextKeyService)],r),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:L.ContextKeyExpr.and(L.ContextKeyExpr.has(S),L.ContextKeyExpr.equals(v,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:l=>{o?.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:L.ContextKeyExpr.and(L.ContextKeyExpr.has(S),L.ContextKeyExpr.equals(f,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:l=>{o?.showNextValue()}})}),define(J[136],ee([1,0,21,12,71,2,59,18,22,11,5,69,130,692,29,25,14,19,342]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:s.historyNavigationVisible,HasFocusedSuggestion:new l.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,t.localize)(0,null)),DetailsVisible:new l.RawContextKey("suggestWidgetDetailsVisible",!1,(0,t.localize)(1,null)),MultipleSuggestions:new l.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,t.localize)(2,null)),MakesTextEdit:new l.RawContextKey("suggestionMakesTextEdit",!0,(0,t.localize)(3,null)),AcceptSuggestionsOnEnter:new l.RawContextKey("acceptSuggestionOnEnter",!0,(0,t.localize)(4,null)),HasInsertAndReplaceRange:new l.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,t.localize)(5,null)),InsertMode:new l.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,t.localize)(6,null)}),CanResolve:new l.RawContextKey("suggestionCanResolve",!1,(0,t.localize)(7,null))},e.suggestWidgetStatusbarMenu=new n.MenuId("suggestWidgetStatusBar");class u{constructor(M,N,O,x){var F;this.position=M,this.completion=N,this.container=O,this.provider=x,this.isInvalid=!1,this.score=L.FuzzyScore.Default,this.distance=0,this.textLabel=typeof N.label=="string"?N.label:(F=N.label)===null||F===void 0?void 0:F.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=N.sortText&&N.sortText.toLowerCase(),this.filterTextLow=N.filterText&&N.filterText.toLowerCase(),this.extensionId=N.extensionId,v.Range.isIRange(N.range)?(this.editStart=new f.Position(N.range.startLineNumber,N.range.startColumn),this.editInsertEnd=new f.Position(N.range.endLineNumber,N.range.endColumn),this.editReplaceEnd=new f.Position(N.range.endLineNumber,N.range.endColumn),this.isInvalid=this.isInvalid||v.Range.spansMultipleLines(N.range)||N.range.startLineNumber!==M.lineNumber):(this.editStart=new f.Position(N.range.insert.startLineNumber,N.range.insert.startColumn),this.editInsertEnd=new f.Position(N.range.insert.endLineNumber,N.range.insert.endColumn),this.editReplaceEnd=new f.Position(N.range.replace.endLineNumber,N.range.replace.endColumn),this.isInvalid=this.isInvalid||v.Range.spansMultipleLines(N.range.insert)||v.Range.spansMultipleLines(N.range.replace)||N.range.insert.startLineNumber!==M.lineNumber||N.range.replace.startLineNumber!==M.lineNumber||N.range.insert.startColumn!==N.range.replace.startColumn),typeof x.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}resolve(M){return Le(this,void 0,void 0,function*(){if(!this._resolveCache){const N=M.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),O=new _.StopWatch(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,M)).then(x=>{Object.assign(this.completion,x),this._resolveDuration=O.elapsed(),N.dispose()},x=>{(0,k.isCancellationError)(x)&&(this._resolveCache=void 0,this._resolveDuration=void 0)})}return this._resolveCache})}}e.CompletionItem=u;class a{constructor(M=2,N=new Set,O=new Set,x=new Map,F=!0){this.snippetSortOrder=M,this.kindFilter=N,this.providerFilter=O,this.providerItemsToReuse=x,this.showDeprecated=F}}e.CompletionOptions=a,a.default=new a;let d;function c(){return d}e.getSnippetSuggestSupport=c;class b{constructor(M,N,O,x){this.items=M,this.needsClipboard=N,this.durations=O,this.disposable=x}}e.CompletionItemModel=b;function g(A,M,N,O=a.default,x={triggerKind:0},F=y.CancellationToken.None){return Le(this,void 0,void 0,function*(){const B=new _.StopWatch;N=N.clone();const z=M.getWordAtPosition(N),j=z?new v.Range(N.lineNumber,z.startColumn,N.lineNumber,z.endColumn):v.Range.fromPositions(N),R={replace:j,insert:j.setEndPosition(N.lineNumber,N.column)},Z=[],se=new D.DisposableStore,le=[];let te=!1;const Y=(V,H,$)=>{var X,Q,de;let ce=!1;if(!H)return ce;for(const ae of H.suggestions)if(!O.kindFilter.has(ae.kind)){if(!O.showDeprecated&&(!((X=ae?.tags)===null||X===void 0)&&X.includes(1)))continue;ae.range||(ae.range=R),ae.sortText||(ae.sortText=typeof ae.label=="string"?ae.label:ae.label.label),!te&&ae.insertTextRules&&ae.insertTextRules&4&&(te=i.SnippetParser.guessNeedsClipboard(ae.insertText)),Z.push(new u(N,ae,H,V)),ce=!0}return(0,D.isDisposable)(H)&&se.add(H),le.push({providerName:(Q=V._debugDisplayName)!==null&&Q!==void 0?Q:"unknown_provider",elapsedProvider:(de=H.duration)!==null&&de!==void 0?de:-1,elapsedOverall:$.elapsed()}),ce},U=(()=>Le(this,void 0,void 0,function*(){if(!d||O.kindFilter.has(27))return;const V=O.providerItemsToReuse.get(d);if(V){V.forEach(X=>Z.push(X));return}if(O.providerFilter.size>0&&!O.providerFilter.has(d))return;const H=new _.StopWatch,$=yield d.provideCompletionItems(M,N,x,F);Y(d,$,H)}))();for(const V of A.orderedGroups(M)){let H=!1;if(yield Promise.all(V.map($=>Le(this,void 0,void 0,function*(){if(O.providerItemsToReuse.has($)){const X=O.providerItemsToReuse.get($);X.forEach(Q=>Z.push(Q)),H=H||X.length>0;return}if(!(O.providerFilter.size>0&&!O.providerFilter.has($)))try{const X=new _.StopWatch,Q=yield $.provideCompletionItems(M,N,x,F);H=Y($,Q,X)||H}catch(X){(0,k.onUnexpectedExternalError)(X)}}))),H||F.isCancellationRequested)break}return yield U,F.isCancellationRequested?(se.dispose(),Promise.reject(new k.CancellationError)):new b(Z.sort(I(O.snippetSortOrder)),te,{entries:le,elapsed:B.elapsed()},se)})}e.provideSuggestionItems=g;function p(A,M){if(A.sortTextLow&&M.sortTextLow){if(A.sortTextLow<M.sortTextLow)return-1;if(A.sortTextLow>M.sortTextLow)return 1}return A.textLabel<M.textLabel?-1:A.textLabel>M.textLabel?1:A.completion.kind-M.completion.kind}function C(A,M){if(A.completion.kind!==M.completion.kind){if(A.completion.kind===27)return-1;if(M.completion.kind===27)return 1}return p(A,M)}function w(A,M){if(A.completion.kind!==M.completion.kind){if(A.completion.kind===27)return 1;if(M.completion.kind===27)return-1}return p(A,M)}const E=new Map;E.set(0,C),E.set(2,w),E.set(1,p);function I(A){return E.get(A)}e.getSuggestionComparator=I,r.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(A,...M)=>Le(void 0,void 0,void 0,function*(){const[N,O,x,F]=M;(0,m.assertType)(S.URI.isUri(N)),(0,m.assertType)(f.Position.isIPosition(O)),(0,m.assertType)(typeof x=="string"||!x),(0,m.assertType)(typeof F=="number"||!F);const{completionProvider:B}=A.get(h.ILanguageFeaturesService),z=yield A.get(o.ITextModelService).createModelReference(N);try{const j={incomplete:!1,suggestions:[]},R=[],Z=z.object.textEditorModel.validatePosition(O),se=yield g(B,z.object.textEditorModel,Z,void 0,{triggerCharacter:x??void 0,triggerKind:x?1:0});for(const le of se.items)R.length<(F??0)&&R.push(le.resolve(y.CancellationToken.None)),j.incomplete=j.incomplete||le.container.incomplete,j.suggestions.push(le.completion);try{return yield Promise.all(R),j}finally{setTimeout(()=>se.disposable.dispose(),100)}}finally{z.dispose()}}));function T(A,M){var N;(N=A.getContribution("editor.contrib.suggestController"))===null||N===void 0||N.triggerSuggest(new Set().add(M),void 0,!0)}e.showSimpleSuggestions=T;class P{static isAllOff(M){return M.other==="off"&&M.comments==="off"&&M.strings==="off"}static isAllOn(M){return M.other==="on"&&M.comments==="on"&&M.strings==="on"}static valueFor(M,N){switch(N){case 1:return M.comments;case 2:return M.strings;default:return M.other}}}e.QuickSuggestionsOptions=P}),define(J[137],ee([1,0,15,2,38]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(m){m[m.PRESERVE=0]="PRESERVE",m[m.LAST=1]="LAST"})(D||(e.DefaultQuickAccessFilterValue=D={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class _{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(S){return S.prefix.length===0?this.defaultProvider=S:this.providers.push(S),this.providers.sort((f,v)=>v.prefix.length-f.prefix.length),(0,k.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(S),1),this.defaultProvider===S&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,y.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(S){return S&&this.providers.find(v=>S.startsWith(v.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=_,L.Registry.add(e.Extensions.Quickaccess,new _)}),define(J[777],ee([1,0,723,38,2,34,137,76]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let S=class Qt{constructor(v,o){this.quickInputService=v,this.keybindingService=o,this.registry=k.Registry.as(_.Extensions.Quickaccess)}provide(v){const o=new L.DisposableStore;return o.add(v.onDidAccept(()=>{const[i]=v.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),o.add(v.onDidChangeValue(i=>{const t=this.registry.getQuickAccessProvider(i.substr(Qt.PREFIX.length));t&&t.prefix&&t.prefix!==Qt.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),v.items=this.getQuickAccessProviders().filter(i=>i.prefix!==Qt.PREFIX),o}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((o,i)=>o.prefix.localeCompare(i.prefix)).flatMap(o=>this.createPicks(o))}createPicks(v){return v.helpEntries.map(o=>{const i=o.prefix||v.prefix,t=i||"\u2026";return{prefix:i,label:t,keybinding:o.commandId?this.keybindingService.lookupKeybinding(o.commandId):void 0,ariaLabel:(0,y.localize)(0,null,t,o.description),description:o.description}})}};e.HelpQuickAccessProvider=S,S.PREFIX="?",e.HelpQuickAccessProvider=S=Ne([fe(0,m.IQuickInputService),fe(1,D.IKeybindingService)],S)}),define(J[778],ee([1,0,38,137,94,777]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),y.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:L.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(J[779],ee([1,0,13,21,98,2,8,137,76,38]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let v=class extends D.Disposable{constructor(i,t){super(),this.quickInputService=i,this.instantiationService=t,this.registry=f.Registry.as(m.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(i="",t){this.doShowOrPick(i,!1,t)}doShowOrPick(i,t,n){var r;const[l,h]=this.getOrInstantiateProvider(i),s=this.visibleQuickAccess,u=s?.descriptor;if(s&&h&&u===h){i!==h.prefix&&!n?.preserveValue&&(s.picker.value=i),this.adjustValueSelection(s.picker,h,n);return}if(h&&!n?.preserveValue){let g;if(s&&u&&u!==h){const p=s.value.substr(u.prefix.length);p&&(g=`${h.prefix}${p}`)}if(!g){const p=l?.defaultFilterValue;p===m.DefaultQuickAccessFilterValue.LAST?g=this.lastAcceptedPickerValues.get(h):typeof p=="string"&&(g=`${h.prefix}${p}`)}typeof g=="string"&&(i=g)}const a=new D.DisposableStore,d=a.add(this.quickInputService.createQuickPick());d.value=i,this.adjustValueSelection(d,h,n),d.placeholder=h?.placeholder,d.quickNavigate=n?.quickNavigateConfiguration,d.hideInput=!!d.quickNavigate&&!s,(typeof n?.itemActivation=="number"||n?.quickNavigateConfiguration)&&(d.itemActivation=(r=n?.itemActivation)!==null&&r!==void 0?r:S.ItemActivation.SECOND),d.contextKey=h?.contextKey,d.filterValue=g=>g.substring(h?h.prefix.length:0);let c;t&&(c=new y.DeferredPromise,a.add((0,L.once)(d.onWillAccept)(g=>{g.veto(),d.hide()}))),a.add(this.registerPickerListeners(d,l,h,i,n?.providerOptions));const b=a.add(new k.CancellationTokenSource);if(l&&a.add(l.provide(d,b.token,n?.providerOptions)),(0,L.once)(d.onDidHide)(()=>{d.selectedItems.length===0&&b.cancel(),a.dispose(),c?.complete(d.selectedItems.slice(0))}),d.show(),t)return c?.p}adjustValueSelection(i,t,n){var r;let l;n?.preserveValue?l=[i.value.length,i.value.length]:l=[(r=t?.prefix.length)!==null&&r!==void 0?r:0,i.value.length],i.valueSelection=l}registerPickerListeners(i,t,n,r,l){const h=new D.DisposableStore,s=this.visibleQuickAccess={picker:i,descriptor:n,value:r};return h.add((0,D.toDisposable)(()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),h.add(i.onDidChangeValue(u=>{const[a]=this.getOrInstantiateProvider(u);a!==t?this.show(u,{preserveValue:!0,providerOptions:l}):s.value=u})),n&&h.add(i.onDidAccept(()=>{this.lastAcceptedPickerValues.set(n,i.value)})),h}getOrInstantiateProvider(i){const t=this.registry.getQuickAccessProvider(i);if(!t)return[void 0,void 0];let n=this.mapProviderToDescriptor.get(t);return n||(n=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,n)),[n,t]}};e.QuickAccessController=v,e.QuickAccessController=v=Ne([fe(0,S.IQuickInputService),fe(1,_.IInstantiationService)],v)}),define(J[780],ee([1,0,26,27,107,469]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var D;(function(_){function m(S){switch(S){case L.default.Ignore:return"severity-ignore "+k.ThemeIcon.asClassName(y.Codicon.info);case L.default.Info:return k.ThemeIcon.asClassName(y.Codicon.info);case L.default.Warning:return k.ThemeIcon.asClassName(y.Codicon.warning);case L.default.Error:return k.ThemeIcon.asClassName(y.Codicon.error);default:return""}}_.className=m})(D||(e.SeverityIcon=D={}))}),define(J[89],ee([1,0,6,2,18,582,8]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.loadKeyTargets=e.WillSaveStateReason=e.IStorageService=e.TARGET_KEY=void 0,e.TARGET_KEY="__$__targetStorageMarker",e.IStorageService=(0,_.createDecorator)("storageService");var m;(function(o){o[o.NONE=0]="NONE",o[o.SHUTDOWN=1]="SHUTDOWN"})(m||(e.WillSaveStateReason=m={}));function S(o){const i=o.get(e.TARGET_KEY);if(i)try{return JSON.parse(i)}catch{}return Object.create(null)}e.loadKeyTargets=S;class f extends k.Disposable{constructor(i={flushInterval:f.DEFAULT_FLUSH_INTERVAL}){super(),this.options=i,this._onDidChangeValue=this._register(new y.PauseableEmitter),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new y.PauseableEmitter),this._onWillSaveState=this._register(new y.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(i,t){const{key:n,external:r}=t;if(n===e.TARGET_KEY){switch(i){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:i})}else this._onDidChangeValue.fire({scope:i,key:n,target:this.getKeyTargets(i)[n],external:r})}get(i,t,n){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.get(i,n)}getBoolean(i,t,n){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.getBoolean(i,n)}getNumber(i,t,n){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.getNumber(i,n)}store(i,t,n,r,l=!1){if((0,L.isUndefinedOrNull)(t)){this.remove(i,n,l);return}this.withPausedEmitters(()=>{var h;this.updateKeyTarget(i,n,r),(h=this.getStorage(n))===null||h===void 0||h.set(i,t,l)})}remove(i,t,n=!1){this.withPausedEmitters(()=>{var r;this.updateKeyTarget(i,t,void 0),(r=this.getStorage(t))===null||r===void 0||r.delete(i,n)})}withPausedEmitters(i){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{i()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(i,t,n,r=!1){var l,h;const s=this.getKeyTargets(t);typeof n=="number"?s[i]!==n&&(s[i]=n,(l=this.getStorage(t))===null||l===void 0||l.set(e.TARGET_KEY,JSON.stringify(s),r)):typeof s[i]=="number"&&(delete s[i],(h=this.getStorage(t))===null||h===void 0||h.set(e.TARGET_KEY,JSON.stringify(s),r))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(i){switch(i){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(i){const t=this.getStorage(i);return t?S(t):Object.create(null)}}e.AbstractStorageService=f,f.DEFAULT_FLUSH_INTERVAL=60*1e3;class v extends f{constructor(){super(),this.applicationStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(i=>this.emitDidChangeValue(1,i))),this._register(this.profileStorage.onDidChangeStorage(i=>this.emitDidChangeValue(0,i))),this._register(this.applicationStorage.onDidChangeStorage(i=>this.emitDidChangeValue(-1,i)))}getStorage(i){switch(i){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=v}),define(J[781],ee([1,0,13,98,66,5,327,49,8,89]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,S.createDecorator)("ICodeLensCache");class v{constructor(t,n){this.lineCount=t,this.data=n}}let o=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new L.LRUCache(20,.75);const n="codelens/cache";(0,y.runWhenIdle)(()=>t.remove(n,1));const r="codelens/cache2",l=t.get(r,1,"{}");this._deserialize(l),(0,k.once)(t.onWillSaveState)(h=>{h.reason===f.WillSaveStateReason.SHUTDOWN&&t.store(r,this._serialize(),1,1)})}put(t,n){const r=n.lenses.map(s=>{var u;return{range:s.symbol.range,command:s.symbol.command&&{id:"",title:(u=s.symbol.command)===null||u===void 0?void 0:u.title}}}),l=new _.CodeLensModel;l.add({lenses:r,dispose:()=>{}},this._fakeProvider);const h=new v(t.getLineCount(),l);this._cache.set(t.uri.toString(),h)}get(t){const n=this._cache.get(t.uri.toString());return n&&n.lineCount===t.getLineCount()?n.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[n,r]of this._cache){const l=new Set;for(const h of r.data.lenses)l.add(h.symbol.range.startLineNumber);t[n]={lineCount:r.lineCount,lines:[...l.values()]}}return JSON.stringify(t)}_deserialize(t){try{const n=JSON.parse(t);for(const r in n){const l=n[r],h=[];for(const u of l.lines)h.push({range:new D.Range(u,1,u,11)});const s=new _.CodeLensModel;s.add({lenses:h,dispose(){}},this._fakeProvider),this._cache.set(r,new v(l.lineCount,s))}}catch{}}};e.CodeLensCache=o,e.CodeLensCache=o=Ne([fe(0,f.IStorageService)],o),(0,m.registerSingleton)(e.ICodeLensCache,o,1)}),define(J[343],ee([1,0,13,2,66,199,30,28,49,8,89]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class o{constructor(h){this.name=h}select(h,s,u){if(u.length===0)return 0;const a=u[0].score[0];for(let d=0;d<u.length;d++){const{score:c,completion:b}=u[d];if(c[0]!==a)break;if(b.preselect)return d}return 0}}e.Memory=o;class i extends o{constructor(){super("first")}memorize(h,s,u){}toJSON(){}fromJSON(){}}e.NoMemory=i;class t extends o{constructor(){super("recentlyUsed"),this._cache=new L.LRUCache(300,.66),this._seq=0}memorize(h,s,u){const a=`${h.getLanguageId()}/${u.textLabel}`;this._cache.set(a,{touch:this._seq++,type:u.completion.kind,insertText:u.completion.insertText})}select(h,s,u){if(u.length===0)return 0;const a=h.getLineContent(s.lineNumber).substr(s.column-10,s.column-1);if(/\s$/.test(a))return super.select(h,s,u);const d=u[0].score[0];let c=-1,b=-1,g=-1;for(let p=0;p<u.length&&u[p].score[0]===d;p++){const C=`${h.getLanguageId()}/${u[p].textLabel}`,w=this._cache.peek(C);if(w&&w.touch>g&&w.type===u[p].completion.kind&&w.insertText===u[p].completion.insertText&&(g=w.touch,b=p),u[p].completion.preselect&&c===-1)return c=p}return b!==-1?b:c!==-1?c:0}toJSON(){return this._cache.toJSON()}fromJSON(h){this._cache.clear();const s=0;for(const[u,a]of h)a.touch=s,a.type=typeof a.type=="number"?a.type:_.CompletionItemKinds.fromString(a.type),this._cache.set(u,a);this._seq=this._cache.size}}e.LRUMemory=t;class n extends o{constructor(){super("recentlyUsedByPrefix"),this._trie=D.TernarySearchTree.forStrings(),this._seq=0}memorize(h,s,u){const{word:a}=h.getWordUntilPosition(s),d=`${h.getLanguageId()}/${a}`;this._trie.set(d,{type:u.completion.kind,insertText:u.completion.insertText,touch:this._seq++})}select(h,s,u){const{word:a}=h.getWordUntilPosition(s);if(!a)return super.select(h,s,u);const d=`${h.getLanguageId()}/${a}`;let c=this._trie.get(d);if(c||(c=this._trie.findSubstr(d)),c)for(let b=0;b<u.length;b++){const{kind:g,insertText:p}=u[b].completion;if(g===c.type&&p===c.insertText)return b}return super.select(h,s,u)}toJSON(){const h=[];return this._trie.forEach((s,u)=>h.push([u,s])),h.sort((s,u)=>-(s[1].touch-u[1].touch)).forEach((s,u)=>s[1].touch=u),h.slice(0,200)}fromJSON(h){if(this._trie.clear(),h.length>0){this._seq=h[0][1].touch+1;for(const[s,u]of h)u.type=typeof u.type=="number"?u.type:_.CompletionItemKinds.fromString(u.type),this._trie.set(s,u)}}}e.PrefixMemory=n;let r=class Xt{constructor(h,s){this._storageService=h,this._configService=s,this._disposables=new k.DisposableStore,this._persistSoon=new y.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(h.onWillSaveState(u=>{u.reason===v.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(h,s,u){this._withStrategy(h,s).memorize(h,s,u),this._persistSoon.schedule()}select(h,s,u){return this._withStrategy(h,s).select(h,s,u)}_withStrategy(h,s){var u;const a=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:h.getLanguageIdAtPosition(s.lineNumber,s.column),resource:h.uri});if(((u=this._strategy)===null||u===void 0?void 0:u.name)!==a){this._saveState();const d=Xt._strategyCtors.get(a)||i;this._strategy=new d;try{const b=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,g=this._storageService.get(`${Xt._storagePrefix}/${a}`,b);g&&this._strategy.fromJSON(JSON.parse(g))}catch{}}return this._strategy}_saveState(){if(this._strategy){const s=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,u=JSON.stringify(this._strategy);this._storageService.store(`${Xt._storagePrefix}/${this._strategy.name}`,u,s,1)}}};e.SuggestMemoryService=r,r._strategyCtors=new Map([["recentlyUsedByPrefix",n],["recentlyUsed",t],["first",i]]),r._storagePrefix="suggest/memories",e.SuggestMemoryService=r=Ne([fe(0,v.IStorageService),fe(1,m.IConfigurationService)],r),e.ISuggestMemoryService=(0,f.createDecorator)("ISuggestMemories"),(0,S.registerSingleton)(e.ISuggestMemoryService,r,1)}),define(J[782],ee([1,0,13,6,2,29,25,14,40,89,15,711]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let i=class{constructor(s,u){this._commandService=s,this._hiddenStates=new t(u)}createMenu(s,u,a){return new r(s,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},a),this._commandService,u)}resetHiddenStates(s){this._hiddenStates.reset(s)}};e.MenuService=i,e.MenuService=i=Ne([fe(0,_.ICommandService),fe(1,f.IStorageService)],i);let t=class Ht{constructor(s){this._storageService=s,this._disposables=new L.DisposableStore,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const u=s.get(Ht._key,0,"{}");this._data=JSON.parse(u)}catch{this._data=Object.create(null)}this._disposables.add(s.onDidChangeValue(u=>{if(u.key===Ht._key){if(!this._ignoreChangeEvent)try{const a=s.get(Ht._key,0,"{}");this._data=JSON.parse(a)}catch(a){console.log("FAILED to read storage after UPDATE",a)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(s,u){var a;return(a=this._hiddenByDefaultCache.get(`${s.id}/${u}`))!==null&&a!==void 0?a:!1}setDefaultState(s,u,a){this._hiddenByDefaultCache.set(`${s.id}/${u}`,a)}isHidden(s,u){var a,d;const c=this._isHiddenByDefault(s,u),b=(d=(a=this._data[s.id])===null||a===void 0?void 0:a.includes(u))!==null&&d!==void 0?d:!1;return c?!b:b}updateHidden(s,u,a){this._isHiddenByDefault(s,u)&&(a=!a);const c=this._data[s.id];if(a)c?c.indexOf(u)<0&&c.push(u):this._data[s.id]=[u];else if(c){const b=c.indexOf(u);b>=0&&(0,v.removeFastWithoutKeepingOrder)(c,b),c.length===0&&delete this._data[s.id]}this._persist()}reset(s){if(s===void 0)this._data=Object.create(null),this._persist();else{for(const{id:u}of s)this._data[u]&&delete this._data[u];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const s=JSON.stringify(this._data);this._storageService.store(Ht._key,s,0,0)}finally{this._ignoreChangeEvent=!1}}};t._key="menu.hiddenCommands",t=Ne([fe(0,f.IStorageService)],t);let n=class Rt{constructor(s,u,a,d,c){this._id=s,this._hiddenStates=u,this._collectContextKeysForSubmenus=a,this._commandService=d,this._contextKeyService=c,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const s=D.MenuRegistry.getMenuItems(this._id);let u;s.sort(Rt._compareMenuItems);for(const a of s){const d=a.group||"";(!u||u[0]!==d)&&(u=[d,[]],this._menuGroups.push(u)),u[1].push(a),this._collectContextKeys(a)}}_collectContextKeys(s){if(Rt._fillInKbExprKeys(s.when,this._structureContextKeys),(0,D.isIMenuItem)(s)){if(s.command.precondition&&Rt._fillInKbExprKeys(s.command.precondition,this._preconditionContextKeys),s.command.toggled){const u=s.command.toggled.condition||s.command.toggled;Rt._fillInKbExprKeys(u,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&D.MenuRegistry.getMenuItems(s.submenu).forEach(this._collectContextKeys,this)}createActionGroups(s){const u=[];for(const a of this._menuGroups){const[d,c]=a,b=[];for(const g of c)if(this._contextKeyService.contextMatchesRules(g.when)){const p=(0,D.isIMenuItem)(g);p&&this._hiddenStates.setDefaultState(this._id,g.command.id,!!g.isHiddenByDefault);const C=l(this._id,p?g.command:g,this._hiddenStates);if(p)b.push(new D.MenuItemAction(g.command,g.alt,s,C,this._contextKeyService,this._commandService));else{const w=new Rt(g.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(s),E=S.Separator.join(...w.map(I=>I[1]));E.length>0&&b.push(new D.SubmenuItemAction(g,C,E))}}b.length>0&&u.push([d,b])}return u}static _fillInKbExprKeys(s,u){if(s)for(const a of s.keys())u.add(a)}static _compareMenuItems(s,u){const a=s.group,d=u.group;if(a!==d){if(a){if(!d)return-1}else return 1;if(a==="navigation")return-1;if(d==="navigation")return 1;const g=a.localeCompare(d);if(g!==0)return g}const c=s.order||0,b=u.order||0;return c<b?-1:c>b?1:Rt._compareTitles((0,D.isIMenuItem)(s)?s.command.title:s.title,(0,D.isIMenuItem)(u)?u.command.title:u.title)}static _compareTitles(s,u){const a=typeof s=="string"?s:s.original,d=typeof u=="string"?u:u.original;return a.localeCompare(d)}};n=Ne([fe(3,_.ICommandService),fe(4,m.IContextKeyService)],n);let r=class{constructor(s,u,a,d,c){this._disposables=new L.DisposableStore,this._menuInfo=new n(s,u,a.emitEventsForSubmenuChanges,d,c);const b=new y.RunOnceScheduler(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},a.eventDebounceDelay);this._disposables.add(b),this._disposables.add(D.MenuRegistry.onDidChangeMenu(w=>{w.has(s)&&b.schedule()}));const g=this._disposables.add(new L.DisposableStore),p=w=>{let E=!1,I=!1,T=!1;for(const P of w)if(E=E||P.isStructuralChange,I=I||P.isEnablementChange,T=T||P.isToggleChange,E&&I&&T)break;return{menu:this,isStructuralChange:E,isEnablementChange:I,isToggleChange:T}},C=()=>{g.add(c.onDidChangeContext(w=>{const E=w.affectsSome(this._menuInfo.structureContextKeys),I=w.affectsSome(this._menuInfo.preconditionContextKeys),T=w.affectsSome(this._menuInfo.toggledContextKeys);(E||I||T)&&this._onDidChange.fire({menu:this,isStructuralChange:E,isEnablementChange:I,isToggleChange:T})})),g.add(u.onDidChange(w=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new k.DebounceEmitter({onWillAddFirstListener:C,onDidRemoveLastListener:g.clear.bind(g),delay:a.eventDebounceDelay,merge:p}),this.onDidChange=this._onDidChange.event}getActions(s){return this._menuInfo.createActionGroups(s)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};r=Ne([fe(3,_.ICommandService),fe(4,m.IContextKeyService)],r);function l(h,s,u){const a=(0,D.isISubmenuItem)(s)?s.submenu.id:s.id,d=typeof s.title=="string"?s.title:s.title.value,c=(0,S.toAction)({id:`hide/${h.id}/${a}`,label:(0,o.localize)(0,null,d),run(){u.updateHidden(h,a,!0)}}),b=(0,S.toAction)({id:`toggle/${h.id}/${a}`,label:d,get checked(){return!u.isHidden(h,a)},run(){u.updateHidden(h,a,!!this.checked)}});return{hide:c,toggle:b,get isHidden(){return!b.checked}}}}),define(J[78],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,y.createDecorator)("telemetryService")}),define(J[16],ee([1,0,597,22,33,11,50,69,29,25,14,8,118,38,78,18,70]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelAndPositionCommand=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class h{constructor(O){this.id=O.id,this.precondition=O.precondition,this._kbOpts=O.kbOpts,this._menuOpts=O.menuOpts,this._description=O.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const O=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const x of O){let F=x.kbExpr;this.precondition&&(F?F=v.ContextKeyExpr.and(F,this.precondition):F=this.precondition);const B={id:this.id,weight:x.weight,args:x.args,when:F,primary:x.primary,secondary:x.secondary,win:x.win,linux:x.linux,mac:x.mac};i.KeybindingsRegistry.registerKeybindingRule(B)}}f.CommandsRegistry.registerCommand({id:this.id,handler:(O,x)=>this.runCommand(O,x),description:this._description})}_registerMenuItem(O){S.MenuRegistry.appendMenuItem(O.menuId,{group:O.group,command:{id:this.id,title:O.title,icon:O.icon,precondition:this.precondition},when:O.when,order:O.order})}}e.Command=h;class s extends h{constructor(){super(...arguments),this._implementations=[]}addImplementation(O,x,F,B){return this._implementations.push({priority:O,name:x,implementation:F,when:B}),this._implementations.sort((z,j)=>j.priority-z.priority),{dispose:()=>{for(let z=0;z<this._implementations.length;z++)if(this._implementations[z].implementation===F){this._implementations.splice(z,1);return}}}}runCommand(O,x){const F=O.get(l.ILogService),B=O.get(v.IContextKeyService);F.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const z of this._implementations){if(z.when){const R=B.getContext(document.activeElement);if(!z.when.evaluate(R))continue}const j=z.implementation(O,x);if(j)return F.trace(`Command '${this.id}' was handled by '${z.name}'.`),typeof j=="boolean"?void 0:j}F.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=s;class u extends h{constructor(O,x){super(x),this.command=O}runCommand(O,x){return this.command.runCommand(O,x)}}e.ProxyCommand=u;class a extends h{static bindToContribution(O){return class extends a{constructor(F){super(F),this._callback=F.handler}runEditorCommand(F,B,z){const j=O(B);j&&this._callback(j,z)}}}static runEditorCommand(O,x,F,B){const z=O.get(L.ICodeEditorService),j=z.getFocusedCodeEditor()||z.getActiveCodeEditor();if(j)return j.invokeWithinContext(R=>{if(R.get(v.IContextKeyService).contextMatchesRules((0,r.withNullAsUndefined)(F)))return B(R,j,x)})}runCommand(O,x){return a.runEditorCommand(O,x,this.precondition,(F,B,z)=>this.runEditorCommand(F,B,z))}}e.EditorCommand=a;class d extends a{static convertOptions(O){let x;Array.isArray(O.menuOpts)?x=O.menuOpts:O.menuOpts?x=[O.menuOpts]:x=[];function F(B){return B.menuId||(B.menuId=S.MenuId.EditorContext),B.title||(B.title=O.label),B.when=v.ContextKeyExpr.and(O.precondition,B.when),B}return Array.isArray(O.contextMenuOpts)?x.push(...O.contextMenuOpts.map(F)):O.contextMenuOpts&&x.push(F(O.contextMenuOpts)),O.menuOpts=x,O}constructor(O){super(d.convertOptions(O)),this.label=O.label,this.alias=O.alias}runEditorCommand(O,x,F){return this.reportTelemetry(O,x),this.run(O,x,F||{})}reportTelemetry(O,x){O.get(n.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=d;class c extends d{constructor(){super(...arguments),this._implementations=[]}addImplementation(O,x){return this._implementations.push([O,x]),this._implementations.sort((F,B)=>B[0]-F[0]),{dispose:()=>{for(let F=0;F<this._implementations.length;F++)if(this._implementations[F][1]===x){this._implementations.splice(F,1);return}}}}run(O,x,F){for(const B of this._implementations){const z=B[1](O,x,F);if(z)return typeof z=="boolean"?void 0:z}}}e.MultiEditorAction=c;class b extends S.Action2{run(O,...x){const F=O.get(L.ICodeEditorService),B=F.getFocusedCodeEditor()||F.getActiveCodeEditor();if(B)return B.invokeWithinContext(z=>{var j;const R=z.get(v.IContextKeyService),Z=z.get(l.ILogService);if(!R.contextMatchesRules((0,r.withNullAsUndefined)(this.desc.precondition))){Z.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(j=this.desc.precondition)===null||j===void 0?void 0:j.serialize());return}return this.runEditorCommand(z,B,...x)})}}e.EditorAction2=b;function g(N,O){f.CommandsRegistry.registerCommand(N,function(x,...F){const B=x.get(o.IInstantiationService),[z,j]=F;(0,r.assertType)(k.URI.isUri(z)),(0,r.assertType)(D.Position.isIPosition(j));const R=x.get(_.IModelService).getModel(z);if(R){const Z=D.Position.lift(j);return B.invokeFunction(O,R,Z,...F.slice(2))}return x.get(m.ITextModelService).createModelReference(z).then(Z=>new Promise((se,le)=>{try{const te=B.invokeFunction(O,Z.object.textEditorModel,D.Position.lift(j),F.slice(2));se(te)}catch(te){le(te)}}).finally(()=>{Z.dispose()}))})}e.registerModelAndPositionCommand=g;function p(N){return A.INSTANCE.registerEditorCommand(N),N}e.registerEditorCommand=p;function C(N){const O=new N;return A.INSTANCE.registerEditorAction(O),O}e.registerEditorAction=C;function w(N){return A.INSTANCE.registerEditorAction(N),N}e.registerMultiEditorAction=w;function E(N){A.INSTANCE.registerEditorAction(N)}e.registerInstantiatedEditorAction=E;function I(N,O,x){A.INSTANCE.registerEditorContribution(N,O,x)}e.registerEditorContribution=I;var T;(function(N){function O(j){return A.INSTANCE.getEditorCommand(j)}N.getEditorCommand=O;function x(){return A.INSTANCE.getEditorActions()}N.getEditorActions=x;function F(){return A.INSTANCE.getEditorContributions()}N.getEditorContributions=F;function B(j){return A.INSTANCE.getEditorContributions().filter(R=>j.indexOf(R.id)>=0)}N.getSomeEditorContributions=B;function z(){return A.INSTANCE.getDiffEditorContributions()}N.getDiffEditorContributions=z})(T||(e.EditorExtensionsRegistry=T={}));const P={EditorCommonContributions:"editor.contributions"};class A{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(O,x,F){this.editorContributions.push({id:O,ctor:x,instantiation:F})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(O){O.register(),this.editorActions.push(O)}getEditorActions(){return this.editorActions}registerEditorCommand(O){O.register(),this.editorCommands[O.id]=O}getEditorCommand(O){return this.editorCommands[O]||null}}A.INSTANCE=new A,t.Registry.add(P.EditorCommonContributions,A.INSTANCE);function M(N){return N.register(),N}e.UndoCommand=M(new s({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:S.MenuId.MenubarEditMenu,group:"1_do",title:y.localize(0,null),order:1},{menuId:S.MenuId.CommandPalette,group:"",title:y.localize(1,null),order:1}]})),M(new u(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=M(new s({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:S.MenuId.MenubarEditMenu,group:"1_do",title:y.localize(2,null),order:2},{menuId:S.MenuId.CommandPalette,group:"",title:y.localize(3,null),order:1}]})),M(new u(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=M(new s({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:S.MenuId.MenubarSelectionMenu,group:"1_basic",title:y.localize(4,null),order:1},{menuId:S.MenuId.CommandPalette,group:"",title:y.localize(5,null),order:1}]}))}),define(J[191],ee([1,0,596,52,18,48,16,33,490,73,205,206,247,11,5,20,14,118]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const s=0;class u extends _.EditorCommand{runEditorCommand(P,A,M){const N=A._getViewModel();N&&this.runCoreEditorCommand(N,M||{})}}e.CoreEditorCommand=u;var a;(function(T){const P=function(M){if(!L.isObject(M))return!1;const N=M;return!(!L.isString(N.to)||!L.isUndefined(N.by)&&!L.isString(N.by)||!L.isUndefined(N.value)&&!L.isNumber(N.value)||!L.isUndefined(N.revealCursor)&&!L.isBoolean(N.revealCursor))};T.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:P,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},T.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},T.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function A(M){let N;switch(M.to){case T.RawDirection.Up:N=1;break;case T.RawDirection.Right:N=2;break;case T.RawDirection.Down:N=3;break;case T.RawDirection.Left:N=4;break;default:return null}let O;switch(M.by){case T.RawUnit.Line:O=1;break;case T.RawUnit.WrappedLine:O=2;break;case T.RawUnit.Page:O=3;break;case T.RawUnit.HalfPage:O=4;break;case T.RawUnit.Editor:O=5;break;case T.RawUnit.Column:O=6;break;default:O=2}const x=Math.floor(M.value||1),F=!!M.revealCursor;return{direction:N,unit:O,value:x,revealCursor:F,select:!!M.select}}T.parse=A})(a||(e.EditorScroll_=a={}));var d;(function(T){const P=function(A){if(!L.isObject(A))return!1;const M=A;return!(!L.isNumber(M.lineNumber)&&!L.isString(M.lineNumber)||!L.isUndefined(M.at)&&!L.isString(M.at))};T.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:P,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},T.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(d||(e.RevealLine_=d={}));class c{constructor(P){P.addImplementation(1e4,"code-editor",(A,M)=>{const N=A.get(m.ICodeEditorService).getFocusedCodeEditor();return N&&N.hasTextFocus()?this._runEditorCommand(A,N,M):!1}),P.addImplementation(1e3,"generic-dom-input-textarea",(A,M)=>{const N=document.activeElement;return N&&["input","textarea"].indexOf(N.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),P.addImplementation(0,"generic-dom",(A,M)=>{const N=A.get(m.ICodeEditorService).getActiveCodeEditor();return N?(N.focus(),this._runEditorCommand(A,N,M)):!1})}_runEditorCommand(P,A,M){const N=this.runEditorCommand(P,A,M);return N||!0}}var b;(function(T){class P extends u{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,H){if(!H.position)return;V.model.pushStackElement(),V.setCursorStates(H.source,3,[o.CursorMoveCommands.moveTo(V,V.getPrimaryCursorState(),this._inSelectionMode,H.position,H.viewPosition)])&&H.revealType!==2&&V.revealPrimaryCursor(H.source,!0,!0)}}T.MoveTo=(0,_.registerEditorCommand)(new P({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),T.MoveToSelect=(0,_.registerEditorCommand)(new P({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class A extends u{runCoreEditorCommand(V,H){V.model.pushStackElement();const $=this._getColumnSelectResult(V,V.getPrimaryCursorState(),V.getCursorColumnSelectData(),H);$!==null&&(V.setCursorStates(H.source,3,$.viewStates.map(X=>f.CursorState.fromViewState(X))),V.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:$.fromLineNumber,fromViewVisualColumn:$.fromVisualColumn,toViewLineNumber:$.toLineNumber,toViewVisualColumn:$.toVisualColumn}),$.reversed?V.revealTopMostCursor(H.source):V.revealBottomMostCursor(H.source))}}T.ColumnSelect=(0,_.registerEditorCommand)(new class extends A{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(U,V,H,$){if(typeof $.position>"u"||typeof $.viewPosition>"u"||typeof $.mouseColumn>"u")return null;const X=U.model.validatePosition($.position),Q=U.coordinatesConverter.validateViewPosition(new t.Position($.viewPosition.lineNumber,$.viewPosition.column),X),de=$.doColumnSelect?H.fromViewLineNumber:Q.lineNumber,ce=$.doColumnSelect?H.fromViewVisualColumn:$.mouseColumn-1;return S.ColumnSelection.columnSelect(U.cursorConfig,U,de,ce,Q.lineNumber,$.mouseColumn-1)}}),T.CursorColumnSelectLeft=(0,_.registerEditorCommand)(new class extends A{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(U,V,H,$){return S.ColumnSelection.columnSelectLeft(U.cursorConfig,U,H)}}),T.CursorColumnSelectRight=(0,_.registerEditorCommand)(new class extends A{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(U,V,H,$){return S.ColumnSelection.columnSelectRight(U.cursorConfig,U,H)}});class M extends A{constructor(V){super(V),this._isPaged=V.isPaged}_getColumnSelectResult(V,H,$,X){return S.ColumnSelection.columnSelectUp(V.cursorConfig,V,$,this._isPaged)}}T.CursorColumnSelectUp=(0,_.registerEditorCommand)(new M({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),T.CursorColumnSelectPageUp=(0,_.registerEditorCommand)(new M({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class N extends A{constructor(V){super(V),this._isPaged=V.isPaged}_getColumnSelectResult(V,H,$,X){return S.ColumnSelection.columnSelectDown(V.cursorConfig,V,$,this._isPaged)}}T.CursorColumnSelectDown=(0,_.registerEditorCommand)(new N({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),T.CursorColumnSelectPageDown=(0,_.registerEditorCommand)(new N({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class O extends u{constructor(){super({id:"cursorMove",precondition:void 0,description:o.CursorMove.description})}runCoreEditorCommand(V,H){const $=o.CursorMove.parse(H);$&&this._runCursorMove(V,H.source,$)}_runCursorMove(V,H,$){V.model.pushStackElement(),V.setCursorStates(H,3,O._move(V,V.getCursorStates(),$)),V.revealPrimaryCursor(H,!0)}static _move(V,H,$){const X=$.select,Q=$.value;switch($.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return o.CursorMoveCommands.simpleMove(V,H,$.direction,X,Q,$.unit);case 11:case 13:case 12:case 14:return o.CursorMoveCommands.viewportMove(V,H,$.direction,X,Q);default:return null}}}T.CursorMoveImpl=O,T.CursorMove=(0,_.registerEditorCommand)(new O);class x extends u{constructor(V){super(V),this._staticArgs=V.args}runCoreEditorCommand(V,H){let $=this._staticArgs;this._staticArgs.value===-1&&($={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:H.pageSize||V.cursorConfig.pageSize}),V.model.pushStackElement(),V.setCursorStates(H.source,3,o.CursorMoveCommands.simpleMove(V,V.getCursorStates(),$.direction,$.select,$.value,$.unit)),V.revealPrimaryCursor(H.source,!0)}}T.CursorLeft=(0,_.registerEditorCommand)(new x({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),T.CursorLeftSelect=(0,_.registerEditorCommand)(new x({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1039}})),T.CursorRight=(0,_.registerEditorCommand)(new x({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),T.CursorRightSelect=(0,_.registerEditorCommand)(new x({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1041}})),T.CursorUp=(0,_.registerEditorCommand)(new x({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),T.CursorUpSelect=(0,_.registerEditorCommand)(new x({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),T.CursorPageUp=(0,_.registerEditorCommand)(new x({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:11}})),T.CursorPageUpSelect=(0,_.registerEditorCommand)(new x({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1035}})),T.CursorDown=(0,_.registerEditorCommand)(new x({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),T.CursorDownSelect=(0,_.registerEditorCommand)(new x({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),T.CursorPageDown=(0,_.registerEditorCommand)(new x({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:12}})),T.CursorPageDownSelect=(0,_.registerEditorCommand)(new x({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1036}})),T.CreateCursor=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(U,V){if(!V.position)return;let H;V.wholeLine?H=o.CursorMoveCommands.line(U,U.getPrimaryCursorState(),!1,V.position,V.viewPosition):H=o.CursorMoveCommands.moveTo(U,U.getPrimaryCursorState(),!1,V.position,V.viewPosition);const $=U.getCursorStates();if($.length>1){const X=H.modelState?H.modelState.position:null,Q=H.viewState?H.viewState.position:null;for(let de=0,ce=$.length;de<ce;de++){const ae=$[de];if(!(X&&!ae.modelState.selection.containsPosition(X))&&!(Q&&!ae.viewState.selection.containsPosition(Q))){$.splice(de,1),U.model.pushStackElement(),U.setCursorStates(V.source,3,$);return}}}$.push(H),U.model.pushStackElement(),U.setCursorStates(V.source,3,$)}}),T.LastCursorMoveToSelect=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(U,V){if(!V.position)return;const H=U.getLastAddedCursorIndex(),$=U.getCursorStates(),X=$.slice(0);X[H]=o.CursorMoveCommands.moveTo(U,$[H],!0,V.position,V.viewPosition),U.model.pushStackElement(),U.setCursorStates(V.source,3,X)}});class F extends u{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,H){V.model.pushStackElement(),V.setCursorStates(H.source,3,o.CursorMoveCommands.moveToBeginningOfLine(V,V.getCursorStates(),this._inSelectionMode)),V.revealPrimaryCursor(H.source,!0)}}T.CursorHome=(0,_.registerEditorCommand)(new F({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),T.CursorHomeSelect=(0,_.registerEditorCommand)(new F({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class B extends u{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,H){V.model.pushStackElement(),V.setCursorStates(H.source,3,this._exec(V.getCursorStates())),V.revealPrimaryCursor(H.source,!0)}_exec(V){const H=[];for(let $=0,X=V.length;$<X;$++){const Q=V[$],de=Q.modelState.position.lineNumber;H[$]=f.CursorState.fromModelState(Q.modelState.move(this._inSelectionMode,de,1,0))}return H}}T.CursorLineStart=(0,_.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),T.CursorLineStartSelect=(0,_.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class z extends u{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,H){V.model.pushStackElement(),V.setCursorStates(H.source,3,o.CursorMoveCommands.moveToEndOfLine(V,V.getCursorStates(),this._inSelectionMode,H.sticky||!1)),V.revealPrimaryCursor(H.source,!0)}}T.CursorEnd=(0,_.registerEditorCommand)(new z({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:y.localize(0,null),type:"boolean",default:!1}}}}]}})),T.CursorEndSelect=(0,_.registerEditorCommand)(new z({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:y.localize(1,null),type:"boolean",default:!1}}}}]}}));class j extends u{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,H){V.model.pushStackElement(),V.setCursorStates(H.source,3,this._exec(V,V.getCursorStates())),V.revealPrimaryCursor(H.source,!0)}_exec(V,H){const $=[];for(let X=0,Q=H.length;X<Q;X++){const de=H[X],ce=de.modelState.position.lineNumber,ae=V.model.getLineMaxColumn(ce);$[X]=f.CursorState.fromModelState(de.modelState.move(this._inSelectionMode,ce,ae,0))}return $}}T.CursorLineEnd=(0,_.registerEditorCommand)(new j({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),T.CursorLineEndSelect=(0,_.registerEditorCommand)(new j({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class R extends u{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,H){V.model.pushStackElement(),V.setCursorStates(H.source,3,o.CursorMoveCommands.moveToBeginningOfBuffer(V,V.getCursorStates(),this._inSelectionMode)),V.revealPrimaryCursor(H.source,!0)}}T.CursorTop=(0,_.registerEditorCommand)(new R({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),T.CursorTopSelect=(0,_.registerEditorCommand)(new R({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class Z extends u{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,H){V.model.pushStackElement(),V.setCursorStates(H.source,3,o.CursorMoveCommands.moveToEndOfBuffer(V,V.getCursorStates(),this._inSelectionMode)),V.revealPrimaryCursor(H.source,!0)}}T.CursorBottom=(0,_.registerEditorCommand)(new Z({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),T.CursorBottomSelect=(0,_.registerEditorCommand)(new Z({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class se extends u{constructor(){super({id:"editorScroll",precondition:void 0,description:a.description})}determineScrollMethod(V){const H=[6],$=[1,2,3,4,5,6],X=[4,2],Q=[1,3];return H.includes(V.unit)&&X.includes(V.direction)?this._runHorizontalEditorScroll.bind(this):$.includes(V.unit)&&Q.includes(V.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(V,H){const $=a.parse(H);if(!$)return;const X=this.determineScrollMethod($);X&&X(V,H.source,$)}_runVerticalEditorScroll(V,H,$){const X=this._computeDesiredScrollTop(V,$);if($.revealCursor){const Q=V.getCompletelyVisibleViewRangeAtScrollTop(X);V.setCursorStates(H,3,[o.CursorMoveCommands.findPositionInViewportIfOutside(V,V.getPrimaryCursorState(),Q,$.select)])}V.viewLayout.setScrollPosition({scrollTop:X},0)}_computeDesiredScrollTop(V,H){if(H.unit===1){const Q=V.viewLayout.getFutureViewport(),de=V.getCompletelyVisibleViewRangeAtScrollTop(Q.top),ce=V.coordinatesConverter.convertViewRangeToModelRange(de);let ae;H.direction===1?ae=Math.max(1,ce.startLineNumber-H.value):ae=Math.min(V.model.getLineCount(),ce.startLineNumber+H.value);const ue=V.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(ae,1));return V.viewLayout.getVerticalOffsetForLineNumber(ue.lineNumber)}if(H.unit===5){let Q=0;return H.direction===3&&(Q=V.model.getLineCount()-V.cursorConfig.pageSize),V.viewLayout.getVerticalOffsetForLineNumber(Q)}let $;H.unit===3?$=V.cursorConfig.pageSize*H.value:H.unit===4?$=Math.round(V.cursorConfig.pageSize/2)*H.value:$=H.value;const X=(H.direction===1?-1:1)*$;return V.viewLayout.getCurrentScrollTop()+X*V.cursorConfig.lineHeight}_runHorizontalEditorScroll(V,H,$){const X=this._computeDesiredScrollLeft(V,$);V.viewLayout.setScrollPosition({scrollLeft:X},0)}_computeDesiredScrollLeft(V,H){const $=(H.direction===4?-1:1)*H.value;return V.viewLayout.getCurrentScrollLeft()+$*V.cursorConfig.typicalHalfwidthCharacterWidth}}T.EditorScrollImpl=se,T.EditorScroll=(0,_.registerEditorCommand)(new se),T.ScrollLineUp=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(U,V){T.EditorScroll.runCoreEditorCommand(U,{to:a.RawDirection.Up,by:a.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:V.source})}}),T.ScrollPageUp=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(U,V){T.EditorScroll.runCoreEditorCommand(U,{to:a.RawDirection.Up,by:a.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:V.source})}}),T.ScrollEditorTop=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(U,V){T.EditorScroll.runCoreEditorCommand(U,{to:a.RawDirection.Up,by:a.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:V.source})}}),T.ScrollLineDown=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(U,V){T.EditorScroll.runCoreEditorCommand(U,{to:a.RawDirection.Down,by:a.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:V.source})}}),T.ScrollPageDown=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(U,V){T.EditorScroll.runCoreEditorCommand(U,{to:a.RawDirection.Down,by:a.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:V.source})}}),T.ScrollEditorBottom=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(U,V){T.EditorScroll.runCoreEditorCommand(U,{to:a.RawDirection.Down,by:a.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:V.source})}}),T.ScrollLeft=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(U,V){T.EditorScroll.runCoreEditorCommand(U,{to:a.RawDirection.Left,by:a.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:V.source})}}),T.ScrollRight=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(U,V){T.EditorScroll.runCoreEditorCommand(U,{to:a.RawDirection.Right,by:a.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:V.source})}});class le extends u{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,H){H.position&&(V.model.pushStackElement(),V.setCursorStates(H.source,3,[o.CursorMoveCommands.word(V,V.getPrimaryCursorState(),this._inSelectionMode,H.position)]),H.revealType!==2&&V.revealPrimaryCursor(H.source,!0,!0))}}T.WordSelect=(0,_.registerEditorCommand)(new le({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),T.WordSelectDrag=(0,_.registerEditorCommand)(new le({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),T.LastCursorWordSelect=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(U,V){if(!V.position)return;const H=U.getLastAddedCursorIndex(),$=U.getCursorStates(),X=$.slice(0),Q=$[H];X[H]=o.CursorMoveCommands.word(U,Q,Q.modelState.hasSelection(),V.position),U.model.pushStackElement(),U.setCursorStates(V.source,3,X)}});class te extends u{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,H){H.position&&(V.model.pushStackElement(),V.setCursorStates(H.source,3,[o.CursorMoveCommands.line(V,V.getPrimaryCursorState(),this._inSelectionMode,H.position,H.viewPosition)]),H.revealType!==2&&V.revealPrimaryCursor(H.source,!1,!0))}}T.LineSelect=(0,_.registerEditorCommand)(new te({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),T.LineSelectDrag=(0,_.registerEditorCommand)(new te({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Y extends u{constructor(V){super(V),this._inSelectionMode=V.inSelectionMode}runCoreEditorCommand(V,H){if(!H.position)return;const $=V.getLastAddedCursorIndex(),X=V.getCursorStates(),Q=X.slice(0);Q[$]=o.CursorMoveCommands.line(V,X[$],this._inSelectionMode,H.position,H.viewPosition),V.model.pushStackElement(),V.setCursorStates(H.source,3,Q)}}T.LastCursorLineSelect=(0,_.registerEditorCommand)(new Y({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),T.LastCursorLineSelectDrag=(0,_.registerEditorCommand)(new Y({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),T.CancelSelection=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"cancelSelection",precondition:r.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(U,V){U.model.pushStackElement(),U.setCursorStates(V.source,3,[o.CursorMoveCommands.cancelSelection(U,U.getPrimaryCursorState())]),U.revealPrimaryCursor(V.source,!0)}}),T.RemoveSecondaryCursors=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"removeSecondaryCursors",precondition:r.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:s+1,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(U,V){U.model.pushStackElement(),U.setCursorStates(V.source,3,[U.getPrimaryCursorState()]),U.revealPrimaryCursor(V.source,!0),(0,D.status)(y.localize(2,null))}}),T.RevealLine=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"revealLine",precondition:void 0,description:d.description})}runCoreEditorCommand(U,V){const H=V,$=H.lineNumber||0;let X=typeof $=="number"?$+1:parseInt($)+1;X<1&&(X=1);const Q=U.model.getLineCount();X>Q&&(X=Q);const de=new n.Range(X,1,X,U.model.getLineMaxColumn(X));let ce=0;if(H.at)switch(H.at){case d.RawAtArgument.Top:ce=3;break;case d.RawAtArgument.Center:ce=1;break;case d.RawAtArgument.Bottom:ce=4;break;default:break}const ae=U.coordinatesConverter.convertModelRangeToViewRange(de);U.revealRange(V.source,!1,ae,ce,0)}}),T.SelectAll=new class extends c{constructor(){super(_.SelectAllCommand)}runDOMCommand(){k.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(U,V,H){const $=V._getViewModel();$&&this.runCoreEditorCommand($,H)}runCoreEditorCommand(U,V){U.model.pushStackElement(),U.setCursorStates("keyboard",3,[o.CursorMoveCommands.selectAll(U,U.getPrimaryCursorState())])}},T.SetSelection=(0,_.registerEditorCommand)(new class extends u{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(U,V){V.selection&&(U.model.pushStackElement(),U.setCursorStates(V.source,3,[f.CursorState.fromModelSelection(V.selection)]))}})})(b||(e.CoreNavigationCommands=b={}));const g=l.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,r.EditorContextKeys.columnSelection);function p(T,P){h.KeybindingsRegistry.registerKeybindingRule({id:T,primary:P,when:g,weight:s+1})}p(b.CursorColumnSelectLeft.id,1039),p(b.CursorColumnSelectRight.id,1041),p(b.CursorColumnSelectUp.id,1040),p(b.CursorColumnSelectPageUp.id,1035),p(b.CursorColumnSelectDown.id,1042),p(b.CursorColumnSelectPageDown.id,1036);function C(T){return T.register(),T}var w;(function(T){class P extends _.EditorCommand{runEditorCommand(M,N,O){const x=N._getViewModel();x&&this.runCoreEditingCommand(N,x,O||{})}}T.CoreEditingCommand=P,T.LineBreakInsert=(0,_.registerEditorCommand)(new class extends P{constructor(){super({id:"lineBreakInsert",precondition:r.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(A,M,N){A.pushUndoStop(),A.executeCommands(this.id,i.TypeOperations.lineBreakInsert(M.cursorConfig,M.model,M.getCursorStates().map(O=>O.modelState.selection)))}}),T.Outdent=(0,_.registerEditorCommand)(new class extends P{constructor(){super({id:"outdent",precondition:r.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:l.ContextKeyExpr.and(r.EditorContextKeys.editorTextFocus,r.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(A,M,N){A.pushUndoStop(),A.executeCommands(this.id,i.TypeOperations.outdent(M.cursorConfig,M.model,M.getCursorStates().map(O=>O.modelState.selection))),A.pushUndoStop()}}),T.Tab=(0,_.registerEditorCommand)(new class extends P{constructor(){super({id:"tab",precondition:r.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:l.ContextKeyExpr.and(r.EditorContextKeys.editorTextFocus,r.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(A,M,N){A.pushUndoStop(),A.executeCommands(this.id,i.TypeOperations.tab(M.cursorConfig,M.model,M.getCursorStates().map(O=>O.modelState.selection))),A.pushUndoStop()}}),T.DeleteLeft=(0,_.registerEditorCommand)(new class extends P{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(A,M,N){const[O,x]=v.DeleteOperations.deleteLeft(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(F=>F.modelState.selection),M.getCursorAutoClosedCharacters());O&&A.pushUndoStop(),A.executeCommands(this.id,x),M.setPrevEditOperationType(2)}}),T.DeleteRight=(0,_.registerEditorCommand)(new class extends P{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:s,kbExpr:r.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(A,M,N){const[O,x]=v.DeleteOperations.deleteRight(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(F=>F.modelState.selection));O&&A.pushUndoStop(),A.executeCommands(this.id,x),M.setPrevEditOperationType(3)}}),T.Undo=new class extends c{constructor(){super(_.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(A,M,N){if(!(!M.hasModel()||M.getOption(89)===!0))return M.getModel().undo()}},T.Redo=new class extends c{constructor(){super(_.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(A,M,N){if(!(!M.hasModel()||M.getOption(89)===!0))return M.getModel().redo()}}})(w||(e.CoreEditingCommands=w={}));class E extends _.Command{constructor(P,A,M){super({id:P,precondition:void 0,description:M}),this._handlerId=A}runCommand(P,A){const M=P.get(m.ICodeEditorService).getFocusedCodeEditor();M&&M.trigger("keyboard",this._handlerId,A)}}function I(T,P){C(new E("default:"+T,T)),C(new E(T,T,P))}I("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),I("replacePreviousChar"),I("compositionType"),I("compositionStart"),I("compositionEnd"),I("paste"),I("cut")}),define(J[783],ee([1,0,235,16]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let L=class{constructor(_,m){}dispose(){}};e.MarkerDecorationsContribution=L,L.ID="editor.contrib.markerDecorations",e.MarkerDecorationsContribution=L=Ne([fe(1,y.IMarkerDecorationsService)],L),(0,k.registerEditorContribution)(L.ID,L,0)}),define(J[784],ee([1,0,191,11,17]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(m,S,f,v){this.configuration=m,this.viewModel=S,this.userInputEvents=f,this.commandDelegate=v}paste(m,S,f,v){this.commandDelegate.paste(m,S,f,v)}type(m){this.commandDelegate.type(m)}compositionType(m,S,f,v){this.commandDelegate.compositionType(m,S,f,v)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(m){y.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:m})}_validateViewColumn(m){const S=this.viewModel.getLineMinColumn(m.lineNumber);return m.column<S?new k.Position(m.lineNumber,S):m}_hasMulticursorModifier(m){switch(this.configuration.options.get(76)){case"altKey":return m.altKey;case"ctrlKey":return m.ctrlKey;case"metaKey":return m.metaKey;default:return!1}}_hasNonMulticursorModifier(m){switch(this.configuration.options.get(76)){case"altKey":return m.ctrlKey||m.metaKey;case"ctrlKey":return m.altKey||m.metaKey;case"metaKey":return m.ctrlKey||m.altKey;default:return!1}}dispatchMouse(m){const S=this.configuration.options,f=L.isLinux&&S.get(105),v=S.get(21);m.middleButton&&!f?this._columnSelect(m.position,m.mouseColumn,m.inSelectionMode):m.startedOnLineNumbers?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelect(m.position,m.revealType):this._createCursor(m.position,!0):m.inSelectionMode?this._lineSelectDrag(m.position,m.revealType):this._lineSelect(m.position,m.revealType):m.mouseDownCount>=4?this._selectAll():m.mouseDownCount===3?this._hasMulticursorModifier(m)?m.inSelectionMode?this._lastCursorLineSelectDrag(m.position,m.revealType):this._lastCursorLineSelect(m.position,m.revealType):m.inSelectionMode?this._lineSelectDrag(m.position,m.revealType):this._lineSelect(m.position,m.revealType):m.mouseDownCount===2?m.onInjectedText||(this._hasMulticursorModifier(m)?this._lastCursorWordSelect(m.position,m.revealType):m.inSelectionMode?this._wordSelectDrag(m.position,m.revealType):this._wordSelect(m.position,m.revealType)):this._hasMulticursorModifier(m)?this._hasNonMulticursorModifier(m)||(m.shiftKey?this._columnSelect(m.position,m.mouseColumn,!0):m.inSelectionMode?this._lastCursorMoveToSelect(m.position,m.revealType):this._createCursor(m.position,!1)):m.inSelectionMode?m.altKey?this._columnSelect(m.position,m.mouseColumn,!0):v?this._columnSelect(m.position,m.mouseColumn,!0):this._moveToSelect(m.position,m.revealType):this.moveTo(m.position,m.revealType)}_usualArgs(m,S){return m=this._validateViewColumn(m),{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,revealType:S}}moveTo(m,S){y.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(m,S))}_moveToSelect(m,S){y.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,S))}_columnSelect(m,S,f){m=this._validateViewColumn(m),y.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,mouseColumn:S,doColumnSelect:f})}_createCursor(m,S){m=this._validateViewColumn(m),y.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(m),viewPosition:m,wholeLine:S})}_lastCursorMoveToSelect(m,S){y.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,S))}_wordSelect(m,S){y.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,S))}_wordSelectDrag(m,S){y.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,S))}_lastCursorWordSelect(m,S){y.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,S))}_lineSelect(m,S){y.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,S))}_lineSelectDrag(m,S){y.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,S))}_lastCursorLineSelect(m,S){y.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(m,S))}_lastCursorLineSelectDrag(m,S){y.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(m,S))}_selectAll(){y.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(m){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(m)}emitKeyDown(m){this.userInputEvents.emitKeyDown(m)}emitKeyUp(m){this.userInputEvents.emitKeyUp(m)}emitContextMenu(m){this.userInputEvents.emitContextMenu(m)}emitMouseMove(m){this.userInputEvents.emitMouseMove(m)}emitMouseLeave(m){this.userInputEvents.emitMouseLeave(m)}emitMouseUp(m){this.userInputEvents.emitMouseUp(m)}emitMouseDown(m){this.userInputEvents.emitMouseDown(m)}emitMouseDrag(m){this.userInputEvents.emitMouseDrag(m)}emitMouseDrop(m){this.userInputEvents.emitMouseDrop(m)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(m){this.userInputEvents.emitMouseWheel(m)}}e.ViewController=D}),define(J[344],ee([1,0,6,59,61,109,115,78]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=void 0;let S=class xt{constructor(v,o,i){this.editorWorkerService=o,this.telemetryService=i,this.onDidChangeEventEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(v)}dispose(){var v;(v=this.diffAlgorithmOnDidChangeSubscription)===null||v===void 0||v.dispose()}computeDiff(v,o,i){var t;return Le(this,void 0,void 0,function*(){if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(v,o,i);if(v.getLineCount()===1&&v.getLineMaxColumn(1)===1)return{changes:[new D.LineRangeMapping(new L.LineRange(1,2),new L.LineRange(1,o.getLineCount()+1),[new D.RangeMapping(v.getFullModelRange(),o.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const n=JSON.stringify([v.uri.toString(),o.uri.toString()]),r=JSON.stringify([v.id,o.id,v.getAlternativeVersionId(),o.getAlternativeVersionId(),JSON.stringify(i)]),l=xt.diffCache.get(n);if(l&&l.context===r)return l.result;const h=k.StopWatch.create(),s=yield this.editorWorkerService.computeDiff(v.uri,o.uri,i,this.diffAlgorithm),u=h.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:u,timedOut:(t=s?.quitEarly)!==null&&t!==void 0?t:!0}),!s)throw new Error("no diff result available");return xt.diffCache.size>10&&xt.diffCache.delete(xt.diffCache.keys().next().value),xt.diffCache.set(n,{result:s,context:r}),s})}setOptions(v){var o;let i=!1;v.diffAlgorithm&&this.diffAlgorithm!==v.diffAlgorithm&&((o=this.diffAlgorithmOnDidChangeSubscription)===null||o===void 0||o.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=v.diffAlgorithm,typeof v.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=v.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),i=!0),i&&this.onDidChangeEventEmitter.fire()}};e.WorkerBasedDocumentDiffProvider=S,S.diffCache=new Map,e.WorkerBasedDocumentDiffProvider=S=Ne([fe(1,_.IEditorWorkerService),fe(2,m.ITelemetryService)],S)}),define(J[785],ee([1,0,48,55,64,16,24,20,626,14,431]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new f.RawContextKey("selectionAnchorSet",!1);let v=class Bi{static get(l){return l.getContribution(Bi.ID)}constructor(l,h){this.editor=l,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(h),this.modelChangeListener=l.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const l=this.editor.getPosition();this.editor.changeDecorations(h=>{this.decorationId&&h.removeDecoration(this.decorationId),this.decorationId=h.addDecoration(_.Selection.fromPositions(l,l),{description:"selection-anchor",stickiness:1,hoverMessage:new k.MarkdownString().appendText((0,S.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,y.alert)((0,S.localize)(1,null,l.lineNumber,l.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const l=this.editor.getModel().getDecorationRange(this.decorationId);l&&this.editor.setPosition(l.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const l=this.editor.getModel().getDecorationRange(this.decorationId);if(l){const h=this.editor.getPosition();this.editor.setSelection(_.Selection.fromPositions(l.getStartPosition(),h)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const l=this.decorationId;this.editor.changeDecorations(h=>{h.removeDecoration(l),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};v.ID="editor.contrib.selectionAnchorController",v=Ne([fe(1,f.IContextKeyService)],v);class o extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,S.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2080),weight:100}})}run(l,h){var s;return Le(this,void 0,void 0,function*(){(s=v.get(h))===null||s===void 0||s.setSelectionAnchor()})}}class i extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,S.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(l,h){var s;return Le(this,void 0,void 0,function*(){(s=v.get(h))===null||s===void 0||s.goToSelectionAnchor()})}}class t extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,S.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2089),weight:100}})}run(l,h){var s;return Le(this,void 0,void 0,function*(){(s=v.get(h))===null||s===void 0||s.selectFromAnchorToCursor()})}}class n extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,S.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:m.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(l,h){var s;return Le(this,void 0,void 0,function*(){(s=v.get(h))===null||s===void 0||s.cancelSelectionAnchor()})}}(0,D.registerEditorContribution)(v.ID,v,4),(0,D.registerEditorAction)(o),(0,D.registerEditorAction)(i),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(n)}),define(J[786],ee([1,0,16,20,531,628]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class _ extends y.EditorAction{constructor(v,o){super(o),this.left=v}run(v,o){if(!o.hasModel())return;const i=[],t=o.getSelections();for(const n of t)i.push(new L.MoveCaretCommand(n,this.left));o.pushUndoStop(),o.executeCommands(this.id,i),o.pushUndoStop()}}class m extends _{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:k.EditorContextKeys.writable})}}class S extends _{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:k.EditorContextKeys.writable})}}(0,y.registerEditorAction)(m),(0,y.registerEditorAction)(S)}),define(J[787],ee([1,0,16,125,204,5,20,629]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends y.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:m.localize(0,null),alias:"Transpose Letters",precondition:_.EditorContextKeys.writable,kbOpts:{kbExpr:_.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(v,o){if(!o.hasModel())return;const i=o.getModel(),t=[],n=o.getSelections();for(const r of n){if(!r.isEmpty())continue;const l=r.startLineNumber,h=r.startColumn,s=i.getLineMaxColumn(l);if(l===1&&(h===1||h===2&&s===2))continue;const u=h===s?r.getPosition():L.MoveOperations.rightPosition(i,r.getPosition().lineNumber,r.getPosition().column),a=L.MoveOperations.leftPosition(i,u),d=L.MoveOperations.leftPosition(i,a),c=i.getValueInRange(D.Range.fromPositions(d,a)),b=i.getValueInRange(D.Range.fromPositions(a,u)),g=D.Range.fromPositions(d,u);t.push(new k.ReplaceCommand(g,b+c))}t.length>0&&(o.pushUndoStop(),o.executeCommands(this.id,t),o.pushUndoStop())}}(0,y.registerEditorAction)(S)}),define(J[788],ee([1,0,52,17,187,16,33,20,630,29,96,14]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const i="9_cutcopypaste",t=k.isNative||document.queryCommandSupported("cut"),n=k.isNative||document.queryCommandSupported("copy"),r=typeof navigator.clipboard>"u"||y.isFirefox?document.queryCommandSupported("paste"):!0;function l(u){return u.register(),u}e.CutAction=t?l(new D.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:k.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:f.MenuId.MenubarEditMenu,group:"2_ccp",title:S.localize(0,null),order:1},{menuId:f.MenuId.EditorContext,group:i,title:S.localize(1,null),when:m.EditorContextKeys.writable,order:1},{menuId:f.MenuId.CommandPalette,group:"",title:S.localize(2,null),order:1},{menuId:f.MenuId.SimpleEditorContext,group:i,title:S.localize(3,null),when:m.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=n?l(new D.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:k.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:f.MenuId.MenubarEditMenu,group:"2_ccp",title:S.localize(4,null),order:2},{menuId:f.MenuId.EditorContext,group:i,title:S.localize(5,null),order:2},{menuId:f.MenuId.CommandPalette,group:"",title:S.localize(6,null),order:1},{menuId:f.MenuId.SimpleEditorContext,group:i,title:S.localize(7,null),order:2}]})):void 0,f.MenuRegistry.appendMenuItem(f.MenuId.MenubarEditMenu,{submenu:f.MenuId.MenubarCopy,title:{value:S.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),f.MenuRegistry.appendMenuItem(f.MenuId.EditorContext,{submenu:f.MenuId.EditorContextCopy,title:{value:S.localize(9,null),original:"Copy As"},group:i,order:3}),f.MenuRegistry.appendMenuItem(f.MenuId.EditorContext,{submenu:f.MenuId.EditorContextShare,title:{value:S.localize(10,null),original:"Share"},group:"11_share",order:-1,when:o.ContextKeyExpr.and(o.ContextKeyExpr.notEquals("resourceScheme","output"),m.EditorContextKeys.editorTextFocus)}),f.MenuRegistry.appendMenuItem(f.MenuId.EditorTitleContext,{submenu:f.MenuId.EditorTitleContextShare,title:{value:S.localize(11,null),original:"Share"},group:"11_share",order:-1}),f.MenuRegistry.appendMenuItem(f.MenuId.ExplorerContext,{submenu:f.MenuId.ExplorerContextShare,title:{value:S.localize(12,null),original:"Share"},group:"11_share",order:-1}),e.PasteAction=r?l(new D.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:k.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:f.MenuId.MenubarEditMenu,group:"2_ccp",title:S.localize(13,null),order:4},{menuId:f.MenuId.EditorContext,group:i,title:S.localize(14,null),when:m.EditorContextKeys.writable,order:4},{menuId:f.MenuId.CommandPalette,group:"",title:S.localize(15,null),order:1},{menuId:f.MenuId.SimpleEditorContext,group:i,title:S.localize(16,null),when:m.EditorContextKeys.writable,order:4}]})):void 0;class h extends D.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:S.localize(17,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(a,d){!d.hasModel()||!d.getOption(36)&&d.getSelection().isEmpty()||(L.CopyOptions.forceCopyWithSyntaxHighlighting=!0,d.focus(),document.execCommand("copy"),L.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function s(u,a){u&&(u.addImplementation(1e4,"code-editor",(d,c)=>{const b=d.get(_.ICodeEditorService).getFocusedCodeEditor();if(b&&b.hasTextFocus()){const g=b.getOption(36),p=b.getSelection();return p&&p.isEmpty()&&!g||document.execCommand(a),!0}return!1}),u.addImplementation(0,"generic-dom",(d,c)=>(document.execCommand(a),!0)))}s(e.CutAction,"cut"),s(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(u,a)=>{const d=u.get(_.ICodeEditorService),c=u.get(v.IClipboardService),b=d.getFocusedCodeEditor();return b&&b.hasTextFocus()?!document.execCommand("paste")&&k.isWeb?(()=>Le(void 0,void 0,void 0,function*(){const p=yield c.readText();if(p!==""){const C=L.InMemoryClipboardMetadataManager.INSTANCE.get(p);let w=!1,E=null,I=null;C&&(w=b.getOption(36)&&!!C.isFromEmptySelection,E=typeof C.multicursorText<"u"?C.multicursorText:null,I=C.mode),b.trigger("keyboard","paste",{text:p,pasteOnNewLine:w,multicursorText:E,mode:I})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(u,a)=>(document.execCommand("paste"),!0))),n&&(0,D.registerEditorAction)(h)}),define(J[789],ee([1,0,64,16,5,20,31,289,533,640,29]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class o extends k.EditorAction{constructor(h,s){super(s),this._type=h}run(h,s){const u=h.get(_.ILanguageConfigurationService);if(!s.hasModel())return;const a=s.getModel(),d=[],c=a.getOptions(),b=s.getOption(22),g=s.getSelections().map((C,w)=>({selection:C,index:w,ignoreFirstLine:!1}));g.sort((C,w)=>L.Range.compareRangesUsingStarts(C.selection,w.selection));let p=g[0];for(let C=1;C<g.length;C++){const w=g[C];p.selection.endLineNumber===w.selection.startLineNumber&&(p.index<w.index?w.ignoreFirstLine=!0:(p.ignoreFirstLine=!0,p=w))}for(const C of g)d.push(new S.LineCommentCommand(u,C.selection,c.tabSize,this._type,b.insertSpace,b.ignoreEmptyLines,C.ignoreFirstLine));s.pushUndoStop(),s.executeCommands(this.id,d),s.pushUndoStop()}}class i extends o{constructor(){super(0,{id:"editor.action.commentLine",label:f.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:v.MenuId.MenubarEditMenu,group:"5_insert",title:f.localize(1,null),order:1}})}}class t extends o{constructor(){super(1,{id:"editor.action.addCommentLine",label:f.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2081),weight:100}})}}class n extends o{constructor(){super(2,{id:"editor.action.removeCommentLine",label:f.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2099),weight:100}})}}class r extends k.EditorAction{constructor(){super({id:"editor.action.blockComment",label:f.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:v.MenuId.MenubarEditMenu,group:"5_insert",title:f.localize(5,null),order:2}})}run(h,s){const u=h.get(_.ILanguageConfigurationService);if(!s.hasModel())return;const a=s.getOption(22),d=[],c=s.getSelections();for(const b of c)d.push(new m.BlockCommentCommand(b,a.insertSpace,u));s.pushUndoStop(),s.executeCommands(this.id,d),s.pushUndoStop()}}(0,k.registerEditorAction)(i),(0,k.registerEditorAction)(t),(0,k.registerEditorAction)(n),(0,k.registerEditorAction)(r)}),define(J[790],ee([1,0,2,16,20,642]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class _{constructor(i){this.selections=i}equals(i){const t=this.selections.length,n=i.selections.length;if(t!==n)return!1;for(let r=0;r<t;r++)if(!this.selections[r].equalsSelection(i.selections[r]))return!1;return!0}}class m{constructor(i,t,n){this.cursorState=i,this.scrollTop=t,this.scrollLeft=n}}class S extends y.Disposable{static get(i){return i.getContribution(S.ID)}constructor(i){super(),this._editor=i,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(i.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const n=new _(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(n)||(this._undoStack.push(new m(n,i.getScrollTop(),i.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new m(new _(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new m(new _(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(i){this._isCursorUndoRedo=!0,this._editor.setSelections(i.cursorState.selections),this._editor.setScrollPosition({scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=S,S.ID="editor.contrib.cursorUndoRedoController";class f extends k.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(i,t,n){var r;(r=S.get(t))===null||r===void 0||r.cursorUndo()}}e.CursorUndo=f;class v extends k.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(i,t,n){var r;(r=S.get(t))===null||r===void 0||r.cursorRedo()}}e.CursorRedo=v,(0,k.registerEditorContribution)(S.ID,S,0),(0,k.registerEditorAction)(f),(0,k.registerEditorAction)(v)}),define(J[791],ee([1,0,16,14,21,65,8,49,647]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const f=(0,_.createDecorator)("IEditorCancelService"),v=new k.RawContextKey("cancellableOperation",!1,(0,S.localize)(0,null));(0,m.registerSingleton)(f,class{constructor(){this._tokens=new WeakMap}add(i,t){let n=this._tokens.get(i);n||(n=i.invokeWithinContext(l=>{const h=v.bindTo(l.get(k.IContextKeyService)),s=new D.LinkedList;return{key:h,tokens:s}}),this._tokens.set(i,n));let r;return n.key.set(!0),r=n.tokens.push(t),()=>{r&&(r(),n.key.set(!n.tokens.isEmpty()),r=void 0)}}cancel(i){const t=this._tokens.get(i);if(!t)return;const n=t.tokens.pop();n&&(n.cancel(),t.key.set(!t.tokens.isEmpty()))}},1);class o extends L.CancellationTokenSource{constructor(t,n){super(n),this.editor=t,this._unregister=t.invokeWithinContext(r=>r.get(f).add(t,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=o,(0,y.registerEditorCommand)(new class extends y.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:v})}runEditorCommand(i,t){i.get(f).cancel(t)}})}),define(J[103],ee([1,0,9,5,21,2,791]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class m{constructor(o,i){if(this.flags=i,this.flags&1){const t=o.getModel();this.modelVersionId=t?y.format("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=o.getPosition():this.position=null,this.flags&2?this.selection=o.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=o.getScrollLeft(),this.scrollTop=o.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(o){if(!(o instanceof m))return!1;const i=o;return!(this.modelVersionId!==i.modelVersionId||this.scrollLeft!==i.scrollLeft||this.scrollTop!==i.scrollTop||!this.position&&i.position||this.position&&!i.position||this.position&&i.position&&!this.position.equals(i.position)||!this.selection&&i.selection||this.selection&&!i.selection||this.selection&&i.selection&&!this.selection.equalsRange(i.selection))}validate(o){return this._equals(new m(o,this.flags))}}e.EditorState=m;class S extends _.EditorKeybindingCancellationTokenSource{constructor(o,i,t,n){super(o,n),this._listener=new D.DisposableStore,i&4&&this._listener.add(o.onDidChangeCursorPosition(r=>{(!t||!k.Range.containsPosition(t,r.position))&&this.cancel()})),i&2&&this._listener.add(o.onDidChangeCursorSelection(r=>{(!t||!k.Range.containsRange(t,r.selection))&&this.cancel()})),i&8&&this._listener.add(o.onDidScrollChange(r=>this.cancel())),i&1&&(this._listener.add(o.onDidChangeModel(r=>this.cancel())),this._listener.add(o.onDidChangeModelContent(r=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=S;class f extends L.CancellationTokenSource{constructor(o,i){super(i),this._listener=o.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=f}),define(J[138],ee([1,0,15,21,12,2,22,133,5,24,19,50,103,631,25,44,84,78,113]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyCodeAction=e.ApplyCodeActionReason=e.getCodeActions=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.autoFixCommandId=e.quickFixCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.quickFixCommandId="editor.action.quickFix",e.autoFixCommandId="editor.action.autoFix",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class u extends D.Disposable{static codeActionsPreferredComparator(I,T){return I.isPreferred&&!T.isPreferred?-1:!I.isPreferred&&T.isPreferred?1:0}static codeActionsComparator({action:I},{action:T}){return(0,y.isNonEmptyArray)(I.diagnostics)?(0,y.isNonEmptyArray)(T.diagnostics)?u.codeActionsPreferredComparator(I,T):-1:(0,y.isNonEmptyArray)(T.diagnostics)?1:u.codeActionsPreferredComparator(I,T)}constructor(I,T,P){super(),this.documentation=T,this._register(P),this.allActions=[...I].sort(u.codeActionsComparator),this.validActions=this.allActions.filter(({action:A})=>!A.disabled)}get hasAutoFix(){return this.validActions.some(({action:I})=>!!I.kind&&s.CodeActionKind.QuickFix.contains(new s.CodeActionKind(I.kind))&&!!I.isPreferred)}}const a={actions:[],documentation:void 0};function d(E,I,T,P,A,M){var N;return Le(this,void 0,void 0,function*(){const O=P.filter||{},x={only:(N=O.include)===null||N===void 0?void 0:N.value,trigger:P.type},F=new i.TextModelCancellationTokenSource(I,M),B=c(E,I,O),z=new D.DisposableStore,j=B.map(Z=>Le(this,void 0,void 0,function*(){try{A.report(Z);const se=yield Z.provideCodeActions(I,T,x,F.token);if(se&&z.add(se),F.token.isCancellationRequested)return a;const le=(se?.actions||[]).filter(Y=>Y&&(0,s.filtersAction)(O,Y)),te=g(Z,le,O.include);return{actions:le.map(Y=>new s.CodeActionItem(Y,Z)),documentation:te}}catch(se){if((0,L.isCancellationError)(se))throw se;return(0,L.onUnexpectedExternalError)(se),a}})),R=E.onDidChange(()=>{const Z=E.all(I);(0,y.equals)(Z,B)||F.cancel()});try{const Z=yield Promise.all(j),se=Z.map(te=>te.actions).flat(),le=[...(0,y.coalesce)(Z.map(te=>te.documentation)),...b(E,I,P,se)];return new u(se,le,z)}finally{R.dispose(),F.dispose()}})}e.getCodeActions=d;function c(E,I,T){return E.all(I).filter(P=>P.providedCodeActionKinds?P.providedCodeActionKinds.some(A=>(0,s.mayIncludeActionsOfKind)(T,new s.CodeActionKind(A))):!0)}function*b(E,I,T,P){var A,M,N;if(I&&P.length)for(const O of E.all(I))O._getAdditionalMenuItems&&(yield*(A=O._getAdditionalMenuItems)===null||A===void 0?void 0:A.call(O,{trigger:T.type,only:(N=(M=T.filter)===null||M===void 0?void 0:M.include)===null||N===void 0?void 0:N.value},P.map(x=>x.action)))}function g(E,I,T){if(!E.documentation)return;const P=E.documentation.map(A=>({kind:new s.CodeActionKind(A.kind),command:A.command}));if(T){let A;for(const M of P)M.kind.contains(T)&&(A?A.kind.contains(M.kind)&&(A=M):A=M);if(A)return A?.command}for(const A of I)if(A.kind){for(const M of P)if(M.kind.contains(new s.CodeActionKind(A.kind)))return M.command}}var p;(function(E){E.OnSave="onSave",E.FromProblemsView="fromProblemsView",E.FromCodeActions="fromCodeActions"})(p||(e.ApplyCodeActionReason=p={}));function C(E,I,T,P,A=k.CancellationToken.None){var M;return Le(this,void 0,void 0,function*(){const N=E.get(m.IBulkEditService),O=E.get(n.ICommandService),x=E.get(h.ITelemetryService),F=E.get(r.INotificationService);if(x.publicLog2("codeAction.applyCodeAction",{codeActionTitle:I.action.title,codeActionKind:I.action.kind,codeActionIsPreferred:!!I.action.isPreferred,reason:T}),yield I.resolve(A),!A.isCancellationRequested&&!(!((M=I.action.edit)===null||M===void 0)&&M.edits.length&&!(yield N.apply(I.action.edit,{editor:P?.editor,label:I.action.title,quotableLabel:I.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:T!==p.OnSave,showPreview:P?.preview})).isApplied)&&I.action.command)try{yield O.executeCommand(I.action.command.id,...I.action.command.arguments||[])}catch(B){const z=w(B);F.error(typeof z=="string"?z:t.localize(0,null))}})}e.applyCodeAction=C;function w(E){return typeof E=="string"?E:E instanceof Error&&typeof E.message=="string"?E.message:void 0}n.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(E,I,T,P,A){return Le(this,void 0,void 0,function*(){if(!(I instanceof _.URI))throw(0,L.illegalArgument)();const{codeActionProvider:M}=E.get(v.ILanguageFeaturesService),N=E.get(o.IModelService).getModel(I);if(!N)throw(0,L.illegalArgument)();const O=f.Selection.isISelection(T)?f.Selection.liftSelection(T):S.Range.isIRange(T)?N.validateRange(T):void 0;if(!O)throw(0,L.illegalArgument)();const x=typeof P=="string"?new s.CodeActionKind(P):void 0,F=yield d(M,N,O,{type:1,triggerAction:s.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:x}},l.Progress.None,k.CancellationToken.None),B=[],z=Math.min(F.validActions.length,typeof A=="number"?A:0);for(let j=0;j<z;j++)B.push(F.validActions[j].resolve(k.CancellationToken.None));try{return yield Promise.all(B),F.validActions.map(j=>j.action)}finally{setTimeout(()=>F.dispose(),100)}})})}),define(J[792],ee([1,0,99,138,113,34]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=void 0;let _=class Wi{constructor(S){this.keybindingService=S}getResolver(){const S=new y.Lazy(()=>this.keybindingService.getKeybindings().filter(f=>Wi.codeActionCommands.indexOf(f.command)>=0).filter(f=>f.resolvedKeybinding).map(f=>{let v=f.commandArgs;return f.command===k.organizeImportsCommandId?v={kind:L.CodeActionKind.SourceOrganizeImports.value}:f.command===k.fixAllCommandId&&(v={kind:L.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:f.resolvedKeybinding},L.CodeActionCommandArgs.fromUser(v,{kind:L.CodeActionKind.None,apply:"never"}))}));return f=>{if(f.kind){const v=this.bestKeybindingForCodeAction(f,S.value);return v?.resolvedKeybinding}}}bestKeybindingForCodeAction(S,f){if(!S.kind)return;const v=new L.CodeActionKind(S.kind);return f.filter(o=>o.kind.contains(v)).filter(o=>o.preferred?S.isPreferred:!0).reduceRight((o,i)=>o?o.kind.contains(i.kind)?i:o:i,void 0)}};e.CodeActionKeybindingResolver=_,_.codeActionCommands=[k.refactorCommandId,k.codeActionCommandId,k.sourceActionCommandId,k.organizeImportsCommandId,k.fixAllCommandId],e.CodeActionKeybindingResolver=_=Ne([fe(0,D.IKeybindingService)],_)}),define(J[345],ee([1,0,13,12,6,2,43,14,84,113,138]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new m.RawContextKey("supportedCodeAction","");class o extends D.Disposable{constructor(l,h,s,u=250){super(),this._editor=l,this._markerService=h,this._signalChange=s,this._delay=u,this._autoTriggerTimer=this._register(new y.TimeoutTimer),this._register(this._markerService.onMarkerChanged(a=>this._onMarkerChanges(a))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(l){const h=this._getRangeOfSelectionUnlessWhitespaceEnclosed(l);this._signalChange(h?{trigger:l,selection:h}:void 0)}_onMarkerChanges(l){const h=this._editor.getModel();h&&l.some(s=>(0,_.isEqual)(s,h.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:f.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(l){if(!this._editor.hasModel())return;const h=this._editor.getModel(),s=this._editor.getSelection();if(s.isEmpty()&&l.type===2){const{lineNumber:u,column:a}=s.getPosition(),d=h.getLineContent(u);if(d.length===0)return;if(a===1){if(/\s/.test(d[0]))return}else if(a===h.getLineMaxColumn(u)){if(/\s/.test(d[d.length-1]))return}else if(/\s/.test(d[a-2])&&/\s/.test(d[a-1]))return}return s}}var i;(function(r){r.Empty={type:0};class l{constructor(s,u,a){this.trigger=s,this.position=u,this._cancellablePromise=a,this.type=1,this.actions=a.catch(d=>{if((0,k.isCancellationError)(d))return t;throw d})}cancel(){this._cancellablePromise.cancel()}}r.Triggered=l})(i||(e.CodeActionsState=i={}));const t=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1});class n extends D.Disposable{constructor(l,h,s,u,a){super(),this._editor=l,this._registry=h,this._markerService=s,this._progressService=a,this._codeActionOracle=this._register(new D.MutableDisposable),this._state=i.Empty,this._onDidChangeState=this._register(new L.Emitter),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(u),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(i.Empty,!0))}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(i.Empty);const l=this._editor.getModel();if(l&&this._registry.has(l)&&!this._editor.getOption(89)){const h=this._registry.all(l).flatMap(s=>{var u;return(u=s.providedCodeActionKinds)!==null&&u!==void 0?u:[]});this._supportedCodeActions.set(h.join(" ")),this._codeActionOracle.value=new o(this._editor,this._markerService,s=>{var u;if(!s){this.setState(i.Empty);return}const a=(0,y.createCancelablePromise)(d=>(0,v.getCodeActions)(this._registry,l,s.selection,s.trigger,S.Progress.None,d));s.trigger.type===1&&((u=this._progressService)===null||u===void 0||u.showWhile(a,250)),this.setState(new i.Triggered(s.trigger,s.selection.getStartPosition(),a))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:f.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(l){var h;(h=this._codeActionOracle.value)===null||h===void 0||h.trigger(l)}setState(l,h){l!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=l,!h&&!this._disposed&&this._onDidChangeState.fire(l))}}e.CodeActionModel=n}),define(J[346],ee([1,0,7,62,26,6,2,27,18,208,138,636,34,433]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var t;(function(r){r.Hidden={type:0};class l{constructor(s,u,a,d){this.actions=s,this.trigger=u,this.editorPosition=a,this.widgetPosition=d,this.type=1}}r.Showing=l})(t||(t={}));let n=class Vi extends _.Disposable{constructor(l,h){super(),this._editor=l,this._onClick=this._register(new D.Emitter),this.onClick=this._onClick.event,this._state=t.Hidden,this._domNode=y.$("div.lightBulbWidget"),this._register(k.Gesture.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(s=>{const u=this._editor.getModel();(this.state.type!==1||!u||this.state.editorPosition.lineNumber>=u.getLineCount())&&this.hide()})),this._register(y.addStandardDisposableGenericMouseDownListener(this._domNode,s=>{if(this.state.type!==1)return;this._editor.focus(),s.preventDefault();const{top:u,height:a}=y.getDomNodePagePosition(this._domNode),d=this._editor.getOption(65);let c=Math.floor(d/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(c+=d),this._onClick.fire({x:s.posx,y:u+a+c,actions:this.state.actions,trigger:this.state.trigger})})),this._register(y.addDisposableListener(this._domNode,"mouseenter",s=>{(s.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(63)&&!this._editor.getOption(63).enabled&&this.hide()})),this._register(D.Event.runAndSubscribe(h.onDidUpdateKeybindings,()=>{var s,u;this._preferredKbLabel=(0,S.withNullAsUndefined)((s=h.lookupKeybinding(v.autoFixCommandId))===null||s===void 0?void 0:s.getLabel()),this._quickFixKbLabel=(0,S.withNullAsUndefined)((u=h.lookupKeybinding(v.quickFixCommandId))===null||u===void 0?void 0:u.getLabel()),this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(l,h,s){if(l.validActions.length<=0)return this.hide();const u=this._editor.getOptions();if(!u.get(63).enabled)return this.hide();const a=this._editor.getModel();if(!a)return this.hide();const{lineNumber:d,column:c}=a.validatePosition(s),b=a.getOptions().tabSize,g=u.get(49),p=a.getLineContent(d),C=(0,f.computeIndentLevel)(p,b),w=g.spaceWidth*C>22,E=T=>T>2&&this._editor.getTopForLineNumber(T)===this._editor.getTopForLineNumber(T-1);let I=d;if(!w){if(d>1&&!E(d-1))I-=1;else if(!E(d+1))I+=1;else if(c*g.spaceWidth<22)return this.hide()}this.state=new t.Showing(l,h,s,{position:{lineNumber:I,column:1},preference:Vi._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==t.Hidden&&(this.state=t.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(l){this._state=l,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix&&(this._domNode.classList.remove(...m.ThemeIcon.asClassNameArray(L.Codicon.lightBulb)),this._domNode.classList.add(...m.ThemeIcon.asClassNameArray(L.Codicon.lightbulbAutofix)),this._preferredKbLabel)){this.title=o.localize(0,null,this._preferredKbLabel);return}this._domNode.classList.remove(...m.ThemeIcon.asClassNameArray(L.Codicon.lightbulbAutofix)),this._domNode.classList.add(...m.ThemeIcon.asClassNameArray(L.Codicon.lightBulb)),this._quickFixKbLabel?this.title=o.localize(1,null,this._quickFixKbLabel):this.title=o.localize(2,null)}set title(l){this._domNode.title=l}};e.LightBulbWidget=n,n.ID="editor.contrib.lightbulbWidget",n._posPref=[0],e.LightBulbWidget=n=Ne([fe(1,i.IKeybindingService)],n)}),define(J[793],ee([1,0,16,147,652]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:L.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(f,v){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()+1)}}class _ extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:L.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(f,v){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()-1)}}class m extends y.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:L.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(f,v){k.EditorZoom.setZoomLevel(0)}}(0,y.registerEditorAction)(D),(0,y.registerEditorAction)(_),(0,y.registerEditorAction)(m)}),define(J[347],ee([1,0,48,15,21,12,51,65,18,22,103,179,11,5,24,115,69,292,653,25,735,8,19,70]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function g(N){if(N=N.filter(B=>B.range),!N.length)return;let{range:O}=N[0];for(let B=1;B<N.length;B++)O=t.Range.plusRange(O,N[B].range);const{startLineNumber:x,endLineNumber:F}=O;x===F?N.length===1?(0,y.alert)(s.localize(0,null,x)):(0,y.alert)(s.localize(1,null,N.length,x)):N.length===1?(0,y.alert)(s.localize(2,null,x,F)):(0,y.alert)(s.localize(3,null,N.length,x,F))}e.alertFormattingEdits=g;function p(N,O,x){const F=[],B=new a.ExtensionIdentifierSet,z=N.ordered(x);for(const R of z)F.push(R),R.extensionId&&B.add(R.extensionId);const j=O.ordered(x);for(const R of j){if(R.extensionId){if(B.has(R.extensionId))continue;B.add(R.extensionId)}F.push({displayName:R.displayName,extensionId:R.extensionId,provideDocumentFormattingEdits(Z,se,le){return R.provideDocumentRangeFormattingEdits(Z,Z.getFullModelRange(),se,le)}})}return F}e.getRealAndSyntheticDocumentFormattersOrdered=p;class C{static setFormatterSelector(O){return{dispose:C._selectors.unshift(O)}}static select(O,x,F){return Le(this,void 0,void 0,function*(){if(O.length===0)return;const B=_.Iterable.first(C._selectors);if(B)return yield B(O,x,F)})}}e.FormattingConflicts=C,C._selectors=new m.LinkedList;function w(N,O,x,F,B,z){return Le(this,void 0,void 0,function*(){const j=N.get(d.IInstantiationService),{documentRangeFormattingEditProvider:R}=N.get(c.ILanguageFeaturesService),Z=(0,o.isCodeEditor)(O)?O.getModel():O,se=R.ordered(Z),le=yield C.select(se,Z,F);le&&(B.report(le),yield j.invokeFunction(E,le,O,x,z))})}e.formatDocumentRangesWithSelectedProvider=w;function E(N,O,x,F,B){var z,j;return Le(this,void 0,void 0,function*(){const R=N.get(r.IEditorWorkerService),Z=N.get(b.ILogService);let se,le;(0,o.isCodeEditor)(x)?(se=x.getModel(),le=new v.EditorStateCancellationTokenSource(x,5,void 0,B)):(se=x,le=new v.TextModelCancellationTokenSource(x,B));const te=[];let Y=0;for(const X of(0,k.asArray)(F).sort(t.Range.compareRangesUsingStarts))Y>0&&t.Range.areIntersectingOrTouching(te[Y-1],X)?te[Y-1]=t.Range.fromPositions(te[Y-1].getStartPosition(),X.getEndPosition()):Y=te.push(X);const U=X=>Le(this,void 0,void 0,function*(){var Q,de;Z.trace("[format][provideDocumentRangeFormattingEdits] (request)",(Q=O.extensionId)===null||Q===void 0?void 0:Q.value,X);const ce=(yield O.provideDocumentRangeFormattingEdits(se,X,se.getFormattingOptions(),le.token))||[];return Z.trace("[format][provideDocumentRangeFormattingEdits] (response)",(de=O.extensionId)===null||de===void 0?void 0:de.value,ce),ce}),V=(X,Q)=>{if(!X.length||!Q.length)return!1;const de=X.reduce((ce,ae)=>t.Range.plusRange(ce,ae.range),X[0].range);if(!Q.some(ce=>t.Range.intersectRanges(de,ce.range)))return!1;for(const ce of X)for(const ae of Q)if(t.Range.intersectRanges(ce.range,ae.range))return!0;return!1},H=[],$=[];try{if(typeof O.provideDocumentRangesFormattingEdits=="function"){Z.trace("[format][provideDocumentRangeFormattingEdits] (request)",(z=O.extensionId)===null||z===void 0?void 0:z.value,te);const X=(yield O.provideDocumentRangesFormattingEdits(se,te,se.getFormattingOptions(),le.token))||[];Z.trace("[format][provideDocumentRangeFormattingEdits] (response)",(j=O.extensionId)===null||j===void 0?void 0:j.value,X),$.push(X)}else{for(const X of te){if(le.token.isCancellationRequested)return!0;$.push(yield U(X))}for(let X=0;X<te.length;++X)for(let Q=X+1;Q<te.length;++Q){if(le.token.isCancellationRequested)return!0;if(V($[X],$[Q])){const de=t.Range.plusRange(te[X],te[Q]),ce=yield U(de);te.splice(Q,1),te.splice(X,1),te.push(de),$.splice(Q,1),$.splice(X,1),$.push(ce),X=0,Q=0}}}for(const X of $){if(le.token.isCancellationRequested)return!0;const Q=yield R.computeMoreMinimalEdits(se.uri,X);Q&&H.push(...Q)}}finally{le.dispose()}if(H.length===0)return!1;if((0,o.isCodeEditor)(x))h.FormattingEdit.execute(x,H,!0),g(H),x.revealPositionInCenterIfOutsideViewport(x.getPosition(),1);else{const[{range:X}]=H,Q=new n.Selection(X.startLineNumber,X.startColumn,X.endLineNumber,X.endColumn);se.pushEditOperations([Q],H.map(de=>({text:de.text,range:t.Range.lift(de.range),forceMoveMarkers:!0})),de=>{for(const{range:ce}of de)if(t.Range.areIntersectingOrTouching(ce,Q))return[new n.Selection(ce.startLineNumber,ce.startColumn,ce.endLineNumber,ce.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=E;function I(N,O,x,F,B){return Le(this,void 0,void 0,function*(){const z=N.get(d.IInstantiationService),j=N.get(c.ILanguageFeaturesService),R=(0,o.isCodeEditor)(O)?O.getModel():O,Z=p(j.documentFormattingEditProvider,j.documentRangeFormattingEditProvider,R),se=yield C.select(Z,R,x);se&&(F.report(se),yield z.invokeFunction(T,se,O,x,B))})}e.formatDocumentWithSelectedProvider=I;function T(N,O,x,F,B){return Le(this,void 0,void 0,function*(){const z=N.get(r.IEditorWorkerService);let j,R;(0,o.isCodeEditor)(x)?(j=x.getModel(),R=new v.EditorStateCancellationTokenSource(x,5,void 0,B)):(j=x,R=new v.TextModelCancellationTokenSource(x,B));let Z;try{const se=yield O.provideDocumentFormattingEdits(j,j.getFormattingOptions(),R.token);if(Z=yield z.computeMoreMinimalEdits(j.uri,se),R.token.isCancellationRequested)return!0}finally{R.dispose()}if(!Z||Z.length===0)return!1;if((0,o.isCodeEditor)(x))h.FormattingEdit.execute(x,Z,F!==2),F!==2&&(g(Z),x.revealPositionInCenterIfOutsideViewport(x.getPosition(),1));else{const[{range:se}]=Z,le=new n.Selection(se.startLineNumber,se.startColumn,se.endLineNumber,se.endColumn);j.pushEditOperations([le],Z.map(te=>({text:te.text,range:t.Range.lift(te.range),forceMoveMarkers:!0})),te=>{for(const{range:Y}of te)if(t.Range.areIntersectingOrTouching(Y,le))return[new n.Selection(Y.startLineNumber,Y.startColumn,Y.endLineNumber,Y.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=T;function P(N,O,x,F,B,z){return Le(this,void 0,void 0,function*(){const j=O.documentRangeFormattingEditProvider.ordered(x);for(const R of j){const Z=yield Promise.resolve(R.provideDocumentRangeFormattingEdits(x,F,B,z)).catch(D.onUnexpectedExternalError);if((0,k.isNonEmptyArray)(Z))return yield N.computeMoreMinimalEdits(x.uri,Z)}})}e.getDocumentRangeFormattingEditsUntilResult=P;function A(N,O,x,F,B){return Le(this,void 0,void 0,function*(){const z=p(O.documentFormattingEditProvider,O.documentRangeFormattingEditProvider,x);for(const j of z){const R=yield Promise.resolve(j.provideDocumentFormattingEdits(x,F,B)).catch(D.onUnexpectedExternalError);if((0,k.isNonEmptyArray)(R))return yield N.computeMoreMinimalEdits(x.uri,R)}})}e.getDocumentFormattingEditsUntilResult=A;function M(N,O,x,F,B,z,j){const R=O.onTypeFormattingEditProvider.ordered(x);return R.length===0||R[0].autoFormatTriggerCharacters.indexOf(B)<0?Promise.resolve(void 0):Promise.resolve(R[0].provideOnTypeFormattingEdits(x,F,B,z,j)).catch(D.onUnexpectedExternalError).then(Z=>N.computeMoreMinimalEdits(x.uri,Z))}e.getOnTypeFormattingEdits=M,u.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(N,...O){return Le(this,void 0,void 0,function*(){const[x,F,B]=O;(0,S.assertType)(f.URI.isUri(x)),(0,S.assertType)(t.Range.isIRange(F));const z=N.get(l.ITextModelService),j=N.get(r.IEditorWorkerService),R=N.get(c.ILanguageFeaturesService),Z=yield z.createModelReference(x);try{return P(j,R,Z.object.textEditorModel,t.Range.lift(F),B,L.CancellationToken.None)}finally{Z.dispose()}})}),u.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(N,...O){return Le(this,void 0,void 0,function*(){const[x,F]=O;(0,S.assertType)(f.URI.isUri(x));const B=N.get(l.ITextModelService),z=N.get(r.IEditorWorkerService),j=N.get(c.ILanguageFeaturesService),R=yield B.createModelReference(x);try{return A(z,j,R.object.textEditorModel,F,L.CancellationToken.None)}finally{R.dispose()}})}),u.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(N,...O){return Le(this,void 0,void 0,function*(){const[x,F,B,z]=O;(0,S.assertType)(f.URI.isUri(x)),(0,S.assertType)(i.Position.isIPosition(F)),(0,S.assertType)(typeof B=="string");const j=N.get(l.ITextModelService),R=N.get(r.IEditorWorkerService),Z=N.get(c.ILanguageFeaturesService),se=yield j.createModelReference(x);try{return M(R,Z,se.object.textEditorModel,i.Position.lift(F),B,z,L.CancellationToken.None)}finally{se.dispose()}})})}),define(J[794],ee([1,0,15,21,12,64,2,16,33,122,5,20,115,19,347,292,654,25,14,8,84]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let d=class{constructor(C,w,E){this._editor=C,this._languageFeaturesService=w,this._workerService=E,this._disposables=new _.DisposableStore,this._sessionDisposables=new _.DisposableStore,this._disposables.add(w.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(C.onDidChangeModel(()=>this._update())),this._disposables.add(C.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(C.onDidChangeConfiguration(I=>{I.hasChanged(55)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(55)||!this._editor.hasModel())return;const C=this._editor.getModel(),[w]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(C);if(!w||!w.autoFormatTriggerCharacters)return;const E=new f.CharacterSet;for(const I of w.autoFormatTriggerCharacters)E.add(I.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(I=>{const T=I.charCodeAt(I.length-1);E.has(T)&&this._trigger(String.fromCharCode(T))}))}_trigger(C){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const w=this._editor.getModel(),E=this._editor.getPosition(),I=new k.CancellationTokenSource,T=this._editor.onDidChangeModelContent(P=>{if(P.isFlush){I.cancel(),T.dispose();return}for(let A=0,M=P.changes.length;A<M;A++)if(P.changes[A].range.endLineNumber<=E.lineNumber){I.cancel(),T.dispose();return}});(0,n.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,w,E,C,w.getFormattingOptions(),I.token).then(P=>{I.token.isCancellationRequested||(0,y.isNonEmptyArray)(P)&&(r.FormattingEdit.execute(this._editor,P,!0),(0,n.alertFormattingEdits)(P))}).finally(()=>{T.dispose()})}};d.ID="editor.contrib.autoFormat",d=Ne([fe(1,t.ILanguageFeaturesService),fe(2,i.IEditorWorkerService)],d);let c=class{constructor(C,w,E){this.editor=C,this._languageFeaturesService=w,this._instantiationService=E,this._callOnDispose=new _.DisposableStore,this._callOnModel=new _.DisposableStore,this._callOnDispose.add(C.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(C.onDidChangeModel(()=>this._update())),this._callOnDispose.add(C.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(w.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(54)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:C})=>this._trigger(C)))}_trigger(C){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(n.formatDocumentRangesWithSelectedProvider,this.editor,C,2,a.Progress.None,k.CancellationToken.None).catch(L.onUnexpectedError))}};c.ID="editor.contrib.formatOnPaste",c=Ne([fe(1,t.ILanguageFeaturesService),fe(2,u.IInstantiationService)],c);class b extends m.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:l.localize(0,null),alias:"Format Document",precondition:s.ContextKeyExpr.and(o.EditorContextKeys.notInCompositeEditor,o.EditorContextKeys.writable,o.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(C,w){return Le(this,void 0,void 0,function*(){if(w.hasModel()){const E=C.get(u.IInstantiationService);yield C.get(a.IEditorProgressService).showWhile(E.invokeFunction(n.formatDocumentWithSelectedProvider,w,1,a.Progress.None,k.CancellationToken.None),250)}})}}class g extends m.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:l.localize(1,null),alias:"Format Selection",precondition:s.ContextKeyExpr.and(o.EditorContextKeys.writable,o.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:o.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(C,w){return Le(this,void 0,void 0,function*(){if(!w.hasModel())return;const E=C.get(u.IInstantiationService),I=w.getModel(),T=w.getSelections().map(A=>A.isEmpty()?new v.Range(A.startLineNumber,1,A.startLineNumber,I.getLineMaxColumn(A.startLineNumber)):A);yield C.get(a.IEditorProgressService).showWhile(E.invokeFunction(n.formatDocumentRangesWithSelectedProvider,w,T,1,a.Progress.None,k.CancellationToken.None),250)})}}(0,m.registerEditorContribution)(d.ID,d,2),(0,m.registerEditorContribution)(c.ID,c,2),(0,m.registerEditorAction)(b),(0,m.registerEditorAction)(g),h.CommandsRegistry.registerCommand("editor.action.format",p=>Le(void 0,void 0,void 0,function*(){const C=p.get(S.ICodeEditorService).getFocusedCodeEditor();if(!C||!C.hasModel())return;const w=p.get(h.ICommandService);C.getSelection().isEmpty()?yield w.executeCommand("editor.action.formatDocument"):yield w.executeCommand("editor.action.formatSelection")}))}),define(J[248],ee([1,0,15,21,12,16,19,158]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function S(r,l,h,s){return Le(this,void 0,void 0,function*(){const a=h.ordered(r).map(c=>Promise.resolve(s(c,r,l)).then(void 0,b=>{(0,L.onUnexpectedExternalError)(b)})),d=yield Promise.all(a);return(0,y.coalesce)(d.flat())})}function f(r,l,h,s){return S(l,h,r,(u,a,d)=>u.provideDefinition(a,d,s))}e.getDefinitionsAtPosition=f;function v(r,l,h,s){return S(l,h,r,(u,a,d)=>u.provideDeclaration(a,d,s))}e.getDeclarationsAtPosition=v;function o(r,l,h,s){return S(l,h,r,(u,a,d)=>u.provideImplementation(a,d,s))}e.getImplementationsAtPosition=o;function i(r,l,h,s){return S(l,h,r,(u,a,d)=>u.provideTypeDefinition(a,d,s))}e.getTypeDefinitionsAtPosition=i;function t(r,l,h,s,u){return S(l,h,r,(a,d,c)=>Le(this,void 0,void 0,function*(){const b=yield a.provideReferences(d,c,{includeDeclaration:!0},u);if(!s||!b||b.length!==2)return b;const g=yield a.provideReferences(d,c,{includeDeclaration:!1},u);return g&&g.length===1?g:b}))}e.getReferencesAtPosition=t;function n(r){return Le(this,void 0,void 0,function*(){const l=yield r(),h=new m.ReferencesModel(l,""),s=h.references.map(u=>u.link);return h.dispose(),s})}(0,D.registerModelAndPositionCommand)("_executeDefinitionProvider",(r,l,h)=>{const s=r.get(_.ILanguageFeaturesService),u=f(s.definitionProvider,l,h,k.CancellationToken.None);return n(()=>u)}),(0,D.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(r,l,h)=>{const s=r.get(_.ILanguageFeaturesService),u=i(s.typeDefinitionProvider,l,h,k.CancellationToken.None);return n(()=>u)}),(0,D.registerModelAndPositionCommand)("_executeDeclarationProvider",(r,l,h)=>{const s=r.get(_.ILanguageFeaturesService),u=v(s.declarationProvider,l,h,k.CancellationToken.None);return n(()=>u)}),(0,D.registerModelAndPositionCommand)("_executeReferenceProvider",(r,l,h)=>{const s=r.get(_.ILanguageFeaturesService),u=t(s.referenceProvider,l,h,!1,k.CancellationToken.None);return n(()=>u)}),(0,D.registerModelAndPositionCommand)("_executeImplementationProvider",(r,l,h)=>{const s=r.get(_.ILanguageFeaturesService),u=o(s.implementationProvider,l,h,k.CancellationToken.None);return n(()=>u)})}),define(J[795],ee([1,0,6,2,43,16,33,5,663,14,49,8,34,118,44]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new f.RawContextKey("hasSymbols",!1,(0,S.localize)(0,null)),e.ISymbolNavigationService=(0,o.createDecorator)("ISymbolNavigationService");let r=class{constructor(s,u,a,d){this._editorService=u,this._notificationService=a,this._keybindingService=d,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(s)}reset(){var s,u;this._ctxHasSymbols.reset(),(s=this._currentState)===null||s===void 0||s.dispose(),(u=this._currentMessage)===null||u===void 0||u.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(s){const u=s.parent.parent;if(u.references.length<=1){this.reset();return}this._currentModel=u,this._currentIdx=u.references.indexOf(s),this._ctxHasSymbols.set(!0),this._showMessage();const a=new l(this._editorService),d=a.onDidChange(c=>{if(this._ignoreEditorChange)return;const b=this._editorService.getActiveCodeEditor();if(!b)return;const g=b.getModel(),p=b.getPosition();if(!g||!p)return;let C=!1,w=!1;for(const E of u.references)if((0,L.isEqual)(E.uri,g.uri))C=!0,w=w||m.Range.containsPosition(E.range,p);else if(C)break;(!C||!w)&&this.reset()});this._currentState=(0,k.combinedDisposable)(a,d)}revealNext(s){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const u=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:u.uri,options:{selection:m.Range.collapseToStart(u.range),selectionRevealType:3}},s).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var s;(s=this._currentMessage)===null||s===void 0||s.dispose();const u=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),a=u?(0,S.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,u.getLabel()):(0,S.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(a)}};r=Ne([fe(0,f.IContextKeyService),fe(1,_.ICodeEditorService),fe(2,n.INotificationService),fe(3,i.IKeybindingService)],r),(0,v.registerSingleton)(e.ISymbolNavigationService,r,1),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(h,s){return h.get(e.ISymbolNavigationService).revealNext(s)}}),t.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(h){h.get(e.ISymbolNavigationService).reset()}});let l=class{constructor(s){this._listener=new Map,this._disposables=new k.DisposableStore,this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(s.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(s.onCodeEditorAdd(this._onDidAddEditor,this)),s.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,k.dispose)(this._listener.values())}_onDidAddEditor(s){this._listener.set(s,(0,k.combinedDisposable)(s.onDidChangeCursorPosition(u=>this._onDidChange.fire({editor:s})),s.onDidChangeModelContent(u=>this._onDidChange.fire({editor:s}))))}_onDidRemoveEditor(s){var u;(u=this._listener.get(s))===null||u===void 0||u.dispose(),this._listener.delete(s)}};l=Ne([fe(0,_.ICodeEditorService)],l)}),define(J[348],ee([1,0,13,21,12,16,19]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class m{constructor(t,n,r){this.provider=t,this.hover=n,this.ordinal=r}}e.HoverProviderResult=m;function S(i,t,n,r,l){return Le(this,void 0,void 0,function*(){try{const h=yield Promise.resolve(i.provideHover(n,r,l));if(h&&o(h))return new m(i,h,t)}catch(h){(0,L.onUnexpectedExternalError)(h)}})}function f(i,t,n,r){const h=i.ordered(t).map((s,u)=>S(s,u,t,n,r));return y.AsyncIterableObject.fromPromises(h).coalesce()}e.getHover=f;function v(i,t,n,r){return f(i,t,n,r).map(l=>l.hover).toPromise()}e.getHoverPromise=v,(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(i,t,n)=>{const r=i.get(_.ILanguageFeaturesService);return v(r.hoverProvider,t,n,k.CancellationToken.None)});function o(i){const t=typeof i.range<"u",n=typeof i.contents<"u"&&i.contents&&i.contents.length>0;return t&&n}}),define(J[249],ee([1,0,7,15,13,55,2,117,11,5,41,348,665,28,56,19]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const l=y.$;class h{constructor(d,c,b,g,p){this.owner=d,this.range=c,this.contents=b,this.isBeforeContent=g,this.ordinal=p}isValidForHoverAnchor(d){return d.type===1&&this.range.startColumn<=d.range.startColumn&&this.range.endColumn>=d.range.endColumn}}e.MarkdownHover=h;let s=class{constructor(d,c,b,g,p){this._editor=d,this._languageService=c,this._openerService=b,this._configurationService=g,this._languageFeaturesService=p,this.hoverOrdinal=3}createLoadingMessage(d){return new h(this,d.range,[new D.MarkdownString().appendText(i.localize(0,null))],!1,2e3)}computeSync(d,c){if(!this._editor.hasModel()||d.type!==1)return[];const b=this._editor.getModel(),g=d.range.startLineNumber,p=b.getLineMaxColumn(g),C=[];let w=1e3;const E=b.getLineLength(g),I=b.getLanguageIdAtPosition(d.range.startLineNumber,d.range.startColumn),T=this._editor.getOption(115),P=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:I});let A=!1;T>=0&&E>T&&d.range.startColumn>=T&&(A=!0,C.push(new h(this,d.range,[{value:i.localize(1,null)}],!1,w++))),!A&&typeof P=="number"&&E>=P&&C.push(new h(this,d.range,[{value:i.localize(2,null)}],!1,w++));let M=!1;for(const N of c){const O=N.range.startLineNumber===g?N.range.startColumn:1,x=N.range.endLineNumber===g?N.range.endColumn:p,F=N.options.hoverMessage;if(!F||(0,D.isEmptyMarkdownString)(F))continue;N.options.beforeContentClassName&&(M=!0);const B=new f.Range(d.range.startLineNumber,O,d.range.startLineNumber,x);C.push(new h(this,B,(0,k.asArray)(F),M,w++))}return C}computeAsync(d,c,b){if(!this._editor.hasModel()||d.type!==1)return L.AsyncIterableObject.EMPTY;const g=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(g))return L.AsyncIterableObject.EMPTY;const p=new S.Position(d.range.startLineNumber,d.range.startColumn);return(0,o.getHover)(this._languageFeaturesService.hoverProvider,g,p,b).filter(C=>!(0,D.isEmptyMarkdownString)(C.hover.contents)).map(C=>{const w=C.hover.range?f.Range.lift(C.hover.range):d.range;return new h(this,w,C.hover.contents,!1,C.ordinal)})}renderHoverParts(d,c){return u(d,c,this._editor,this._languageService,this._openerService)}};e.MarkdownHoverParticipant=s,e.MarkdownHoverParticipant=s=Ne([fe(1,v.ILanguageService),fe(2,n.IOpenerService),fe(3,t.IConfigurationService),fe(4,r.ILanguageFeaturesService)],s);function u(a,d,c,b,g){d.sort((C,w)=>C.ordinal-w.ordinal);const p=new _.DisposableStore;for(const C of d)for(const w of C.contents){if((0,D.isEmptyMarkdownString)(w))continue;const E=l("div.hover-row.markdown-hover"),I=y.append(E,l("div.hover-contents")),T=p.add(new m.MarkdownRenderer({editor:c},b,g));p.add(T.onDidRenderAsync(()=>{I.className="hover-contents code-hover-contents",a.onContentsChanged()}));const P=p.add(T.render(w));I.appendChild(P.element),a.fragment.appendChild(E)}return p}e.renderMarkdownHovers=u}),define(J[796],ee([1,0,2,9,16,246,72,5,24,20,31,50,293,668,76,203,244]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.ChangeTabDisplaySize=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function h(A,M,N,O,x){if(A.getLineCount()===1&&A.getLineMaxColumn(1)===1)return[];const F=M.getLanguageConfiguration(A.getLanguageId()).indentationRules;if(!F)return[];for(O=Math.min(O,A.getLineCount());N<=O&&F.unIndentedLinePattern;){const V=A.getLineContent(N);if(!F.unIndentedLinePattern.test(V))break;N++}if(N>O-1)return[];const{tabSize:B,indentSize:z,insertSpaces:j}=A.getOptions(),R=(V,H)=>(H=H||1,D.ShiftCommand.shiftIndent(V,V.length+H,B,z,j)),Z=(V,H)=>(H=H||1,D.ShiftCommand.unshiftIndent(V,V.length+H,B,z,j)),se=[];let le;const te=A.getLineContent(N);let Y=te;if(x!=null){le=x;const V=k.getLeadingWhitespace(te);Y=le+te.substring(V.length),F.decreaseIndentPattern&&F.decreaseIndentPattern.test(Y)&&(le=Z(le),Y=le+te.substring(V.length)),te!==Y&&se.push(_.EditOperation.replaceMove(new S.Selection(N,1,N,V.length+1),(0,r.normalizeIndentation)(le,z,j)))}else le=k.getLeadingWhitespace(te);let U=le;F.increaseIndentPattern&&F.increaseIndentPattern.test(Y)?(U=R(U),le=R(le)):F.indentNextLinePattern&&F.indentNextLinePattern.test(Y)&&(U=R(U)),N++;for(let V=N;V<=O;V++){const H=A.getLineContent(V),$=k.getLeadingWhitespace(H),X=U+H.substring($.length);F.decreaseIndentPattern&&F.decreaseIndentPattern.test(X)&&(U=Z(U),le=Z(le)),$!==U&&se.push(_.EditOperation.replaceMove(new S.Selection(V,1,V,$.length+1),(0,r.normalizeIndentation)(U,z,j))),!(F.unIndentedLinePattern&&F.unIndentedLinePattern.test(H))&&(F.increaseIndentPattern&&F.increaseIndentPattern.test(X)?(le=R(le),U=le):F.indentNextLinePattern&&F.indentNextLinePattern.test(X)?U=R(U):U=le)}return se}e.getReindentEditOperations=h;class s extends L.EditorAction{constructor(){super({id:s.ID,label:t.localize(0,null),alias:"Convert Indentation to Spaces",precondition:f.EditorContextKeys.writable})}run(M,N){const O=N.getModel();if(!O)return;const x=O.getOptions(),F=N.getSelection();if(!F)return;const B=new T(F,x.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[B]),N.pushUndoStop(),O.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=s,s.ID="editor.action.indentationToSpaces";class u extends L.EditorAction{constructor(){super({id:u.ID,label:t.localize(1,null),alias:"Convert Indentation to Tabs",precondition:f.EditorContextKeys.writable})}run(M,N){const O=N.getModel();if(!O)return;const x=O.getOptions(),F=N.getSelection();if(!F)return;const B=new P(F,x.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[B]),N.pushUndoStop(),O.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=u,u.ID="editor.action.indentationToTabs";class a extends L.EditorAction{constructor(M,N,O){super(O),this.insertSpaces=M,this.displaySizeOnly=N}run(M,N){const O=M.get(n.IQuickInputService),x=M.get(o.IModelService),F=N.getModel();if(!F)return;const B=x.getCreationOptions(F.getLanguageId(),F.uri,F.isForSimpleWidget),z=F.getOptions(),j=[1,2,3,4,5,6,7,8].map(Z=>({id:Z.toString(),label:Z.toString(),description:Z===B.tabSize&&Z===z.tabSize?t.localize(2,null):Z===B.tabSize?t.localize(3,null):Z===z.tabSize?t.localize(4,null):void 0})),R=Math.min(F.getOptions().tabSize-1,7);setTimeout(()=>{O.pick(j,{placeHolder:t.localize(5,null),activeItem:j[R]}).then(Z=>{if(Z&&F&&!F.isDisposed()){const se=parseInt(Z.label,10);this.displaySizeOnly?F.updateOptions({tabSize:se}):F.updateOptions({tabSize:se,indentSize:se,insertSpaces:this.insertSpaces})}})},50)}}e.ChangeIndentationSizeAction=a;class d extends a{constructor(){super(!1,!1,{id:d.ID,label:t.localize(6,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=d,d.ID="editor.action.indentUsingTabs";class c extends a{constructor(){super(!0,!1,{id:c.ID,label:t.localize(7,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=c,c.ID="editor.action.indentUsingSpaces";class b extends a{constructor(){super(!0,!0,{id:b.ID,label:t.localize(8,null),alias:"Change Tab Display Size",precondition:void 0})}}e.ChangeTabDisplaySize=b,b.ID="editor.action.changeTabDisplaySize";class g extends L.EditorAction{constructor(){super({id:g.ID,label:t.localize(9,null),alias:"Detect Indentation from Content",precondition:void 0})}run(M,N){const O=M.get(o.IModelService),x=N.getModel();if(!x)return;const F=O.getCreationOptions(x.getLanguageId(),x.uri,x.isForSimpleWidget);x.detectIndentation(F.insertSpaces,F.tabSize)}}e.DetectIndentation=g,g.ID="editor.action.detectIndentation";class p extends L.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:t.localize(10,null),alias:"Reindent Lines",precondition:f.EditorContextKeys.writable})}run(M,N){const O=M.get(v.ILanguageConfigurationService),x=N.getModel();if(!x)return;const F=h(x,O,1,x.getLineCount());F.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,F),N.pushUndoStop())}}e.ReindentLinesAction=p;class C extends L.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:t.localize(11,null),alias:"Reindent Selected Lines",precondition:f.EditorContextKeys.writable})}run(M,N){const O=M.get(v.ILanguageConfigurationService),x=N.getModel();if(!x)return;const F=N.getSelections();if(F===null)return;const B=[];for(const z of F){let j=z.startLineNumber,R=z.endLineNumber;if(j!==R&&z.endColumn===1&&R--,j===1){if(j===R)continue}else j--;const Z=h(x,O,j,R);B.push(...Z)}B.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,B),N.pushUndoStop())}}e.ReindentSelectedLinesAction=C;class w{constructor(M,N){this._initialSelection=N,this._edits=[],this._selectionId=null;for(const O of M)O.range&&typeof O.text=="string"&&this._edits.push(O)}getEditOperations(M,N){for(const x of this._edits)N.addEditOperation(m.Range.lift(x.range),x.text);let O=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(O=!0,this._selectionId=N.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(O=!0,this._selectionId=N.trackSelection(this._initialSelection,!1))),O||(this._selectionId=N.trackSelection(this._initialSelection))}computeCursorState(M,N){return N.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=w;let E=class{constructor(M,N){this.editor=M,this._languageConfigurationService=N,this.callOnDispose=new y.DisposableStore,this.callOnModel=new y.DisposableStore,this.callOnDispose.add(M.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(M.onDidChangeModel(()=>this.update())),this.callOnDispose.add(M.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(11)<4||this.editor.getOption(54))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:M})=>{this.trigger(M)}))}trigger(M){const N=this.editor.getSelections();if(N===null||N.length>1)return;const O=this.editor.getModel();if(!O||!O.tokenization.isCheapToTokenize(M.getStartPosition().lineNumber))return;const x=this.editor.getOption(11),{tabSize:F,indentSize:B,insertSpaces:z}=O.getOptions(),j=[],R={shiftIndent:te=>D.ShiftCommand.shiftIndent(te,te.length+1,F,B,z),unshiftIndent:te=>D.ShiftCommand.unshiftIndent(te,te.length+1,F,B,z)};let Z=M.startLineNumber;for(;Z<=M.endLineNumber;){if(this.shouldIgnoreLine(O,Z)){Z++;continue}break}if(Z>M.endLineNumber)return;let se=O.getLineContent(Z);if(!/\S/.test(se.substring(0,M.startColumn-1))){const te=(0,l.getGoodIndentForLine)(x,O,O.getLanguageId(),Z,R,this._languageConfigurationService);if(te!==null){const Y=k.getLeadingWhitespace(se),U=i.getSpaceCnt(te,F),V=i.getSpaceCnt(Y,F);if(U!==V){const H=i.generateIndent(U,F,z);j.push({range:new m.Range(Z,1,Z,Y.length+1),text:H}),se=H+se.substr(Y.length)}else{const H=(0,l.getIndentMetadata)(O,Z,this._languageConfigurationService);if(H===0||H===8)return}}}const le=Z;for(;Z<M.endLineNumber;){if(!/\S/.test(O.getLineContent(Z+1))){Z++;continue}break}if(Z!==M.endLineNumber){const te={tokenization:{getLineTokens:U=>O.tokenization.getLineTokens(U),getLanguageId:()=>O.getLanguageId(),getLanguageIdAtPosition:(U,V)=>O.getLanguageIdAtPosition(U,V)},getLineContent:U=>U===le?se:O.getLineContent(U)},Y=(0,l.getGoodIndentForLine)(x,te,O.getLanguageId(),Z+1,R,this._languageConfigurationService);if(Y!==null){const U=i.getSpaceCnt(Y,F),V=i.getSpaceCnt(k.getLeadingWhitespace(O.getLineContent(Z+1)),F);if(U!==V){const H=U-V;for(let $=Z+1;$<=M.endLineNumber;$++){const X=O.getLineContent($),Q=k.getLeadingWhitespace(X),ce=i.getSpaceCnt(Q,F)+H,ae=i.generateIndent(ce,F,z);ae!==Q&&j.push({range:new m.Range($,1,$,Q.length+1),text:ae})}}}}if(j.length>0){this.editor.pushUndoStop();const te=new w(j,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",te),this.editor.pushUndoStop()}}shouldIgnoreLine(M,N){M.tokenization.forceTokenization(N);const O=M.getLineFirstNonWhitespaceColumn(N);if(O===0)return!0;const x=M.tokenization.getLineTokens(N);if(x.getCount()>0){const F=x.findTokenIndexAtOffset(O);if(F>=0&&x.getStandardTokenType(F)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};e.AutoIndentOnPaste=E,E.ID="editor.contrib.autoIndentOnPaste",e.AutoIndentOnPaste=E=Ne([fe(1,v.ILanguageConfigurationService)],E);function I(A,M,N,O){if(A.getLineCount()===1&&A.getLineMaxColumn(1)===1)return;let x="";for(let B=0;B<N;B++)x+=" ";const F=new RegExp(x,"gi");for(let B=1,z=A.getLineCount();B<=z;B++){let j=A.getLineFirstNonWhitespaceColumn(B);if(j===0&&(j=A.getLineMaxColumn(B)),j===1)continue;const R=new m.Range(B,1,B,j),Z=A.getValueInRange(R),se=O?Z.replace(/\t/ig,x):Z.replace(F,"	");M.addEditOperation(R,se)}}class T{constructor(M,N){this.selection=M,this.tabSize=N,this.selectionId=null}getEditOperations(M,N){this.selectionId=N.trackSelection(this.selection),I(M,N,this.tabSize,!0)}computeCursorState(M,N){return N.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=T;class P{constructor(M,N){this.selection=M,this.tabSize=N,this.selectionId=null}getEditOperations(M,N){this.selectionId=N.trackSelection(this.selection),I(M,N,this.tabSize,!1)}computeCursorState(M,N){return N.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=P,(0,L.registerEditorContribution)(E.ID,E,2),(0,L.registerEditorAction)(s),(0,L.registerEditorAction)(u),(0,L.registerEditorAction)(d),(0,L.registerEditorAction)(c),(0,L.registerEditorAction)(b),(0,L.registerEditorAction)(g),(0,L.registerEditorAction)(p),(0,L.registerEditorAction)(C)}),define(J[797],ee([1,0,16,206,20,674]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class _ extends y.EditorAction{constructor(){super({id:"expandLineSelection",label:D.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:L.EditorContextKeys.textInputFocus,primary:2090}})}run(S,f,v){if(v=v||{},!f.hasModel())return;const o=f._getViewModel();o.model.pushStackElement(),o.setCursorStates(v.source,3,k.CursorMoveCommands.expandLineSelection(o,o.getCursorStates())),o.revealPrimaryCursor(v.source,!0)}}e.ExpandLineSelectionAction=_,(0,y.registerEditorAction)(_)}),define(J[798],ee([1,0,64,191,16,125,478,247,72,11,5,24,20,540,771,541,675,29,31]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.CamelCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class u extends L.EditorAction{constructor($,X){super(X),this.down=$}run($,X){if(!X.hasModel())return;const Q=X.getSelections().map((ae,ue)=>({selection:ae,index:ue,ignore:!1}));Q.sort((ae,ue)=>v.Range.compareRangesUsingStarts(ae.selection,ue.selection));let de=Q[0];for(let ae=1;ae<Q.length;ae++){const ue=Q[ae];de.selection.endLineNumber===ue.selection.startLineNumber&&(de.index<ue.index?ue.ignore=!0:(de.ignore=!0,de=ue))}const ce=[];for(const ae of Q)ce.push(new t.CopyLinesCommand(ae.selection,this.down,ae.ignore));X.pushUndoStop(),X.executeCommands(this.id,ce),X.pushUndoStop()}}class a extends u{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:l.localize(0,null),alias:"Copy Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:l.localize(1,null),order:1}})}}class d extends u{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:l.localize(2,null),alias:"Copy Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:l.localize(3,null),order:2}})}}class c extends L.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:l.localize(4,null),alias:"Duplicate Selection",precondition:i.EditorContextKeys.writable,menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:l.localize(5,null),order:5}})}run($,X,Q){if(!X.hasModel())return;const de=[],ce=X.getSelections(),ae=X.getModel();for(const ue of ce)if(ue.isEmpty())de.push(new t.CopyLinesCommand(ue,!0));else{const q=new o.Selection(ue.endLineNumber,ue.endColumn,ue.endLineNumber,ue.endColumn);de.push(new D.ReplaceCommandThatSelectsText(q,ae.getValueInRange(ue)))}X.pushUndoStop(),X.executeCommands(this.id,de),X.pushUndoStop()}}e.DuplicateSelectionAction=c;class b extends L.EditorAction{constructor($,X){super(X),this.down=$}run($,X){const Q=$.get(s.ILanguageConfigurationService),de=[],ce=X.getSelections()||[],ae=X.getOption(11);for(const ue of ce)de.push(new n.MoveLinesCommand(ue,this.down,ae,Q));X.pushUndoStop(),X.executeCommands(this.id,de),X.pushUndoStop()}}class g extends b{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:l.localize(6,null),alias:"Move Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:l.localize(7,null),order:3}})}}class p extends b{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:l.localize(8,null),alias:"Move Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"2_line",title:l.localize(9,null),order:4}})}}class C extends L.EditorAction{constructor($,X){super(X),this.descending=$}run($,X){const Q=X.getSelections()||[];for(const ce of Q)if(!r.SortLinesCommand.canRun(X.getModel(),ce,this.descending))return;const de=[];for(let ce=0,ae=Q.length;ce<ae;ce++)de[ce]=new r.SortLinesCommand(Q[ce],this.descending);X.pushUndoStop(),X.executeCommands(this.id,de),X.pushUndoStop()}}e.AbstractSortLinesAction=C;class w extends C{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:l.localize(10,null),alias:"Sort Lines Ascending",precondition:i.EditorContextKeys.writable})}}e.SortLinesAscendingAction=w;class E extends C{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:l.localize(11,null),alias:"Sort Lines Descending",precondition:i.EditorContextKeys.writable})}}e.SortLinesDescendingAction=E;class I extends L.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:l.localize(12,null),alias:"Delete Duplicate Lines",precondition:i.EditorContextKeys.writable})}run($,X){if(!X.hasModel())return;const Q=X.getModel();if(Q.getLineCount()===1&&Q.getLineMaxColumn(1)===1)return;const de=[],ce=[];let ae=0;for(const ue of X.getSelections()){const q=new Set,W=[];for(let oe=ue.startLineNumber;oe<=ue.endLineNumber;oe++){const re=Q.getLineContent(oe);q.has(re)||(W.push(re),q.add(re))}const K=new o.Selection(ue.startLineNumber,1,ue.endLineNumber,Q.getLineMaxColumn(ue.endLineNumber)),ie=ue.startLineNumber-ae,ne=new o.Selection(ie,1,ie+W.length-1,W[W.length-1].length);de.push(S.EditOperation.replace(K,W.join(`
`))),ce.push(ne),ae+=ue.endLineNumber-ue.startLineNumber+1-W.length}X.pushUndoStop(),X.executeEdits(this.id,de,ce),X.pushUndoStop()}}e.DeleteDuplicateLinesAction=I;class T extends L.EditorAction{constructor(){super({id:T.ID,label:l.localize(13,null),alias:"Trim Trailing Whitespace",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2102),weight:100}})}run($,X,Q){let de=[];Q.reason==="auto-save"&&(de=(X.getSelections()||[]).map(ue=>new f.Position(ue.positionLineNumber,ue.positionColumn)));const ce=X.getSelection();if(ce===null)return;const ae=new _.TrimTrailingWhitespaceCommand(ce,de);X.pushUndoStop(),X.executeCommands(this.id,[ae]),X.pushUndoStop()}}e.TrimTrailingWhitespaceAction=T,T.ID="editor.action.trimTrailingWhitespace";class P extends L.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:l.localize(14,null),alias:"Delete Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run($,X){if(!X.hasModel())return;const Q=this._getLinesToRemove(X),de=X.getModel();if(de.getLineCount()===1&&de.getLineMaxColumn(1)===1)return;let ce=0;const ae=[],ue=[];for(let q=0,W=Q.length;q<W;q++){const K=Q[q];let ie=K.startLineNumber,ne=K.endLineNumber,oe=1,re=de.getLineMaxColumn(ne);ne<de.getLineCount()?(ne+=1,re=1):ie>1&&(ie-=1,oe=de.getLineMaxColumn(ie)),ae.push(S.EditOperation.replace(new o.Selection(ie,oe,ne,re),"")),ue.push(new o.Selection(ie-ce,K.positionColumn,ie-ce,K.positionColumn)),ce+=K.endLineNumber-K.startLineNumber+1}X.pushUndoStop(),X.executeEdits(this.id,ae,ue),X.pushUndoStop()}_getLinesToRemove($){const X=$.getSelections().map(ce=>{let ae=ce.endLineNumber;return ce.startLineNumber<ce.endLineNumber&&ce.endColumn===1&&(ae-=1),{startLineNumber:ce.startLineNumber,selectionStartColumn:ce.selectionStartColumn,endLineNumber:ae,positionColumn:ce.positionColumn}});X.sort((ce,ae)=>ce.startLineNumber===ae.startLineNumber?ce.endLineNumber-ae.endLineNumber:ce.startLineNumber-ae.startLineNumber);const Q=[];let de=X[0];for(let ce=1;ce<X.length;ce++)de.endLineNumber+1>=X[ce].startLineNumber?de.endLineNumber=X[ce].endLineNumber:(Q.push(de),de=X[ce]);return Q.push(de),Q}}e.DeleteLinesAction=P;class A extends L.EditorAction{constructor(){super({id:"editor.action.indentLines",label:l.localize(15,null),alias:"Indent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2142,weight:100}})}run($,X){const Q=X._getViewModel();Q&&(X.pushUndoStop(),X.executeCommands(this.id,m.TypeOperations.indent(Q.cursorConfig,X.getModel(),X.getSelections())),X.pushUndoStop())}}e.IndentLinesAction=A;class M extends L.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:l.localize(16,null),alias:"Outdent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2140,weight:100}})}run($,X){k.CoreEditingCommands.Outdent.runEditorCommand($,X,null)}}class N extends L.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:l.localize(17,null),alias:"Insert Line Above",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run($,X){const Q=X._getViewModel();Q&&(X.pushUndoStop(),X.executeCommands(this.id,m.TypeOperations.lineInsertBefore(Q.cursorConfig,X.getModel(),X.getSelections())))}}e.InsertLineBeforeAction=N;class O extends L.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:l.localize(18,null),alias:"Insert Line Below",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run($,X){const Q=X._getViewModel();Q&&(X.pushUndoStop(),X.executeCommands(this.id,m.TypeOperations.lineInsertAfter(Q.cursorConfig,X.getModel(),X.getSelections())))}}e.InsertLineAfterAction=O;class x extends L.EditorAction{run($,X){if(!X.hasModel())return;const Q=X.getSelection(),de=this._getRangesToDelete(X),ce=[];for(let q=0,W=de.length-1;q<W;q++){const K=de[q],ie=de[q+1];v.Range.intersectRanges(K,ie)===null?ce.push(K):de[q+1]=v.Range.plusRange(K,ie)}ce.push(de[de.length-1]);const ae=this._getEndCursorState(Q,ce),ue=ce.map(q=>S.EditOperation.replace(q,""));X.pushUndoStop(),X.executeEdits(this.id,ue,ae),X.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=x;class F extends x{constructor(){super({id:"deleteAllLeft",label:l.localize(19,null),alias:"Delete All Left",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState($,X){let Q=null;const de=[];let ce=0;return X.forEach(ae=>{let ue;if(ae.endColumn===1&&ce>0){const q=ae.startLineNumber-ce;ue=new o.Selection(q,ae.startColumn,q,ae.startColumn)}else ue=new o.Selection(ae.startLineNumber,ae.startColumn,ae.startLineNumber,ae.startColumn);ce+=ae.endLineNumber-ae.startLineNumber,ae.intersectRanges($)?Q=ue:de.push(ue)}),Q&&de.unshift(Q),de}_getRangesToDelete($){const X=$.getSelections();if(X===null)return[];let Q=X;const de=$.getModel();return de===null?[]:(Q.sort(v.Range.compareRangesUsingStarts),Q=Q.map(ce=>{if(ce.isEmpty())if(ce.startColumn===1){const ae=Math.max(1,ce.startLineNumber-1),ue=ce.startLineNumber===1?1:de.getLineContent(ae).length+1;return new v.Range(ae,ue,ce.startLineNumber,1)}else return new v.Range(ce.startLineNumber,1,ce.startLineNumber,ce.startColumn);else return new v.Range(ce.startLineNumber,1,ce.endLineNumber,ce.endColumn)}),Q)}}e.DeleteAllLeftAction=F;class B extends x{constructor(){super({id:"deleteAllRight",label:l.localize(20,null),alias:"Delete All Right",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState($,X){let Q=null;const de=[];for(let ce=0,ae=X.length,ue=0;ce<ae;ce++){const q=X[ce],W=new o.Selection(q.startLineNumber-ue,q.startColumn,q.startLineNumber-ue,q.startColumn);q.intersectRanges($)?Q=W:de.push(W)}return Q&&de.unshift(Q),de}_getRangesToDelete($){const X=$.getModel();if(X===null)return[];const Q=$.getSelections();if(Q===null)return[];const de=Q.map(ce=>{if(ce.isEmpty()){const ae=X.getLineMaxColumn(ce.startLineNumber);return ce.startColumn===ae?new v.Range(ce.startLineNumber,ce.startColumn,ce.startLineNumber+1,1):new v.Range(ce.startLineNumber,ce.startColumn,ce.startLineNumber,ae)}return ce});return de.sort(v.Range.compareRangesUsingStarts),de}}e.DeleteAllRightAction=B;class z extends L.EditorAction{constructor(){super({id:"editor.action.joinLines",label:l.localize(21,null),alias:"Join Lines",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run($,X){const Q=X.getSelections();if(Q===null)return;let de=X.getSelection();if(de===null)return;Q.sort(v.Range.compareRangesUsingStarts);const ce=[],ae=Q.reduce((ne,oe)=>ne.isEmpty()?ne.endLineNumber===oe.startLineNumber?(de.equalsSelection(ne)&&(de=oe),oe):oe.startLineNumber>ne.endLineNumber+1?(ce.push(ne),oe):new o.Selection(ne.startLineNumber,ne.startColumn,oe.endLineNumber,oe.endColumn):oe.startLineNumber>ne.endLineNumber?(ce.push(ne),oe):new o.Selection(ne.startLineNumber,ne.startColumn,oe.endLineNumber,oe.endColumn));ce.push(ae);const ue=X.getModel();if(ue===null)return;const q=[],W=[];let K=de,ie=0;for(let ne=0,oe=ce.length;ne<oe;ne++){const re=ce[ne],ge=re.startLineNumber,ve=1;let we=0,ye,Ie;const Ee=ue.getLineContent(re.endLineNumber).length-re.endColumn;if(re.isEmpty()||re.startLineNumber===re.endLineNumber){const Te=re.getStartPosition();Te.lineNumber<ue.getLineCount()?(ye=ge+1,Ie=ue.getLineMaxColumn(ye)):(ye=Te.lineNumber,Ie=ue.getLineMaxColumn(Te.lineNumber))}else ye=re.endLineNumber,Ie=ue.getLineMaxColumn(ye);let De=ue.getLineContent(ge);for(let Te=ge+1;Te<=ye;Te++){const be=ue.getLineContent(Te),me=ue.getLineFirstNonWhitespaceColumn(Te);if(me>=1){let Se=!0;De===""&&(Se=!1),Se&&(De.charAt(De.length-1)===" "||De.charAt(De.length-1)==="	")&&(Se=!1,De=De.replace(/[\s\uFEFF\xA0]+$/g," "));const he=be.substr(me-1);De+=(Se?" ":"")+he,Se?we=he.length+1:we=he.length}else we=0}const Ae=new v.Range(ge,ve,ye,Ie);if(!Ae.isEmpty()){let Te;re.isEmpty()?(q.push(S.EditOperation.replace(Ae,De)),Te=new o.Selection(Ae.startLineNumber-ie,De.length-we+1,ge-ie,De.length-we+1)):re.startLineNumber===re.endLineNumber?(q.push(S.EditOperation.replace(Ae,De)),Te=new o.Selection(re.startLineNumber-ie,re.startColumn,re.endLineNumber-ie,re.endColumn)):(q.push(S.EditOperation.replace(Ae,De)),Te=new o.Selection(re.startLineNumber-ie,re.startColumn,re.startLineNumber-ie,De.length-Ee)),v.Range.intersectRanges(Ae,de)!==null?K=Te:W.push(Te)}ie+=Ae.endLineNumber-Ae.startLineNumber}W.unshift(K),X.pushUndoStop(),X.executeEdits(this.id,q,W),X.pushUndoStop()}}e.JoinLinesAction=z;class j extends L.EditorAction{constructor(){super({id:"editor.action.transpose",label:l.localize(22,null),alias:"Transpose characters around the cursor",precondition:i.EditorContextKeys.writable})}run($,X){const Q=X.getSelections();if(Q===null)return;const de=X.getModel();if(de===null)return;const ce=[];for(let ae=0,ue=Q.length;ae<ue;ae++){const q=Q[ae];if(!q.isEmpty())continue;const W=q.getStartPosition(),K=de.getLineMaxColumn(W.lineNumber);if(W.column>=K){if(W.lineNumber===de.getLineCount())continue;const ie=new v.Range(W.lineNumber,Math.max(1,W.column-1),W.lineNumber+1,1),ne=de.getValueInRange(ie).split("").reverse().join("");ce.push(new D.ReplaceCommand(new o.Selection(W.lineNumber,Math.max(1,W.column-1),W.lineNumber+1,1),ne))}else{const ie=new v.Range(W.lineNumber,Math.max(1,W.column-1),W.lineNumber,W.column+1),ne=de.getValueInRange(ie).split("").reverse().join("");ce.push(new D.ReplaceCommandThatPreservesSelection(ie,ne,new o.Selection(W.lineNumber,W.column+1,W.lineNumber,W.column+1)))}}X.pushUndoStop(),X.executeCommands(this.id,ce),X.pushUndoStop()}}e.TransposeAction=j;class R extends L.EditorAction{run($,X){const Q=X.getSelections();if(Q===null)return;const de=X.getModel();if(de===null)return;const ce=X.getOption(128),ae=[];for(const ue of Q)if(ue.isEmpty()){const q=ue.getStartPosition(),W=X.getConfiguredWordAtPosition(q);if(!W)continue;const K=new v.Range(q.lineNumber,W.startColumn,q.lineNumber,W.endColumn),ie=de.getValueInRange(K);ae.push(S.EditOperation.replace(K,this._modifyText(ie,ce)))}else{const q=de.getValueInRange(ue);ae.push(S.EditOperation.replace(ue,this._modifyText(q,ce)))}X.pushUndoStop(),X.executeEdits(this.id,ae),X.pushUndoStop()}}e.AbstractCaseAction=R;class Z extends R{constructor(){super({id:"editor.action.transformToUppercase",label:l.localize(23,null),alias:"Transform to Uppercase",precondition:i.EditorContextKeys.writable})}_modifyText($,X){return $.toLocaleUpperCase()}}e.UpperCaseAction=Z;class se extends R{constructor(){super({id:"editor.action.transformToLowercase",label:l.localize(24,null),alias:"Transform to Lowercase",precondition:i.EditorContextKeys.writable})}_modifyText($,X){return $.toLocaleLowerCase()}}e.LowerCaseAction=se;class le{constructor($,X){this._pattern=$,this._flags=X,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class te extends R{constructor(){super({id:"editor.action.transformToTitlecase",label:l.localize(25,null),alias:"Transform to Title Case",precondition:i.EditorContextKeys.writable})}_modifyText($,X){const Q=te.titleBoundary.get();return Q?$.toLocaleLowerCase().replace(Q,de=>de.toLocaleUpperCase()):$}}e.TitleCaseAction=te,te.titleBoundary=new le("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Y extends R{constructor(){super({id:"editor.action.transformToSnakecase",label:l.localize(26,null),alias:"Transform to Snake Case",precondition:i.EditorContextKeys.writable})}_modifyText($,X){const Q=Y.caseBoundary.get(),de=Y.singleLetters.get();return!Q||!de?$:$.replace(Q,"$1_$2").replace(de,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=Y,Y.caseBoundary=new le("(\\p{Ll})(\\p{Lu})","gmu"),Y.singleLetters=new le("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class U extends R{constructor(){super({id:"editor.action.transformToCamelcase",label:l.localize(27,null),alias:"Transform to Camel Case",precondition:i.EditorContextKeys.writable})}_modifyText($,X){const Q=U.wordBoundary.get();if(!Q)return $;const de=$.split(Q);return de.shift()+de.map(ae=>ae.substring(0,1).toLocaleUpperCase()+ae.substring(1)).join("")}}e.CamelCaseAction=U,U.wordBoundary=new le("[_\\s-]","gm");class V extends R{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(X=>X.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:l.localize(28,null),alias:"Transform to Kebab Case",precondition:i.EditorContextKeys.writable})}_modifyText($,X){const Q=V.caseBoundary.get(),de=V.singleLetters.get(),ce=V.underscoreBoundary.get();return!Q||!de||!ce?$:$.replace(ce,"$1-$3").replace(Q,"$1-$2").replace(de,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=V,V.caseBoundary=new le("(\\p{Ll})(\\p{Lu})","gmu"),V.singleLetters=new le("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),V.underscoreBoundary=new le("(\\S)(_)(\\S)","gm"),(0,L.registerEditorAction)(a),(0,L.registerEditorAction)(d),(0,L.registerEditorAction)(c),(0,L.registerEditorAction)(g),(0,L.registerEditorAction)(p),(0,L.registerEditorAction)(w),(0,L.registerEditorAction)(E),(0,L.registerEditorAction)(I),(0,L.registerEditorAction)(T),(0,L.registerEditorAction)(P),(0,L.registerEditorAction)(A),(0,L.registerEditorAction)(M),(0,L.registerEditorAction)(N),(0,L.registerEditorAction)(O),(0,L.registerEditorAction)(F),(0,L.registerEditorAction)(B),(0,L.registerEditorAction)(z),(0,L.registerEditorAction)(j),(0,L.registerEditorAction)(Z),(0,L.registerEditorAction)(se),Y.caseBoundary.isSupported()&&Y.singleLetters.isSupported()&&(0,L.registerEditorAction)(Y),U.wordBoundary.isSupported()&&(0,L.registerEditorAction)(U),te.titleBoundary.isSupported()&&(0,L.registerEditorAction)(te),V.isSupported()&&(0,L.registerEditorAction)(V)}),define(J[799],ee([1,0,2,16]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends y.Disposable{constructor(_){super(),this._editor=_,this._register(this._editor.onMouseDown(m=>{const S=this._editor.getOption(115);S>=0&&m.target.type===6&&m.target.position.column>=S&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}L.ID="editor.contrib.longLinesHelper",(0,k.registerEditorContribution)(L.ID,L,2)}),define(J[192],ee([1,0,185,48,6,55,2,16,5,117,678,14,56,7,451]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let n=class hi{static get(s){return s.getContribution(hi.ID)}constructor(s,u,a){this._openerService=a,this._messageWidget=new _.MutableDisposable,this._messageListeners=new _.DisposableStore,this._mouseOverMessage=!1,this._editor=s,this._visible=hi.MESSAGE_VISIBLE.bindTo(u)}dispose(){var s;(s=this._message)===null||s===void 0||s.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(s,u){(0,k.alert)((0,D.isMarkdownString)(s)?s.value:s),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,D.isMarkdownString)(s)?(0,y.renderMarkdown)(s,{actionHandler:{callback:d=>(0,f.openLinkFromMarkdown)(this._openerService,d,(0,D.isMarkdownString)(s)?s.isTrusted:void 0),disposables:this._messageListeners}}):void 0,this._messageWidget.value=new l(this._editor,u,typeof s=="string"?s:this._message.element),this._messageListeners.add(L.Event.debounce(this._editor.onDidBlurEditorText,(d,c)=>c,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&t.isAncestor(document.activeElement,this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(t.addDisposableListener(this._messageWidget.value.getDomNode(),t.EventType.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(t.addDisposableListener(this._messageWidget.value.getDomNode(),t.EventType.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let a;this._messageListeners.add(this._editor.onMouseMove(d=>{d.target.position&&(a?a.containsPosition(d.target.position)||this.closeMessage():a=new S.Range(u.lineNumber-3,1,d.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(l.fadeOut(this._messageWidget.value))}};e.MessageController=n,n.ID="editor.contrib.messageController",n.MESSAGE_VISIBLE=new o.RawContextKey("messageVisible",!1,v.localize(0,null)),e.MessageController=n=Ne([fe(1,o.IContextKeyService),fe(2,i.IOpenerService)],n);const r=m.EditorCommand.bindToContribution(n.get);(0,m.registerEditorCommand)(new r({id:"leaveEditorMessage",precondition:n.MESSAGE_VISIBLE,handler:h=>h.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class l{static fadeOut(s){const u=()=>{s.dispose(),clearTimeout(a),s.getDomNode().removeEventListener("animationend",u)},a=setTimeout(u,110);return s.getDomNode().addEventListener("animationend",u),s.getDomNode().classList.add("fadeOut"),{dispose:u}}constructor(s,{lineNumber:u,column:a},d){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=s,this._editor.revealLinesInCenterIfOutsideViewport(u,u,0),this._position={lineNumber:u,column:a},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const c=document.createElement("div");c.classList.add("anchor","top"),this._domNode.appendChild(c);const b=document.createElement("div");typeof d=="string"?(b.classList.add("message"),b.textContent=d):(d.classList.add("message"),b.appendChild(d)),this._domNode.appendChild(b);const g=document.createElement("div");g.classList.add("anchor","below"),this._domNode.appendChild(g),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(s){this._domNode.classList.toggle("below",s===2)}}(0,m.registerEditorContribution)(n.ID,n,4)}),define(J[800],ee([1,0,55,2,16,192,685]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class m extends k.Disposable{constructor(f){super(),this.editor=f,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const f=D.MessageController.get(this.editor);if(f&&this.editor.hasModel()){let v=this.editor.getOptions().get(90);v||(this.editor.isSimpleWidget?v=new y.MarkdownString(_.localize(0,null)):v=new y.MarkdownString(_.localize(1,null))),f.showMessage(v,this.editor.getPosition())}}}e.ReadOnlyMessageController=m,m.ID="editor.contrib.readOnlyMessageController",(0,L.registerEditorContribution)(m.ID,m,2)}),define(J[801],ee([1,0,15,21,12,16,11,5,24,20,296,542,688,29,25,19,69,18,22]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=e.SmartSelectController=void 0;class u{constructor(C,w){this.index=C,this.ranges=w}mov(C){const w=this.index+(C?1:-1);if(w<0||w>=this.ranges.length)return this;const E=new u(w,this.ranges);return E.ranges[w].equalsRange(this.ranges[this.index])?E.mov(C):E}}let a=class zi{static get(C){return C.getContribution(zi.ID)}constructor(C,w){this._editor=C,this._languageFeaturesService=w,this._ignoreSelection=!1}dispose(){var C;(C=this._selectionListener)===null||C===void 0||C.dispose()}run(C){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const w=this._editor.getSelections(),E=this._editor.getModel();if(this._state||(yield g(this._languageFeaturesService.selectionRangeProvider,E,w.map(T=>T.getPosition()),this._editor.getOption(111),k.CancellationToken.None).then(T=>{var P;if(!(!y.isNonEmptyArray(T)||T.length!==w.length)&&!(!this._editor.hasModel()||!y.equals(this._editor.getSelections(),w,(A,M)=>A.equalsSelection(M)))){for(let A=0;A<T.length;A++)T[A]=T[A].filter(M=>M.containsPosition(w[A].getStartPosition())&&M.containsPosition(w[A].getEndPosition())),T[A].unshift(w[A]);this._state=T.map(A=>new u(0,A)),(P=this._selectionListener)===null||P===void 0||P.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var A;this._ignoreSelection||((A=this._selectionListener)===null||A===void 0||A.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(T=>T.mov(C));const I=this._state.map(T=>S.Selection.fromPositions(T.ranges[T.index].getStartPosition(),T.ranges[T.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(I)}finally{this._ignoreSelection=!1}})}};e.SmartSelectController=a,a.ID="editor.contrib.smartSelectController",e.SmartSelectController=a=Ne([fe(1,r.ILanguageFeaturesService)],a);class d extends D.EditorAction{constructor(C,w){super(w),this._forward=C}run(C,w){return Le(this,void 0,void 0,function*(){const E=a.get(w);E&&(yield E.run(this._forward))})}}class c extends d{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:i.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:i.localize(1,null),order:2}})}}n.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class b extends d{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:i.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:i.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(a.ID,a,4),(0,D.registerEditorAction)(c),(0,D.registerEditorAction)(b);function g(p,C,w,E,I){return Le(this,void 0,void 0,function*(){const T=p.all(C).concat(new o.WordSelectionRangeProvider(E.selectSubwords));T.length===1&&T.unshift(new v.BracketSelectionRangeProvider);const P=[],A=[];for(const M of T)P.push(Promise.resolve(M.provideSelectionRanges(C,w,I)).then(N=>{if(y.isNonEmptyArray(N)&&N.length===w.length)for(let O=0;O<w.length;O++){A[O]||(A[O]=[]);for(const x of N[O])m.Range.isIRange(x.range)&&m.Range.containsPosition(x.range,w[O])&&A[O].push(m.Range.lift(x.range))}},L.onUnexpectedExternalError));return yield Promise.all(P),A.map(M=>{if(M.length===0)return[];M.sort((F,B)=>_.Position.isBefore(F.getStartPosition(),B.getStartPosition())?1:_.Position.isBefore(B.getStartPosition(),F.getStartPosition())||_.Position.isBefore(F.getEndPosition(),B.getEndPosition())?-1:_.Position.isBefore(B.getEndPosition(),F.getEndPosition())?1:0);const N=[];let O;for(const F of M)(!O||m.Range.containsRange(F,O)&&!m.Range.equalsRange(F,O))&&(N.push(F),O=F);if(!E.selectLeadingAndTrailingWhitespace)return N;const x=[N[0]];for(let F=1;F<N.length;F++){const B=N[F-1],z=N[F];if(z.startLineNumber!==B.startLineNumber||z.endLineNumber!==B.endLineNumber){const j=new m.Range(B.startLineNumber,C.getLineFirstNonWhitespaceColumn(B.startLineNumber),B.endLineNumber,C.getLineLastNonWhitespaceColumn(B.endLineNumber));j.containsRange(B)&&!j.equalsRange(B)&&z.containsRange(j)&&!z.equalsRange(j)&&x.push(j);const R=new m.Range(B.startLineNumber,1,B.endLineNumber,C.getLineMaxColumn(B.endLineNumber));R.containsRange(B)&&!R.equalsRange(j)&&z.containsRange(R)&&!z.equalsRange(R)&&x.push(R)}x.push(z)}return x})})}e.provideSelectionRanges=g,n.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",function(p,...C){return Le(this,void 0,void 0,function*(){const[w,E]=C;(0,h.assertType)(s.URI.isUri(w));const I=p.get(r.ILanguageFeaturesService).selectionRangeProvider,T=yield p.get(l.ITextModelService).createModelReference(w);try{return g(I,T.object.textEditorModel,E,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},k.CancellationToken.None)}finally{T.dispose()}})})}),define(J[802],ee([1,0,21,71,51,2,16,33,5,19,297,136,343,298,96,8]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class l{constructor(d,c,b,g,p,C){this.range=d,this.insertText=c,this.filterText=b,this.additionalTextEdits=g,this.command=p,this.completion=C}}let h=class extends D.RefCountedDisposable{constructor(d,c,b,g,p,C){super(p.disposable),this.model=d,this.line=c,this.word=b,this.completionModel=g,this._suggestMemoryService=C}canBeReused(d,c,b){return this.model===d&&this.line===c&&this.word.word.length>0&&this.word.startColumn===b.startColumn&&this.word.endColumn<b.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var d;const c=[],{items:b}=this.completionModel,g=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},b),p=L.Iterable.slice(b,g),C=L.Iterable.slice(b,0,g);let w=5;for(const E of L.Iterable.concat(p,C)){if(E.score===k.FuzzyScore.Default)continue;const I=new S.Range(E.editStart.lineNumber,E.editStart.column,E.editInsertEnd.lineNumber,E.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),T=E.completion.insertTextRules&&E.completion.insertTextRules&4?{snippet:E.completion.insertText}:E.completion.insertText;c.push(new l(I,T,(d=E.filterTextLow)!==null&&d!==void 0?d:E.labelLow,E.completion.additionalTextEdits,E.completion.command,E)),w-->=0&&E.resolve(y.CancellationToken.None)}return c}};h=Ne([fe(5,i.ISuggestMemoryService)],h);let s=class{constructor(d,c,b,g){this._getEditorOption=d,this._languageFeatureService=c,this._clipboardService=b,this._suggestMemoryService=g}provideInlineCompletions(d,c,b,g){var p;return Le(this,void 0,void 0,function*(){if(b.selectedSuggestionInfo)return;const C=this._getEditorOption(87,d);if(o.QuickSuggestionsOptions.isAllOff(C))return;d.tokenization.tokenizeIfCheap(c.lineNumber);const w=d.tokenization.getLineTokens(c.lineNumber),E=w.getStandardTokenType(w.findTokenIndexAtOffset(Math.max(c.column-1-1,0)));if(o.QuickSuggestionsOptions.valueFor(C,E)!=="inline")return;let I=d.getWordAtPosition(c),T;if(I?.word||(T=this._getTriggerCharacterInfo(d,c)),!I?.word&&!T||(I||(I=d.getWordUntilPosition(c)),I.endColumn!==c.column))return;let P;const A=d.getValueInRange(new S.Range(c.lineNumber,1,c.lineNumber,c.column));if(!T&&(!((p=this._lastResult)===null||p===void 0)&&p.canBeReused(d,c.lineNumber,I))){const M=new v.LineContext(A,c.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=M,this._lastResult.acquire(),P=this._lastResult}else{const M=yield(0,o.provideSuggestionItems)(this._languageFeatureService.completionProvider,d,c,new o.CompletionOptions(void 0,void 0,T?.providers),T&&{triggerKind:1,triggerCharacter:T.ch},g);let N;M.needsClipboard&&(N=yield this._clipboardService.readText());const O=new v.CompletionModel(M.items,c.column,new v.LineContext(A,0),t.WordDistance.None,this._getEditorOption(116,d),this._getEditorOption(110,d),{boostFullMatch:!1,firstMatchCanBeWeak:!1},N);P=new h(d,c.lineNumber,I,O,M,this._suggestMemoryService)}return this._lastResult=P,P})}handleItemDidShow(d,c){c.completion.resolve(y.CancellationToken.None)}freeInlineCompletions(d){d.release()}_getTriggerCharacterInfo(d,c){var b;const g=d.getValueInRange(S.Range.fromPositions({lineNumber:c.lineNumber,column:c.column-1},c)),p=new Set;for(const C of this._languageFeatureService.completionProvider.all(d))!((b=C.triggerCharacters)===null||b===void 0)&&b.includes(g)&&p.add(C);if(p.size!==0)return{providers:p,ch:g}}};e.SuggestInlineCompletions=s,e.SuggestInlineCompletions=s=Ne([fe(1,f.ILanguageFeaturesService),fe(2,n.IClipboardService),fe(3,i.ISuggestMemoryService)],s);let u=class Bt{constructor(d,c,b,g){if(++Bt._counter===1){const p=g.createInstance(s,(C,w)=>{var E;return((E=b.listCodeEditors().find(T=>T.getModel()===w))!==null&&E!==void 0?E:d).getOption(C)});Bt._disposable=c.inlineCompletionsProvider.register("*",p)}}dispose(){var d;--Bt._counter===0&&((d=Bt._disposable)===null||d===void 0||d.dispose(),Bt._disposable=void 0)}};u._counter=0,u=Ne([fe(1,f.ILanguageFeaturesService),fe(2,m.ICodeEditorService),fe(3,r.IInstantiationService)],u),(0,_.registerEditorContribution)("suggest.inlineCompletionsProvider",u,0)}),define(J[803],ee([1,0,59,16,700]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:L.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(m,S){if(!S.hasModel())return;const f=S.getModel();f.tokenization.resetTokenization();const v=new y.StopWatch;f.tokenization.forceTokenization(f.getLineCount()),v.stop(),console.log(`tokenization took ${v.elapsed()}`)}}(0,k.registerEditorAction)(D)}),define(J[804],ee([1,0,2,43,16,33,702,159]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const S="ignoreUnusualLineTerminators";function f(i,t,n){i.setModelProperty(t.uri,S,n)}function v(i,t){return i.getModelProperty(t.uri,S)}let o=class extends y.Disposable{constructor(t,n,r){super(),this._editor=t,this._dialogService=n,this._codeEditorService=r,this._isPresentingDialog=!1,this._config=this._editor.getOption(124),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(124)&&(this._config=this._editor.getOption(124),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(l=>{l.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return Le(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const t=this._editor.getModel();if(!t.mightContainUnusualLineTerminators()||v(this._codeEditorService,t)===!0||this._editor.getOption(89))return;if(this._config==="auto"){t.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let r;try{this._isPresentingDialog=!0,r=yield this._dialogService.confirm({title:_.localize(0,null),message:_.localize(1,null),detail:_.localize(2,null,(0,k.basename)(t.uri)),primaryButton:_.localize(3,null),cancelButton:_.localize(4,null)})}finally{this._isPresentingDialog=!1}if(!r.confirmed){f(this._codeEditorService,t,!0);return}t.removeUnusualLineTerminators(this._editor.getSelections())})}};e.UnusualLineTerminatorsDetector=o,o.ID="editor.contrib.unusualLineTerminatorsDetector",e.UnusualLineTerminatorsDetector=o=Ne([fe(1,m.IDialogService),fe(2,D.ICodeEditorService)],o),(0,L.registerEditorContribution)(o.ID,o,1)}),define(J[349],ee([1,0,16,125,36,73,180,148,11,5,24,20,31,705,83,14,240]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class h extends y.EditorCommand{constructor(U){super(U),this._inSelectionMode=U.inSelectionMode,this._wordNavigationType=U.wordNavigationType}runEditorCommand(U,V,H){if(!V.hasModel())return;const $=(0,m.getMapForWordSeparators)(V.getOption(128)),X=V.getModel(),de=V.getSelections().map(ce=>{const ae=new S.Position(ce.positionLineNumber,ce.positionColumn),ue=this._move($,X,ae,this._wordNavigationType);return this._moveTo(ce,ue,this._inSelectionMode)});if(X.pushStackElement(),V._getViewModel().setCursorStates("moveWordCommand",3,de.map(ce=>D.CursorState.fromModelSelection(ce))),de.length===1){const ce=new S.Position(de[0].positionLineNumber,de[0].positionColumn);V.revealPosition(ce,0)}}_moveTo(U,V,H){return H?new v.Selection(U.selectionStartLineNumber,U.selectionStartColumn,V.lineNumber,V.column):new v.Selection(V.lineNumber,V.column,V.lineNumber,V.column)}}e.MoveWordCommand=h;class s extends h{_move(U,V,H,$){return _.WordOperations.moveWordLeft(U,V,H,$)}}e.WordLeftCommand=s;class u extends h{_move(U,V,H,$){return _.WordOperations.moveWordRight(U,V,H,$)}}e.WordRightCommand=u;class a extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=a;class d extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=d;class c extends s{constructor(){var U;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,(U=r.ContextKeyExpr.and(n.CONTEXT_ACCESSIBILITY_MODE_ENABLED,l.IsWindowsContext))===null||U===void 0?void 0:U.negate()),primary:2063,mac:{primary:527},weight:100}})}}e.CursorWordLeft=c;class b extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=b;class g extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=g;class p extends s{constructor(){var U;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,(U=r.ContextKeyExpr.and(n.CONTEXT_ACCESSIBILITY_MODE_ENABLED,l.IsWindowsContext))===null||U===void 0?void 0:U.negate()),primary:3087,mac:{primary:1551},weight:100}})}}e.CursorWordLeftSelect=p;class C extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(U,V,H,$){return super._move((0,m.getMapForWordSeparators)(L.EditorOptions.wordSeparators.defaultValue),V,H,$)}}e.CursorWordAccessibilityLeft=C;class w extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(U,V,H,$){return super._move((0,m.getMapForWordSeparators)(L.EditorOptions.wordSeparators.defaultValue),V,H,$)}}e.CursorWordAccessibilityLeftSelect=w;class E extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class I extends u{constructor(){var U;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,(U=r.ContextKeyExpr.and(n.CONTEXT_ACCESSIBILITY_MODE_ENABLED,l.IsWindowsContext))===null||U===void 0?void 0:U.negate()),primary:2065,mac:{primary:529},weight:100}})}}e.CursorWordEndRight=I;class T extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=T;class P extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=P;class A extends u{constructor(){var U;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,(U=r.ContextKeyExpr.and(n.CONTEXT_ACCESSIBILITY_MODE_ENABLED,l.IsWindowsContext))===null||U===void 0?void 0:U.negate()),primary:3089,mac:{primary:1553},weight:100}})}}e.CursorWordEndRightSelect=A;class M extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=M;class N extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(U,V,H,$){return super._move((0,m.getMapForWordSeparators)(L.EditorOptions.wordSeparators.defaultValue),V,H,$)}}e.CursorWordAccessibilityRight=N;class O extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(U,V,H,$){return super._move((0,m.getMapForWordSeparators)(L.EditorOptions.wordSeparators.defaultValue),V,H,$)}}e.CursorWordAccessibilityRightSelect=O;class x extends y.EditorCommand{constructor(U){super(U),this._whitespaceHeuristics=U.whitespaceHeuristics,this._wordNavigationType=U.wordNavigationType}runEditorCommand(U,V,H){const $=U.get(i.ILanguageConfigurationService);if(!V.hasModel())return;const X=(0,m.getMapForWordSeparators)(V.getOption(128)),Q=V.getModel(),de=V.getSelections(),ce=V.getOption(6),ae=V.getOption(10),ue=$.getLanguageConfiguration(Q.getLanguageId()).getAutoClosingPairs(),q=V._getViewModel(),W=de.map(K=>{const ie=this._delete({wordSeparators:X,model:Q,selection:K,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:V.getOption(8),autoClosingBrackets:ce,autoClosingQuotes:ae,autoClosingPairs:ue,autoClosedCharacters:q.getCursorAutoClosedCharacters()},this._wordNavigationType);return new k.ReplaceCommand(ie,"")});V.pushUndoStop(),V.executeCommands(this.id,W),V.pushUndoStop()}}e.DeleteWordCommand=x;class F extends x{_delete(U,V){const H=_.WordOperations.deleteWordLeft(U,V);return H||new f.Range(1,1,1,1)}}e.DeleteWordLeftCommand=F;class B extends x{_delete(U,V){const H=_.WordOperations.deleteWordRight(U,V);if(H)return H;const $=U.model.getLineCount(),X=U.model.getLineMaxColumn($);return new f.Range($,X,$,X)}}e.DeleteWordRightCommand=B;class z extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:o.EditorContextKeys.writable})}}e.DeleteWordStartLeft=z;class j extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:o.EditorContextKeys.writable})}}e.DeleteWordEndLeft=j;class R extends F{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}e.DeleteWordLeft=R;class Z extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:o.EditorContextKeys.writable})}}e.DeleteWordStartRight=Z;class se extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:o.EditorContextKeys.writable})}}e.DeleteWordEndRight=se;class le extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}e.DeleteWordRight=le;class te extends y.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:o.EditorContextKeys.writable,label:t.localize(0,null),alias:"Delete Word"})}run(U,V,H){if(!V.hasModel())return;const $=(0,m.getMapForWordSeparators)(V.getOption(128)),X=V.getModel(),de=V.getSelections().map(ce=>{const ae=_.WordOperations.deleteInsideWord($,X,ce);return new k.ReplaceCommand(ae,"")});V.pushUndoStop(),V.executeCommands(this.id,de),V.pushUndoStop()}}e.DeleteInsideWord=te,(0,y.registerEditorCommand)(new a),(0,y.registerEditorCommand)(new d),(0,y.registerEditorCommand)(new c),(0,y.registerEditorCommand)(new b),(0,y.registerEditorCommand)(new g),(0,y.registerEditorCommand)(new p),(0,y.registerEditorCommand)(new E),(0,y.registerEditorCommand)(new I),(0,y.registerEditorCommand)(new T),(0,y.registerEditorCommand)(new P),(0,y.registerEditorCommand)(new A),(0,y.registerEditorCommand)(new M),(0,y.registerEditorCommand)(new C),(0,y.registerEditorCommand)(new w),(0,y.registerEditorCommand)(new N),(0,y.registerEditorCommand)(new O),(0,y.registerEditorCommand)(new z),(0,y.registerEditorCommand)(new j),(0,y.registerEditorCommand)(new R),(0,y.registerEditorCommand)(new Z),(0,y.registerEditorCommand)(new se),(0,y.registerEditorCommand)(new le),(0,y.registerEditorAction)(te)}),define(J[805],ee([1,0,16,180,5,20,349,25]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class S extends _.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(h,s){const u=k.WordPartOperations.deleteWordPartLeft(h);return u||new L.Range(1,1,1,1)}}e.DeleteWordPartLeft=S;class f extends _.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(h,s){const u=k.WordPartOperations.deleteWordPartRight(h);if(u)return u;const a=h.model.getLineCount(),d=h.model.getLineMaxColumn(a);return new L.Range(a,d,a,d)}}e.DeleteWordPartRight=f;class v extends _.MoveWordCommand{_move(h,s,u,a){return k.WordPartOperations.moveWordPartLeft(h,s,u)}}e.WordPartLeftCommand=v;class o extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}e.CursorWordPartLeft=o,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class i extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}e.CursorWordPartLeftSelect=i,m.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class t extends _.MoveWordCommand{_move(h,s,u,a){return k.WordPartOperations.moveWordPartRight(h,s,u)}}e.WordPartRightCommand=t;class n extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}e.CursorWordPartRight=n;class r extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}e.CursorWordPartRightSelect=r,(0,y.registerEditorCommand)(new S),(0,y.registerEditorCommand)(new f),(0,y.registerEditorCommand)(new o),(0,y.registerEditorCommand)(new i),(0,y.registerEditorCommand)(new n),(0,y.registerEditorCommand)(new r)}),define(J[806],ee([1,0,7,2,16,17,463]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class _ extends k.Disposable{constructor(f){super(),this.editor=f,this.widget=null,D.isIOS&&(this._register(f.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const f=!this.editor.getOption(89);!this.widget&&f?this.widget=new m(this.editor):this.widget&&!f&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=_,_.ID="editor.contrib.iPadShowKeyboard";class m extends k.Disposable{constructor(f){super(),this.editor=f,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(y.addDisposableListener(this._domNode,"touchstart",v=>{this.editor.focus()})),this._register(y.addDisposableListener(this._domNode,"focus",v=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return m.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}m.ID="editor.contrib.ShowKeyboardWidget",(0,L.registerEditorContribution)(_.ID,_,3)}),define(J[807],ee([1,0,7,37,2,16,30,126,157,41,134,94,464]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let i=class Hi extends L.Disposable{static get(s){return s.getContribution(Hi.ID)}constructor(s,u,a){super(),this._editor=s,this._languageService=a,this._widget=null,this._register(this._editor.onDidChangeModel(d=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(d=>this.stop())),this._register(_.TokenizationRegistry.onDidChange(d=>this.stop())),this._register(this._editor.onKeyUp(d=>d.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new l(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};i.ID="editor.contrib.inspectTokens",i=Ne([fe(1,v.IStandaloneThemeService),fe(2,f.ILanguageService)],i);class t extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:o.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(s,u){const a=i.get(u);a?.launch()}}function n(h){let s="";for(let u=0,a=h.length;u<a;u++){const d=h.charCodeAt(u);switch(d){case 9:s+="\u2192";break;case 32:s+="\xB7";break;default:s+=String.fromCharCode(d)}}return s}function r(h,s){const u=_.TokenizationRegistry.get(s);if(u)return u;const a=h.encodeLanguageId(s);return{getInitialState:()=>S.NullState,tokenize:(d,c,b)=>(0,S.nullTokenize)(s,b),tokenizeEncoded:(d,c,b)=>(0,S.nullTokenizeEncoded)(a,b)}}class l extends L.Disposable{constructor(s,u){super(),this.allowEditorOverflow=!0,this._editor=s,this._languageService=u,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=r(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(a=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return l._ID}_compute(s){const u=this._getTokensAtLine(s.lineNumber);let a=0;for(let p=u.tokens1.length-1;p>=0;p--){const C=u.tokens1[p];if(s.column-1>=C.offset){a=p;break}}let d=0;for(let p=u.tokens2.length>>>1;p>=0;p--)if(s.column-1>=u.tokens2[p<<1]){d=p;break}const c=this._model.getLineContent(s.lineNumber);let b="";if(a<u.tokens1.length){const p=u.tokens1[a].offset,C=a+1<u.tokens1.length?u.tokens1[a+1].offset:c.length;b=c.substring(p,C)}(0,y.reset)(this._domNode,(0,y.$)("h2.tm-token",void 0,n(b),(0,y.$)("span.tm-token-length",void 0,`${b.length} ${b.length===1?"char":"chars"}`))),(0,y.append)(this._domNode,(0,y.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const g=(d<<1)+1<u.tokens2.length?this._decodeMetadata(u.tokens2[(d<<1)+1]):null;(0,y.append)(this._domNode,(0,y.$)("table.tm-metadata-table",void 0,(0,y.$)("tbody",void 0,(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"language"),(0,y.$)("td.tm-metadata-value",void 0,`${g?g.languageId:"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"token type"),(0,y.$)("td.tm-metadata-value",void 0,`${g?this._tokenTypeToString(g.tokenType):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"font style"),(0,y.$)("td.tm-metadata-value",void 0,`${g?this._fontStyleToString(g.fontStyle):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"foreground"),(0,y.$)("td.tm-metadata-value",void 0,`${g?k.Color.Format.CSS.formatHex(g.foreground):"-?-"}`)),(0,y.$)("tr",void 0,(0,y.$)("td.tm-metadata-key",void 0,"background"),(0,y.$)("td.tm-metadata-value",void 0,`${g?k.Color.Format.CSS.formatHex(g.background):"-?-"}`))))),(0,y.append)(this._domNode,(0,y.$)("hr.tokens-inspect-separator")),a<u.tokens1.length&&(0,y.append)(this._domNode,(0,y.$)("span.tm-token-type",void 0,u.tokens1[a].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(s){const u=_.TokenizationRegistry.getColorMap(),a=m.TokenMetadata.getLanguageId(s),d=m.TokenMetadata.getTokenType(s),c=m.TokenMetadata.getFontStyle(s),b=m.TokenMetadata.getForeground(s),g=m.TokenMetadata.getBackground(s);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(a),tokenType:d,fontStyle:c,foreground:u[b],background:u[g]}}_tokenTypeToString(s){switch(s){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(s){let u="";return s&1&&(u+="italic "),s&2&&(u+="bold "),s&4&&(u+="underline "),s&8&&(u+="strikethrough "),u.length===0&&(u="---"),u}_getTokensAtLine(s){const u=this._getStateBeforeLine(s),a=this._tokenizationSupport.tokenize(this._model.getLineContent(s),!0,u),d=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(s),!0,u);return{startState:u,tokens1:a.tokens,tokens2:d.tokens,endState:a.endState}}_getStateBeforeLine(s){let u=this._tokenizationSupport.getInitialState();for(let a=1;a<s;a++)u=this._tokenizationSupport.tokenize(this._model.getLineContent(a),!0,u).endState;return u}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}l._ID="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(i.ID,i,4),(0,D.registerEditorAction)(t)}),define(J[808],ee([1,0,7,58,578,40,15,2,710,29,14,57,34,78]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchToolBar=void 0;let n=class extends L.ToolBar{constructor(l,h,s,u,a,d,c){super(l,a,Object.assign(Object.assign({getKeyBinding:g=>{var p;return(p=d.lookupKeybinding(g.id))!==null&&p!==void 0?p:void 0}},h),{allowContextMenu:!0,skipTelemetry:typeof h?.telemetrySource=="string"})),this._options=h,this._menuService=s,this._contextKeyService=u,this._contextMenuService=a,this._sessionDisposables=this._store.add(new m.DisposableStore);const b=h?.telemetrySource;b&&this._store.add(this.actionBar.onDidRun(g=>c.publicLog2("workbenchActionExecuted",{id:g.action.id,from:b})))}setActions(l,h=[],s){var u,a,d;this._sessionDisposables.clear();const c=l.slice(),b=h.slice(),g=[];let p=0;const C=[];let w=!1;if(((u=this._options)===null||u===void 0?void 0:u.hiddenItemStrategy)!==-1)for(let E=0;E<c.length;E++){const I=c[E];!(I instanceof f.MenuItemAction)&&!(I instanceof f.SubmenuItemAction)||I.hideActions&&(g.push(I.hideActions.toggle),I.hideActions.toggle.checked&&p++,I.hideActions.isHidden&&(w=!0,c[E]=void 0,((a=this._options)===null||a===void 0?void 0:a.hiddenItemStrategy)!==0&&(C[E]=I)))}if(((d=this._options)===null||d===void 0?void 0:d.maxNumberOfItems)!==void 0){let E=0;for(let I=0;I<c.length;I++){const T=c[I];T&&++E>=this._options.maxNumberOfItems&&(c[I]=void 0,C[I]=T)}}(0,_.coalesceInPlace)(c),(0,_.coalesceInPlace)(C),super.setActions(c,D.Separator.join(C,b)),g.length>0&&this._sessionDisposables.add((0,y.addDisposableListener)(this.getElement(),"contextmenu",E=>{var I,T,P,A,M;const N=new k.StandardMouseEvent(E),O=this.getItemAction(N.target);if(!O)return;N.preventDefault(),N.stopPropagation();let x=!1;if(p===1&&((I=this._options)===null||I===void 0?void 0:I.hiddenItemStrategy)===0){x=!0;for(let z=0;z<g.length;z++)if(g[z].checked){g[z]=(0,D.toAction)({id:O.id,label:O.label,checked:!0,enabled:!1,run(){}});break}}let F;if(!x&&(O instanceof f.MenuItemAction||O instanceof f.SubmenuItemAction)){if(!O.hideActions)return;F=O.hideActions.hide}else F=(0,D.toAction)({id:"label",label:(0,S.localize)(0,null),enabled:!1,run(){}});const B=D.Separator.join([F],g);!((T=this._options)===null||T===void 0)&&T.resetMenu&&!s&&(s=[this._options.resetMenu]),w&&s&&(B.push(new D.Separator),B.push((0,D.toAction)({id:"resetThisMenu",label:(0,S.localize)(1,null),run:()=>this._menuService.resetHiddenStates(s)}))),this._contextMenuService.showContextMenu({getAnchor:()=>N,getActions:()=>B,menuId:(P=this._options)===null||P===void 0?void 0:P.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},(A=this._options)===null||A===void 0?void 0:A.menuOptions),skipTelemetry:typeof((M=this._options)===null||M===void 0?void 0:M.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};e.WorkbenchToolBar=n,e.WorkbenchToolBar=n=Ne([fe(2,f.IMenuService),fe(3,v.IContextKeyService),fe(4,o.IContextMenuService),fe(5,i.IKeybindingService),fe(6,t.ITelemetryService)],n)}),define(J[809],ee([1,0,558,12,71,2,66,18,722,25,28,159,8,34,762,89,78]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let h=class Jt extends n.PickerQuickAccessProvider{constructor(a,d,c,b,g,p){super(Jt.PREFIX,a),this.instantiationService=d,this.keybindingService=c,this.commandService=b,this.telemetryService=g,this.dialogService=p,this.commandsHistory=this._register(this.instantiationService.createInstance(s)),this.options=a}_getPicks(a,d,c,b){var g,p;return Le(this,void 0,void 0,function*(){const C=yield this.getCommandPicks(c);if(c.isCancellationRequested)return[];const w=[];for(const A of C){const M=(0,m.withNullAsUndefined)(Jt.WORD_FILTER(a,A.label)),N=A.commandAlias?(0,m.withNullAsUndefined)(Jt.WORD_FILTER(a,A.commandAlias)):void 0;M||N?(A.highlights={label:M,detail:this.options.showAlias?N:void 0},w.push(A)):a===A.commandId&&w.push(A)}const E=new Map;for(const A of w){const M=E.get(A.label);M?(A.description=A.commandId,M.description=M.commandId):E.set(A.label,A)}w.sort((A,M)=>{const N=this.commandsHistory.peek(A.commandId),O=this.commandsHistory.peek(M.commandId);if(N&&O)return N>O?-1:1;if(N)return-1;if(O)return 1;if(this.options.suggestedCommandIds){const x=this.options.suggestedCommandIds.has(A.commandId),F=this.options.suggestedCommandIds.has(M.commandId);if(x&&F)return 0;if(x)return-1;if(F)return 1}return A.label.localeCompare(M.label)});const I=[];let T=!1,P=!!this.options.suggestedCommandIds;for(let A=0;A<w.length;A++){const M=w[A];A===0&&this.commandsHistory.peek(M.commandId)&&(I.push({type:"separator",label:(0,S.localize)(0,null)}),T=!0),P&&!this.commandsHistory.peek(M.commandId)&&(!((g=this.options.suggestedCommandIds)===null||g===void 0)&&g.has(M.commandId))&&(I.push({type:"separator",label:(0,S.localize)(1,null)}),T=!0,P=!1),T&&!this.commandsHistory.peek(M.commandId)&&!(!((p=this.options.suggestedCommandIds)===null||p===void 0)&&p.has(M.commandId))&&(I.push({type:"separator",label:(0,S.localize)(2,null)}),T=!1),I.push(this.toCommandPick(M,b))}return this.hasAdditionalCommandPicks(a,c)?{picks:I,additionalPicks:(()=>Le(this,void 0,void 0,function*(){const A=yield this.getAdditionalCommandPicks(C,w,a,c);return c.isCancellationRequested?[]:A.map(M=>this.toCommandPick(M,b))}))()}:I})}toCommandPick(a,d){if(a.type==="separator")return a;const c=this.keybindingService.lookupKeybinding(a.commandId),b=c?(0,S.localize)(3,null,a.label,c.getAriaLabel()):a.label;return Object.assign(Object.assign({},a),{ariaLabel:b,detail:this.options.showAlias&&a.commandAlias!==a.label?a.commandAlias:void 0,keybinding:c,accept:()=>Le(this,void 0,void 0,function*(){var g,p;this.commandsHistory.push(a.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:a.commandId,from:(g=d?.from)!==null&&g!==void 0?g:"quick open"});try{!((p=a.args)===null||p===void 0)&&p.length?yield this.commandService.executeCommand(a.commandId,...a.args):yield this.commandService.executeCommand(a.commandId)}catch(C){(0,k.isCancellationError)(C)||this.dialogService.error((0,S.localize)(4,null,a.label),(0,y.toErrorMessage)(C))}})})}};e.AbstractCommandsQuickAccessProvider=h,h.PREFIX=">",h.WORD_FILTER=(0,L.or)(L.matchesPrefix,L.matchesWords,L.matchesContiguousSubString),e.AbstractCommandsQuickAccessProvider=h=Ne([fe(1,i.IInstantiationService),fe(2,t.IKeybindingService),fe(3,f.ICommandService),fe(4,l.ITelemetryService),fe(5,o.IDialogService)],h);let s=class gt extends D.Disposable{constructor(a,d){super(),this.storageService=a,this.configurationService=d,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(a=>this.updateConfiguration(a)))}updateConfiguration(a){a&&!a.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=gt.getConfiguredCommandHistoryLength(this.configurationService),gt.cache&&gt.cache.limit!==this.configuredCommandsHistoryLength&&(gt.cache.limit=this.configuredCommandsHistoryLength,gt.saveState(this.storageService)))}load(){const a=this.storageService.get(gt.PREF_KEY_CACHE,0);let d;if(a)try{d=JSON.parse(a)}catch{}const c=gt.cache=new _.LRUCache(this.configuredCommandsHistoryLength,1);if(d){let b;d.usesLRU?b=d.entries:b=d.entries.sort((g,p)=>g.value-p.value),b.forEach(g=>c.set(g.key,g.value))}gt.counter=this.storageService.getNumber(gt.PREF_KEY_COUNTER,0,gt.counter)}push(a){gt.cache&&(gt.cache.set(a,gt.counter++),gt.saveState(this.storageService))}peek(a){var d;return(d=gt.cache)===null||d===void 0?void 0:d.peek(a)}static saveState(a){if(!gt.cache)return;const d={usesLRU:!0,entries:[]};gt.cache.forEach((c,b)=>d.entries.push({key:b,value:c})),a.store(gt.PREF_KEY_CACHE,JSON.stringify(d),0,0),a.store(gt.PREF_KEY_COUNTER,gt.counter,0,0)}static getConfiguredCommandHistoryLength(a){var d,c;const g=(c=(d=a.getValue().workbench)===null||d===void 0?void 0:d.commandPalette)===null||c===void 0?void 0:c.history;return typeof g=="number"?g:gt.DEFAULT_COMMANDS_HISTORY_LENGTH}};e.CommandsHistory=s,s.DEFAULT_COMMANDS_HISTORY_LENGTH=50,s.PREF_KEY_CACHE="commandPalette.mru.cache",s.PREF_KEY_COUNTER="commandPalette.mru.counter",s.counter=1,e.CommandsHistory=s=Ne([fe(0,r.IStorageService),fe(1,v.IConfigurationService)],s)}),define(J[810],ee([1,0,120,809]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class L extends k.AbstractCommandsQuickAccessProvider{constructor(_,m,S,f,v,o){super(_,m,S,f,v,o)}getCodeEditorCommandPicks(){const _=this.activeTextEditorControl;if(!_)return[];const m=[];for(const S of _.getSupportedActions())m.push({commandId:S.id,commandAlias:S.alias,label:(0,y.stripIcons)(S.label)||S.id});return m}}e.AbstractEditorCommandsQuickAccessProvider=L}),define(J[811],ee([1,0,38,137,94,33,810,18,8,34,25,78,159,16,20,76]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let l=class extends _.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){return(0,m.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}constructor(u,a,d,c,b,g){super({showAlias:!1},u,d,c,b,g),this.codeEditorService=a}getCommandPicks(){return Le(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return Le(this,void 0,void 0,function*(){return[]})}};e.StandaloneCommandsQuickAccessProvider=l,e.StandaloneCommandsQuickAccessProvider=l=Ne([fe(0,S.IInstantiationService),fe(1,D.ICodeEditorService),fe(2,f.IKeybindingService),fe(3,v.ICommandService),fe(4,o.ITelemetryService),fe(5,i.IDialogService)],l);class h extends t.EditorAction{constructor(){super({id:h.ID,label:L.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:n.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(u){u.get(r.IQuickInputService).quickAccess.show(l.PREFIX)}}e.GotoLineAction=h,h.ID="editor.action.quickCommand",(0,t.registerEditorAction)(h),y.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:l,prefix:l.PREFIX,helpEntries:[{description:L.QuickCommandNLS.quickCommandHelp,commandId:h.ID}]})}),define(J[32],ee([1,0,13,37,6,85,727,242,38]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.checkboxSelectBorder=e.checkboxBorder=e.checkboxForeground=e.checkboxSelectBackground=e.checkboxBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeInactiveIndentGuidesStroke=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffUnchangedTextBackground=e.diffUnchangedRegionForeground=e.diffUnchangedRegionBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchResultsInfoForeground=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetBorder=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableWithDefault=e.asCssVariable=e.asCssVariableName=void 0;function f(P){return`--vscode-${P.replace(/\./g,"-")}`}e.asCssVariableName=f;function v(P){return`var(${f(P)})`}e.asCssVariable=v;function o(P,A){return`var(${f(P)}, ${A})`}e.asCssVariableWithDefault=o,e.Extensions={ColorContribution:"base.contributions.colors"};class i{constructor(){this._onDidChangeSchema=new L.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(A,M,N,O=!1,x){const F={id:A,description:N,defaults:M,needsTransparency:O,deprecationMessage:x};this.colorsById[A]=F;const B={type:"string",description:N,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return x&&(B.deprecationMessage=x),this.colorSchema.properties[A]=B,this.colorReferenceSchema.enum.push(A),this.colorReferenceSchema.enumDescriptions.push(N),this._onDidChangeSchema.fire(),A}getColors(){return Object.keys(this.colorsById).map(A=>this.colorsById[A])}resolveDefaultColor(A,M){const N=this.colorsById[A];if(N&&N.defaults){const O=N.defaults[M.type];return E(O,M)}}getColorSchema(){return this.colorSchema}toString(){const A=(M,N)=>{const O=M.indexOf(".")===-1?0:1,x=N.indexOf(".")===-1?0:1;return O!==x?O-x:M.localeCompare(N)};return Object.keys(this.colorsById).sort(A).map(M=>`- \`${M}\`: ${this.colorsById[M].description}`).join(`
`)}}const t=new i;S.Registry.add(e.Extensions.ColorContribution,t);function n(P,A,M,N,O){return t.registerColor(P,A,M,N,O)}e.registerColor=n,e.foreground=n("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},_.localize(0,null)),e.disabledForeground=n("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},_.localize(1,null)),e.errorForeground=n("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},_.localize(2,null)),e.descriptionForeground=n("descriptionForeground",{light:"#717171",dark:g(e.foreground,.7),hcDark:g(e.foreground,.7),hcLight:g(e.foreground,.7)},_.localize(3,null)),e.iconForeground=n("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},_.localize(4,null)),e.focusBorder=n("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},_.localize(5,null)),e.contrastBorder=n("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},_.localize(6,null)),e.activeContrastBorder=n("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},_.localize(7,null)),e.selectionBackground=n("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},_.localize(8,null)),e.textSeparatorForeground=n("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:k.Color.black,hcLight:"#292929"},_.localize(9,null)),e.textLinkForeground=n("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},_.localize(10,null)),e.textLinkActiveForeground=n("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},_.localize(11,null)),e.textPreformatForeground=n("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},_.localize(12,null)),e.textBlockQuoteBackground=n("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},_.localize(13,null)),e.textBlockQuoteBorder=n("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:k.Color.white,hcLight:"#292929"},_.localize(14,null)),e.textCodeBlockBackground=n("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:k.Color.black,hcLight:"#F2F2F2"},_.localize(15,null)),e.widgetShadow=n("widget.shadow",{dark:g(k.Color.black,.36),light:g(k.Color.black,.16),hcDark:null,hcLight:null},_.localize(16,null)),e.widgetBorder=n("widget.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(17,null)),e.inputBackground=n("input.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},_.localize(18,null)),e.inputForeground=n("input.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},_.localize(19,null)),e.inputBorder=n("input.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(20,null)),e.inputActiveOptionBorder=n("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(21,null)),e.inputActiveOptionHoverBackground=n("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},_.localize(22,null)),e.inputActiveOptionBackground=n("inputOption.activeBackground",{dark:g(e.focusBorder,.4),light:g(e.focusBorder,.2),hcDark:k.Color.transparent,hcLight:k.Color.transparent},_.localize(23,null)),e.inputActiveOptionForeground=n("inputOption.activeForeground",{dark:k.Color.white,light:k.Color.black,hcDark:e.foreground,hcLight:e.foreground},_.localize(24,null)),e.inputPlaceholderForeground=n("input.placeholderForeground",{light:g(e.foreground,.5),dark:g(e.foreground,.5),hcDark:g(e.foreground,.7),hcLight:g(e.foreground,.7)},_.localize(25,null)),e.inputValidationInfoBackground=n("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:k.Color.black,hcLight:k.Color.white},_.localize(26,null)),e.inputValidationInfoForeground=n("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},_.localize(27,null)),e.inputValidationInfoBorder=n("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(28,null)),e.inputValidationWarningBackground=n("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:k.Color.black,hcLight:k.Color.white},_.localize(29,null)),e.inputValidationWarningForeground=n("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},_.localize(30,null)),e.inputValidationWarningBorder=n("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(31,null)),e.inputValidationErrorBackground=n("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:k.Color.black,hcLight:k.Color.white},_.localize(32,null)),e.inputValidationErrorForeground=n("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},_.localize(33,null)),e.inputValidationErrorBorder=n("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(34,null)),e.selectBackground=n("dropdown.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},_.localize(35,null)),e.selectListBackground=n("dropdown.listBackground",{dark:null,light:null,hcDark:k.Color.black,hcLight:k.Color.white},_.localize(36,null)),e.selectForeground=n("dropdown.foreground",{dark:"#F0F0F0",light:e.foreground,hcDark:k.Color.white,hcLight:e.foreground},_.localize(37,null)),e.selectBorder=n("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(38,null)),e.buttonForeground=n("button.foreground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:k.Color.white},_.localize(39,null)),e.buttonSeparator=n("button.separator",{dark:g(e.buttonForeground,.4),light:g(e.buttonForeground,.4),hcDark:g(e.buttonForeground,.4),hcLight:g(e.buttonForeground,.4)},_.localize(40,null)),e.buttonBackground=n("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},_.localize(41,null)),e.buttonHoverBackground=n("button.hoverBackground",{dark:b(e.buttonBackground,.2),light:c(e.buttonBackground,.2),hcDark:e.buttonBackground,hcLight:e.buttonBackground},_.localize(42,null)),e.buttonBorder=n("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(43,null)),e.buttonSecondaryForeground=n("button.secondaryForeground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:e.foreground},_.localize(44,null)),e.buttonSecondaryBackground=n("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:k.Color.white},_.localize(45,null)),e.buttonSecondaryHoverBackground=n("button.secondaryHoverBackground",{dark:b(e.buttonSecondaryBackground,.2),light:c(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},_.localize(46,null)),e.badgeBackground=n("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:k.Color.black,hcLight:"#0F4A85"},_.localize(47,null)),e.badgeForeground=n("badge.foreground",{dark:k.Color.white,light:"#333",hcDark:k.Color.white,hcLight:k.Color.white},_.localize(48,null)),e.scrollbarShadow=n("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},_.localize(49,null)),e.scrollbarSliderBackground=n("scrollbarSlider.background",{dark:k.Color.fromHex("#797979").transparent(.4),light:k.Color.fromHex("#646464").transparent(.4),hcDark:g(e.contrastBorder,.6),hcLight:g(e.contrastBorder,.4)},_.localize(50,null)),e.scrollbarSliderHoverBackground=n("scrollbarSlider.hoverBackground",{dark:k.Color.fromHex("#646464").transparent(.7),light:k.Color.fromHex("#646464").transparent(.7),hcDark:g(e.contrastBorder,.8),hcLight:g(e.contrastBorder,.8)},_.localize(51,null)),e.scrollbarSliderActiveBackground=n("scrollbarSlider.activeBackground",{dark:k.Color.fromHex("#BFBFBF").transparent(.4),light:k.Color.fromHex("#000000").transparent(.6),hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(52,null)),e.progressBarBackground=n("progressBar.background",{dark:k.Color.fromHex("#0E70C0"),light:k.Color.fromHex("#0E70C0"),hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(53,null)),e.editorErrorBackground=n("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(54,null),!0),e.editorErrorForeground=n("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},_.localize(55,null)),e.editorErrorBorder=n("editorError.border",{dark:null,light:null,hcDark:k.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},_.localize(56,null)),e.editorWarningBackground=n("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(57,null),!0),e.editorWarningForeground=n("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},_.localize(58,null)),e.editorWarningBorder=n("editorWarning.border",{dark:null,light:null,hcDark:k.Color.fromHex("#FFCC00").transparent(.8),hcLight:k.Color.fromHex("#FFCC00").transparent(.8)},_.localize(59,null)),e.editorInfoBackground=n("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(60,null),!0),e.editorInfoForeground=n("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},_.localize(61,null)),e.editorInfoBorder=n("editorInfo.border",{dark:null,light:null,hcDark:k.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},_.localize(62,null)),e.editorHintForeground=n("editorHint.foreground",{dark:k.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},_.localize(63,null)),e.editorHintBorder=n("editorHint.border",{dark:null,light:null,hcDark:k.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},_.localize(64,null)),e.sashHoverBorder=n("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.focusBorder,hcLight:e.focusBorder},_.localize(65,null)),e.editorBackground=n("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:k.Color.black,hcLight:k.Color.white},_.localize(66,null)),e.editorForeground=n("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:k.Color.white,hcLight:e.foreground},_.localize(67,null)),e.editorStickyScrollBackground=n("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},_.localize(68,null)),e.editorStickyScrollHoverBackground=n("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},_.localize(69,null)),e.editorWidgetBackground=n("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:k.Color.white},_.localize(70,null)),e.editorWidgetForeground=n("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},_.localize(71,null)),e.editorWidgetBorder=n("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(72,null)),e.editorWidgetResizeBorder=n("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},_.localize(73,null)),e.quickInputBackground=n("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},_.localize(74,null)),e.quickInputForeground=n("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},_.localize(75,null)),e.quickInputTitleBackground=n("quickInputTitle.background",{dark:new k.Color(new k.RGBA(255,255,255,.105)),light:new k.Color(new k.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:k.Color.white},_.localize(76,null)),e.pickerGroupForeground=n("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:k.Color.white,hcLight:"#0F4A85"},_.localize(77,null)),e.pickerGroupBorder=n("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:k.Color.white,hcLight:"#0F4A85"},_.localize(78,null)),e.keybindingLabelBackground=n("keybindingLabel.background",{dark:new k.Color(new k.RGBA(128,128,128,.17)),light:new k.Color(new k.RGBA(221,221,221,.4)),hcDark:k.Color.transparent,hcLight:k.Color.transparent},_.localize(79,null)),e.keybindingLabelForeground=n("keybindingLabel.foreground",{dark:k.Color.fromHex("#CCCCCC"),light:k.Color.fromHex("#555555"),hcDark:k.Color.white,hcLight:e.foreground},_.localize(80,null)),e.keybindingLabelBorder=n("keybindingLabel.border",{dark:new k.Color(new k.RGBA(51,51,51,.6)),light:new k.Color(new k.RGBA(204,204,204,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:e.contrastBorder},_.localize(81,null)),e.keybindingLabelBottomBorder=n("keybindingLabel.bottomBorder",{dark:new k.Color(new k.RGBA(68,68,68,.6)),light:new k.Color(new k.RGBA(187,187,187,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:e.foreground},_.localize(82,null)),e.editorSelectionBackground=n("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},_.localize(83,null)),e.editorSelectionForeground=n("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:k.Color.white},_.localize(84,null)),e.editorInactiveSelection=n("editor.inactiveSelectionBackground",{light:g(e.editorSelectionBackground,.5),dark:g(e.editorSelectionBackground,.5),hcDark:g(e.editorSelectionBackground,.7),hcLight:g(e.editorSelectionBackground,.5)},_.localize(85,null),!0),e.editorSelectionHighlight=n("editor.selectionHighlightBackground",{light:w(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:w(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},_.localize(86,null),!0),e.editorSelectionHighlightBorder=n("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},_.localize(87,null)),e.editorFindMatch=n("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},_.localize(88,null)),e.editorFindMatchHighlight=n("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},_.localize(89,null),!0),e.editorFindRangeHighlight=n("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},_.localize(90,null),!0),e.editorFindMatchBorder=n("editor.findMatchBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},_.localize(91,null)),e.editorFindMatchHighlightBorder=n("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},_.localize(92,null)),e.editorFindRangeHighlightBorder=n("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:g(e.activeContrastBorder,.4),hcLight:g(e.activeContrastBorder,.4)},_.localize(93,null),!0),e.searchEditorFindMatch=n("searchEditor.findMatchBackground",{light:g(e.editorFindMatchHighlight,.66),dark:g(e.editorFindMatchHighlight,.66),hcDark:e.editorFindMatchHighlight,hcLight:e.editorFindMatchHighlight},_.localize(94,null)),e.searchEditorFindMatchBorder=n("searchEditor.findMatchBorder",{light:g(e.editorFindMatchHighlightBorder,.66),dark:g(e.editorFindMatchHighlightBorder,.66),hcDark:e.editorFindMatchHighlightBorder,hcLight:e.editorFindMatchHighlightBorder},_.localize(95,null)),e.searchResultsInfoForeground=n("search.resultsInfoForeground",{light:e.foreground,dark:g(e.foreground,.65),hcDark:e.foreground,hcLight:e.foreground},_.localize(96,null)),e.editorHoverHighlight=n("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},_.localize(97,null),!0),e.editorHoverBackground=n("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},_.localize(98,null)),e.editorHoverForeground=n("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},_.localize(99,null)),e.editorHoverBorder=n("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},_.localize(100,null)),e.editorHoverStatusBarBackground=n("editorHoverWidget.statusBarBackground",{dark:b(e.editorHoverBackground,.2),light:c(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},_.localize(101,null)),e.editorActiveLinkForeground=n("editorLink.activeForeground",{dark:"#4E94CE",light:k.Color.blue,hcDark:k.Color.cyan,hcLight:"#292929"},_.localize(102,null)),e.editorInlayHintForeground=n("editorInlayHint.foreground",{dark:e.foreground,light:e.foreground,hcDark:k.Color.black,hcLight:e.badgeForeground},_.localize(103,null)),e.editorInlayHintBackground=n("editorInlayHint.background",{dark:g(e.badgeBackground,.25),light:g(e.badgeBackground,.3),hcDark:"#f38518",hcLight:e.badgeBackground},_.localize(104,null)),e.editorInlayHintTypeForeground=n("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},_.localize(105,null)),e.editorInlayHintTypeBackground=n("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},_.localize(106,null)),e.editorInlayHintParameterForeground=n("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},_.localize(107,null)),e.editorInlayHintParameterBackground=n("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},_.localize(108,null)),e.editorLightBulbForeground=n("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},_.localize(109,null)),e.editorLightBulbAutoFixForeground=n("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},_.localize(110,null)),e.defaultInsertColor=new k.Color(new k.RGBA(155,185,85,.2)),e.defaultRemoveColor=new k.Color(new k.RGBA(255,0,0,.2)),e.diffInserted=n("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},_.localize(111,null),!0),e.diffRemoved=n("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},_.localize(112,null),!0),e.diffInsertedLine=n("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},_.localize(113,null),!0),e.diffRemovedLine=n("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},_.localize(114,null),!0),e.diffInsertedLineGutter=n("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(115,null)),e.diffRemovedLineGutter=n("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(116,null)),e.diffOverviewRulerInserted=n("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(117,null)),e.diffOverviewRulerRemoved=n("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(118,null)),e.diffInsertedOutline=n("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},_.localize(119,null)),e.diffRemovedOutline=n("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},_.localize(120,null)),e.diffBorder=n("diffEditor.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(121,null)),e.diffDiagonalFill=n("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},_.localize(122,null)),e.diffUnchangedRegionBackground=n("diffEditor.unchangedRegionBackground",{dark:"#3e3e3e",light:"#e4e4e4",hcDark:null,hcLight:null},_.localize(123,null)),e.diffUnchangedRegionForeground=n("diffEditor.unchangedRegionForeground",{dark:"#a3a2a2",light:"#4d4c4c",hcDark:null,hcLight:null},_.localize(124,null)),e.diffUnchangedTextBackground=n("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},_.localize(125,null)),e.listFocusBackground=n("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(126,null)),e.listFocusForeground=n("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(127,null)),e.listFocusOutline=n("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},_.localize(128,null)),e.listFocusAndSelectionOutline=n("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(129,null)),e.listActiveSelectionBackground=n("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},_.localize(130,null)),e.listActiveSelectionForeground=n("list.activeSelectionForeground",{dark:k.Color.white,light:k.Color.white,hcDark:null,hcLight:null},_.localize(131,null)),e.listActiveSelectionIconForeground=n("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(132,null)),e.listInactiveSelectionBackground=n("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},_.localize(133,null)),e.listInactiveSelectionForeground=n("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(134,null)),e.listInactiveSelectionIconForeground=n("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(135,null)),e.listInactiveFocusBackground=n("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(136,null)),e.listInactiveFocusOutline=n("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(137,null)),e.listHoverBackground=n("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:k.Color.white.transparent(.1),hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},_.localize(138,null)),e.listHoverForeground=n("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(139,null)),e.listDropBackground=n("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},_.localize(140,null)),e.listHighlightForeground=n("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:e.focusBorder,hcLight:e.focusBorder},_.localize(141,null)),e.listFocusHighlightForeground=n("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:C(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},_.localize(142,null)),e.listInvalidItemForeground=n("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},_.localize(143,null)),e.listErrorForeground=n("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},_.localize(144,null)),e.listWarningForeground=n("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},_.localize(145,null)),e.listFilterWidgetBackground=n("listFilterWidget.background",{light:c(e.editorWidgetBackground,0),dark:b(e.editorWidgetBackground,0),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},_.localize(146,null)),e.listFilterWidgetOutline=n("listFilterWidget.outline",{dark:k.Color.transparent,light:k.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},_.localize(147,null)),e.listFilterWidgetNoMatchesOutline=n("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(148,null)),e.listFilterWidgetShadow=n("listFilterWidget.shadow",{dark:e.widgetShadow,light:e.widgetShadow,hcDark:e.widgetShadow,hcLight:e.widgetShadow},_.localize(149,null)),e.listFilterMatchHighlight=n("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hcDark:null,hcLight:null},_.localize(150,null)),e.listFilterMatchHighlightBorder=n("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hcDark:e.contrastBorder,hcLight:e.activeContrastBorder},_.localize(151,null)),e.treeIndentGuidesStroke=n("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},_.localize(152,null)),e.treeInactiveIndentGuidesStroke=n("tree.inactiveIndentGuidesStroke",{dark:g(e.treeIndentGuidesStroke,.4),light:g(e.treeIndentGuidesStroke,.4),hcDark:g(e.treeIndentGuidesStroke,.4),hcLight:g(e.treeIndentGuidesStroke,.4)},_.localize(153,null)),e.tableColumnsBorder=n("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},_.localize(154,null)),e.tableOddRowsBackgroundColor=n("tree.tableOddRowsBackground",{dark:g(e.foreground,.04),light:g(e.foreground,.04),hcDark:null,hcLight:null},_.localize(155,null)),e.listDeemphasizedForeground=n("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},_.localize(156,null)),e.checkboxBackground=n("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},_.localize(157,null)),e.checkboxSelectBackground=n("checkbox.selectBackground",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},_.localize(158,null)),e.checkboxForeground=n("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},_.localize(159,null)),e.checkboxBorder=n("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},_.localize(160,null)),e.checkboxSelectBorder=n("checkbox.selectBorder",{dark:e.iconForeground,light:e.iconForeground,hcDark:e.iconForeground,hcLight:e.iconForeground},_.localize(161,null)),e._deprecatedQuickInputListFocusBackground=n("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,_.localize(162,null)),e.quickInputListFocusForeground=n("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},_.localize(163,null)),e.quickInputListFocusIconForeground=n("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hcDark:e.listActiveSelectionIconForeground,hcLight:e.listActiveSelectionIconForeground},_.localize(164,null)),e.quickInputListFocusBackground=n("quickInputList.focusBackground",{dark:p(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:p(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hcDark:null,hcLight:null},_.localize(165,null)),e.menuBorder=n("menu.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(166,null)),e.menuForeground=n("menu.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},_.localize(167,null)),e.menuBackground=n("menu.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},_.localize(168,null)),e.menuSelectionForeground=n("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},_.localize(169,null)),e.menuSelectionBackground=n("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hcDark:e.listActiveSelectionBackground,hcLight:e.listActiveSelectionBackground},_.localize(170,null)),e.menuSelectionBorder=n("menu.selectionBorder",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},_.localize(171,null)),e.menuSeparatorBackground=n("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:e.contrastBorder,hcLight:e.contrastBorder},_.localize(172,null)),e.toolbarHoverBackground=n("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},_.localize(173,null)),e.toolbarHoverOutline=n("toolbar.hoverOutline",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},_.localize(174,null)),e.toolbarActiveBackground=n("toolbar.activeBackground",{dark:b(e.toolbarHoverBackground,.1),light:c(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},_.localize(175,null)),e.snippetTabstopHighlightBackground=n("editor.snippetTabstopHighlightBackground",{dark:new k.Color(new k.RGBA(124,124,124,.3)),light:new k.Color(new k.RGBA(10,50,100,.2)),hcDark:new k.Color(new k.RGBA(124,124,124,.3)),hcLight:new k.Color(new k.RGBA(10,50,100,.2))},_.localize(176,null)),e.snippetTabstopHighlightBorder=n("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(177,null)),e.snippetFinalTabstopHighlightBackground=n("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(178,null)),e.snippetFinalTabstopHighlightBorder=n("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k.Color(new k.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},_.localize(179,null)),e.breadcrumbsForeground=n("breadcrumb.foreground",{light:g(e.foreground,.8),dark:g(e.foreground,.8),hcDark:g(e.foreground,.8),hcLight:g(e.foreground,.8)},_.localize(180,null)),e.breadcrumbsBackground=n("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},_.localize(181,null)),e.breadcrumbsFocusForeground=n("breadcrumb.focusForeground",{light:c(e.foreground,.2),dark:b(e.foreground,.1),hcDark:b(e.foreground,.1),hcLight:b(e.foreground,.1)},_.localize(182,null)),e.breadcrumbsActiveSelectionForeground=n("breadcrumb.activeSelectionForeground",{light:c(e.foreground,.2),dark:b(e.foreground,.1),hcDark:b(e.foreground,.1),hcLight:b(e.foreground,.1)},_.localize(183,null)),e.breadcrumbsPickerBackground=n("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},_.localize(184,null));const r=.5,l=k.Color.fromHex("#40C8AE").transparent(r),h=k.Color.fromHex("#40A6FF").transparent(r),s=k.Color.fromHex("#606060").transparent(.4),u=.4,a=1;e.mergeCurrentHeaderBackground=n("merge.currentHeaderBackground",{dark:l,light:l,hcDark:null,hcLight:null},_.localize(185,null),!0),e.mergeCurrentContentBackground=n("merge.currentContentBackground",{dark:g(e.mergeCurrentHeaderBackground,u),light:g(e.mergeCurrentHeaderBackground,u),hcDark:g(e.mergeCurrentHeaderBackground,u),hcLight:g(e.mergeCurrentHeaderBackground,u)},_.localize(186,null),!0),e.mergeIncomingHeaderBackground=n("merge.incomingHeaderBackground",{dark:h,light:h,hcDark:null,hcLight:null},_.localize(187,null),!0),e.mergeIncomingContentBackground=n("merge.incomingContentBackground",{dark:g(e.mergeIncomingHeaderBackground,u),light:g(e.mergeIncomingHeaderBackground,u),hcDark:g(e.mergeIncomingHeaderBackground,u),hcLight:g(e.mergeIncomingHeaderBackground,u)},_.localize(188,null),!0),e.mergeCommonHeaderBackground=n("merge.commonHeaderBackground",{dark:s,light:s,hcDark:null,hcLight:null},_.localize(189,null),!0),e.mergeCommonContentBackground=n("merge.commonContentBackground",{dark:g(e.mergeCommonHeaderBackground,u),light:g(e.mergeCommonHeaderBackground,u),hcDark:g(e.mergeCommonHeaderBackground,u),hcLight:g(e.mergeCommonHeaderBackground,u)},_.localize(190,null),!0),e.mergeBorder=n("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},_.localize(191,null)),e.overviewRulerCurrentContentForeground=n("editorOverviewRuler.currentContentForeground",{dark:g(e.mergeCurrentHeaderBackground,a),light:g(e.mergeCurrentHeaderBackground,a),hcDark:e.mergeBorder,hcLight:e.mergeBorder},_.localize(192,null)),e.overviewRulerIncomingContentForeground=n("editorOverviewRuler.incomingContentForeground",{dark:g(e.mergeIncomingHeaderBackground,a),light:g(e.mergeIncomingHeaderBackground,a),hcDark:e.mergeBorder,hcLight:e.mergeBorder},_.localize(193,null)),e.overviewRulerCommonContentForeground=n("editorOverviewRuler.commonContentForeground",{dark:g(e.mergeCommonHeaderBackground,a),light:g(e.mergeCommonHeaderBackground,a),hcDark:e.mergeBorder,hcLight:e.mergeBorder},_.localize(194,null)),e.overviewRulerFindMatchForeground=n("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},_.localize(195,null),!0),e.overviewRulerSelectionHighlightForeground=n("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},_.localize(196,null),!0),e.minimapFindMatch=n("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},_.localize(197,null),!0),e.minimapSelectionOccurrenceHighlight=n("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},_.localize(198,null),!0),e.minimapSelection=n("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},_.localize(199,null),!0),e.minimapError=n("minimap.errorHighlight",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},_.localize(200,null)),e.minimapWarning=n("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningBorder,hcLight:e.editorWarningBorder},_.localize(201,null)),e.minimapBackground=n("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},_.localize(202,null)),e.minimapForegroundOpacity=n("minimap.foregroundOpacity",{dark:k.Color.fromHex("#000f"),light:k.Color.fromHex("#000f"),hcDark:k.Color.fromHex("#000f"),hcLight:k.Color.fromHex("#000f")},_.localize(203,null)),e.minimapSliderBackground=n("minimapSlider.background",{light:g(e.scrollbarSliderBackground,.5),dark:g(e.scrollbarSliderBackground,.5),hcDark:g(e.scrollbarSliderBackground,.5),hcLight:g(e.scrollbarSliderBackground,.5)},_.localize(204,null)),e.minimapSliderHoverBackground=n("minimapSlider.hoverBackground",{light:g(e.scrollbarSliderHoverBackground,.5),dark:g(e.scrollbarSliderHoverBackground,.5),hcDark:g(e.scrollbarSliderHoverBackground,.5),hcLight:g(e.scrollbarSliderHoverBackground,.5)},_.localize(205,null)),e.minimapSliderActiveBackground=n("minimapSlider.activeBackground",{light:g(e.scrollbarSliderActiveBackground,.5),dark:g(e.scrollbarSliderActiveBackground,.5),hcDark:g(e.scrollbarSliderActiveBackground,.5),hcLight:g(e.scrollbarSliderActiveBackground,.5)},_.localize(206,null)),e.problemsErrorIconForeground=n("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},_.localize(207,null)),e.problemsWarningIconForeground=n("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},_.localize(208,null)),e.problemsInfoIconForeground=n("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},_.localize(209,null)),e.chartsForeground=n("charts.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},_.localize(210,null)),e.chartsLines=n("charts.lines",{dark:g(e.foreground,.5),light:g(e.foreground,.5),hcDark:g(e.foreground,.5),hcLight:g(e.foreground,.5)},_.localize(211,null)),e.chartsRed=n("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},_.localize(212,null)),e.chartsBlue=n("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},_.localize(213,null)),e.chartsYellow=n("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},_.localize(214,null)),e.chartsOrange=n("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hcDark:e.minimapFindMatch,hcLight:e.minimapFindMatch},_.localize(215,null)),e.chartsGreen=n("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},_.localize(216,null)),e.chartsPurple=n("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},_.localize(217,null));function d(P,A){var M,N,O,x;switch(P.op){case 0:return(M=E(P.value,A))===null||M===void 0?void 0:M.darken(P.factor);case 1:return(N=E(P.value,A))===null||N===void 0?void 0:N.lighten(P.factor);case 2:return(O=E(P.value,A))===null||O===void 0?void 0:O.transparent(P.factor);case 3:{const F=E(P.background,A);return F?(x=E(P.value,A))===null||x===void 0?void 0:x.makeOpaque(F):E(P.value,A)}case 4:for(const F of P.values){const B=E(F,A);if(B)return B}return;case 6:return E(A.defines(P.if)?P.then:P.else,A);case 5:{const F=E(P.value,A);if(!F)return;const B=E(P.background,A);return B?F.isDarkerThan(B)?k.Color.getLighterColor(F,B,P.factor).transparent(P.transparency):k.Color.getDarkerColor(F,B,P.factor).transparent(P.transparency):F.transparent(P.factor*P.transparency)}default:throw(0,D.assertNever)(P)}}e.executeTransform=d;function c(P,A){return{op:0,value:P,factor:A}}e.darken=c;function b(P,A){return{op:1,value:P,factor:A}}e.lighten=b;function g(P,A){return{op:2,value:P,factor:A}}e.transparent=g;function p(...P){return{op:4,values:P}}e.oneOf=p;function C(P,A,M){return{op:6,if:P,then:A,else:M}}e.ifDefinedThenElse=C;function w(P,A,M,N){return{op:5,value:P,background:A,factor:M,transparency:N}}function E(P,A){if(P!==null){if(typeof P=="string")return P[0]==="#"?k.Color.fromHex(P):A.getColor(P);if(P instanceof k.Color)return P;if(typeof P=="object")return d(P,A)}}e.resolveColorValue=E,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const I=S.Registry.as(m.Extensions.JSONContribution);I.registerSchema(e.workbenchColorsSchemaId,t.getColorSchema());const T=new y.RunOnceScheduler(()=>I.notifySchemaChanged(e.workbenchColorsSchemaId),200);t.onDidChangeSchema(()=>{T.isScheduled()||T.schedule()})}),define(J[162],ee([1,0,7,154,58,13,2,32]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class S{constructor(c,b){this.x=c,this.y=b,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new f(this.x-window.scrollX,this.y-window.scrollY)}}e.PageCoordinates=S;class f{constructor(c,b){this.clientX=c,this.clientY=b,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new S(this.clientX+window.scrollX,this.clientY+window.scrollY)}}e.ClientCoordinates=f;class v{constructor(c,b,g,p){this.x=c,this.y=b,this.width=g,this.height=p,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=v;class o{constructor(c,b){this.x=c,this.y=b,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=o;function i(d){const c=y.getDomNodePagePosition(d);return new v(c.left,c.top,c.width,c.height)}e.createEditorPagePosition=i;function t(d,c,b){const g=c.width/d.offsetWidth,p=c.height/d.offsetHeight,C=(b.x-c.x)/g,w=(b.y-c.y)/p;return new o(C,w)}e.createCoordinatesRelativeToEditor=t;class n extends L.StandardMouseEvent{constructor(c,b,g){super(c),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=b,this.pos=new S(this.posx,this.posy),this.editorPos=i(g),this.relativePos=t(g,this.editorPos,this.pos)}}e.EditorMouseEvent=n;class r{constructor(c){this._editorViewDomNode=c}_create(c){return new n(c,!1,this._editorViewDomNode)}onContextMenu(c,b){return y.addDisposableListener(c,"contextmenu",g=>{b(this._create(g))})}onMouseUp(c,b){return y.addDisposableListener(c,"mouseup",g=>{b(this._create(g))})}onMouseDown(c,b){return y.addDisposableListener(c,y.EventType.MOUSE_DOWN,g=>{b(this._create(g))})}onPointerDown(c,b){return y.addDisposableListener(c,y.EventType.POINTER_DOWN,g=>{b(this._create(g),g.pointerId)})}onMouseLeave(c,b){return y.addDisposableListener(c,y.EventType.MOUSE_LEAVE,g=>{b(this._create(g))})}onMouseMove(c,b){return y.addDisposableListener(c,"mousemove",g=>b(this._create(g)))}}e.EditorMouseEventFactory=r;class l{constructor(c){this._editorViewDomNode=c}_create(c){return new n(c,!1,this._editorViewDomNode)}onPointerUp(c,b){return y.addDisposableListener(c,"pointerup",g=>{b(this._create(g))})}onPointerDown(c,b){return y.addDisposableListener(c,y.EventType.POINTER_DOWN,g=>{b(this._create(g),g.pointerId)})}onPointerLeave(c,b){return y.addDisposableListener(c,y.EventType.POINTER_LEAVE,g=>{b(this._create(g))})}onPointerMove(c,b){return y.addDisposableListener(c,"pointermove",g=>b(this._create(g)))}}e.EditorPointerEventFactory=l;class h extends _.Disposable{constructor(c){super(),this._editorViewDomNode=c,this._globalPointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(c,b,g,p,C){this._keydownListener=y.addStandardDisposableListener(document,"keydown",w=>{w.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,w.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(c,b,g,w=>{p(new n(w,!0,this._editorViewDomNode))},w=>{this._keydownListener.dispose(),C(w)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=h;class s{constructor(c){this._editor=c,this._instanceId=++s._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new D.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(c){const b=this.getOrCreateRule(c);return b.increaseRefCount(),{className:b.className,dispose:()=>{b.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(c){const b=this.computeUniqueKey(c);let g=this._rules.get(b);if(!g){const p=this._counter++;g=new u(b,`dyn-rule-${this._instanceId}-${p}`,y.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,c),this._rules.set(b,g)}return g}computeUniqueKey(c){return JSON.stringify(c)}garbageCollect(){for(const c of this._rules.values())c.hasReferences()||(this._rules.delete(c.key),c.dispose())}}e.DynamicCssRules=s,s._idPool=0;class u{constructor(c,b,g,p){this.key=c,this.className=b,this.properties=p,this._referenceCount=0,this._styleElement=y.createStyleSheet(g),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(c,b){let g=`.${c} {`;for(const p in b){const C=b[p];let w;typeof C=="object"?w=(0,m.asCssVariable)(C.id):w=C;const E=a(p);g+=`
	${E}: ${w};`}return g+=`
}`,g}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function a(d){return d.replace(/(^[A-Z])/,([c])=>c.toLowerCase()).replace(/([A-Z])/g,([c])=>`-${c.toLowerCase()}`)}}),define(J[812],ee([1,0,7,35,154,2,17,9,231,53,36,5,273,324,67,32,24,62,476,47,98,420]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const d=140,c=2;class b{constructor(M,N,O){const x=M.options,F=x.get(140),B=x.get(142),z=B.minimap,j=x.get(49),R=x.get(71);this.renderMinimap=z.renderMinimap,this.size=R.size,this.minimapHeightIsEditorHeight=z.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=x.get(103),this.paddingTop=x.get(82).top,this.paddingBottom=x.get(82).bottom,this.showSlider=R.showSlider,this.autohide=R.autohide,this.pixelRatio=F,this.typicalHalfwidthCharacterWidth=j.typicalHalfwidthCharacterWidth,this.lineHeight=x.get(65),this.minimapLeft=z.minimapLeft,this.minimapWidth=z.minimapWidth,this.minimapHeight=B.height,this.canvasInnerWidth=z.minimapCanvasInnerWidth,this.canvasInnerHeight=z.minimapCanvasInnerHeight,this.canvasOuterWidth=z.minimapCanvasOuterWidth,this.canvasOuterHeight=z.minimapCanvasOuterHeight,this.isSampling=z.minimapIsSampling,this.editorHeight=B.height,this.fontScale=z.minimapScale,this.minimapLineHeight=z.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,a.once)(()=>s.MinimapCharRendererFactory.create(this.fontScale,j.fontFamily)),this.defaultBackgroundColor=O.getColor(2),this.backgroundColor=b._getMinimapBackground(N,this.defaultBackgroundColor),this.foregroundAlpha=b._getMinimapForegroundOpacity(N)}static _getMinimapBackground(M,N){const O=M.getColor(r.minimapBackground);return O?new i.RGBA8(O.rgba.r,O.rgba.g,O.rgba.b,Math.round(255*O.rgba.a)):N}static _getMinimapForegroundOpacity(M){const N=M.getColor(r.minimapForegroundOpacity);return N?i.RGBA8._clamp(Math.round(255*N.rgba.a)):255}equals(M){return this.renderMinimap===M.renderMinimap&&this.size===M.size&&this.minimapHeightIsEditorHeight===M.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===M.scrollBeyondLastLine&&this.paddingTop===M.paddingTop&&this.paddingBottom===M.paddingBottom&&this.showSlider===M.showSlider&&this.autohide===M.autohide&&this.pixelRatio===M.pixelRatio&&this.typicalHalfwidthCharacterWidth===M.typicalHalfwidthCharacterWidth&&this.lineHeight===M.lineHeight&&this.minimapLeft===M.minimapLeft&&this.minimapWidth===M.minimapWidth&&this.minimapHeight===M.minimapHeight&&this.canvasInnerWidth===M.canvasInnerWidth&&this.canvasInnerHeight===M.canvasInnerHeight&&this.canvasOuterWidth===M.canvasOuterWidth&&this.canvasOuterHeight===M.canvasOuterHeight&&this.isSampling===M.isSampling&&this.editorHeight===M.editorHeight&&this.fontScale===M.fontScale&&this.minimapLineHeight===M.minimapLineHeight&&this.minimapCharWidth===M.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(M.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(M.backgroundColor)&&this.foregroundAlpha===M.foregroundAlpha}}class g{constructor(M,N,O,x,F,B,z,j,R){this.scrollTop=M,this.scrollHeight=N,this.sliderNeeded=O,this._computedSliderRatio=x,this.sliderTop=F,this.sliderHeight=B,this.topPaddingLineCount=z,this.startLineNumber=j,this.endLineNumber=R}getDesiredScrollTopFromDelta(M){return Math.round(this.scrollTop+M/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(M){return Math.round((M-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(M){const N=Math.max(this.startLineNumber,M.startLineNumber),O=Math.min(this.endLineNumber,M.endLineNumber);return N>O?null:[N,O]}getYForLineNumber(M,N){return+(M-this.startLineNumber+this.topPaddingLineCount)*N}static create(M,N,O,x,F,B,z,j,R,Z,se){const le=M.pixelRatio,te=M.minimapLineHeight,Y=Math.floor(M.canvasInnerHeight/te),U=M.lineHeight;if(M.minimapHeightIsEditorHeight){let ce=j*M.lineHeight+M.paddingTop+M.paddingBottom;M.scrollBeyondLastLine&&(ce+=Math.max(0,F-M.lineHeight-M.paddingBottom));const ae=Math.max(1,Math.floor(F*F/ce)),ue=Math.max(0,M.minimapHeight-ae),q=ue/(Z-F),W=R*q,K=ue>0,ie=Math.floor(M.canvasInnerHeight/M.minimapLineHeight),ne=Math.floor(M.paddingTop/M.lineHeight);return new g(R,Z,K,q,W,ae,ne,1,Math.min(z,ie))}let V;if(B&&O!==z){const ce=O-N+1;V=Math.floor(ce*te/le)}else{const ce=F/U;V=Math.floor(ce*te/le)}const H=Math.floor(M.paddingTop/U);let $=Math.floor(M.paddingBottom/U);if(M.scrollBeyondLastLine){const ce=F/U;$=Math.max($,ce-1)}let X;if($>0){const ce=F/U;X=(H+z+$-ce-1)*te/le}else X=Math.max(0,(H+z)*te/le-V);X=Math.min(M.minimapHeight-V,X);const Q=X/(Z-F),de=R*Q;if(Y>=H+z+$){const ce=X>0;return new g(R,Z,ce,Q,de,V,H,1,z)}else{let ce;N>1?ce=N+H:ce=Math.max(1,R/U);let ae,ue=Math.max(1,Math.floor(ce-de*le/te));ue<H?(ae=H-ue+1,ue=1):(ae=0,ue=Math.max(1,ue-H)),se&&se.scrollHeight===Z&&(se.scrollTop>R&&(ue=Math.min(ue,se.startLineNumber),ae=Math.max(ae,se.topPaddingLineCount)),se.scrollTop<R&&(ue=Math.max(ue,se.startLineNumber),ae=Math.min(ae,se.topPaddingLineCount)));const q=Math.min(z,ue-ae+Y-1),W=(R-x)/U;let K;return R>=M.paddingTop?K=(N-ue+ae+W)*te/le:K=R/M.paddingTop*(ae+W)*te/le,new g(R,Z,!0,Q,K,V,ae,ue,q)}}}class p{constructor(M){this.dy=M}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}p.INVALID=new p(-1);class C{constructor(M,N,O){this.renderedLayout=M,this._imageData=N,this._renderedLines=new S.RenderedLinesCollection(()=>p.INVALID),this._renderedLines._set(M.startLineNumber,O)}linesEquals(M){if(!this.scrollEquals(M))return!1;const O=this._renderedLines._get().lines;for(let x=0,F=O.length;x<F;x++)if(O[x].dy===-1)return!1;return!0}scrollEquals(M){return this.renderedLayout.startLineNumber===M.startLineNumber&&this.renderedLayout.endLineNumber===M.endLineNumber}_get(){const M=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:M.rendLineNumberStart,lines:M.lines}}onLinesChanged(M,N){return this._renderedLines.onLinesChanged(M,N)}onLinesDeleted(M,N){this._renderedLines.onLinesDeleted(M,N)}onLinesInserted(M,N){this._renderedLines.onLinesInserted(M,N)}onTokensChanged(M){return this._renderedLines.onTokensChanged(M)}}class w{constructor(M,N,O,x){this._backgroundFillData=w._createBackgroundFillData(N,O,x),this._buffers=[M.createImageData(N,O),M.createImageData(N,O)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const M=this._buffers[this._lastUsedBuffer];return M.data.set(this._backgroundFillData),M}static _createBackgroundFillData(M,N,O){const x=O.r,F=O.g,B=O.b,z=O.a,j=new Uint8ClampedArray(M*N*4);let R=0;for(let Z=0;Z<N;Z++)for(let se=0;se<M;se++)j[R]=x,j[R+1]=F,j[R+2]=B,j[R+3]=z,R+=4;return j}}class E{static compute(M,N,O){if(M.renderMinimap===0||!M.isSampling)return[null,[]];const{minimapLineCount:x}=v.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:N,scrollBeyondLastLine:M.scrollBeyondLastLine,paddingTop:M.paddingTop,paddingBottom:M.paddingBottom,height:M.editorHeight,lineHeight:M.lineHeight,pixelRatio:M.pixelRatio}),F=N/x,B=F/2;if(!O||O.minimapLines.length===0){const V=[];if(V[0]=1,x>1){for(let H=0,$=x-1;H<$;H++)V[H]=Math.round(H*F+B);V[x-1]=N}return[new E(F,V),[]]}const z=O.minimapLines,j=z.length,R=[];let Z=0,se=0,le=1;const te=10;let Y=[],U=null;for(let V=0;V<x;V++){const H=Math.max(le,Math.round(V*F)),$=Math.max(H,Math.round((V+1)*F));for(;Z<j&&z[Z]<H;){if(Y.length<te){const Q=Z+1+se;U&&U.type==="deleted"&&U._oldIndex===Z-1?U.deleteToLineNumber++:(U={type:"deleted",_oldIndex:Z,deleteFromLineNumber:Q,deleteToLineNumber:Q},Y.push(U)),se--}Z++}let X;if(Z<j&&z[Z]<=$)X=z[Z],Z++;else if(V===0?X=1:V+1===x?X=N:X=Math.round(V*F+B),Y.length<te){const Q=Z+1+se;U&&U.type==="inserted"&&U._i===V-1?U.insertToLineNumber++:(U={type:"inserted",_i:V,insertFromLineNumber:Q,insertToLineNumber:Q},Y.push(U)),se++}R[V]=X,le=X}if(Y.length<te)for(;Z<j;){const V=Z+1+se;U&&U.type==="deleted"&&U._oldIndex===Z-1?U.deleteToLineNumber++:(U={type:"deleted",_oldIndex:Z,deleteFromLineNumber:V,deleteToLineNumber:V},Y.push(U)),se--,Z++}else Y=[{type:"flush"}];return[new E(F,R),Y]}constructor(M,N){this.samplingRatio=M,this.minimapLines=N}modelLineToMinimapLine(M){return Math.min(this.minimapLines.length,Math.max(1,Math.round(M/this.samplingRatio)))}modelLineRangeToMinimapLineRange(M,N){let O=this.modelLineToMinimapLine(M)-1;for(;O>0&&this.minimapLines[O-1]>=M;)O--;let x=this.modelLineToMinimapLine(N)-1;for(;x+1<this.minimapLines.length&&this.minimapLines[x+1]<=N;)x++;if(O===x){const F=this.minimapLines[O];if(F<M||F>N)return null}return[O+1,x+1]}decorationLineRangeToMinimapLineRange(M,N){let O=this.modelLineToMinimapLine(M),x=this.modelLineToMinimapLine(N);return M!==N&&x===O&&(x===this.minimapLines.length?O>1&&O--:x++),[O,x]}onLinesDeleted(M){const N=M.toLineNumber-M.fromLineNumber+1;let O=this.minimapLines.length,x=0;for(let F=this.minimapLines.length-1;F>=0&&!(this.minimapLines[F]<M.fromLineNumber);F--)this.minimapLines[F]<=M.toLineNumber?(this.minimapLines[F]=Math.max(1,M.fromLineNumber-1),O=Math.min(O,F),x=Math.max(x,F)):this.minimapLines[F]-=N;return[O,x]}onLinesInserted(M){const N=M.toLineNumber-M.fromLineNumber+1;for(let O=this.minimapLines.length-1;O>=0&&!(this.minimapLines[O]<M.fromLineNumber);O--)this.minimapLines[O]+=N}}class I extends f.ViewPart{constructor(M){super(M),this.tokensColorTracker=t.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new b(this._context.configuration,this._context.theme,this.tokensColorTracker);const[N]=E.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=N,this._shouldCheckSampling=!1,this._actual=new T(M.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const M=new b(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(M)?!1:(this.options=M,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(M){return this._onOptionsMaybeChanged()}onCursorStateChanged(M){return this._selections=M.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(M){return M.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(M){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(M){if(this._samplingState){const N=this._samplingState.modelLineRangeToMinimapLineRange(M.fromLineNumber,M.fromLineNumber+M.count-1);return N?this._actual.onLinesChanged(N[0],N[1]-N[0]+1):!1}else return this._actual.onLinesChanged(M.fromLineNumber,M.count)}onLinesDeleted(M){if(this._samplingState){const[N,O]=this._samplingState.onLinesDeleted(M);return N<=O&&this._actual.onLinesChanged(N+1,O-N+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(M.fromLineNumber,M.toLineNumber)}onLinesInserted(M){return this._samplingState?(this._samplingState.onLinesInserted(M),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(M.fromLineNumber,M.toLineNumber)}onScrollChanged(M){return this._actual.onScrollChanged()}onThemeChanged(M){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(M){if(this._samplingState){const N=[];for(const O of M.ranges){const x=this._samplingState.modelLineRangeToMinimapLineRange(O.fromLineNumber,O.toLineNumber);x&&N.push({fromLineNumber:x[0],toLineNumber:x[1]})}return N.length?this._actual.onTokensChanged(N):!1}else return this._actual.onTokensChanged(M.ranges)}onTokensColorsChanged(M){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(M){return this._actual.onZonesChanged()}prepareRender(M){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(M){let N=M.visibleRange.startLineNumber,O=M.visibleRange.endLineNumber;this._samplingState&&(N=this._samplingState.modelLineToMinimapLine(N),O=this._samplingState.modelLineToMinimapLine(O));const x={viewportContainsWhitespaceGaps:M.viewportData.whitespaceViewportData.length>0,scrollWidth:M.scrollWidth,scrollHeight:M.scrollHeight,viewportStartLineNumber:N,viewportEndLineNumber:O,viewportStartLineNumberVerticalOffset:M.getVerticalOffsetForLineNumber(N),scrollTop:M.scrollTop,scrollLeft:M.scrollLeft,viewportWidth:M.viewportWidth,viewportHeight:M.viewportHeight};this._actual.render(x)}_recreateLineSampling(){this._minimapSelections=null;const M=!!this._samplingState,[N,O]=E.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=N,M&&this._samplingState)for(const x of O)switch(x.type){case"deleted":this._actual.onLinesDeleted(x.deleteFromLineNumber,x.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(x.insertFromLineNumber,x.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(M){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineContent(M)}getLineMaxColumn(M){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineMaxColumn(M)}getMinimapLinesRenderingData(M,N,O){if(this._samplingState){const x=[];for(let F=0,B=N-M+1;F<B;F++)O[F]?x[F]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[M+F-1]):x[F]=null;return x}return this._context.viewModel.getMinimapLinesRenderingData(M,N,O).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const M of this._selections){const[N,O]=this._samplingState.decorationLineRangeToMinimapLineRange(M.startLineNumber,M.endLineNumber);this._minimapSelections.push(new l.Selection(N,M.startColumn,O,M.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(M,N){let O;if(this._samplingState){const F=this._samplingState.minimapLines[M-1],B=this._samplingState.minimapLines[N-1];O=new o.Range(F,1,B,this._context.viewModel.getLineMaxColumn(B))}else O=new o.Range(M,1,N,this._context.viewModel.getLineMaxColumn(N));const x=this._context.viewModel.getMinimapDecorationsInRange(O);if(this._samplingState){const F=[];for(const B of x){if(!B.options.minimap)continue;const z=B.range,j=this._samplingState.modelLineToMinimapLine(z.startLineNumber),R=this._samplingState.modelLineToMinimapLine(z.endLineNumber);F.push(new n.ViewModelDecoration(new o.Range(j,z.startColumn,R,z.endColumn),B.options))}return F}return x}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(M){this._samplingState&&(M=this._samplingState.minimapLines[M-1]),this._context.viewModel.revealRange("mouse",!1,new o.Range(M,1,M,1),1,0)}setScrollTop(M){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:M},1)}}e.Minimap=I;class T extends D.Disposable{constructor(M,N){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=M,this._model=N,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(r.minimapSelection),this._domNode=(0,k.createFastDomNode)(document.createElement("div")),f.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,k.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,k.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,k.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=y.addStandardDisposableListener(this._domNode.domNode,y.EventType.POINTER_DOWN,O=>{if(O.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(O.button===0&&this._lastRenderData){const R=y.getDomNodePagePosition(this._slider.domNode),Z=R.top+R.height/2;this._startSliderDragging(O,Z,this._lastRenderData.renderedLayout)}return}const F=this._model.options.minimapLineHeight,B=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*O.offsetY;let j=Math.floor(B/F)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;j=Math.min(j,this._model.getLineCount()),this._model.revealLineNumber(j)}),this._sliderPointerMoveMonitor=new L.GlobalPointerMoveMonitor,this._sliderPointerDownListener=y.addStandardDisposableListener(this._slider.domNode,y.EventType.POINTER_DOWN,O=>{O.preventDefault(),O.stopPropagation(),O.button===0&&this._lastRenderData&&this._startSliderDragging(O,O.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=h.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=y.addDisposableListener(this._domNode.domNode,h.EventType.Start,O=>{O.preventDefault(),O.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(O))},{passive:!1}),this._sliderTouchMoveListener=y.addDisposableListener(this._domNode.domNode,h.EventType.Change,O=>{O.preventDefault(),O.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(O)},{passive:!1}),this._sliderTouchEndListener=y.addStandardDisposableListener(this._domNode.domNode,h.EventType.End,O=>{O.preventDefault(),O.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(M,N,O){if(!M.target||!(M.target instanceof Element))return;const x=M.pageX;this._slider.toggleClassName("active",!0);const F=(B,z)=>{const j=y.getDomNodePagePosition(this._domNode.domNode),R=Math.min(Math.abs(z-x),Math.abs(z-j.left),Math.abs(z-j.left-j.width));if(_.isWindows&&R>d){this._model.setScrollTop(O.scrollTop);return}const Z=B-N;this._model.setScrollTop(O.getDesiredScrollTopFromDelta(Z))};M.pageY!==N&&F(M.pageY,x),this._sliderPointerMoveMonitor.startMonitoring(M.target,M.pointerId,M.buttons,B=>F(B.pageY,B.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(M){const N=this._domNode.domNode.getBoundingClientRect().top,O=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(M.pageY-N);this._model.setScrollTop(O)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const M=["minimap"];return this._model.options.showSlider==="always"?M.push("slider-always"):M.push("slider-mouseover"),this._model.options.autohide&&M.push("autohide"),M.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new w(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(M,N){return this._lastRenderData?this._lastRenderData.onLinesChanged(M,N):!1}onLinesDeleted(M,N){var O;return(O=this._lastRenderData)===null||O===void 0||O.onLinesDeleted(M,N),!0}onLinesInserted(M,N){var O;return(O=this._lastRenderData)===null||O===void 0||O.onLinesInserted(M,N),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(r.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(M){return this._lastRenderData?this._lastRenderData.onTokensChanged(M):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(M){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}M.scrollLeft+M.viewportWidth>=M.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const O=g.create(this._model.options,M.viewportStartLineNumber,M.viewportEndLineNumber,M.viewportStartLineNumberVerticalOffset,M.viewportHeight,M.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),M.scrollTop,M.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(O.sliderNeeded?"block":"none"),this._slider.setTop(O.sliderTop),this._slider.setHeight(O.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(O.sliderHeight),this.renderDecorations(O),this._lastRenderData=this.renderLines(O)}renderDecorations(M){if(this._renderDecorations){this._renderDecorations=!1;const N=this._model.getSelections();N.sort(o.Range.compareRangesUsingStarts);const O=this._model.getMinimapDecorationsInViewport(M.startLineNumber,M.endLineNumber);O.sort((le,te)=>(le.options.zIndex||0)-(te.options.zIndex||0));const{canvasInnerWidth:x,canvasInnerHeight:F}=this._model.options,B=this._model.options.minimapLineHeight,z=this._model.options.minimapCharWidth,j=this._model.getOptions().tabSize,R=this._decorationsCanvas.domNode.getContext("2d");R.clearRect(0,0,x,F);const Z=new P(M.startLineNumber,M.endLineNumber,!1);this._renderSelectionLineHighlights(R,N,Z,M,B),this._renderDecorationsLineHighlights(R,O,Z,M,B);const se=new P(M.startLineNumber,M.endLineNumber,null);this._renderSelectionsHighlights(R,N,se,M,B,j,z,x),this._renderDecorationsHighlights(R,O,se,M,B,j,z,x)}}_renderSelectionLineHighlights(M,N,O,x,F){if(!this._selectionColor||this._selectionColor.isTransparent())return;M.fillStyle=this._selectionColor.transparent(.5).toString();let B=0,z=0;for(const j of N){const R=x.intersectWithViewport(j);if(!R)continue;const[Z,se]=R;for(let Y=Z;Y<=se;Y++)O.set(Y,!0);const le=x.getYForLineNumber(Z,F),te=x.getYForLineNumber(se,F);z>=le||(z>B&&M.fillRect(v.MINIMAP_GUTTER_WIDTH,B,M.canvas.width,z-B),B=le),z=te}z>B&&M.fillRect(v.MINIMAP_GUTTER_WIDTH,B,M.canvas.width,z-B)}_renderDecorationsLineHighlights(M,N,O,x,F){const B=new Map;for(let z=N.length-1;z>=0;z--){const j=N[z],R=j.options.minimap;if(!R||R.position!==u.MinimapPosition.Inline)continue;const Z=x.intersectWithViewport(j.range);if(!Z)continue;const[se,le]=Z,te=R.getColor(this._theme.value);if(!te||te.isTransparent())continue;let Y=B.get(te.toString());Y||(Y=te.transparent(.5).toString(),B.set(te.toString(),Y)),M.fillStyle=Y;for(let U=se;U<=le;U++){if(O.has(U))continue;O.set(U,!0);const V=x.getYForLineNumber(se,F);M.fillRect(v.MINIMAP_GUTTER_WIDTH,V,M.canvas.width,F)}}}_renderSelectionsHighlights(M,N,O,x,F,B,z,j){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const R of N){const Z=x.intersectWithViewport(R);if(!Z)continue;const[se,le]=Z;for(let te=se;te<=le;te++)this.renderDecorationOnLine(M,O,R,this._selectionColor,x,te,F,F,B,z,j)}}_renderDecorationsHighlights(M,N,O,x,F,B,z,j){for(const R of N){const Z=R.options.minimap;if(!Z)continue;const se=x.intersectWithViewport(R.range);if(!se)continue;const[le,te]=se,Y=Z.getColor(this._theme.value);if(!(!Y||Y.isTransparent()))for(let U=le;U<=te;U++)switch(Z.position){case u.MinimapPosition.Inline:this.renderDecorationOnLine(M,O,R.range,Y,x,U,F,F,B,z,j);continue;case u.MinimapPosition.Gutter:{const V=x.getYForLineNumber(U,F),H=2;this.renderDecoration(M,Y,H,V,c,F);continue}}}}renderDecorationOnLine(M,N,O,x,F,B,z,j,R,Z,se){const le=F.getYForLineNumber(B,j);if(le+z<0||le>this._model.options.canvasInnerHeight)return;const{startLineNumber:te,endLineNumber:Y}=O,U=te===B?O.startColumn:1,V=Y===B?O.endColumn:this._model.getLineMaxColumn(B),H=this.getXOffsetForPosition(N,B,U,R,Z,se),$=this.getXOffsetForPosition(N,B,V,R,Z,se);this.renderDecoration(M,x,H,le,$-H,z)}getXOffsetForPosition(M,N,O,x,F,B){if(O===1)return v.MINIMAP_GUTTER_WIDTH;if((O-1)*F>=B)return B;let j=M.get(N);if(!j){const R=this._model.getLineContent(N);j=[v.MINIMAP_GUTTER_WIDTH];let Z=v.MINIMAP_GUTTER_WIDTH;for(let se=1;se<R.length+1;se++){const le=R.charCodeAt(se-1),te=le===9?x*F:m.isFullWidthCharacter(le)?2*F:F,Y=Z+te;if(Y>=B){j[se]=B;break}j[se]=Y,Z=Y}M.set(N,j)}return O-1<j.length?j[O-1]:B}renderDecoration(M,N,O,x,F,B){M.fillStyle=N&&N.toString()||"",M.fillRect(O,x,F,B)}renderLines(M){const N=M.startLineNumber,O=M.endLineNumber,x=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(M)){const re=this._lastRenderData._get();return new C(M,re.imageData,re.lines)}const F=this._getBuffer();if(!F)return null;const[B,z,j]=T._renderUntouchedLines(F,M.topPaddingLineCount,N,O,x,this._lastRenderData),R=this._model.getMinimapLinesRenderingData(N,O,j),Z=this._model.getOptions().tabSize,se=this._model.options.defaultBackgroundColor,le=this._model.options.backgroundColor,te=this._model.options.foregroundAlpha,Y=this._model.tokensColorTracker,U=Y.backgroundIsLight(),V=this._model.options.renderMinimap,H=this._model.options.charRenderer(),$=this._model.options.fontScale,X=this._model.options.minimapCharWidth,de=(V===1?2:2+1)*$,ce=x>de?Math.floor((x-de)/2):0,ae=le.a/255,ue=new i.RGBA8(Math.round((le.r-se.r)*ae+se.r),Math.round((le.g-se.g)*ae+se.g),Math.round((le.b-se.b)*ae+se.b),255);let q=M.topPaddingLineCount*x;const W=[];for(let re=0,ge=O-N+1;re<ge;re++)j[re]&&T._renderLine(F,ue,le.a,U,V,X,Y,te,H,q,ce,Z,R[re],$,x),W[re]=new p(q),q+=x;const K=B===-1?0:B,ne=(z===-1?F.height:z)-K;return this._canvas.domNode.getContext("2d").putImageData(F,0,0,0,K,F.width,ne),new C(M,F,W)}static _renderUntouchedLines(M,N,O,x,F,B){const z=[];if(!B){for(let q=0,W=x-O+1;q<W;q++)z[q]=!0;return[-1,-1,z]}const j=B._get(),R=j.imageData.data,Z=j.rendLineNumberStart,se=j.lines,le=se.length,te=M.width,Y=M.data,U=(x-O+1)*F*te*4;let V=-1,H=-1,$=-1,X=-1,Q=-1,de=-1,ce=N*F;for(let q=O;q<=x;q++){const W=q-O,K=q-Z,ie=K>=0&&K<le?se[K].dy:-1;if(ie===-1){z[W]=!0,ce+=F;continue}const ne=ie*te*4,oe=(ie+F)*te*4,re=ce*te*4,ge=(ce+F)*te*4;X===ne&&de===re?(X=oe,de=ge):($!==-1&&(Y.set(R.subarray($,X),Q),V===-1&&$===0&&$===Q&&(V=X),H===-1&&X===U&&$===Q&&(H=$)),$=ne,X=oe,Q=re,de=ge),z[W]=!1,ce+=F}$!==-1&&(Y.set(R.subarray($,X),Q),V===-1&&$===0&&$===Q&&(V=X),H===-1&&X===U&&$===Q&&(H=$));const ae=V===-1?-1:V/(te*4),ue=H===-1?-1:H/(te*4);return[ae,ue,z]}static _renderLine(M,N,O,x,F,B,z,j,R,Z,se,le,te,Y,U){const V=te.content,H=te.tokens,$=M.width-B,X=U===1;let Q=v.MINIMAP_GUTTER_WIDTH,de=0,ce=0;for(let ae=0,ue=H.getCount();ae<ue;ae++){const q=H.getEndOffset(ae),W=H.getForeground(ae),K=z.getColor(W);for(;de<q;de++){if(Q>$)return;const ie=V.charCodeAt(de);if(ie===9){const ne=le-(de+ce)%le;ce+=ne-1,Q+=ne*B}else if(ie===32)Q+=B;else{const ne=m.isFullWidthCharacter(ie)?2:1;for(let oe=0;oe<ne;oe++)if(F===2?R.blockRenderChar(M,Q,Z+se,K,j,N,O,X):R.renderChar(M,Q,Z+se,ie,K,j,N,O,Y,x,X),Q+=B,Q>$)return}}}}}class P{constructor(M,N,O){this._startLineNumber=M,this._endLineNumber=N,this._defaultValue=O,this._values=[];for(let x=0,F=this._endLineNumber-this._startLineNumber+1;x<F;x++)this._values[x]=O}has(M){return this.get(M)!==this._defaultValue}set(M,N){M<this._startLineNumber||M>this._endLineNumber||(this._values[M-this._startLineNumber]=N)}get(M){return M<this._startLineNumber||M>this._endLineNumber?this._defaultValue:this._values[M-this._startLineNumber]}}}),define(J[813],ee([1,0,602,32]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffMoveBorder=void 0,e.diffMoveBorder=(0,k.registerColor)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,y.localize)(0,null))}),define(J[250],ee([1,0,698,32,458]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,y.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,y.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,y.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,y.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,y.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,y.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,y.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,y.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,y.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,y.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,y.localize)(32,null))}),define(J[814],ee([1,0,26,113,635,174,250]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMenuItems=void 0;const D=Object.freeze({kind:k.CodeActionKind.Empty,title:(0,L.localize)(0,null)}),_=Object.freeze([{kind:k.CodeActionKind.QuickFix,title:(0,L.localize)(1,null)},{kind:k.CodeActionKind.RefactorExtract,title:(0,L.localize)(2,null),icon:y.Codicon.wrench},{kind:k.CodeActionKind.RefactorInline,title:(0,L.localize)(3,null),icon:y.Codicon.wrench},{kind:k.CodeActionKind.RefactorRewrite,title:(0,L.localize)(4,null),icon:y.Codicon.wrench},{kind:k.CodeActionKind.RefactorMove,title:(0,L.localize)(5,null),icon:y.Codicon.wrench},{kind:k.CodeActionKind.SurroundWith,title:(0,L.localize)(6,null),icon:y.Codicon.symbolSnippet},{kind:k.CodeActionKind.Source,title:(0,L.localize)(7,null),icon:y.Codicon.symbolFile},D]);function m(S,f,v){if(!f)return S.map(t=>({kind:"action",item:t,group:D,disabled:!!t.action.disabled,label:t.action.disabled||t.action.title}));const o=_.map(t=>({group:t,actions:[]}));for(const t of S){const n=t.action.kind?new k.CodeActionKind(t.action.kind):k.CodeActionKind.None;for(const r of o)if(r.group.kind.contains(n)){r.actions.push(t);break}}const i=[];for(const t of o)if(t.actions.length){i.push({kind:"header",group:t.group});for(const n of t.actions)i.push({kind:"action",item:n,group:t.group,label:n.action.title,disabled:!!n.action.disabled,keybinding:v(n.action)})}return i}e.toMenuItems=m}),define(J[104],ee([1,0,32,37]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultMenuStyles=e.defaultSelectBoxStyles=e.getListStyles=e.defaultListStyles=e.defaultBreadcrumbsWidgetStyles=e.defaultCountBadgeStyles=e.defaultFindWidgetStyles=e.defaultInputBoxStyles=e.defaultDialogStyles=e.defaultCheckboxStyles=e.defaultToggleStyles=e.defaultProgressBarStyles=e.defaultButtonStyles=e.defaultKeybindingLabelStyles=void 0;function L(_,m){const S=Object.assign({},m);for(const f in _){const v=_[f];S[f]=v!==void 0?(0,y.asCssVariable)(v):void 0}return S}e.defaultKeybindingLabelStyles={keybindingLabelBackground:(0,y.asCssVariable)(y.keybindingLabelBackground),keybindingLabelForeground:(0,y.asCssVariable)(y.keybindingLabelForeground),keybindingLabelBorder:(0,y.asCssVariable)(y.keybindingLabelBorder),keybindingLabelBottomBorder:(0,y.asCssVariable)(y.keybindingLabelBottomBorder),keybindingLabelShadow:(0,y.asCssVariable)(y.widgetShadow)},e.defaultButtonStyles={buttonForeground:(0,y.asCssVariable)(y.buttonForeground),buttonSeparator:(0,y.asCssVariable)(y.buttonSeparator),buttonBackground:(0,y.asCssVariable)(y.buttonBackground),buttonHoverBackground:(0,y.asCssVariable)(y.buttonHoverBackground),buttonSecondaryForeground:(0,y.asCssVariable)(y.buttonSecondaryForeground),buttonSecondaryBackground:(0,y.asCssVariable)(y.buttonSecondaryBackground),buttonSecondaryHoverBackground:(0,y.asCssVariable)(y.buttonSecondaryHoverBackground),buttonBorder:(0,y.asCssVariable)(y.buttonBorder)},e.defaultProgressBarStyles={progressBarBackground:(0,y.asCssVariable)(y.progressBarBackground)},e.defaultToggleStyles={inputActiveOptionBorder:(0,y.asCssVariable)(y.inputActiveOptionBorder),inputActiveOptionForeground:(0,y.asCssVariable)(y.inputActiveOptionForeground),inputActiveOptionBackground:(0,y.asCssVariable)(y.inputActiveOptionBackground)},e.defaultCheckboxStyles={checkboxBackground:(0,y.asCssVariable)(y.checkboxBackground),checkboxBorder:(0,y.asCssVariable)(y.checkboxBorder),checkboxForeground:(0,y.asCssVariable)(y.checkboxForeground)},e.defaultDialogStyles={dialogBackground:(0,y.asCssVariable)(y.editorWidgetBackground),dialogForeground:(0,y.asCssVariable)(y.editorWidgetForeground),dialogShadow:(0,y.asCssVariable)(y.widgetShadow),dialogBorder:(0,y.asCssVariable)(y.contrastBorder),errorIconForeground:(0,y.asCssVariable)(y.problemsErrorIconForeground),warningIconForeground:(0,y.asCssVariable)(y.problemsWarningIconForeground),infoIconForeground:(0,y.asCssVariable)(y.problemsInfoIconForeground),textLinkForeground:(0,y.asCssVariable)(y.textLinkForeground)},e.defaultInputBoxStyles={inputBackground:(0,y.asCssVariable)(y.inputBackground),inputForeground:(0,y.asCssVariable)(y.inputForeground),inputBorder:(0,y.asCssVariable)(y.inputBorder),inputValidationInfoBorder:(0,y.asCssVariable)(y.inputValidationInfoBorder),inputValidationInfoBackground:(0,y.asCssVariable)(y.inputValidationInfoBackground),inputValidationInfoForeground:(0,y.asCssVariable)(y.inputValidationInfoForeground),inputValidationWarningBorder:(0,y.asCssVariable)(y.inputValidationWarningBorder),inputValidationWarningBackground:(0,y.asCssVariable)(y.inputValidationWarningBackground),inputValidationWarningForeground:(0,y.asCssVariable)(y.inputValidationWarningForeground),inputValidationErrorBorder:(0,y.asCssVariable)(y.inputValidationErrorBorder),inputValidationErrorBackground:(0,y.asCssVariable)(y.inputValidationErrorBackground),inputValidationErrorForeground:(0,y.asCssVariable)(y.inputValidationErrorForeground)},e.defaultFindWidgetStyles={listFilterWidgetBackground:(0,y.asCssVariable)(y.listFilterWidgetBackground),listFilterWidgetOutline:(0,y.asCssVariable)(y.listFilterWidgetOutline),listFilterWidgetNoMatchesOutline:(0,y.asCssVariable)(y.listFilterWidgetNoMatchesOutline),listFilterWidgetShadow:(0,y.asCssVariable)(y.listFilterWidgetShadow),inputBoxStyles:e.defaultInputBoxStyles,toggleStyles:e.defaultToggleStyles},e.defaultCountBadgeStyles={badgeBackground:(0,y.asCssVariable)(y.badgeBackground),badgeForeground:(0,y.asCssVariable)(y.badgeForeground),badgeBorder:(0,y.asCssVariable)(y.contrastBorder)},e.defaultBreadcrumbsWidgetStyles={breadcrumbsBackground:(0,y.asCssVariable)(y.breadcrumbsBackground),breadcrumbsForeground:(0,y.asCssVariable)(y.breadcrumbsForeground),breadcrumbsHoverForeground:(0,y.asCssVariable)(y.breadcrumbsFocusForeground),breadcrumbsFocusForeground:(0,y.asCssVariable)(y.breadcrumbsFocusForeground),breadcrumbsFocusAndSelectionForeground:(0,y.asCssVariable)(y.breadcrumbsActiveSelectionForeground)},e.defaultListStyles={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,y.asCssVariable)(y.listFocusBackground),listFocusForeground:(0,y.asCssVariable)(y.listFocusForeground),listFocusOutline:(0,y.asCssVariable)(y.listFocusOutline),listActiveSelectionBackground:(0,y.asCssVariable)(y.listActiveSelectionBackground),listActiveSelectionForeground:(0,y.asCssVariable)(y.listActiveSelectionForeground),listActiveSelectionIconForeground:(0,y.asCssVariable)(y.listActiveSelectionIconForeground),listFocusAndSelectionOutline:(0,y.asCssVariable)(y.listFocusAndSelectionOutline),listFocusAndSelectionBackground:(0,y.asCssVariable)(y.listActiveSelectionBackground),listFocusAndSelectionForeground:(0,y.asCssVariable)(y.listActiveSelectionForeground),listInactiveSelectionBackground:(0,y.asCssVariable)(y.listInactiveSelectionBackground),listInactiveSelectionIconForeground:(0,y.asCssVariable)(y.listInactiveSelectionIconForeground),listInactiveSelectionForeground:(0,y.asCssVariable)(y.listInactiveSelectionForeground),listInactiveFocusBackground:(0,y.asCssVariable)(y.listInactiveFocusBackground),listInactiveFocusOutline:(0,y.asCssVariable)(y.listInactiveFocusOutline),listHoverBackground:(0,y.asCssVariable)(y.listHoverBackground),listHoverForeground:(0,y.asCssVariable)(y.listHoverForeground),listDropBackground:(0,y.asCssVariable)(y.listDropBackground),listSelectionOutline:(0,y.asCssVariable)(y.activeContrastBorder),listHoverOutline:(0,y.asCssVariable)(y.activeContrastBorder),treeIndentGuidesStroke:(0,y.asCssVariable)(y.treeIndentGuidesStroke),treeInactiveIndentGuidesStroke:(0,y.asCssVariable)(y.treeInactiveIndentGuidesStroke),tableColumnsBorder:(0,y.asCssVariable)(y.tableColumnsBorder),tableOddRowsBackgroundColor:(0,y.asCssVariable)(y.tableOddRowsBackgroundColor)};function D(_){return L(_,e.defaultListStyles)}e.getListStyles=D,e.defaultSelectBoxStyles={selectBackground:(0,y.asCssVariable)(y.selectBackground),selectListBackground:(0,y.asCssVariable)(y.selectListBackground),selectForeground:(0,y.asCssVariable)(y.selectForeground),decoratorRightForeground:(0,y.asCssVariable)(y.pickerGroupForeground),selectBorder:(0,y.asCssVariable)(y.selectBorder),focusBorder:(0,y.asCssVariable)(y.focusBorder),listFocusBackground:(0,y.asCssVariable)(y.quickInputListFocusBackground),listInactiveSelectionIconForeground:(0,y.asCssVariable)(y.quickInputListFocusIconForeground),listFocusForeground:(0,y.asCssVariable)(y.quickInputListFocusForeground),listFocusOutline:(0,y.asCssVariableWithDefault)(y.activeContrastBorder,k.Color.transparent.toString()),listHoverBackground:(0,y.asCssVariable)(y.listHoverBackground),listHoverForeground:(0,y.asCssVariable)(y.listHoverForeground),listHoverOutline:(0,y.asCssVariable)(y.activeContrastBorder),selectListBorder:(0,y.asCssVariable)(y.editorWidgetBorder),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},e.defaultMenuStyles={shadowColor:(0,y.asCssVariable)(y.widgetShadow),borderColor:(0,y.asCssVariable)(y.menuBorder),foregroundColor:(0,y.asCssVariable)(y.menuForeground),backgroundColor:(0,y.asCssVariable)(y.menuBackground),selectionForegroundColor:(0,y.asCssVariable)(y.menuSelectionForeground),selectionBackgroundColor:(0,y.asCssVariable)(y.menuSelectionBackground),selectionBorderColor:(0,y.asCssVariable)(y.menuSelectionBorder),separatorColor:(0,y.asCssVariable)(y.menuSeparatorBackground),scrollbarShadow:(0,y.asCssVariable)(y.scrollbarShadow),scrollbarSliderBackground:(0,y.asCssVariable)(y.scrollbarSliderBackground),scrollbarSliderHoverBackground:(0,y.asCssVariable)(y.scrollbarSliderHoverBackground),scrollbarSliderActiveBackground:(0,y.asCssVariable)(y.scrollbarSliderActiveBackground)}}),define(J[815],ee([1,0,7,304,305,228,71,2,43,69,660,8,34,161,104,158]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let l=class{constructor(C){this._resolverService=C}hasChildren(C){return C instanceof r.ReferencesModel||C instanceof r.FileReferences}getChildren(C){if(C instanceof r.ReferencesModel)return C.groups;if(C instanceof r.FileReferences)return C.resolve(this._resolverService).then(w=>w.children);throw new Error("bad tree")}};e.DataSource=l,e.DataSource=l=Ne([fe(0,f.ITextModelService)],l);class h{getHeight(){return 23}getTemplateId(C){return C instanceof r.FileReferences?d.id:b.id}}e.Delegate=h;let s=class{constructor(C){this._keybindingService=C}getKeyboardNavigationLabel(C){var w;if(C instanceof r.OneReference){const E=(w=C.parent.getPreview(C))===null||w===void 0?void 0:w.preview(C.range);if(E)return E.value}return(0,S.basename)(C.uri)}};e.StringRepresentationProvider=s,e.StringRepresentationProvider=s=Ne([fe(0,i.IKeybindingService)],s);class u{getId(C){return C instanceof r.OneReference?C.id:C.uri}}e.IdentityProvider=u;let a=class extends m.Disposable{constructor(C,w){super(),this._labelService=w;const E=document.createElement("div");E.classList.add("reference-file"),this.file=this._register(new D.IconLabel(E,{supportHighlights:!0})),this.badge=new k.CountBadge(y.append(E,y.$(".count")),{},n.defaultCountBadgeStyles),C.appendChild(E)}set(C,w){const E=(0,S.dirname)(C.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(C.uri),this._labelService.getUriLabel(E,{relative:!0}),{title:this._labelService.getUriLabel(C.uri),matches:w});const I=C.children.length;this.badge.setCount(I),I>1?this.badge.setTitleFormat((0,v.localize)(0,null,I)):this.badge.setTitleFormat((0,v.localize)(1,null,I))}};a=Ne([fe(1,t.ILabelService)],a);let d=class Ui{constructor(C){this._instantiationService=C,this.templateId=Ui.id}renderTemplate(C){return this._instantiationService.createInstance(a,C)}renderElement(C,w,E){E.set(C.element,(0,_.createMatches)(C.filterData))}disposeTemplate(C){C.dispose()}};e.FileReferencesRenderer=d,d.id="FileReferencesRenderer",e.FileReferencesRenderer=d=Ne([fe(0,o.IInstantiationService)],d);class c{constructor(C){this.label=new L.HighlightedLabel(C)}set(C,w){var E;const I=(E=C.parent.getPreview(C))===null||E===void 0?void 0:E.preview(C.range);if(!I||!I.value)this.label.set(`${(0,S.basename)(C.uri)}:${C.range.startLineNumber+1}:${C.range.startColumn+1}`);else{const{value:T,highlight:P}=I;w&&!_.FuzzyScore.isDefault(w)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(T,(0,_.createMatches)(w))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(T,[P]))}}}class b{constructor(){this.templateId=b.id}renderTemplate(C){return new c(C)}renderElement(C,w,E){E.set(C.element,C.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=b,b.id="OneReferenceRenderer";class g{getWidgetAriaLabel(){return(0,v.localize)(2,null)}getAriaLabel(C){return C.ariaMessage}}e.AccessibilityProvider=g}),define(J[816],ee([1,0,7,224,114,26,2,17,27,707,57,34,104,32,268]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionList=e.previewSelectedActionCommand=e.acceptSelectedActionCommand=void 0,e.acceptSelectedActionCommand="acceptSelectedCodeAction",e.previewSelectedActionCommand="previewSelectedCodeAction";class n{get templateId(){return"header"}renderTemplate(d){d.classList.add("group-header");const c=document.createElement("span");return d.append(c),{container:d,text:c}}renderElement(d,c,b){var g,p;b.text.textContent=(p=(g=d.group)===null||g===void 0?void 0:g.title)!==null&&p!==void 0?p:""}disposeTemplate(d){}}let r=class{get templateId(){return"action"}constructor(d,c){this._supportsPreview=d,this._keybindingService=c}renderTemplate(d){d.classList.add(this.templateId);const c=document.createElement("div");c.className="icon",d.append(c);const b=document.createElement("span");b.className="title",d.append(b);const g=new k.KeybindingLabel(d,m.OS);return{container:d,icon:c,text:b,keybinding:g}}renderElement(d,c,b){var g,p,C;if(!((g=d.group)===null||g===void 0)&&g.icon?(b.icon.className=S.ThemeIcon.asClassName(d.group.icon),d.group.icon.color&&(b.icon.style.color=(0,t.asCssVariable)(d.group.icon.color.id))):(b.icon.className=S.ThemeIcon.asClassName(D.Codicon.lightBulb),b.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!d.item||!d.label)return;b.text.textContent=u(d.label),b.keybinding.set(d.keybinding),y.setVisibility(!!d.keybinding,b.keybinding.element);const w=(p=this._keybindingService.lookupKeybinding(e.acceptSelectedActionCommand))===null||p===void 0?void 0:p.getLabel(),E=(C=this._keybindingService.lookupKeybinding(e.previewSelectedActionCommand))===null||C===void 0?void 0:C.getLabel();b.container.classList.toggle("option-disabled",d.disabled),d.disabled?b.container.title=d.label:w&&E?this._supportsPreview?b.container.title=(0,f.localize)(0,null,w,E):b.container.title=(0,f.localize)(1,null,w):b.container.title=""}disposeTemplate(d){}};r=Ne([fe(1,o.IKeybindingService)],r);class l extends UIEvent{constructor(){super("acceptSelectedAction")}}class h extends UIEvent{constructor(){super("previewSelectedAction")}}let s=class extends _.Disposable{constructor(d,c,b,g,p,C){super(),this._delegate=g,this._contextViewService=p,this._keybindingService=C,this._actionLineHeight=24,this._headerLineHeight=26,this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const w={getHeight:E=>E.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:E=>E.kind};this._list=this._register(new L.List(d,this.domNode,w,[new r(c,this._keybindingService),new n],{keyboardSupport:!1,accessibilityProvider:{getAriaLabel:E=>{if(E.kind==="action"){let I=E.label?u(E?.label):"";return E.disabled&&(I=(0,f.localize)(2,null,I,E.disabled)),I}return null},getWidgetAriaLabel:()=>(0,f.localize)(3,null),getRole:E=>E.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(i.defaultListStyles),this._register(this._list.onMouseClick(E=>this.onListClick(E))),this._register(this._list.onMouseOver(E=>this.onListHover(E))),this._register(this._list.onDidChangeFocus(()=>this._list.domFocus())),this._register(this._list.onDidChangeSelection(E=>this.onListSelection(E))),this._allMenuItems=b,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(d){return!d.disabled&&d.kind==="action"}hide(d){this._delegate.onHide(d),this._contextViewService.hideContextView()}layout(d){const c=this._allMenuItems.filter(I=>I.kind==="header").length,g=this._allMenuItems.length*this._actionLineHeight+c*this._headerLineHeight-c*this._actionLineHeight;this._list.layout(g);const p=this._allMenuItems.map((I,T)=>{const P=document.getElementById(this._list.getElementID(T));if(P){P.style.width="auto";const A=P.getBoundingClientRect().width;return P.style.width="",A}return 0}),C=Math.max(...p,d),w=.7,E=Math.min(g,document.body.clientHeight*w);return this._list.layout(E,C),this.domNode.style.height=`${E}px`,this._list.domFocus(),C}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(d){const c=this._list.getFocus();if(c.length===0)return;const b=c[0],g=this._list.element(b);if(!this.focusCondition(g))return;const p=d?new h:new l;this._list.setSelection([b],p)}onListSelection(d){if(!d.elements.length)return;const c=d.elements[0];c.item&&this.focusCondition(c)?this._delegate.onSelect(c.item,d.browserEvent instanceof h):this._list.setSelection([])}onListHover(d){this._list.setFocus(typeof d.index=="number"?[d.index]:[])}onListClick(d){d.element&&this.focusCondition(d.element)&&this._list.setFocus([])}};e.ActionList=s,e.ActionList=s=Ne([fe(4,v.IContextViewService),fe(5,o.IKeybindingService)],s);function u(a){return a.replace(/\r\n|\r|\n/g," ")}}),define(J[817],ee([1,0,7,68,2,708,816,29,14,57,49,8,268]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IActionWidgetService=void 0;const i={Visible:new S.RawContextKey("codeActionMenuVisible",!1,(0,D.localize)(0,null))};e.IActionWidgetService=(0,o.createDecorator)("actionWidgetService");let t=class extends L.Disposable{get isVisible(){return i.Visible.getValue(this._contextKeyService)||!1}constructor(l,h,s){super(),this._contextViewService=l,this._contextKeyService=h,this._instantiationService=s,this._list=this._register(new L.MutableDisposable)}show(l,h,s,u,a,d,c){const b=i.Visible.bindTo(this._contextKeyService),g=this._instantiationService.createInstance(_.ActionList,l,h,s,u);this._contextViewService.showContextView({getAnchor:()=>a,render:p=>(b.set(!0),this._renderWidget(p,g,c??[])),onHide:p=>{b.reset(),this._onWidgetClosed(p)}},d,!1)}acceptSelected(l){var h;(h=this._list.value)===null||h===void 0||h.acceptSelected(l)}focusPrevious(){var l,h;(h=(l=this._list)===null||l===void 0?void 0:l.value)===null||h===void 0||h.focusPrevious()}focusNext(){var l,h;(h=(l=this._list)===null||l===void 0?void 0:l.value)===null||h===void 0||h.focusNext()}hide(){var l;(l=this._list.value)===null||l===void 0||l.hide(),this._list.clear()}_renderWidget(l,h,s){var u;const a=document.createElement("div");if(a.classList.add("action-widget"),l.appendChild(a),this._list.value=h,this._list.value)a.appendChild(this._list.value.domNode);else throw new Error("List has no value");const d=new L.DisposableStore,c=document.createElement("div"),b=l.appendChild(c);b.classList.add("context-view-block"),d.add(y.addDisposableListener(b,y.EventType.MOUSE_DOWN,I=>I.stopPropagation()));const g=document.createElement("div"),p=l.appendChild(g);p.classList.add("context-view-pointerBlock"),d.add(y.addDisposableListener(p,y.EventType.POINTER_MOVE,()=>p.remove())),d.add(y.addDisposableListener(p,y.EventType.MOUSE_DOWN,()=>p.remove()));let C=0;if(s.length){const I=this._createActionBar(".action-widget-action-bar",s);I&&(a.appendChild(I.getContainer().parentElement),d.add(I),C=I.getContainer().offsetWidth)}const w=(u=this._list.value)===null||u===void 0?void 0:u.layout(C);a.style.width=`${w}px`;const E=d.add(y.trackFocus(l));return d.add(E.onDidBlur(()=>this.hide())),d}_createActionBar(l,h){if(!h.length)return;const s=y.$(l),u=new k.ActionBar(s);return u.push(h,{icon:!1,label:!0}),u}_onWidgetClosed(l){var h;(h=this._list.value)===null||h===void 0||h.hide(l)}};t=Ne([fe(0,f.IContextViewService),fe(1,S.IContextKeyService),fe(2,o.IInstantiationService)],t),(0,v.registerSingleton)(e.IActionWidgetService,t,1);const n=100+1e3;(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,D.localize)(1,null),original:"Hide action widget"},precondition:i.Visible,keybinding:{weight:n,primary:9,secondary:[1033]}})}run(r){r.get(e.IActionWidgetService).hide()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,D.localize)(2,null),original:"Select previous action"},precondition:i.Visible,keybinding:{weight:n,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(r){const l=r.get(e.IActionWidgetService);l instanceof t&&l.focusPrevious()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:"selectNextCodeAction",title:{value:(0,D.localize)(3,null),original:"Select next action"},precondition:i.Visible,keybinding:{weight:n,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(r){const l=r.get(e.IActionWidgetService);l instanceof t&&l.focusNext()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:_.acceptSelectedActionCommand,title:{value:(0,D.localize)(4,null),original:"Accept selected action"},precondition:i.Visible,keybinding:{weight:n,primary:3,secondary:[2137]}})}run(r){const l=r.get(e.IActionWidgetService);l instanceof t&&l.acceptSelected()}}),(0,m.registerAction2)(class extends m.Action2{constructor(){super({id:_.previewSelectedActionCommand,title:{value:(0,D.localize)(5,null),original:"Preview selected action"},precondition:i.Visible,keybinding:{weight:n,primary:2051}})}run(r){const l=r.get(e.IActionWidgetService);l instanceof t&&l.acceptSelected(!0)}})}),define(J[251],ee([1,0,7,12,99,2,11,19,138,792,814,346,192,634,817,25,28,14,8,97,84,113,345]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionController=void 0;let b=class Ki extends D.Disposable{static get(p){return p.getContribution(Ki.ID)}constructor(p,C,w,E,I,T,P,A,M,N){super(),this._commandService=P,this._configurationService=A,this._actionWidgetService=M,this._instantiationService=N,this._activeCodeActions=this._register(new D.MutableDisposable),this._showDisabled=!1,this._disposed=!1,this._editor=p,this._model=this._register(new c.CodeActionModel(this._editor,I.codeActionProvider,C,w,T)),this._register(this._model.onDidChangeState(O=>this.update(O))),this._lightBulbWidget=new L.Lazy(()=>{const O=this._editor.getContribution(o.LightBulbWidget.ID);return O&&this._register(O.onClick(x=>this.showCodeActionList(x.actions,x,{includeDisabledActions:!1,fromLightbulb:!0}))),O}),this._resolver=E.createInstance(f.CodeActionKeybindingResolver),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}showCodeActions(p,C,w){return this.showCodeActionList(C,w,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(p,C,w,E){var I;if(!this._editor.hasModel())return;(I=i.MessageController.get(this._editor))===null||I===void 0||I.closeMessage();const T=this._editor.getPosition();this._trigger({type:1,triggerAction:C,filter:w,autoApply:E,context:{notAvailableMessage:p,position:T}})}_trigger(p){return this._model.trigger(p)}_applyCodeAction(p,C,w){return Le(this,void 0,void 0,function*(){try{yield this._instantiationService.invokeFunction(S.applyCodeAction,p,S.ApplyCodeActionReason.FromCodeActions,{preview:w,editor:this._editor})}finally{C&&this._trigger({type:2,triggerAction:d.CodeActionTriggerSource.QuickFix,filter:{}})}})}update(p){var C,w,E,I,T,P,A;return Le(this,void 0,void 0,function*(){if(p.type!==1){(C=this._lightBulbWidget.rawValue)===null||C===void 0||C.hide();return}let M;try{M=yield p.actions}catch(N){(0,k.onUnexpectedError)(N);return}if(!this._disposed)if((w=this._lightBulbWidget.value)===null||w===void 0||w.update(M,p.trigger,p.position),p.trigger.type===1){if(!((E=p.trigger.filter)===null||E===void 0)&&E.include){const O=this.tryGetValidActionToApply(p.trigger,M);if(O){try{(I=this._lightBulbWidget.value)===null||I===void 0||I.hide(),yield this._applyCodeAction(O,!1,!1)}finally{M.dispose()}return}if(p.trigger.context){const x=this.getInvalidActionThatWouldHaveBeenApplied(p.trigger,M);if(x&&x.action.disabled){(T=i.MessageController.get(this._editor))===null||T===void 0||T.showMessage(x.action.disabled,p.trigger.context.position),M.dispose();return}}}const N=!!(!((P=p.trigger.filter)===null||P===void 0)&&P.include);if(p.trigger.context&&(!M.allActions.length||!N&&!M.validActions.length)){(A=i.MessageController.get(this._editor))===null||A===void 0||A.showMessage(p.trigger.context.notAvailableMessage,p.trigger.context.position),this._activeCodeActions.value=M,M.dispose();return}this._activeCodeActions.value=M,this.showCodeActionList(M,this.toCoords(p.position),{includeDisabledActions:N,fromLightbulb:!1})}else this._actionWidgetService.isVisible?M.dispose():this._activeCodeActions.value=M})}getInvalidActionThatWouldHaveBeenApplied(p,C){if(C.allActions.length&&(p.autoApply==="first"&&C.validActions.length===0||p.autoApply==="ifSingle"&&C.allActions.length===1))return C.allActions.find(({action:w})=>w.disabled)}tryGetValidActionToApply(p,C){if(C.validActions.length&&(p.autoApply==="first"&&C.validActions.length>0||p.autoApply==="ifSingle"&&C.validActions.length===1))return C.validActions[0]}showCodeActionList(p,C,w){return Le(this,void 0,void 0,function*(){const E=this._editor.getDomNode();if(!E)return;const I=w.includeDisabledActions&&(this._showDisabled||p.validActions.length===0)?p.allActions:p.validActions;if(!I.length)return;const T=_.Position.isIPosition(C)?this.toCoords(C):C,P={onSelect:(A,M)=>Le(this,void 0,void 0,function*(){this._applyCodeAction(A,!0,!!M),this._actionWidgetService.hide()}),onHide:()=>{var A;(A=this._editor)===null||A===void 0||A.focus()}};this._actionWidgetService.show("codeActionWidget",!0,(0,v.toMenuItems)(I,this._shouldShowHeaders(),this._resolver.getResolver()),P,T,E,this._getActionBarActions(p,C,w))})}toCoords(p){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(p,1),this._editor.render();const C=this._editor.getScrolledVisiblePosition(p),w=(0,y.getDomNodePagePosition)(this._editor.getDomNode()),E=w.left+C.left,I=w.top+C.top+C.height;return{x:E,y:I}}_shouldShowHeaders(){var p;const C=(p=this._editor)===null||p===void 0?void 0:p.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:C?.uri})}_getActionBarActions(p,C,w){if(w.fromLightbulb)return[];const E=p.documentation.map(I=>{var T;return{id:I.id,label:I.title,tooltip:(T=I.tooltip)!==null&&T!==void 0?T:"",class:void 0,enabled:!0,run:()=>{var P;return this._commandService.executeCommand(I.id,...(P=I.arguments)!==null&&P!==void 0?P:[])}}});return w.includeDisabledActions&&p.validActions.length>0&&p.allActions.length!==p.validActions.length&&E.push(this._showDisabled?{id:"hideMoreActions",label:(0,t.localize)(0,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(p,C,w))}:{id:"showMoreActions",label:(0,t.localize)(1,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(p,C,w))}),E}};e.CodeActionController=b,b.ID="editor.contrib.codeActionController",e.CodeActionController=b=Ne([fe(1,u.IMarkerService),fe(2,h.IContextKeyService),fe(3,s.IInstantiationService),fe(4,m.ILanguageFeaturesService),fe(5,a.IEditorProgressService),fe(6,r.ICommandService),fe(7,l.IConfigurationService),fe(8,n.IActionWidgetService),fe(9,s.IInstantiationService)],b)}),define(J[818],ee([1,0,9,16,20,138,632,14,113,251,345]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=void 0;function o(d){return m.ContextKeyExpr.regex(v.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,y.escapeRegExpCharacters)(d.value)+"\\b"))}const i={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:_.localize(0,null)},apply:{type:"string",description:_.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[_.localize(2,null),_.localize(3,null),_.localize(4,null)]},preferred:{type:"boolean",default:!1,description:_.localize(5,null)}}};function t(d,c,b,g,p=S.CodeActionTriggerSource.Default){if(d.hasModel()){const C=f.CodeActionController.get(d);C?.manualTriggerAtCurrentPosition(c,p,b,g)}}class n extends k.EditorAction{constructor(){super({id:D.quickFixCommandId,label:_.localize(6,null),alias:"Quick Fix...",precondition:m.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:2137,weight:100}})}run(c,b){return t(b,_.localize(7,null),void 0,void 0,S.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=n;class r extends k.EditorCommand{constructor(){super({id:D.codeActionCommandId,precondition:m.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:i}]}})}runEditorCommand(c,b,g){const p=S.CodeActionCommandArgs.fromUser(g,{kind:S.CodeActionKind.Empty,apply:"ifSingle"});return t(b,typeof g?.kind=="string"?p.preferred?_.localize(8,null,g.kind):_.localize(9,null,g.kind):p.preferred?_.localize(10,null):_.localize(11,null),{include:p.kind,includeSourceActions:!0,onlyIncludePreferredActions:p.preferred},p.apply)}}e.CodeActionCommand=r;class l extends k.EditorAction{constructor(){super({id:D.refactorCommandId,label:_.localize(12,null),alias:"Refactor...",precondition:m.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:m.ContextKeyExpr.and(L.EditorContextKeys.writable,o(S.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:i}]}})}run(c,b,g){const p=S.CodeActionCommandArgs.fromUser(g,{kind:S.CodeActionKind.Refactor,apply:"never"});return t(b,typeof g?.kind=="string"?p.preferred?_.localize(13,null,g.kind):_.localize(14,null,g.kind):p.preferred?_.localize(15,null):_.localize(16,null),{include:S.CodeActionKind.Refactor.contains(p.kind)?p.kind:S.CodeActionKind.None,onlyIncludePreferredActions:p.preferred},p.apply,S.CodeActionTriggerSource.Refactor)}}e.RefactorAction=l;class h extends k.EditorAction{constructor(){super({id:D.sourceActionCommandId,label:_.localize(17,null),alias:"Source Action...",precondition:m.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:m.ContextKeyExpr.and(L.EditorContextKeys.writable,o(S.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:i}]}})}run(c,b,g){const p=S.CodeActionCommandArgs.fromUser(g,{kind:S.CodeActionKind.Source,apply:"never"});return t(b,typeof g?.kind=="string"?p.preferred?_.localize(18,null,g.kind):_.localize(19,null,g.kind):p.preferred?_.localize(20,null):_.localize(21,null),{include:S.CodeActionKind.Source.contains(p.kind)?p.kind:S.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:p.preferred},p.apply,S.CodeActionTriggerSource.SourceAction)}}e.SourceAction=h;class s extends k.EditorAction{constructor(){super({id:D.organizeImportsCommandId,label:_.localize(22,null),alias:"Organize Imports",precondition:m.ContextKeyExpr.and(L.EditorContextKeys.writable,o(S.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:1581,weight:100}})}run(c,b){return t(b,_.localize(23,null),{include:S.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",S.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=s;class u extends k.EditorAction{constructor(){super({id:D.fixAllCommandId,label:_.localize(24,null),alias:"Fix All",precondition:m.ContextKeyExpr.and(L.EditorContextKeys.writable,o(S.CodeActionKind.SourceFixAll))})}run(c,b){return t(b,_.localize(25,null),{include:S.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",S.CodeActionTriggerSource.FixAll)}}e.FixAllAction=u;class a extends k.EditorAction{constructor(){super({id:D.autoFixCommandId,label:_.localize(26,null),alias:"Auto Fix...",precondition:m.ContextKeyExpr.and(L.EditorContextKeys.writable,o(S.CodeActionKind.QuickFix)),kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(c,b){return t(b,_.localize(27,null),{include:S.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",S.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=a}),define(J[819],ee([1,0,16,337,818,251,346,633,102,38]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(D.CodeActionController.ID,D.CodeActionController,3),(0,y.registerEditorContribution)(_.LightBulbWidget.ID,_.LightBulbWidget,4),(0,y.registerEditorAction)(L.QuickFixAction),(0,y.registerEditorAction)(L.RefactorAction),(0,y.registerEditorAction)(L.SourceAction),(0,y.registerEditorAction)(L.OrganizeImportsAction),(0,y.registerEditorAction)(L.AutoFixAction),(0,y.registerEditorAction)(L.FixAllAction),(0,y.registerEditorCommand)(new L.CodeActionCommand),f.Registry.as(S.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},k.editorConfigurationBaseNode),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:m.localize(0,null),default:!0}}}))}),define(J[820],ee([1,0,7,58,577,40,12,2,104]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class f{constructor(o,i,t,n){this.contextViewService=o,this.telemetryService=i,this.notificationService=t,this.keybindingService=n,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(o){this.options=o}showContextMenu(o){const i=o.getActions();if(!i.length)return;this.focusToReturn=document.activeElement;let t;const n=(0,y.isHTMLElement)(o.domForShadowRoot)?o.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>o.getAnchor(),canRelayout:!1,anchorAlignment:o.anchorAlignment,anchorAxisAlignment:o.anchorAxisAlignment,render:r=>{var l;this.lastContainer=r;const h=o.getMenuClassName?o.getMenuClassName():"";h&&(r.className+=" "+h),this.options.blockMouse&&(this.block=r.appendChild((0,y.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(l=this.blockDisposable)===null||l===void 0||l.dispose(),this.blockDisposable=(0,y.addDisposableListener)(this.block,y.EventType.MOUSE_DOWN,a=>a.stopPropagation()));const s=new m.DisposableStore,u=o.actionRunner||new D.ActionRunner;return u.onWillRun(a=>this.onActionRun(a,!o.skipTelemetry),this,s),u.onDidRun(this.onDidActionRun,this,s),t=new L.Menu(r,i,{actionViewItemProvider:o.getActionViewItem,context:o.getActionsContext?o.getActionsContext():null,actionRunner:u,getKeyBinding:o.getKeyBinding?o.getKeyBinding:a=>this.keybindingService.lookupKeybinding(a.id)},S.defaultMenuStyles),t.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,s),t.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,s),s.add((0,y.addDisposableListener)(window,y.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),s.add((0,y.addDisposableListener)(window,y.EventType.MOUSE_DOWN,a=>{if(a.defaultPrevented)return;const d=new k.StandardMouseEvent(a);let c=d.target;if(!d.rightButton){for(;c;){if(c===r)return;c=c.parentElement}this.contextViewService.hideContextView(!0)}})),(0,m.combinedDisposable)(s,t)},focus:()=>{t?.focus(!!o.autoSelectFirstItem)},onHide:r=>{var l,h,s;(l=o.onHide)===null||l===void 0||l.call(o,!!r),this.block&&(this.block.remove(),this.block=null),(h=this.blockDisposable)===null||h===void 0||h.dispose(),this.blockDisposable=null,this.lastContainer&&((0,y.getActiveElement)()===this.lastContainer||(0,y.isAncestor)((0,y.getActiveElement)(),this.lastContainer))&&((s=this.focusToReturn)===null||s===void 0||s.focus()),this.lastContainer=null}},n,!!n)}onActionRun(o,i){i&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:o.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(o){o.error&&!(0,_.isCancellationError)(o.error)&&this.notificationService.error(o.error)}}e.ContextMenuHandler=f}),define(J[193],ee([1,0,7,572,114,573,186,580,579,313,6,2,720,28,102,14,240,57,8,34,38,104]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.RawWorkbenchListFocusContextKey=e.WorkbenchListScrollAtBottomContextKey=e.WorkbenchListScrollAtTopContextKey=e.RawWorkbenchListScrollAtBoundaryContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,s.createDecorator)("listService");class c{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new o.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(re){var ge,ve;re!==this._lastFocusedWidget&&((ge=this._lastFocusedWidget)===null||ge===void 0||ge.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=re,(ve=this._lastFocusedWidget)===null||ve===void 0||ve.getHTMLElement().classList.add("last-focused"))}register(re,ge){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new L.DefaultStyleController((0,y.createStyleSheet)(),"").style(d.defaultListStyles)),this.lists.some(we=>we.widget===re))throw new Error("Cannot register the same widget multiple times");const ve={widget:re,extraContextKeys:ge};return this.lists.push(ve),re.getHTMLElement()===document.activeElement&&this.setLastFocusedList(re),(0,o.combinedDisposable)(re.onDidFocus(()=>this.setLastFocusedList(re)),(0,o.toDisposable)(()=>this.lists.splice(this.lists.indexOf(ve),1)),re.onDidDispose(()=>{this.lists=this.lists.filter(we=>we!==ve),this._lastFocusedWidget===re&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}e.ListService=c,e.RawWorkbenchListScrollAtBoundaryContextKey=new r.RawContextKey("listScrollAtBoundary","none"),e.WorkbenchListScrollAtTopContextKey=r.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("top"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.WorkbenchListScrollAtBottomContextKey=r.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("bottom"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.RawWorkbenchListFocusContextKey=new r.RawContextKey("listFocus",!0),e.WorkbenchListSupportsMultiSelectContextKey=new r.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=r.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,r.ContextKeyExpr.not(l.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new r.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new r.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new r.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new r.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new r.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new r.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new r.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new r.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new r.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new r.RawContextKey("treeFindOpen",!1);const b="listTypeNavigationMode",g="listAutomaticKeyboardNavigation";function p(oe,re){const ge=oe.createScoped(re.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(ge),ge}function C(oe,re){const ge=e.RawWorkbenchListScrollAtBoundaryContextKey.bindTo(oe),ve=()=>{const we=re.scrollTop===0,ye=re.scrollHeight-re.renderHeight-re.scrollTop<1;we&&ye?ge.set("both"):we?ge.set("top"):ye?ge.set("bottom"):ge.set("none")};return ve(),re.onDidScroll(ve)}const w="workbench.list.multiSelectModifier",E="workbench.list.openMode",I="workbench.list.horizontalScrolling",T="workbench.list.defaultFindMode",P="workbench.list.typeNavigationMode",A="workbench.list.keyboardNavigation",M="workbench.list.scrollByPage",N="workbench.list.defaultFindMatchType",O="workbench.tree.indent",x="workbench.tree.renderIndentGuides",F="workbench.list.smoothScrolling",B="workbench.list.mouseWheelScrollSensitivity",z="workbench.list.fastScrollSensitivity",j="workbench.tree.expandMode";function R(oe){return oe.getValue(w)==="alt"}class Z extends o.Disposable{constructor(re){super(),this.configurationService=re,this.useAltAsMultipleSelectionModifier=R(re),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(re=>{re.affectsConfiguration(w)&&(this.useAltAsMultipleSelectionModifier=R(this.configurationService))}))}isSelectionSingleChangeEvent(re){return this.useAltAsMultipleSelectionModifier?re.browserEvent.altKey:(0,L.isSelectionSingleChangeEvent)(re)}isSelectionRangeChangeEvent(re){return(0,L.isSelectionRangeChangeEvent)(re)}}function se(oe,re){var ge;const ve=oe.get(t.IConfigurationService),we=oe.get(u.IKeybindingService),ye=new o.DisposableStore;return[Object.assign(Object.assign({},re),{keyboardNavigationDelegate:{mightProducePrintableCharacter(Ee){return we.mightProducePrintableCharacter(Ee)}},smoothScrolling:!!ve.getValue(F),mouseWheelScrollSensitivity:ve.getValue(B),fastScrollSensitivity:ve.getValue(z),multipleSelectionController:(ge=re.multipleSelectionController)!==null&&ge!==void 0?ge:ye.add(new Z(ve)),keyboardNavigationEventFilter:X(we),scrollByPage:!!ve.getValue(M)}),ye]}let le=class extends L.List{constructor(re,ge,ve,we,ye,Ie,Ee,De,Ae){const Te=typeof ye.horizontalScrolling<"u"?ye.horizontalScrolling:!!De.getValue(I),[be,me]=Ae.invokeFunction(se,ye);super(re,ge,ve,we,Object.assign(Object.assign({keyboardSupport:!1},be),{horizontalScrolling:Te})),this.disposables.add(me),this.contextKeyService=p(Ie,this),this.disposables.add(C(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ye.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!ye.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ye.horizontalScrolling,this._useAltAsMultipleSelectionModifier=R(De),this.disposables.add(this.contextKeyService),this.disposables.add(Ee.register(this)),this.updateStyles(ye.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const he=this.getSelection(),Ce=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(he.length>0||Ce.length>0),this.listMultiSelection.set(he.length>1),this.listDoubleSelection.set(he.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const he=this.getSelection(),Ce=this.getFocus();this.listHasSelectionOrFocus.set(he.length>0||Ce.length>0)})),this.disposables.add(De.onDidChangeConfiguration(he=>{he.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=R(De));let Ce={};if(he.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const pe=!!De.getValue(I);Ce=Object.assign(Object.assign({},Ce),{horizontalScrolling:pe})}if(he.affectsConfiguration(M)){const pe=!!De.getValue(M);Ce=Object.assign(Object.assign({},Ce),{scrollByPage:pe})}if(he.affectsConfiguration(F)){const pe=!!De.getValue(F);Ce=Object.assign(Object.assign({},Ce),{smoothScrolling:pe})}if(he.affectsConfiguration(B)){const pe=De.getValue(B);Ce=Object.assign(Object.assign({},Ce),{mouseWheelScrollSensitivity:pe})}if(he.affectsConfiguration(z)){const pe=De.getValue(z);Ce=Object.assign(Object.assign({},Ce),{fastScrollSensitivity:pe})}Object.keys(Ce).length>0&&this.updateOptions(Ce)})),this.navigator=new V(this,Object.assign({configurationService:De},ye)),this.disposables.add(this.navigator)}updateOptions(re){super.updateOptions(re),re.overrideStyles!==void 0&&this.updateStyles(re.overrideStyles),re.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!re.multipleSelectionSupport)}updateStyles(re){this.style(re?(0,d.getListStyles)(re):d.defaultListStyles)}};e.WorkbenchList=le,e.WorkbenchList=le=Ne([fe(5,r.IContextKeyService),fe(6,e.IListService),fe(7,t.IConfigurationService),fe(8,s.IInstantiationService)],le);let te=class extends k.PagedList{constructor(re,ge,ve,we,ye,Ie,Ee,De,Ae){const Te=typeof ye.horizontalScrolling<"u"?ye.horizontalScrolling:!!De.getValue(I),[be,me]=Ae.invokeFunction(se,ye);super(re,ge,ve,we,Object.assign(Object.assign({keyboardSupport:!1},be),{horizontalScrolling:Te})),this.disposables=new o.DisposableStore,this.disposables.add(me),this.contextKeyService=p(Ie,this),this.disposables.add(C(this.contextKeyService,this.widget)),this.horizontalScrolling=ye.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ye.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!ye.selectionNavigation),this._useAltAsMultipleSelectionModifier=R(De),this.disposables.add(this.contextKeyService),this.disposables.add(Ee.register(this)),this.updateStyles(ye.overrideStyles),this.disposables.add(De.onDidChangeConfiguration(he=>{he.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=R(De));let Ce={};if(he.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const pe=!!De.getValue(I);Ce=Object.assign(Object.assign({},Ce),{horizontalScrolling:pe})}if(he.affectsConfiguration(M)){const pe=!!De.getValue(M);Ce=Object.assign(Object.assign({},Ce),{scrollByPage:pe})}if(he.affectsConfiguration(F)){const pe=!!De.getValue(F);Ce=Object.assign(Object.assign({},Ce),{smoothScrolling:pe})}if(he.affectsConfiguration(B)){const pe=De.getValue(B);Ce=Object.assign(Object.assign({},Ce),{mouseWheelScrollSensitivity:pe})}if(he.affectsConfiguration(z)){const pe=De.getValue(z);Ce=Object.assign(Object.assign({},Ce),{fastScrollSensitivity:pe})}Object.keys(Ce).length>0&&this.updateOptions(Ce)})),this.navigator=new V(this,Object.assign({configurationService:De},ye)),this.disposables.add(this.navigator)}updateOptions(re){super.updateOptions(re),re.overrideStyles!==void 0&&this.updateStyles(re.overrideStyles),re.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!re.multipleSelectionSupport)}updateStyles(re){this.style(re?(0,d.getListStyles)(re):d.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchPagedList=te,e.WorkbenchPagedList=te=Ne([fe(5,r.IContextKeyService),fe(6,e.IListService),fe(7,t.IConfigurationService),fe(8,s.IInstantiationService)],te);let Y=class extends D.Table{constructor(re,ge,ve,we,ye,Ie,Ee,De,Ae,Te){const be=typeof Ie.horizontalScrolling<"u"?Ie.horizontalScrolling:!!Ae.getValue(I),[me,Se]=Te.invokeFunction(se,Ie);super(re,ge,ve,we,ye,Object.assign(Object.assign({keyboardSupport:!1},me),{horizontalScrolling:be})),this.disposables.add(Se),this.contextKeyService=p(Ee,this),this.disposables.add(C(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ie.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Ie.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Ie.horizontalScrolling,this._useAltAsMultipleSelectionModifier=R(Ae),this.disposables.add(this.contextKeyService),this.disposables.add(De.register(this)),this.updateStyles(Ie.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ce=this.getSelection(),pe=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ce.length>0||pe.length>0),this.listMultiSelection.set(Ce.length>1),this.listDoubleSelection.set(Ce.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ce=this.getSelection(),pe=this.getFocus();this.listHasSelectionOrFocus.set(Ce.length>0||pe.length>0)})),this.disposables.add(Ae.onDidChangeConfiguration(Ce=>{Ce.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=R(Ae));let pe={};if(Ce.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const _e=!!Ae.getValue(I);pe=Object.assign(Object.assign({},pe),{horizontalScrolling:_e})}if(Ce.affectsConfiguration(M)){const _e=!!Ae.getValue(M);pe=Object.assign(Object.assign({},pe),{scrollByPage:_e})}if(Ce.affectsConfiguration(F)){const _e=!!Ae.getValue(F);pe=Object.assign(Object.assign({},pe),{smoothScrolling:_e})}if(Ce.affectsConfiguration(B)){const _e=Ae.getValue(B);pe=Object.assign(Object.assign({},pe),{mouseWheelScrollSensitivity:_e})}if(Ce.affectsConfiguration(z)){const _e=Ae.getValue(z);pe=Object.assign(Object.assign({},pe),{fastScrollSensitivity:_e})}Object.keys(pe).length>0&&this.updateOptions(pe)})),this.navigator=new H(this,Object.assign({configurationService:Ae},Ie)),this.disposables.add(this.navigator)}updateOptions(re){super.updateOptions(re),re.overrideStyles!==void 0&&this.updateStyles(re.overrideStyles),re.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!re.multipleSelectionSupport)}updateStyles(re){this.style(re?(0,d.getListStyles)(re):d.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchTable=Y,e.WorkbenchTable=Y=Ne([fe(6,r.IContextKeyService),fe(7,e.IListService),fe(8,t.IConfigurationService),fe(9,s.IInstantiationService)],Y);class U extends o.Disposable{constructor(re,ge){var ve;super(),this.widget=re,this._onDidOpen=this._register(new v.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(v.Event.filter(this.widget.onDidChangeSelection,we=>we.browserEvent instanceof KeyboardEvent)(we=>this.onSelectionFromKeyboard(we))),this._register(this.widget.onPointer(we=>this.onPointer(we.element,we.browserEvent))),this._register(this.widget.onMouseDblClick(we=>this.onMouseDblClick(we.element,we.browserEvent))),typeof ge?.openOnSingleClick!="boolean"&&ge?.configurationService?(this.openOnSingleClick=ge?.configurationService.getValue(E)!=="doubleClick",this._register(ge?.configurationService.onDidChangeConfiguration(we=>{we.affectsConfiguration(E)&&(this.openOnSingleClick=ge?.configurationService.getValue(E)!=="doubleClick")}))):this.openOnSingleClick=(ve=ge?.openOnSingleClick)!==null&&ve!==void 0?ve:!0}onSelectionFromKeyboard(re){if(re.elements.length!==1)return;const ge=re.browserEvent,ve=typeof ge.preserveFocus=="boolean"?ge.preserveFocus:!0,we=typeof ge.pinned=="boolean"?ge.pinned:!ve,ye=!1;this._open(this.getSelectedElement(),ve,we,ye,re.browserEvent)}onPointer(re,ge){if(!this.openOnSingleClick||ge.detail===2)return;const we=ge.button===1,ye=!0,Ie=we,Ee=ge.ctrlKey||ge.metaKey||ge.altKey;this._open(re,ye,Ie,Ee,ge)}onMouseDblClick(re,ge){if(!ge)return;const ve=ge.target;if(ve.classList.contains("monaco-tl-twistie")||ve.classList.contains("monaco-icon-label")&&ve.classList.contains("folder-icon")&&ge.offsetX<16)return;const ye=!1,Ie=!0,Ee=ge.ctrlKey||ge.metaKey||ge.altKey;this._open(re,ye,Ie,Ee,ge)}_open(re,ge,ve,we,ye){re&&this._onDidOpen.fire({editorOptions:{preserveFocus:ge,pinned:ve,revealIfVisible:!0},sideBySide:we,element:re,browserEvent:ye})}}class V extends U{constructor(re,ge){super(re,ge),this.widget=re}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class H extends U{constructor(re,ge){super(re,ge)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class $ extends U{constructor(re,ge){super(re,ge)}getSelectedElement(){var re;return(re=this.widget.getSelection()[0])!==null&&re!==void 0?re:void 0}}function X(oe){let re=!1;return ge=>{if(ge.toKeyCodeChord().isModifierKey())return!1;if(re)return re=!1,!1;const ve=oe.softDispatch(ge,ge.target);return ve.kind===1?(re=!0,!1):(re=!1,ve.kind===0)}}let Q=class extends f.ObjectTree{constructor(re,ge,ve,we,ye,Ie,Ee,De,Ae){const{options:Te,getTypeNavigationMode:be,disposable:me}=Ie.invokeFunction(K,ye);super(re,ge,ve,we,Te),this.disposables.add(me),this.internals=new ie(this,ye,be,ye.overrideStyles,Ee,De,Ae),this.disposables.add(this.internals)}updateOptions(re){super.updateOptions(re),this.internals.updateOptions(re)}};e.WorkbenchObjectTree=Q,e.WorkbenchObjectTree=Q=Ne([fe(5,s.IInstantiationService),fe(6,r.IContextKeyService),fe(7,e.IListService),fe(8,t.IConfigurationService)],Q);let de=class extends f.CompressibleObjectTree{constructor(re,ge,ve,we,ye,Ie,Ee,De,Ae){const{options:Te,getTypeNavigationMode:be,disposable:me}=Ie.invokeFunction(K,ye);super(re,ge,ve,we,Te),this.disposables.add(me),this.internals=new ie(this,ye,be,ye.overrideStyles,Ee,De,Ae),this.disposables.add(this.internals)}updateOptions(re={}){super.updateOptions(re),re.overrideStyles&&this.internals.updateStyleOverrides(re.overrideStyles),this.internals.updateOptions(re)}};e.WorkbenchCompressibleObjectTree=de,e.WorkbenchCompressibleObjectTree=de=Ne([fe(5,s.IInstantiationService),fe(6,r.IContextKeyService),fe(7,e.IListService),fe(8,t.IConfigurationService)],de);let ce=class extends S.DataTree{constructor(re,ge,ve,we,ye,Ie,Ee,De,Ae,Te){const{options:be,getTypeNavigationMode:me,disposable:Se}=Ee.invokeFunction(K,Ie);super(re,ge,ve,we,ye,be),this.disposables.add(Se),this.internals=new ie(this,Ie,me,Ie.overrideStyles,De,Ae,Te),this.disposables.add(this.internals)}updateOptions(re={}){super.updateOptions(re),re.overrideStyles!==void 0&&this.internals.updateStyleOverrides(re.overrideStyles),this.internals.updateOptions(re)}};e.WorkbenchDataTree=ce,e.WorkbenchDataTree=ce=Ne([fe(6,s.IInstantiationService),fe(7,r.IContextKeyService),fe(8,e.IListService),fe(9,t.IConfigurationService)],ce);let ae=class extends m.AsyncDataTree{get onDidOpen(){return this.internals.onDidOpen}constructor(re,ge,ve,we,ye,Ie,Ee,De,Ae,Te){const{options:be,getTypeNavigationMode:me,disposable:Se}=Ee.invokeFunction(K,Ie);super(re,ge,ve,we,ye,be),this.disposables.add(Se),this.internals=new ie(this,Ie,me,Ie.overrideStyles,De,Ae,Te),this.disposables.add(this.internals)}updateOptions(re={}){super.updateOptions(re),re.overrideStyles&&this.internals.updateStyleOverrides(re.overrideStyles),this.internals.updateOptions(re)}};e.WorkbenchAsyncDataTree=ae,e.WorkbenchAsyncDataTree=ae=Ne([fe(6,s.IInstantiationService),fe(7,r.IContextKeyService),fe(8,e.IListService),fe(9,t.IConfigurationService)],ae);let ue=class extends m.CompressibleAsyncDataTree{constructor(re,ge,ve,we,ye,Ie,Ee,De,Ae,Te,be){const{options:me,getTypeNavigationMode:Se,disposable:he}=De.invokeFunction(K,Ee);super(re,ge,ve,we,ye,Ie,me),this.disposables.add(he),this.internals=new ie(this,Ee,Se,Ee.overrideStyles,Ae,Te,be),this.disposables.add(this.internals)}updateOptions(re){super.updateOptions(re),this.internals.updateOptions(re)}};e.WorkbenchCompressibleAsyncDataTree=ue,e.WorkbenchCompressibleAsyncDataTree=ue=Ne([fe(7,s.IInstantiationService),fe(8,r.IContextKeyService),fe(9,e.IListService),fe(10,t.IConfigurationService)],ue);function q(oe){const re=oe.getValue(T);if(re==="highlight")return _.TreeFindMode.Highlight;if(re==="filter")return _.TreeFindMode.Filter;const ge=oe.getValue(A);if(ge==="simple"||ge==="highlight")return _.TreeFindMode.Highlight;if(ge==="filter")return _.TreeFindMode.Filter}function W(oe){const re=oe.getValue(N);if(re==="fuzzy")return _.TreeFindMatchType.Fuzzy;if(re==="contiguous")return _.TreeFindMatchType.Contiguous}function K(oe,re){var ge;const ve=oe.get(t.IConfigurationService),we=oe.get(h.IContextViewService),ye=oe.get(r.IContextKeyService),Ie=oe.get(s.IInstantiationService),Ee=()=>{const Se=ye.getContextKeyValue(b);if(Se==="automatic")return L.TypeNavigationMode.Automatic;if(Se==="trigger"||ye.getContextKeyValue(g)===!1)return L.TypeNavigationMode.Trigger;const Ce=ve.getValue(P);if(Ce==="automatic")return L.TypeNavigationMode.Automatic;if(Ce==="trigger")return L.TypeNavigationMode.Trigger},De=re.horizontalScrolling!==void 0?re.horizontalScrolling:!!ve.getValue(I),[Ae,Te]=Ie.invokeFunction(se,re),be=re.additionalScrollHeight,me=re.renderIndentGuides!==void 0?re.renderIndentGuides:ve.getValue(x);return{getTypeNavigationMode:Ee,disposable:Te,options:Object.assign(Object.assign({keyboardSupport:!1},Ae),{indent:typeof ve.getValue(O)=="number"?ve.getValue(O):void 0,renderIndentGuides:me,smoothScrolling:!!ve.getValue(F),defaultFindMode:q(ve),defaultFindMatchType:W(ve),horizontalScrolling:De,scrollByPage:!!ve.getValue(M),additionalScrollHeight:be,hideTwistiesOfChildlessElements:re.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(ge=re.expandOnlyOnTwistieClick)!==null&&ge!==void 0?ge:ve.getValue(j)==="doubleClick",contextViewProvider:we,findWidgetStyles:d.defaultFindWidgetStyles})}}let ie=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(re,ge,ve,we,ye,Ie,Ee){var De;this.tree=re,this.disposables=[],this.contextKeyService=p(ye,re),this.disposables.push(C(this.contextKeyService,re)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ge.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!ge.selectionNavigation),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((De=ge.findWidgetEnabled)!==null&&De!==void 0?De:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=R(Ee),this.updateStyleOverrides(we);const Te=()=>{const me=re.getFocus()[0];if(!me)return;const Se=re.getNode(me);this.treeElementCanCollapse.set(Se.collapsible&&!Se.collapsed),this.treeElementHasParent.set(!!re.getParentElement(me)),this.treeElementCanExpand.set(Se.collapsible&&Se.collapsed),this.treeElementHasChild.set(!!re.getFirstElementChild(me))},be=new Set;be.add(b),be.add(g),this.disposables.push(this.contextKeyService,Ie.register(re),re.onDidChangeSelection(()=>{const me=re.getSelection(),Se=re.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(me.length>0||Se.length>0),this.hasMultiSelection.set(me.length>1),this.hasDoubleSelection.set(me.length===2)})}),re.onDidChangeFocus(()=>{const me=re.getSelection(),Se=re.getFocus();this.hasSelectionOrFocus.set(me.length>0||Se.length>0),Te()}),re.onDidChangeCollapseState(Te),re.onDidChangeModel(Te),re.onDidChangeFindOpenState(me=>this.treeFindOpen.set(me)),Ee.onDidChangeConfiguration(me=>{let Se={};if(me.affectsConfiguration(w)&&(this._useAltAsMultipleSelectionModifier=R(Ee)),me.affectsConfiguration(O)){const he=Ee.getValue(O);Se=Object.assign(Object.assign({},Se),{indent:he})}if(me.affectsConfiguration(x)&&ge.renderIndentGuides===void 0){const he=Ee.getValue(x);Se=Object.assign(Object.assign({},Se),{renderIndentGuides:he})}if(me.affectsConfiguration(F)){const he=!!Ee.getValue(F);Se=Object.assign(Object.assign({},Se),{smoothScrolling:he})}if(me.affectsConfiguration(T)||me.affectsConfiguration(A)){const he=q(Ee);Se=Object.assign(Object.assign({},Se),{defaultFindMode:he})}if(me.affectsConfiguration(P)||me.affectsConfiguration(A)){const he=ve();Se=Object.assign(Object.assign({},Se),{typeNavigationMode:he})}if(me.affectsConfiguration(N)){const he=W(Ee);Se=Object.assign(Object.assign({},Se),{defaultFindMatchType:he})}if(me.affectsConfiguration(I)&&ge.horizontalScrolling===void 0){const he=!!Ee.getValue(I);Se=Object.assign(Object.assign({},Se),{horizontalScrolling:he})}if(me.affectsConfiguration(M)){const he=!!Ee.getValue(M);Se=Object.assign(Object.assign({},Se),{scrollByPage:he})}if(me.affectsConfiguration(j)&&ge.expandOnlyOnTwistieClick===void 0&&(Se=Object.assign(Object.assign({},Se),{expandOnlyOnTwistieClick:Ee.getValue(j)==="doubleClick"})),me.affectsConfiguration(B)){const he=Ee.getValue(B);Se=Object.assign(Object.assign({},Se),{mouseWheelScrollSensitivity:he})}if(me.affectsConfiguration(z)){const he=Ee.getValue(z);Se=Object.assign(Object.assign({},Se),{fastScrollSensitivity:he})}Object.keys(Se).length>0&&re.updateOptions(Se)}),this.contextKeyService.onDidChangeContext(me=>{me.affectsSome(be)&&re.updateOptions({typeNavigationMode:ve()})})),this.navigator=new $(re,Object.assign({configurationService:Ee},ge)),this.disposables.push(this.navigator)}updateOptions(re){re.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!re.multipleSelectionSupport)}updateStyleOverrides(re){this.tree.style(re?(0,d.getListStyles)(re):d.defaultListStyles)}dispose(){this.disposables=(0,o.dispose)(this.disposables)}};ie=Ne([fe(4,r.IContextKeyService),fe(5,e.IListService),fe(6,t.IConfigurationService)],ie),a.Registry.as(n.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,i.localize)(0,null),type:"object",properties:{[w]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,i.localize)(1,null),(0,i.localize)(2,null)],default:"ctrlCmd",description:(0,i.localize)(3,null)},[E]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(4,null)},[I]:{type:"boolean",default:!1,description:(0,i.localize)(5,null)},[M]:{type:"boolean",default:!1,description:(0,i.localize)(6,null)},[O]:{type:"number",default:8,minimum:4,maximum:40,description:(0,i.localize)(7,null)},[x]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,i.localize)(8,null)},[F]:{type:"boolean",default:!1,description:(0,i.localize)(9,null)},[B]:{type:"number",default:1,markdownDescription:(0,i.localize)(10,null)},[z]:{type:"number",default:5,markdownDescription:(0,i.localize)(11,null)},[T]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,i.localize)(12,null),(0,i.localize)(13,null)],default:"highlight",description:(0,i.localize)(14,null)},[A]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,i.localize)(15,null),(0,i.localize)(16,null),(0,i.localize)(17,null)],default:"highlight",description:(0,i.localize)(18,null),deprecated:!0,deprecationMessage:(0,i.localize)(19,null)},[N]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,i.localize)(20,null),(0,i.localize)(21,null)],default:"fuzzy",description:(0,i.localize)(22,null)},[j]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(23,null)},[P]:{type:"string",enum:["automatic","trigger"],default:"automatic",description:(0,i.localize)(24,null)}}})}),define(J[63],ee([1,0,13,26,27,6,18,22,728,242,38]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var o;(function(a){function d(c,b){let g=c.defaults;for(;L.ThemeIcon.isThemeIcon(g);){const p=n.getIcon(g.id);if(!p)return;g=p.defaults}return g}a.getDefinition=d})(o||(e.IconContribution=o={}));var i;(function(a){function d(b){return{weight:b.weight,style:b.style,src:b.src.map(g=>({format:g.format,location:g.location.toString()}))}}a.toJSONObject=d;function c(b){const g=p=>(0,_.isString)(p)?p:void 0;if(b&&Array.isArray(b.src)&&b.src.every(p=>(0,_.isString)(p.format)&&(0,_.isString)(p.location)))return{weight:g(b.weight),style:g(b.style),src:b.src.map(p=>({format:p.format,location:m.URI.parse(p.location)}))}}a.fromJSONObject=c})(i||(e.IconFontDefinition=i={}));class t{constructor(){this._onDidChange=new D.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,S.localize)(0,null)},fontCharacter:{type:"string",description:(0,S.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${L.ThemeIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(d,c,b,g){const p=this.iconsById[d];if(p){if(b&&!p.description){p.description=b,this.iconSchema.properties[d].markdownDescription=`${b} $(${d})`;const E=this.iconReferenceSchema.enum.indexOf(d);E!==-1&&(this.iconReferenceSchema.enumDescriptions[E]=b),this._onDidChange.fire()}return p}const C={id:d,description:b,defaults:c,deprecationMessage:g};this.iconsById[d]=C;const w={$ref:"#/definitions/icons"};return g&&(w.deprecationMessage=g),b&&(w.markdownDescription=`${b}: $(${d})`),this.iconSchema.properties[d]=w,this.iconReferenceSchema.enum.push(d),this.iconReferenceSchema.enumDescriptions.push(b||""),this._onDidChange.fire(),{id:d}}getIcons(){return Object.keys(this.iconsById).map(d=>this.iconsById[d])}getIcon(d){return this.iconsById[d]}getIconSchema(){return this.iconSchema}toString(){const d=(p,C)=>p.id.localeCompare(C.id),c=p=>{for(;L.ThemeIcon.isThemeIcon(p.defaults);)p=this.iconsById[p.defaults.id];return`codicon codicon-${p?p.id:""}`},b=[];b.push("| preview     | identifier                        | default codicon ID                | description"),b.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const g=Object.keys(this.iconsById).map(p=>this.iconsById[p]);for(const p of g.filter(C=>!!C.description).sort(d))b.push(`|<i class="${c(p)}"></i>|${p.id}|${L.ThemeIcon.isThemeIcon(p.defaults)?p.defaults.id:p.id}|${p.description||""}|`);b.push("| preview     | identifier                        "),b.push("| ----------- | --------------------------------- |");for(const p of g.filter(C=>!L.ThemeIcon.isThemeIcon(C.defaults)).sort(d))b.push(`|<i class="${c(p)}"></i>|${p.id}|`);return b.join(`
`)}}const n=new t;v.Registry.add(e.Extensions.IconContribution,n);function r(a,d,c,b){return n.registerIcon(a,d,c,b)}e.registerIcon=r;function l(){return n}e.getIconRegistry=l;function h(){const a=(0,k.getCodiconFontCharacters)();for(const d in a){const c="\\"+a[d].toString(16);n.registerIcon(d,{fontCharacter:c})}}h(),e.iconsSchemaId="vscode://schemas/icons";const s=v.Registry.as(f.Extensions.JSONContribution);s.registerSchema(e.iconsSchemaId,n.getIconSchema());const u=new y.RunOnceScheduler(()=>s.notifySchemaChanged(e.iconsSchemaId),200);n.onDidChange(()=>{u.isScheduled()||u.schedule()}),e.widgetClose=r("widget-close",k.Codicon.close,(0,S.localize)(2,null)),e.gotoPreviousLocation=r("goto-previous-location",k.Codicon.arrowUp,(0,S.localize)(3,null)),e.gotoNextLocation=r("goto-next-location",k.Codicon.arrowDown,(0,S.localize)(4,null)),e.syncing=L.ThemeIcon.modify(k.Codicon.sync,"spin"),e.spinningLoading=L.ThemeIcon.modify(k.Codicon.loading,"spin")}),define(J[350],ee([1,0,7,35,91,68,74,40,26,2,27,60,36,11,41,88,95,67,609,116,28,63,429]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const c=3;class b{constructor(T,P,A,M){this.originalLineStart=T,this.originalLineEnd=P,this.modifiedLineStart=A,this.modifiedLineEnd=M}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class g{constructor(T){this.entries=T}}const p=(0,d.registerIcon)("diff-review-insert",S.Codicon.add,s.localize(0,null)),C=(0,d.registerIcon)("diff-review-remove",S.Codicon.remove,s.localize(1,null)),w=(0,d.registerIcon)("diff-review-close",S.Codicon.close,s.localize(2,null));let E=class Pt extends f.Disposable{constructor(T,P,A,M){super(),this._languageService=P,this._audioCueService=A,this._configurationService=M,this._width=0,this._diffEditor=T,this._isVisible=!1,this.shadow=(0,k.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,k.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new D.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new m.Action("diffreview.close",s.localize(3,null),"close-diff-review "+v.ThemeIcon.asClassName(w),!0,()=>Le(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,k.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new _.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(T.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(T.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(y.addStandardDisposableListener(this.domNode.domNode,"click",N=>{N.preventDefault();const O=y.findParentWithClass(N.target,"diff-review-row");O&&this._goToRow(O)})),this._register(y.addStandardDisposableListener(this.domNode.domNode,"keydown",N=>{(N.equals(18)||N.equals(2066)||N.equals(530))&&(N.preventDefault(),this._goToRow(this._getNextRow(),"next")),(N.equals(16)||N.equals(2064)||N.equals(528))&&(N.preventDefault(),this._goToRow(this._getPrevRow(),"previous")),(N.equals(9)||N.equals(2057)||N.equals(521)||N.equals(1033)||N.equals(10)||N.equals(3))&&(N.preventDefault(),this.accept())})),this._register(this._configurationService.onDidChangeConfiguration(N=>{N.affectsConfiguration("accessibility.verbosity.diffEditor")&&this._diffEditor.updateOptions({accessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.diffEditor")})})),this._diffs=[],this._currentDiff=null}prev(){let T=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let A=-1;for(let M=0,N=this._diffs.length;M<N;M++)if(this._diffs[M]===this._currentDiff){A=M;break}T=this._diffs.length+A-1}else T=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;T=T%this._diffs.length;const P=this._diffs[T].entries;this._diffEditor.setPosition(new t.Position(P[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:P[0].modifiedLineStart,endColumn:1073741824,endLineNumber:P[P.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getPrevRow(),"previous")}next(){let T=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let A=-1;for(let M=0,N=this._diffs.length;M<N;M++)if(this._diffs[M]===this._currentDiff){A=M;break}T=A+1}else T=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;T=T%this._diffs.length;const P=this._diffs[T].entries;this._diffEditor.setPosition(new t.Position(P[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:P[0].modifiedLineStart,endColumn:1073741824,endLineNumber:P[P.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow(),"next")}accept(){let T=-1;const P=this._getCurrentFocusedRow();if(P){const A=parseInt(P.getAttribute("data-line"),10);isNaN(A)||(T=A)}this.hide(),T!==-1&&(this._diffEditor.setPosition(new t.Position(T,1)),this._diffEditor.revealPosition(new t.Position(T,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const T=this._getCurrentFocusedRow();return T?T.previousElementSibling?T.previousElementSibling:T:this._getFirstRow()}_getNextRow(){const T=this._getCurrentFocusedRow();return T?T.nextElementSibling?T.nextElementSibling:T:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const T=document.activeElement;return T&&/diff-review-row/.test(T.className)?T:null}_goToRow(T,P){const A=this._getCurrentFocusedRow();T.tabIndex=0,T.focus(),A&&A!==T&&(A.tabIndex=-1);const M=P?P==="next"?A?.nextElementSibling:A?.previousElementSibling:A;M?.classList.contains("line-insert")?this._audioCueService.playAudioCue(u.AudioCue.diffLineInserted,!0):M?.classList.contains("line-delete")&&this._audioCueService.playAudioCue(u.AudioCue.diffLineDeleted,!0),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(T,P,A){this._width=P,this.shadow.setTop(T-6),this.shadow.setWidth(P),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(T),this.domNode.setWidth(P),this.domNode.setHeight(A),this._content.setHeight(A),this._content.setWidth(P),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const T=this._diffEditor.getLineChanges();if(!T||T.length===0)return[];const P=this._diffEditor.getOriginalEditor().getModel(),A=this._diffEditor.getModifiedEditor().getModel();return!P||!A?[]:Pt._mergeAdjacent(T,P.getLineCount(),A.getLineCount())}static _mergeAdjacent(T,P,A){if(!T||T.length===0)return[];const M=[];let N=0;for(let B=0,z=T.length;B<z;B++){const j=T[B],R=j.originalStartLineNumber,Z=j.originalEndLineNumber,se=j.modifiedStartLineNumber,le=j.modifiedEndLineNumber,te=[];let Y=0;{const U=Z===0?R:R-1,V=le===0?se:se-1;let H=1,$=1;if(B>0){const de=T[B-1];de.originalEndLineNumber===0?H=de.originalStartLineNumber+1:H=de.originalEndLineNumber+1,de.modifiedEndLineNumber===0?$=de.modifiedStartLineNumber+1:$=de.modifiedEndLineNumber+1}let X=U-c+1,Q=V-c+1;if(X<H){const de=H-X;X=X+de,Q=Q+de}if(Q<$){const de=$-Q;X=X+de,Q=Q+de}te[Y++]=new b(X,U,Q,V)}Z!==0&&(te[Y++]=new b(R,Z,0,0)),le!==0&&(te[Y++]=new b(0,0,se,le));{const U=Z===0?R+1:Z+1,V=le===0?se+1:le+1;let H=P,$=A;if(B+1<z){const de=T[B+1];de.originalEndLineNumber===0?H=de.originalStartLineNumber:H=de.originalStartLineNumber-1,de.modifiedEndLineNumber===0?$=de.modifiedStartLineNumber:$=de.modifiedStartLineNumber-1}let X=U+c-1,Q=V+c-1;if(X>H){const de=H-X;X=X+de,Q=Q+de}if(Q>$){const de=$-Q;X=X+de,Q=Q+de}te[Y++]=new b(U,X,V,Q)}M[N++]=new g(te)}let O=M[0].entries;const x=[];let F=0;for(let B=1,z=M.length;B<z;B++){const j=M[B].entries,R=O[O.length-1],Z=j[0];if(R.getType()===0&&Z.getType()===0&&Z.originalLineStart<=R.originalLineEnd){O[O.length-1]=new b(R.originalLineStart,Z.originalLineEnd,R.modifiedLineStart,Z.modifiedLineEnd),O=O.concat(j.slice(1));continue}x[F++]=new g(O),O=j}return x[F++]=new g(O),x}_findDiffIndex(T){const P=T.lineNumber;for(let A=0,M=this._diffs.length;A<M;A++){const N=this._diffs[A].entries,O=N[N.length-1].modifiedLineEnd;if(P<=O)return A}return 0}_render(){const T=this._diffEditor.getOriginalEditor().getOptions(),P=this._diffEditor.getModifiedEditor().getOptions(),A=this._diffEditor.getOriginalEditor().getModel(),M=this._diffEditor.getModifiedEditor().getModel(),N=A.getOptions(),O=M.getOptions();if(!this._isVisible||!A||!M){y.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const x=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[x]===this._currentDiff)return;this._currentDiff=this._diffs[x];const F=this._diffs[x].entries,B=document.createElement("div");B.className="diff-review-table",B.setAttribute("role","list"),B.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,o.applyFontInfo)(B,P.get(49));let z=0,j=0,R=0,Z=0;for(let Q=0,de=F.length;Q<de;Q++){const ce=F[Q],ae=ce.originalLineStart,ue=ce.originalLineEnd,q=ce.modifiedLineStart,W=ce.modifiedLineEnd;ae!==0&&(z===0||ae<z)&&(z=ae),ue!==0&&(j===0||ue>j)&&(j=ue),q!==0&&(R===0||q<R)&&(R=q),W!==0&&(Z===0||W>Z)&&(Z=W)}const se=document.createElement("div");se.className="diff-review-row";const le=document.createElement("div");le.className="diff-review-cell diff-review-summary";const te=j-z+1,Y=Z-R+1;le.appendChild(document.createTextNode(`${x+1}/${this._diffs.length}: @@ -${z},${te} +${R},${Y} @@`)),se.setAttribute("data-line",String(R));const U=Q=>Q===0?s.localize(4,null):Q===1?s.localize(5,null):s.localize(6,null,Q),V=U(te),H=U(Y);se.setAttribute("aria-label",s.localize(7,null,x+1,this._diffs.length,z,V,R,H)),se.appendChild(le),se.setAttribute("role","listitem"),B.appendChild(se);const $=P.get(65);let X=R;for(let Q=0,de=F.length;Q<de;Q++){const ce=F[Q];Pt._renderSection(B,ce,X,$,this._width,T,A,N,P,M,O,this._languageService.languageIdCodec),ce.modifiedLineStart!==0&&(X=ce.modifiedLineEnd)}y.clearNode(this._content.domNode),this._content.domNode.appendChild(B),this.scrollbar.scanDomNode()}static _renderSection(T,P,A,M,N,O,x,F,B,z,j,R){const Z=P.getType();let se="diff-review-row",le="";const te="diff-review-spacer";let Y=null;switch(Z){case 1:se="diff-review-row line-insert",le=" char-insert",Y=p;break;case 2:se="diff-review-row line-delete",le=" char-delete",Y=C;break}const U=P.originalLineStart,V=P.originalLineEnd,H=P.modifiedLineStart,$=P.modifiedLineEnd,X=Math.max($-H,V-U),Q=O.get(142),de=Q.glyphMarginWidth+Q.lineNumbersWidth,ce=B.get(142),ae=10+ce.glyphMarginWidth+ce.lineNumbersWidth;for(let ue=0;ue<=X;ue++){const q=U===0?0:U+ue,W=H===0?0:H+ue,K=document.createElement("div");K.style.minWidth=N+"px",K.className=se,K.setAttribute("role","listitem"),W!==0&&(A=W),K.setAttribute("data-line",String(A));const ie=document.createElement("div");ie.className="diff-review-cell",ie.style.height=`${M}px`,K.appendChild(ie);const ne=document.createElement("span");ne.style.width=de+"px",ne.style.minWidth=de+"px",ne.className="diff-review-line-number"+le,q!==0?ne.appendChild(document.createTextNode(String(q))):ne.innerText="\xA0",ie.appendChild(ne);const oe=document.createElement("span");oe.style.width=ae+"px",oe.style.minWidth=ae+"px",oe.style.paddingRight="10px",oe.className="diff-review-line-number"+le,W!==0?oe.appendChild(document.createTextNode(String(W))):oe.innerText="\xA0",ie.appendChild(oe);const re=document.createElement("span");if(re.className=te,Y){const we=document.createElement("span");we.className=v.ThemeIcon.asClassName(Y),we.innerText="\xA0\xA0",re.appendChild(we)}else re.innerText="\xA0\xA0";ie.appendChild(re);let ge;if(W!==0){let we=this._renderLine(z,B,j.tabSize,W,R);Pt._ttPolicy&&(we=Pt._ttPolicy.createHTML(we)),ie.insertAdjacentHTML("beforeend",we),ge=z.getLineContent(W)}else{let we=this._renderLine(x,O,F.tabSize,q,R);Pt._ttPolicy&&(we=Pt._ttPolicy.createHTML(we)),ie.insertAdjacentHTML("beforeend",we),ge=x.getLineContent(q)}ge.length===0&&(ge=s.localize(8,null));let ve="";switch(Z){case 0:q===W?ve=s.localize(9,null,ge,q):ve=s.localize(10,null,ge,q,W);break;case 1:ve=s.localize(11,null,ge,W);break;case 2:ve=s.localize(12,null,ge,q);break}K.setAttribute("aria-label",ve),T.appendChild(K)}}static _renderLine(T,P,A,M,N){const O=T.getLineContent(M),x=P.get(49),F=r.LineTokens.createEmpty(O,N),B=h.ViewLineRenderingData.isBasicASCII(O,T.mightContainNonBasicASCII()),z=h.ViewLineRenderingData.containsRTL(O,B,T.mightContainRTL());return(0,l.renderViewLine2)(new l.RenderLineInput(x.isMonospace&&!P.get(32),x.canUseHalfwidthRightwardsArrow,O,!1,B,z,0,F,[],A,0,x.spaceWidth,x.middotWidth,x.wsmiddotWidth,P.get(115),P.get(97),P.get(92),P.get(50)!==i.EditorFontLigatures.OFF,null)).html}};e.DiffReview=E,E._ttPolicy=(0,L.createTrustedTypesPolicy)("diffReview",{createHTML:I=>I}),e.DiffReview=E=Ne([fe(1,n.ILanguageService),fe(2,u.IAudioCueService),fe(3,a.IConfigurationService)],E)}),define(J[821],ee([1,0,7,68,74,40,26,2,42,86,100,144,27,60,121,350,36,61,11,5,109,41,88,95,67,601,116,8,63]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewer=void 0;const I=(0,E.registerIcon)("diff-review-insert",_.Codicon.add,(0,p.localize)(0,null)),T=(0,E.registerIcon)("diff-review-remove",_.Codicon.remove,(0,p.localize)(1,null)),P=(0,E.registerIcon)("diff-review-close",_.Codicon.close,(0,p.localize)(2,null));let A=class extends m.Disposable{constructor(Y,U,V,H,$,X,Q,de,ce){super(),this._parentNode=Y,this._visible=U,this._setVisible=V,this._canClose=H,this._width=$,this._height=X,this._diffs=Q,this._editors=de,this._instantiationService=ce,this.model=(0,o.derivedWithStore)("model",(ae,ue)=>{const q=this._visible.read(ae);if(this._parentNode.style.visibility=q?"visible":"hidden",!q)return null;const W=ue.add(this._instantiationService.createInstance(M,this._diffs,this._editors,this._setVisible,this._canClose)),K=ue.add(this._instantiationService.createInstance(Z,this._parentNode,W,this._width,this._height,this._editors));return{model:W,view:K}}),this._register((0,S.keepAlive)(this.model,!0))}next(){(0,S.transaction)(Y=>{const U=this._visible.get();this._setVisible(!0,Y),U&&this.model.get().model.nextGroup(Y)})}prev(){(0,S.transaction)(Y=>{this._setVisible(!0,Y),this.model.get().model.previousGroup(Y)})}close(){(0,S.transaction)(Y=>{this._setVisible(!1,Y)})}};e.AccessibleDiffViewer=A,e.AccessibleDiffViewer=A=Ne([fe(8,w.IInstantiationService)],A);let M=class extends m.Disposable{constructor(Y,U,V,H,$){super(),this._diffs=Y,this._editors=U,this._setVisible=V,this.canClose=H,this._audioCueService=$,this._groups=(0,S.observableValue)("groups",[]),this._currentGroupIdx=(0,S.observableValue)("currentGroupIdx",0),this._currentElementIdx=(0,S.observableValue)("currentElementIdx",0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((X,Q)=>this._groups.read(Q)[X]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((X,Q)=>{var de;return(de=this.currentGroup.read(Q))===null||de===void 0?void 0:de.lines[X]}),this._register((0,S.autorun)("update groups",X=>{const Q=this._diffs.read(X);if(!Q){this._groups.set([],void 0);return}const de=O(Q,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());(0,S.transaction)(ce=>{const ae=this._editors.modified.getPosition();if(ae){const ue=de.findIndex(q=>ae?.lineNumber<q.range.modified.endLineNumberExclusive);ue!==-1&&this._currentGroupIdx.set(ue,ce)}this._groups.set(de,ce)})})),this._register((0,S.autorun)("play audio-cue for diff",X=>{const Q=this.currentElement.read(X);Q?.type===x.Deleted?this._audioCueService.playAudioCue(C.AudioCue.diffLineDeleted):Q?.type===x.Added&&this._audioCueService.playAudioCue(C.AudioCue.diffLineInserted)})),this._register((0,S.autorun)("select lines in editor",X=>{var Q;const de=this.currentElement.read(X);if(de&&de.type!==x.Header){const ce=(Q=de.modifiedLineNumber)!==null&&Q!==void 0?Q:de.diff.modifiedRange.startLineNumber;this._editors.modified.setSelection(u.Range.fromPositions(new s.Position(ce,1)))}}))}_goToGroupDelta(Y,U){const V=this.groups.get();!V||V.length<=1||(0,v.subtransaction)(U,H=>{this._currentGroupIdx.set((this._currentGroupIdx.get()+V.length+Y)%V.length,H),this._currentElementIdx.set(0,H)})}nextGroup(Y){this._goToGroupDelta(1,Y)}previousGroup(Y){this._goToGroupDelta(-1,Y)}_goToLineDelta(Y){const U=this.currentGroup.get();!U||U.lines.length<=1||(0,S.transaction)(V=>{this._currentElementIdx.set((this._currentElementIdx.get()+U.lines.length+Y)%U.lines.length,V)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(Y){const U=this.currentGroup.get();if(!U)return;const V=U.lines.indexOf(Y);V!==-1&&(0,S.transaction)(H=>{this._currentElementIdx.set(V,H)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const Y=this.currentElement.get();Y&&(Y.type===x.Deleted?(this._editors.original.setSelection(u.Range.fromPositions(new s.Position(Y.originalLineNumber,1))),this._editors.original.revealLine(Y.originalLineNumber),this._editors.original.focus()):(Y.type!==x.Header&&(this._editors.modified.setSelection(u.Range.fromPositions(new s.Position(Y.modifiedLineNumber,1))),this._editors.modified.revealLine(Y.modifiedLineNumber)),this._editors.modified.focus()))}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};M=Ne([fe(4,C.IAudioCueService)],M);const N=3;function O(te,Y,U){const V=[];for(const H of le(te,($,X)=>X.modifiedRange.startLineNumber-$.modifiedRange.endLineNumberExclusive<2*N)){const $=[];$.push(new B);const X=new h.LineRange(Math.max(1,H[0].originalRange.startLineNumber-N),Math.min(H[H.length-1].originalRange.endLineNumberExclusive+N,Y+1)),Q=new h.LineRange(Math.max(1,H[0].modifiedRange.startLineNumber-N),Math.min(H[H.length-1].modifiedRange.endLineNumberExclusive+N,U+1));se(H,(ae,ue)=>{const q=new h.LineRange(ae?ae.originalRange.endLineNumberExclusive:X.startLineNumber,ue?ue.originalRange.startLineNumber:X.endLineNumberExclusive),W=new h.LineRange(ae?ae.modifiedRange.endLineNumberExclusive:Q.startLineNumber,ue?ue.modifiedRange.startLineNumber:Q.endLineNumberExclusive);q.forEach(K=>{$.push(new R(K,W.startLineNumber+(K-q.startLineNumber)))}),ue&&(ue.originalRange.forEach(K=>{$.push(new z(ue,K))}),ue.modifiedRange.forEach(K=>{$.push(new j(ue,K))}))});const de=H[0].modifiedRange.join(H[H.length-1].modifiedRange),ce=H[0].originalRange.join(H[H.length-1].originalRange);V.push(new F(new a.SimpleLineRangeMapping(de,ce),$))}return V}var x;(function(te){te[te.Header=0]="Header",te[te.Unchanged=1]="Unchanged",te[te.Deleted=2]="Deleted",te[te.Added=3]="Added"})(x||(x={}));class F{constructor(Y,U){this.range=Y,this.lines=U}}class B{constructor(){this.type=x.Header}}class z{constructor(Y,U){this.diff=Y,this.originalLineNumber=U,this.type=x.Deleted,this.modifiedLineNumber=void 0}}class j{constructor(Y,U){this.diff=Y,this.modifiedLineNumber=U,this.type=x.Added,this.originalLineNumber=void 0}}class R{constructor(Y,U){this.originalLineNumber=Y,this.modifiedLineNumber=U,this.type=x.Unchanged}}let Z=class extends m.Disposable{constructor(Y,U,V,H,$,X){super(),this._element=Y,this._model=U,this._width=V,this._height=H,this._editors=$,this._languageService=X,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const Q=document.createElement("div");Q.className="diff-review-actions",this._actionBar=this._register(new k.ActionBar(Q)),this._register((0,S.autorun)("update actions",de=>{this._actionBar.clear(),this._model.canClose.read(de)&&this._actionBar.push(new D.Action("diffreview.close",(0,p.localize)(3,null),"close-diff-review "+i.ThemeIcon.asClassName(P),!0,()=>Le(this,void 0,void 0,function*(){return U.close()})),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new L.DomScrollableElement(this._content,{})),(0,y.reset)(this.domNode,this._scrollbar.getDomNode(),Q),this._register((0,m.toDisposable)(()=>{(0,y.reset)(this.domNode)})),this._register((0,n.applyStyle)(this.domNode,{width:this._width,height:this._height})),this._register((0,n.applyStyle)(this._content,{width:this._width,height:this._height})),this._register((0,f.autorunWithStore2)("render",(de,ce)=>{this._model.currentGroup.read(de),this._render(ce)})),this._register((0,y.addStandardDisposableListener)(this.domNode,"keydown",de=>{(de.equals(18)||de.equals(2066)||de.equals(530))&&(de.preventDefault(),this._model.goToNextLine()),(de.equals(16)||de.equals(2064)||de.equals(528))&&(de.preventDefault(),this._model.goToPreviousLine()),(de.equals(9)||de.equals(2057)||de.equals(521)||de.equals(1033))&&(de.preventDefault(),this._model.close()),(de.equals(10)||de.equals(3))&&(de.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(Y){const U=this._editors.original.getOptions(),V=this._editors.modified.getOptions(),H=document.createElement("div");H.className="diff-review-table",H.setAttribute("role","list"),H.setAttribute("aria-label",(0,p.localize)(4,null)),(0,t.applyFontInfo)(H,V.get(49)),(0,y.reset)(this._content,H);const $=this._editors.original.getModel(),X=this._editors.modified.getModel();if(!$||!X)return;const Q=$.getOptions(),de=X.getOptions(),ce=V.get(65),ae=this._model.currentGroup.get();for(const ue of ae?.lines||[]){if(!ae)break;let q;if(ue.type===x.Header){const K=document.createElement("div");K.className="diff-review-row",K.setAttribute("role","listitem");const ie=ae.range,ne=this._model.currentGroupIndex.get(),oe=this._model.groups.get().length,re=ye=>ye===0?(0,p.localize)(5,null):ye===1?(0,p.localize)(6,null):(0,p.localize)(7,null,ye),ge=re(ie.original.length),ve=re(ie.modified.length);K.setAttribute("aria-label",(0,p.localize)(8,null,ne+1,oe,ie.original.startLineNumber,ge,ie.modified.startLineNumber,ve));const we=document.createElement("div");we.className="diff-review-cell diff-review-summary",we.appendChild(document.createTextNode(`${ne+1}/${oe}: @@ -${ie.original.startLineNumber},${ie.original.length} +${ie.modified.startLineNumber},${ie.modified.length} @@`)),K.appendChild(we),q=K}else q=this._createRow(ue,ce,this._width.get(),U,$,Q,V,X,de);H.appendChild(q);const W=(0,S.derived)("isSelected",K=>this._model.currentElement.read(K)===ue);Y.add((0,S.autorun)("update tab index",K=>{const ie=W.read(K);q.tabIndex=ie?0:-1,ie&&q.focus()})),Y.add((0,y.addDisposableListener)(q,"focus",()=>{this._model.goToLine(ue)}))}this._scrollbar.scanDomNode()}_createRow(Y,U,V,H,$,X,Q,de,ce){const ae=H.get(142),ue=ae.glyphMarginWidth+ae.lineNumbersWidth,q=Q.get(142),W=10+q.glyphMarginWidth+q.lineNumbersWidth;let K="diff-review-row",ie="";const ne="diff-review-spacer";let oe=null;switch(Y.type){case x.Added:K="diff-review-row line-insert",ie=" char-insert",oe=I;break;case x.Deleted:K="diff-review-row line-delete",ie=" char-delete",oe=T;break}const re=document.createElement("div");re.style.minWidth=V+"px",re.className=K,re.setAttribute("role","listitem"),re.ariaLevel="";const ge=document.createElement("div");ge.className="diff-review-cell",ge.style.height=`${U}px`,re.appendChild(ge);const ve=document.createElement("span");ve.style.width=ue+"px",ve.style.minWidth=ue+"px",ve.className="diff-review-line-number"+ie,Y.originalLineNumber!==void 0?ve.appendChild(document.createTextNode(String(Y.originalLineNumber))):ve.innerText="\xA0",ge.appendChild(ve);const we=document.createElement("span");we.style.width=W+"px",we.style.minWidth=W+"px",we.style.paddingRight="10px",we.className="diff-review-line-number"+ie,Y.modifiedLineNumber!==void 0?we.appendChild(document.createTextNode(String(Y.modifiedLineNumber))):we.innerText="\xA0",ge.appendChild(we);const ye=document.createElement("span");if(ye.className=ne,oe){const De=document.createElement("span");De.className=i.ThemeIcon.asClassName(oe),De.innerText="\xA0\xA0",ye.appendChild(De)}else ye.innerText="\xA0\xA0";ge.appendChild(ye);let Ie;if(Y.modifiedLineNumber!==void 0){let De=this._getLineHtml(de,Q,ce.tabSize,Y.modifiedLineNumber,this._languageService.languageIdCodec);r.DiffReview._ttPolicy&&(De=r.DiffReview._ttPolicy.createHTML(De)),ge.insertAdjacentHTML("beforeend",De),Ie=de.getLineContent(Y.modifiedLineNumber)}else{let De=this._getLineHtml($,H,X.tabSize,Y.originalLineNumber,this._languageService.languageIdCodec);r.DiffReview._ttPolicy&&(De=r.DiffReview._ttPolicy.createHTML(De)),ge.insertAdjacentHTML("beforeend",De),Ie=$.getLineContent(Y.originalLineNumber)}Ie.length===0&&(Ie=(0,p.localize)(9,null));let Ee="";switch(Y.type){case x.Unchanged:Y.originalLineNumber===Y.modifiedLineNumber?Ee=(0,p.localize)(10,null,Ie,Y.originalLineNumber):Ee=(0,p.localize)(11,null,Ie,Y.originalLineNumber,Y.modifiedLineNumber);break;case x.Added:Ee=(0,p.localize)(12,null,Ie,Y.modifiedLineNumber);break;case x.Deleted:Ee=(0,p.localize)(13,null,Ie,Y.originalLineNumber);break}return re.setAttribute("aria-label",Ee),re}_getLineHtml(Y,U,V,H,$){const X=Y.getLineContent(H),Q=U.get(49),de=c.LineTokens.createEmpty(X,$),ce=g.ViewLineRenderingData.isBasicASCII(X,Y.mightContainNonBasicASCII()),ae=g.ViewLineRenderingData.containsRTL(X,ce,Y.mightContainRTL());return(0,b.renderViewLine2)(new b.RenderLineInput(Q.isMonospace&&!U.get(32),Q.canUseHalfwidthRightwardsArrow,X,!1,ce,ae,0,de,[],V,0,Q.spaceWidth,Q.middotWidth,Q.wsmiddotWidth,U.get(115),U.get(97),U.get(92),U.get(50)!==l.EditorFontLigatures.OFF,null)).html}};Z=Ne([fe(5,d.ILanguageService)],Z);function se(te,Y){let U;for(const V of te)Y(U,V),U=V;Y(U,void 0)}function*le(te,Y){let U,V;for(const H of te)V!==void 0&&Y(V,H)?U.push(H):(U&&(yield U),U=[H]),V=H;U&&(yield U)}}),define(J[822],ee([1,0,52,7,154,82,26,37,6,2,27,638,32,63,200]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.InsertButton=e.ColorPickerBody=e.ColorPickerHeader=void 0;const n=k.$;class r extends f.Disposable{constructor(p,C,w,E=!1){super(),this.model=C,this.showingStandaloneColorPicker=E,this._closeButton=null,this._domNode=n(".colorpicker-header"),k.append(p,this._domNode),this._pickedColorNode=k.append(this._domNode,n(".picked-color")),k.append(this._pickedColorNode,n("span.codicon.codicon-color-mode")),this._pickedColorPresentation=k.append(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const I=(0,o.localize)(0,null);this._pickedColorNode.setAttribute("title",I),this._originalColorNode=k.append(this._domNode,n(".original-color")),this._originalColorNode.style.backgroundColor=m.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=w.getColorTheme().getColor(i.editorHoverBackground)||m.Color.white,this._register(w.onDidColorThemeChange(T=>{this.backgroundColor=T.getColor(i.editorHoverBackground)||m.Color.white})),this._register(k.addDisposableListener(this._pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(this._originalColorNode,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(C.onDidChangeColor(this.onDidChangeColor,this)),this._register(C.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=m.Color.Format.CSS.format(C.color)||"",this._pickedColorNode.classList.toggle("light",C.color.rgba.a<.5?this.backgroundColor.isLighter():C.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new l(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(p){this._pickedColorNode.style.backgroundColor=m.Color.Format.CSS.format(p)||"",this._pickedColorNode.classList.toggle("light",p.rgba.a<.5?this.backgroundColor.isLighter():p.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=r;class l extends f.Disposable{constructor(p){super(),this._onClicked=this._register(new S.Emitter),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),k.append(p,this._button);const C=document.createElement("div");C.classList.add("close-button-inner-div"),k.append(this._button,C),k.append(C,n(".button"+v.ThemeIcon.asCSSSelector((0,t.registerIcon)("color-picker-close",_.Codicon.close,(0,o.localize)(1,null))))).classList.add("close-icon"),this._button.onclick=()=>{this._onClicked.fire()}}}class h extends f.Disposable{constructor(p,C,w,E=!1){super(),this.model=C,this.pixelRatio=w,this._insertButton=null,this._domNode=n(".colorpicker-body"),k.append(p,this._domNode),this._saturationBox=new s(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new a(this._domNode,this.model,E),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new d(this._domNode,this.model,E),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),E&&(this._insertButton=this._register(new c(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:p,v:C}){const w=this.model.color.hsva;this.model.color=new m.Color(new m.HSVA(w.h,p,C,w.a))}onDidOpacityChange(p){const C=this.model.color.hsva;this.model.color=new m.Color(new m.HSVA(C.h,C.s,C.v,p))}onDidHueChange(p){const C=this.model.color.hsva,w=(1-p)*360;this.model.color=new m.Color(new m.HSVA(w===360?0:w,C.s,C.v,C.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}e.ColorPickerBody=h;class s extends f.Disposable{constructor(p,C,w){super(),this.model=C,this.pixelRatio=w,this._onDidChange=new S.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new S.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._domNode=n(".saturation-wrap"),k.append(p,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",k.append(this._domNode,this._canvas),this.selection=n(".saturation-selection"),k.append(this._domNode,this.selection),this.layout(),this._register(k.addDisposableListener(this._domNode,k.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(p){if(!p.target||!(p.target instanceof Element))return;this.monitor=this._register(new L.GlobalPointerMoveMonitor);const C=k.getDomNodePagePosition(this._domNode);p.target!==this.selection&&this.onDidChangePosition(p.offsetX,p.offsetY),this.monitor.startMonitoring(p.target,p.pointerId,p.buttons,E=>this.onDidChangePosition(E.pageX-C.left,E.pageY-C.top),()=>null);const w=k.addDisposableListener(document,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),w.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(p,C){const w=Math.max(0,Math.min(1,p/this.width)),E=Math.max(0,Math.min(1,1-C/this.height));this.paintSelection(w,E),this._onDidChange.fire({s:w,v:E})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const p=this.model.color.hsva;this.paintSelection(p.s,p.v)}paint(){const p=this.model.color.hsva,C=new m.Color(new m.HSVA(p.h,1,1,1)),w=this._canvas.getContext("2d"),E=w.createLinearGradient(0,0,this._canvas.width,0);E.addColorStop(0,"rgba(255, 255, 255, 1)"),E.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),E.addColorStop(1,"rgba(255, 255, 255, 0)");const I=w.createLinearGradient(0,0,0,this._canvas.height);I.addColorStop(0,"rgba(0, 0, 0, 0)"),I.addColorStop(1,"rgba(0, 0, 0, 1)"),w.rect(0,0,this._canvas.width,this._canvas.height),w.fillStyle=m.Color.Format.CSS.format(C),w.fill(),w.fillStyle=E,w.fill(),w.fillStyle=I,w.fill()}paintSelection(p,C){this.selection.style.left=`${p*this.width}px`,this.selection.style.top=`${this.height-C*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class u extends f.Disposable{constructor(p,C,w=!1){super(),this.model=C,this._onDidChange=new S.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new S.Emitter,this.onColorFlushed=this._onColorFlushed.event,w?(this.domNode=k.append(p,n(".standalone-strip")),this.overlay=k.append(this.domNode,n(".standalone-overlay"))):(this.domNode=k.append(p,n(".strip")),this.overlay=k.append(this.domNode,n(".overlay"))),this.slider=k.append(this.domNode,n(".slider")),this.slider.style.top="0px",this._register(k.addDisposableListener(this.domNode,k.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const p=this.getValue(this.model.color);this.updateSliderPosition(p)}onPointerDown(p){if(!p.target||!(p.target instanceof Element))return;const C=this._register(new L.GlobalPointerMoveMonitor),w=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),p.target!==this.slider&&this.onDidChangeTop(p.offsetY),C.startMonitoring(p.target,p.pointerId,p.buttons,I=>this.onDidChangeTop(I.pageY-w.top),()=>null);const E=k.addDisposableListener(document,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),E.dispose(),C.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(p){const C=Math.max(0,Math.min(1,1-p/this.height));this.updateSliderPosition(C),this._onDidChange.fire(C)}updateSliderPosition(p){this.slider.style.top=`${(1-p)*this.height}px`}}class a extends u{constructor(p,C,w=!1){super(p,C,w),this.domNode.classList.add("opacity-strip"),this._register(C.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(p){const{r:C,g:w,b:E}=p.rgba,I=new m.Color(new m.RGBA(C,w,E,1)),T=new m.Color(new m.RGBA(C,w,E,0));this.overlay.style.background=`linear-gradient(to bottom, ${I} 0%, ${T} 100%)`}getValue(p){return p.hsva.a}}class d extends u{constructor(p,C,w=!1){super(p,C,w),this.domNode.classList.add("hue-strip")}getValue(p){return 1-p.hsva.h/360}}class c extends f.Disposable{constructor(p){super(),this._onClicked=this._register(new S.Emitter),this.onClicked=this._onClicked.event,this._button=k.append(p,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._button.onclick=C=>{this._onClicked.fire()}}get button(){return this._button}}e.InsertButton=c;class b extends D.Widget{constructor(p,C,w,E,I=!1){super(),this.model=C,this.pixelRatio=w,this._register(y.PixelRatio.onDidChange(()=>this.layout()));const T=n(".colorpicker-widget");p.appendChild(T),this.header=this._register(new r(T,this.model,E,I)),this.body=this._register(new h(T,this.model,this.pixelRatio,I))}layout(){this.body.layout()}}e.ColorPickerWidget=b}),define(J[823],ee([1,0,7,48,74,26,6,2,9,18,41,117,238,681,14,56,32,63,27,452]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const u=y.$,a=(0,h.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,t.localize(0,null)),d=(0,h.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,t.localize(1,null));let c=class ji extends m.Disposable{constructor(g,p,C,w,E){super(),this.editor=g,this.model=p,this.renderDisposeables=this._register(new m.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new o.MarkdownRenderer({editor:g},E,w)),this.keyVisible=i.Context.Visible.bindTo(C),this.keyMultipleSignatures=i.Context.MultipleSignatures.bindTo(C)}createParameterHintDOMNodes(){const g=u(".editor-widget.parameter-hints-widget"),p=y.append(g,u(".phwrapper"));p.tabIndex=-1;const C=y.append(p,u(".controls")),w=y.append(C,u(".button"+s.ThemeIcon.asCSSSelector(d))),E=y.append(C,u(".overloads")),I=y.append(C,u(".button"+s.ThemeIcon.asCSSSelector(a)));this._register(y.addDisposableListener(w,"click",O=>{y.EventHelper.stop(O),this.previous()})),this._register(y.addDisposableListener(I,"click",O=>{y.EventHelper.stop(O),this.next()}));const T=u(".body"),P=new L.DomScrollableElement(T,{alwaysConsumeMouseWheel:!0});this._register(P),p.appendChild(P.getDomNode());const A=y.append(T,u(".signature")),M=y.append(T,u(".docs"));g.style.userSelect="text",this.domNodes={element:g,signature:A,overloads:E,docs:M,scrollbar:P},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(O=>{this.visible&&this.editor.layoutContentWidget(this)}));const N=()=>{if(!this.domNodes)return;const O=this.editor.getOption(49);this.domNodes.element.style.fontSize=`${O.fontSize}px`,this.domNodes.element.style.lineHeight=`${O.lineHeight/O.fontSize}`};N(),this._register(_.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(O=>O.hasChanged(49)).on(N,null)),this._register(this.editor.onDidLayoutChange(O=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var g;(g=this.domNodes)===null||g===void 0||g.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var g;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(g=this.domNodes)===null||g===void 0||g.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(g){var p;if(this.renderDisposeables.clear(),!this.domNodes)return;const C=g.signatures.length>1;this.domNodes.element.classList.toggle("multiple",C),this.keyMultipleSignatures.set(C),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const w=g.signatures[g.activeSignature];if(!w)return;const E=y.append(this.domNodes.signature,u(".code")),I=this.editor.getOption(49);E.style.fontSize=`${I.fontSize}px`,E.style.fontFamily=I.fontFamily;const T=w.parameters.length>0,P=(p=w.activeParameter)!==null&&p!==void 0?p:g.activeParameter;if(T)this.renderParameters(E,w,P);else{const N=y.append(E,u("span"));N.textContent=w.label}const A=w.parameters[P];if(A?.documentation){const N=u("span.documentation");if(typeof A.documentation=="string")N.textContent=A.documentation;else{const O=this.renderMarkdownDocs(A.documentation);N.appendChild(O.element)}y.append(this.domNodes.docs,u("p",{},N))}if(w.documentation!==void 0)if(typeof w.documentation=="string")y.append(this.domNodes.docs,u("p",{},w.documentation));else{const N=this.renderMarkdownDocs(w.documentation);y.append(this.domNodes.docs,N.element)}const M=this.hasDocs(w,A);if(this.domNodes.signature.classList.toggle("has-docs",M),this.domNodes.docs.classList.toggle("empty",!M),this.domNodes.overloads.textContent=String(g.activeSignature+1).padStart(g.signatures.length.toString().length,"0")+"/"+g.signatures.length,A){let N="";const O=w.parameters[P];Array.isArray(O.label)?N=w.label.substring(O.label[0],O.label[1]):N=O.label,O.documentation&&(N+=typeof O.documentation=="string"?`, ${O.documentation}`:`, ${O.documentation.value}`),w.documentation&&(N+=typeof w.documentation=="string"?`, ${w.documentation}`:`, ${w.documentation.value}`),this.announcedLabel!==N&&(k.alert(t.localize(2,null,N)),this.announcedLabel=N)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(g){const p=this.renderDisposeables.add(this.markdownRenderer.render(g,{asyncRenderCallback:()=>{var C;(C=this.domNodes)===null||C===void 0||C.scrollbar.scanDomNode()}}));return p.element.classList.add("markdown-docs"),p}hasDocs(g,p){return!!(p&&typeof p.documentation=="string"&&(0,f.assertIsDefined)(p.documentation).length>0||p&&typeof p.documentation=="object"&&(0,f.assertIsDefined)(p.documentation).value.length>0||g.documentation&&typeof g.documentation=="string"&&(0,f.assertIsDefined)(g.documentation).length>0||g.documentation&&typeof g.documentation=="object"&&(0,f.assertIsDefined)(g.documentation.value).length>0)}renderParameters(g,p,C){const[w,E]=this.getParameterLabelOffsets(p,C),I=document.createElement("span");I.textContent=p.label.substring(0,w);const T=document.createElement("span");T.textContent=p.label.substring(w,E),T.className="parameter active";const P=document.createElement("span");P.textContent=p.label.substring(E),y.append(g,I,T,P)}getParameterLabelOffsets(g,p){const C=g.parameters[p];if(C){if(Array.isArray(C.label))return C.label;if(C.label.length){const w=new RegExp(`(\\W|^)${(0,S.escapeRegExpCharacters)(C.label)}(?=\\W|$)`,"g");w.test(g.label);const E=w.lastIndex-C.label.length;return E>=0?[E,w.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return ji.ID}updateMaxHeight(){if(!this.domNodes)return;const p=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=p;const C=this.domNodes.element.getElementsByClassName("phwrapper");C.length&&(C[0].style.maxHeight=p)}};e.ParameterHintsWidget=c,c.ID="editor.widget.parameterHintsWidget",e.ParameterHintsWidget=c=Ne([fe(2,n.IContextKeyService),fe(3,r.IOpenerService),fe(4,v.ILanguageService)],c),(0,l.registerColor)("editorHoverWidget.highlightForeground",{dark:l.listHighlightForeground,light:l.listHighlightForeground,hcDark:l.listHighlightForeground,hcLight:l.listHighlightForeground},t.localize(3,null))}),define(J[824],ee([1,0,99,2,16,20,30,19,744,238,680,14,8,823]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=e.ParameterHintsController=void 0;let n=class qi extends k.Disposable{static get(u){return u.getContribution(qi.ID)}constructor(u,a,d){super(),this.editor=u,this.model=this._register(new S.ParameterHintsModel(u,d.signatureHelpProvider)),this._register(this.model.onChangedHints(c=>{var b;c?(this.widget.value.show(),this.widget.value.render(c)):(b=this.widget.rawValue)===null||b===void 0||b.hide()})),this.widget=new y.Lazy(()=>this._register(a.createInstance(t.ParameterHintsWidget,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var u;(u=this.widget.rawValue)===null||u===void 0||u.previous()}next(){var u;(u=this.widget.rawValue)===null||u===void 0||u.next()}trigger(u){this.model.trigger(u,0)}};e.ParameterHintsController=n,n.ID="editor.controller.parameterHints",e.ParameterHintsController=n=Ne([fe(1,i.IInstantiationService),fe(2,m.ILanguageFeaturesService)],n);class r extends L.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:v.localize(0,null),alias:"Trigger Parameter Hints",precondition:D.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(u,a){const d=n.get(a);d?.trigger({triggerKind:_.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=r,(0,L.registerEditorContribution)(n.ID,n,2),(0,L.registerEditorAction)(r);const l=100+75,h=L.EditorCommand.bindToContribution(n.get);(0,L.registerEditorCommand)(new h({id:"closeParameterHints",precondition:f.Context.Visible,handler:s=>s.cancel(),kbOpts:{weight:l,kbExpr:D.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,L.registerEditorCommand)(new h({id:"showPrevParameterHint",precondition:o.ContextKeyExpr.and(f.Context.Visible,f.Context.MultipleSignatures),handler:s=>s.previous(),kbOpts:{weight:l,kbExpr:D.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,L.registerEditorCommand)(new h({id:"showNextParameterHint",precondition:o.ContextKeyExpr.and(f.Context.Visible,f.Context.MultipleSignatures),handler:s=>s.next(),kbOpts:{weight:l,kbExpr:D.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(J[825],ee([1,0,7,68,40,2,117,8,761,63,27,459]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const o=26;let i=class extends D.Disposable{constructor(r,l){super(),this._editor=r,this.instantiationService=l,this.banner=this._register(this.instantiationService.createInstance(t))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(r){this.banner.show(Object.assign(Object.assign({},r),{onClose:()=>{var l;this.hide(),(l=r.onClose)===null||l===void 0||l.call(r)}})),this._editor.setBanner(this.banner.element,o)}};e.BannerController=i,e.BannerController=i=Ne([fe(1,m.IInstantiationService)],i);let t=class extends D.Disposable{constructor(r){super(),this.instantiationService=r,this.markdownRenderer=this.instantiationService.createInstance(_.MarkdownRenderer,{}),this.element=(0,y.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(r){if(r.ariaLabel)return r.ariaLabel;if(typeof r.message=="string")return r.message}getBannerMessage(r){if(typeof r=="string"){const l=(0,y.$)("span");return l.innerText=r,l}return this.markdownRenderer.render(r).element}clear(){(0,y.clearNode)(this.element)}show(r){(0,y.clearNode)(this.element);const l=this.getAriaLabel(r);l&&this.element.setAttribute("aria-label",l);const h=(0,y.append)(this.element,(0,y.$)("div.icon-container"));h.setAttribute("aria-hidden","true"),r.icon&&h.appendChild((0,y.$)(`div${v.ThemeIcon.asCSSSelector(r.icon)}`));const s=(0,y.append)(this.element,(0,y.$)("div.message-container"));if(s.setAttribute("aria-hidden","true"),s.appendChild(this.getBannerMessage(r.message)),this.messageActionsContainer=(0,y.append)(this.element,(0,y.$)("div.message-actions-container")),r.actions)for(const a of r.actions)this._register(this.instantiationService.createInstance(S.Link,this.messageActionsContainer,Object.assign(Object.assign({},a),{tabIndex:-1}),{}));const u=(0,y.append)(this.element,(0,y.$)("div.action-container"));this.actionBar=this._register(new k.ActionBar(u)),this.actionBar.push(this._register(new L.Action("banner.close","Close Banner",v.ThemeIcon.asClassName(f.widgetClose),!0,()=>{typeof r.onClose=="function"&&r.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};t=Ne([fe(0,m.IInstantiationService)],t)}),define(J[826],ee([1,0,7,6,27,63]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function _(S){const f=new k.Emitter,v=(0,D.getIconRegistry)();return v.onDidChange(()=>f.fire()),S?.onDidProductIconThemeChange(()=>f.fire()),{onDidChange:f.event,getCSS(){const o=S?S.getProductIconTheme():new m,i={},t=r=>{const l=o.getIcon(r);if(!l)return;const h=l.font;return h?(i[h.id]=h.definition,`.codicon-${r.id}:before { content: '${l.fontCharacter}'; font-family: ${(0,y.asCSSPropertyValue)(h.id)}; }`):`.codicon-${r.id}:before { content: '${l.fontCharacter}'; }`},n=[];for(const r of v.getIcons()){const l=t(r);l&&n.push(l)}for(const r in i){const l=i[r],h=l.weight?`font-weight: ${l.weight};`:"",s=l.style?`font-style: ${l.style};`:"",u=l.src.map(a=>`${(0,y.asCSSUrl)(a.location)} format('${a.format}')`).join(", ");n.push(`@font-face { src: ${u}; font-family: ${(0,y.asCSSPropertyValue)(r)};${h}${s} font-display: block; }`)}return n.join(`
`)}}}e.getIconsStyleSheet=_;class m{getIcon(f){const v=(0,D.getIconRegistry)();let o=f.defaults;for(;L.ThemeIcon.isThemeIcon(o);){const i=v.getIcon(o.id);if(!i)return;o=i.defaults}return o}}e.UnthemedProductIconTheme=m}),define(J[90],ee([1,0]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDark=e.isHighContrast=e.ColorScheme=void 0;var y;(function(D){D.DARK="dark",D.LIGHT="light",D.HIGH_CONTRAST_DARK="hcDark",D.HIGH_CONTRAST_LIGHT="hcLight"})(y||(e.ColorScheme=y={}));function k(D){return D===y.HIGH_CONTRAST_DARK||D===y.HIGH_CONTRAST_LIGHT}e.isHighContrast=k;function L(D){return D===y.DARK||D===y.HIGH_CONTRAST_DARK}e.isDark=L}),define(J[351],ee([1,0,52,35,17,473,146,129,95,90,36]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=void 0;const o=function(){return L.isNative?!0:!(L.isLinux||y.isFirefox||y.isSafari)}();let i=!0;class t{constructor(c,b){this.themeType=b;const g=c.options,p=g.get(49);g.get(37)==="off"?this.renderWhitespace=g.get(97):this.renderWhitespace="none",this.renderControlCharacters=g.get(92),this.spaceWidth=p.spaceWidth,this.middotWidth=p.middotWidth,this.wsmiddotWidth=p.wsmiddotWidth,this.useMonospaceOptimizations=p.isMonospace&&!g.get(32),this.canUseHalfwidthRightwardsArrow=p.canUseHalfwidthRightwardsArrow,this.lineHeight=g.get(65),this.stopRenderingLineAfter=g.get(115),this.fontLigatures=g.get(50)}equals(c){return this.themeType===c.themeType&&this.renderWhitespace===c.renderWhitespace&&this.renderControlCharacters===c.renderControlCharacters&&this.spaceWidth===c.spaceWidth&&this.middotWidth===c.middotWidth&&this.wsmiddotWidth===c.wsmiddotWidth&&this.useMonospaceOptimizations===c.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===c.canUseHalfwidthRightwardsArrow&&this.lineHeight===c.lineHeight&&this.stopRenderingLineAfter===c.stopRenderingLineAfter&&this.fontLigatures===c.fontLigatures}}e.ViewLineOptions=t;class n{constructor(c){this._options=c,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(c){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,k.createFastDomNode)(c);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(c){this._isMaybeInvalid=!0,this._options=c}onSelectionChanged(){return(0,f.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(c,b,g,p){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const C=g.getViewLineRenderingData(c),w=this._options,E=m.LineDecoration.filter(C.inlineDecorations,c,C.minColumn,C.maxColumn);let I=null;if((0,f.isHighContrast)(w.themeType)||this._options.renderWhitespace==="selection"){const M=g.selections;for(const N of M){if(N.endLineNumber<c||N.startLineNumber>c)continue;const O=N.startLineNumber===c?N.startColumn:C.minColumn,x=N.endLineNumber===c?N.endColumn:C.maxColumn;O<x&&((0,f.isHighContrast)(w.themeType)&&E.push(new m.LineDecoration(O,x,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(I||(I=[]),I.push(new S.LineRange(O-1,x-1))))}}const T=new S.RenderLineInput(w.useMonospaceOptimizations,w.canUseHalfwidthRightwardsArrow,C.content,C.continuesWithWrappedLine,C.isBasicASCII,C.containsRTL,C.minColumn-1,C.tokens,E,C.tabSize,C.startVisibleColumn,w.spaceWidth,w.middotWidth,w.wsmiddotWidth,w.stopRenderingLineAfter,w.renderWhitespace,w.renderControlCharacters,w.fontLigatures!==v.EditorFontLigatures.OFF,I);if(this._renderedViewLine&&this._renderedViewLine.input.equals(T))return!1;p.appendString('<div style="top:'),p.appendString(String(b)),p.appendString("px;height:"),p.appendString(String(this._options.lineHeight)),p.appendString('px;" class="'),p.appendString(n.CLASS_NAME),p.appendString('">');const P=(0,S.renderViewLine)(T,p);p.appendString("</div>");let A=null;return i&&o&&C.isBasicASCII&&w.useMonospaceOptimizations&&P.containsForeignElements===0&&(A=new r(this._renderedViewLine?this._renderedViewLine.domNode:null,T,P.characterMapping)),A||(A=s(this._renderedViewLine?this._renderedViewLine.domNode:null,T,P.characterMapping,P.containsRTL,P.containsForeignElements)),this._renderedViewLine=A,!0}layoutLine(c,b){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(b),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(c){return this._renderedViewLine?this._renderedViewLine.getWidth(c):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof r:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof r?this._renderedViewLine.monospaceAssumptionsAreValid():i}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof r&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(c,b,g,p){if(!this._renderedViewLine)return null;b=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,b)),g=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,g));const C=this._renderedViewLine.input.stopRenderingLineAfter;if(C!==-1&&b>C+1&&g>C+1)return new _.VisibleRanges(!0,[new _.FloatHorizontalRange(this.getWidth(p),0)]);C!==-1&&b>C+1&&(b=C+1),C!==-1&&g>C+1&&(g=C+1);const w=this._renderedViewLine.getVisibleRangesForRange(c,b,g,p);return w&&w.length>0?new _.VisibleRanges(!1,w):null}getColumnOfNodeOffset(c,b,g){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(c,b,g):1}}e.ViewLine=n,n.CLASS_NAME="view-line";class r{constructor(c,b,g){this._cachedWidth=-1,this.domNode=c,this.input=b;const p=Math.floor(b.lineContent.length/300);if(p>0){this._keyColumnPixelOffsetCache=new Float32Array(p);for(let C=0;C<p;C++)this._keyColumnPixelOffsetCache[C]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=g,this._charWidth=b.spaceWidth}getWidth(c){if(!this.domNode||this.input.lineContent.length<300){const b=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*b)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,c?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return i;if(this.input.lineContent.length<300){const c=this.getWidth(null),b=this.domNode.domNode.firstChild.offsetWidth;Math.abs(c-b)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),i=!1)}return i}toSlowRenderedLine(){return s(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(c,b,g,p){const C=this._getColumnPixelOffset(c,b,p),w=this._getColumnPixelOffset(c,g,p);return[new _.FloatHorizontalRange(C,w-C)]}_getColumnPixelOffset(c,b,g){if(b<=300){const T=this._characterMapping.getHorizontalOffset(b);return this._charWidth*T}const p=Math.floor((b-1)/300)-1,C=(p+1)*300+1;let w=-1;if(this._keyColumnPixelOffsetCache&&(w=this._keyColumnPixelOffsetCache[p],w===-1&&(w=this._actualReadPixelOffset(c,C,g),this._keyColumnPixelOffsetCache[p]=w)),w===-1){const T=this._characterMapping.getHorizontalOffset(b);return this._charWidth*T}const E=this._characterMapping.getHorizontalOffset(C),I=this._characterMapping.getHorizontalOffset(b);return w+this._charWidth*(I-E)}_getReadingTarget(c){return c.domNode.firstChild}_actualReadPixelOffset(c,b,g){if(!this.domNode)return-1;const p=this._characterMapping.getDomPosition(b),C=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(this.domNode),p.partIndex,p.charIndex,p.partIndex,p.charIndex,g);return!C||C.length===0?-1:C[0].left}getColumnOfNodeOffset(c,b,g){const p=b.textContent.length;let C=-1;for(;b;)b=b.previousSibling,C++;return this._characterMapping.getColumn(new S.DomPosition(C,g),p)}}class l{constructor(c,b,g,p,C){if(this.domNode=c,this.input=b,this._characterMapping=g,this._isWhitespaceOnly=/^\s*$/.test(b.lineContent),this._containsForeignElements=C,this._cachedWidth=-1,this._pixelOffsetCache=null,!p||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let w=0,E=this._characterMapping.length;w<=E;w++)this._pixelOffsetCache[w]=-1}}_getReadingTarget(c){return c.domNode.firstChild}getWidth(c){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,c?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(c,b,g,p){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const C=this._readPixelOffset(this.domNode,c,b,p);if(C===-1)return null;const w=this._readPixelOffset(this.domNode,c,g,p);return w===-1?null:[new _.FloatHorizontalRange(C,w-C)]}return this._readVisibleRangesForRange(this.domNode,c,b,g,p)}_readVisibleRangesForRange(c,b,g,p,C){if(g===p){const w=this._readPixelOffset(c,b,g,C);return w===-1?null:[new _.FloatHorizontalRange(w,0)]}else return this._readRawVisibleRangesForRange(c,g,p,C)}_readPixelOffset(c,b,g,p){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(p);const C=this._getReadingTarget(c);return C.firstChild?(p.markDidDomLayout(),C.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const C=this._pixelOffsetCache[g];if(C!==-1)return C;const w=this._actualReadPixelOffset(c,b,g,p);return this._pixelOffsetCache[g]=w,w}return this._actualReadPixelOffset(c,b,g,p)}_actualReadPixelOffset(c,b,g,p){if(this._characterMapping.length===0){const I=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(c),0,0,0,0,p);return!I||I.length===0?-1:I[0].left}if(g===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(p);const C=this._characterMapping.getDomPosition(g),w=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(c),C.partIndex,C.charIndex,C.partIndex,C.charIndex,p);if(!w||w.length===0)return-1;const E=w[0].left;if(this.input.isBasicASCII){const I=this._characterMapping.getHorizontalOffset(g),T=Math.round(this.input.spaceWidth*I);if(Math.abs(T-E)<=1)return T}return E}_readRawVisibleRangesForRange(c,b,g,p){if(b===1&&g===this._characterMapping.length)return[new _.FloatHorizontalRange(0,this.getWidth(p))];const C=this._characterMapping.getDomPosition(b),w=this._characterMapping.getDomPosition(g);return D.RangeUtil.readHorizontalRanges(this._getReadingTarget(c),C.partIndex,C.charIndex,w.partIndex,w.charIndex,p)}getColumnOfNodeOffset(c,b,g){const p=b.textContent.length;let C=-1;for(;b;)b=b.previousSibling,C++;return this._characterMapping.getColumn(new S.DomPosition(C,g),p)}}class h extends l{_readVisibleRangesForRange(c,b,g,p,C){const w=super._readVisibleRangesForRange(c,b,g,p,C);if(!w||w.length===0||g===p||g===1&&p===this._characterMapping.length)return w;if(!this.input.containsRTL){const E=this._readPixelOffset(c,b,p,C);if(E!==-1){const I=w[w.length-1];I.left<E&&(I.width=E-I.left)}}return w}}const s=function(){return y.isWebKit?u:a}();function u(d,c,b,g,p){return new h(d,c,b,g,p)}function a(d,c,b,g,p){return new l(d,c,b,g,p)}}),define(J[352],ee([1,0,162,53,351,11,5,81,7,274]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class v{constructor(p=null){this.hitTarget=p,this.type=0}}class o{constructor(p,C,w){this.position=p,this.spanNode=C,this.injectedText=w,this.type=1}}var i;(function(g){function p(C,w,E){const I=C.getPositionFromDOMInfo(w,E);return I?new o(I,w,null):new v(w)}g.createFromDOMInfo=p})(i||(i={}));class t{constructor(p,C){this.lastViewCursorsRenderData=p,this.lastTextareaPosition=C}}e.PointerHandlerLastRenderData=t;class n{static _deduceRage(p,C=null){return!C&&p?new _.Range(p.lineNumber,p.column,p.lineNumber,p.column):C??null}static createUnknown(p,C,w){return{type:0,element:p,mouseColumn:C,position:w,range:this._deduceRage(w)}}static createTextarea(p,C){return{type:1,element:p,mouseColumn:C,position:null,range:null}}static createMargin(p,C,w,E,I,T){return{type:p,element:C,mouseColumn:w,position:E,range:I,detail:T}}static createViewZone(p,C,w,E,I){return{type:p,element:C,mouseColumn:w,position:E,range:this._deduceRage(E),detail:I}}static createContentText(p,C,w,E,I){return{type:6,element:p,mouseColumn:C,position:w,range:this._deduceRage(w,E),detail:I}}static createContentEmpty(p,C,w,E){return{type:7,element:p,mouseColumn:C,position:w,range:this._deduceRage(w),detail:E}}static createContentWidget(p,C,w){return{type:9,element:p,mouseColumn:C,position:null,range:null,detail:w}}static createScrollbar(p,C,w){return{type:11,element:p,mouseColumn:C,position:w,range:this._deduceRage(w)}}static createOverlayWidget(p,C,w){return{type:12,element:p,mouseColumn:C,position:null,range:null,detail:w}}static createOutsideEditor(p,C,w,E){return{type:13,element:null,mouseColumn:p,position:C,range:this._deduceRage(C),outsidePosition:w,outsideDistance:E}}static _typeToString(p){return p===1?"TEXTAREA":p===2?"GUTTER_GLYPH_MARGIN":p===3?"GUTTER_LINE_NUMBERS":p===4?"GUTTER_LINE_DECORATIONS":p===5?"GUTTER_VIEW_ZONE":p===6?"CONTENT_TEXT":p===7?"CONTENT_EMPTY":p===8?"CONTENT_VIEW_ZONE":p===9?"CONTENT_WIDGET":p===10?"OVERVIEW_RULER":p===11?"SCROLLBAR":p===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(p){return this._typeToString(p.type)+": "+p.position+" - "+p.range+" - "+JSON.stringify(p.detail)}}e.MouseTarget=n;class r{static isTextArea(p){return p.length===2&&p[0]===3&&p[1]===6}static isChildOfViewLines(p){return p.length>=4&&p[0]===3&&p[3]===7}static isStrictChildOfViewLines(p){return p.length>4&&p[0]===3&&p[3]===7}static isChildOfScrollableElement(p){return p.length>=2&&p[0]===3&&p[1]===5}static isChildOfMinimap(p){return p.length>=2&&p[0]===3&&p[1]===8}static isChildOfContentWidgets(p){return p.length>=4&&p[0]===3&&p[3]===1}static isChildOfOverflowingContentWidgets(p){return p.length>=1&&p[0]===2}static isChildOfOverlayWidgets(p){return p.length>=2&&p[0]===3&&p[1]===4}}class l{constructor(p,C,w){this.viewModel=p.viewModel;const E=p.configuration.options;this.layoutInfo=E.get(142),this.viewDomNode=C.viewDomNode,this.lineHeight=E.get(65),this.stickyTabStops=E.get(114),this.typicalHalfwidthCharacterWidth=E.get(49).typicalHalfwidthCharacterWidth,this.lastRenderData=w,this._context=p,this._viewHelper=C}getZoneAtCoord(p){return l.getZoneAtCoord(this._context,p)}static getZoneAtCoord(p,C){const w=p.viewLayout.getWhitespaceAtVerticalOffset(C);if(w){const E=w.verticalOffset+w.height/2,I=p.viewModel.getLineCount();let T=null,P,A=null;return w.afterLineNumber!==I&&(A=new D.Position(w.afterLineNumber+1,1)),w.afterLineNumber>0&&(T=new D.Position(w.afterLineNumber,p.viewModel.getLineMaxColumn(w.afterLineNumber))),A===null?P=T:T===null?P=A:C<E?P=T:P=A,{viewZoneId:w.id,afterLineNumber:w.afterLineNumber,positionBefore:T,positionAfter:A,position:P}}return null}getFullLineRangeAtCoord(p){if(this._context.viewLayout.isAfterLines(p)){const E=this._context.viewModel.getLineCount(),I=this._context.viewModel.getLineMaxColumn(E);return{range:new _.Range(E,I,E,I),isAfterLines:!0}}const C=this._context.viewLayout.getLineNumberAtVerticalOffset(p),w=this._context.viewModel.getLineMaxColumn(C);return{range:new _.Range(C,1,C,w),isAfterLines:!1}}getLineNumberAtVerticalOffset(p){return this._context.viewLayout.getLineNumberAtVerticalOffset(p)}isAfterLines(p){return this._context.viewLayout.isAfterLines(p)}isInTopPadding(p){return this._context.viewLayout.isInTopPadding(p)}isInBottomPadding(p){return this._context.viewLayout.isInBottomPadding(p)}getVerticalOffsetForLineNumber(p){return this._context.viewLayout.getVerticalOffsetForLineNumber(p)}findAttribute(p,C){return l._findAttribute(p,C,this._viewHelper.viewDomNode)}static _findAttribute(p,C,w){for(;p&&p!==document.body;){if(p.hasAttribute&&p.hasAttribute(C))return p.getAttribute(C);if(p===w)return null;p=p.parentNode}return null}getLineWidth(p){return this._viewHelper.getLineWidth(p)}visibleRangeForPosition(p,C){return this._viewHelper.visibleRangeForPosition(p,C)}getPositionFromDOMInfo(p,C){return this._viewHelper.getPositionFromDOMInfo(p,C)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=l;class h{constructor(p,C,w,E){this.editorPos=C,this.pos=w,this.relativePos=E,this.mouseVerticalOffset=Math.max(0,p.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=p.getCurrentScrollLeft()+this.relativePos.x-p.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<p.layoutInfo.contentLeft&&this.relativePos.x>=p.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,d._getMouseColumn(this.mouseContentHorizontalOffset,p.typicalHalfwidthCharacterWidth))}}class s extends h{constructor(p,C,w,E,I){super(p,C,w,E),this._ctx=p,I?(this.target=I,this.targetPath=k.PartFingerprints.collect(I,p.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(p=null){return p&&p.column<this._ctx.viewModel.getLineMaxColumn(p.lineNumber)?m.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(p.lineNumber),p.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(p=null){return n.createUnknown(this.target,this._getMouseColumn(p),p)}fulfillTextarea(){return n.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(p,C,w,E){return n.createMargin(p,this.target,this._getMouseColumn(C),C,w,E)}fulfillViewZone(p,C,w){return n.createViewZone(p,this.target,this._getMouseColumn(C),C,w)}fulfillContentText(p,C,w){return n.createContentText(this.target,this._getMouseColumn(p),p,C,w)}fulfillContentEmpty(p,C){return n.createContentEmpty(this.target,this._getMouseColumn(p),p,C)}fulfillContentWidget(p){return n.createContentWidget(this.target,this._getMouseColumn(),p)}fulfillScrollbar(p){return n.createScrollbar(this.target,this._getMouseColumn(p),p)}fulfillOverlayWidget(p){return n.createOverlayWidget(this.target,this._getMouseColumn(),p)}withTarget(p){return new s(this._ctx,this.editorPos,this.pos,this.relativePos,p)}}const u={isAfterLines:!0};function a(g){return{isAfterLines:!1,horizontalDistanceToText:g}}class d{constructor(p,C){this._context=p,this._viewHelper=C}mouseTargetIsWidget(p){const C=p.target,w=k.PartFingerprints.collect(C,this._viewHelper.viewDomNode);return!!(r.isChildOfContentWidgets(w)||r.isChildOfOverflowingContentWidgets(w)||r.isChildOfOverlayWidgets(w))}createMouseTarget(p,C,w,E,I){const T=new l(this._context,this._viewHelper,p),P=new s(T,C,w,E,I);try{const A=d._createMouseTarget(T,P,!1);if(A.type===6&&T.stickyTabStops&&A.position!==null){const M=d._snapToSoftTabBoundary(A.position,T.viewModel),N=_.Range.fromPositions(M,M).plusRange(A.range);return P.fulfillContentText(M,N,A.detail)}return A}catch{return P.fulfillUnknown()}}static _createMouseTarget(p,C,w){if(C.target===null){if(w)return C.fulfillUnknown();const T=d._doHitTest(p,C);return T.type===1?d.createMouseTargetFromHitTestPosition(p,C,T.spanNode,T.position,T.injectedText):this._createMouseTarget(p,C.withTarget(T.hitTarget),!0)}const E=C;let I=null;return I=I||d._hitTestContentWidget(p,E),I=I||d._hitTestOverlayWidget(p,E),I=I||d._hitTestMinimap(p,E),I=I||d._hitTestScrollbarSlider(p,E),I=I||d._hitTestViewZone(p,E),I=I||d._hitTestMargin(p,E),I=I||d._hitTestViewCursor(p,E),I=I||d._hitTestTextArea(p,E),I=I||d._hitTestViewLines(p,E,w),I=I||d._hitTestScrollbar(p,E),I||C.fulfillUnknown()}static _hitTestContentWidget(p,C){if(r.isChildOfContentWidgets(C.targetPath)||r.isChildOfOverflowingContentWidgets(C.targetPath)){const w=p.findAttribute(C.target,"widgetId");return w?C.fulfillContentWidget(w):C.fulfillUnknown()}return null}static _hitTestOverlayWidget(p,C){if(r.isChildOfOverlayWidgets(C.targetPath)){const w=p.findAttribute(C.target,"widgetId");return w?C.fulfillOverlayWidget(w):C.fulfillUnknown()}return null}static _hitTestViewCursor(p,C){if(C.target){const w=p.lastRenderData.lastViewCursorsRenderData;for(const E of w)if(C.target===E.domNode)return C.fulfillContentText(E.position,null,{mightBeForeignElement:!1,injectedText:null})}if(C.isInContentArea){const w=p.lastRenderData.lastViewCursorsRenderData,E=C.mouseContentHorizontalOffset,I=C.mouseVerticalOffset;for(const T of w){if(E<T.contentLeft||E>T.contentLeft+T.width)continue;const P=p.getVerticalOffsetForLineNumber(T.position.lineNumber);if(P<=I&&I<=P+T.height)return C.fulfillContentText(T.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(p,C){const w=p.getZoneAtCoord(C.mouseVerticalOffset);if(w){const E=C.isInContentArea?8:5;return C.fulfillViewZone(E,w.position,w)}return null}static _hitTestTextArea(p,C){return r.isTextArea(C.targetPath)?p.lastRenderData.lastTextareaPosition?C.fulfillContentText(p.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):C.fulfillTextarea():null}static _hitTestMargin(p,C){if(C.isInMarginArea){const w=p.getFullLineRangeAtCoord(C.mouseVerticalOffset),E=w.range.getStartPosition();let I=Math.abs(C.relativePos.x);const T={isAfterLines:w.isAfterLines,glyphMarginLeft:p.layoutInfo.glyphMarginLeft,glyphMarginWidth:p.layoutInfo.glyphMarginWidth,lineNumbersWidth:p.layoutInfo.lineNumbersWidth,offsetX:I};return I-=p.layoutInfo.glyphMarginLeft,I<=p.layoutInfo.glyphMarginWidth?C.fulfillMargin(2,E,w.range,T):(I-=p.layoutInfo.glyphMarginWidth,I<=p.layoutInfo.lineNumbersWidth?C.fulfillMargin(3,E,w.range,T):(I-=p.layoutInfo.lineNumbersWidth,C.fulfillMargin(4,E,w.range,T)))}return null}static _hitTestViewLines(p,C,w){if(!r.isChildOfViewLines(C.targetPath))return null;if(p.isInTopPadding(C.mouseVerticalOffset))return C.fulfillContentEmpty(new D.Position(1,1),u);if(p.isAfterLines(C.mouseVerticalOffset)||p.isInBottomPadding(C.mouseVerticalOffset)){const I=p.viewModel.getLineCount(),T=p.viewModel.getLineMaxColumn(I);return C.fulfillContentEmpty(new D.Position(I,T),u)}if(w){if(r.isStrictChildOfViewLines(C.targetPath)){const I=p.getLineNumberAtVerticalOffset(C.mouseVerticalOffset);if(p.viewModel.getLineLength(I)===0){const P=p.getLineWidth(I),A=a(C.mouseContentHorizontalOffset-P);return C.fulfillContentEmpty(new D.Position(I,1),A)}const T=p.getLineWidth(I);if(C.mouseContentHorizontalOffset>=T){const P=a(C.mouseContentHorizontalOffset-T),A=new D.Position(I,p.viewModel.getLineMaxColumn(I));return C.fulfillContentEmpty(A,P)}}return C.fulfillUnknown()}const E=d._doHitTest(p,C);return E.type===1?d.createMouseTargetFromHitTestPosition(p,C,E.spanNode,E.position,E.injectedText):this._createMouseTarget(p,C.withTarget(E.hitTarget),!0)}static _hitTestMinimap(p,C){if(r.isChildOfMinimap(C.targetPath)){const w=p.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),E=p.viewModel.getLineMaxColumn(w);return C.fulfillScrollbar(new D.Position(w,E))}return null}static _hitTestScrollbarSlider(p,C){if(r.isChildOfScrollableElement(C.targetPath)&&C.target&&C.target.nodeType===1){const w=C.target.className;if(w&&/\b(slider|scrollbar)\b/.test(w)){const E=p.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),I=p.viewModel.getLineMaxColumn(E);return C.fulfillScrollbar(new D.Position(E,I))}}return null}static _hitTestScrollbar(p,C){if(r.isChildOfScrollableElement(C.targetPath)){const w=p.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),E=p.viewModel.getLineMaxColumn(w);return C.fulfillScrollbar(new D.Position(w,E))}return null}getMouseColumn(p){const C=this._context.configuration.options,w=C.get(142),E=this._context.viewLayout.getCurrentScrollLeft()+p.x-w.contentLeft;return d._getMouseColumn(E,C.get(49).typicalHalfwidthCharacterWidth)}static _getMouseColumn(p,C){return p<0?1:Math.round(p/C)+1}static createMouseTargetFromHitTestPosition(p,C,w,E,I){const T=E.lineNumber,P=E.column,A=p.getLineWidth(T);if(C.mouseContentHorizontalOffset>A){const R=a(C.mouseContentHorizontalOffset-A);return C.fulfillContentEmpty(E,R)}const M=p.visibleRangeForPosition(T,P);if(!M)return C.fulfillUnknown(E);const N=M.left;if(Math.abs(C.mouseContentHorizontalOffset-N)<1)return C.fulfillContentText(E,null,{mightBeForeignElement:!!I,injectedText:I});const O=[];if(O.push({offset:M.left,column:P}),P>1){const R=p.visibleRangeForPosition(T,P-1);R&&O.push({offset:R.left,column:P-1})}const x=p.viewModel.getLineMaxColumn(T);if(P<x){const R=p.visibleRangeForPosition(T,P+1);R&&O.push({offset:R.left,column:P+1})}O.sort((R,Z)=>R.offset-Z.offset);const F=C.pos.toClientCoordinates(),B=w.getBoundingClientRect(),z=B.left<=F.clientX&&F.clientX<=B.right;let j=null;for(let R=1;R<O.length;R++){const Z=O[R-1],se=O[R];if(Z.offset<=C.mouseContentHorizontalOffset&&C.mouseContentHorizontalOffset<=se.offset){j=new _.Range(T,Z.column,T,se.column);const le=Math.abs(Z.offset-C.mouseContentHorizontalOffset),te=Math.abs(se.offset-C.mouseContentHorizontalOffset);E=le<te?new D.Position(T,Z.column):new D.Position(T,se.column);break}}return C.fulfillContentText(E,j,{mightBeForeignElement:!z||!!I,injectedText:I})}static _doHitTestWithCaretRangeFromPoint(p,C){const w=p.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),E=p.getVerticalOffsetForLineNumber(w),I=E+p.lineHeight;if(!(w===p.viewModel.getLineCount()&&C.mouseVerticalOffset>I)){const P=Math.floor((E+I)/2);let A=C.pos.y+(P-C.mouseVerticalOffset);A<=C.editorPos.y&&(A=C.editorPos.y+1),A>=C.editorPos.y+C.editorPos.height&&(A=C.editorPos.y+C.editorPos.height-1);const M=new y.PageCoordinates(C.pos.x,A),N=this._actualDoHitTestWithCaretRangeFromPoint(p,M.toClientCoordinates());if(N.type===1)return N}return this._actualDoHitTestWithCaretRangeFromPoint(p,C.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(p,C){const w=S.getShadowRoot(p.viewDomNode);let E;if(w?typeof w.caretRangeFromPoint>"u"?E=c(w,C.clientX,C.clientY):E=w.caretRangeFromPoint(C.clientX,C.clientY):E=document.caretRangeFromPoint(C.clientX,C.clientY),!E||!E.startContainer)return new v;const I=E.startContainer;if(I.nodeType===I.TEXT_NODE){const T=I.parentNode,P=T?T.parentNode:null,A=P?P.parentNode:null;return(A&&A.nodeType===A.ELEMENT_NODE?A.className:null)===L.ViewLine.CLASS_NAME?i.createFromDOMInfo(p,T,E.startOffset):new v(I.parentNode)}else if(I.nodeType===I.ELEMENT_NODE){const T=I.parentNode,P=T?T.parentNode:null;return(P&&P.nodeType===P.ELEMENT_NODE?P.className:null)===L.ViewLine.CLASS_NAME?i.createFromDOMInfo(p,I,I.textContent.length):new v(I)}return new v}static _doHitTestWithCaretPositionFromPoint(p,C){const w=document.caretPositionFromPoint(C.clientX,C.clientY);if(w.offsetNode.nodeType===w.offsetNode.TEXT_NODE){const E=w.offsetNode.parentNode,I=E?E.parentNode:null,T=I?I.parentNode:null;return(T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===L.ViewLine.CLASS_NAME?i.createFromDOMInfo(p,w.offsetNode.parentNode,w.offset):new v(w.offsetNode.parentNode)}if(w.offsetNode.nodeType===w.offsetNode.ELEMENT_NODE){const E=w.offsetNode.parentNode,I=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,T=E?E.parentNode:null,P=T&&T.nodeType===T.ELEMENT_NODE?T.className:null;if(I===L.ViewLine.CLASS_NAME){const A=w.offsetNode.childNodes[Math.min(w.offset,w.offsetNode.childNodes.length-1)];if(A)return i.createFromDOMInfo(p,A,0)}else if(P===L.ViewLine.CLASS_NAME)return i.createFromDOMInfo(p,w.offsetNode,0)}return new v(w.offsetNode)}static _snapToSoftTabBoundary(p,C){const w=C.getLineContent(p.lineNumber),{tabSize:E}=C.model.getOptions(),I=f.AtomicTabMoveOperations.atomicPosition(w,p.column-1,E,2);return I!==-1?new D.Position(p.lineNumber,I+1):p}static _doHitTest(p,C){let w=new v;if(typeof document.caretRangeFromPoint=="function"?w=this._doHitTestWithCaretRangeFromPoint(p,C):document.caretPositionFromPoint&&(w=this._doHitTestWithCaretPositionFromPoint(p,C.pos.toClientCoordinates())),w.type===1){const E=p.viewModel.getInjectedTextAt(w.position),I=p.viewModel.normalizePosition(w.position,2);(E||!I.equals(w.position))&&(w=new o(I,w.spanNode,E))}return w}}e.MouseTargetFactory=d;function c(g,p,C){const w=document.createRange();let E=g.elementFromPoint(p,C);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const I=E.getBoundingClientRect(),T=window.getComputedStyle(E,null).getPropertyValue("font-style"),P=window.getComputedStyle(E,null).getPropertyValue("font-variant"),A=window.getComputedStyle(E,null).getPropertyValue("font-weight"),M=window.getComputedStyle(E,null).getPropertyValue("font-size"),N=window.getComputedStyle(E,null).getPropertyValue("line-height"),O=window.getComputedStyle(E,null).getPropertyValue("font-family"),x=`${T} ${P} ${A} ${M}/${N} ${O}`,F=E.innerText;let B=I.left,z=0,j;if(p>I.left+I.width)z=F.length;else{const R=b.getInstance();for(let Z=0;Z<F.length+1;Z++){if(j=R.getCharWidth(F.charAt(Z),x)/2,B+=j,p<B){z=Z;break}B+=j}}w.setStart(E.firstChild,z),w.setEnd(E.firstChild,z)}return w}class b{static getInstance(){return b._INSTANCE||(b._INSTANCE=new b),b._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(p,C){const w=p+C;if(this._cache[w])return this._cache[w];const E=this._canvas.getContext("2d");E.font=C;const T=E.measureText(p).width;return this._cache[w]=T,T}}b._INSTANCE=null}),define(J[827],ee([1,0,7,58,2,17,352,162,147,11,24,152,74]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class t extends o.ViewEventHandler{constructor(u,a,d){super(),this._mouseLeaveMonitor=null,this._context=u,this.viewController=a,this.viewHelper=d,this.mouseTargetFactory=new _.MouseTargetFactory(this._context,d),this._mouseDownOperation=this._register(new n(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(g,p)=>this._createMouseTarget(g,p),g=>this._getMouseColumn(g))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(142).height;const c=new m.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(c.onContextMenu(this.viewHelper.viewDomNode,g=>this._onContextMenu(g,!0))),this._register(c.onMouseMove(this.viewHelper.viewDomNode,g=>{this._onMouseMove(g),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=y.addDisposableListener(document,"mousemove",p=>{this.viewHelper.viewDomNode.contains(p.target)||this._onMouseLeave(new m.EditorMouseEvent(p,!1,this.viewHelper.viewDomNode))}))})),this._register(c.onMouseUp(this.viewHelper.viewDomNode,g=>this._onMouseUp(g))),this._register(c.onMouseLeave(this.viewHelper.viewDomNode,g=>this._onMouseLeave(g)));let b=0;this._register(c.onPointerDown(this.viewHelper.viewDomNode,(g,p)=>{b=p})),this._register(y.addDisposableListener(this.viewHelper.viewDomNode,y.EventType.POINTER_UP,g=>{this._mouseDownOperation.onPointerUp()})),this._register(c.onMouseDown(this.viewHelper.viewDomNode,g=>this._onMouseDown(g,b))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const u=i.MouseWheelClassifier.INSTANCE;let a=0,d=S.EditorZoom.getZoomLevel(),c=!1,b=0;const g=C=>{if(this.viewController.emitMouseWheel(C),!this._context.configuration.options.get(74))return;const w=new k.StandardWheelEvent(C);if(u.acceptStandardWheelEvent(w),u.isPhysicalMouseWheel()){if(p(C)){const E=S.EditorZoom.getZoomLevel(),I=w.deltaY>0?1:-1;S.EditorZoom.setZoomLevel(E+I),w.preventDefault(),w.stopPropagation()}}else Date.now()-a>50&&(d=S.EditorZoom.getZoomLevel(),c=p(C),b=0),a=Date.now(),b+=w.deltaY,c&&(S.EditorZoom.setZoomLevel(d+b/5),w.preventDefault(),w.stopPropagation())};this._register(y.addDisposableListener(this.viewHelper.viewDomNode,y.EventType.MOUSE_WHEEL,g,{capture:!0,passive:!1}));function p(C){return D.isMacintosh?(C.metaKey||C.ctrlKey)&&!C.shiftKey&&!C.altKey:C.ctrlKey&&!C.metaKey&&!C.shiftKey&&!C.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(u){if(u.hasChanged(142)){const a=this._context.configuration.options.get(142).height;this._height!==a&&(this._height=a,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(u){return this._mouseDownOperation.onCursorStateChanged(u),!1}onFocusChanged(u){return!1}getTargetAtClientPoint(u,a){const c=new m.ClientCoordinates(u,a).toPageCoordinates(),b=(0,m.createEditorPagePosition)(this.viewHelper.viewDomNode);if(c.y<b.y||c.y>b.y+b.height||c.x<b.x||c.x>b.x+b.width)return null;const g=(0,m.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,b,c);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),b,c,g,null)}_createMouseTarget(u,a){let d=u.target;if(!this.viewHelper.viewDomNode.contains(d)){const c=y.getShadowRoot(this.viewHelper.viewDomNode);c&&(d=c.elementsFromPoint(u.posx,u.posy).find(b=>this.viewHelper.viewDomNode.contains(b)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),u.editorPos,u.pos,u.relativePos,a?d:null)}_getMouseColumn(u){return this.mouseTargetFactory.getMouseColumn(u.relativePos)}_onContextMenu(u,a){this.viewController.emitContextMenu({event:u,target:this._createMouseTarget(u,a)})}_onMouseMove(u){this.mouseTargetFactory.mouseTargetIsWidget(u)||u.preventDefault(),!(this._mouseDownOperation.isActive()||u.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:u,target:this._createMouseTarget(u,!0)})}_onMouseLeave(u){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:u,target:null})}_onMouseUp(u){this.viewController.emitMouseUp({event:u,target:this._createMouseTarget(u,!0)})}_onMouseDown(u,a){const d=this._createMouseTarget(u,!0),c=d.type===6||d.type===7,b=d.type===2||d.type===3||d.type===4,g=d.type===3,p=this._context.configuration.options.get(107),C=d.type===8||d.type===5,w=d.type===9;let E=u.leftButton||u.middleButton;D.isMacintosh&&u.leftButton&&u.ctrlKey&&(E=!1);const I=()=>{u.preventDefault(),this.viewHelper.focusTextArea()};if(E&&(c||g&&p))I(),this._mouseDownOperation.start(d.type,u,a);else if(b)u.preventDefault();else if(C){const T=d.detail;E&&this.viewHelper.shouldSuppressMouseDownOnViewZone(T.viewZoneId)&&(I(),this._mouseDownOperation.start(d.type,u,a),u.preventDefault())}else w&&this.viewHelper.shouldSuppressMouseDownOnWidget(d.detail)&&(I(),u.preventDefault());this.viewController.emitMouseDown({event:u,target:d})}}e.MouseHandler=t;class n extends L.Disposable{constructor(u,a,d,c,b,g){super(),this._context=u,this._viewController=a,this._viewHelper=d,this._mouseTargetFactory=c,this._createMouseTarget=b,this._getMouseColumn=g,this._mouseMoveMonitor=this._register(new m.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new r(this._context,this._viewHelper,this._mouseTargetFactory,(p,C,w)=>this._dispatchMouse(p,C,w))),this._mouseState=new h,this._currentSelection=new v.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(u){this._lastMouseEvent=u,this._mouseState.setModifiers(u);const a=this._findMousePosition(u,!1);a&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:u,target:a}):a.type===13&&(a.outsidePosition==="above"||a.outsidePosition==="below")?this._topBottomDragScrolling.start(a,u):(this._topBottomDragScrolling.stop(),this._dispatchMouse(a,!0,1)))}start(u,a,d){this._lastMouseEvent=a,this._mouseState.setStartedOnLineNumbers(u===3),this._mouseState.setStartButtons(a),this._mouseState.setModifiers(a);const c=this._findMousePosition(a,!0);if(!c||!c.position)return;this._mouseState.trySetCount(a.detail,c.position),a.detail=this._mouseState.count;const b=this._context.configuration.options;if(!b.get(89)&&b.get(34)&&!b.get(21)&&!this._mouseState.altKey&&a.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&c.type===6&&c.position&&this._currentSelection.containsPosition(c.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,d,a.buttons,g=>this._onMouseDownThenMove(g),g=>{const p=this._findMousePosition(this._lastMouseEvent,!1);g&&g instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:p?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(c,a.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,d,a.buttons,g=>this._onMouseDownThenMove(g),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(u){this._currentSelection=u.selections[0]}_getPositionOutsideEditor(u){const a=u.editorPos,d=this._context.viewModel,c=this._context.viewLayout,b=this._getMouseColumn(u);if(u.posy<a.y){const p=a.y-u.posy,C=Math.max(c.getCurrentScrollTop()-p,0),w=_.HitTestContext.getZoneAtCoord(this._context,C);if(w){const I=this._helpPositionJumpOverViewZone(w);if(I)return _.MouseTarget.createOutsideEditor(b,I,"above",p)}const E=c.getLineNumberAtVerticalOffset(C);return _.MouseTarget.createOutsideEditor(b,new f.Position(E,1),"above",p)}if(u.posy>a.y+a.height){const p=u.posy-a.y-a.height,C=c.getCurrentScrollTop()+u.relativePos.y,w=_.HitTestContext.getZoneAtCoord(this._context,C);if(w){const I=this._helpPositionJumpOverViewZone(w);if(I)return _.MouseTarget.createOutsideEditor(b,I,"below",p)}const E=c.getLineNumberAtVerticalOffset(C);return _.MouseTarget.createOutsideEditor(b,new f.Position(E,d.getLineMaxColumn(E)),"below",p)}const g=c.getLineNumberAtVerticalOffset(c.getCurrentScrollTop()+u.relativePos.y);if(u.posx<a.x){const p=a.x-u.posx;return _.MouseTarget.createOutsideEditor(b,new f.Position(g,1),"left",p)}if(u.posx>a.x+a.width){const p=u.posx-a.x-a.width;return _.MouseTarget.createOutsideEditor(b,new f.Position(g,d.getLineMaxColumn(g)),"right",p)}return null}_findMousePosition(u,a){const d=this._getPositionOutsideEditor(u);if(d)return d;const c=this._createMouseTarget(u,a);if(!c.position)return null;if(c.type===8||c.type===5){const g=this._helpPositionJumpOverViewZone(c.detail);if(g)return _.MouseTarget.createViewZone(c.type,c.element,c.mouseColumn,g,c.detail)}return c}_helpPositionJumpOverViewZone(u){const a=new f.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),d=u.positionBefore,c=u.positionAfter;return d&&c?d.isBefore(a)?d:c:null}_dispatchMouse(u,a,d){u.position&&this._viewController.dispatchMouse({position:u.position,mouseColumn:u.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:d,inSelectionMode:a,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:u.type===6&&u.detail.injectedText!==null})}}class r extends L.Disposable{constructor(u,a,d,c){super(),this._context=u,this._viewHelper=a,this._mouseTargetFactory=d,this._dispatchMouse=c,this._operation=null}dispose(){super.dispose(),this.stop()}start(u,a){this._operation?this._operation.setPosition(u,a):this._operation=new l(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,u,a)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class l extends L.Disposable{constructor(u,a,d,c,b,g){super(),this._context=u,this._viewHelper=a,this._mouseTargetFactory=d,this._dispatchMouse=c,this._position=b,this._mouseEvent=g,this._lastTime=Date.now(),this._animationFrameDisposable=y.scheduleAtNextAnimationFrame(()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(u,a){this._position=u,this._mouseEvent=a}_tick(){const u=Date.now(),a=u-this._lastTime;return this._lastTime=u,a}_getScrollSpeed(){const u=this._context.configuration.options.get(65),a=this._context.configuration.options.get(142).height/u,d=this._position.outsideDistance/u;return d<=1.5?Math.max(30,a*(1+d)):d<=3?Math.max(60,a*(2+d)):Math.max(200,a*(7+d))}_execute(){const u=this._context.configuration.options.get(65),a=this._getScrollSpeed(),d=this._tick(),c=a*(d/1e3)*u,b=this._position.outsidePosition==="above"?-c:c;this._context.viewModel.viewLayout.deltaScrollNow(0,b),this._viewHelper.renderNow();const g=this._context.viewLayout.getLinesViewportData(),p=this._position.outsidePosition==="above"?g.startLineNumber:g.endLineNumber;let C;{const w=(0,m.createEditorPagePosition)(this._viewHelper.viewDomNode),E=this._context.configuration.options.get(142).horizontalScrollbarHeight,I=new m.PageCoordinates(this._mouseEvent.pos.x,w.y+w.height-E-.1),T=(0,m.createCoordinatesRelativeToEditor)(this._viewHelper.viewDomNode,w,I);C=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),w,I,T,null)}(!C.position||C.position.lineNumber!==p)&&(this._position.outsidePosition==="above"?C=_.MouseTarget.createOutsideEditor(this._position.mouseColumn,new f.Position(p,1),"above",this._position.outsideDistance):C=_.MouseTarget.createOutsideEditor(this._position.mouseColumn,new f.Position(p,this._context.viewModel.getLineMaxColumn(p)),"below",this._position.outsideDistance)),this._dispatchMouse(C,!0,2),this._animationFrameDisposable=y.scheduleAtNextAnimationFrame(()=>this._execute())}}class h{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(u){this._altKey=u.altKey,this._ctrlKey=u.ctrlKey,this._metaKey=u.metaKey,this._shiftKey=u.shiftKey}setStartButtons(u){this._leftButton=u.leftButton,this._middleButton=u.middleButton}setStartedOnLineNumbers(u){this._startedOnLineNumbers=u}trySetCount(u,a){const d=new Date().getTime();d-this._lastSetMouseDownCountTime>h.CLEAR_MOUSE_DOWN_COUNT_TIME&&(u=1),this._lastSetMouseDownCountTime=d,u>this._lastMouseDownCount+1&&(u=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(a)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=a,this._lastMouseDownCount=Math.min(u,this._lastMouseDownPositionEqualCount)}}h.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(J[828],ee([1,0,7,17,62,2,827,162,219,187]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class v extends _.MouseHandler{constructor(n,r,l){super(n,r,l),this._register(L.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,L.EventType.Tap,s=>this.onTap(s))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,L.EventType.Change,s=>this.onChange(s))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,L.EventType.Contextmenu,s=>this._onContextMenu(new m.EditorMouseEvent(s,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",s=>{const u=s.pointerType;if(u==="mouse"){this._lastPointerType="mouse";return}else u==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const h=new m.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(h.onPointerMove(this.viewHelper.viewDomNode,s=>this._onMouseMove(s))),this._register(h.onPointerUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(h.onPointerLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(h.onPointerDown(this.viewHelper.viewDomNode,(s,u)=>this._onMouseDown(s,u)))}onTap(n){if(!n.initialTarget||!this.viewHelper.linesContentDomNode.contains(n.initialTarget))return;n.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new m.EditorMouseEvent(n,!1,this.viewHelper.viewDomNode),!1);r.position&&this.viewController.dispatchMouse({position:r.position,mouseColumn:r.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:n.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:r.type===6&&r.detail.injectedText!==null})}onChange(n){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-n.translationX,-n.translationY)}_onMouseDown(n,r){n.browserEvent.pointerType!=="touch"&&super._onMouseDown(n,r)}}e.PointerEventHandler=v;class o extends _.MouseHandler{constructor(n,r,l){super(n,r,l),this._register(L.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,L.EventType.Tap,h=>this.onTap(h))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,L.EventType.Change,h=>this.onChange(h))),this._register(y.addDisposableListener(this.viewHelper.linesContentDomNode,L.EventType.Contextmenu,h=>this._onContextMenu(new m.EditorMouseEvent(h,!1,this.viewHelper.viewDomNode),!1)))}onTap(n){n.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new m.EditorMouseEvent(n,!1,this.viewHelper.viewDomNode),!1);if(r.position){const l=document.createEvent("CustomEvent");l.initEvent(f.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(l),this.viewController.moveTo(r.position,1)}}onChange(n){this._context.viewModel.viewLayout.deltaScrollNow(-n.translationX,-n.translationY)}}class i extends D.Disposable{constructor(n,r,l){super(),k.isIOS&&S.BrowserFeatures.pointerEvents?this.handler=this._register(new v(n,r,l)):window.TouchEvent?this.handler=this._register(new o(n,r,l)):this.handler=this._register(new _.MouseHandler(n,r,l))}getTargetAtClientPoint(n,r){return this.handler.getTargetAtClientPoint(n,r)}}e.PointerHandler=i}),define(J[829],ee([1,0,175,13,17,60,146,231,53,472,351,11,5,416]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class t{constructor(){this._currentVisibleRange=new i.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(s){this._currentVisibleRange=s}}class n{constructor(s,u,a,d,c,b,g){this.minimalReveal=s,this.lineNumber=u,this.startColumn=a,this.endColumn=d,this.startScrollTop=c,this.stopScrollTop=b,this.scrollType=g,this.type="range",this.minLineNumber=u,this.maxLineNumber=u}}class r{constructor(s,u,a,d,c){this.minimalReveal=s,this.selections=u,this.startScrollTop=a,this.stopScrollTop=d,this.scrollType=c,this.type="selections";let b=u[0].startLineNumber,g=u[0].endLineNumber;for(let p=1,C=u.length;p<C;p++){const w=u[p];b=Math.min(b,w.startLineNumber),g=Math.max(g,w.endLineNumber)}this.minLineNumber=b,this.maxLineNumber=g}}class l extends S.ViewPart{constructor(s,u){super(s),this._linesContent=u,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new m.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const a=this._context.configuration,d=this._context.configuration.options,c=d.get(49),b=d.get(143);this._lineHeight=d.get(65),this._typicalHalfwidthCharacterWidth=c.typicalHalfwidthCharacterWidth,this._isViewportWrapping=b.isViewportWrapping,this._revealHorizontalRightPadding=d.get(98),this._cursorSurroundingLines=d.get(28),this._cursorSurroundingLinesStyle=d.get(29),this._canUseLayerHinting=!d.get(31),this._viewLineOptions=new v.ViewLineOptions(a,this._context.theme.type),S.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${y.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,D.applyFontInfo)(this.domNode,c),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new t,this._horizontalRevealRequest=null,this._stickyScrollEnabled=d.get(113).enabled,this._maxNumberStickyLines=d.get(113).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new v.ViewLine(this._viewLineOptions)}onConfigurationChanged(s){this._visibleLines.onConfigurationChanged(s),s.hasChanged(143)&&(this._maxLineWidth=0);const u=this._context.configuration.options,a=u.get(49),d=u.get(143);return this._lineHeight=u.get(65),this._typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this._isViewportWrapping=d.isViewportWrapping,this._revealHorizontalRightPadding=u.get(98),this._cursorSurroundingLines=u.get(28),this._cursorSurroundingLinesStyle=u.get(29),this._canUseLayerHinting=!u.get(31),this._stickyScrollEnabled=u.get(113).enabled,this._maxNumberStickyLines=u.get(113).maxLineCount,(0,D.applyFontInfo)(this.domNode,a),this._onOptionsMaybeChanged(),s.hasChanged(142)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const s=this._context.configuration,u=new v.ViewLineOptions(s,this._context.theme.type);if(!this._viewLineOptions.equals(u)){this._viewLineOptions=u;const a=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let c=a;c<=d;c++)this._visibleLines.getVisibleLine(c).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(s){const u=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();let d=!1;for(let c=u;c<=a;c++)d=this._visibleLines.getVisibleLine(c).onSelectionChanged()||d;return d}onDecorationsChanged(s){{const u=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let d=u;d<=a;d++)this._visibleLines.getVisibleLine(d).onDecorationsChanged()}return!0}onFlushed(s){const u=this._visibleLines.onFlushed(s);return this._maxLineWidth=0,u}onLinesChanged(s){return this._visibleLines.onLinesChanged(s)}onLinesDeleted(s){return this._visibleLines.onLinesDeleted(s)}onLinesInserted(s){return this._visibleLines.onLinesInserted(s)}onRevealRangeRequest(s){const u=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),s.source,s.minimalReveal,s.range,s.selections,s.verticalType);if(u===-1)return!1;let a=this._context.viewLayout.validateScrollPosition({scrollTop:u});s.revealHorizontal?s.range&&s.range.startLineNumber!==s.range.endLineNumber?a={scrollTop:a.scrollTop,scrollLeft:0}:s.range?this._horizontalRevealRequest=new n(s.minimalReveal,s.range.startLineNumber,s.range.startColumn,s.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),a.scrollTop,s.scrollType):s.selections&&s.selections.length>0&&(this._horizontalRevealRequest=new r(s.minimalReveal,s.selections,this._context.viewLayout.getCurrentScrollTop(),a.scrollTop,s.scrollType)):this._horizontalRevealRequest=null;const c=Math.abs(this._context.viewLayout.getCurrentScrollTop()-a.scrollTop)<=this._lineHeight?1:s.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(a,c),!0}onScrollChanged(s){if(this._horizontalRevealRequest&&s.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&s.scrollTopChanged){const u=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),a=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(s.scrollTop<u||s.scrollTop>a)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(s.scrollWidth),this._visibleLines.onScrollChanged(s)||!0}onTokensChanged(s){return this._visibleLines.onTokensChanged(s)}onZonesChanged(s){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(s)}onThemeChanged(s){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(s,u){const a=this._getViewLineDomNode(s);if(a===null)return null;const d=this._getLineNumberFor(a);if(d===-1||d<1||d>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(d)===1)return new o.Position(d,1);const c=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();if(d<c||d>b)return null;let g=this._visibleLines.getVisibleLine(d).getColumnOfNodeOffset(d,s,u);const p=this._context.viewModel.getLineMinColumn(d);return g<p&&(g=p),new o.Position(d,g)}_getViewLineDomNode(s){for(;s&&s.nodeType===1;){if(s.className===v.ViewLine.CLASS_NAME)return s;s=s.parentElement}return null}_getLineNumberFor(s){const u=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let d=u;d<=a;d++){const c=this._visibleLines.getVisibleLine(d);if(s===c.getDomNode())return d}return-1}getLineWidth(s){const u=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();if(s<u||s>a)return-1;const d=new f.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),c=this._visibleLines.getVisibleLine(s).getWidth(d);return this._updateLineWidthsSlowIfDomDidLayout(d),c}linesVisibleRangesForRange(s,u){if(this.shouldRender())return null;const a=s.endLineNumber,d=i.Range.intersectRanges(s,this._lastRenderedData.getCurrentVisibleRange());if(!d)return null;const c=[];let b=0;const g=new f.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let p=0;u&&(p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new o.Position(d.startLineNumber,1)).lineNumber);const C=this._visibleLines.getStartLineNumber(),w=this._visibleLines.getEndLineNumber();for(let E=d.startLineNumber;E<=d.endLineNumber;E++){if(E<C||E>w)continue;const I=E===d.startLineNumber?d.startColumn:1,T=E!==d.endLineNumber,P=T?this._context.viewModel.getLineMaxColumn(E):d.endColumn,A=this._visibleLines.getVisibleLine(E).getVisibleRangesForRange(E,I,P,g);if(A){if(u&&E<a){const M=p;p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new o.Position(E+1,1)).lineNumber,M!==p&&(A.ranges[A.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}c[b++]=new _.LineVisibleRanges(A.outsideRenderedLine,E,_.HorizontalRange.from(A.ranges),T)}}return this._updateLineWidthsSlowIfDomDidLayout(g),b===0?null:c}_visibleRangesForLineRange(s,u,a){if(this.shouldRender()||s<this._visibleLines.getStartLineNumber()||s>this._visibleLines.getEndLineNumber())return null;const d=new f.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),c=this._visibleLines.getVisibleLine(s).getVisibleRangesForRange(s,u,a,d);return this._updateLineWidthsSlowIfDomDidLayout(d),c}visibleRangeForPosition(s){const u=this._visibleRangesForLineRange(s.lineNumber,s.column,s.column);return u?new _.HorizontalPosition(u.outsideRenderedLine,u.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(s){s.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(s){const u=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();let d=1,c=!0;for(let b=u;b<=a;b++){const g=this._visibleLines.getVisibleLine(b);if(s&&!g.getWidthIsFast()){c=!1;continue}d=Math.max(d,g.getWidth(null))}return c&&u===1&&a===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(d),c}_checkMonospaceFontAssumptions(){let s=-1,u=-1;const a=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let c=a;c<=d;c++){const b=this._visibleLines.getVisibleLine(c);if(b.needsMonospaceFontCheck()){const g=b.getWidth(null);g>u&&(u=g,s=c)}}if(s!==-1&&!this._visibleLines.getVisibleLine(s).monospaceAssumptionsAreValid())for(let c=a;c<=d;c++)this._visibleLines.getVisibleLine(c).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(s){if(this._visibleLines.renderLines(s),this._lastRenderedData.setCurrentVisibleRange(s.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const a=this._horizontalRevealRequest;if(s.startLineNumber<=a.minLineNumber&&a.maxLineNumber<=s.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const d=this._computeScrollLeftToReveal(a);d&&(this._isViewportWrapping||this._ensureMaxLineWidth(d.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:d.scrollLeft},a.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),L.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const a=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let c=a;c<=d;c++)if(this._visibleLines.getVisibleLine(c).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const u=this._context.viewLayout.getCurrentScrollTop()-s.bigNumbersDelta;this._linesContent.setTop(-u),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(s){const u=Math.ceil(s);this._maxLineWidth<u&&(this._maxLineWidth=u,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(s,u,a,d,c,b){const g=s.top,p=s.height,C=g+p;let w,E,I;if(c&&c.length>0){let N=c[0].startLineNumber,O=c[0].endLineNumber;for(let x=1,F=c.length;x<F;x++){const B=c[x];N=Math.min(N,B.startLineNumber),O=Math.max(O,B.endLineNumber)}w=!1,E=this._context.viewLayout.getVerticalOffsetForLineNumber(N),I=this._context.viewLayout.getVerticalOffsetForLineNumber(O)+this._lineHeight}else if(d)w=!0,E=this._context.viewLayout.getVerticalOffsetForLineNumber(d.startLineNumber),I=this._context.viewLayout.getVerticalOffsetForLineNumber(d.endLineNumber)+this._lineHeight;else return-1;const T=(u==="mouse"||a)&&this._cursorSurroundingLinesStyle==="default";let P=0,A=0;if(T)a||(P=this._lineHeight);else{const N=Math.min(p/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?P=Math.max(N,this._maxNumberStickyLines)*this._lineHeight:P=N*this._lineHeight,A=Math.max(0,N-1)*this._lineHeight}a||(b===0||b===4)&&(A+=this._lineHeight),E-=P,I+=A;let M;if(I-E>p){if(!w)return-1;M=E}else if(b===5||b===6)if(b===6&&g<=E&&I<=C)M=g;else{const N=Math.max(5*this._lineHeight,p*.2),O=E-N,x=I-p;M=Math.max(x,O)}else if(b===1||b===2)if(b===2&&g<=E&&I<=C)M=g;else{const N=(E+I)/2;M=Math.max(0,N-p/2)}else M=this._computeMinimumScrolling(g,C,E,I,b===3,b===4);return M}_computeScrollLeftToReveal(s){const u=this._context.viewLayout.getCurrentViewport(),a=this._context.configuration.options.get(142),d=u.left,c=d+u.width-a.verticalScrollbarWidth;let b=1073741824,g=0;if(s.type==="range"){const C=this._visibleRangesForLineRange(s.lineNumber,s.startColumn,s.endColumn);if(!C)return null;for(const w of C.ranges)b=Math.min(b,Math.round(w.left)),g=Math.max(g,Math.round(w.left+w.width))}else for(const C of s.selections){if(C.startLineNumber!==C.endLineNumber)return null;const w=this._visibleRangesForLineRange(C.startLineNumber,C.startColumn,C.endColumn);if(!w)return null;for(const E of w.ranges)b=Math.min(b,Math.round(E.left)),g=Math.max(g,Math.round(E.left+E.width))}return s.minimalReveal||(b=Math.max(0,b-l.HORIZONTAL_EXTRA_PX),g+=this._revealHorizontalRightPadding),s.type==="selections"&&g-b>u.width?null:{scrollLeft:this._computeMinimumScrolling(d,c,b,g),maxHorizontalOffset:g}}_computeMinimumScrolling(s,u,a,d,c,b){s=s|0,u=u|0,a=a|0,d=d|0,c=!!c,b=!!b;const g=u-s;if(d-a<g){if(c)return a;if(b)return Math.max(0,d-g);if(a<s)return a;if(d>u)return Math.max(0,d-g)}else return a;return s}}e.ViewLines=l,l.HORIZONTAL_EXTRA_PX=30}),define(J[830],ee([1,0,7,45,68,228,224,15,13,380,105,12,6,120,2,17,9,18,725,334,99,22,90,176]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const b=y.$;class g{constructor(N,O,x,F,B,z,j){var R,Z,se;this._checked=!1,this._hidden=!1,this.hasCheckbox=F,this.index=x,this.fireButtonTriggered=B,this.fireSeparatorButtonTriggered=z,this._onChecked=j,this.onChecked=F?i.Event.map(i.Event.filter(this._onChecked.event,le=>le.listElement===this),le=>le.checked):i.Event.None,N.type==="separator"?this._separator=N:(this.item=N,O&&O.type==="separator"&&!O.buttons&&(this._separator=O),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(R=this.item.highlights)===null||R===void 0?void 0:R.label,this._descriptionHighlights=(Z=this.item.highlights)===null||Z===void 0?void 0:Z.description,this._detailHighlights=(se=this.item.highlights)===null||se===void 0?void 0:se.detail,this.saneTooltip=this.item.tooltip),this._init=new a.Lazy(()=>{var le;const te=(le=N.label)!==null&&le!==void 0?le:"",Y=(0,t.parseLabelWithIcons)(te).text.trim(),U=N.ariaLabel||[te,this.saneDescription,this.saneDetail].map(V=>(0,t.getCodiconAriaLabel)(V)).filter(V=>!!V).join(", ");return{saneLabel:te,saneSortLabel:Y,saneAriaLabel:U}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(N){this._element=N}get hidden(){return this._hidden}set hidden(N){this._hidden=N}get checked(){return this._checked}set checked(N){N!==this._checked&&(this._checked=N,this._onChecked.fire({listElement:this,checked:N}))}get separator(){return this._separator}set separator(N){this._separator=N}get labelHighlights(){return this._labelHighlights}set labelHighlights(N){this._labelHighlights=N}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(N){this._descriptionHighlights=N}get detailHighlights(){return this._detailHighlights}set detailHighlights(N){this._detailHighlights=N}}class p{constructor(N){this.colorScheme=N}get templateId(){return p.ID}renderTemplate(N){const O=Object.create(null);O.toDisposeElement=[],O.toDisposeTemplate=[],O.entry=y.append(N,b(".quick-input-list-entry"));const x=y.append(O.entry,b("label.quick-input-list-label"));O.toDisposeTemplate.push(y.addStandardDisposableListener(x,y.EventType.CLICK,Z=>{O.checkbox.offsetParent||Z.preventDefault()})),O.checkbox=y.append(x,b("input.quick-input-list-checkbox")),O.checkbox.type="checkbox",O.toDisposeTemplate.push(y.addStandardDisposableListener(O.checkbox,y.EventType.CHANGE,Z=>{O.element.checked=O.checkbox.checked}));const F=y.append(x,b(".quick-input-list-rows")),B=y.append(F,b(".quick-input-list-row")),z=y.append(F,b(".quick-input-list-row"));O.label=new D.IconLabel(B,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),O.icon=y.prepend(O.label.element,b(".quick-input-list-icon"));const j=y.append(B,b(".quick-input-list-entry-keybinding"));O.keybinding=new _.KeybindingLabel(j,r.OS);const R=y.append(z,b(".quick-input-list-label-meta"));return O.detail=new D.IconLabel(R,{supportHighlights:!0,supportIcons:!0}),O.separator=y.append(O.entry,b(".quick-input-list-separator")),O.actionBar=new L.ActionBar(O.entry),O.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),O.toDisposeTemplate.push(O.actionBar),O}renderElement(N,O,x){var F,B,z;x.element=N,N.element=(0,h.withNullAsUndefined)(x.entry);const j=N.item?N.item:N.separator;x.checkbox.checked=N.checked,x.toDisposeElement.push(N.onChecked(Y=>x.checkbox.checked=Y));const{labelHighlights:R,descriptionHighlights:Z,detailHighlights:se}=N;if(!((F=N.item)===null||F===void 0)&&F.iconPath){const Y=(0,c.isDark)(this.colorScheme)?N.item.iconPath.dark:(B=N.item.iconPath.light)!==null&&B!==void 0?B:N.item.iconPath.dark,U=d.URI.revive(Y);x.icon.className="quick-input-list-icon",x.icon.style.backgroundImage=y.asCSSUrl(U)}else x.icon.style.backgroundImage="",x.icon.className=!((z=N.item)===null||z===void 0)&&z.iconClass?`quick-input-list-icon ${N.item.iconClass}`:"";const le={matches:R||[],descriptionTitle:N.saneDescription,descriptionMatches:Z||[],labelEscapeNewLines:!0};j.type!=="separator"?(le.extraClasses=j.iconClasses,le.italic=j.italic,le.strikethrough=j.strikethrough,x.entry.classList.remove("quick-input-list-separator-as-item")):x.entry.classList.add("quick-input-list-separator-as-item"),x.label.setLabel(N.saneLabel,N.saneDescription,le),x.keybinding.set(j.type==="separator"?void 0:j.keybinding),N.saneDetail?(x.detail.element.style.display="",x.detail.setLabel(N.saneDetail,void 0,{matches:se,title:N.saneDetail,labelEscapeNewLines:!0})):x.detail.element.style.display="none",N.item&&N.separator&&N.separator.label?(x.separator.textContent=N.separator.label,x.separator.style.display=""):x.separator.style.display="none",x.entry.classList.toggle("quick-input-list-separator-border",!!N.separator);const te=j.buttons;te&&te.length?(x.actionBar.push(te.map((Y,U)=>{let V=Y.iconClass||(Y.iconPath?(0,u.getIconClass)(Y.iconPath):void 0);return Y.alwaysVisible&&(V=V?`${V} always-visible`:"always-visible"),{id:`id-${U}`,class:V,enabled:!0,label:"",tooltip:Y.tooltip||"",run:()=>{j.type!=="separator"?N.fireButtonTriggered({button:Y,item:j}):N.fireSeparatorButtonTriggered({button:Y,separator:j})}}}),{icon:!0,label:!1}),x.entry.classList.add("has-actions")):x.entry.classList.remove("has-actions")}disposeElement(N,O,x){x.toDisposeElement=(0,n.dispose)(x.toDisposeElement),x.actionBar.clear()}disposeTemplate(N){N.toDisposeElement=(0,n.dispose)(N.toDisposeElement),N.toDisposeTemplate=(0,n.dispose)(N.toDisposeTemplate)}}p.ID="listelement";class C{getHeight(N){return N.item?N.saneDetail?44:22:24}getTemplateId(N){return p.ID}}var w;(function(M){M[M.First=1]="First",M[M.Second=2]="Second",M[M.Last=3]="Last",M[M.Next=4]="Next",M[M.Previous=5]="Previous",M[M.NextPage=6]="NextPage",M[M.PreviousPage=7]="PreviousPage"})(w||(e.QuickInputListFocus=w={}));class E{constructor(N,O,x){this.parent=N,this.options=x,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new i.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new i.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new i.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new i.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new i.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new i.Emitter,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new i.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new i.Emitter,this.onLeave=this._onLeave.event,this._listElementChecked=new i.Emitter,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=O,this.container=y.append(this.parent,b(".quick-input-list"));const F=new C,B=new A;this.list=x.createList("QuickInput",this.container,F,[new p(this.options.styles.colorScheme)],{identityProvider:{getId:j=>{var R,Z,se,le,te,Y,U,V;return(V=(Y=(le=(Z=(R=j.item)===null||R===void 0?void 0:R.id)!==null&&Z!==void 0?Z:(se=j.item)===null||se===void 0?void 0:se.label)!==null&&le!==void 0?le:(te=j.separator)===null||te===void 0?void 0:te.id)!==null&&Y!==void 0?Y:(U=j.separator)===null||U===void 0?void 0:U.label)!==null&&V!==void 0?V:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:B}),this.list.getHTMLElement().id=O,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(j=>{const R=new k.StandardKeyboardEvent(j);switch(R.keyCode){case 10:this.toggleCheckbox();break;case 31:(r.isMacintosh?j.metaKey:j.ctrlKey)&&this.list.setFocus((0,m.range)(this.list.length));break;case 16:{const Z=this.list.getFocus();Z.length===1&&Z[0]===0&&this._onLeave.fire();break}case 18:{const Z=this.list.getFocus();Z.length===1&&Z[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(R)})),this.disposables.push(this.list.onMouseDown(j=>{j.browserEvent.button!==2&&j.browserEvent.preventDefault()})),this.disposables.push(y.addDisposableListener(this.container,y.EventType.CLICK,j=>{(j.x||j.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(j=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(j=>{typeof j.index=="number"&&(j.browserEvent.preventDefault(),this.list.setSelection([j.index]))}));const z=new S.ThrottledDelayer(x.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(j=>Le(this,void 0,void 0,function*(){var R;if(j.browserEvent.target instanceof HTMLAnchorElement){z.cancel();return}if(!(!(j.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&y.isAncestor(j.browserEvent.relatedTarget,(R=j.element)===null||R===void 0?void 0:R.element)))try{yield z.trigger(()=>Le(this,void 0,void 0,function*(){j.element&&this.showHover(j.element)}))}catch(Z){if(!(0,o.isCancellationError)(Z))throw Z}}))),this.disposables.push(this.list.onMouseOut(j=>{var R;y.isAncestor(j.browserEvent.relatedTarget,(R=j.element)===null||R===void 0?void 0:R.element)||z.cancel()})),this.disposables.push(this._listElementChecked.event(j=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown,z)}get onDidChangeFocus(){return i.Event.map(this.list.onDidChangeFocus,N=>N.elements.map(O=>O.item))}get onDidChangeSelection(){return i.Event.map(this.list.onDidChangeSelection,N=>({items:N.elements.map(O=>O.item),event:N.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(N){this.list.scrollTop=N}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(N){this.list.getHTMLElement().ariaLabel=N}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(N,O=!0){for(let x=0,F=N.length;x<F;x++){const B=N[x];if(!B.hidden)if(B.checked)O=!0;else return!1}return O}getCheckedCount(){let N=0;const O=this.elements;for(let x=0,F=O.length;x<F;x++)O[x].checked&&N++;return N}getVisibleCount(){let N=0;const O=this.elements;for(let x=0,F=O.length;x<F;x++)O[x].hidden||N++;return N}setAllVisibleChecked(N){try{this._fireCheckedEvents=!1,this.elements.forEach(O=>{O.hidden||(O.checked=N)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(N){this.elementDisposables=(0,n.dispose)(this.elementDisposables);const O=z=>this.fireButtonTriggered(z),x=z=>this.fireSeparatorButtonTriggered(z);this.inputElements=N;const F=new Map,B=this.parent.classList.contains("show-checkboxes");this.elements=N.reduce((z,j,R)=>{var Z;const se=R>0?N[R-1]:void 0;if(j.type==="separator"&&!j.buttons)return z;const le=new g(j,se,R,B,O,x,this._listElementChecked),te=z.length;return z.push(le),F.set((Z=le.item)!==null&&Z!==void 0?Z:le.separator,te),z},[]),this.elementsToIndexes=F,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(N=>N.item)}setFocusedElements(N){if(this.list.setFocus(N.filter(O=>this.elementsToIndexes.has(O)).map(O=>this.elementsToIndexes.get(O))),N.length>0){const O=this.list.getFocus()[0];typeof O=="number"&&this.list.reveal(O)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(N){this.list.setSelection(N.filter(O=>this.elementsToIndexes.has(O)).map(O=>this.elementsToIndexes.get(O)))}getCheckedElements(){return this.elements.filter(N=>N.checked).map(N=>N.item).filter(N=>!!N)}setCheckedElements(N){try{this._fireCheckedEvents=!1;const O=new Set;for(const x of N)O.add(x);for(const x of this.elements)x.checked=O.has(x.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(N){this.list.getHTMLElement().style.pointerEvents=N?"":"none"}focus(N){if(!this.list.length)return;switch(N===w.Second&&this.list.length<2&&(N=w.First),N){case w.First:this.list.scrollTop=0,this.list.focusFirst(void 0,x=>!!x.item);break;case w.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,x=>!!x.item);break;case w.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,x=>!!x.item);break;case w.Next:{this.list.focusNext(void 0,!0,void 0,F=>!!F.item);const x=this.list.getFocus()[0];x!==0&&!this.elements[x-1].item&&this.list.firstVisibleIndex>x-1&&this.list.reveal(x-1);break}case w.Previous:{this.list.focusPrevious(void 0,!0,void 0,F=>!!F.item);const x=this.list.getFocus()[0];x!==0&&!this.elements[x-1].item&&this.list.firstVisibleIndex>x-1&&this.list.reveal(x-1);break}case w.NextPage:this.list.focusNextPage(void 0,x=>!!x.item);break;case w.PreviousPage:this.list.focusPreviousPage(void 0,x=>!!x.item);break}const O=this.list.getFocus()[0];typeof O=="number"&&this.list.reveal(O)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(N){var O,x,F;this._lastHover&&!this._lastHover.isDisposed&&((x=(O=this.options.hoverDelegate).onDidHideHover)===null||x===void 0||x.call(O),(F=this._lastHover)===null||F===void 0||F.dispose()),!(!N.element||!N.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:N.saneTooltip,target:N.element,linkHandler:B=>{this.options.linkOpenerDelegate(B)},showPointer:!0,container:this.container,hoverPosition:1},!1))}layout(N){this.list.getHTMLElement().style.maxHeight=N?`${Math.floor(N/44)*44+6}px`:"",this.list.layout()}filter(N){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const O=N;if(N=N.trim(),!N||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(F=>{F.labelHighlights=void 0,F.descriptionHighlights=void 0,F.detailHighlights=void 0,F.hidden=!1;const B=F.index&&this.inputElements[F.index-1];F.item&&(F.separator=B&&B.type==="separator"&&!B.buttons?B:void 0)});else{let F;this.elements.forEach(B=>{let z;this.matchOnLabelMode==="fuzzy"?z=this.matchOnLabel?(0,h.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(N,(0,t.parseLabelWithIcons)(B.saneLabel))):void 0:z=this.matchOnLabel?(0,h.withNullAsUndefined)(I(O,(0,t.parseLabelWithIcons)(B.saneLabel))):void 0;const j=this.matchOnDescription?(0,h.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(N,(0,t.parseLabelWithIcons)(B.saneDescription||""))):void 0,R=this.matchOnDetail?(0,h.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(N,(0,t.parseLabelWithIcons)(B.saneDetail||""))):void 0;if(z||j||R?(B.labelHighlights=z,B.descriptionHighlights=j,B.detailHighlights=R,B.hidden=!1):(B.labelHighlights=void 0,B.descriptionHighlights=void 0,B.detailHighlights=void 0,B.hidden=B.item?!B.item.alwaysShow:!0),B.item?B.separator=void 0:B.separator&&(B.hidden=!0),!this.sortByLabel){const Z=B.index&&this.inputElements[B.index-1];F=Z&&Z.type==="separator"?Z:F,F&&!B.hidden&&(B.separator=F,F=void 0)}})}const x=this.elements.filter(F=>!F.hidden);if(this.sortByLabel&&N){const F=N.toLowerCase();x.sort((B,z)=>P(B,z,F))}return this.elementsToIndexes=x.reduce((F,B,z)=>{var j;return F.set((j=B.item)!==null&&j!==void 0?j:B.separator,z),F},new Map),this.list.splice(0,this.list.length,x),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(x.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const N=this.list.getFocusedElements(),O=this.allVisibleChecked(N);for(const x of N)x.checked=!O}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(N){this.container.style.display=N?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,n.dispose)(this.elementDisposables),this.disposables=(0,n.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(N){this._onButtonTriggered.fire(N)}fireSeparatorButtonTriggered(N){this._onSeparatorButtonTriggered.fire(N)}style(N){this.list.style(N)}toggleHover(){const N=this.list.getFocusedElements()[0];if(!N?.saneTooltip)return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const O=this.list.getFocusedElements()[0];if(!O)return;this.showHover(O);const x=new n.DisposableStore;x.add(this.list.onDidChangeFocus(F=>{F.indexes.length&&this.showHover(F.elements[0])})),this._lastHover&&x.add(this._lastHover),this._toggleHover=x,this.elementDisposables.push(this._toggleHover)}}e.QuickInputList=E,Ne([v.memoize],E.prototype,"onDidChangeFocus",null),Ne([v.memoize],E.prototype,"onDidChangeSelection",null);function I(M,N){const{text:O,iconOffsets:x}=N;if(!x||x.length===0)return T(M,O);const F=(0,l.ltrim)(O," "),B=O.length-F.length,z=T(M,F);if(z)for(const j of z){const R=x[j.start+B]+B;j.start+=R,j.end+=R}return z}function T(M,N){const O=N.toLowerCase().indexOf(M.toLowerCase());return O!==-1?[{start:O,end:O+M.length}]:null}function P(M,N,O){const x=M.labelHighlights||[],F=N.labelHighlights||[];return x.length&&!F.length?-1:!x.length&&F.length?1:x.length===0&&F.length===0?0:(0,f.compareAnything)(M.saneSortLabel,N.saneSortLabel,O)}class A{getWidgetAriaLabel(){return(0,s.localize)(0,null)}getAriaLabel(N){var O;return!((O=N.separator)===null||O===void 0)&&O.label?`${N.saneAriaLabel}, ${N.separator.label}`:N.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(N){return N.hasCheckbox?"checkbox":"option"}isChecked(N){if(N.hasCheckbox)return{value:N.checked,onDidChange:N.onChecked}}}}),define(J[831],ee([1,0,7,45,68,310,304,568,155,40,15,13,21,26,6,2,17,107,27,18,724,76,763,830,334,176]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const p=y.$,C={iconClass:s.ThemeIcon.asClassName(t.Codicon.quickInputBack),tooltip:(0,a.localize)(0,null),handle:-1};class w extends r.Disposable{constructor(A){super(),this.ui=A,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=w.noPromptMessage,this._severity=h.default.Ignore,this.onDidTriggerButtonEmitter=this._register(new n.Emitter),this.onDidHideEmitter=this._register(new n.Emitter),this.onDisposeEmitter=this._register(new n.Emitter),this.visibleDisposables=this._register(new r.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(A){this._title=A,this.update()}get description(){return this._description}set description(A){this._description=A,this.update()}get step(){return this._steps}set step(A){this._steps=A,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(A){this._totalSteps=A,this.update()}get enabled(){return this._enabled}set enabled(A){this._enabled=A,this.update()}get contextKey(){return this._contextKey}set contextKey(A){this._contextKey=A,this.update()}get busy(){return this._busy}set busy(A){this._busy=A,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(A){const M=this._ignoreFocusOut!==A&&!l.isIOS;this._ignoreFocusOut=A&&!l.isIOS,M&&this.update()}get buttons(){return this._buttons}set buttons(A){this._buttons=A,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(A){this._toggles=A??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(A){this._validationMessage=A,this.update()}get severity(){return this._severity}set severity(A){this._severity=A,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(A=>{this.buttons.indexOf(A)!==-1&&this.onDidTriggerButtonEmitter.fire(A)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(A=d.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:A})}update(){var A,M;if(!this.visible)return;const N=this.getTitle();N&&this.ui.title.textContent!==N?this.ui.title.textContent=N:!N&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const O=this.getDescription();if(this.ui.description1.textContent!==O&&(this.ui.description1.textContent=O),this.ui.description2.textContent!==O&&(this.ui.description2.textContent=O),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?y.reset(this.ui.widget,this._widget):y.reset(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new o.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const F=this.buttons.filter(z=>z===C);this.ui.leftActionBar.push(F.map((z,j)=>{const R=new f.Action(`id-${j}`,"",z.iconClass||(0,g.getIconClass)(z.iconPath),!0,()=>Le(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(z)}));return R.tooltip=z.tooltip||"",R}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const B=this.buttons.filter(z=>z!==C);this.ui.rightActionBar.push(B.map((z,j)=>{const R=new f.Action(`id-${j}`,"",z.iconClass||(0,g.getIconClass)(z.iconPath),!0,()=>Le(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(z)}));return R.tooltip=z.tooltip||"",R}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const F=(M=(A=this.toggles)===null||A===void 0?void 0:A.filter(B=>B instanceof S.Toggle))!==null&&M!==void 0?M:[];this.ui.inputBox.toggles=F}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const x=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==x&&(this._lastValidationMessage=x,y.reset(this.ui.message),(0,g.renderQuickInputDescription)(x,this.ui.message,{callback:F=>{this.ui.linkOpenerDelegate(F)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,a.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(A){if(this.ui.inputBox.showDecoration(A),A!==h.default.Ignore){const M=this.ui.inputBox.stylesForType(A);this.ui.message.style.color=M.foreground?`${M.foreground}`:"",this.ui.message.style.backgroundColor=M.background?`${M.background}`:"",this.ui.message.style.border=M.border?`1px solid ${M.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}w.noPromptMessage=(0,a.localize)(1,null);class E extends w{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new n.Emitter),this.onWillAcceptEmitter=this._register(new n.Emitter),this.onDidAcceptEmitter=this._register(new n.Emitter),this.onDidCustomEmitter=this._register(new n.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=d.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new n.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new n.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new n.Emitter),this.onDidTriggerSeparatorButtonEmitter=this._register(new n.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=A=>A,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(A){this._quickNavigate=A,this.update()}get value(){return this._value}set value(A){this.doSetValue(A)}doSetValue(A,M){this._value!==A&&(this._value=A,M||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(A){this._ariaLabel=A,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(A){this._placeholder=A,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(A){this.ui.list.scrollTop=A}set items(A){this._items=A,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(A){this._canSelectMany=A,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(A){this._canAcceptInBackground=A}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(A){this._matchOnDescription=A,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(A){this._matchOnDetail=A,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(A){this._matchOnLabel=A,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(A){this._matchOnLabelMode=A,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(A){this._sortByLabel=A,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(A){this._autoFocusOnList=A,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(A){this._keepScrollPosition=A}get itemActivation(){return this._itemActivation}set itemActivation(A){this._itemActivation=A}get activeItems(){return this._activeItems}set activeItems(A){this._activeItems=A,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(A){this._selectedItems=A,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?d.NO_KEY_MODS:this.ui.keyMods}set valueSelection(A){this._valueSelection=A,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(A){this._customButton=A,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(A){this._customButtonLabel=A,this.update()}get customHover(){return this._customButtonHover}set customHover(A){this._customButtonHover=A,this.update()}get ok(){return this._ok}set ok(A){this._ok=A,this.update()}get hideInput(){return!!this._hideInput}set hideInput(A){this._hideInput=A,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(b.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(A=>{this.doSetValue(A,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(A=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(A=>{switch(A.keyCode){case 18:this.ui.list.focus(b.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(A,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(b.QuickInputListFocus.Previous):this.ui.list.focus(b.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(A,!0);break;case 12:this.ui.list.focus(b.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(A,!0);break;case 11:this.ui.list.focus(b.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),y.EventHelper.stop(A,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(A.ctrlKey||A.metaKey)&&!A.shiftKey&&!A.altKey&&(this.ui.list.focus(b.QuickInputListFocus.First),y.EventHelper.stop(A,!0));break;case 13:(A.ctrlKey||A.metaKey)&&!A.shiftKey&&!A.altKey&&(this.ui.list.focus(b.QuickInputListFocus.Last),y.EventHelper.stop(A,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(A=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,v.equals)(A,this._activeItems,(M,N)=>M===N)||(this._activeItems=A,this.onDidChangeActiveEmitter.fire(A))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:A,event:M})=>{if(this.canSelectMany){A.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,v.equals)(A,this._selectedItems,(N,O)=>N===O)||(this._selectedItems=A,this.onDidChangeSelectionEmitter.fire(A),A.length&&this.handleAccept(M instanceof MouseEvent&&M.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(A=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,v.equals)(A,this._selectedItems,(M,N)=>M===N)||(this._selectedItems=A,this.onDidChangeSelectionEmitter.fire(A)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(A=>this.onDidTriggerItemButtonEmitter.fire(A))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(A=>this.onDidTriggerSeparatorButtonEmitter.fire(A))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(A){let M=!1;this.onWillAcceptEmitter.fire({veto:()=>M=!0}),M||this.onDidAcceptEmitter.fire({inBackground:A})}registerQuickNavigation(){return y.addDisposableListener(this.ui.container,y.EventType.KEY_UP,A=>{if(this.canSelectMany||!this._quickNavigate)return;const M=new k.StandardKeyboardEvent(A),N=M.keyCode;this._quickNavigate.keybindings.some(F=>{const B=F.getChords();return B.length>1?!1:B[0].shiftKey&&N===4?!(M.ctrlKey||M.altKey||M.metaKey):!!(B[0].altKey&&N===6||B[0].ctrlKey&&N===5||B[0].metaKey&&N===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const A=this.keepScrollPosition?this.scrollTop:0,M=!!this.description,N={title:!!this.title||!!this.step||!!this.buttons.length,description:M,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||M,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(N),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let O=this.ariaLabel;if(!O&&N.inputBox&&(O=this.placeholder||E.DEFAULT_ARIA_LABEL,this.title&&(O+=` - ${this.title}`)),this.ui.list.ariaLabel!==O&&(this.ui.list.ariaLabel=(0,u.withUndefinedAsNull)(O)),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case d.ItemActivation.NONE:this._itemActivation=d.ItemActivation.FIRST;break;case d.ItemActivation.SECOND:this.ui.list.focus(b.QuickInputListFocus.Second),this._itemActivation=d.ItemActivation.FIRST;break;case d.ItemActivation.LAST:this.ui.list.focus(b.QuickInputListFocus.Last),this._itemActivation=d.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",N.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(b.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=A)}}E.DEFAULT_ARIA_LABEL=(0,a.localize)(3,null);class I extends w{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new n.Emitter),this.onDidAcceptEmitter=this._register(new n.Emitter),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(A){this._value=A||"",this.update()}get placeholder(){return this._placeholder}set placeholder(A){this._placeholder=A,this.update()}get password(){return this._password}set password(A){this._password=A,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(A=>{A!==this.value&&(this._value=A,this.onDidValueChangeEmitter.fire(A))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const A={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(A),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}class T extends r.Disposable{constructor(A){super(),this.options=A,this.enabled=!0,this.onDidAcceptEmitter=this._register(new n.Emitter),this.onDidCustomEmitter=this._register(new n.Emitter),this.onDidTriggerButtonEmitter=this._register(new n.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new n.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new n.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=A.idPrefix,this.parentElement=A.container,this.styles=A.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const A=M=>{this.keyMods.ctrlCmd=M.ctrlKey||M.metaKey,this.keyMods.alt=M.altKey};this._register(y.addDisposableListener(window,y.EventType.KEY_DOWN,A,!0)),this._register(y.addDisposableListener(window,y.EventType.KEY_UP,A,!0)),this._register(y.addDisposableListener(window,y.EventType.MOUSE_DOWN,A,!0))}getUI(){if(this.ui)return this.ui;const A=y.append(this.parentElement,p(".quick-input-widget.show-file-icons"));A.tabIndex=-1,A.style.display="none";const M=y.createStyleSheet(A),N=y.append(A,p(".quick-input-titlebar")),O=this._register(new L.ActionBar(N));O.domNode.classList.add("quick-input-left-action-bar");const x=y.append(N,p(".quick-input-title")),F=this._register(new L.ActionBar(N));F.domNode.classList.add("quick-input-right-action-bar");const B=y.append(A,p(".quick-input-header")),z=y.append(B,p("input.quick-input-check-all"));z.type="checkbox",z.setAttribute("aria-label",(0,a.localize)(4,null)),this._register(y.addStandardDisposableListener(z,y.EventType.CHANGE,K=>{const ie=z.checked;q.setAllVisibleChecked(ie)})),this._register(y.addDisposableListener(z,y.EventType.CLICK,K=>{(K.x||K.y)&&se.setFocus()}));const j=y.append(B,p(".quick-input-description")),R=y.append(B,p(".quick-input-and-message")),Z=y.append(R,p(".quick-input-filter")),se=this._register(new c.QuickInputBox(Z,this.styles.inputBox,this.styles.toggle));se.setAttribute("aria-describedby",`${this.idPrefix}message`);const le=y.append(Z,p(".quick-input-visible-count"));le.setAttribute("aria-live","polite"),le.setAttribute("aria-atomic","true");const te=new _.CountBadge(le,{countFormat:(0,a.localize)(5,null)},this.styles.countBadge),Y=y.append(Z,p(".quick-input-count"));Y.setAttribute("aria-live","polite");const U=new _.CountBadge(Y,{countFormat:(0,a.localize)(6,null)},this.styles.countBadge),V=y.append(B,p(".quick-input-action")),H=new D.Button(V,this.styles.button);H.label=(0,a.localize)(7,null),this._register(H.onDidClick(K=>{this.onDidAcceptEmitter.fire()}));const $=y.append(B,p(".quick-input-action")),X=new D.Button($,this.styles.button);X.label=(0,a.localize)(8,null),this._register(X.onDidClick(K=>{this.onDidCustomEmitter.fire()}));const Q=y.append(R,p(`#${this.idPrefix}message.quick-input-message`)),de=new m.ProgressBar(A,this.styles.progressBar);de.getContainer().classList.add("quick-input-progress");const ce=y.append(A,p(".quick-input-html-widget"));ce.tabIndex=-1;const ae=y.append(A,p(".quick-input-description")),ue=this.idPrefix+"list",q=this._register(new b.QuickInputList(A,ue,this.options));se.setAttribute("aria-controls",ue),this._register(q.onDidChangeFocus(()=>{var K;se.setAttribute("aria-activedescendant",(K=q.getActiveDescendant())!==null&&K!==void 0?K:"")})),this._register(q.onChangedAllVisibleChecked(K=>{z.checked=K})),this._register(q.onChangedVisibleCount(K=>{te.setCount(K)})),this._register(q.onChangedCheckedCount(K=>{U.setCount(K)})),this._register(q.onLeave(()=>{setTimeout(()=>{se.setFocus(),this.controller instanceof E&&this.controller.canSelectMany&&q.clearFocus()},0)}));const W=y.trackFocus(A);return this._register(W),this._register(y.addDisposableListener(A,y.EventType.FOCUS,K=>{this.previousFocusElement=K.relatedTarget instanceof HTMLElement?K.relatedTarget:void 0},!0)),this._register(W.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(d.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(y.addDisposableListener(A,y.EventType.FOCUS,K=>{se.setFocus()})),this._register(y.addDisposableListener(A,y.EventType.KEY_DOWN,K=>{const ie=new k.StandardKeyboardEvent(K);switch(ie.keyCode){case 3:y.EventHelper.stop(K,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:y.EventHelper.stop(K,!0),this.hide(d.QuickInputHideReason.Gesture);break;case 2:if(!ie.altKey&&!ie.ctrlKey&&!ie.metaKey){const ne=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(A.classList.contains("show-checkboxes")?ne.push("input"):ne.push("input[type=text]"),this.getUI().list.isDisplayed()&&ne.push(".monaco-list"),this.getUI().message&&ne.push(".quick-input-message a"),this.getUI().widget){if(y.isAncestor(ie.target,this.getUI().widget))break;ne.push(".quick-input-html-widget")}const oe=A.querySelectorAll(ne.join(", "));ie.shiftKey&&ie.target===oe[0]?(y.EventHelper.stop(K,!0),q.clearFocus()):!ie.shiftKey&&y.isAncestor(ie.target,oe[oe.length-1])&&(y.EventHelper.stop(K,!0),oe[0].focus())}break;case 10:ie.ctrlKey&&(y.EventHelper.stop(K,!0),this.getUI().list.toggleHover());break}})),this.ui={container:A,styleSheet:M,leftActionBar:O,titleBar:N,title:x,description1:ae,description2:j,widget:ce,rightActionBar:F,checkAll:z,inputContainer:R,filterContainer:Z,inputBox:se,visibleCountContainer:le,visibleCount:te,countContainer:Y,count:U,okContainer:V,ok:H,message:Q,customButtonContainer:$,customButton:X,list:q,progressBar:de,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:K=>this.show(K),hide:()=>this.hide(),setVisibilities:K=>this.setVisibilities(K),setEnabled:K=>this.setEnabled(K),setContextKey:K=>this.options.setContextKey(K),linkOpenerDelegate:K=>this.options.linkOpenerDelegate(K)},this.updateStyles(),this.ui}pick(A,M={},N=i.CancellationToken.None){return new Promise((O,x)=>{let F=R=>{var Z;F=O,(Z=M.onKeyMods)===null||Z===void 0||Z.call(M,B.keyMods),O(R)};if(N.isCancellationRequested){F(void 0);return}const B=this.createQuickPick();let z;const j=[B,B.onDidAccept(()=>{if(B.canSelectMany)F(B.selectedItems.slice()),B.hide();else{const R=B.activeItems[0];R&&(F(R),B.hide())}}),B.onDidChangeActive(R=>{const Z=R[0];Z&&M.onDidFocus&&M.onDidFocus(Z)}),B.onDidChangeSelection(R=>{if(!B.canSelectMany){const Z=R[0];Z&&(F(Z),B.hide())}}),B.onDidTriggerItemButton(R=>M.onDidTriggerItemButton&&M.onDidTriggerItemButton(Object.assign(Object.assign({},R),{removeItem:()=>{const Z=B.items.indexOf(R.item);if(Z!==-1){const se=B.items.slice(),le=se.splice(Z,1),te=B.activeItems.filter(U=>U!==le[0]),Y=B.keepScrollPosition;B.keepScrollPosition=!0,B.items=se,te&&(B.activeItems=te),B.keepScrollPosition=Y}}}))),B.onDidTriggerSeparatorButton(R=>{var Z;return(Z=M.onDidTriggerSeparatorButton)===null||Z===void 0?void 0:Z.call(M,R)}),B.onDidChangeValue(R=>{z&&!R&&(B.activeItems.length!==1||B.activeItems[0]!==z)&&(B.activeItems=[z])}),N.onCancellationRequested(()=>{B.hide()}),B.onDidHide(()=>{(0,r.dispose)(j),F(void 0)})];B.title=M.title,B.canSelectMany=!!M.canPickMany,B.placeholder=M.placeHolder,B.ignoreFocusOut=!!M.ignoreFocusLost,B.matchOnDescription=!!M.matchOnDescription,B.matchOnDetail=!!M.matchOnDetail,B.matchOnLabel=M.matchOnLabel===void 0||M.matchOnLabel,B.autoFocusOnList=M.autoFocusOnList===void 0||M.autoFocusOnList,B.quickNavigate=M.quickNavigate,B.hideInput=!!M.hideInput,B.contextKey=M.contextKey,B.busy=!0,Promise.all([A,M.activeItem]).then(([R,Z])=>{z=Z,B.busy=!1,B.items=R,B.canSelectMany&&(B.selectedItems=R.filter(se=>se.type!=="separator"&&se.picked)),z&&(B.activeItems=[z])}),B.show(),Promise.resolve(A).then(void 0,R=>{x(R),B.hide()})})}createQuickPick(){const A=this.getUI();return new E(A)}createInputBox(){const A=this.getUI();return new I(A)}show(A){const M=this.getUI();this.onShowEmitter.fire();const N=this.controller;this.controller=A,N?.didHide(),this.setEnabled(!0),M.leftActionBar.clear(),M.title.textContent="",M.description1.textContent="",M.description2.textContent="",y.reset(M.widget),M.rightActionBar.clear(),M.checkAll.checked=!1,M.inputBox.placeholder="",M.inputBox.password=!1,M.inputBox.showDecoration(h.default.Ignore),M.visibleCount.setCount(0),M.count.setCount(0),y.reset(M.message),M.progressBar.stop(),M.list.setElements([]),M.list.matchOnDescription=!1,M.list.matchOnDetail=!1,M.list.matchOnLabel=!0,M.list.sortByLabel=!0,M.ignoreFocusOut=!1,M.inputBox.toggles=void 0;const O=this.options.backKeybindingLabel();C.tooltip=O?(0,a.localize)(9,null,O):(0,a.localize)(10,null),M.container.style.display="",this.updateLayout(),M.inputBox.setFocus()}setVisibilities(A){const M=this.getUI();M.title.style.display=A.title?"":"none",M.description1.style.display=A.description&&(A.inputBox||A.checkAll)?"":"none",M.description2.style.display=A.description&&!(A.inputBox||A.checkAll)?"":"none",M.checkAll.style.display=A.checkAll?"":"none",M.inputContainer.style.display=A.inputBox?"":"none",M.filterContainer.style.display=A.inputBox?"":"none",M.visibleCountContainer.style.display=A.visibleCount?"":"none",M.countContainer.style.display=A.count?"":"none",M.okContainer.style.display=A.ok?"":"none",M.customButtonContainer.style.display=A.customButton?"":"none",M.message.style.display=A.message?"":"none",M.progressBar.getContainer().style.display=A.progressBar?"":"none",M.list.display(!!A.list),M.container.classList.toggle("show-checkboxes",!!A.checkBox),M.container.classList.toggle("hidden-input",!A.inputBox&&!A.description),this.updateLayout()}setEnabled(A){if(A!==this.enabled){this.enabled=A;for(const M of this.getUI().leftActionBar.viewItems)M.action.enabled=A;for(const M of this.getUI().rightActionBar.viewItems)M.action.enabled=A;this.getUI().checkAll.disabled=!A,this.getUI().inputBox.enabled=A,this.getUI().ok.enabled=A,this.getUI().list.enabled=A}}hide(A){var M;const N=this.controller;if(N){const O=!(!((M=this.ui)===null||M===void 0)&&M.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!O){let x=this.previousFocusElement;for(;x&&!x.offsetParent;)x=(0,u.withNullAsUndefined)(x.parentElement);x?.offsetParent?(x.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}N.didHide(A)}}layout(A,M){this.dimension=A,this.titleBarOffset=M,this.updateLayout()}updateLayout(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top=`${this.titleBarOffset}px`;const A=this.ui.container.style,M=Math.min(this.dimension.width*.62,T.MAX_WIDTH);A.width=M+"px",A.marginLeft="-"+M/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(A){this.styles=A,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:A,quickInputBackground:M,quickInputForeground:N,widgetBorder:O,widgetShadow:x}=this.styles.widget;this.ui.titleBar.style.backgroundColor=A??"",this.ui.container.style.backgroundColor=M??"",this.ui.container.style.color=N??"",this.ui.container.style.border=O?`1px solid ${O}`:"",this.ui.container.style.boxShadow=x?`0 0 8px 2px ${x}`:"",this.ui.list.style(this.styles.list);const F=[];this.styles.pickerGroup.pickerGroupBorder&&F.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&F.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&F.push(`.quick-input-list .quick-input-list-separator-as-item { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(F.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&F.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&F.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&F.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&F.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&F.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),F.push("}"));const B=F.join(`
`);B!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=B)}}isDisplayed(){return this.ui&&this.ui.container.style.display!=="none"}}e.QuickInputController=T,T.MAX_WIDTH=600}),define(J[23],ee([1,0,6,2,8,38,90]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.themeColorFromId=e.IThemeService=void 0,e.IThemeService=(0,L.createDecorator)("themeService");function m(t){return{id:t}}e.themeColorFromId=m;function S(t){switch(t){case _.ColorScheme.DARK:return"vs-dark";case _.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case _.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=S,e.Extensions={ThemingContribution:"base.contributions.theming"};class f{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new y.Emitter}onColorThemeChange(n){return this.themingParticipants.push(n),this.onThemingParticipantAddedEmitter.fire(n),(0,k.toDisposable)(()=>{const r=this.themingParticipants.indexOf(n);this.themingParticipants.splice(r,1)})}getThemingParticipants(){return this.themingParticipants}}const v=new f;D.Registry.add(e.Extensions.ThemingContribution,v);function o(t){return v.onColorThemeChange(t)}e.registerThemingParticipant=o;class i extends k.Disposable{constructor(n){super(),this.themeService=n,this.theme=n.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(r=>this.onThemeChange(r)))}onThemeChange(n){this.theme=n,this.updateStyles()}updateStyles(){}}e.Themable=i}),define(J[832],ee([1,0,6,2,65,23]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let _=class extends k.Disposable{constructor(f){super(),this._themeService=f,this._onWillCreateCodeEditor=this._register(new y.Emitter),this._onCodeEditorAdd=this._register(new y.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new y.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new y.Emitter),this._onDiffEditorAdd=this._register(new y.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new y.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new L.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(f){this._codeEditors[f.getId()]=f,this._onCodeEditorAdd.fire(f)}removeCodeEditor(f){delete this._codeEditors[f.getId()]&&this._onCodeEditorRemove.fire(f)}listCodeEditors(){return Object.keys(this._codeEditors).map(f=>this._codeEditors[f])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(f){this._diffEditors[f.getId()]=f,this._onDiffEditorAdd.fire(f)}removeDiffEditor(f){delete this._diffEditors[f.getId()]&&this._onDiffEditorRemove.fire(f)}listDiffEditors(){return Object.keys(this._diffEditors).map(f=>this._diffEditors[f])}getFocusedCodeEditor(){let f=null;const v=this.listCodeEditors();for(const o of v){if(o.hasTextFocus())return o;o.hasWidgetFocus()&&(f=o)}return f}removeDecorationType(f){const v=this._decorationOptionProviders.get(f);v&&(v.refCount--,v.refCount<=0&&(this._decorationOptionProviders.delete(f),v.dispose(),this.listCodeEditors().forEach(o=>o.removeDecorationsByType(f))))}setModelProperty(f,v,o){const i=f.toString();let t;this._modelProperties.has(i)?t=this._modelProperties.get(i):(t=new Map,this._modelProperties.set(i,t)),t.set(v,o)}getModelProperty(f,v){const o=f.toString();if(this._modelProperties.has(o))return this._modelProperties.get(o).get(v)}openCodeEditor(f,v,o){return Le(this,void 0,void 0,function*(){for(const i of this._codeEditorOpenHandlers){const t=yield i(f,v,o);if(t!==null)return t}return null})}registerCodeEditorOpenHandler(f){const v=this._codeEditorOpenHandlers.unshift(f);return(0,k.toDisposable)(v)}};e.AbstractCodeEditorService=_,e.AbstractCodeEditorService=_=Ne([fe(0,D.IThemeService)],_);class m{constructor(f){this._styleSheet=f}}e.GlobalStyleSheet=m}),define(J[833],ee([1,0,7,35,74,53,23]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class m extends D.ViewPart{constructor(f,v,o,i){super(f);const t=this._context.configuration.options,n=t.get(101),r=t.get(73),l=t.get(39),h=t.get(104),s={listenOnDomNode:o.domNode,className:"editor-scrollable "+(0,_.getThemeTypeSelector)(f.theme.type),useShadows:!1,lazyRender:!0,vertical:n.vertical,horizontal:n.horizontal,verticalHasArrows:n.verticalHasArrows,horizontalHasArrows:n.horizontalHasArrows,verticalScrollbarSize:n.verticalScrollbarSize,verticalSliderSize:n.verticalSliderSize,horizontalScrollbarSize:n.horizontalScrollbarSize,horizontalSliderSize:n.horizontalSliderSize,handleMouseWheel:n.handleMouseWheel,alwaysConsumeMouseWheel:n.alwaysConsumeMouseWheel,arrowSize:n.arrowSize,mouseWheelScrollSensitivity:r,fastScrollSensitivity:l,scrollPredominantAxis:h,scrollByPage:n.scrollByPage};this.scrollbar=this._register(new L.SmoothScrollableElement(v.domNode,s,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,k.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const u=(a,d,c)=>{const b={};if(d){const g=a.scrollTop;g&&(b.scrollTop=this._context.viewLayout.getCurrentScrollTop()+g,a.scrollTop=0)}if(c){const g=a.scrollLeft;g&&(b.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+g,a.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(b,1)};this._register(y.addDisposableListener(o.domNode,"scroll",a=>u(o.domNode,!0,!0))),this._register(y.addDisposableListener(v.domNode,"scroll",a=>u(v.domNode,!0,!1))),this._register(y.addDisposableListener(i.domNode,"scroll",a=>u(i.domNode,!0,!1))),this._register(y.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",a=>u(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const f=this._context.configuration.options,v=f.get(142);this.scrollbarDomNode.setLeft(v.contentLeft),f.get(71).side==="right"?this.scrollbarDomNode.setWidth(v.contentWidth+v.minimap.minimapWidth):this.scrollbarDomNode.setWidth(v.contentWidth),this.scrollbarDomNode.setHeight(v.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(f){this.scrollbar.delegateVerticalScrollbarPointerDown(f)}delegateScrollFromMouseWheelEvent(f){this.scrollbar.delegateScrollFromMouseWheelEvent(f)}onConfigurationChanged(f){if(f.hasChanged(101)||f.hasChanged(73)||f.hasChanged(39)){const v=this._context.configuration.options,o=v.get(101),i=v.get(73),t=v.get(39),n=v.get(104),r={vertical:o.vertical,horizontal:o.horizontal,verticalScrollbarSize:o.verticalScrollbarSize,horizontalScrollbarSize:o.horizontalScrollbarSize,scrollByPage:o.scrollByPage,handleMouseWheel:o.handleMouseWheel,mouseWheelScrollSensitivity:i,fastScrollSensitivity:t,scrollPredominantAxis:n};this.scrollbar.updateOptions(r)}return f.hasChanged(142)&&this._setLayout(),!0}onScrollChanged(f){return!0}onThemeChanged(f){return this.scrollbar.updateClassName("editor-scrollable "+(0,_.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(f){}render(f){this.scrollbar.renderNow()}}e.EditorScrollbar=m}),define(J[834],ee([1,0,112,32,23,424]),function(G,e,y,k,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class _{constructor(i,t){this.lineNumber=i,this.ranges=t}}function m(o){return new D(o)}function S(o){return new _(o.lineNumber,o.ranges.map(m))}class f extends y.DynamicViewOverlay{constructor(i){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=i;const t=this._context.configuration.options;this._lineHeight=t.get(65),this._roundedSelection=t.get(99),this._typicalHalfwidthCharacterWidth=t.get(49).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const t=this._context.configuration.options;return this._lineHeight=t.get(65),this._roundedSelection=t.get(99),this._typicalHalfwidthCharacterWidth=t.get(49).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_visibleRangesHaveGaps(i){for(let t=0,n=i.length;t<n;t++)if(i[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(i,t,n){const r=this._typicalHalfwidthCharacterWidth/4;let l=null,h=null;if(n&&n.length>0&&t.length>0){const s=t[0].lineNumber;if(s===i.startLineNumber)for(let a=0;!l&&a<n.length;a++)n[a].lineNumber===s&&(l=n[a].ranges[0]);const u=t[t.length-1].lineNumber;if(u===i.endLineNumber)for(let a=n.length-1;!h&&a>=0;a--)n[a].lineNumber===u&&(h=n[a].ranges[0]);l&&!l.startStyle&&(l=null),h&&!h.startStyle&&(h=null)}for(let s=0,u=t.length;s<u;s++){const a=t[s].ranges[0],d=a.left,c=a.left+a.width,b={top:0,bottom:0},g={top:0,bottom:0};if(s>0){const p=t[s-1].ranges[0].left,C=t[s-1].ranges[0].left+t[s-1].ranges[0].width;v(d-p)<r?b.top=2:d>p&&(b.top=1),v(c-C)<r?g.top=2:p<c&&c<C&&(g.top=1)}else l&&(b.top=l.startStyle.top,g.top=l.endStyle.top);if(s+1<u){const p=t[s+1].ranges[0].left,C=t[s+1].ranges[0].left+t[s+1].ranges[0].width;v(d-p)<r?b.bottom=2:p<d&&d<C&&(b.bottom=1),v(c-C)<r?g.bottom=2:c<C&&(g.bottom=1)}else h&&(b.bottom=h.startStyle.bottom,g.bottom=h.endStyle.bottom);a.startStyle=b,a.endStyle=g}}_getVisibleRangesWithStyle(i,t,n){const l=(t.linesVisibleRangesForRange(i,!0)||[]).map(S);return!this._visibleRangesHaveGaps(l)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,l,n),l}_createSelectionPiece(i,t,n,r,l){return'<div class="cslr '+n+'" style="top:'+i.toString()+"px;left:"+r.toString()+"px;width:"+l.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(i,t,n,r){if(r.length===0)return;const l=!!r[0].ranges[0].startStyle,h=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),u=r[0].lineNumber,a=r[r.length-1].lineNumber;for(let d=0,c=r.length;d<c;d++){const b=r[d],g=b.lineNumber,p=g-t,C=n&&(g===a||g===u)?s:h,w=n&&g===u?1:0;let E="",I="";for(let T=0,P=b.ranges.length;T<P;T++){const A=b.ranges[T];if(l){const N=A.startStyle,O=A.endStyle;if(N.top===1||N.bottom===1){E+=this._createSelectionPiece(w,C,f.SELECTION_CLASS_NAME,A.left-f.ROUNDED_PIECE_WIDTH,f.ROUNDED_PIECE_WIDTH);let x=f.EDITOR_BACKGROUND_CLASS_NAME;N.top===1&&(x+=" "+f.SELECTION_TOP_RIGHT),N.bottom===1&&(x+=" "+f.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(w,C,x,A.left-f.ROUNDED_PIECE_WIDTH,f.ROUNDED_PIECE_WIDTH)}if(O.top===1||O.bottom===1){E+=this._createSelectionPiece(w,C,f.SELECTION_CLASS_NAME,A.left+A.width,f.ROUNDED_PIECE_WIDTH);let x=f.EDITOR_BACKGROUND_CLASS_NAME;O.top===1&&(x+=" "+f.SELECTION_TOP_LEFT),O.bottom===1&&(x+=" "+f.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(w,C,x,A.left+A.width,f.ROUNDED_PIECE_WIDTH)}}let M=f.SELECTION_CLASS_NAME;if(l){const N=A.startStyle,O=A.endStyle;N.top===0&&(M+=" "+f.SELECTION_TOP_LEFT),N.bottom===0&&(M+=" "+f.SELECTION_BOTTOM_LEFT),O.top===0&&(M+=" "+f.SELECTION_TOP_RIGHT),O.bottom===0&&(M+=" "+f.SELECTION_BOTTOM_RIGHT)}I+=this._createSelectionPiece(w,C,M,A.left,A.width)}i[p][0]+=E,i[p][1]+=I}}prepareRender(i){const t=[],n=i.visibleRange.startLineNumber,r=i.visibleRange.endLineNumber;for(let h=n;h<=r;h++){const s=h-n;t[s]=["",""]}const l=[];for(let h=0,s=this._selections.length;h<s;h++){const u=this._selections[h];if(u.isEmpty()){l[h]=null;continue}const a=this._getVisibleRangesWithStyle(u,i,this._previousFrameVisibleRangesWithStyle[h]);l[h]=a,this._actualRenderOneSelection(t,n,this._selections.length>1,a)}this._previousFrameVisibleRangesWithStyle=l,this._renderResult=t.map(([h,s])=>h+s)}render(i,t){if(!this._renderResult)return"";const n=t-i;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}e.SelectionsOverlay=f,f.SELECTION_CLASS_NAME="selected-text",f.SELECTION_TOP_LEFT="top-left-radius",f.SELECTION_BOTTOM_LEFT="bottom-left-radius",f.SELECTION_TOP_RIGHT="top-right-radius",f.SELECTION_BOTTOM_RIGHT="bottom-right-radius",f.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",f.ROUNDED_PIECE_WIDTH=10,(0,L.registerThemingParticipant)((o,i)=>{const t=o.getColor(k.editorSelectionForeground);t&&!t.isTransparent()&&i.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${t}; }`)});function v(o){return o<0?-o:o}}),define(J[353],ee([1,0,7,35,197,2,42,86,121,11,213,32,23]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerPart=void 0;let t=class It extends D.Disposable{constructor(r,l,h,s,u,a,d,c){super(),this._editors=r,this._rootElement=l,this._diffModel=h,this._rootWidth=s,this._rootHeight=u,this._modifiedEditorLayoutInfo=a,this._options=d,this._themeService=c;const b=(0,_.observableFromEvent)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),g=(0,_.derived)("colors",w=>{const E=b.read(w),I=E.getColor(o.diffOverviewRulerInserted)||(E.getColor(o.diffInserted)||o.defaultInsertColor).transparent(2),T=E.getColor(o.diffOverviewRulerRemoved)||(E.getColor(o.diffRemoved)||o.defaultRemoveColor).transparent(2);return{insertColor:I,removeColor:T}}),p=(0,_.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),C=(0,_.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollHeight());this._register((0,m.autorunWithStore2)("create diff editor overview ruler if enabled",(w,E)=>{if(!this._options.renderOverviewRuler.read(w))return;const I=(0,k.createFastDomNode)(document.createElement("div"));I.setClassName("diffViewport"),I.setPosition("absolute");const T=(0,y.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:It.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;E.add((0,S.appendRemoveOnDispose)(T,I.domNode)),E.add((0,y.addStandardDisposableListener)(T,y.EventType.POINTER_DOWN,P=>{this._editors.modified.delegateVerticalScrollbarPointerDown(P)})),E.add((0,y.addDisposableListener)(T,y.EventType.MOUSE_WHEEL,P=>{this._editors.modified.delegateScrollFromMouseWheelEvent(P)},{passive:!1})),E.add((0,S.appendRemoveOnDispose)(this._rootElement,T)),E.add((0,m.autorunWithStore2)("recreate overview rules when model changes",(P,A)=>{const M=this._diffModel.read(P),N=this._editors.original.createOverviewRuler("original diffOverviewRuler");N&&(A.add(N),A.add((0,S.appendRemoveOnDispose)(T,N.getDomNode())));const O=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(O&&(A.add(O),A.add((0,S.appendRemoveOnDispose)(T,O.getDomNode()))),!N||!O)return;const x=(0,_.observableSignalFromEvent)("viewZoneChanged",this._editors.original.onDidChangeViewZones),F=(0,_.observableSignalFromEvent)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),B=(0,_.observableSignalFromEvent)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),z=(0,_.observableSignalFromEvent)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);A.add((0,_.autorun)("set overview ruler zones",j=>{var R;x.read(j),F.read(j),B.read(j),z.read(j);const Z=g.read(j),se=(R=M?.diff.read(j))===null||R===void 0?void 0:R.mappings;function le(te,Y,U){const V=U._getViewModel();return V?te.filter(H=>H.length>0).map(H=>{const $=V.coordinatesConverter.convertModelPositionToViewPosition(new f.Position(H.startLineNumber,1)),X=V.coordinatesConverter.convertModelPositionToViewPosition(new f.Position(H.endLineNumberExclusive,1));return new v.OverviewRulerZone($.lineNumber,X.lineNumber,0,Y.toString())}):[]}N?.setZones(le((se||[]).map(te=>te.lineRangeMapping.originalRange),Z.removeColor,this._editors.original)),O?.setZones(le((se||[]).map(te=>te.lineRangeMapping.modifiedRange),Z.insertColor,this._editors.modified))})),A.add((0,_.autorun)("layout overview ruler",j=>{const R=this._rootHeight.read(j),Z=this._rootWidth.read(j),se=this._modifiedEditorLayoutInfo.read(j);if(se){const le=It.ENTIRE_DIFF_OVERVIEW_WIDTH-2*It.ONE_OVERVIEW_WIDTH;N.setLayout({top:0,height:R,right:le+It.ONE_OVERVIEW_WIDTH,width:It.ONE_OVERVIEW_WIDTH}),O.setLayout({top:0,height:R,right:0,width:It.ONE_OVERVIEW_WIDTH});const te=p.read(j),Y=C.read(j),U=this._editors.modified.getOption(101),V=new L.ScrollbarState(U.verticalHasArrows?U.arrowSize:0,U.verticalScrollbarSize,0,se.height,Y,te);I.setTop(V.getSliderPosition()),I.setHeight(V.getSliderSize())}else I.setTop(0),I.setHeight(0);T.style.height=R+"px",T.style.left=Z-It.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",I.setWidth(It.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}))}};e.OverviewRulerPart=t,t.ONE_OVERVIEW_WIDTH=15,t.ENTIRE_DIFF_OVERVIEW_WIDTH=t.ONE_OVERVIEW_WIDTH*2,e.OverviewRulerPart=t=Ne([fe(7,i.IThemeService)],t)}),define(J[835],ee([1,0,6,2,86,353,36,604,8,34]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorEditors=void 0;let v=class extends k.Disposable{constructor(i,t,n,r,l,h,s){super(),this.originalEditorElement=i,this.modifiedEditorElement=t,this._options=n,this._createInnerEditor=l,this._instantiationService=h,this._keybindingService=s,this._onDidContentSizeChange=this._register(new y.Emitter),this.original=this._createLeftHandSideEditor(n.editorOptions.get(),r.originalEditor||{}),this.modified=this._createRightHandSideEditor(n.editorOptions.get(),r.modifiedEditor||{}),this._register((0,L.autorunHandleChanges)("update editor options",{createEmptyChangeSummary:()=>({}),handleChange:(u,a)=>(u.didChange(n.editorOptions)&&Object.assign(a,u.change.changedOptions),!0)},(u,a)=>{n.editorOptions.read(u),this.modified.updateOptions(this._adjustOptionsForRightHandSide(u,a)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(u,a))}))}_createLeftHandSideEditor(i,t){const n=this._adjustOptionsForLeftHandSide(void 0,i),r=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,n,t);return r.setContextValue("isInDiffLeftEditor",!0),r}_createRightHandSideEditor(i,t){const n=this._adjustOptionsForRightHandSide(void 0,i),r=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,n,t);return r.setContextValue("isInDiffRightEditor",!0),r}_constructInnerEditor(i,t,n,r){const l=this._createInnerEditor(i,t,n,r);return this._register(l.onDidContentSizeChange(h=>{const s=this.original.getContentWidth()+this.modified.getContentWidth()+D.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH,u=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:u,contentWidth:s,contentHeightChanged:h.contentHeightChanged,contentWidthChanged:h.contentWidthChanged})})),l}_adjustOptionsForLeftHandSide(i,t){const n=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide.get()?n.wordWrapOverride1=this._options.diffWordWrap.get():(n.wordWrapOverride1="off",n.wordWrapOverride2="off",n.stickyScroll={enabled:!1}),t.originalAriaLabel&&(n.ariaLabel=t.originalAriaLabel),n.ariaLabel=this._updateAriaLabel(n.ariaLabel),n.readOnly=!this._options.originalEditable.get(),n.dropIntoEditor={enabled:!n.readOnly},n.extraEditorClassName="original-in-monaco-diff-editor",n}_adjustOptionsForRightHandSide(i,t){const n=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(n.ariaLabel=t.modifiedAriaLabel),n.ariaLabel=this._updateAriaLabel(n.ariaLabel),n.wordWrapOverride1=this._options.diffWordWrap.get(),n.revealHorizontalRightPadding=_.EditorOptions.revealHorizontalRightPadding.defaultValue+D.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.extraEditorClassName="modified-in-monaco-diff-editor",n}_adjustOptionsForSubEditor(i){const t=Object.assign(Object.assign({},i),{dimension:{height:0,width:0}});return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens.get(),t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,this._options.collapseUnchangedRegions.get()?t.stickyScroll={enabled:!1}:t.stickyScroll=this._options.editorOptions.get().stickyScroll,t}_updateAriaLabel(i){var t;i||(i="");const n=(0,m.localize)(0,null,(t=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||t===void 0?void 0:t.getAriaLabel());return this._options.accessibilityVerbose.get()?i+n:i?i.replaceAll(n,""):""}};e.DiffEditorEditors=v,e.DiffEditorEditors=v=Ne([fe(5,S.IInstantiationService),fe(6,f.IKeybindingService)],v)}),define(J[79],ee([1,0,616,37,32,23]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorDimmedLineNumber=e.editorActiveLineNumber=e.editorActiveIndentGuide6=e.editorActiveIndentGuide5=e.editorActiveIndentGuide4=e.editorActiveIndentGuide3=e.editorActiveIndentGuide2=e.editorActiveIndentGuide1=e.editorIndentGuide6=e.editorIndentGuide5=e.editorIndentGuide4=e.editorIndentGuide3=e.editorIndentGuide2=e.editorIndentGuide1=e.deprecatedEditorActiveIndentGuides=e.deprecatedEditorIndentGuides=e.editorLineNumbers=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,L.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(0,null)),e.editorLineHighlightBorder=(0,L.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:L.contrastBorder},y.localize(1,null)),e.editorRangeHighlight=(0,L.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},y.localize(2,null),!0),e.editorRangeHighlightBorder=(0,L.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},y.localize(3,null),!0),e.editorSymbolHighlight=(0,L.registerColor)("editor.symbolHighlightBackground",{dark:L.editorFindMatchHighlight,light:L.editorFindMatchHighlight,hcDark:null,hcLight:null},y.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,L.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},y.localize(5,null),!0),e.editorCursorForeground=(0,L.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hcDark:k.Color.white,hcLight:"#0F4A85"},y.localize(6,null)),e.editorCursorBackground=(0,L.registerColor)("editorCursor.background",null,y.localize(7,null)),e.editorWhitespaces=(0,L.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},y.localize(8,null)),e.editorLineNumbers=(0,L.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:k.Color.white,hcLight:"#292929"},y.localize(9,null)),e.deprecatedEditorIndentGuides=(0,L.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},y.localize(10,null),!1,y.localize(11,null)),e.deprecatedEditorActiveIndentGuides=(0,L.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},y.localize(12,null),!1,y.localize(13,null)),e.editorIndentGuide1=(0,L.registerColor)("editorIndentGuide.background1",{dark:e.deprecatedEditorIndentGuides,light:e.deprecatedEditorIndentGuides,hcDark:e.deprecatedEditorIndentGuides,hcLight:e.deprecatedEditorIndentGuides},y.localize(14,null)),e.editorIndentGuide2=(0,L.registerColor)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(15,null)),e.editorIndentGuide3=(0,L.registerColor)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(16,null)),e.editorIndentGuide4=(0,L.registerColor)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(17,null)),e.editorIndentGuide5=(0,L.registerColor)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(18,null)),e.editorIndentGuide6=(0,L.registerColor)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(19,null)),e.editorActiveIndentGuide1=(0,L.registerColor)("editorIndentGuide.activeBackground1",{dark:e.deprecatedEditorActiveIndentGuides,light:e.deprecatedEditorActiveIndentGuides,hcDark:e.deprecatedEditorActiveIndentGuides,hcLight:e.deprecatedEditorActiveIndentGuides},y.localize(20,null)),e.editorActiveIndentGuide2=(0,L.registerColor)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(21,null)),e.editorActiveIndentGuide3=(0,L.registerColor)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(22,null)),e.editorActiveIndentGuide4=(0,L.registerColor)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(23,null)),e.editorActiveIndentGuide5=(0,L.registerColor)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(24,null)),e.editorActiveIndentGuide6=(0,L.registerColor)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(25,null));const _=(0,L.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},y.localize(26,null),!1,y.localize(27,null));e.editorActiveLineNumber=(0,L.registerColor)("editorLineNumber.activeForeground",{dark:_,light:_,hcDark:_,hcLight:_},y.localize(28,null)),e.editorDimmedLineNumber=(0,L.registerColor)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(29,null)),e.editorRuler=(0,L.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hcDark:k.Color.white,hcLight:"#292929"},y.localize(30,null)),e.editorCodeLensForeground=(0,L.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},y.localize(31,null)),e.editorBracketMatchBackground=(0,L.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},y.localize(32,null)),e.editorBracketMatchBorder=(0,L.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:L.contrastBorder,hcLight:L.contrastBorder},y.localize(33,null)),e.editorOverviewRulerBorder=(0,L.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},y.localize(34,null)),e.editorOverviewRulerBackground=(0,L.registerColor)("editorOverviewRuler.background",null,y.localize(35,null)),e.editorGutter=(0,L.registerColor)("editorGutter.background",{dark:L.editorBackground,light:L.editorBackground,hcDark:L.editorBackground,hcLight:L.editorBackground},y.localize(36,null)),e.editorUnnecessaryCodeBorder=(0,L.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:L.contrastBorder},y.localize(37,null)),e.editorUnnecessaryCodeOpacity=(0,L.registerColor)("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},y.localize(38,null)),e.ghostTextBorder=(0,L.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:k.Color.fromHex("#292929").transparent(.8)},y.localize(39,null)),e.ghostTextForeground=(0,L.registerColor)("editorGhostText.foreground",{dark:k.Color.fromHex("#ffffff56"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},y.localize(40,null)),e.ghostTextBackground=(0,L.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},y.localize(41,null));const m=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,L.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:m,light:m,hcDark:m,hcLight:m},y.localize(42,null),!0),e.overviewRulerError=(0,L.registerColor)("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},y.localize(43,null)),e.overviewRulerWarning=(0,L.registerColor)("editorOverviewRuler.warningForeground",{dark:L.editorWarningForeground,light:L.editorWarningForeground,hcDark:L.editorWarningBorder,hcLight:L.editorWarningBorder},y.localize(44,null)),e.overviewRulerInfo=(0,L.registerColor)("editorOverviewRuler.infoForeground",{dark:L.editorInfoForeground,light:L.editorInfoForeground,hcDark:L.editorInfoBorder,hcLight:L.editorInfoBorder},y.localize(45,null)),e.editorBracketHighlightingForeground1=(0,L.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},y.localize(46,null)),e.editorBracketHighlightingForeground2=(0,L.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},y.localize(47,null)),e.editorBracketHighlightingForeground3=(0,L.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},y.localize(48,null)),e.editorBracketHighlightingForeground4=(0,L.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(49,null)),e.editorBracketHighlightingForeground5=(0,L.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(50,null)),e.editorBracketHighlightingForeground6=(0,L.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(51,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,L.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new k.Color(new k.RGBA(255,18,18,.8)),light:new k.Color(new k.RGBA(255,18,18,.8)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:""},y.localize(52,null)),e.editorBracketPairGuideBackground1=(0,L.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(53,null)),e.editorBracketPairGuideBackground2=(0,L.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(54,null)),e.editorBracketPairGuideBackground3=(0,L.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(55,null)),e.editorBracketPairGuideBackground4=(0,L.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(56,null)),e.editorBracketPairGuideBackground5=(0,L.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(57,null)),e.editorBracketPairGuideBackground6=(0,L.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(58,null)),e.editorBracketPairGuideActiveBackground1=(0,L.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(59,null)),e.editorBracketPairGuideActiveBackground2=(0,L.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(60,null)),e.editorBracketPairGuideActiveBackground3=(0,L.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(61,null)),e.editorBracketPairGuideActiveBackground4=(0,L.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(62,null)),e.editorBracketPairGuideActiveBackground5=(0,L.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(63,null)),e.editorBracketPairGuideActiveBackground6=(0,L.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},y.localize(64,null)),e.editorUnicodeHighlightBorder=(0,L.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},y.localize(65,null)),e.editorUnicodeHighlightBackground=(0,L.registerColor)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},y.localize(66,null)),(0,D.registerThemingParticipant)((S,f)=>{const v=S.getColor(L.editorBackground),o=S.getColor(e.editorLineHighlight),i=o&&!o.isTransparent()?o:v;i&&f.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${i}; }`)})}),define(J[836],ee([1,0,112,79,15,23,24,90,411]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class S extends y.DynamicViewOverlay{constructor(i){super(),this._context=i;const t=this._context.configuration.options,n=t.get(142);this._lineHeight=t.get(65),this._renderLineHighlight=t.get(94),this._renderLineHighlightOnlyWhenFocus=t.get(95),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new _.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const t=this._selections.map(r=>r.positionLineNumber);t.sort((r,l)=>r-l),L.equals(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,i=!0);const n=this._selections.every(r=>r.isEmpty());return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const t=this._context.configuration.options,n=t.get(142);return this._lineHeight=t.get(65),this._renderLineHighlight=t.get(94),this._renderLineHighlightOnlyWhenFocus=t.get(95),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const t=this._renderOne(i),n=i.visibleRange.startLineNumber,r=i.visibleRange.endLineNumber,l=this._cursorLineNumbers.length;let h=0;const s=[];for(let u=n;u<=r;u++){const a=u-n;for(;h<l&&this._cursorLineNumbers[h]<u;)h++;h<l&&this._cursorLineNumbers[h]===u?s[a]=t:s[a]=""}this._renderData=s}render(i,t){if(!this._renderData)return"";const n=t-i;return n>=this._renderData.length?"":this._renderData[n]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=S;class f extends S{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=f;class v extends S{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=v,(0,D.registerThemingParticipant)((o,i)=>{const t=o.getColor(k.editorLineHighlight);if(t&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||o.defines(k.editorLineHighlightBorder)){const n=o.getColor(k.editorLineHighlightBorder);n&&(i.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${n}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${n}; }`),(0,m.isHighContrast)(o.type)&&(i.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(J[837],ee([1,0,112,79,23,11,15,18,286,210,414]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class v extends y.DynamicViewOverlay{constructor(t){super(),this._context=t,this._primaryPosition=null;const n=this._context.configuration.options,r=n.get(143),l=n.get(49);this._lineHeight=n.get(65),this._spaceWidth=l.spaceWidth,this._maxIndentLeft=r.wrappingColumn===-1?-1:r.wrappingColumn*l.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=n.get(15),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const n=this._context.configuration.options,r=n.get(143),l=n.get(49);return this._lineHeight=n.get(65),this._spaceWidth=l.spaceWidth,this._maxIndentLeft=r.wrappingColumn===-1?-1:r.wrappingColumn*l.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=n.get(15),!0}onCursorStateChanged(t){var n;const l=t.selections[0].getPosition();return!((n=this._primaryPosition)===null||n===void 0)&&n.equals(l)?!1:(this._primaryPosition=l,!0)}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onLanguageConfigurationChanged(t){return!0}prepareRender(t){var n,r,l,h;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const s=t.visibleRange.startLineNumber,u=t.visibleRange.endLineNumber,a=t.scrollWidth,d=this._lineHeight,c=this._primaryPosition,b=this.getGuidesByLine(s,Math.min(u+1,this._context.viewModel.getLineCount()),c),g=[];for(let p=s;p<=u;p++){const C=p-s,w=b[C];let E="";const I=(r=(n=t.visibleRangeForPosition(new D.Position(p,1)))===null||n===void 0?void 0:n.left)!==null&&r!==void 0?r:0;for(const T of w){const P=T.column===-1?I+(T.visibleColumn-1)*this._spaceWidth:t.visibleRangeForPosition(new D.Position(p,T.column)).left;if(P>a||this._maxIndentLeft>0&&P>this._maxIndentLeft)break;const A=T.horizontalLine?T.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",M=T.horizontalLine?((h=(l=t.visibleRangeForPosition(new D.Position(p,T.horizontalLine.endColumn)))===null||l===void 0?void 0:l.left)!==null&&h!==void 0?h:P+this._spaceWidth)-P:this._spaceWidth;E+=`<div class="core-guide ${T.className} ${A}" style="left:${P}px;height:${d}px;width:${M}px"></div>`}g[C]=E}this._renderResult=g}getGuidesByLine(t,n,r){const l=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(t,n,r,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?f.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?f.HorizontalGuidesState.EnabledForActive:f.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,h=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,n):null;let s=0,u=0,a=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&r){const b=this._context.viewModel.getActiveIndentGuide(r.lineNumber,t,n);s=b.startLineNumber,u=b.endLineNumber,a=b.indent}const{indentSize:d}=this._context.viewModel.model.getOptions(),c=[];for(let b=t;b<=n;b++){const g=new Array;c.push(g);const p=l?l[b-t]:[],C=new _.ArrayQueue(p),w=h?h[b-t]:0;for(let E=1;E<=w;E++){const I=(E-1)*d+1,T=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||p.length===0)&&s<=b&&b<=u&&E===a;g.push(...C.takeWhile(A=>A.visibleColumn<I)||[]);const P=C.peek();(!P||P.visibleColumn!==I||P.horizontalLine)&&g.push(new f.IndentGuide(I,-1,`core-guide-indent lvl-${(E-1)%30}`+(T?" indent-active":""),null,-1,-1))}g.push(...C.takeWhile(E=>!0)||[])}return c}render(t,n){if(!this._renderResult)return"";const r=n-t;return r<0||r>=this._renderResult.length?"":this._renderResult[r]}}e.IndentGuidesOverlay=v;function o(i){if(!(i&&i.isTransparent()))return i}(0,L.registerThemingParticipant)((i,t)=>{const n=[{bracketColor:k.editorBracketHighlightingForeground1,guideColor:k.editorBracketPairGuideBackground1,guideColorActive:k.editorBracketPairGuideActiveBackground1},{bracketColor:k.editorBracketHighlightingForeground2,guideColor:k.editorBracketPairGuideBackground2,guideColorActive:k.editorBracketPairGuideActiveBackground2},{bracketColor:k.editorBracketHighlightingForeground3,guideColor:k.editorBracketPairGuideBackground3,guideColorActive:k.editorBracketPairGuideActiveBackground3},{bracketColor:k.editorBracketHighlightingForeground4,guideColor:k.editorBracketPairGuideBackground4,guideColorActive:k.editorBracketPairGuideActiveBackground4},{bracketColor:k.editorBracketHighlightingForeground5,guideColor:k.editorBracketPairGuideBackground5,guideColorActive:k.editorBracketPairGuideActiveBackground5},{bracketColor:k.editorBracketHighlightingForeground6,guideColor:k.editorBracketPairGuideBackground6,guideColorActive:k.editorBracketPairGuideActiveBackground6}],r=new S.BracketPairGuidesClassNames,l=[{indentColor:k.editorIndentGuide1,indentColorActive:k.editorActiveIndentGuide1},{indentColor:k.editorIndentGuide2,indentColorActive:k.editorActiveIndentGuide2},{indentColor:k.editorIndentGuide3,indentColorActive:k.editorActiveIndentGuide3},{indentColor:k.editorIndentGuide4,indentColorActive:k.editorActiveIndentGuide4},{indentColor:k.editorIndentGuide5,indentColorActive:k.editorActiveIndentGuide5},{indentColor:k.editorIndentGuide6,indentColorActive:k.editorActiveIndentGuide6}],h=n.map(u=>{var a,d;const c=i.getColor(u.bracketColor),b=i.getColor(u.guideColor),g=i.getColor(u.guideColorActive),p=o((a=o(b))!==null&&a!==void 0?a:c?.transparent(.3)),C=o((d=o(g))!==null&&d!==void 0?d:c);if(!(!p||!C))return{guideColor:p,guideColorActive:C}}).filter(m.isDefined),s=l.map(u=>{const a=i.getColor(u.indentColor),d=i.getColor(u.indentColorActive),c=o(a),b=o(d);if(!(!c||!b))return{indentColor:c,indentColorActive:b}}).filter(m.isDefined);if(h.length>0){for(let u=0;u<30;u++){const a=h[u%h.length];t.addRule(`.monaco-editor .${r.getInlineClassNameOfLevel(u).replace(/ /g,".")} { --guide-color: ${a.guideColor}; --guide-color-active: ${a.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${r.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${r.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${r.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(s.length>0){for(let u=0;u<30;u++){const a=s[u%s.length];t.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${u} { --indent-color: ${a.indentColor}; --indent-color-active: ${a.indentColorActive}; }`)}t.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),t.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})}),define(J[354],ee([1,0,17,112,11,23,79,415]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class m extends k.DynamicViewOverlay{constructor(f){super(),this._context=f,this._readConfig(),this._lastCursorModelPosition=new L.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const f=this._context.configuration.options;this._lineHeight=f.get(65);const v=f.get(66);this._renderLineNumbers=v.renderType,this._renderCustomLineNumbers=v.renderFn,this._renderFinalNewline=f.get(93);const o=f.get(142);this._lineNumbersLeft=o.lineNumbersLeft,this._lineNumbersWidth=o.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(f){return this._readConfig(),!0}onCursorStateChanged(f){const v=f.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(v);let o=!1;return this._activeLineNumber!==v.lineNumber&&(this._activeLineNumber=v.lineNumber,o=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(o=!0),o}onFlushed(f){return!0}onLinesChanged(f){return!0}onLinesDeleted(f){return!0}onLinesInserted(f){return!0}onScrollChanged(f){return f.scrollTopChanged}onZonesChanged(f){return!0}_getLineRenderLineNumber(f){const v=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new L.Position(f,1));if(v.column!==1)return"";const o=v.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(o);if(this._renderLineNumbers===2){const i=Math.abs(this._lastCursorModelPosition.lineNumber-o);return i===0?'<span class="relative-current-line-number">'+o+"</span>":String(i)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===o||o%10===0?String(o):"":String(o)}prepareRender(f){if(this._renderLineNumbers===0){this._renderResult=null;return}const v=y.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",o=f.visibleRange.startLineNumber,i=f.visibleRange.endLineNumber,t=this._context.viewModel.getLineCount(),n=[];for(let r=o;r<=i;r++){const l=r-o,h=this._getLineRenderLineNumber(r);if(!h){n[l]="";continue}let s="";if(r===t&&this._context.viewModel.getLineLength(r)===0){if(this._renderFinalNewline==="off"){n[l]="";continue}this._renderFinalNewline==="dimmed"&&(s=" dimmed-line-number")}r===this._activeLineNumber&&(s=" active-line-number"),n[l]=`<div class="${m.CLASS_NAME}${v}${s}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${h}</div>`}this._renderResult=n}render(f,v){if(!this._renderResult)return"";const o=v-f;return o<0||o>=this._renderResult.length?"":this._renderResult[o]}}e.LineNumbersOverlay=m,m.CLASS_NAME="line-numbers",(0,D.registerThemingParticipant)((S,f)=>{const v=S.getColor(_.editorLineNumbers),o=S.getColor(_.editorDimmedLineNumber);o?f.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${o}; }`):v&&f.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${v.transparent(.4)}; }`)})}),define(J[838],ee([1,0,595,52,35,17,9,60,187,272,53,354,288,36,148,11,5,24,175,30,37,262,34,409]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class b{constructor(E,I,T,P,A){this._context=E,this.modelLineNumber=I,this.distanceToModelLineStart=T,this.widthOfHiddenLineTextBefore=P,this.distanceToModelLineEnd=A,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(E){const I=new r.Position(this.modelLineNumber,this.distanceToModelLineStart+1),T=new r.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(I),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(T),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=E.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=E.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(E){return this._previousPresentation||(E?this._previousPresentation=E:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const g=k.isFirefox;let p=class extends v.ViewPart{constructor(E,I,T,P){super(E),this._keybindingService=P,this._primaryCursorPosition=new r.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=I,this._visibleRangeProvider=T,this._scrollLeft=0,this._scrollTop=0;const A=this._context.configuration.options,M=A.get(142);this._setAccessibilityOptions(A),this._contentLeft=M.contentLeft,this._contentWidth=M.contentWidth,this._contentHeight=M.height,this._fontInfo=A.get(49),this._lineHeight=A.get(65),this._emptySelectionClipboard=A.get(36),this._copyWithSyntaxHighlighting=A.get(24),this._visibleTextArea=null,this._selections=[new h.Selection(1,1,1,1)],this._modelSelections=[new h.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,L.createFastDomNode)(document.createElement("textarea")),v.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:N}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${N*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(A)),this.textArea.setAttribute("aria-required",A.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(A.get(122))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",y.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,L.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const O={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:B=>this._context.viewModel.getLineMaxColumn(B),getValueInRange:(B,z)=>this._context.viewModel.getValueInRange(B,z),getValueLengthInRange:(B,z)=>this._context.viewModel.getValueLengthInRange(B,z),modifyPosition:(B,z)=>this._context.viewModel.modifyPosition(B,z)},x={getDataToCopy:()=>{const B=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.isWindows),z=this._context.viewModel.model.getEOL(),j=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),R=Array.isArray(B)?B:null,Z=Array.isArray(B)?B.join(z):B;let se,le=null;if(S.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Z.length<65536){const te=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);te&&(se=te.html,le=te.mode)}return{isFromEmptySelection:j,multicursorText:R,text:Z,html:se,mode:le}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const B=this._selections[0];if(D.isMacintosh&&B.isEmpty()){const j=B.getStartPosition();let R=this._getWordBeforePosition(j);if(R.length===0&&(R=this._getCharacterBeforePosition(j)),R.length>0)return new f.TextAreaState(R,R.length,R.length,l.Range.fromPositions(j),0)}const z=500;if(D.isMacintosh&&!B.isEmpty()&&O.getValueLengthInRange(B,0)<z){const j=O.getValueInRange(B,0);return new f.TextAreaState(j,0,j.length,B,0)}if(k.isSafari&&!B.isEmpty()){const j="vscode-placeholder";return new f.TextAreaState(j,0,j.length,null,void 0)}return f.TextAreaState.EMPTY}if(k.isAndroid){const B=this._selections[0];if(B.isEmpty()){const z=B.getStartPosition(),[j,R]=this._getAndroidWordAtPosition(z);if(j.length>0)return new f.TextAreaState(j,R,R,l.Range.fromPositions(z),0)}return f.TextAreaState.EMPTY}return f.PagedScreenReaderStrategy.fromEditorSelection(O,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(B,z,j)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(B,z,j)},F=this._register(new S.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new S.TextAreaInput(x,F,D.OS,{isAndroid:k.isAndroid,isChrome:k.isChrome,isFirefox:k.isFirefox,isSafari:k.isSafari})),this._register(this._textAreaInput.onKeyDown(B=>{this._viewController.emitKeyDown(B)})),this._register(this._textAreaInput.onKeyUp(B=>{this._viewController.emitKeyUp(B)})),this._register(this._textAreaInput.onPaste(B=>{let z=!1,j=null,R=null;B.metadata&&(z=this._emptySelectionClipboard&&!!B.metadata.isFromEmptySelection,j=typeof B.metadata.multicursorText<"u"?B.metadata.multicursorText:null,R=B.metadata.mode),this._viewController.paste(B.text,z,j,R)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(B=>{B.replacePrevCharCnt||B.replaceNextCharCnt||B.positionDelta?(f._debugComposition&&console.log(` => compositionType: <<${B.text}>>, ${B.replacePrevCharCnt}, ${B.replaceNextCharCnt}, ${B.positionDelta}`),this._viewController.compositionType(B.text,B.replacePrevCharCnt,B.replaceNextCharCnt,B.positionDelta)):(f._debugComposition&&console.log(` => type: <<${B.text}>>`),this._viewController.type(B.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(B=>{this._viewController.setSelection(B)})),this._register(this._textAreaInput.onCompositionStart(B=>{const z=this.textArea.domNode,j=this._modelSelections[0],{distanceToModelLineStart:R,widthOfHiddenTextBefore:Z}=(()=>{const le=z.value.substring(0,Math.min(z.selectionStart,z.selectionEnd)),te=le.lastIndexOf(`
`),Y=le.substring(te+1),U=Y.lastIndexOf("	"),V=Y.length-U-1,H=j.getStartPosition(),$=Math.min(H.column-1,V),X=H.column-1-$,Q=Y.substring(0,Y.length-$),{tabSize:de}=this._context.viewModel.model.getOptions(),ce=C(Q,this._fontInfo,de);return{distanceToModelLineStart:X,widthOfHiddenTextBefore:ce}})(),{distanceToModelLineEnd:se}=(()=>{const le=z.value.substring(Math.max(z.selectionStart,z.selectionEnd)),te=le.indexOf(`
`),Y=te===-1?le:le.substring(0,te),U=Y.indexOf("	"),V=U===-1?Y.length:Y.length-U-1,H=j.getEndPosition(),$=Math.min(this._context.viewModel.model.getLineMaxColumn(H.lineNumber)-H.column,V);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(H.lineNumber)-H.column-$}})();this._context.viewModel.revealRange("keyboard",!0,l.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new b(this._context,j.startLineNumber,R,Z,se),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(B=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(d.IME.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(E){this._textAreaInput.writeScreenReaderContent(E)}dispose(){super.dispose()}_getAndroidWordAtPosition(E){const I='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',T=this._context.viewModel.getLineContent(E.lineNumber),P=(0,n.getMapForWordSeparators)(I);let A=!0,M=E.column,N=!0,O=E.column,x=0;for(;x<50&&(A||N);){if(A&&M<=1&&(A=!1),A){const F=T.charCodeAt(M-2);P.get(F)!==0?A=!1:M--}if(N&&O>T.length&&(N=!1),N){const F=T.charCodeAt(O-1);P.get(F)!==0?N=!1:O++}x++}return[T.substring(M-1,O-1),E.column-M]}_getWordBeforePosition(E){const I=this._context.viewModel.getLineContent(E.lineNumber),T=(0,n.getMapForWordSeparators)(this._context.configuration.options.get(128));let P=E.column,A=0;for(;P>1;){const M=I.charCodeAt(P-2);if(T.get(M)!==0||A>50)return I.substring(P-1,E.column-1);A++,P--}return I.substring(0,E.column-1)}_getCharacterBeforePosition(E){if(E.column>1){const T=this._context.viewModel.getLineContent(E.lineNumber).charAt(E.column-2);if(!_.isHighSurrogate(T.charCodeAt(0)))return T}return""}_getAriaLabel(E){var I,T,P;if(E.get(2)===1){const M=(I=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||I===void 0?void 0:I.getAriaLabel(),N=(T=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||T===void 0?void 0:T.getAriaLabel(),O=(P=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||P===void 0?void 0:P.getAriaLabel(),x=y.localize(1,null);return M?y.localize(2,null,x,M):N?y.localize(3,null,x,N):O?y.localize(4,null,x,O):x}return E.get(4)}_setAccessibilityOptions(E){this._accessibilitySupport=E.get(2);const I=E.get(3);this._accessibilitySupport===2&&I===t.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=I;const P=E.get(142).wrappingColumn;if(P!==-1&&this._accessibilitySupport!==1){const A=E.get(49);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(P*A.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=g?0:1}onConfigurationChanged(E){const I=this._context.configuration.options,T=I.get(142);this._setAccessibilityOptions(I),this._contentLeft=T.contentLeft,this._contentWidth=T.contentWidth,this._contentHeight=T.height,this._fontInfo=I.get(49),this._lineHeight=I.get(65),this._emptySelectionClipboard=I.get(36),this._copyWithSyntaxHighlighting=I.get(24),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:P}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${P*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(I)),this.textArea.setAttribute("aria-required",I.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(I.get(122))),(E.hasChanged(33)||E.hasChanged(89))&&this._ensureReadOnlyAttribute(),E.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(E){return this._selections=E.selections.slice(0),this._modelSelections=E.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(E){return!0}onFlushed(E){return!0}onLinesChanged(E){return!0}onLinesDeleted(E){return!0}onLinesInserted(E){return!0}onScrollChanged(E){return this._scrollLeft=E.scrollLeft,this._scrollTop=E.scrollTop,!0}onZonesChanged(E){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(E){E.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",E.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),E.role&&this.textArea.setAttribute("role",E.role)}_ensureReadOnlyAttribute(){const E=this._context.configuration.options;!d.IME.enabled||E.get(33)&&E.get(89)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(E){var I;this._primaryCursorPosition=new r.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=E.visibleRangeForPosition(this._primaryCursorPosition),(I=this._visibleTextArea)===null||I===void 0||I.prepareRender(E)}render(E){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){var E;if(this._visibleTextArea){const P=this._visibleTextArea.visibleTextareaStart,A=this._visibleTextArea.visibleTextareaEnd,M=this._visibleTextArea.startPosition,N=this._visibleTextArea.endPosition;if(M&&N&&P&&A&&A.left>=this._scrollLeft&&P.left<=this._scrollLeft+this._contentWidth){const O=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,x=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let F=this._visibleTextArea.widthOfHiddenLineTextBefore,B=this._contentLeft+P.left-this._scrollLeft,z=A.left-P.left+1;if(B<this._contentLeft){const te=this._contentLeft-B;B+=te,F+=te,z-=te}z>this._contentWidth&&(z=this._contentWidth);const j=this._context.viewModel.getViewLineData(M.lineNumber),R=j.tokens.findTokenIndexAtOffset(M.column-1),Z=j.tokens.findTokenIndexAtOffset(N.column-1),se=R===Z,le=this._visibleTextArea.definePresentation(se?j.tokens.getPresentation(R):null);this.textArea.domNode.scrollTop=x*this._lineHeight,this.textArea.domNode.scrollLeft=F,this._doRender({lastRenderPosition:null,top:O,left:B,width:z,height:this._lineHeight,useCover:!1,color:(u.TokenizationRegistry.getColorMap()||[])[le.foreground],italic:le.italic,bold:le.bold,underline:le.underline,strikethrough:le.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const I=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(I<this._contentLeft||I>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const T=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(T<0||T>this._contentHeight){this._renderAtTopLeft();return}if(D.isMacintosh){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:T,left:this._textAreaWrapping?this._contentLeft:I,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const P=(E=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&E!==void 0?E:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=P*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:T,left:this._textAreaWrapping?this._contentLeft:I,width:this._textAreaWidth,height:g?0:1,useCover:!1})}_newlinecount(E){let I=0,T=-1;do{if(T=E.indexOf(`
`,T+1),T===-1)break;I++}while(!0);return I}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:g?0:1,useCover:!0})}_doRender(E){this._lastRenderPosition=E.lastRenderPosition;const I=this.textArea,T=this.textAreaCover;(0,m.applyFontInfo)(I,this._fontInfo),I.setTop(E.top),I.setLeft(E.left),I.setWidth(E.width),I.setHeight(E.height),I.setColor(E.color?a.Color.Format.CSS.formatHex(E.color):""),I.setFontStyle(E.italic?"italic":""),E.bold&&I.setFontWeight("bold"),I.setTextDecoration(`${E.underline?" underline":""}${E.strikethrough?" line-through":""}`),T.setTop(E.useCover?E.top:0),T.setLeft(E.useCover?E.left:0),T.setWidth(E.useCover?E.width:0),T.setHeight(E.useCover?E.height:0);const P=this._context.configuration.options;P.get(56)?T.setClassName("monaco-editor-background textAreaCover "+i.Margin.OUTER_CLASS_NAME):P.get(66).renderType!==0?T.setClassName("monaco-editor-background textAreaCover "+o.LineNumbersOverlay.CLASS_NAME):T.setClassName("monaco-editor-background textAreaCover")}};e.TextAreaHandler=p,e.TextAreaHandler=p=Ne([fe(3,c.IKeybindingService)],p);function C(w,E,I){if(w.length===0)return 0;const T=document.createElement("div");T.style.position="absolute",T.style.top="-50000px",T.style.width="50000px";const P=document.createElement("span");(0,m.applyFontInfo)(P,E),P.style.whiteSpace="pre",P.style.tabSize=`${I*E.spaceWidth}px`,P.append(w),T.appendChild(P),document.body.appendChild(T);const A=P.offsetWidth;return document.body.removeChild(T),A}}),define(J[839],ee([1,0,35,37,53,11,30,79,67]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class f{constructor(i,t){const n=i.options;this.lineHeight=n.get(65),this.pixelRatio=n.get(140),this.overviewRulerLanes=n.get(81),this.renderBorder=n.get(80);const r=t.getColor(m.editorOverviewRulerBorder);this.borderColor=r?r.toString():null,this.hideCursor=n.get(58);const l=t.getColor(m.editorCursorForeground);this.cursorColor=l?l.transparent(.7).toString():null,this.themeType=t.type;const h=n.get(71),s=h.enabled,u=h.side,a=t.getColor(m.editorOverviewRulerBackground),d=_.TokenizationRegistry.getDefaultBackground();a?this.backgroundColor=a:s&&u==="right"?this.backgroundColor=d:this.backgroundColor=null;const b=n.get(142).overviewRuler;this.top=b.top,this.right=b.right,this.domWidth=b.width,this.domHeight=b.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[g,p]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=g,this.w=p}_initLanes(i,t,n){const r=t-i;if(n>=3){const l=Math.floor(r/3),h=Math.floor(r/3),s=r-l-h,u=i,a=u+l,d=u+l+s;return[[0,u,a,u,d,u,a,u],[0,l,s,l+s,h,l+s+h,s+h,l+s+h]]}else if(n===2){const l=Math.floor(r/2),h=r-l,s=i,u=s+l;return[[0,s,s,s,u,s,s,s],[0,l,l,l,h,l+h,l+h,l+h]]}else{const l=i,h=r;return[[0,l,l,l,l,l,l,l],[0,h,h,h,h,h,h,h]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&k.Color.equals(this.backgroundColor,i.backgroundColor)&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class v extends L.ViewPart{constructor(i){super(i),this._domNode=(0,y.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=_.TokenizationRegistry.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const t=new f(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}onConfigurationChanged(i){return this._updateSettings(!1)}onCursorStateChanged(i){this._cursorPositions=[];for(let t=0,n=i.selections.length;t<n;t++)this._cursorPositions[t]=i.selections[t].getPosition();return this._cursorPositions.sort(D.Position.compare),!0}onDecorationsChanged(i){return!!i.affectsOverviewRuler}onFlushed(i){return!0}onScrollChanged(i){return i.scrollHeightChanged}onZonesChanged(i){return!0}onThemeChanged(i){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render()}_render(){const i=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(i?k.Color.Format.CSS.formatHexA(i):""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const t=this._settings.canvasWidth,n=this._settings.canvasHeight,r=this._settings.lineHeight,l=this._context.viewLayout,h=this._context.viewLayout.getScrollHeight(),s=n/h,u=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),a=6*this._settings.pixelRatio|0,d=a/2|0,c=this._domNode.domNode.getContext("2d");i?i.isOpaque()?(c.fillStyle=k.Color.Format.CSS.formatHexA(i),c.fillRect(0,0,t,n)):(c.clearRect(0,0,t,n),c.fillStyle=k.Color.Format.CSS.formatHexA(i),c.fillRect(0,0,t,n)):c.clearRect(0,0,t,n);const b=this._settings.x,g=this._settings.w;u.sort(S.OverviewRulerDecorationsGroup.cmp);for(const p of u){const C=p.color,w=p.data;c.fillStyle=C;let E=0,I=0,T=0;for(let P=0,A=w.length/3;P<A;P++){const M=w[3*P],N=w[3*P+1],O=w[3*P+2];let x=l.getVerticalOffsetForLineNumber(N)*s|0,F=(l.getVerticalOffsetForLineNumber(O)+r)*s|0;if(F-x<a){let z=(x+F)/2|0;z<d?z=d:z+d>n&&(z=n-d),x=z-d,F=z+d}x>T+1||M!==E?(P!==0&&c.fillRect(b[E],I,g[E],T-I),E=M,I=x,T=F):F>T&&(T=F)}c.fillRect(b[E],I,g[E],T-I)}if(!this._settings.hideCursor&&this._settings.cursorColor){const p=2*this._settings.pixelRatio|0,C=p/2|0,w=this._settings.x[7],E=this._settings.w[7];c.fillStyle=this._settings.cursorColor;let I=-100,T=-100;for(let P=0,A=this._cursorPositions.length;P<A;P++){const M=this._cursorPositions[P];let N=l.getVerticalOffsetForLineNumber(M.lineNumber)*s|0;N<C?N=C:N+C>n&&(N=n-C);const O=N-C,x=O+p;O>T+1?(P!==0&&c.fillRect(w,I,E,T-I),I=O,T=x):x>T&&(T=x)}c.fillRect(w,I,E,T-I)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(c.beginPath(),c.lineWidth=1,c.strokeStyle=this._settings.borderColor,c.moveTo(0,0),c.lineTo(0,n),c.stroke(),c.moveTo(0,0),c.lineTo(t,0),c.stroke())}}e.DecorationsOverviewRuler=v}),define(J[840],ee([1,0,35,13,53,614,36,79,23,90,425]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class v extends L.ViewPart{constructor(i){super(i);const t=this._context.configuration.options;this._readOnly=t.get(89),this._cursorBlinking=t.get(25),this._cursorStyle=t.get(27),this._cursorSmoothCaretAnimation=t.get(26),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new D.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,y.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new k.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const t=this._context.configuration.options;this._readOnly=t.get(89),this._cursorBlinking=t.get(25),this._cursorStyle=t.get(27),this._cursorSmoothCaretAnimation=t.get(26),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let n=0,r=this._secondaryCursors.length;n<r;n++)this._secondaryCursors[n].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,t,n){const r=this._secondaryCursors.length!==t.length||this._cursorSmoothCaretAnimation==="explicit"&&n!==3;if(this._primaryCursor.onCursorPositionChanged(i,r),this._updateBlinking(),this._secondaryCursors.length<t.length){const l=t.length-this._secondaryCursors.length;for(let h=0;h<l;h++){const s=new D.ViewCursor(this._context);this._domNode.domNode.insertBefore(s.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(s)}}else if(this._secondaryCursors.length>t.length){const l=this._secondaryCursors.length-t.length;for(let h=0;h<l;h++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let l=0;l<t.length;l++)this._secondaryCursors[l].onCursorPositionChanged(t[l],r)}onCursorStateChanged(i){const t=[];for(let r=0,l=i.selections.length;r<l;r++)t[r]=i.selections[r].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),i.reason);const n=i.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const t=n=>{for(let r=0,l=i.ranges.length;r<l;r++)if(i.ranges[r].fromLineNumber<=n.lineNumber&&n.lineNumber<=i.ranges[r].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const n of this._secondaryCursors)if(t(n.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),t=i===0,n=i===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!n&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},v.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},v.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case _.TextEditorCursorStyle.Line:i+=" cursor-line-style";break;case _.TextEditorCursorStyle.Block:i+=" cursor-block-style";break;case _.TextEditorCursorStyle.Underline:i+=" cursor-underline-style";break;case _.TextEditorCursorStyle.LineThin:i+=" cursor-line-thin-style";break;case _.TextEditorCursorStyle.BlockOutline:i+=" cursor-block-outline-style";break;case _.TextEditorCursorStyle.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].prepareRender(i)}render(i){const t=[];let n=0;const r=this._primaryCursor.render(i);r&&(t[n++]=r);for(let l=0,h=this._secondaryCursors.length;l<h;l++){const s=this._secondaryCursors[l].render(i);s&&(t[n++]=s)}this._renderData=t}getLastRenderData(){return this._renderData}}e.ViewCursors=v,v.BLINK_INTERVAL=500,(0,S.registerThemingParticipant)((o,i)=>{const t=o.getColor(m.editorCursorForeground);if(t){let n=o.getColor(m.editorCursorBackground);n||(n=t.opposite()),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${n}; }`),(0,f.isHighContrast)(o.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${n}; border-right: 1px solid ${n}; }`)}})}),define(J[841],ee([1,0,112,9,95,11,79,426]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WhitespaceOverlay=void 0;class m extends y.DynamicViewOverlay{constructor(v){super(),this._context=v,this._options=new S(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(v){const o=new S(this._context.configuration);return this._options.equals(o)?v.hasChanged(142):(this._options=o,!0)}onCursorStateChanged(v){return this._selection=v.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(v){return!0}onFlushed(v){return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return v.scrollTopChanged}onZonesChanged(v){return!0}prepareRender(v){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const o=v.visibleRange.startLineNumber,t=v.visibleRange.endLineNumber-o+1,n=new Array(t);for(let l=0;l<t;l++)n[l]=!0;const r=this._context.viewModel.getMinimapLinesRenderingData(v.viewportData.startLineNumber,v.viewportData.endLineNumber,n);this._renderResult=[];for(let l=v.viewportData.startLineNumber;l<=v.viewportData.endLineNumber;l++){const h=l-v.viewportData.startLineNumber,s=r.data[h];let u=null;if(this._options.renderWhitespace==="selection"){const a=this._selection;for(const d of a){if(d.endLineNumber<l||d.startLineNumber>l)continue;const c=d.startLineNumber===l?d.startColumn:s.minColumn,b=d.endLineNumber===l?d.endColumn:s.maxColumn;c<b&&(u||(u=[]),u.push(new L.LineRange(c-1,b-1)))}}this._renderResult[h]=this._applyRenderWhitespace(v,l,u,s)}}_applyRenderWhitespace(v,o,i,t){if(this._options.renderWhitespace==="selection"&&!i||this._options.renderWhitespace==="trailing"&&t.continuesWithWrappedLine)return"";const n=this._context.theme.getColor(_.editorWhitespaces),r=this._options.renderWithSVG,l=t.content,h=this._options.stopRenderingLineAfter===-1?l.length:Math.min(this._options.stopRenderingLineAfter,l.length),s=t.continuesWithWrappedLine,u=t.minColumn-1,a=this._options.renderWhitespace==="boundary",d=this._options.renderWhitespace==="trailing",c=this._options.lineHeight,b=this._options.middotWidth,g=this._options.wsmiddotWidth,p=this._options.spaceWidth,C=Math.abs(g-p),w=Math.abs(b-p),E=C<w?11825:183,I=this._options.canUseHalfwidthRightwardsArrow;let T="",P=!1,A=k.firstNonWhitespaceIndex(l),M;A===-1?(P=!0,A=h,M=h):M=k.lastNonWhitespaceIndex(l);let N=0,O=i&&i[N],x=0;for(let F=u;F<h;F++){const B=l.charCodeAt(F);if(O&&F>=O.endOffset&&(N++,O=i&&i[N]),B!==9&&B!==32||d&&!P&&F<=M)continue;if(a&&F>=A&&F<=M&&B===32){const j=F-1>=0?l.charCodeAt(F-1):0,R=F+1<h?l.charCodeAt(F+1):0;if(j!==32&&R!==32)continue}if(a&&s&&F===h-1){const j=F-1>=0?l.charCodeAt(F-1):0;if(B===32&&j!==32&&j!==9)continue}if(i&&(!O||O.startOffset>F||O.endOffset<=F))continue;const z=v.visibleRangeForPosition(new D.Position(o,F+1));z&&(r?(x=Math.max(x,z.left),B===9?T+=this._renderArrow(c,p,z.left):T+=`<circle cx="${(z.left+p/2).toFixed(2)}" cy="${(c/2).toFixed(2)}" r="${(p/7).toFixed(2)}" />`):B===9?T+=`<div class="mwh" style="left:${z.left}px;height:${c}px;">${I?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`:T+=`<div class="mwh" style="left:${z.left}px;height:${c}px;">${String.fromCharCode(E)}</div>`)}return r?(x=Math.round(x+p),`<svg style="position:absolute;width:${x}px;height:${c}px" viewBox="0 0 ${x} ${c}" xmlns="http://www.w3.org/2000/svg" fill="${n}">`+T+"</svg>"):T}_renderArrow(v,o,i){const t=o/7,n=o,r=v/2,l=i,h={x:0,y:t/2},s={x:100/125*n,y:h.y},u={x:s.x-.2*s.x,y:s.y+.2*s.x},a={x:u.x+.1*s.x,y:u.y+.1*s.x},d={x:a.x+.35*s.x,y:a.y-.35*s.x},c={x:d.x,y:-d.y},b={x:a.x,y:-a.y},g={x:u.x,y:-u.y},p={x:s.x,y:-s.y},C={x:h.x,y:-h.y};return`<path d="M ${[h,s,u,a,d,c,b,g,p,C].map(I=>`${(l+I.x).toFixed(2)} ${(r+I.y).toFixed(2)}`).join(" L ")}" />`}render(v,o){if(!this._renderResult)return"";const i=o-v;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.WhitespaceOverlay=m;class S{constructor(v){const o=v.options,i=o.get(49),t=o.get(37);t==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):t==="svg"?(this.renderWhitespace=o.get(97),this.renderWithSVG=!0):(this.renderWhitespace=o.get(97),this.renderWithSVG=!1),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=o.get(65),this.stopRenderingLineAfter=o.get(115)}equals(v){return this.renderWhitespace===v.renderWhitespace&&this.renderWithSVG===v.renderWithSVG&&this.spaceWidth===v.spaceWidth&&this.middotWidth===v.middotWidth&&this.wsmiddotWidth===v.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===v.canUseHalfwidthRightwardsArrow&&this.lineHeight===v.lineHeight&&this.stopRenderingLineAfter===v.stopRenderingLineAfter}}}),define(J[842],ee([1,0,7,24,5,35,12,828,838,784,271,586,53,583,836,516,833,837,354,829,517,288,518,812,519,839,528,520,521,834,840,522,11,146,529,525,152,23,352,515,259,841,211,47,8]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E,I,T,P,A,M,N,O,x,F,B,z,j,R,Z,se,le){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;let te=class extends x.ViewEventHandler{constructor(V,H,$,X,Q,de,ce){super(),this._instantiationService=ce,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new k.Selection(1,1,1,1)],this._renderAnimationFrame=null;const ae=new f.ViewController(H,X,Q,V);this._context=new N.ViewContext(H,$,X),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(S.TextAreaHandler,this._context,ae,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,D.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,D.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,D.createFastDomNode)(document.createElement("div")),i.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new l.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new u.ViewLines(this._context,this._linesContent),this._viewZones=new P.ViewZones(this._context),this._viewParts.push(this._viewZones);const ue=new p.DecorationsOverviewRuler(this._context);this._viewParts.push(ue);const q=new E.ScrollDecorationViewPart(this._context);this._viewParts.push(q);const W=new o.ContentViewOverlays(this._context);this._viewParts.push(W),W.addDynamicOverlay(new n.CurrentLineHighlightOverlay(this._context)),W.addDynamicOverlay(new I.SelectionsOverlay(this._context)),W.addDynamicOverlay(new h.IndentGuidesOverlay(this._context)),W.addDynamicOverlay(new r.DecorationsOverlay(this._context)),W.addDynamicOverlay(new R.WhitespaceOverlay(this._context));const K=new o.MarginViewOverlays(this._context);this._viewParts.push(K),K.addDynamicOverlay(new n.CurrentLineMarginHighlightOverlay(this._context)),K.addDynamicOverlay(new c.MarginViewLineDecorationsOverlay(this._context)),K.addDynamicOverlay(new a.LinesDecorationsOverlay(this._context)),K.addDynamicOverlay(new s.LineNumbersOverlay(this._context)),this._glyphMarginWidgets=new Z.GlyphMarginWidgets(this._context),this._viewParts.push(this._glyphMarginWidgets);const ie=new d.Margin(this._context);ie.getDomNode().appendChild(this._viewZones.marginDomNode),ie.getDomNode().appendChild(K.getDomNode()),ie.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(ie),this._contentWidgets=new t.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new T.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new g.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const ne=new w.Rulers(this._context);this._viewParts.push(ne);const oe=new z.BlockDecorations(this._context);this._viewParts.push(oe);const re=new b.Minimap(this._context);if(this._viewParts.push(re),ue){const ge=this._scrollbar.getOverviewRulerLayoutInfo();ge.parent.insertBefore(ue.getDomNode(),ge.insertBefore)}this._linesContent.appendChild(W.getDomNode()),this._linesContent.appendChild(ne.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(ie.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(q.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(re.getDomNode()),this._overflowGuardContainer.appendChild(oe.domNode),this.domNode.appendChild(this._overflowGuardContainer),de?de.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new m.PointerHandler(this._context,ae,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._shouldRecomputeGlyphMarginLanes&&(this._shouldRecomputeGlyphMarginLanes=!1,this._context.configuration.setGlyphMarginDecorationLaneCount(this._computeGlyphMarginLaneCount())),j.inputLatency.onRenderStart(),this._renderNow()}_computeGlyphMarginLaneCount(){const V=this._context.viewModel.model;let H=[];H=H.concat(V.getAllMarginDecorations().map(Q=>{var de,ce;const ae=(ce=(de=Q.options.glyphMargin)===null||de===void 0?void 0:de.position)!==null&&ce!==void 0?ce:se.GlyphMarginLane.Left;return{range:Q.range,lane:ae}})),H=H.concat(this._glyphMarginWidgets.getWidgets().map(Q=>({range:V.validateRange(Q.preference.range),lane:Q.preference.lane}))),H.sort((Q,de)=>L.Range.compareRangesUsingStarts(Q.range,de.range));let $=null,X=null;for(const Q of H)if(Q.lane===se.GlyphMarginLane.Left&&(!$||L.Range.compareRangesUsingEnds($,Q.range)<0)&&($=Q.range),Q.lane===se.GlyphMarginLane.Right&&(!X||L.Range.compareRangesUsingEnds(X,Q.range)<0)&&(X=Q.range),$&&X){if($.endLineNumber<X.startLineNumber){$=null;continue}if(X.endLineNumber<$.startLineNumber){X=null;continue}return 2}return 1}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:V=>{this._textAreaHandler.textArea.domNode.dispatchEvent(V)},getLastRenderData:()=>{const V=this._viewCursors.getLastRenderData()||[],H=this._textAreaHandler.getLastRenderData();return new B.PointerHandlerLastRenderData(V,H)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:V=>this._viewZones.shouldSuppressMouseDownOnViewZone(V),shouldSuppressMouseDownOnWidget:V=>this._contentWidgets.shouldSuppressMouseDownOnWidget(V),getPositionFromDOMInfo:(V,H)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(V,H)),visibleRangeForPosition:(V,H)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new A.Position(V,H))),getLineWidth:V=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(V))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:V=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(V))}}_applyLayout(){const H=this._context.configuration.options.get(142);this.domNode.setWidth(H.width),this.domNode.setHeight(H.height),this._overflowGuardContainer.setWidth(H.width),this._overflowGuardContainer.setHeight(H.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const V=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(139)+" "+(0,F.getThemeTypeSelector)(this._context.theme.type)+V}handleEvents(V){super.handleEvents(V),this._scheduleRender()}onConfigurationChanged(V){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(V){return this._selections=V.selections,!1}onDecorationsChanged(V){return V.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(V){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(V){return this._context.theme.update(V.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const V of this._viewParts)V.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=y.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){Y(()=>this._actualRender())}_getViewPartsToRender(){const V=[];let H=0;for(const $ of this._viewParts)$.shouldRender()&&(V[H++]=$);return V}_actualRender(){if(!y.isInDOM(this.domNode.domNode))return;let V=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&V.length===0)return;const H=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(H.startLineNumber,H.endLineNumber,H.centeredLineNumber);const $=new O.ViewportData(this._selections,H,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender($),this._viewLines.shouldRender()&&(this._viewLines.renderText($),this._viewLines.onDidRender(),V=this._getViewPartsToRender());const X=new M.RenderingContext(this._context.viewLayout,$,this._viewLines);for(const Q of V)Q.prepareRender(X);for(const Q of V)Q.render(X),Q.onDidRender()}delegateVerticalScrollbarPointerDown(V){this._scrollbar.delegateVerticalScrollbarPointerDown(V)}delegateScrollFromMouseWheelEvent(V){this._scrollbar.delegateScrollFromMouseWheelEvent(V)}restoreState(V){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:V.scrollTop,scrollLeft:V.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(V,H){const $=this._context.viewModel.model.validatePosition({lineNumber:V,column:H}),X=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition($);this._flushAccumulatedAndRenderNow();const Q=this._viewLines.visibleRangeForPosition(new A.Position(X.lineNumber,X.column));return Q?Q.left:-1}getTargetAtClientPoint(V,H){const $=this._pointerHandler.getTargetAtClientPoint(V,H);return $?v.ViewUserInputEvents.convertViewToModelMouseTarget($,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(V){return new C.OverviewRuler(this._context,V)}change(V){this._viewZones.changeViewZones(V),this._scheduleRender()}render(V,H){if(H){this._viewLines.forceShouldRender();for(const $ of this._viewParts)$.forceShouldRender()}V?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(V){this._textAreaHandler.writeScreenReaderContent(V)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(V){this._textAreaHandler.setAriaOptions(V)}addContentWidget(V){this._contentWidgets.addWidget(V.widget),this.layoutContentWidget(V),this._scheduleRender()}layoutContentWidget(V){var H,$,X,Q,de,ce,ae,ue;this._contentWidgets.setWidgetPosition(V.widget,($=(H=V.position)===null||H===void 0?void 0:H.position)!==null&&$!==void 0?$:null,(Q=(X=V.position)===null||X===void 0?void 0:X.secondaryPosition)!==null&&Q!==void 0?Q:null,(ce=(de=V.position)===null||de===void 0?void 0:de.preference)!==null&&ce!==void 0?ce:null,(ue=(ae=V.position)===null||ae===void 0?void 0:ae.positionAffinity)!==null&&ue!==void 0?ue:null),this._scheduleRender()}removeContentWidget(V){this._contentWidgets.removeWidget(V.widget),this._scheduleRender()}addOverlayWidget(V){this._overlayWidgets.addWidget(V.widget),this.layoutOverlayWidget(V),this._scheduleRender()}layoutOverlayWidget(V){const H=V.position?V.position.preference:null;this._overlayWidgets.setWidgetPosition(V.widget,H)&&this._scheduleRender()}removeOverlayWidget(V){this._overlayWidgets.removeWidget(V.widget),this._scheduleRender()}addGlyphMarginWidget(V){this._glyphMarginWidgets.addWidget(V.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(V){const H=V.position;this._glyphMarginWidgets.setWidgetPosition(V.widget,H)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(V){this._glyphMarginWidgets.removeWidget(V.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};e.View=te,e.View=te=Ne([fe(6,le.IInstantiationService)],te);function Y(U){try{return U()}catch(V){(0,_.onUnexpectedError)(V)}}}),define(J[843],ee([1,0,6,2,5,79,23]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class m extends k.Disposable{constructor(v){super(),this.textModel=v,this.colorProvider=new S,this.onDidChangeEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=v.getOptions().bracketPairColorizationOptions,this._register(v.bracketPairs.onDidChange(o=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(v){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(v,o,i,t){return t?[]:o===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(v,!0).map(r=>({id:`bracket${r.range.toString()}-${r.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(r,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:r.range})).toArray():[]}getAllDecorations(v,o){return v===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new L.Range(1,1,this.textModel.getLineCount(),1),v,o):[]}}e.ColorizedBracketPairsDecorationProvider=m;class S{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(v,o){return v.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(o?v.nestingLevelOfEqualBracketType:v.nestingLevel)}getInlineClassNameOfLevel(v){return`bracket-highlighting-${v%30}`}}(0,_.registerThemingParticipant)((f,v)=>{const o=[D.editorBracketHighlightingForeground1,D.editorBracketHighlightingForeground2,D.editorBracketHighlightingForeground3,D.editorBracketHighlightingForeground4,D.editorBracketHighlightingForeground5,D.editorBracketHighlightingForeground6],i=new S;v.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${f.getColor(D.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const t=o.map(n=>f.getColor(n)).filter(n=>!!n).filter(n=>!n.isTransparent());for(let n=0;n<30;n++){const r=t[n%t.length];v.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(n)} { color: ${r}; }`)}})}),define(J[844],ee([1,0,97,2,47,23,79,50,5,54,6,32,66]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class t extends k.Disposable{constructor(l){super(),this.model=l,this._markersData=new Map,this._register((0,k.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(l,h){const s=[...this._markersData.keys()];this._markersData.clear();const u=this.model.deltaDecorations(s,h);for(let a=0;a<u.length;a++)this._markersData.set(u[a],l[a]);return s.length!==0||u.length!==0}getMarker(l){return this._markersData.get(l.id)}}let n=class extends k.Disposable{constructor(l,h){super(),this._markerService=h,this._onDidChangeMarker=this._register(new v.Emitter),this._markerDecorations=new i.ResourceMap,l.getModels().forEach(s=>this._onModelAdded(s)),this._register(l.onModelAdded(this._onModelAdded,this)),this._register(l.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(l=>l.dispose()),this._markerDecorations.clear()}getMarker(l,h){const s=this._markerDecorations.get(l);return s&&s.getMarker(h)||null}_handleMarkerChange(l){l.forEach(h=>{const s=this._markerDecorations.get(h);s&&this._updateDecorations(s)})}_onModelAdded(l){const h=new t(l);this._markerDecorations.set(l.uri,h),this._updateDecorations(h)}_onModelRemoved(l){var h;const s=this._markerDecorations.get(l.uri);s&&(s.dispose(),this._markerDecorations.delete(l.uri)),(l.uri.scheme===f.Schemas.inMemory||l.uri.scheme===f.Schemas.internal||l.uri.scheme===f.Schemas.vscode)&&((h=this._markerService)===null||h===void 0||h.read({resource:l.uri}).map(u=>u.owner).forEach(u=>this._markerService.remove(u,[l.uri])))}_updateDecorations(l){const h=this._markerService.read({resource:l.model.uri,take:500}),s=h.map(u=>({range:this._createDecorationRange(l.model,u),options:this._createDecorationOption(u)}));l.update(h,s)&&this._onDidChangeMarker.fire(l.model)}_createDecorationRange(l,h){let s=S.Range.lift(h);if(h.severity===y.MarkerSeverity.Hint&&!this._hasMarkerTag(h,1)&&!this._hasMarkerTag(h,2)&&(s=s.setEndPosition(s.startLineNumber,s.startColumn+2)),s=l.validateRange(s),s.isEmpty()){const u=l.getLineLastNonWhitespaceColumn(s.startLineNumber)||l.getLineMaxColumn(s.startLineNumber);if(u===1||s.endColumn>=u)return s;const a=l.getWordAtPosition(s.getStartPosition());a&&(s=new S.Range(s.startLineNumber,a.startColumn,s.endLineNumber,a.endColumn))}else if(h.endColumn===Number.MAX_VALUE&&h.startColumn===1&&s.startLineNumber===s.endLineNumber){const u=l.getLineFirstNonWhitespaceColumn(h.startLineNumber);u<s.endColumn&&(s=new S.Range(s.startLineNumber,u,s.endLineNumber,s.endColumn),h.startColumn=u)}return s}_createDecorationOption(l){let h,s,u,a,d;switch(l.severity){case y.MarkerSeverity.Hint:this._hasMarkerTag(l,2)?h=void 0:this._hasMarkerTag(l,1)?h="squiggly-unnecessary":h="squiggly-hint",u=0;break;case y.MarkerSeverity.Warning:h="squiggly-warning",s=(0,D.themeColorFromId)(_.overviewRulerWarning),u=20,d={color:(0,D.themeColorFromId)(o.minimapWarning),position:L.MinimapPosition.Inline};break;case y.MarkerSeverity.Info:h="squiggly-info",s=(0,D.themeColorFromId)(_.overviewRulerInfo),u=10;break;case y.MarkerSeverity.Error:default:h="squiggly-error",s=(0,D.themeColorFromId)(_.overviewRulerError),u=30,d={color:(0,D.themeColorFromId)(o.minimapError),position:L.MinimapPosition.Inline};break}return l.tags&&(l.tags.indexOf(1)!==-1&&(a="squiggly-inline-unnecessary"),l.tags.indexOf(2)!==-1&&(a="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:h,showIfCollapsed:!0,overviewRuler:{color:s,position:L.OverviewRulerLane.Right},minimap:d,zIndex:u,inlineClassName:a}}_hasMarkerTag(l,h){return l.tags?l.tags.indexOf(h)>=0:!1}};e.MarkerDecorationsService=n,e.MarkerDecorationsService=n=Ne([fe(0,m.IModelService),fe(1,y.IMarkerService)],n)}),define(J[252],ee([1,0,126,23,70,513,41]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let m=class{constructor(i,t,n,r){this._legend=i,this._themeService=t,this._languageService=n,this._logService=r,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new v}getMetadata(i,t,n){const r=this._languageService.languageIdCodec.encodeLanguageId(n),l=this._hashTable.get(i,t,r);let h;if(l)h=l.metadata,this._logService.getLevel()===L.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${i} / ${t}: foreground ${y.TokenMetadata.getForeground(h)}, fontStyle ${y.TokenMetadata.getFontStyle(h).toString(2)}`);else{let s=this._legend.tokenTypes[i];const u=[];if(s){let a=t;for(let c=0;a>0&&c<this._legend.tokenModifiers.length;c++)a&1&&u.push(this._legend.tokenModifiers[c]),a=a>>1;a>0&&this._logService.getLevel()===L.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),u.push("not-in-legend"));const d=this._themeService.getColorTheme().getTokenStyleMetadata(s,u,n);if(typeof d>"u")h=2147483647;else{if(h=0,typeof d.italic<"u"){const c=(d.italic?1:0)<<11;h|=c|1}if(typeof d.bold<"u"){const c=(d.bold?2:0)<<11;h|=c|2}if(typeof d.underline<"u"){const c=(d.underline?4:0)<<11;h|=c|4}if(typeof d.strikethrough<"u"){const c=(d.strikethrough?8:0)<<11;h|=c|8}if(d.foreground){const c=d.foreground<<15;h|=c|16}h===0&&(h=2147483647)}}else this._logService.getLevel()===L.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${i} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),h=2147483647,s="not-in-legend";this._hashTable.add(i,t,r,h),this._logService.getLevel()===L.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${i} (${s}) / ${t} (${u.join(" ")}): foreground ${y.TokenMetadata.getForeground(h)}, fontStyle ${y.TokenMetadata.getFontStyle(h).toString(2)}`)}return h}warnOverlappingSemanticTokens(i,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${i}, column ${t}`))}warnInvalidLengthSemanticTokens(i,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${i}, column ${t}`))}warnInvalidEditStart(i,t,n,r,l){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${i}, resultId: ${t}) at edit #${n}: The provided start offset ${r} is outside the previous data (length ${l}).`))}};e.SemanticTokensProviderStyling=m,e.SemanticTokensProviderStyling=m=Ne([fe(1,k.IThemeService),fe(2,_.ILanguageService),fe(3,L.ILogService)],m);function S(o,i,t){const n=o.data,r=o.data.length/5|0,l=Math.max(Math.ceil(r/1024),400),h=[];let s=0,u=1,a=0;for(;s<r;){const d=s;let c=Math.min(d+l,r);if(c<r){let I=c;for(;I-1>d&&n[5*I]===0;)I--;if(I-1===d){let T=c;for(;T+1<r&&n[5*T]===0;)T++;c=T}else c=I}let b=new Uint32Array((c-d)*4),g=0,p=0,C=0,w=0;for(;s<c;){const I=5*s,T=n[I],P=n[I+1],A=u+T|0,M=T===0?a+P|0:P,N=n[I+2],O=M+N|0,x=n[I+3],F=n[I+4];if(O<=M)i.warnInvalidLengthSemanticTokens(A,M+1);else if(C===A&&w>M)i.warnOverlappingSemanticTokens(A,M+1);else{const B=i.getMetadata(x,F,t);B!==2147483647&&(p===0&&(p=A),b[g]=A-p,b[g+1]=M,b[g+2]=O,b[g+3]=B,g+=4,C=A,w=O)}u=A,a=M,s++}g!==b.length&&(b=b.subarray(0,g));const E=D.SparseMultilineTokens.create(p,b);h.push(E)}return h}e.toMultilineTokens2=S;class f{constructor(i,t,n,r){this.tokenTypeIndex=i,this.tokenModifierSet=t,this.languageId=n,this.metadata=r,this.next=null}}class v{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=v._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<v._SIZES.length?2/3*this._currentLength:0),this._elements=[],v._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(i,t){for(let n=0;n<t;n++)i[n]=null}_hash2(i,t){return(i<<5)-i+t|0}_hashFunc(i,t,n){return this._hash2(this._hash2(i,t),n)%this._currentLength}get(i,t,n){const r=this._hashFunc(i,t,n);let l=this._elements[r];for(;l;){if(l.tokenTypeIndex===i&&l.tokenModifierSet===t&&l.languageId===n)return l;l=l.next}return null}add(i,t,n,r){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const l=this._elements;this._currentLengthIndex++,this._currentLength=v._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<v._SIZES.length?2/3*this._currentLength:0),this._elements=[],v._nullOutEntries(this._elements,this._currentLength);for(const h of l){let s=h;for(;s;){const u=s.next;s.next=null,this._add(s),s=u}}}this._add(new f(i,t,n,r))}_add(i){const t=this._hashFunc(i.tokenTypeIndex,i.tokenModifierSet,i.languageId);i.next=this._elements[t],this._elements[t]=i}}v._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(J[845],ee([1,0,2,41,23,70,252,236,49]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensStylingService=void 0;let f=class extends y.Disposable{constructor(o,i,t){super(),this._themeService=o,this._logService=i,this._languageService=t,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(o){return this._caches.has(o)||this._caches.set(o,new _.SemanticTokensProviderStyling(o.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(o)}};e.SemanticTokensStylingService=f,e.SemanticTokensStylingService=f=Ne([fe(0,L.IThemeService),fe(1,D.ILogService),fe(2,k.ILanguageService)],f),(0,S.registerSingleton)(m.ISemanticTokensStylingService,f,1)}),define(J[355],ee([1,0,98,2,18,179,47,79,23,48]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class v{constructor(i){this.options=i,this.rangeHighlightDecorationId=void 0}provide(i,t){var n;const r=new k.DisposableStore;i.canAcceptInBackground=!!(!((n=this.options)===null||n===void 0)&&n.canAcceptInBackground),i.matchOnLabel=i.matchOnDescription=i.matchOnDetail=i.sortByLabel=!1;const l=r.add(new k.MutableDisposable);return l.value=this.doProvide(i,t),r.add(this.onDidActiveTextEditorControlChange(()=>{l.value=void 0,l.value=this.doProvide(i,t)})),r}doProvide(i,t){const n=new k.DisposableStore,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){const l={editor:r},h=(0,D.getCodeEditor)(r);if(h){let s=(0,L.withNullAsUndefined)(r.saveViewState());n.add(h.onDidChangeCursorPosition(()=>{s=(0,L.withNullAsUndefined)(r.saveViewState())})),l.restoreViewState=()=>{s&&r===this.activeTextEditorControl&&r.restoreViewState(s)},n.add((0,y.once)(t.onCancellationRequested)(()=>{var u;return(u=l.restoreViewState)===null||u===void 0?void 0:u.call(l)}))}n.add((0,k.toDisposable)(()=>this.clearDecorations(r))),n.add(this.provideWithTextEditor(l,i,t))}else n.add(this.provideWithoutTextEditor(i,t));return n}canProvideWithTextEditor(i){return!0}gotoLocation({editor:i},t){i.setSelection(t.range),i.revealRangeInCenter(t.range,0),t.preserveFocus||i.focus();const n=i.getModel();n&&"getLineContent"in n&&(0,f.status)(`${n.getLineContent(t.range.startLineNumber)}`)}getModel(i){var t;return(0,D.isDiffEditor)(i)?(t=i.getModel())===null||t===void 0?void 0:t.modified:i.getModel()}addDecorations(i,t){i.changeDecorations(n=>{const r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const l=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,S.themeColorFromId)(m.overviewRulerRangeHighlight),position:_.OverviewRulerLane.Full}}}],[h,s]=n.deltaDecorations(r,l);this.rangeHighlightDecorationId={rangeHighlightId:h,overviewRulerDecorationId:s}})}clearDecorations(i){const t=this.rangeHighlightDecorationId;t&&(i.changeDecorations(n=>{n.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=v}),define(J[846],ee([1,0,2,179,355,683]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class _ extends L.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(S){const f=(0,D.localize)(0,null);return S.items=[{label:f}],S.ariaLabel=f,y.Disposable.None}provideWithTextEditor(S,f,v){const o=S.editor,i=new y.DisposableStore;i.add(f.onDidAccept(r=>{const[l]=f.selectedItems;if(l){if(!this.isValidLineNumber(o,l.lineNumber))return;this.gotoLocation(S,{range:this.toRange(l.lineNumber,l.column),keyMods:f.keyMods,preserveFocus:r.inBackground}),r.inBackground||f.hide()}}));const t=()=>{const r=this.parsePosition(o,f.value.trim().substr(_.PREFIX.length)),l=this.getPickLabel(o,r.lineNumber,r.column);if(f.items=[{lineNumber:r.lineNumber,column:r.column,label:l}],f.ariaLabel=l,!this.isValidLineNumber(o,r.lineNumber)){this.clearDecorations(o);return}const h=this.toRange(r.lineNumber,r.column);o.revealRangeInCenter(h,0),this.addDecorations(o,h)};t(),i.add(f.onDidChangeValue(()=>t()));const n=(0,k.getCodeEditor)(o);return n&&n.getOptions().get(66).renderType===2&&(n.updateOptions({lineNumbers:"on"}),i.add((0,y.toDisposable)(()=>n.updateOptions({lineNumbers:"relative"})))),i}toRange(S=1,f=1){return{startLineNumber:S,startColumn:f,endLineNumber:S,endColumn:f}}parsePosition(S,f){const v=f.split(/,|:|#/).map(i=>parseInt(i,10)).filter(i=>!isNaN(i)),o=this.lineCount(S)+1;return{lineNumber:v[0]>0?v[0]:o+v[0],column:v[1]}}getPickLabel(S,f,v){if(this.isValidLineNumber(S,f))return this.isValidColumn(S,f,v)?(0,D.localize)(1,null,f,v):(0,D.localize)(2,null,f);const o=S.getPosition()||{lineNumber:1,column:1},i=this.lineCount(S);return i>1?(0,D.localize)(3,null,o.lineNumber,o.column,i):(0,D.localize)(4,null,o.lineNumber,o.column)}isValidLineNumber(S,f){return!f||typeof f!="number"?!1:f>0&&f<=this.lineCount(S)}isValidColumn(S,f,v){if(!v||typeof v!="number")return!1;const o=this.getModel(S);if(!o)return!1;const i={lineNumber:f,column:v};return o.validatePosition(i).equals(i)}lineCount(S){var f,v;return(v=(f=this.getModel(S))===null||f===void 0?void 0:f.getLineCount())!==null&&v!==void 0?v:0}}e.AbstractGotoLineQuickAccessProvider=_,_.PREFIX=":"}),define(J[847],ee([1,0,13,21,26,27,564,2,9,5,30,190,355,684,19,15]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let l=class gi extends i.AbstractEditorNavigationQuickAccessProvider{constructor(a,d,c=Object.create(null)){super(c),this._languageFeaturesService=a,this._outlineModelService=d,this.options=c,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(a){return this.provideLabelPick(a,(0,t.localize)(0,null)),m.Disposable.None}provideWithTextEditor(a,d,c){const b=a.editor,g=this.getModel(b);return g?this._languageFeaturesService.documentSymbolProvider.has(g)?this.doProvideWithEditorSymbols(a,g,d,c):this.doProvideWithoutEditorSymbols(a,g,d,c):m.Disposable.None}doProvideWithoutEditorSymbols(a,d,c,b){const g=new m.DisposableStore;return this.provideLabelPick(c,(0,t.localize)(1,null)),Le(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(d,g))||b.isCancellationRequested||g.add(this.doProvideWithEditorSymbols(a,d,c,b))}),g}provideLabelPick(a,d){a.items=[{label:d,index:0,kind:14}],a.ariaLabel=d}waitForLanguageSymbolRegistry(a,d){return Le(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(a))return!0;const c=new y.DeferredPromise,b=d.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(a)&&(b.dispose(),c.complete(!0))}));return d.add((0,m.toDisposable)(()=>c.complete(!1))),c.p})}doProvideWithEditorSymbols(a,d,c,b){var g;const p=a.editor,C=new m.DisposableStore;C.add(c.onDidAccept(T=>{const[P]=c.selectedItems;P&&P.range&&(this.gotoLocation(a,{range:P.range.selection,keyMods:c.keyMods,preserveFocus:T.inBackground}),T.inBackground||c.hide())})),C.add(c.onDidTriggerItemButton(({item:T})=>{T&&T.range&&(this.gotoLocation(a,{range:T.range.selection,keyMods:c.keyMods,forceSideBySide:!0}),c.hide())}));const w=this.getDocumentSymbols(d,b);let E;const I=T=>Le(this,void 0,void 0,function*(){E?.dispose(!0),c.busy=!1,E=new k.CancellationTokenSource(b),c.busy=!0;try{const P=(0,_.prepareQuery)(c.value.substr(gi.PREFIX.length).trim()),A=yield this.doGetSymbolPicks(w,P,void 0,E.token);if(b.isCancellationRequested)return;if(A.length>0){if(c.items=A,T&&P.original.length===0){const M=(0,r.findLast)(A,N=>!!(N.type!=="separator"&&N.range&&f.Range.containsPosition(N.range.decoration,T)));M&&(c.activeItems=[M])}}else P.original.length>0?this.provideLabelPick(c,(0,t.localize)(2,null)):this.provideLabelPick(c,(0,t.localize)(3,null))}finally{b.isCancellationRequested||(c.busy=!1)}});return C.add(c.onDidChangeValue(()=>I(void 0))),I((g=p.getSelection())===null||g===void 0?void 0:g.getPosition()),C.add(c.onDidChangeActive(()=>{const[T]=c.activeItems;T&&T.range&&(p.revealRangeInCenter(T.range.selection,0),this.addDecorations(p,T.range.decoration))})),C}doGetSymbolPicks(a,d,c,b){var g,p;return Le(this,void 0,void 0,function*(){const C=yield a;if(b.isCancellationRequested)return[];const w=d.original.indexOf(gi.SCOPE_PREFIX)===0,E=w?1:0;let I,T;d.values&&d.values.length>1?(I=(0,_.pieceToQuery)(d.values[0]),T=(0,_.pieceToQuery)(d.values.slice(1))):I=d;let P;const A=(p=(g=this.options)===null||g===void 0?void 0:g.openSideBySideDirection)===null||p===void 0?void 0:p.call(g);A&&(P=[{iconClass:A==="right"?D.ThemeIcon.asClassName(L.Codicon.splitHorizontal):D.ThemeIcon.asClassName(L.Codicon.splitVertical),tooltip:A==="right"?(0,t.localize)(4,null):(0,t.localize)(5,null)}]);const M=[];for(let x=0;x<C.length;x++){const F=C[x],B=(0,S.trim)(F.name),z=`$(${v.SymbolKinds.toIcon(F.kind).id}) ${B}`,j=z.length-B.length;let R=F.containerName;c?.extraContainerLabel&&(R?R=`${c.extraContainerLabel} \u2022 ${R}`:R=c.extraContainerLabel);let Z,se,le,te;if(d.original.length>E){let U=!1;if(I!==d&&([Z,se]=(0,_.scoreFuzzy2)(z,Object.assign(Object.assign({},d),{values:void 0}),E,j),typeof Z=="number"&&(U=!0)),typeof Z!="number"&&([Z,se]=(0,_.scoreFuzzy2)(z,I,E,j),typeof Z!="number"))continue;if(!U&&T){if(R&&T.original.length>0&&([le,te]=(0,_.scoreFuzzy2)(R,T)),typeof le!="number")continue;typeof Z=="number"&&(Z+=le)}}const Y=F.tags&&F.tags.indexOf(1)>=0;M.push({index:x,kind:F.kind,score:Z,label:z,ariaLabel:(0,v.getAriaLabelForSymbol)(F.name,F.kind),description:R,highlights:Y?void 0:{label:se,description:te},range:{selection:f.Range.collapseToStart(F.selectionRange),decoration:F.range},strikethrough:Y,buttons:P})}const N=M.sort((x,F)=>w?this.compareByKindAndScore(x,F):this.compareByScore(x,F));let O=[];if(w){let z=function(){F&&typeof x=="number"&&B>0&&(F.label=(0,S.format)(s[x]||h,B))},x,F,B=0;for(const j of N)x!==j.kind?(z(),x=j.kind,B=1,F={type:"separator"},O.push(F)):B++,O.push(j);z()}else N.length>0&&(O=[{label:(0,t.localize)(6,null,M.length),type:"separator"},...N]);return O})}compareByScore(a,d){if(typeof a.score!="number"&&typeof d.score=="number")return 1;if(typeof a.score=="number"&&typeof d.score!="number")return-1;if(typeof a.score=="number"&&typeof d.score=="number"){if(a.score>d.score)return-1;if(a.score<d.score)return 1}return a.index<d.index?-1:a.index>d.index?1:0}compareByKindAndScore(a,d){const c=s[a.kind]||h,b=s[d.kind]||h,g=c.localeCompare(b);return g===0?this.compareByScore(a,d):g}getDocumentSymbols(a,d){return Le(this,void 0,void 0,function*(){const c=yield this._outlineModelService.getOrCreate(a,d);return d.isCancellationRequested?[]:c.asListOfDocumentSymbols()})}};e.AbstractGotoSymbolQuickAccessProvider=l,l.PREFIX="@",l.SCOPE_PREFIX=":",l.PREFIX_BY_CATEGORY=`${l.PREFIX}${l.SCOPE_PREFIX}`,e.AbstractGotoSymbolQuickAccessProvider=l=Ne([fe(0,n.ILanguageFeaturesService),fe(1,o.IOutlineModelService)],l);const h=(0,t.localize)(7,null),s={[5]:(0,t.localize)(8,null),[11]:(0,t.localize)(9,null),[8]:(0,t.localize)(10,null),[12]:(0,t.localize)(11,null),[4]:(0,t.localize)(12,null),[22]:(0,t.localize)(13,null),[23]:(0,t.localize)(14,null),[24]:(0,t.localize)(15,null),[10]:(0,t.localize)(16,null),[2]:(0,t.localize)(17,null),[3]:(0,t.localize)(18,null),[25]:(0,t.localize)(19,null),[1]:(0,t.localize)(20,null),[6]:(0,t.localize)(21,null),[9]:(0,t.localize)(22,null),[21]:(0,t.localize)(23,null),[14]:(0,t.localize)(24,null),[0]:(0,t.localize)(25,null),[17]:(0,t.localize)(26,null),[15]:(0,t.localize)(27,null),[16]:(0,t.localize)(28,null),[18]:(0,t.localize)(29,null),[19]:(0,t.localize)(30,null),[7]:(0,t.localize)(31,null),[13]:(0,t.localize)(32,null)}}),define(J[848],ee([1,0,2,11,687,14,34,32,23,454]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new D.RawContextKey("renameInputVisible",!1,(0,L.localize)(0,null));let f=class{constructor(o,i,t,n,r){this._editor=o,this._acceptKeybindings=i,this._themeService=t,this._keybindingService=n,this._disposables=new y.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(r),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(49)&&this._updateFont()})),this._disposables.add(t.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,L.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(o){var i,t,n,r;if(!this._input||!this._domNode)return;const l=o.getColor(m.widgetShadow),h=o.getColor(m.widgetBorder);this._domNode.style.backgroundColor=String((i=o.getColor(m.editorWidgetBackground))!==null&&i!==void 0?i:""),this._domNode.style.boxShadow=l?` 0 0 8px 2px ${l}`:"",this._domNode.style.border=h?`1px solid ${h}`:"",this._domNode.style.color=String((t=o.getColor(m.inputForeground))!==null&&t!==void 0?t:""),this._input.style.backgroundColor=String((n=o.getColor(m.inputBackground))!==null&&n!==void 0?n:"");const s=o.getColor(m.inputBorder);this._input.style.borderWidth=s?"1px":"0px",this._input.style.borderStyle=s?"solid":"none",this._input.style.borderColor=(r=s?.toString())!==null&&r!==void 0?r:"none"}_updateFont(){if(!this._input||!this._label)return;const o=this._editor.getOption(49);this._input.style.fontFamily=o.fontFamily,this._input.style.fontWeight=o.fontWeight,this._input.style.fontSize=`${o.fontSize}px`,this._label.style.fontSize=`${o.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var o,i;const[t,n]=this._acceptKeybindings;return this._label.innerText=(0,L.localize)(2,null,(o=this._keybindingService.lookupKeybinding(t))===null||o===void 0?void 0:o.getLabel(),(i=this._keybindingService.lookupKeybinding(n))===null||i===void 0?void 0:i.getLabel()),null}afterRender(o){o||this.cancelInput(!0)}acceptInput(o){var i;(i=this._currentAcceptInput)===null||i===void 0||i.call(this,o)}cancelInput(o){var i;(i=this._currentCancelInput)===null||i===void 0||i.call(this,o)}getInput(o,i,t,n,r,l){this._domNode.classList.toggle("preview",r),this._position=new k.Position(o.startLineNumber,o.startColumn),this._input.value=i,this._input.setAttribute("selectionStart",t.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max((o.endColumn-o.startColumn)*1.1,20);const h=new y.DisposableStore;return new Promise(s=>{this._currentCancelInput=u=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,s(u),!0),this._currentAcceptInput=u=>{if(this._input.value.trim().length===0||this._input.value===i){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,s({newName:this._input.value,wantsPreview:r&&u})},h.add(l.onCancellationRequested(()=>this.cancelInput(!0))),h.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!document.hasFocus()))),this._show()}).finally(()=>{h.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};e.RenameInputField=f,e.RenameInputField=f=Ne([fe(2,S.IThemeService),fe(3,_.IKeybindingService),fe(4,D.IContextKeyService)],f)}),define(J[849],ee([1,0,48,13,21,12,2,18,22,103,16,133,33,11,5,20,189,192,686,102,14,8,70,44,84,38,848,19]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class E{constructor(N,O,x){this.model=N,this.position=O,this._providerRenameIdx=0,this._providers=x.ordered(N)}hasProvider(){return this._providers.length>0}resolveRenameLocation(N){return Le(this,void 0,void 0,function*(){const O=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const F=this._providers[this._providerRenameIdx];if(!F.resolveRenameLocation)break;const B=yield F.resolveRenameLocation(this.model,this.position,N);if(B){if(B.rejectReason){O.push(B.rejectReason);continue}return B}}const x=this.model.getWordAtPosition(this.position);return x?{range:new n.Range(this.position.lineNumber,x.startColumn,this.position.lineNumber,x.endColumn),text:x.word,rejectReason:O.length>0?O.join(`
`):void 0}:{range:n.Range.fromPositions(this.position),text:"",rejectReason:O.length>0?O.join(`
`):void 0}})}provideRenameEdits(N,O){return Le(this,void 0,void 0,function*(){return this._provideRenameEdits(N,this._providerRenameIdx,[],O)})}_provideRenameEdits(N,O,x,F){return Le(this,void 0,void 0,function*(){const B=this._providers[O];if(!B)return{edits:[],rejectReason:x.join(`
`)};const z=yield B.provideRenameEdits(this.model,this.position,N,F);if(z){if(z.rejectReason)return this._provideRenameEdits(N,O+1,x.concat(z.rejectReason),F)}else return this._provideRenameEdits(N,O+1,x.concat(s.localize(0,null)),F);return z})}}function I(M,N,O,x){return Le(this,void 0,void 0,function*(){const F=new E(N,O,M),B=yield F.resolveRenameLocation(L.CancellationToken.None);return B?.rejectReason?{edits:[],rejectReason:B.rejectReason}:F.provideRenameEdits(x,L.CancellationToken.None)})}e.rename=I;let T=class Gi{static get(N){return N.getContribution(Gi.ID)}constructor(N,O,x,F,B,z,j,R){this.editor=N,this._instaService=O,this._notificationService=x,this._bulkEditService=F,this._progressService=B,this._logService=z,this._configService=j,this._languageFeaturesService=R,this._disposableStore=new _.DisposableStore,this._cts=new L.CancellationTokenSource,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(C.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var N,O;return Le(this,void 0,void 0,function*(){if(this._cts.dispose(!0),this._cts=new L.CancellationTokenSource,!this.editor.hasModel())return;const x=this.editor.getPosition(),F=new E(this.editor.getModel(),x,this._languageFeaturesService.renameProvider);if(!F.hasProvider())return;const B=new f.EditorStateCancellationTokenSource(this.editor,5,void 0,this._cts.token);let z;try{const U=F.resolveRenameLocation(B.token);this._progressService.showWhile(U,250),z=yield U}catch(U){(N=h.MessageController.get(this.editor))===null||N===void 0||N.showMessage(U||s.localize(1,null),x);return}finally{B.dispose()}if(!z)return;if(z.rejectReason){(O=h.MessageController.get(this.editor))===null||O===void 0||O.showMessage(z.rejectReason,x);return}if(B.token.isCancellationRequested)return;const j=new f.EditorStateCancellationTokenSource(this.editor,5,z.range,this._cts.token),R=this.editor.getSelection();let Z=0,se=z.text.length;!n.Range.isEmpty(R)&&!n.Range.spansMultipleLines(R)&&n.Range.containsRange(z.range,R)&&(Z=Math.max(0,R.startColumn-z.range.startColumn),se=Math.min(z.range.endColumn,R.endColumn)-z.range.startColumn);const le=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),te=yield this._renameInputField.getInput(z.range,z.text,Z,se,le,j.token);if(typeof te=="boolean"){te&&this.editor.focus(),j.dispose();return}this.editor.focus();const Y=(0,k.raceCancellation)(F.provideRenameEdits(te.newName,j.token),j.token).then(U=>Le(this,void 0,void 0,function*(){if(!(!U||!this.editor.hasModel())){if(U.rejectReason){this._notificationService.info(U.rejectReason);return}this.editor.setSelection(n.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(U,{editor:this.editor,showPreview:te.wantsPreview,label:s.localize(2,null,z?.text,te.newName),code:"undoredo.rename",quotableLabel:s.localize(3,null,z?.text,te.newName),respectAutoSaveConfig:!0}).then(V=>{V.ariaSummary&&(0,y.alert)(s.localize(4,null,z.text,te.newName,V.ariaSummary))}).catch(V=>{this._notificationService.error(s.localize(5,null)),this._logService.error(V)})}}),U=>{this._notificationService.error(s.localize(6,null)),this._logService.error(U)}).finally(()=>{j.dispose()});return this._progressService.showWhile(Y,250),Y})}acceptRenameInput(N){this._renameInputField.acceptInput(N)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};T.ID="editor.contrib.renameController",T=Ne([fe(1,d.IInstantiationService),fe(2,b.INotificationService),fe(3,o.IBulkEditService),fe(4,g.IEditorProgressService),fe(5,c.ILogService),fe(6,l.ITextResourceConfigurationService),fe(7,w.ILanguageFeaturesService)],T);class P extends v.EditorAction{constructor(){super({id:"editor.action.rename",label:s.localize(7,null),alias:"Rename Symbol",precondition:a.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(N,O){const x=N.get(i.ICodeEditorService),[F,B]=Array.isArray(O)&&O||[void 0,void 0];return S.URI.isUri(F)&&t.Position.isIPosition(B)?x.openCodeEditor({resource:F},x.getActiveCodeEditor()).then(z=>{z&&(z.setPosition(B),z.invokeWithinContext(j=>(this.reportTelemetry(j,z),this.run(j,z))))},D.onUnexpectedError):super.runCommand(N,O)}run(N,O){const x=T.get(O);return x?x.run():Promise.resolve()}}e.RenameAction=P,(0,v.registerEditorContribution)(T.ID,T,4),(0,v.registerEditorAction)(P);const A=v.EditorCommand.bindToContribution(T.get);(0,v.registerEditorCommand)(new A({id:"acceptRenameInput",precondition:C.CONTEXT_RENAME_INPUT_VISIBLE,handler:M=>M.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:a.ContextKeyExpr.and(r.EditorContextKeys.focus,a.ContextKeyExpr.not("isComposing")),primary:3}})),(0,v.registerEditorCommand)(new A({id:"acceptRenameInputWithPreview",precondition:a.ContextKeyExpr.and(C.CONTEXT_RENAME_INPUT_VISIBLE,a.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:M=>M.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:a.ContextKeyExpr.and(r.EditorContextKeys.focus,a.ContextKeyExpr.not("isComposing")),primary:1024+3}})),(0,v.registerEditorCommand)(new A({id:"cancelRenameInput",precondition:C.CONTEXT_RENAME_INPUT_VISIBLE,handler:M=>M.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:r.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,v.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(M,N,O,...x){const[F]=x;(0,m.assertType)(typeof F=="string");const{renameProvider:B}=M.get(w.ILanguageFeaturesService);return I(B,N,O,F)}),(0,v.registerModelAndPositionCommand)("_executePrepareRename",function(M,N,O){return Le(this,void 0,void 0,function*(){const{renameProvider:x}=M.get(w.ILanguageFeaturesService),B=yield new E(N,O,x).resolveRenameLocation(L.CancellationToken.None);if(B?.rejectReason)throw new Error(B.rejectReason);return B})}),p.Registry.as(u.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:s.localize(8,null),default:!0,type:"boolean"}}})}),define(J[850],ee([1,0,2,12,50,28,13,21,23,252,328,75,59,19,236,151,295]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensFeature=void 0;let h=class extends y.Disposable{constructor(d,c,b,g,p,C){super(),this._watchers=Object.create(null);const w=T=>{this._watchers[T.uri.toString()]=new s(T,d,b,p,C)},E=(T,P)=>{P.dispose(),delete this._watchers[T.uri.toString()]},I=()=>{for(const T of c.getModels()){const P=this._watchers[T.uri.toString()];(0,l.isSemanticColoringEnabled)(T,b,g)?P||w(T):P&&E(T,P)}};this._register(c.onModelAdded(T=>{(0,l.isSemanticColoringEnabled)(T,b,g)&&w(T)})),this._register(c.onModelRemoved(T=>{const P=this._watchers[T.uri.toString()];P&&E(T,P)})),this._register(g.onDidChangeConfiguration(T=>{T.affectsConfiguration(l.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&I()})),this._register(b.onDidColorThemeChange(I))}dispose(){for(const d of Object.values(this._watchers))d.dispose();super.dispose()}};e.DocumentSemanticTokensFeature=h,e.DocumentSemanticTokensFeature=h=Ne([fe(0,n.ISemanticTokensStylingService),fe(1,L.IModelService),fe(2,S.IThemeService),fe(3,D.IConfigurationService),fe(4,o.ILanguageFeatureDebounceService),fe(5,t.ILanguageFeaturesService)],h);let s=class Ot extends y.Disposable{constructor(d,c,b,g,p){super(),this._semanticTokensStylingService=c,this._isDisposed=!1,this._model=d,this._provider=p.documentSemanticTokensProvider,this._debounceInformation=g.for(this._provider,"DocumentSemanticTokens",{min:Ot.REQUEST_MIN_DELAY,max:Ot.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new _.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),Ot.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const C=()=>{(0,y.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const w of this._provider.all(d))typeof w.onDidChange=="function"&&this._documentProvidersChangeListeners.push(w.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};C(),this._register(this._provider.onDidChange(()=>{C(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(b.onDidColorThemeChange(w=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,y.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,v.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const d=new m.CancellationTokenSource,c=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,b=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,g=(0,v.getDocumentSemanticTokens)(this._provider,this._model,c,b,d.token);this._currentDocumentRequestCancellationTokenSource=d,this._providersChangedDuringRequest=!1;const p=[],C=this._model.onDidChangeContent(E=>{p.push(E)}),w=new i.StopWatch(!1);g.then(E=>{if(this._debounceInformation.update(this._model,w.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,C.dispose(),!E)this._setDocumentSemanticTokens(null,null,null,p);else{const{provider:I,tokens:T}=E,P=this._semanticTokensStylingService.getStyling(I);this._setDocumentSemanticTokens(I,T||null,P,p)}},E=>{E&&(k.isCancellationError(E)||typeof E.message=="string"&&E.message.indexOf("busy")!==-1)||k.onUnexpectedError(E),this._currentDocumentRequestCancellationTokenSource=null,C.dispose(),(p.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(d,c,b,g,p){p=Math.min(p,b.length-g,d.length-c);for(let C=0;C<p;C++)b[g+C]=d[c+C]}_setDocumentSemanticTokens(d,c,b,g){const p=this._currentDocumentResponse,C=()=>{(g.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){d&&c&&d.releaseDocumentSemanticTokens(c.resultId);return}if(!d||!b){this._model.tokenization.setSemanticTokens(null,!1);return}if(!c){this._model.tokenization.setSemanticTokens(null,!0),C();return}if((0,v.isSemanticTokensEdits)(c)){if(!p){this._model.tokenization.setSemanticTokens(null,!0);return}if(c.edits.length===0)c={resultId:c.resultId,data:p.data};else{let w=0;for(const A of c.edits)w+=(A.data?A.data.length:0)-A.deleteCount;const E=p.data,I=new Uint32Array(E.length+w);let T=E.length,P=I.length;for(let A=c.edits.length-1;A>=0;A--){const M=c.edits[A];if(M.start>E.length){b.warnInvalidEditStart(p.resultId,c.resultId,A,M.start,E.length),this._model.tokenization.setSemanticTokens(null,!0);return}const N=T-(M.start+M.deleteCount);N>0&&(Ot._copy(E,T-N,I,P-N,N),P-=N),M.data&&(Ot._copy(M.data,0,I,P-M.data.length,M.data.length),P-=M.data.length),T=M.start}T>0&&Ot._copy(E,0,I,0,T),c={resultId:c.resultId,data:I}}}if((0,v.isSemanticTokens)(c)){this._currentDocumentResponse=new u(d,c.resultId,c.data);const w=(0,f.toMultilineTokens2)(c,b,this._model.getLanguageId());if(g.length>0)for(const E of g)for(const I of w)for(const T of E.changes)I.applyEdit(T.range,T.text);this._model.tokenization.setSemanticTokens(w,!0)}else this._model.tokenization.setSemanticTokens(null,!0);C()}};s.REQUEST_MIN_DELAY=300,s.REQUEST_MAX_DELAY=2e3,s=Ne([fe(1,n.ISemanticTokensStylingService),fe(2,S.IThemeService),fe(3,o.ILanguageFeatureDebounceService),fe(4,t.ILanguageFeaturesService)],s);class u{constructor(d,c,b){this.provider=d,this.resultId=c,this.data=b}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,r.registerEditorFeature)(h)}),define(J[851],ee([1,0,13,2,16,328,295,252,28,23,75,59,19,236]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportSemanticTokensContribution=void 0;let n=class extends k.Disposable{constructor(l,h,s,u,a,d){super(),this._semanticTokensStylingService=h,this._themeService=s,this._configurationService=u,this._editor=l,this._provider=d.documentRangeSemanticTokensProvider,this._debounceInformation=a.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new y.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const c=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{c()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),c()})),this._register(this._editor.onDidChangeModelContent(b=>{this._cancelAll(),c()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),c()})),this._register(this._configurationService.onDidChangeConfiguration(b=>{b.affectsConfiguration(_.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),c())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),c()})),c()}_cancelAll(){for(const l of this._outstandingRequests)l.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(l){for(let h=0,s=this._outstandingRequests.length;h<s;h++)if(this._outstandingRequests[h]===l){this._outstandingRequests.splice(h,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const l=this._editor.getModel();if(l.tokenization.hasCompleteSemanticTokens())return;if(!(0,_.isSemanticColoringEnabled)(l,this._themeService,this._configurationService)){l.tokenization.hasSomeSemanticTokens()&&l.tokenization.setSemanticTokens(null,!1);return}if(!(0,D.hasDocumentRangeSemanticTokensProvider)(this._provider,l)){l.tokenization.hasSomeSemanticTokens()&&l.tokenization.setSemanticTokens(null,!1);return}const h=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(h.map(s=>this._requestRange(l,s)))}_requestRange(l,h){const s=l.getVersionId(),u=(0,y.createCancelablePromise)(d=>Promise.resolve((0,D.getDocumentRangeSemanticTokens)(this._provider,l,h,d))),a=new o.StopWatch(!1);return u.then(d=>{if(this._debounceInformation.update(l,a.elapsed()),!d||!d.tokens||l.isDisposed()||l.getVersionId()!==s)return;const{provider:c,tokens:b}=d,g=this._semanticTokensStylingService.getStyling(c);l.tokenization.setPartialSemanticTokens(h,(0,m.toMultilineTokens2)(b,g,l.getLanguageId()))}).then(()=>this._removeOutstandingRequest(u),()=>this._removeOutstandingRequest(u)),u}};e.ViewportSemanticTokensContribution=n,n.ID="editor.contrib.viewportSemanticTokens",e.ViewportSemanticTokensContribution=n=Ne([fe(1,t.ISemanticTokensStylingService),fe(2,f.IThemeService),fe(3,S.IConfigurationService),fe(4,v.ILanguageFeatureDebounceService),fe(5,i.ILanguageFeaturesService)],n),(0,L.registerEditorContribution)(n.ID,n,1)}),define(J[852],ee([1,0,7,228,26,27,6,71,2,22,30,766,50,41,696,326,63,23,340]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.getAriaId=void 0;function a(p){return`suggest-aria-id:${p}`}e.getAriaId=a;const d=(0,l.registerIcon)("suggest-more-info",L.Codicon.chevronRight,n.localize(0,null)),c=new(u=class ei{extract(C,w){if(C.textLabel.match(ei._regexStrict))return w[0]=C.textLabel,!0;if(C.completion.detail&&C.completion.detail.match(ei._regexStrict))return w[0]=C.completion.detail,!0;if(typeof C.completion.documentation=="string"){const E=ei._regexRelaxed.exec(C.completion.documentation);if(E&&(E.index===0||E.index+E[0].length===C.completion.documentation.length))return w[0]=E[0],!0}return!1}},u._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,u._regexStrict=new RegExp(`^${u._regexRelaxed.source}$`,"i"),u);let b=class{constructor(C,w,E,I){this._editor=C,this._modelService=w,this._languageService=E,this._themeService=I,this._onDidToggleDetails=new _.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(C){const w=new S.DisposableStore,E=C;E.classList.add("show-file-icons");const I=(0,y.append)(C,(0,y.$)(".icon")),T=(0,y.append)(I,(0,y.$)("span.colorspan")),P=(0,y.append)(C,(0,y.$)(".contents")),A=(0,y.append)(P,(0,y.$)(".main")),M=(0,y.append)(A,(0,y.$)(".icon-label.codicon")),N=(0,y.append)(A,(0,y.$)("span.left")),O=(0,y.append)(A,(0,y.$)("span.right")),x=new k.IconLabel(N,{supportHighlights:!0,supportIcons:!0});w.add(x);const F=(0,y.append)(N,(0,y.$)("span.signature-label")),B=(0,y.append)(N,(0,y.$)("span.qualifier-label")),z=(0,y.append)(O,(0,y.$)("span.details-label")),j=(0,y.append)(O,(0,y.$)("span.readMore"+D.ThemeIcon.asCSSSelector(d)));j.title=n.localize(1,null);const R=()=>{const Z=this._editor.getOptions(),se=Z.get(49),le=se.getMassagedFontFamily(),te=se.fontFeatureSettings,Y=Z.get(117)||se.fontSize,U=Z.get(118)||se.lineHeight,V=se.fontWeight,H=se.letterSpacing,$=`${Y}px`,X=`${U}px`,Q=`${H}px`;E.style.fontSize=$,E.style.fontWeight=V,E.style.letterSpacing=Q,A.style.fontFamily=le,A.style.fontFeatureSettings=te,A.style.lineHeight=X,I.style.height=X,I.style.width=X,j.style.height=X,j.style.width=X};return R(),w.add(this._editor.onDidChangeConfiguration(Z=>{(Z.hasChanged(49)||Z.hasChanged(117)||Z.hasChanged(118))&&R()})),{root:E,left:N,right:O,icon:I,colorspan:T,iconLabel:x,iconContainer:M,parametersLabel:F,qualifierLabel:B,detailsLabel:z,readMore:j,disposables:w}}renderElement(C,w,E){const{completion:I}=C;E.root.id=a(w),E.colorspan.style.backgroundColor="";const T={labelEscapeNewLines:!0,matches:(0,m.createMatches)(C.score)},P=[];if(I.kind===19&&c.extract(C,P))E.icon.className="icon customcolor",E.iconContainer.className="icon hide",E.colorspan.style.backgroundColor=P[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){E.icon.className="icon hide",E.iconContainer.className="icon hide";const A=(0,o.getIconClasses)(this._modelService,this._languageService,f.URI.from({scheme:"fake",path:C.textLabel}),r.FileKind.FILE),M=(0,o.getIconClasses)(this._modelService,this._languageService,f.URI.from({scheme:"fake",path:I.detail}),r.FileKind.FILE);T.extraClasses=A.length>M.length?A:M}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(E.icon.className="icon hide",E.iconContainer.className="icon hide",T.extraClasses=[(0,o.getIconClasses)(this._modelService,this._languageService,f.URI.from({scheme:"fake",path:C.textLabel}),r.FileKind.FOLDER),(0,o.getIconClasses)(this._modelService,this._languageService,f.URI.from({scheme:"fake",path:I.detail}),r.FileKind.FOLDER)].flat()):(E.icon.className="icon hide",E.iconContainer.className="",E.iconContainer.classList.add("suggest-icon",...D.ThemeIcon.asClassNameArray(v.CompletionItemKinds.toIcon(I.kind))));I.tags&&I.tags.indexOf(1)>=0&&(T.extraClasses=(T.extraClasses||[]).concat(["deprecated"]),T.matches=[]),E.iconLabel.setLabel(C.textLabel,void 0,T),typeof I.label=="string"?(E.parametersLabel.textContent="",E.detailsLabel.textContent=g(I.detail||""),E.root.classList.add("string-label")):(E.parametersLabel.textContent=g(I.label.detail||""),E.detailsLabel.textContent=g(I.label.description||""),E.root.classList.remove("string-label")),this._editor.getOption(116).showInlineDetails?(0,y.show)(E.detailsLabel):(0,y.hide)(E.detailsLabel),(0,s.canExpandCompletionItem)(C)?(E.right.classList.add("can-expand-details"),(0,y.show)(E.readMore),E.readMore.onmousedown=A=>{A.stopPropagation(),A.preventDefault()},E.readMore.onclick=A=>{A.stopPropagation(),A.preventDefault(),this._onDidToggleDetails.fire()}):(E.right.classList.remove("can-expand-details"),(0,y.hide)(E.readMore),E.readMore.onmousedown=null,E.readMore.onclick=null)}disposeTemplate(C){C.disposables.dispose()}};e.ItemRenderer=b,e.ItemRenderer=b=Ne([fe(1,i.IModelService),fe(2,t.ILanguageService),fe(3,h.IThemeService)],b);function g(p){return p.replace(/\r\n|\r|\n/g,"")}}),define(J[853],ee([1,0,846,38,137,33,18,94,6,16,20,76]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let i=class extends y.AbstractGotoLineQuickAccessProvider{constructor(r){super(),this.editorService=r,this.onDidActiveTextEditorControlChange=S.Event.None}get activeTextEditorControl(){return(0,_.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};e.StandaloneGotoLineQuickAccessProvider=i,e.StandaloneGotoLineQuickAccessProvider=i=Ne([fe(0,D.ICodeEditorService)],i);class t extends f.EditorAction{constructor(){super({id:t.ID,label:m.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(r){r.get(o.IQuickInputService).quickAccess.show(i.PREFIX)}}e.GotoLineAction=t,t.ID="editor.action.gotoLine",(0,f.registerEditorAction)(t),k.Registry.as(L.Extensions.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:i.PREFIX,helpEntries:[{description:m.GoToLineNLS.gotoLineActionLabel,commandId:t.ID}]})}),define(J[854],ee([1,0,847,38,137,33,18,94,6,16,20,76,190,19,174,250]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let n=class extends y.AbstractGotoSymbolQuickAccessProvider{constructor(h,s,u){super(s,u),this.editorService=h,this.onDidActiveTextEditorControlChange=S.Event.None}get activeTextEditorControl(){return(0,_.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};e.StandaloneGotoSymbolQuickAccessProvider=n,e.StandaloneGotoSymbolQuickAccessProvider=n=Ne([fe(0,D.ICodeEditorService),fe(1,t.ILanguageFeaturesService),fe(2,i.IOutlineModelService)],n);class r extends f.EditorAction{constructor(){super({id:r.ID,label:m.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:v.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(h){h.get(o.IQuickInputService).quickAccess.show(y.AbstractGotoSymbolQuickAccessProvider.PREFIX,{itemActivation:o.ItemActivation.NONE})}}e.GotoSymbolAction=r,r.ID="editor.action.quickOutline",(0,f.registerEditorAction)(r),k.Registry.as(L.Extensions.Quickaccess).registerQuickAccessProvider({ctor:n,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:m.QuickOutlineNLS.quickOutlineActionLabel,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:r.ID},{description:m.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:y.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(J[356],ee([1,0,7,54,832,33,14,49,23]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let f=class extends L.AbstractCodeEditorService{constructor(o,i){super(i),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=o.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((t,n,r)=>Le(this,void 0,void 0,function*(){return n?this.doOpenEditor(n,t):null}))}_checkContextKey(){let o=!1;for(const i of this.listCodeEditors())if(!i.isSimpleWidget){o=!0;break}this._editorIsOpen.set(o)}setActiveCodeEditor(o){this._activeCodeEditor=o}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(o,i){if(!this.findModel(o,i.resource)){if(i.resource){const r=i.resource.scheme;if(r===k.Schemas.http||r===k.Schemas.https)return(0,y.windowOpenNoOpener)(i.resource.toString()),o}return null}const n=i.options?i.options.selection:null;if(n)if(typeof n.endLineNumber=="number"&&typeof n.endColumn=="number")o.setSelection(n),o.revealRangeInCenter(n,1);else{const r={lineNumber:n.startLineNumber,column:n.startColumn};o.setPosition(r),o.revealPositionInCenter(r,1)}return o}findModel(o,i){const t=o.getModel();return t&&t.uri.toString()!==i.toString()?null:t}};e.StandaloneCodeEditorService=f,e.StandaloneCodeEditorService=f=Ne([fe(0,_.IContextKeyService),fe(1,S.IThemeService)],f),(0,m.registerSingleton)(D.ICodeEditorService,f,0)}),define(J[855],ee([1,0,79,32]),function(G,e,y,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[y.editorIndentGuide1]:"#D3D3D3",[y.editorActiveIndentGuide1]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[y.editorIndentGuide1]:"#404040",[y.editorActiveIndentGuide1]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[y.editorIndentGuide1]:"#FFFFFF",[y.editorActiveIndentGuide1]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFF",[k.editorForeground]:"#292929",[y.editorIndentGuide1]:"#292929",[y.editorActiveIndentGuide1]:"#292929"}}}),define(J[357],ee([1,0,7,52,37,6,30,126,498,855,38,32,23,2,90,826]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const l=v.Registry.as(o.Extensions.ColorContribution),h=v.Registry.as(i.Extensions.ThemingContribution);class s{constructor(g,p){this.semanticHighlighting=!1,this.themeData=p;const C=p.base;g.length>0?(u(g)?this.id=g:this.id=C+" "+g,this.themeName=g):(this.id=C,this.themeName=C),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const g=new Map;for(const p in this.themeData.colors)g.set(p,L.Color.fromHex(this.themeData.colors[p]));if(this.themeData.inherit){const p=a(this.themeData.base);for(const C in p.colors)g.has(C)||g.set(C,L.Color.fromHex(p.colors[C]))}this.colors=g}return this.colors}getColor(g,p){const C=this.getColors().get(g);if(C)return C;if(p!==!1)return this.getDefault(g)}getDefault(g){let p=this.defaultColors[g];return p||(p=l.resolveDefaultColor(g,this),this.defaultColors[g]=p,p)}defines(g){return this.getColors().has(g)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return n.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return n.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return n.ColorScheme.HIGH_CONTRAST_LIGHT;default:return n.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let g=[],p=[];if(this.themeData.inherit){const E=a(this.themeData.base);g=E.rules,E.encodedTokensColors&&(p=E.encodedTokensColors)}const C=this.themeData.colors["editor.foreground"],w=this.themeData.colors["editor.background"];if(C||w){const E={token:""};C&&(E.foreground=C),w&&(E.background=w),g.push(E)}g=g.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(p=this.themeData.encodedTokensColors),this._tokenTheme=S.TokenTheme.createFromRawTokenTheme(g,p)}return this._tokenTheme}getTokenStyleMetadata(g,p,C){const E=this.tokenTheme._match([g].concat(p).join(".")).metadata,I=m.TokenMetadata.getForeground(E),T=m.TokenMetadata.getFontStyle(E);return{foreground:I,italic:!!(T&1),bold:!!(T&2),underline:!!(T&4),strikethrough:!!(T&8)}}}function u(b){return b===e.VS_LIGHT_THEME_NAME||b===e.VS_DARK_THEME_NAME||b===e.HC_BLACK_THEME_NAME||b===e.HC_LIGHT_THEME_NAME}function a(b){switch(b){case e.VS_LIGHT_THEME_NAME:return f.vs;case e.VS_DARK_THEME_NAME:return f.vs_dark;case e.HC_BLACK_THEME_NAME:return f.hc_black;case e.HC_LIGHT_THEME_NAME:return f.hc_light}}function d(b){const g=a(b);return new s(b,g)}class c extends t.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new D.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new D.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new r.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,d(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,d(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,d(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,d(e.HC_LIGHT_THEME_NAME));const g=(0,r.getIconsStyleSheet)(this);this._codiconCSS=g.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),g.onDidChange(()=>{this._codiconCSS=g.getCSS(),this._updateCSS()}),(0,k.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(g){return y.isInShadowDOM(g)?this._registerShadowDomContainer(g):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=y.createStyleSheet(void 0,g=>{g.className="monaco-colors",g.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),t.Disposable.None}_registerShadowDomContainer(g){const p=y.createStyleSheet(g,C=>{C.className="monaco-colors",C.textContent=this._allCSS});return this._styleElements.push(p),{dispose:()=>{for(let C=0;C<this._styleElements.length;C++)if(this._styleElements[C]===p){this._styleElements.splice(C,1);return}}}}defineTheme(g,p){if(!/^[a-z0-9\-]+$/i.test(g))throw new Error("Illegal theme name!");if(!u(p.base)&&!u(g))throw new Error("Illegal theme base!");this._knownThemes.set(g,new s(g,p)),u(g)&&this._knownThemes.forEach(C=>{C.base===g&&C.notifyBaseUpdated()}),this._theme.themeName===g&&this.setTheme(g)}getColorTheme(){return this._theme}setColorMapOverride(g){this._colorMapOverride=g,this._updateThemeOrColorMap()}setTheme(g){let p;this._knownThemes.has(g)?p=this._knownThemes.get(g):p=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(p)}_updateActualTheme(g){!g||this._theme===g||(this._theme=g,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const g=window.matchMedia("(forced-colors: active)").matches;if(g!==(0,n.isHighContrast)(this._theme.type)){let p;(0,n.isDark)(this._theme.type)?p=g?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:p=g?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(p))}}}setAutoDetectHighContrast(g){this._autoDetectHighContrast=g,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const g=[],p={},C={addRule:I=>{p[I]||(g.push(I),p[I]=!0)}};h.getThemingParticipants().forEach(I=>I(this._theme,C,this._environment));const w=[];for(const I of l.getColors()){const T=this._theme.getColor(I.id,!0);T&&w.push(`${(0,o.asCssVariableName)(I.id)}: ${T.toString()};`)}C.addRule(`.monaco-editor, .monaco-diff-editor { ${w.join(`
`)} }`);const E=this._colorMapOverride||this._theme.tokenTheme.getColorMap();C.addRule((0,S.generateTokensCSSForColorMap)(E)),this._themeCSS=g.join(`
`),this._updateCSS(),_.TokenizationRegistry.setColorMap(E),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(g=>g.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=c}),define(J[856],ee([1,0,16,134,94,90,357]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class m extends y.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:L.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(f,v){const o=f.get(k.IStandaloneThemeService),i=o.getColorTheme();(0,D.isHighContrast)(i.type)?(o.setTheme(this._originalThemeName||((0,D.isDark)(i.type)?_.VS_DARK_THEME_NAME:_.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(o.setTheme((0,D.isDark)(i.type)?_.HC_BLACK_THEME_NAME:_.HC_LIGHT_THEME_NAME),this._originalThemeName=i.themeName)}}(0,y.registerEditorAction)(m)}),define(J[163],ee([1,0,7,45,156,312,40,218,2,17,709,29,731,14,57,8,34,44,89,23,27,90,18,32,104,83,467]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=e.createAndFillInContextMenuActions=void 0;function C(N,O,x,F){const B=N.getActions(O),z=y.ModifierKeyEmitter.getInstance(),j=z.keyStatus.altKey||(f.isWindows||f.isLinux)&&z.keyStatus.shiftKey;E(B,x,j,F?R=>R===F:R=>R==="navigation")}e.createAndFillInContextMenuActions=C;function w(N,O,x,F,B,z){const j=N.getActions(O);E(j,x,!1,typeof F=="string"?Z=>Z===F:F,B,z)}e.createAndFillInActionBarActions=w;function E(N,O,x,F=j=>j==="navigation",B=()=>!1,z=!1){let j,R;Array.isArray(O)?(j=O,R=O):(j=O.primary,R=O.secondary);const Z=new Set;for(const[se,le]of N){let te;F(se)?(te=j,te.length>0&&z&&te.push(new _.Separator)):(te=R,te.length>0&&te.push(new _.Separator));for(let Y of le){x&&(Y=Y instanceof o.MenuItemAction&&Y.alt?Y.alt:Y);const U=te.push(Y);Y instanceof _.SubmenuAction&&Z.add({group:se,action:Y,index:U-1})}}for(const{group:se,action:le,index:te}of Z){const Y=F(se)?j:R,U=le.actions;U.length<=1&&B(le,se,Y.length)&&Y.splice(te,1,...U)}}let I=class extends L.ActionViewItem{constructor(O,x,F,B,z,j,R,Z){super(void 0,O,{icon:!!(O.class||O.item.icon),label:!O.class&&!O.item.icon,draggable:x?.draggable,keybinding:x?.keybinding,hoverDelegate:x?.hoverDelegate}),this._keybindingService=F,this._notificationService=B,this._contextKeyService=z,this._themeService=j,this._contextMenuService=R,this._accessibilityService=Z,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new S.MutableDisposable),this._altKey=y.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(O){return Le(this,void 0,void 0,function*(){O.preventDefault(),O.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(x){this._notificationService.error(x)}})}render(O){if(super.render(O),O.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let x=!1;const F=()=>{var B;const z=!!(!((B=this._menuItemAction.alt)===null||B===void 0)&&B.enabled)&&(!this._accessibilityService.isMotionReduced()||x)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&x);z!==this._wantsAltCommand&&(this._wantsAltCommand=z,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(F)),this._register((0,y.addDisposableListener)(O,"mouseleave",B=>{x=!1,F()})),this._register((0,y.addDisposableListener)(O,"mouseenter",B=>{x=!0,F()})),F()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var O;const x=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),F=x&&x.getLabel(),B=this._commandAction.tooltip||this._commandAction.label;let z=F?(0,v.localize)(0,null,B,F):B;if(!this._wantsAltCommand&&(!((O=this._menuItemAction.alt)===null||O===void 0)&&O.enabled)){const j=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,R=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),Z=R&&R.getLabel(),se=Z?(0,v.localize)(1,null,j,Z):j;z=(0,v.localize)(2,null,z,m.UILabelProvider.modifierLabels[f.OS].altKey,se)}return z}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(O){this._itemClassDispose.value=void 0;const{element:x,label:F}=this;if(!x||!F)return;const B=this._commandAction.checked&&(0,i.isICommandActionToggleInfo)(O.toggled)&&O.toggled.icon?O.toggled.icon:O.icon;if(B)if(a.ThemeIcon.isThemeIcon(B)){const z=a.ThemeIcon.asClassNameArray(B);F.classList.add(...z),this._itemClassDispose.value=(0,S.toDisposable)(()=>{F.classList.remove(...z)})}else F.style.backgroundImage=(0,d.isDark)(this._themeService.getColorTheme().type)?(0,y.asCSSUrl)(B.dark):(0,y.asCSSUrl)(B.light),F.classList.add("icon"),this._itemClassDispose.value=(0,S.combinedDisposable)((0,S.toDisposable)(()=>{F.style.backgroundImage="",F.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};e.MenuEntryActionViewItem=I,e.MenuEntryActionViewItem=I=Ne([fe(2,l.IKeybindingService),fe(3,h.INotificationService),fe(4,t.IContextKeyService),fe(5,u.IThemeService),fe(6,n.IContextMenuService),fe(7,p.IAccessibilityService)],I);let T=class extends D.DropdownMenuActionViewItem{constructor(O,x,F,B,z){var j,R,Z;const se=Object.assign(Object.assign({},x),{menuAsChild:(j=x?.menuAsChild)!==null&&j!==void 0?j:!1,classNames:(R=x?.classNames)!==null&&R!==void 0?R:a.ThemeIcon.isThemeIcon(O.item.icon)?a.ThemeIcon.asClassName(O.item.icon):void 0,keybindingProvider:(Z=x?.keybindingProvider)!==null&&Z!==void 0?Z:le=>F.lookupKeybinding(le.id)});super(O,{getActions:()=>O.actions},B,se),this._keybindingService=F,this._contextMenuService=B,this._themeService=z}render(O){super.render(O),(0,c.assertType)(this.element),O.classList.add("menu-entry");const x=this._action,{icon:F}=x.item;if(F&&!a.ThemeIcon.isThemeIcon(F)){this.element.classList.add("icon");const B=()=>{this.element&&(this.element.style.backgroundImage=(0,d.isDark)(this._themeService.getColorTheme().type)?(0,y.asCSSUrl)(F.dark):(0,y.asCSSUrl)(F.light))};B(),this._register(this._themeService.onDidColorThemeChange(()=>{B()}))}}};e.SubmenuEntryActionViewItem=T,e.SubmenuEntryActionViewItem=T=Ne([fe(2,l.IKeybindingService),fe(3,n.IContextMenuService),fe(4,u.IThemeService)],T);let P=class extends L.BaseActionViewItem{constructor(O,x,F,B,z,j,R,Z){var se,le,te;super(null,O),this._keybindingService=F,this._notificationService=B,this._contextMenuService=z,this._menuService=j,this._instaService=R,this._storageService=Z,this._container=null,this._options=x,this._storageKey=`${O.item.submenu.id}_lastActionId`;let Y;const U=x?.persistLastActionId?Z.get(this._storageKey,1):void 0;U&&(Y=O.actions.find(H=>U===H.id)),Y||(Y=O.actions[0]),this._defaultAction=this._instaService.createInstance(I,Y,{keybinding:this._getDefaultActionKeybindingLabel(Y)});const V=Object.assign(Object.assign({keybindingProvider:H=>this._keybindingService.lookupKeybinding(H.id)},x),{menuAsChild:(se=x?.menuAsChild)!==null&&se!==void 0?se:!0,classNames:(le=x?.classNames)!==null&&le!==void 0?le:["codicon","codicon-chevron-down"],actionRunner:(te=x?.actionRunner)!==null&&te!==void 0?te:new _.ActionRunner});this._dropdown=new D.DropdownMenuActionViewItem(O,O.actions,this._contextMenuService,V),this._dropdown.actionRunner.onDidRun(H=>{H.action instanceof o.MenuItemAction&&this.update(H.action)})}update(O){var x;!((x=this._options)===null||x===void 0)&&x.persistLastActionId&&this._storageService.store(this._storageKey,O.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(I,O,{keybinding:this._getDefaultActionKeybindingLabel(O)}),this._defaultAction.actionRunner=new class extends _.ActionRunner{runAction(F,B){return Le(this,void 0,void 0,function*(){yield F.run(void 0)})}},this._container&&this._defaultAction.render((0,y.prepend)(this._container,(0,y.$)(".action-container")))}_getDefaultActionKeybindingLabel(O){var x;let F;if(!((x=this._options)===null||x===void 0)&&x.renderKeybindingWithDefaultActionLabel){const B=this._keybindingService.lookupKeybinding(O.id);B&&(F=`(${B.getLabel()})`)}return F}setActionContext(O){super.setActionContext(O),this._defaultAction.setActionContext(O),this._dropdown.setActionContext(O)}render(O){this._container=O,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const x=(0,y.$)(".action-container");this._defaultAction.render((0,y.append)(this._container,x)),this._register((0,y.addDisposableListener)(x,y.EventType.KEY_DOWN,B=>{const z=new k.StandardKeyboardEvent(B);z.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),z.stopPropagation())}));const F=(0,y.$)(".dropdown-action-container");this._dropdown.render((0,y.append)(this._container,F)),this._register((0,y.addDisposableListener)(F,y.EventType.KEY_DOWN,B=>{var z;const j=new k.StandardKeyboardEvent(B);j.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(z=this._defaultAction.element)===null||z===void 0||z.focus(),j.stopPropagation())}))}focus(O){O?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(O){O?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};e.DropdownWithDefaultActionViewItem=P,e.DropdownWithDefaultActionViewItem=P=Ne([fe(2,l.IKeybindingService),fe(3,h.INotificationService),fe(4,n.IContextMenuService),fe(5,o.IMenuService),fe(6,r.IInstantiationService),fe(7,s.IStorageService)],P);let A=class extends L.SelectActionViewItem{constructor(O,x){super(null,O,O.actions.map(F=>({text:F.id===_.Separator.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":F.label,isDisabled:!F.enabled})),0,x,g.defaultSelectBoxStyles,{ariaLabel:O.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,O.actions.findIndex(F=>F.checked)))}render(O){super.render(O),O.style.borderColor=(0,b.asCssVariable)(b.selectBorder)}runAction(O,x){const F=this.action.actions[x];F&&this.actionRunner.run(F)}};A=Ne([fe(1,n.IContextViewService)],A);function M(N,O,x){return O instanceof o.MenuItemAction?N.createInstance(I,O,x):O instanceof o.SubmenuItemAction?O.item.isSelection?N.createInstance(A,O):O.item.rememberDefaultAction?N.createInstance(P,O,Object.assign(Object.assign({},x),{persistLastActionId:!0})):N.createInstance(T,O,x):void 0}e.createActionViewItem=M}),define(J[253],ee([1,0,7,68,224,40,15,13,26,2,42,86,17,27,11,30,215,673,163,808,29,25,14,57,8,34,78,63,446]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineSuggestionHintsContentWidget=e.InlineCompletionsHintsWidget=void 0;let E=class extends f.Disposable{constructor(O,x,F){super(),this.editor=O,this.model=x,this.instantiationService=F,this.alwaysShowToolbar=(0,v.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(61).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,v.derived)("position",B=>{var z,j,R;const Z=(z=this.model.read(B))===null||z===void 0?void 0:z.ghostText.read(B);if(!this.alwaysShowToolbar.read(B)||!Z||Z.parts.length===0)return this.sessionPosition=void 0,null;const se=Z.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==Z.lineNumber&&(this.sessionPosition=void 0);const le=new n.Position(Z.lineNumber,Math.min(se,(R=(j=this.sessionPosition)===null||j===void 0?void 0:j.column)!==null&&R!==void 0?R:Number.MAX_SAFE_INTEGER));return this.sessionPosition=le,le}),this._register((0,o.autorunWithStore2)("setup content widget",(B,z)=>{const j=this.model.read(B);if(!j||!this.alwaysShowToolbar.read(B))return;const R=z.add(this.instantiationService.createInstance(P,this.editor,!0,this.position,j.selectedInlineCompletionIndex,j.inlineCompletionsCount,j.selectedInlineCompletion.map(Z=>{var se;return(se=Z?.inlineCompletion.source.inlineCompletions.commands)!==null&&se!==void 0?se:[]})));O.addContentWidget(R),z.add((0,f.toDisposable)(()=>O.removeContentWidget(R))),z.add((0,v.autorun)("request explicit",Z=>{this.position.read(Z)&&j.lastTriggerKind.read(Z)!==r.InlineCompletionTriggerKind.Explicit&&j.triggerExplicitly()}))}))}};e.InlineCompletionsHintsWidget=E,e.InlineCompletionsHintsWidget=E=Ne([fe(2,g.IInstantiationService)],E);const I=(0,w.registerIcon)("inline-suggestion-hints-next",S.Codicon.chevronRight,(0,h.localize)(0,null)),T=(0,w.registerIcon)("inline-suggestion-hints-previous",S.Codicon.chevronLeft,(0,h.localize)(1,null));let P=class fi extends f.Disposable{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(O,x,F){const B=new D.Action(O,x,F,!0,()=>this._commandService.executeCommand(O)),z=this.keybindingService.lookupKeybinding(O,this._contextKeyService);let j=x;return z&&(j=(0,h.localize)(2,null,x,z.getLabel())),B.tooltip=j,B}constructor(O,x,F,B,z,j,R,Z,se,le,te){super(),this.editor=O,this.withBorder=x,this._position=F,this._currentSuggestionIdx=B,this._suggestionCount=z,this._extraCommands=j,this._commandService=R,this.keybindingService=se,this._contextKeyService=le,this._menuService=te,this.id=`InlineSuggestionHintsContentWidget${fi.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,y.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,y.h)("div",{style:{display:"flex"}},[(0,y.h)("div@actionBar",{className:"custom-actions"}),(0,y.h)("div@toolBar")])]),this.previousAction=this.createCommandAction(l.showPreviousInlineSuggestionActionId,(0,h.localize)(3,null),t.ThemeIcon.asClassName(T)),this.availableSuggestionCountAction=new D.Action("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(l.showNextInlineSuggestionActionId,(0,h.localize)(4,null),t.ThemeIcon.asClassName(I)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(a.MenuId.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new m.RunOnceScheduler(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new m.RunOnceScheduler(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[];const Y=this._register(new k.ActionBar(this.nodes.actionBar));Y.push(this.previousAction,{icon:!0,label:!1}),Y.push(this.availableSuggestionCountAction),Y.push(this.nextAction,{icon:!0,label:!1}),this.toolBar=this._register(Z.createInstance(M,this.nodes.toolBar,a.MenuId.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:U=>U.startsWith("primary")},actionViewItemProvider:(U,V)=>U instanceof a.MenuItemAction?Z.createInstance(A,U,void 0):void 0,telemetrySource:"InlineSuggestionToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(U=>{fi._dropDownVisible=U})),this._register((0,v.autorun)("update position",U=>{this._position.read(U),this.editor.layoutContentWidget(this)})),this._register((0,v.autorun)("counts",U=>{const V=this._suggestionCount.read(U),H=this._currentSuggestionIdx.read(U);V!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${H+1}/${V}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),V!==void 0&&V>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,v.autorun)("extra commands",U=>{const V=this._extraCommands.read(U);if((0,_.equals)(this.lastCommands,V))return;this.lastCommands=V;const H=V.map($=>({class:void 0,id:$.id,enabled:!0,tooltip:$.tooltip||"",label:$.title,run:X=>this._commandService.executeCommand($.id)}));for(const[$,X]of this.inlineCompletionsActionsMenus.getActions())for(const Q of X)Q instanceof a.MenuItemAction&&H.push(Q);H.length>0&&H.unshift(new D.Separator),this.toolBar.setAdditionalSecondaryActions(H)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineSuggestionHintsContentWidget=P,P._dropDownVisible=!1,P.id=0,e.InlineSuggestionHintsContentWidget=P=Ne([fe(6,d.ICommandService),fe(7,g.IInstantiationService),fe(8,p.IKeybindingService),fe(9,c.IContextKeyService),fe(10,a.IMenuService)],P);class A extends s.MenuEntryActionViewItem{updateLabel(){const O=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!O)return super.updateLabel();if(this.label){const x=(0,y.h)("div.keybinding").root;new L.KeybindingLabel(x,i.OS,Object.assign({disableTitle:!0},L.unthemedKeybindingLabelOptions)).set(O),this.label.textContent=this._action.label,this.label.appendChild(x),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let M=class extends u.WorkbenchToolBar{constructor(O,x,F,B,z,j,R,Z){super(O,Object.assign({resetMenu:x},F),B,z,j,R,Z),this.menuId=x,this.options2=F,this.menuService=B,this.contextKeyService=z,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var O,x,F,B,z,j,R;const Z=[],se=[];(0,s.createAndFillInActionBarActions)(this.menu,(O=this.options2)===null||O===void 0?void 0:O.menuOptions,{primary:Z,secondary:se},(F=(x=this.options2)===null||x===void 0?void 0:x.toolbarOptions)===null||F===void 0?void 0:F.primaryGroup,(z=(B=this.options2)===null||B===void 0?void 0:B.toolbarOptions)===null||z===void 0?void 0:z.shouldInlineSubmenu,(R=(j=this.options2)===null||j===void 0?void 0:j.toolbarOptions)===null||R===void 0?void 0:R.useSeparatorsInPrimaryActions),se.push(...this.additionalActions),this.setActions(Z,se)}setAdditionalSecondaryActions(O){(0,_.equals)(this.additionalActions,O,(x,F)=>x===F)||(this.additionalActions=O,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=M,e.CustomizedMenuWorkbenchToolBar=M=Ne([fe(3,a.IMenuService),fe(4,c.IContextKeyService),fe(5,b.IContextMenuService),fe(6,p.IKeybindingService),fe(7,C.ITelemetryService)],M)}),define(J[857],ee([1,0,7,68,2,697,163,29,14,8]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class v extends _.MenuEntryActionViewItem{updateLabel(){const t=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!t)return super.updateLabel();this.label&&(this.label.textContent=(0,D.localize)(0,null,this._action.label,v.symbolPrintEnter(t)))}static symbolPrintEnter(t){var n;return(n=t.getLabel())===null||n===void 0?void 0:n.replace(/\benter\b/gi,"\u23CE")}}let o=class{constructor(t,n,r,l,h){this._menuId=n,this._menuService=l,this._contextKeyService=h,this._menuDisposables=new L.DisposableStore,this.element=y.append(t,y.$(".suggest-status-bar"));const s=u=>u instanceof m.MenuItemAction?r.createInstance(v,u,void 0):void 0;this._leftActions=new k.ActionBar(this.element,{actionViewItemProvider:s}),this._rightActions=new k.ActionBar(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const t=this._menuService.createMenu(this._menuId,this._contextKeyService),n=()=>{const r=[],l=[];for(const[h,s]of t.getActions())h==="left"?r.push(...s):l.push(...s);this._leftActions.clear(),this._leftActions.push(r),this._rightActions.clear(),this._rightActions.push(l)};this._menuDisposables.add(t.onDidChange(()=>n())),this._menuDisposables.add(t)}hide(){this._menuDisposables.clear()}};e.SuggestWidgetStatus=o,e.SuggestWidgetStatus=o=Ne([fe(2,f.IInstantiationService),fe(3,m.IMenuService),fe(4,S.IContextKeyService)],o)}),define(J[858],ee([1,0,7,40,6,2,163,29,14,34,44,78,820,57]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuMenuDelegate=e.ContextMenuService=void 0;let n=class extends D.Disposable{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new i.ContextMenuHandler(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(h,s,u,a,d,c){super(),this.telemetryService=h,this.notificationService=s,this.contextViewService=u,this.keybindingService=a,this.menuService=d,this.contextKeyService=c,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new L.Emitter),this._onDidHideContextMenu=this._store.add(new L.Emitter)}configure(h){this.contextMenuHandler.configure(h)}showContextMenu(h){h=r.transform(h,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},h),{onHide:s=>{var u;(u=h.onHide)===null||u===void 0||u.call(h,s),this._onDidHideContextMenu.fire()}})),y.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};e.ContextMenuService=n,e.ContextMenuService=n=Ne([fe(0,o.ITelemetryService),fe(1,v.INotificationService),fe(2,t.IContextViewService),fe(3,f.IKeybindingService),fe(4,m.IMenuService),fe(5,S.IContextKeyService)],n);var r;(function(l){function h(u){return u&&u.menuId instanceof m.MenuId}function s(u,a,d){if(!h(u))return u;const{menuId:c,menuActionOptions:b,contextKeyService:g}=u;return Object.assign(Object.assign({},u),{getActions:()=>{const p=[];if(c){const C=a.createMenu(c,g??d);(0,_.createAndFillInContextMenuActions)(C,b,p),C.dispose()}return u.getActions?k.Separator.join(u.getActions(),p):p}})}l.transform=s})(r||(e.ContextMenuMenuDelegate=r={}))}),define(J[859],ee([1,0,21,6,14,8,135,193,56,779,104,32,23,831]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let n=class extends i.Themable{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(f.QuickAccessController))),this._quickAccess}constructor(l,h,s,u){super(s),this.instantiationService=l,this.contextKeyService=h,this.layoutService=u,this._onShow=this._register(new k.Emitter),this._onHide=this._register(new k.Emitter),this.contexts=new Map}createController(l=this.layoutService,h){const s={idPrefix:"quickInput_",container:l.container,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:a=>this.setContextKey(a),linkOpenerDelegate:a=>{this.instantiationService.invokeFunction(d=>{d.get(S.IOpenerService).open(a,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>l.focus(),createList:(a,d,c,b,g)=>this.instantiationService.createInstance(m.WorkbenchList,a,d,c,b,g),hoverDelegate:{showHover(a,d){},delay:200},styles:this.computeStyles()},u=this._register(new t.QuickInputController(Object.assign(Object.assign({},s),h)));return u.layout(l.dimension,l.offset.quickPickTop),this._register(l.onDidLayout(a=>u.layout(a,l.offset.quickPickTop))),this._register(u.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(u.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),u}setContextKey(l){let h;l&&(h=this.contexts.get(l),h||(h=new L.RawContextKey(l,!1).bindTo(this.contextKeyService),this.contexts.set(l,h))),!(h&&h.get())&&(this.resetContextKeys(),h?.set(!0))}resetContextKeys(){this.contexts.forEach(l=>{l.get()&&l.reset()})}pick(l,h={},s=y.CancellationToken.None){return this.controller.pick(l,h,s)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,o.asCssVariable)(o.quickInputBackground),quickInputForeground:(0,o.asCssVariable)(o.quickInputForeground),quickInputTitleBackground:(0,o.asCssVariable)(o.quickInputTitleBackground),widgetBorder:(0,o.asCssVariable)(o.widgetBorder),widgetShadow:(0,o.asCssVariable)(o.widgetShadow)},inputBox:v.defaultInputBoxStyles,toggle:v.defaultToggleStyles,countBadge:v.defaultCountBadgeStyles,button:v.defaultButtonStyles,progressBar:v.defaultProgressBarStyles,keybindingLabel:v.defaultKeybindingLabelStyles,list:(0,v.getListStyles)({listBackground:o.quickInputBackground,listFocusBackground:o.quickInputListFocusBackground,listFocusForeground:o.quickInputListFocusForeground,listInactiveFocusForeground:o.quickInputListFocusForeground,listInactiveSelectionIconForeground:o.quickInputListFocusIconForeground,listInactiveFocusBackground:o.quickInputListFocusBackground,listFocusOutline:o.activeContrastBorder,listInactiveFocusOutline:o.activeContrastBorder}),pickerGroup:{pickerGroupBorder:(0,o.asCssVariable)(o.pickerGroupBorder),pickerGroupForeground:(0,o.asCssVariable)(o.pickerGroupForeground)},colorScheme:this.themeService.getColorTheme().type}}};e.QuickInputService=n,e.QuickInputService=n=Ne([fe(0,D.IInstantiationService),fe(1,L.IContextKeyService),fe(2,i.IThemeService),fe(3,_.ILayoutService)],n)}),define(J[860],ee([1,0,16,23,21,8,14,333,33,859,98,465]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=void 0;let o=class extends f.QuickInputService{constructor(l,h,s,u,a){super(h,s,u,new m.EditorScopedLayoutService(l.getContainerDomNode(),a)),this.host=void 0;const d=t.get(l);if(d){const c=d.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return c.getDomNode()},get dimension(){return l.getLayoutInfo()},get onDidLayout(){return l.onDidLayoutChange},focus:()=>l.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};o=Ne([fe(1,D.IInstantiationService),fe(2,_.IContextKeyService),fe(3,k.IThemeService),fe(4,S.ICodeEditorService)],o);let i=class{get activeService(){const l=this.codeEditorService.getFocusedCodeEditor();if(!l)throw new Error("Quick input service needs a focused editor to work.");let h=this.mapEditorToService.get(l);if(!h){const s=h=this.instantiationService.createInstance(o,l);this.mapEditorToService.set(l,h),(0,v.once)(l.onDidDispose)(()=>{s.dispose(),this.mapEditorToService.delete(l)})}return h}get quickAccess(){return this.activeService.quickAccess}constructor(l,h){this.instantiationService=l,this.codeEditorService=h,this.mapEditorToService=new Map}pick(l,h={},s=L.CancellationToken.None){return this.activeService.pick(l,h,s)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};e.StandaloneQuickInputService=i,e.StandaloneQuickInputService=i=Ne([fe(0,D.IInstantiationService),fe(1,S.ICodeEditorService)],i);class t{static get(l){return l.getContribution(t.ID)}constructor(l){this.editor=l,this.widget=new n(this.editor)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=t,t.ID="editor.controller.quickInput";class n{constructor(l){this.codeEditor=l,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return n.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=n,n.ID="editor.contrib.quickInputWidget",(0,y.registerEditorContribution)(t.ID,t,4)}),define(J[194],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,y.createDecorator)("undoRedoService");class k{constructor(m,S){this.resource=m,this.elements=S}}e.ResourceEditStackSnapshot=k;class L{constructor(){this.id=L._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=L,L._ID=0,L.None=new L;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=D,D._ID=0,D.None=new D}),define(J[39],ee([1,0,15,37,12,6,2,9,22,123,203,61,11,5,24,177,41,31,47,590,843,325,286,503,504,317,591,183,620,111,194]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E,I,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AttachedViews=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationGlyphMarginOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.createTextBuffer=e.createTextBufferFactoryFromSnapshot=e.createTextBufferFactory=void 0;function P(q){const W=new C.PieceTreeTextBufferBuilder;return W.acceptChunk(q),W.finish()}e.createTextBufferFactory=P;function A(q){const W=new C.PieceTreeTextBufferBuilder;let K;for(;typeof(K=q.read())=="string";)W.acceptChunk(K);return W.finish()}e.createTextBufferFactoryFromSnapshot=A;function M(q,W){let K;return typeof q=="string"?K=P(q):s.isITextSnapshot(q)?K=A(q):K=q,K.create(W)}e.createTextBuffer=M;let N=0;const O=999,x=1e4;class F{constructor(W){this._source=W,this._eos=!1}read(){if(this._eos)return null;const W=[];let K=0,ie=0;do{const ne=this._source.read();if(ne===null)return this._eos=!0,K===0?null:W.join("");if(ne.length>0&&(W[K++]=ne,ie+=ne.length),ie>=64*1024)return W.join("")}while(!0)}}const B=()=>{throw new Error("Invalid change accessor")};let z=class Ut extends _.Disposable{static resolveOptions(W,K){if(K.detectIndentation){const ie=(0,b.guessIndentation)(W,K.tabSize,K.insertSpaces);return new s.TextModelResolvedOptions({tabSize:ie.tabSize,indentSize:"tabSize",insertSpaces:ie.insertSpaces,trimAutoWhitespace:K.trimAutoWhitespace,defaultEOL:K.defaultEOL,bracketPairColorizationOptions:K.bracketPairColorizationOptions})}return new s.TextModelResolvedOptions(K)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(W){return this._eventEmitter.slowEvent(K=>W(K.contentChangedEvent))}onDidChangeContentOrInjectedText(W){return(0,_.combinedDisposable)(this._eventEmitter.fastEvent(K=>W(K)),this._onDidChangeInjectedText.event(K=>W(K)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(W,K,ie,ne=null,oe,re,ge){super(),this._undoRedoService=oe,this._languageService=re,this._languageConfigurationService=ge,this._onWillDispose=this._register(new D.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new de(De=>this.handleBeforeFireDecorationsChangedEvent(De))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new D.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new D.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new D.Emitter),this._eventEmitter=this._register(new ce),this._languageSelectionListener=this._register(new _.MutableDisposable),this._deltaDecorationCallCnt=0,this._attachedViews=new ae,N++,this.id="$model"+N,this.isForSimpleWidget=ie.isForSimpleWidget,typeof ne>"u"||ne===null?this._associatedResource=S.URI.parse("inmemory://model/"+N):this._associatedResource=ne,this._attachedEditorCount=0;const{textBuffer:ve,disposable:we}=M(W,ie.defaultEOL);this._buffer=ve,this._bufferDisposable=we,this._options=Ut.resolveOptions(this._buffer,ie);const ye=typeof K=="string"?K:K.languageId;typeof K!="string"&&(this._languageSelectionListener.value=K.onDidChange(()=>this._setLanguage(K.languageId))),this._bracketPairs=this._register(new u.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new c.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new a.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new E.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,ye,this._attachedViews);const Ie=this._buffer.getLineCount(),Ee=this._buffer.getValueLengthInRange(new t.Range(1,1,Ie,this._buffer.getLineLength(Ie)+1),0);ie.largeFileOptimizations?this._isTooLargeForTokenization=Ee>Ut.LARGE_FILE_SIZE_THRESHOLD||Ie>Ut.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Ee>Ut._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=m.singleLetterHash(N),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new se,this._commandManager=new d.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(ye)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const W=new p.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);W.dispose(),this._buffer=W,this._bufferDisposable=_.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(W,K){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(K),this._bracketPairs.handleDidChangeContent(K),this._eventEmitter.fire(new I.InternalModelContentChangeEvent(W,K)))}setValue(W){if(this._assertNotDisposed(),W==null)throw(0,L.illegalArgument)();const{textBuffer:K,disposable:ie}=M(W,this._options.defaultEOL);this._setValueFromTextBuffer(K,ie)}_createContentChanged2(W,K,ie,ne,oe,re,ge,ve){return{changes:[{range:W,rangeOffset:K,rangeLength:ie,text:ne}],eol:this._buffer.getEOL(),isEolChange:ve,versionId:this.getVersionId(),isUndoing:oe,isRedoing:re,isFlush:ge}}_setValueFromTextBuffer(W,K){this._assertNotDisposed();const ie=this.getFullModelRange(),ne=this.getValueLengthInRange(ie),oe=this.getLineCount(),re=this.getLineMaxColumn(oe);this._buffer=W,this._bufferDisposable.dispose(),this._bufferDisposable=K,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new se,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new t.Range(1,1,oe,re),0,ne,this.getValue(),!1,!1,!0,!1))}setEOL(W){this._assertNotDisposed();const K=W===1?`\r
`:`
`;if(this._buffer.getEOL()===K)return;const ie=this.getFullModelRange(),ne=this.getValueLengthInRange(ie),oe=this.getLineCount(),re=this.getLineMaxColumn(oe);this._onBeforeEOLChange(),this._buffer.setEOL(K),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new t.Range(1,1,oe,re),0,ne,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const W=this.getVersionId(),K=this._decorationsTree.collectNodesPostOrder();for(let ie=0,ne=K.length;ie<ne;ie++){const oe=K[ie],re=oe.range,ge=oe.cachedAbsoluteStart-oe.start,ve=this._buffer.getOffsetAt(re.startLineNumber,re.startColumn),we=this._buffer.getOffsetAt(re.endLineNumber,re.endColumn);oe.cachedAbsoluteStart=ve,oe.cachedAbsoluteEnd=we,oe.cachedVersionId=W,oe.start=ve-ge,oe.end=we-ge,(0,g.recomputeMaxEnd)(oe)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(W){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(W)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let W=0,K=0;const ie=this._buffer.getLineCount();for(let ne=1;ne<=ie;ne++){const oe=this._buffer.getLineLength(ne);oe>=x?K+=oe:W+=oe}return K>W}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(W){this._assertNotDisposed();const K=typeof W.tabSize<"u"?W.tabSize:this._options.tabSize,ie=typeof W.indentSize<"u"?W.indentSize:this._options.originalIndentSize,ne=typeof W.insertSpaces<"u"?W.insertSpaces:this._options.insertSpaces,oe=typeof W.trimAutoWhitespace<"u"?W.trimAutoWhitespace:this._options.trimAutoWhitespace,re=typeof W.bracketColorizationOptions<"u"?W.bracketColorizationOptions:this._options.bracketPairColorizationOptions,ge=new s.TextModelResolvedOptions({tabSize:K,indentSize:ie,insertSpaces:ne,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:oe,bracketPairColorizationOptions:re});if(this._options.equals(ge))return;const ve=this._options.createChangeEvent(ge);this._options=ge,this._bracketPairs.handleDidChangeOptions(ve),this._decorationProvider.handleDidChangeOptions(ve),this._onDidChangeOptions.fire(ve)}detectIndentation(W,K){this._assertNotDisposed();const ie=(0,b.guessIndentation)(this._buffer,K,W);this.updateOptions({insertSpaces:ie.insertSpaces,tabSize:ie.tabSize,indentSize:ie.tabSize})}normalizeIndentation(W){return this._assertNotDisposed(),(0,v.normalizeIndentation)(W,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(W=null){const K=this.findMatches(m.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(W,K.map(ie=>({range:ie.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(W){this._assertNotDisposed();const K=this._validatePosition(W.lineNumber,W.column,0);return this._buffer.getOffsetAt(K.lineNumber,K.column)}getPositionAt(W){this._assertNotDisposed();const K=Math.min(this._buffer.getLength(),Math.max(0,W));return this._buffer.getPositionAt(K)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(W){this._versionId=W}_overwriteAlternativeVersionId(W){this._alternativeVersionId=W}_overwriteInitialUndoRedoSnapshot(W){this._initialUndoRedoSnapshot=W}getValue(W,K=!1){this._assertNotDisposed();const ie=this.getFullModelRange(),ne=this.getValueInRange(ie,W);return K?this._buffer.getBOM()+ne:ne}createSnapshot(W=!1){return new F(this._buffer.createSnapshot(W))}getValueLength(W,K=!1){this._assertNotDisposed();const ie=this.getFullModelRange(),ne=this.getValueLengthInRange(ie,W);return K?this._buffer.getBOM().length+ne:ne}getValueInRange(W,K=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(W),K)}getValueLengthInRange(W,K=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(W),K)}getCharacterCountInRange(W,K=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(W),K)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new L.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineContent(W)}getLineLength(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new L.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(W)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(W){return this._assertNotDisposed(),1}getLineMaxColumn(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new L.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(W)+1}getLineFirstNonWhitespaceColumn(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new L.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(W)}getLineLastNonWhitespaceColumn(W){if(this._assertNotDisposed(),W<1||W>this.getLineCount())throw new L.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(W)}_validateRangeRelaxedNoAllocations(W){const K=this._buffer.getLineCount(),ie=W.startLineNumber,ne=W.startColumn;let oe=Math.floor(typeof ie=="number"&&!isNaN(ie)?ie:1),re=Math.floor(typeof ne=="number"&&!isNaN(ne)?ne:1);if(oe<1)oe=1,re=1;else if(oe>K)oe=K,re=this.getLineMaxColumn(oe);else if(re<=1)re=1;else{const Ie=this.getLineMaxColumn(oe);re>=Ie&&(re=Ie)}const ge=W.endLineNumber,ve=W.endColumn;let we=Math.floor(typeof ge=="number"&&!isNaN(ge)?ge:1),ye=Math.floor(typeof ve=="number"&&!isNaN(ve)?ve:1);if(we<1)we=1,ye=1;else if(we>K)we=K,ye=this.getLineMaxColumn(we);else if(ye<=1)ye=1;else{const Ie=this.getLineMaxColumn(we);ye>=Ie&&(ye=Ie)}return ie===oe&&ne===re&&ge===we&&ve===ye&&W instanceof t.Range&&!(W instanceof n.Selection)?W:new t.Range(oe,re,we,ye)}_isValidPosition(W,K,ie){if(typeof W!="number"||typeof K!="number"||isNaN(W)||isNaN(K)||W<1||K<1||(W|0)!==W||(K|0)!==K)return!1;const ne=this._buffer.getLineCount();if(W>ne)return!1;if(K===1)return!0;const oe=this.getLineMaxColumn(W);if(K>oe)return!1;if(ie===1){const re=this._buffer.getLineCharCode(W,K-2);if(m.isHighSurrogate(re))return!1}return!0}_validatePosition(W,K,ie){const ne=Math.floor(typeof W=="number"&&!isNaN(W)?W:1),oe=Math.floor(typeof K=="number"&&!isNaN(K)?K:1),re=this._buffer.getLineCount();if(ne<1)return new i.Position(1,1);if(ne>re)return new i.Position(re,this.getLineMaxColumn(re));if(oe<=1)return new i.Position(ne,1);const ge=this.getLineMaxColumn(ne);if(oe>=ge)return new i.Position(ne,ge);if(ie===1){const ve=this._buffer.getLineCharCode(ne,oe-2);if(m.isHighSurrogate(ve))return new i.Position(ne,oe-1)}return new i.Position(ne,oe)}validatePosition(W){return this._assertNotDisposed(),W instanceof i.Position&&this._isValidPosition(W.lineNumber,W.column,1)?W:this._validatePosition(W.lineNumber,W.column,1)}_isValidRange(W,K){const ie=W.startLineNumber,ne=W.startColumn,oe=W.endLineNumber,re=W.endColumn;if(!this._isValidPosition(ie,ne,0)||!this._isValidPosition(oe,re,0))return!1;if(K===1){const ge=ne>1?this._buffer.getLineCharCode(ie,ne-2):0,ve=re>1&&re<=this._buffer.getLineLength(oe)?this._buffer.getLineCharCode(oe,re-2):0,we=m.isHighSurrogate(ge),ye=m.isHighSurrogate(ve);return!we&&!ye}return!0}validateRange(W){if(this._assertNotDisposed(),W instanceof t.Range&&!(W instanceof n.Selection)&&this._isValidRange(W,1))return W;const ie=this._validatePosition(W.startLineNumber,W.startColumn,0),ne=this._validatePosition(W.endLineNumber,W.endColumn,0),oe=ie.lineNumber,re=ie.column,ge=ne.lineNumber,ve=ne.column;{const we=re>1?this._buffer.getLineCharCode(oe,re-2):0,ye=ve>1&&ve<=this._buffer.getLineLength(ge)?this._buffer.getLineCharCode(ge,ve-2):0,Ie=m.isHighSurrogate(we),Ee=m.isHighSurrogate(ye);return!Ie&&!Ee?new t.Range(oe,re,ge,ve):oe===ge&&re===ve?new t.Range(oe,re-1,ge,ve-1):Ie&&Ee?new t.Range(oe,re-1,ge,ve+1):Ie?new t.Range(oe,re-1,ge,ve):new t.Range(oe,re,ge,ve+1)}return new t.Range(oe,re,ge,ve)}modifyPosition(W,K){this._assertNotDisposed();const ie=this.getOffsetAt(W)+K;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,ie)))}getFullModelRange(){this._assertNotDisposed();const W=this.getLineCount();return new t.Range(1,1,W,this.getLineMaxColumn(W))}findMatchesLineByLine(W,K,ie,ne){return this._buffer.findMatchesLineByLine(W,K,ie,ne)}findMatches(W,K,ie,ne,oe,re,ge=O){this._assertNotDisposed();let ve=null;K!==null&&(Array.isArray(K)||(K=[K]),K.every(Ie=>t.Range.isIRange(Ie))&&(ve=K.map(Ie=>this.validateRange(Ie)))),ve===null&&(ve=[this.getFullModelRange()]),ve=ve.sort((Ie,Ee)=>Ie.startLineNumber-Ee.startLineNumber||Ie.startColumn-Ee.startColumn);const we=[];we.push(ve.reduce((Ie,Ee)=>t.Range.areIntersecting(Ie,Ee)?Ie.plusRange(Ee):(we.push(Ie),Ee)));let ye;if(!ie&&W.indexOf(`
`)<0){const Ee=new w.SearchParams(W,ie,ne,oe).parseSearchRequest();if(!Ee)return[];ye=De=>this.findMatchesLineByLine(De,Ee,re,ge)}else ye=Ie=>w.TextModelSearch.findMatches(this,new w.SearchParams(W,ie,ne,oe),Ie,re,ge);return we.map(ye).reduce((Ie,Ee)=>Ie.concat(Ee),[])}findNextMatch(W,K,ie,ne,oe,re){this._assertNotDisposed();const ge=this.validatePosition(K);if(!ie&&W.indexOf(`
`)<0){const we=new w.SearchParams(W,ie,ne,oe).parseSearchRequest();if(!we)return null;const ye=this.getLineCount();let Ie=new t.Range(ge.lineNumber,ge.column,ye,this.getLineMaxColumn(ye)),Ee=this.findMatchesLineByLine(Ie,we,re,1);return w.TextModelSearch.findNextMatch(this,new w.SearchParams(W,ie,ne,oe),ge,re),Ee.length>0||(Ie=new t.Range(1,1,ge.lineNumber,this.getLineMaxColumn(ge.lineNumber)),Ee=this.findMatchesLineByLine(Ie,we,re,1),Ee.length>0)?Ee[0]:null}return w.TextModelSearch.findNextMatch(this,new w.SearchParams(W,ie,ne,oe),ge,re)}findPreviousMatch(W,K,ie,ne,oe,re){this._assertNotDisposed();const ge=this.validatePosition(K);return w.TextModelSearch.findPreviousMatch(this,new w.SearchParams(W,ie,ne,oe),ge,re)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(W){if((this.getEOL()===`
`?0:1)!==W)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(W)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(W){return W instanceof s.ValidAnnotatedEditOperation?W:new s.ValidAnnotatedEditOperation(W.identifier||null,this.validateRange(W.range),W.text,W.forceMoveMarkers||!1,W.isAutoWhitespaceEdit||!1,W._isTracked||!1)}_validateEditOperations(W){const K=[];for(let ie=0,ne=W.length;ie<ne;ie++)K[ie]=this._validateEditOperation(W[ie]);return K}pushEditOperations(W,K,ie,ne){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(W,this._validateEditOperations(K),ie,ne)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(W,K,ie,ne){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const oe=K.map(ge=>({range:this.validateRange(ge.range),text:ge.text}));let re=!0;if(W)for(let ge=0,ve=W.length;ge<ve;ge++){const we=W[ge];let ye=!1;for(let Ie=0,Ee=oe.length;Ie<Ee;Ie++){const De=oe[Ie].range,Ae=De.startLineNumber>we.endLineNumber,Te=we.startLineNumber>De.endLineNumber;if(!Ae&&!Te){ye=!0;break}}if(!ye){re=!1;break}}if(re)for(let ge=0,ve=this._trimAutoWhitespaceLines.length;ge<ve;ge++){const we=this._trimAutoWhitespaceLines[ge],ye=this.getLineMaxColumn(we);let Ie=!0;for(let Ee=0,De=oe.length;Ee<De;Ee++){const Ae=oe[Ee].range,Te=oe[Ee].text;if(!(we<Ae.startLineNumber||we>Ae.endLineNumber)&&!(we===Ae.startLineNumber&&Ae.startColumn===ye&&Ae.isEmpty()&&Te&&Te.length>0&&Te.charAt(0)===`
`)&&!(we===Ae.startLineNumber&&Ae.startColumn===1&&Ae.isEmpty()&&Te&&Te.length>0&&Te.charAt(Te.length-1)===`
`)){Ie=!1;break}}if(Ie){const Ee=new t.Range(we,1,we,ye);K.push(new s.ValidAnnotatedEditOperation(null,Ee,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(W,K,ie,ne)}_applyUndo(W,K,ie,ne){const oe=W.map(re=>{const ge=this.getPositionAt(re.newPosition),ve=this.getPositionAt(re.newEnd);return{range:new t.Range(ge.lineNumber,ge.column,ve.lineNumber,ve.column),text:re.oldText}});this._applyUndoRedoEdits(oe,K,!0,!1,ie,ne)}_applyRedo(W,K,ie,ne){const oe=W.map(re=>{const ge=this.getPositionAt(re.oldPosition),ve=this.getPositionAt(re.oldEnd);return{range:new t.Range(ge.lineNumber,ge.column,ve.lineNumber,ve.column),text:re.newText}});this._applyUndoRedoEdits(oe,K,!1,!0,ie,ne)}_applyUndoRedoEdits(W,K,ie,ne,oe,re){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=ie,this._isRedoing=ne,this.applyEdits(W,!1),this.setEOL(K),this._overwriteAlternativeVersionId(oe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(re),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(W,K=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const ie=this._validateEditOperations(W);return this._doApplyEdits(ie,K)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(W,K){const ie=this._buffer.getLineCount(),ne=this._buffer.applyEdits(W,this._options.trimAutoWhitespace,K),oe=this._buffer.getLineCount(),re=ne.changes;if(this._trimAutoWhitespaceLines=ne.trimAutoWhitespaceLineNumbers,re.length!==0){for(let we=0,ye=re.length;we<ye;we++){const Ie=re[we];this._decorationsTree.acceptReplace(Ie.rangeOffset,Ie.rangeLength,Ie.text.length,Ie.forceMoveMarkers)}const ge=[];this._increaseVersionId();let ve=ie;for(let we=0,ye=re.length;we<ye;we++){const Ie=re[we],[Ee]=(0,f.countEOL)(Ie.text);this._onDidChangeDecorations.fire();const De=Ie.range.startLineNumber,Ae=Ie.range.endLineNumber,Te=Ae-De,be=Ee,me=Math.min(Te,be),Se=be-Te,he=oe-ve-Se+De,Ce=he,pe=he+be,_e=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new i.Position(Ce,1)),this.getOffsetAt(new i.Position(pe,this.getLineMaxColumn(pe))),0),ke=I.LineInjectedText.fromDecorations(_e),Re=new y.ArrayQueue(ke);for(let Pe=me;Pe>=0;Pe--){const Fe=De+Pe,We=he+Pe;Re.takeFromEndWhile(Ke=>Ke.lineNumber>We);const xe=Re.takeFromEndWhile(Ke=>Ke.lineNumber===We);ge.push(new I.ModelRawLineChanged(Fe,this.getLineContent(We),xe))}if(me<Te){const Pe=De+me;ge.push(new I.ModelRawLinesDeleted(Pe+1,Ae))}if(me<be){const Pe=new y.ArrayQueue(ke),Fe=De+me,We=be-me,xe=oe-ve-We+Fe+1,Ke=[],je=[];for(let Je=0;Je<We;Je++){const ze=xe+Je;je[Je]=this.getLineContent(ze),Pe.takeWhile(Me=>Me.lineNumber<ze),Ke[Je]=Pe.takeWhile(Me=>Me.lineNumber===ze)}ge.push(new I.ModelRawLinesInserted(Fe+1,De+be,je,Ke))}ve+=Se}this._emitContentChangedEvent(new I.ModelRawContentChangedEvent(ge,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:re,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return ne.reverseEdits===null?void 0:ne.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(W){if(W===null||W.size===0)return;const ie=Array.from(W).map(ne=>new I.ModelRawLineChanged(ne,this.getLineContent(ne),this._getInjectedTextInLine(ne)));this._onDidChangeInjectedText.fire(new I.ModelInjectedTextChangedEvent(ie))}changeDecorations(W,K=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(K,W)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(W,K){const ie={addDecoration:(oe,re)=>this._deltaDecorationsImpl(W,[],[{range:oe,options:re}])[0],changeDecoration:(oe,re)=>{this._changeDecorationImpl(oe,re)},changeDecorationOptions:(oe,re)=>{this._changeDecorationOptionsImpl(oe,Q(re))},removeDecoration:oe=>{this._deltaDecorationsImpl(W,[oe],[])},deltaDecorations:(oe,re)=>oe.length===0&&re.length===0?[]:this._deltaDecorationsImpl(W,oe,re)};let ne=null;try{ne=K(ie)}catch(oe){(0,L.onUnexpectedError)(oe)}return ie.addDecoration=B,ie.changeDecoration=B,ie.changeDecorationOptions=B,ie.removeDecoration=B,ie.deltaDecorations=B,ne}deltaDecorations(W,K,ie=0){if(this._assertNotDisposed(),W||(W=[]),W.length===0&&K.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,L.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(ie,W,K)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(W){return this.getDecorationRange(W)}_setTrackedRange(W,K,ie){const ne=W?this._decorations[W]:null;if(!ne)return K?this._deltaDecorationsImpl(0,[],[{range:K,options:X[ie]}],!0)[0]:null;if(!K)return this._decorationsTree.delete(ne),delete this._decorations[ne.id],null;const oe=this._validateRangeRelaxedNoAllocations(K),re=this._buffer.getOffsetAt(oe.startLineNumber,oe.startColumn),ge=this._buffer.getOffsetAt(oe.endLineNumber,oe.endColumn);return this._decorationsTree.delete(ne),ne.reset(this.getVersionId(),re,ge,oe),ne.setOptions(X[ie]),this._decorationsTree.insert(ne),ne.id}removeAllDecorationsWithOwnerId(W){if(this._isDisposed)return;const K=this._decorationsTree.collectNodesFromOwner(W);for(let ie=0,ne=K.length;ie<ne;ie++){const oe=K[ie];this._decorationsTree.delete(oe),delete this._decorations[oe.id]}}getDecorationOptions(W){const K=this._decorations[W];return K?K.options:null}getDecorationRange(W){const K=this._decorations[W];return K?this._decorationsTree.getNodeRange(this,K):null}getLineDecorations(W,K=0,ie=!1){return W<1||W>this.getLineCount()?[]:this.getLinesDecorations(W,W,K,ie)}getLinesDecorations(W,K,ie=0,ne=!1,oe=!1){const re=this.getLineCount(),ge=Math.min(re,Math.max(1,W)),ve=Math.min(re,Math.max(1,K)),we=this.getLineMaxColumn(ve),ye=new t.Range(ge,1,ve,we),Ie=this._getDecorationsInRange(ye,ie,ne,oe);return(0,y.pushMany)(Ie,this._decorationProvider.getDecorationsInRange(ye,ie,ne)),Ie}getDecorationsInRange(W,K=0,ie=!1,ne=!1,oe=!1){const re=this.validateRange(W),ge=this._getDecorationsInRange(re,K,ie,oe);return(0,y.pushMany)(ge,this._decorationProvider.getDecorationsInRange(re,K,ie,ne)),ge}getOverviewRulerDecorations(W=0,K=!1){return this._decorationsTree.getAll(this,W,K,!0,!1)}getInjectedTextDecorations(W=0){return this._decorationsTree.getAllInjectedText(this,W)}_getInjectedTextInLine(W){const K=this._buffer.getOffsetAt(W,1),ie=K+this._buffer.getLineLength(W),ne=this._decorationsTree.getInjectedTextInInterval(this,K,ie,0);return I.LineInjectedText.fromDecorations(ne).filter(oe=>oe.lineNumber===W)}getAllDecorations(W=0,K=!1){let ie=this._decorationsTree.getAll(this,W,K,!1,!1);return ie=ie.concat(this._decorationProvider.getAllDecorations(W,K)),ie}getAllMarginDecorations(W=0){return this._decorationsTree.getAll(this,W,!1,!1,!0)}_getDecorationsInRange(W,K,ie,ne){const oe=this._buffer.getOffsetAt(W.startLineNumber,W.startColumn),re=this._buffer.getOffsetAt(W.endLineNumber,W.endColumn);return this._decorationsTree.getAllInInterval(this,oe,re,K,ie,ne)}getRangeAt(W,K){return this._buffer.getRangeAt(W,K-W)}_changeDecorationImpl(W,K){const ie=this._decorations[W];if(!ie)return;if(ie.options.after){const ge=this.getDecorationRange(W);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.endLineNumber)}if(ie.options.before){const ge=this.getDecorationRange(W);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ge.startLineNumber)}const ne=this._validateRangeRelaxedNoAllocations(K),oe=this._buffer.getOffsetAt(ne.startLineNumber,ne.startColumn),re=this._buffer.getOffsetAt(ne.endLineNumber,ne.endColumn);this._decorationsTree.delete(ie),ie.reset(this.getVersionId(),oe,re,ne),this._decorationsTree.insert(ie),this._onDidChangeDecorations.checkAffectedAndFire(ie.options),ie.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ne.endLineNumber),ie.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ne.startLineNumber)}_changeDecorationOptionsImpl(W,K){const ie=this._decorations[W];if(!ie)return;const ne=!!(ie.options.overviewRuler&&ie.options.overviewRuler.color),oe=!!(K.overviewRuler&&K.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(ie.options),this._onDidChangeDecorations.checkAffectedAndFire(K),ie.options.after||K.after){const re=this._decorationsTree.getNodeRange(this,ie);this._onDidChangeDecorations.recordLineAffectedByInjectedText(re.endLineNumber)}if(ie.options.before||K.before){const re=this._decorationsTree.getNodeRange(this,ie);this._onDidChangeDecorations.recordLineAffectedByInjectedText(re.startLineNumber)}ne!==oe?(this._decorationsTree.delete(ie),ie.setOptions(K),this._decorationsTree.insert(ie)):ie.setOptions(K)}_deltaDecorationsImpl(W,K,ie,ne=!1){const oe=this.getVersionId(),re=K.length;let ge=0;const ve=ie.length;let we=0;this._onDidChangeDecorations.beginDeferredEmit();try{const ye=new Array(ve);for(;ge<re||we<ve;){let Ie=null;if(ge<re){do Ie=this._decorations[K[ge++]];while(!Ie&&ge<re);if(Ie){if(Ie.options.after){const Ee=this._decorationsTree.getNodeRange(this,Ie);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.endLineNumber)}if(Ie.options.before){const Ee=this._decorationsTree.getNodeRange(this,Ie);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.startLineNumber)}this._decorationsTree.delete(Ie),ne||this._onDidChangeDecorations.checkAffectedAndFire(Ie.options)}}if(we<ve){if(!Ie){const me=++this._lastDecorationId,Se=`${this._instanceId};${me}`;Ie=new g.IntervalNode(Se,0,0),this._decorations[Se]=Ie}const Ee=ie[we],De=this._validateRangeRelaxedNoAllocations(Ee.range),Ae=Q(Ee.options),Te=this._buffer.getOffsetAt(De.startLineNumber,De.startColumn),be=this._buffer.getOffsetAt(De.endLineNumber,De.endColumn);Ie.ownerId=W,Ie.reset(oe,Te,be,De),Ie.setOptions(Ae),Ie.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(De.endLineNumber),Ie.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(De.startLineNumber),ne||this._onDidChangeDecorations.checkAffectedAndFire(Ae),this._decorationsTree.insert(Ie),ye[we]=Ie.id,we++}else Ie&&delete this._decorations[Ie.id]}return ye}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(W,K){typeof W=="string"?(this._languageSelectionListener.clear(),this._setLanguage(W,K)):(this._languageSelectionListener.value=W.onDidChange(()=>this._setLanguage(W.languageId,K)),this._setLanguage(W.languageId,K))}_setLanguage(W,K){this.tokenization.setLanguageId(W,K),this._languageService.requestRichLanguageFeatures(W)}getLanguageIdAtPosition(W,K){return this.tokenization.getLanguageIdAtPosition(W,K)}getWordAtPosition(W){return this._tokenizationTextModelPart.getWordAtPosition(W)}getWordUntilPosition(W){return this._tokenizationTextModelPart.getWordUntilPosition(W)}normalizePosition(W,K){return W}getLineIndentColumn(W){return j(this.getLineContent(W))+1}};e.TextModel=z,z._MODEL_SYNC_LIMIT=50*1024*1024,z.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,z.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,z.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:r.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:r.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:r.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:r.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:r.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:r.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},e.TextModel=z=Ne([fe(4,T.IUndoRedoService),fe(5,l.ILanguageService),fe(6,h.ILanguageConfigurationService)],z);function j(q){let W=0;for(const K of q)if(K===" "||K==="	")W++;else break;return W}function R(q){return!!(q.options.overviewRuler&&q.options.overviewRuler.color)}function Z(q){return!!q.options.after||!!q.options.before}class se{constructor(){this._decorationsTree0=new g.IntervalTree,this._decorationsTree1=new g.IntervalTree,this._injectedTextDecorationsTree=new g.IntervalTree}ensureAllNodesHaveRanges(W){this.getAll(W,0,!1,!1,!1)}_ensureNodesHaveRanges(W,K){for(const ie of K)ie.range===null&&(ie.range=W.getRangeAt(ie.cachedAbsoluteStart,ie.cachedAbsoluteEnd));return K}getAllInInterval(W,K,ie,ne,oe,re){const ge=W.getVersionId(),ve=this._intervalSearch(K,ie,ne,oe,ge,re);return this._ensureNodesHaveRanges(W,ve)}_intervalSearch(W,K,ie,ne,oe,re){const ge=this._decorationsTree0.intervalSearch(W,K,ie,ne,oe,re),ve=this._decorationsTree1.intervalSearch(W,K,ie,ne,oe,re),we=this._injectedTextDecorationsTree.intervalSearch(W,K,ie,ne,oe,re);return ge.concat(ve).concat(we)}getInjectedTextInInterval(W,K,ie,ne){const oe=W.getVersionId(),re=this._injectedTextDecorationsTree.intervalSearch(K,ie,ne,!1,oe,!1);return this._ensureNodesHaveRanges(W,re).filter(ge=>ge.options.showIfCollapsed||!ge.range.isEmpty())}getAllInjectedText(W,K){const ie=W.getVersionId(),ne=this._injectedTextDecorationsTree.search(K,!1,ie,!1);return this._ensureNodesHaveRanges(W,ne).filter(oe=>oe.options.showIfCollapsed||!oe.range.isEmpty())}getAll(W,K,ie,ne,oe){const re=W.getVersionId(),ge=this._search(K,ie,ne,re,oe);return this._ensureNodesHaveRanges(W,ge)}_search(W,K,ie,ne,oe){if(ie)return this._decorationsTree1.search(W,K,ne,oe);{const re=this._decorationsTree0.search(W,K,ne,oe),ge=this._decorationsTree1.search(W,K,ne,oe),ve=this._injectedTextDecorationsTree.search(W,K,ne,oe);return re.concat(ge).concat(ve)}}collectNodesFromOwner(W){const K=this._decorationsTree0.collectNodesFromOwner(W),ie=this._decorationsTree1.collectNodesFromOwner(W),ne=this._injectedTextDecorationsTree.collectNodesFromOwner(W);return K.concat(ie).concat(ne)}collectNodesPostOrder(){const W=this._decorationsTree0.collectNodesPostOrder(),K=this._decorationsTree1.collectNodesPostOrder(),ie=this._injectedTextDecorationsTree.collectNodesPostOrder();return W.concat(K).concat(ie)}insert(W){Z(W)?this._injectedTextDecorationsTree.insert(W):R(W)?this._decorationsTree1.insert(W):this._decorationsTree0.insert(W)}delete(W){Z(W)?this._injectedTextDecorationsTree.delete(W):R(W)?this._decorationsTree1.delete(W):this._decorationsTree0.delete(W)}getNodeRange(W,K){const ie=W.getVersionId();return K.cachedVersionId!==ie&&this._resolveNode(K,ie),K.range===null&&(K.range=W.getRangeAt(K.cachedAbsoluteStart,K.cachedAbsoluteEnd)),K.range}_resolveNode(W,K){Z(W)?this._injectedTextDecorationsTree.resolveNode(W,K):R(W)?this._decorationsTree1.resolveNode(W,K):this._decorationsTree0.resolveNode(W,K)}acceptReplace(W,K,ie,ne){this._decorationsTree0.acceptReplace(W,K,ie,ne),this._decorationsTree1.acceptReplace(W,K,ie,ne),this._injectedTextDecorationsTree.acceptReplace(W,K,ie,ne)}}function le(q){return q.replace(/[^a-z0-9\-_]/gi," ")}class te{constructor(W){this.color=W.color||"",this.darkColor=W.darkColor||""}}class Y extends te{constructor(W){super(W),this._resolvedColor=null,this.position=typeof W.position=="number"?W.position:s.OverviewRulerLane.Center}getColor(W){return this._resolvedColor||(W.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,W):this._resolvedColor=this._resolveColor(this.color,W)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(W,K){if(typeof W=="string")return W;const ie=W?K.getColor(W.id):null;return ie?ie.toString():""}}e.ModelDecorationOverviewRulerOptions=Y;class U{constructor(W){var K;this.position=(K=W?.position)!==null&&K!==void 0?K:s.GlyphMarginLane.Left}}e.ModelDecorationGlyphMarginOptions=U;class V extends te{constructor(W){super(W),this.position=W.position}getColor(W){return this._resolvedColor||(W.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,W):this._resolvedColor=this._resolveColor(this.color,W)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(W,K){return typeof W=="string"?k.Color.fromHex(W):K.getColor(W.id)}}e.ModelDecorationMinimapOptions=V;class H{static from(W){return W instanceof H?W:new H(W)}constructor(W){this.content=W.content||"",this.inlineClassName=W.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=W.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=W.attachedData||null,this.cursorStops=W.cursorStops||null}}e.ModelDecorationInjectedTextOptions=H;class ${static register(W){return new $(W)}static createDynamic(W){return new $(W)}constructor(W){var K,ie,ne,oe,re,ge;this.description=W.description,this.blockClassName=W.blockClassName?le(W.blockClassName):null,this.blockDoesNotCollapse=(K=W.blockDoesNotCollapse)!==null&&K!==void 0?K:null,this.blockIsAfterEnd=(ie=W.blockIsAfterEnd)!==null&&ie!==void 0?ie:null,this.blockPadding=(ne=W.blockPadding)!==null&&ne!==void 0?ne:null,this.stickiness=W.stickiness||0,this.zIndex=W.zIndex||0,this.className=W.className?le(W.className):null,this.shouldFillLineOnLineBreak=(oe=W.shouldFillLineOnLineBreak)!==null&&oe!==void 0?oe:null,this.hoverMessage=W.hoverMessage||null,this.glyphMarginHoverMessage=W.glyphMarginHoverMessage||null,this.isWholeLine=W.isWholeLine||!1,this.showIfCollapsed=W.showIfCollapsed||!1,this.collapseOnReplaceEdit=W.collapseOnReplaceEdit||!1,this.overviewRuler=W.overviewRuler?new Y(W.overviewRuler):null,this.minimap=W.minimap?new V(W.minimap):null,this.glyphMargin=W.glyphMarginClassName?new U(W.glyphMargin):null,this.glyphMarginClassName=W.glyphMarginClassName?le(W.glyphMarginClassName):null,this.linesDecorationsClassName=W.linesDecorationsClassName?le(W.linesDecorationsClassName):null,this.firstLineDecorationClassName=W.firstLineDecorationClassName?le(W.firstLineDecorationClassName):null,this.marginClassName=W.marginClassName?le(W.marginClassName):null,this.inlineClassName=W.inlineClassName?le(W.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=W.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=W.beforeContentClassName?le(W.beforeContentClassName):null,this.afterContentClassName=W.afterContentClassName?le(W.afterContentClassName):null,this.after=W.after?H.from(W.after):null,this.before=W.before?H.from(W.before):null,this.hideInCommentTokens=(re=W.hideInCommentTokens)!==null&&re!==void 0?re:!1,this.hideInStringTokens=(ge=W.hideInStringTokens)!==null&&ge!==void 0?ge:!1}}e.ModelDecorationOptions=$,$.EMPTY=$.register({description:"empty"});const X=[$.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),$.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),$.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),$.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Q(q){return q instanceof $?q:$.createDynamic(q)}class de extends _.Disposable{constructor(W){super(),this.handleBeforeFire=W,this._actual=this._register(new D.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var W;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(W=this._affectedInjectedTextLines)===null||W===void 0||W.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(W){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(W)}checkAffectedAndFire(W){this._affectsMinimap||(this._affectsMinimap=!!(W.minimap&&W.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(W.overviewRuler&&W.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!W.glyphMarginClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const W={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(W)}}class ce extends _.Disposable{constructor(){super(),this._fastEmitter=this._register(new D.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new D.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(W=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=W;const K=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(K),this._slowEmitter.fire(K)}}fire(W){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(W):this._deferredEvent=W;return}this._fastEmitter.fire(W),this._slowEmitter.fire(W)}}class ae{constructor(){this._onDidChangeVisibleRanges=new D.Emitter,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const W=new ue(K=>{this._onDidChangeVisibleRanges.fire({view:W,state:K})});return this._views.add(W),W}detachView(W){this._views.delete(W),this._onDidChangeVisibleRanges.fire({view:W,state:void 0})}}e.AttachedViews=ae;class ue{constructor(W){this.handleStateChange=W}setVisibleLines(W,K){const ie=W.map(ne=>new o.LineRange(ne.startLineNumber,ne.endLineNumber+1));this.handleStateChange({visibleLineRanges:ie,stabilized:K})}}}),define(J[358],ee([1,0,26,55,27,39,603,63]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrowRevertChange=e.diffDeleteDecorationEmpty=e.diffWholeLineDeleteDecoration=e.diffDeleteDecoration=e.diffAddDecorationEmpty=e.diffWholeLineAddDecoration=e.diffAddDecoration=e.diffLineDeleteDecorationBackground=e.diffLineAddDecorationBackground=e.diffLineDeleteDecorationBackgroundWithIndicator=e.diffLineAddDecorationBackgroundWithIndicator=e.diffRemoveIcon=e.diffInsertIcon=void 0,e.diffInsertIcon=(0,m.registerIcon)("diff-insert",y.Codicon.add,(0,_.localize)(0,null)),e.diffRemoveIcon=(0,m.registerIcon)("diff-remove",y.Codicon.remove,(0,_.localize)(1,null)),e.diffLineAddDecorationBackgroundWithIndicator=D.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+L.ThemeIcon.asClassName(e.diffInsertIcon),marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackgroundWithIndicator=D.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+L.ThemeIcon.asClassName(e.diffRemoveIcon),marginClassName:"gutter-delete"}),e.diffLineAddDecorationBackground=D.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackground=D.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),e.diffAddDecoration=D.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),e.diffWholeLineAddDecoration=D.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),e.diffAddDecorationEmpty=D.ModelDecorationOptions.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),e.diffDeleteDecoration=D.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),e.diffWholeLineDeleteDecoration=D.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),e.diffDeleteDecorationEmpty=D.ModelDecorationOptions.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"}),e.arrowRevertChange=D.ModelDecorationOptions.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new k.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,_.localize)(2,null)),glyphMarginClassName:"arrow-revert-change "+L.ThemeIcon.asClassName(y.Codicon.arrowRight),zIndex:10001})}),define(J[861],ee([1,0,2,42,18,358,270,121,61,11,5]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorDecorations=void 0;class o extends y.Disposable{constructor(t,n,r){super(),this._editors=t,this._diffModel=n,this._options=r,this._decorations=(0,k.derived)("decorations",l=>{var h;const s=(h=this._diffModel.read(l))===null||h===void 0?void 0:h.diff.read(l);if(!s)return null;const u=this._diffModel.read(l).syncedMovedTexts.read(l),a=this._options.renderIndicators.read(l),d=this._options.showEmptyDecorations.read(l),c=[],b=[];for(const g of s.mappings){const p=S.LineRange.subtract(g.lineRangeMapping.originalRange,u?.lineRangeMapping.original).map(w=>w.toInclusiveRange()).filter(L.isDefined);for(const w of p)c.push({range:w,options:a?D.diffLineDeleteDecorationBackgroundWithIndicator:D.diffLineDeleteDecorationBackground});const C=S.LineRange.subtract(g.lineRangeMapping.modifiedRange,u?.lineRangeMapping.modified).map(w=>w.toInclusiveRange()).filter(L.isDefined);for(const w of C)b.push({range:w,options:a?D.diffLineAddDecorationBackgroundWithIndicator:D.diffLineAddDecorationBackground});if(g.lineRangeMapping.modifiedRange.isEmpty||g.lineRangeMapping.originalRange.isEmpty){for(const w of p)c.push({range:w,options:D.diffWholeLineDeleteDecoration});for(const w of C)b.push({range:w,options:D.diffWholeLineAddDecoration})}else for(const w of g.lineRangeMapping.innerChanges||[])u&&(u.lineRangeMapping.original.intersect(new S.LineRange(w.originalRange.startLineNumber,w.originalRange.endLineNumber))||u.lineRangeMapping.modified.intersect(new S.LineRange(w.modifiedRange.startLineNumber,w.modifiedRange.endLineNumber)))||(g.lineRangeMapping.originalRange.contains(w.originalRange.startLineNumber)&&c.push({range:w.originalRange,options:w.originalRange.isEmpty()&&d?D.diffDeleteDecorationEmpty:D.diffDeleteDecoration}),g.lineRangeMapping.modifiedRange.contains(w.modifiedRange.startLineNumber)&&b.push({range:w.modifiedRange,options:w.modifiedRange.isEmpty()&&d?D.diffAddDecorationEmpty:D.diffAddDecoration}));!g.lineRangeMapping.modifiedRange.isEmpty&&this._options.shouldRenderRevertArrows.read(l)&&!u&&b.push({range:v.Range.fromPositions(new f.Position(g.lineRangeMapping.modifiedRange.startLineNumber,1)),options:D.arrowRevertChange})}if(u)for(const g of u.changes){const p=g.originalRange.toInclusiveRange();p&&c.push({range:p,options:a?D.diffLineDeleteDecorationBackgroundWithIndicator:D.diffLineDeleteDecorationBackground});const C=g.modifiedRange.toInclusiveRange();C&&b.push({range:C,options:a?D.diffLineAddDecorationBackgroundWithIndicator:D.diffLineAddDecorationBackground});for(const w of g.innerChanges||[])c.push({range:w.originalRange,options:D.diffDeleteDecoration}),b.push({range:w.modifiedRange,options:D.diffAddDecoration})}for(const g of s.movedTexts)c.push({range:g.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal",blockPadding:[_.MovedBlocksLinesPart.movedCodeBlockPadding,0,_.MovedBlocksLinesPart.movedCodeBlockPadding,_.MovedBlocksLinesPart.movedCodeBlockPadding]}}),b.push({range:g.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified",blockPadding:[4,0,4,4]}});return{originalDecorations:c,modifiedDecorations:b}}),this._register((0,m.applyObservableDecorations)(this._editors.original,this._decorations.map(l=>l?.originalDecorations||[]))),this._register((0,m.applyObservableDecorations)(this._editors.modified,this._decorations.map(l=>l?.modifiedDecorations||[])))}}e.DiffEditorDecorations=o}),define(J[862],ee([1,0,6,2,17,39,177,77,41,189,28,194,145,325,54,46,31]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelService=void 0;function h(b){return b.toString()}function s(b){const g=new i.StringSHA1,p=b.createSnapshot();let C;for(;C=p.read();)g.update(C);return g.digest()}class u{constructor(g,p,C){this.model=g,this._modelEventListeners=new k.DisposableStore,this.model=g,this._modelEventListeners.add(g.onWillDispose(()=>p(g))),this._modelEventListeners.add(g.onDidChangeLanguage(w=>C(g,w)))}dispose(){this._modelEventListeners.dispose()}}const a=L.isLinux||L.isMacintosh?1:2;class d{constructor(g,p,C,w,E,I,T,P){this.uri=g,this.initialUndoRedoSnapshot=p,this.time=C,this.sharesUndoRedoStack=w,this.heapSize=E,this.sha1=I,this.versionId=T,this.alternativeVersionId=P}}let c=class Kt extends k.Disposable{constructor(g,p,C,w,E){super(),this._configurationService=g,this._resourcePropertiesService=p,this._undoRedoService=C,this._languageService=w,this._languageConfigurationService=E,this._onModelAdded=this._register(new y.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new y.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new y.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(I=>this._updateModelOptions(I))),this._updateModelOptions(void 0)}static _readModelOptions(g,p){var C;let w=_.EDITOR_MODEL_DEFAULTS.tabSize;if(g.editor&&typeof g.editor.tabSize<"u"){const x=parseInt(g.editor.tabSize,10);isNaN(x)||(w=x),w<1&&(w=1)}let E="tabSize";if(g.editor&&typeof g.editor.indentSize<"u"&&g.editor.indentSize!=="tabSize"){const x=parseInt(g.editor.indentSize,10);isNaN(x)||(E=Math.max(x,1))}let I=_.EDITOR_MODEL_DEFAULTS.insertSpaces;g.editor&&typeof g.editor.insertSpaces<"u"&&(I=g.editor.insertSpaces==="false"?!1:!!g.editor.insertSpaces);let T=a;const P=g.eol;P===`\r
`?T=2:P===`
`&&(T=1);let A=_.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;g.editor&&typeof g.editor.trimAutoWhitespace<"u"&&(A=g.editor.trimAutoWhitespace==="false"?!1:!!g.editor.trimAutoWhitespace);let M=_.EDITOR_MODEL_DEFAULTS.detectIndentation;g.editor&&typeof g.editor.detectIndentation<"u"&&(M=g.editor.detectIndentation==="false"?!1:!!g.editor.detectIndentation);let N=_.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;g.editor&&typeof g.editor.largeFileOptimizations<"u"&&(N=g.editor.largeFileOptimizations==="false"?!1:!!g.editor.largeFileOptimizations);let O=_.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return!((C=g.editor)===null||C===void 0)&&C.bracketPairColorization&&typeof g.editor.bracketPairColorization=="object"&&(O={enabled:!!g.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!g.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:p,tabSize:w,indentSize:E,insertSpaces:I,detectIndentation:M,defaultEOL:T,trimAutoWhitespace:A,largeFileOptimizations:N,bracketPairColorizationOptions:O}}_getEOL(g,p){if(g)return this._resourcePropertiesService.getEOL(g,p);const C=this._configurationService.getValue("files.eol",{overrideIdentifier:p});return C&&typeof C=="string"&&C!=="auto"?C:L.OS===3||L.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const g=this._configurationService.getValue("files.restoreUndoStack");return typeof g=="boolean"?g:!0}getCreationOptions(g,p,C){const w=typeof g=="string"?g:g.languageId;let E=this._modelCreationOptionsByLanguageAndResource[w+p];if(!E){const I=this._configurationService.getValue("editor",{overrideIdentifier:w,resource:p}),T=this._getEOL(p,w);E=Kt._readModelOptions({editor:I,eol:T},C),this._modelCreationOptionsByLanguageAndResource[w+p]=E}return E}_updateModelOptions(g){const p=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const C=Object.keys(this._models);for(let w=0,E=C.length;w<E;w++){const I=C[w],T=this._models[I],P=T.model.getLanguageId(),A=T.model.uri;if(g&&!g.affectsConfiguration("editor",{overrideIdentifier:P,resource:A})&&!g.affectsConfiguration("files.eol",{overrideIdentifier:P,resource:A}))continue;const M=p[P+A],N=this.getCreationOptions(P,A,T.model.isForSimpleWidget);Kt._setModelOptionsForModel(T.model,N,M)}}static _setModelOptionsForModel(g,p,C){C&&C.defaultEOL!==p.defaultEOL&&g.getLineCount()===1&&g.setEOL(p.defaultEOL===1?0:1),!(C&&C.detectIndentation===p.detectIndentation&&C.insertSpaces===p.insertSpaces&&C.tabSize===p.tabSize&&C.indentSize===p.indentSize&&C.trimAutoWhitespace===p.trimAutoWhitespace&&(0,r.equals)(C.bracketPairColorizationOptions,p.bracketPairColorizationOptions))&&(p.detectIndentation?(g.detectIndentation(p.insertSpaces,p.tabSize),g.updateOptions({trimAutoWhitespace:p.trimAutoWhitespace,bracketColorizationOptions:p.bracketPairColorizationOptions})):g.updateOptions({insertSpaces:p.insertSpaces,tabSize:p.tabSize,indentSize:p.indentSize,trimAutoWhitespace:p.trimAutoWhitespace,bracketColorizationOptions:p.bracketPairColorizationOptions}))}_insertDisposedModel(g){this._disposedModels.set(h(g.uri),g),this._disposedModelsHeapSize+=g.heapSize}_removeDisposedModel(g){const p=this._disposedModels.get(h(g));return p&&(this._disposedModelsHeapSize-=p.heapSize),this._disposedModels.delete(h(g)),p}_ensureDisposedModelsHeapSize(g){if(this._disposedModelsHeapSize>g){const p=[];for(this._disposedModels.forEach(C=>{C.sharesUndoRedoStack||p.push(C)}),p.sort((C,w)=>C.time-w.time);p.length>0&&this._disposedModelsHeapSize>g;){const C=p.shift();this._removeDisposedModel(C.uri),C.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(C.initialUndoRedoSnapshot)}}}_createModelData(g,p,C,w){const E=this.getCreationOptions(p,C,w),I=new D.TextModel(g,p,E,C,this._undoRedoService,this._languageService,this._languageConfigurationService);if(C&&this._disposedModels.has(h(C))){const A=this._removeDisposedModel(C),M=this._undoRedoService.getElements(C),N=s(I)===A.sha1;if(N||A.sharesUndoRedoStack){for(const O of M.past)(0,t.isEditStackElement)(O)&&O.matchesResource(C)&&O.setModel(I);for(const O of M.future)(0,t.isEditStackElement)(O)&&O.matchesResource(C)&&O.setModel(I);this._undoRedoService.setElementsValidFlag(C,!0,O=>(0,t.isEditStackElement)(O)&&O.matchesResource(C)),N&&(I._overwriteVersionId(A.versionId),I._overwriteAlternativeVersionId(A.alternativeVersionId),I._overwriteInitialUndoRedoSnapshot(A.initialUndoRedoSnapshot))}else A.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(A.initialUndoRedoSnapshot)}const T=h(I.uri);if(this._models[T])throw new Error("ModelService: Cannot add model because it already exists!");const P=new u(I,A=>this._onWillDispose(A),(A,M)=>this._onDidChangeLanguage(A,M));return this._models[T]=P,P}createModel(g,p,C,w=!1){let E;return p?E=this._createModelData(g,p,C,w):E=this._createModelData(g,m.PLAINTEXT_LANGUAGE_ID,C,w),this._onModelAdded.fire(E.model),E.model}getModels(){const g=[],p=Object.keys(this._models);for(let C=0,w=p.length;C<w;C++){const E=p[C];g.push(this._models[E].model)}return g}getModel(g){const p=h(g),C=this._models[p];return C?C.model:null}_schemaShouldMaintainUndoRedoElements(g){return g.scheme===n.Schemas.file||g.scheme===n.Schemas.vscodeRemote||g.scheme===n.Schemas.vscodeUserData||g.scheme===n.Schemas.vscodeNotebookCell||g.scheme==="fake-fs"}_onWillDispose(g){const p=h(g.uri),C=this._models[p],w=this._undoRedoService.getUriComparisonKey(g.uri)!==g.uri.toString();let E=!1,I=0;if(w||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(g.uri)){const P=this._undoRedoService.getElements(g.uri);if(P.past.length>0||P.future.length>0){for(const A of P.past)(0,t.isEditStackElement)(A)&&A.matchesResource(g.uri)&&(E=!0,I+=A.heapSize(g.uri),A.setModel(g.uri));for(const A of P.future)(0,t.isEditStackElement)(A)&&A.matchesResource(g.uri)&&(E=!0,I+=A.heapSize(g.uri),A.setModel(g.uri))}}const T=Kt.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(E)if(!w&&I>T){const P=C.model.getInitialUndoRedoSnapshot();P!==null&&this._undoRedoService.restoreSnapshot(P)}else this._ensureDisposedModelsHeapSize(T-I),this._undoRedoService.setElementsValidFlag(g.uri,!1,P=>(0,t.isEditStackElement)(P)&&P.matchesResource(g.uri)),this._insertDisposedModel(new d(g.uri,C.model.getInitialUndoRedoSnapshot(),Date.now(),w,I,s(g),g.getVersionId(),g.getAlternativeVersionId()));else if(!w){const P=C.model.getInitialUndoRedoSnapshot();P!==null&&this._undoRedoService.restoreSnapshot(P)}delete this._models[p],C.dispose(),delete this._modelCreationOptionsByLanguageAndResource[g.getLanguageId()+g.uri],this._onModelRemoved.fire(g)}_onDidChangeLanguage(g,p){const C=p.oldLanguage,w=g.getLanguageId(),E=this.getCreationOptions(C,g.uri,g.isForSimpleWidget),I=this.getCreationOptions(w,g.uri,g.isForSimpleWidget);Kt._setModelOptionsForModel(g,I,E),this._onModelModeChanged.fire({model:g,oldLanguageId:C})}};e.ModelService=c,c.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,e.ModelService=c=Ne([fe(0,v.IConfigurationService),fe(1,f.ITextResourcePropertiesService),fe(2,o.IUndoRedoService),fe(3,S.ILanguageService),fe(4,l.ILanguageConfigurationService)],c)}),define(J[863],ee([1,0,15,11,5,210,39,111,212,526,280,67]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class i{constructor(a,d,c,b,g,p,C,w,E,I){this._editorId=a,this.model=d,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=c,this._monospaceLineBreaksComputerFactory=b,this.fontInfo=g,this.tabSize=p,this.wrappingStrategy=C,this.wrappingColumn=w,this.wrappingIndent=E,this.wordBreak=I,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new l(this)}_constructLines(a,d){this.modelLineProjections=[],a&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const c=this.model.getLinesContent(),b=this.model.getInjectedTextDecorations(this._editorId),g=c.length,p=this.createLineBreaksComputer(),C=new y.ArrayQueue(m.LineInjectedText.fromDecorations(b));for(let N=0;N<g;N++){const O=C.takeWhile(x=>x.lineNumber===N+1);p.addRequest(c[N],O,d?d[N]:null)}const w=p.finalize(),E=[],I=this.hiddenAreasDecorationIds.map(N=>this.model.getDecorationRange(N)).sort(L.Range.compareRangesUsingStarts);let T=1,P=0,A=-1,M=A+1<I.length?P+1:g+2;for(let N=0;N<g;N++){const O=N+1;O===M&&(A++,T=I[A].startLineNumber,P=I[A].endLineNumber,M=A+1<I.length?P+1:g+2);const x=O>=T&&O<=P,F=(0,f.createModelLineProjection)(w[N],!x);E[N]=F.getViewLineCount(),this.modelLineProjections[N]=F}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new v.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(a=>this.model.getDecorationRange(a))}setHiddenAreas(a){const d=a.map(P=>this.model.validateRange(P)),c=t(d),b=this.hiddenAreasDecorationIds.map(P=>this.model.getDecorationRange(P)).sort(L.Range.compareRangesUsingStarts);if(c.length===b.length){let P=!1;for(let A=0;A<c.length;A++)if(!c[A].equalsRange(b[A])){P=!0;break}if(!P)return!1}const g=c.map(P=>({range:P,options:_.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,g);const p=c;let C=1,w=0,E=-1,I=E+1<p.length?w+1:this.modelLineProjections.length+2,T=!1;for(let P=0;P<this.modelLineProjections.length;P++){const A=P+1;A===I&&(E++,C=p[E].startLineNumber,w=p[E].endLineNumber,I=E+1<p.length?w+1:this.modelLineProjections.length+2);let M=!1;if(A>=C&&A<=w?this.modelLineProjections[P].isVisible()&&(this.modelLineProjections[P]=this.modelLineProjections[P].setVisible(!1),M=!0):(T=!0,this.modelLineProjections[P].isVisible()||(this.modelLineProjections[P]=this.modelLineProjections[P].setVisible(!0),M=!0)),M){const N=this.modelLineProjections[P].getViewLineCount();this.projectedModelLineLineCounts.setValue(P,N)}}return T||this.setHiddenAreas([]),!0}modelPositionIsVisible(a,d){return a<1||a>this.modelLineProjections.length?!1:this.modelLineProjections[a-1].isVisible()}getModelLineViewLineCount(a){return a<1||a>this.modelLineProjections.length?1:this.modelLineProjections[a-1].getViewLineCount()}setTabSize(a){return this.tabSize===a?!1:(this.tabSize=a,this._constructLines(!1,null),!0)}setWrappingSettings(a,d,c,b,g){const p=this.fontInfo.equals(a),C=this.wrappingStrategy===d,w=this.wrappingColumn===c,E=this.wrappingIndent===b,I=this.wordBreak===g;if(p&&C&&w&&E&&I)return!1;const T=p&&C&&!w&&E&&I;this.fontInfo=a,this.wrappingStrategy=d,this.wrappingColumn=c,this.wrappingIndent=b,this.wordBreak=g;let P=null;if(T){P=[];for(let A=0,M=this.modelLineProjections.length;A<M;A++)P[A]=this.modelLineProjections[A].getProjectionData()}return this._constructLines(!1,P),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(a,d,c){if(!a||a<=this._validModelVersionId)return null;const b=d===1?1:this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,g=this.projectedModelLineLineCounts.getPrefixSum(c);return this.modelLineProjections.splice(d-1,c-d+1),this.projectedModelLineLineCounts.removeValues(d-1,c-d+1),new S.ViewLinesDeletedEvent(b,g)}onModelLinesInserted(a,d,c,b){if(!a||a<=this._validModelVersionId)return null;const g=d>2&&!this.modelLineProjections[d-2].isVisible(),p=d===1?1:this.projectedModelLineLineCounts.getPrefixSum(d-1)+1;let C=0;const w=[],E=[];for(let I=0,T=b.length;I<T;I++){const P=(0,f.createModelLineProjection)(b[I],!g);w.push(P);const A=P.getViewLineCount();C+=A,E[I]=A}return this.modelLineProjections=this.modelLineProjections.slice(0,d-1).concat(w).concat(this.modelLineProjections.slice(d-1)),this.projectedModelLineLineCounts.insertValues(d-1,E),new S.ViewLinesInsertedEvent(p,p+C-1)}onModelLineChanged(a,d,c){if(a!==null&&a<=this._validModelVersionId)return[!1,null,null,null];const b=d-1,g=this.modelLineProjections[b].getViewLineCount(),p=this.modelLineProjections[b].isVisible(),C=(0,f.createModelLineProjection)(c,p);this.modelLineProjections[b]=C;const w=this.modelLineProjections[b].getViewLineCount();let E=!1,I=0,T=-1,P=0,A=-1,M=0,N=-1;g>w?(I=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,T=I+w-1,M=T+1,N=M+(g-w)-1,E=!0):g<w?(I=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,T=I+g-1,P=T+1,A=P+(w-g)-1,E=!0):(I=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,T=I+w-1),this.projectedModelLineLineCounts.setValue(b,w);const O=I<=T?new S.ViewLinesChangedEvent(I,T-I+1):null,x=P<=A?new S.ViewLinesInsertedEvent(P,A):null,F=M<=N?new S.ViewLinesDeletedEvent(M,N):null;return[E,O,x,F]}acceptVersionId(a){this._validModelVersionId=a,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(a){if(a<1)return 1;const d=this.getViewLineCount();return a>d?d:a|0}getActiveIndentGuide(a,d,c){a=this._toValidViewLineNumber(a),d=this._toValidViewLineNumber(d),c=this._toValidViewLineNumber(c);const b=this.convertViewPositionToModelPosition(a,this.getViewLineMinColumn(a)),g=this.convertViewPositionToModelPosition(d,this.getViewLineMinColumn(d)),p=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),C=this.model.guides.getActiveIndentGuide(b.lineNumber,g.lineNumber,p.lineNumber),w=this.convertModelPositionToViewPosition(C.startLineNumber,1),E=this.convertModelPositionToViewPosition(C.endLineNumber,this.model.getLineMaxColumn(C.endLineNumber));return{startLineNumber:w.lineNumber,endLineNumber:E.lineNumber,indent:C.indent}}getViewLineInfo(a){a=this._toValidViewLineNumber(a);const d=this.projectedModelLineLineCounts.getIndexOf(a-1),c=d.index,b=d.remainder;return new n(c+1,b)}getMinColumnOfViewLine(a){return this.modelLineProjections[a.modelLineNumber-1].getViewLineMinColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(a){return this.modelLineProjections[a.modelLineNumber-1].getViewLineMaxColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(a){const d=this.modelLineProjections[a.modelLineNumber-1],c=d.getViewLineMinColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx),b=d.getModelColumnOfViewPosition(a.modelLineWrappedLineIdx,c);return new k.Position(a.modelLineNumber,b)}getModelEndPositionOfViewLine(a){const d=this.modelLineProjections[a.modelLineNumber-1],c=d.getViewLineMaxColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx),b=d.getModelColumnOfViewPosition(a.modelLineWrappedLineIdx,c);return new k.Position(a.modelLineNumber,b)}getViewLineInfosGroupedByModelRanges(a,d){const c=this.getViewLineInfo(a),b=this.getViewLineInfo(d),g=new Array;let p=this.getModelStartPositionOfViewLine(c),C=new Array;for(let w=c.modelLineNumber;w<=b.modelLineNumber;w++){const E=this.modelLineProjections[w-1];if(E.isVisible()){const I=w===c.modelLineNumber?c.modelLineWrappedLineIdx:0,T=w===b.modelLineNumber?b.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let P=I;P<T;P++)C.push(new n(w,P))}if(!E.isVisible()&&p){const I=new k.Position(w-1,this.model.getLineMaxColumn(w-1)+1),T=L.Range.fromPositions(p,I);g.push(new r(T,C)),C=[],p=null}else E.isVisible()&&!p&&(p=new k.Position(w,1))}if(p){const w=L.Range.fromPositions(p,this.getModelEndPositionOfViewLine(b));g.push(new r(w,C))}return g}getViewLinesBracketGuides(a,d,c,b){const g=c?this.convertViewPositionToModelPosition(c.lineNumber,c.column):null,p=[];for(const C of this.getViewLineInfosGroupedByModelRanges(a,d)){const w=C.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(w,C.modelRange.endLineNumber,g,b);for(const I of C.viewLines){const P=E[I.modelLineNumber-w].map(A=>{if(A.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesAfterColumn).lineNumber>=I.modelLineWrappedLineIdx||A.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesBeforeOrAtColumn).lineNumber<I.modelLineWrappedLineIdx)return;if(!A.horizontalLine)return A;let M=-1;if(A.column!==-1){const x=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.column);if(x.lineNumber===I.modelLineWrappedLineIdx)M=x.column;else if(x.lineNumber<I.modelLineWrappedLineIdx)M=this.getMinColumnOfViewLine(I);else if(x.lineNumber>I.modelLineWrappedLineIdx)return}const N=this.convertModelPositionToViewPosition(I.modelLineNumber,A.horizontalLine.endColumn),O=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.horizontalLine.endColumn);return O.lineNumber===I.modelLineWrappedLineIdx?new D.IndentGuide(A.visibleColumn,M,A.className,new D.IndentGuideHorizontalLine(A.horizontalLine.top,N.column),-1,-1):O.lineNumber<I.modelLineWrappedLineIdx||A.visibleColumn!==-1?void 0:new D.IndentGuide(A.visibleColumn,M,A.className,new D.IndentGuideHorizontalLine(A.horizontalLine.top,this.getMaxColumnOfViewLine(I)),-1,-1)});p.push(P.filter(A=>!!A))}}return p}getViewLinesIndentGuides(a,d){a=this._toValidViewLineNumber(a),d=this._toValidViewLineNumber(d);const c=this.convertViewPositionToModelPosition(a,this.getViewLineMinColumn(a)),b=this.convertViewPositionToModelPosition(d,this.getViewLineMaxColumn(d));let g=[];const p=[],C=[],w=c.lineNumber-1,E=b.lineNumber-1;let I=null;for(let M=w;M<=E;M++){const N=this.modelLineProjections[M];if(N.isVisible()){const O=N.getViewLineNumberOfModelPosition(0,M===w?c.column:1),x=N.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(M+1)),F=x-O+1;let B=0;F>1&&N.getViewLineMinColumn(this.model,M+1,x)===1&&(B=O===0?1:2),p.push(F),C.push(B),I===null&&(I=new k.Position(M+1,0))}else I!==null&&(g=g.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,M)),I=null)}I!==null&&(g=g.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,b.lineNumber)),I=null);const T=d-a+1,P=new Array(T);let A=0;for(let M=0,N=g.length;M<N;M++){let O=g[M];const x=Math.min(T-A,p[M]),F=C[M];let B;F===2?B=0:F===1?B=1:B=x;for(let z=0;z<x;z++)z===B&&(O=0),P[A++]=O}return P}getViewLineContent(a){const d=this.getViewLineInfo(a);return this.modelLineProjections[d.modelLineNumber-1].getViewLineContent(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineLength(a){const d=this.getViewLineInfo(a);return this.modelLineProjections[d.modelLineNumber-1].getViewLineLength(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineMinColumn(a){const d=this.getViewLineInfo(a);return this.modelLineProjections[d.modelLineNumber-1].getViewLineMinColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineMaxColumn(a){const d=this.getViewLineInfo(a);return this.modelLineProjections[d.modelLineNumber-1].getViewLineMaxColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineData(a){const d=this.getViewLineInfo(a);return this.modelLineProjections[d.modelLineNumber-1].getViewLineData(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLinesData(a,d,c){a=this._toValidViewLineNumber(a),d=this._toValidViewLineNumber(d);const b=this.projectedModelLineLineCounts.getIndexOf(a-1);let g=a;const p=b.index,C=b.remainder,w=[];for(let E=p,I=this.model.getLineCount();E<I;E++){const T=this.modelLineProjections[E];if(!T.isVisible())continue;const P=E===p?C:0;let A=T.getViewLineCount()-P,M=!1;if(g+A>d&&(M=!0,A=d-g+1),T.getViewLinesData(this.model,E+1,P,A,g-a,c,w),g+=A,M)break}return w}validateViewPosition(a,d,c){a=this._toValidViewLineNumber(a);const b=this.projectedModelLineLineCounts.getIndexOf(a-1),g=b.index,p=b.remainder,C=this.modelLineProjections[g],w=C.getViewLineMinColumn(this.model,g+1,p),E=C.getViewLineMaxColumn(this.model,g+1,p);d<w&&(d=w),d>E&&(d=E);const I=C.getModelColumnOfViewPosition(p,d);return this.model.validatePosition(new k.Position(g+1,I)).equals(c)?new k.Position(a,d):this.convertModelPositionToViewPosition(c.lineNumber,c.column)}validateViewRange(a,d){const c=this.validateViewPosition(a.startLineNumber,a.startColumn,d.getStartPosition()),b=this.validateViewPosition(a.endLineNumber,a.endColumn,d.getEndPosition());return new L.Range(c.lineNumber,c.column,b.lineNumber,b.column)}convertViewPositionToModelPosition(a,d){const c=this.getViewLineInfo(a),b=this.modelLineProjections[c.modelLineNumber-1].getModelColumnOfViewPosition(c.modelLineWrappedLineIdx,d);return this.model.validatePosition(new k.Position(c.modelLineNumber,b))}convertViewRangeToModelRange(a){const d=this.convertViewPositionToModelPosition(a.startLineNumber,a.startColumn),c=this.convertViewPositionToModelPosition(a.endLineNumber,a.endColumn);return new L.Range(d.lineNumber,d.column,c.lineNumber,c.column)}convertModelPositionToViewPosition(a,d,c=2,b=!1,g=!1){const p=this.model.validatePosition(new k.Position(a,d)),C=p.lineNumber,w=p.column;let E=C-1,I=!1;if(g)for(;E<this.modelLineProjections.length&&!this.modelLineProjections[E].isVisible();)E++,I=!0;else for(;E>0&&!this.modelLineProjections[E].isVisible();)E--,I=!0;if(E===0&&!this.modelLineProjections[E].isVisible())return new k.Position(b?0:1,1);const T=1+this.projectedModelLineLineCounts.getPrefixSum(E);let P;return I?g?P=this.modelLineProjections[E].getViewPositionOfModelPosition(T,1,c):P=this.modelLineProjections[E].getViewPositionOfModelPosition(T,this.model.getLineMaxColumn(E+1),c):P=this.modelLineProjections[C-1].getViewPositionOfModelPosition(T,w,c),P}convertModelRangeToViewRange(a,d=0){if(a.isEmpty()){const c=this.convertModelPositionToViewPosition(a.startLineNumber,a.startColumn,d);return L.Range.fromPositions(c)}else{const c=this.convertModelPositionToViewPosition(a.startLineNumber,a.startColumn,1),b=this.convertModelPositionToViewPosition(a.endLineNumber,a.endColumn,0);return new L.Range(c.lineNumber,c.column,b.lineNumber,b.column)}}getViewLineNumberOfModelPosition(a,d){let c=a-1;if(this.modelLineProjections[c].isVisible()){const g=1+this.projectedModelLineLineCounts.getPrefixSum(c);return this.modelLineProjections[c].getViewLineNumberOfModelPosition(g,d)}for(;c>0&&!this.modelLineProjections[c].isVisible();)c--;if(c===0&&!this.modelLineProjections[c].isVisible())return 1;const b=1+this.projectedModelLineLineCounts.getPrefixSum(c);return this.modelLineProjections[c].getViewLineNumberOfModelPosition(b,this.model.getLineMaxColumn(c+1))}getDecorationsInRange(a,d,c,b,g){const p=this.convertViewPositionToModelPosition(a.startLineNumber,a.startColumn),C=this.convertViewPositionToModelPosition(a.endLineNumber,a.endColumn);if(C.lineNumber-p.lineNumber<=a.endLineNumber-a.startLineNumber)return this.model.getDecorationsInRange(new L.Range(p.lineNumber,1,C.lineNumber,C.column),d,c,b,g);let w=[];const E=p.lineNumber-1,I=C.lineNumber-1;let T=null;for(let N=E;N<=I;N++)if(this.modelLineProjections[N].isVisible())T===null&&(T=new k.Position(N+1,N===E?p.column:1));else if(T!==null){const x=this.model.getLineMaxColumn(N);w=w.concat(this.model.getDecorationsInRange(new L.Range(T.lineNumber,T.column,N,x),d,c,b)),T=null}T!==null&&(w=w.concat(this.model.getDecorationsInRange(new L.Range(T.lineNumber,T.column,C.lineNumber,C.column),d,c,b)),T=null),w.sort((N,O)=>{const x=L.Range.compareRangesUsingStarts(N.range,O.range);return x===0?N.id<O.id?-1:N.id>O.id?1:0:x});const P=[];let A=0,M=null;for(const N of w){const O=N.id;M!==O&&(M=O,P[A++]=N)}return P}getInjectedTextAt(a){const d=this.getViewLineInfo(a.lineNumber);return this.modelLineProjections[d.modelLineNumber-1].getInjectedTextAt(d.modelLineWrappedLineIdx,a.column)}normalizePosition(a,d){const c=this.getViewLineInfo(a.lineNumber);return this.modelLineProjections[c.modelLineNumber-1].normalizePosition(c.modelLineWrappedLineIdx,a,d)}getLineIndentColumn(a){const d=this.getViewLineInfo(a);return d.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(d.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=i;function t(u){if(u.length===0)return[];const a=u.slice();a.sort(L.Range.compareRangesUsingStarts);const d=[];let c=a[0].startLineNumber,b=a[0].endLineNumber;for(let g=1,p=a.length;g<p;g++){const C=a[g];C.startLineNumber>b+1?(d.push(new L.Range(c,1,b,1)),c=C.startLineNumber,b=C.endLineNumber):C.endLineNumber>b&&(b=C.endLineNumber)}return d.push(new L.Range(c,1,b,1)),d}class n{constructor(a,d){this.modelLineNumber=a,this.modelLineWrappedLineIdx=d}}class r{constructor(a,d){this.modelRange=a,this.viewLines=d}}class l{constructor(a){this._lines=a}convertViewPositionToModelPosition(a){return this._lines.convertViewPositionToModelPosition(a.lineNumber,a.column)}convertViewRangeToModelRange(a){return this._lines.convertViewRangeToModelRange(a)}validateViewPosition(a,d){return this._lines.validateViewPosition(a.lineNumber,a.column,d)}validateViewRange(a,d){return this._lines.validateViewRange(a,d)}convertModelPositionToViewPosition(a,d,c,b){return this._lines.convertModelPositionToViewPosition(a.lineNumber,a.column,d,c,b)}convertModelRangeToViewRange(a,d){return this._lines.convertModelRangeToViewRange(a,d)}modelPositionIsVisible(a){return this._lines.modelPositionIsVisible(a.lineNumber,a.column)}getModelLineViewLineCount(a){return this._lines.getModelLineViewLineCount(a)}getViewLineNumberOfModelPosition(a,d){return this._lines.getViewLineNumberOfModelPosition(a,d)}}class h{constructor(a){this.model=a}dispose(){}createCoordinatesConverter(){return new s(this)}getHiddenAreas(){return[]}setHiddenAreas(a){return!1}setTabSize(a){return!1}setWrappingSettings(a,d,c,b){return!1}createLineBreaksComputer(){const a=[];return{addRequest:(d,c,b)=>{a.push(null)},finalize:()=>a}}onModelFlushed(){}onModelLinesDeleted(a,d,c){return new S.ViewLinesDeletedEvent(d,c)}onModelLinesInserted(a,d,c,b){return new S.ViewLinesInsertedEvent(d,c)}onModelLineChanged(a,d,c){return[!1,new S.ViewLinesChangedEvent(d,1),null,null]}acceptVersionId(a){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(a,d,c){return{startLineNumber:a,endLineNumber:a,indent:0}}getViewLinesBracketGuides(a,d,c){return new Array(d-a+1).fill([])}getViewLinesIndentGuides(a,d){const c=d-a+1,b=new Array(c);for(let g=0;g<c;g++)b[g]=0;return b}getViewLineContent(a){return this.model.getLineContent(a)}getViewLineLength(a){return this.model.getLineLength(a)}getViewLineMinColumn(a){return this.model.getLineMinColumn(a)}getViewLineMaxColumn(a){return this.model.getLineMaxColumn(a)}getViewLineData(a){const d=this.model.tokenization.getLineTokens(a),c=d.getLineContent();return new o.ViewLineData(c,!1,1,c.length+1,0,d.inflate(),null)}getViewLinesData(a,d,c){const b=this.model.getLineCount();a=Math.min(Math.max(1,a),b),d=Math.min(Math.max(1,d),b);const g=[];for(let p=a;p<=d;p++){const C=p-a;g[C]=c[C]?this.getViewLineData(p):null}return g}getDecorationsInRange(a,d,c,b,g){return this.model.getDecorationsInRange(a,d,c,b,g)}normalizePosition(a,d){return this.model.normalizePosition(a,d)}getLineIndentColumn(a){return this.model.getLineIndentColumn(a)}getInjectedTextAt(a){return null}}e.ViewModelLinesFromModelAsIs=h;class s{constructor(a){this._lines=a}_validPosition(a){return this._lines.model.validatePosition(a)}_validRange(a){return this._lines.model.validateRange(a)}convertViewPositionToModelPosition(a){return this._validPosition(a)}convertViewRangeToModelRange(a){return this._validRange(a)}validateViewPosition(a,d){return this._validPosition(d)}validateViewRange(a,d){return this._validRange(d)}convertModelPositionToViewPosition(a){return this._validPosition(a)}convertModelRangeToViewRange(a){return this._validRange(a)}modelPositionIsVisible(a){const d=this._lines.model.getLineCount();return!(a.lineNumber<1||a.lineNumber>d)}getModelLineViewLineCount(a){return 1}getViewLineNumberOfModelPosition(a,d){return a}}}),define(J[864],ee([1,0,15,13,37,2,17,9,36,765,73,11,5,111,30,77,322,212,530,324,67,321,214,863]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const g=!0;class p extends D.Disposable{constructor(M,N,O,x,F,B,z,j,R){if(super(),this.languageConfigurationService=z,this._themeService=j,this._attachedView=R,this.hiddenAreasModel=new E,this.previousHiddenAreas=[],this._editorId=M,this._configuration=N,this.model=O,this._eventDispatcher=new c.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new v.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new k.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=C.create(this.model),g&&this.model.isTooLargeForTokenization())this._lines=new b.ViewModelLinesFromModelAsIs(this.model);else{const Z=this._configuration.options,se=Z.get(49),le=Z.get(136),te=Z.get(143),Y=Z.get(135),U=Z.get(127);this._lines=new b.ViewModelLinesFromProjectedModel(this._editorId,this.model,x,F,se,this.model.getOptions().tabSize,le,te.wrappingColumn,Y,U)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new f.CursorsController(O,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new s.ViewLayout(this._configuration,this.getLineCount(),B)),this._register(this.viewLayout.onDidScroll(Z=>{Z.scrollTopChanged&&this._handleVisibleLinesChanged(),Z.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new h.ViewScrollChangedEvent(Z)),this._eventDispatcher.emitOutgoingEvent(new c.ScrollChangedEvent(Z.oldScrollWidth,Z.oldScrollLeft,Z.oldScrollHeight,Z.oldScrollTop,Z.scrollWidth,Z.scrollLeft,Z.scrollHeight,Z.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(Z=>{this._eventDispatcher.emitOutgoingEvent(Z)})),this._decorations=new d.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(Z=>{try{const se=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(se,Z)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(u.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new h.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(Z=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new h.ViewThemeChangedEvent(Z))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(M){this._eventDispatcher.addViewEventHandler(M)}removeViewEventHandler(M){this._eventDispatcher.removeViewEventHandler(M)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const M=this.viewLayout.getLinesViewportData(),N=new i.Range(M.startLineNumber,this.getLineMinColumn(M.startLineNumber),M.endLineNumber,this.getLineMaxColumn(M.endLineNumber));return this._toModelVisibleRanges(N)}visibleLinesStabilized(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!0)}_handleVisibleLinesChanged(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!1)}setHasFocus(M){this._hasFocus=M,this._cursor.setHasFocus(M),this._eventDispatcher.emitSingleViewEvent(new h.ViewFocusChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new c.FocusChangedEvent(!M,M))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new h.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new h.ViewCompositionEndEvent)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const M=new o.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),N=this.coordinatesConverter.convertViewPositionToModelPosition(M);return new P(N,this._viewportStart.startLineDelta)}return new P(null,0)}_onConfigurationChanged(M,N){const O=this._captureStableViewport(),x=this._configuration.options,F=x.get(49),B=x.get(136),z=x.get(143),j=x.get(135),R=x.get(127);this._lines.setWrappingSettings(F,B,z.wrappingColumn,j,R)&&(M.emitViewEvent(new h.ViewFlushedEvent),M.emitViewEvent(new h.ViewLineMappingChangedEvent),M.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(M),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),N.hasChanged(89)&&(this._decorations.reset(),M.emitViewEvent(new h.ViewDecorationsChangedEvent(null))),M.emitViewEvent(new h.ViewConfigurationChangedEvent(N)),this.viewLayout.onConfigurationChanged(N),O.recoverViewportStart(this.coordinatesConverter,this.viewLayout),v.CursorConfiguration.shouldRecreate(N)&&(this.cursorConfig=new v.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(M=>{try{const O=this._eventDispatcher.beginEmitViewEvents();let x=!1,F=!1;const B=M instanceof t.InternalModelContentChangeEvent?M.rawContentChangedEvent.changes:M.changes,z=M instanceof t.InternalModelContentChangeEvent?M.rawContentChangedEvent.versionId:null,j=this._lines.createLineBreaksComputer();for(const se of B)switch(se.changeType){case 4:{for(let le=0;le<se.detail.length;le++){const te=se.detail[le];let Y=se.injectedTexts[le];Y&&(Y=Y.filter(U=>!U.ownerId||U.ownerId===this._editorId)),j.addRequest(te,Y,null)}break}case 2:{let le=null;se.injectedText&&(le=se.injectedText.filter(te=>!te.ownerId||te.ownerId===this._editorId)),j.addRequest(se.detail,le,null);break}}const R=j.finalize(),Z=new y.ArrayQueue(R);for(const se of B)switch(se.changeType){case 1:{this._lines.onModelFlushed(),O.emitViewEvent(new h.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),x=!0;break}case 3:{const le=this._lines.onModelLinesDeleted(z,se.fromLineNumber,se.toLineNumber);le!==null&&(O.emitViewEvent(le),this.viewLayout.onLinesDeleted(le.fromLineNumber,le.toLineNumber)),x=!0;break}case 4:{const le=Z.takeCount(se.detail.length),te=this._lines.onModelLinesInserted(z,se.fromLineNumber,se.toLineNumber,le);te!==null&&(O.emitViewEvent(te),this.viewLayout.onLinesInserted(te.fromLineNumber,te.toLineNumber)),x=!0;break}case 2:{const le=Z.dequeue(),[te,Y,U,V]=this._lines.onModelLineChanged(z,se.lineNumber,le);F=te,Y&&O.emitViewEvent(Y),U&&(O.emitViewEvent(U),this.viewLayout.onLinesInserted(U.fromLineNumber,U.toLineNumber)),V&&(O.emitViewEvent(V),this.viewLayout.onLinesDeleted(V.fromLineNumber,V.toLineNumber));break}case 5:break}z!==null&&this._lines.acceptVersionId(z),this.viewLayout.onHeightMaybeChanged(),!x&&F&&(O.emitViewEvent(new h.ViewLineMappingChangedEvent),O.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(O),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const N=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&N){const O=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(O){const x=this.coordinatesConverter.convertModelPositionToViewPosition(O.getStartPosition()),F=this.viewLayout.getVerticalOffsetForLineNumber(x.lineNumber);this.viewLayout.setScrollPosition({scrollTop:F+this._viewportStart.startLineDelta},1)}}try{const O=this._eventDispatcher.beginEmitViewEvents();M instanceof t.InternalModelContentChangeEvent&&O.emitOutgoingEvent(new c.ModelContentChangedEvent(M.contentChangedEvent)),this._cursor.onModelContentChanged(O,M)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(M=>{const N=[];for(let O=0,x=M.ranges.length;O<x;O++){const F=M.ranges[O],B=this.coordinatesConverter.convertModelPositionToViewPosition(new o.Position(F.fromLineNumber,1)).lineNumber,z=this.coordinatesConverter.convertModelPositionToViewPosition(new o.Position(F.toLineNumber,this.model.getLineMaxColumn(F.toLineNumber))).lineNumber;N[O]={fromLineNumber:B,toLineNumber:z}}this._eventDispatcher.emitSingleViewEvent(new h.ViewTokensChangedEvent(N)),this._eventDispatcher.emitOutgoingEvent(new c.ModelTokensChangedEvent(M))})),this._register(this.model.onDidChangeLanguageConfiguration(M=>{this._eventDispatcher.emitSingleViewEvent(new h.ViewLanguageConfigurationEvent),this.cursorConfig=new v.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new c.ModelLanguageConfigurationChangedEvent(M))})),this._register(this.model.onDidChangeLanguage(M=>{this.cursorConfig=new v.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new c.ModelLanguageChangedEvent(M))})),this._register(this.model.onDidChangeOptions(M=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const N=this._eventDispatcher.beginEmitViewEvents();N.emitViewEvent(new h.ViewFlushedEvent),N.emitViewEvent(new h.ViewLineMappingChangedEvent),N.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(N),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new v.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new c.ModelOptionsChangedEvent(M))})),this._register(this.model.onDidChangeDecorations(M=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new h.ViewDecorationsChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new c.ModelDecorationsChangedEvent(M))}))}setHiddenAreas(M,N){this.hiddenAreasModel.setHiddenAreas(N,M);const O=this.hiddenAreasModel.getMergedRanges();if(O===this.previousHiddenAreas)return;this.previousHiddenAreas=O;const x=this._captureStableViewport();let F=!1;try{const B=this._eventDispatcher.beginEmitViewEvents();F=this._lines.setHiddenAreas(O),F&&(B.emitViewEvent(new h.ViewFlushedEvent),B.emitViewEvent(new h.ViewLineMappingChangedEvent),B.emitViewEvent(new h.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(B),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),x.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),F&&this._eventDispatcher.emitOutgoingEvent(new c.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const M=this._configuration.options.get(142),N=this._configuration.options.get(65),O=Math.max(20,Math.round(M.height/N)),x=this.viewLayout.getLinesViewportData(),F=Math.max(1,x.completelyVisibleStartLineNumber-O),B=Math.min(this.getLineCount(),x.completelyVisibleEndLineNumber+O);return this._toModelVisibleRanges(new i.Range(F,this.getLineMinColumn(F),B,this.getLineMaxColumn(B)))}getVisibleRanges(){const M=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(M)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(M){const N=this.coordinatesConverter.convertViewRangeToModelRange(M),O=this._lines.getHiddenAreas();if(O.length===0)return[N];const x=[];let F=0,B=N.startLineNumber,z=N.startColumn;const j=N.endLineNumber,R=N.endColumn;for(let Z=0,se=O.length;Z<se;Z++){const le=O[Z].startLineNumber,te=O[Z].endLineNumber;te<B||le>j||(B<le&&(x[F++]=new i.Range(B,z,le-1,this.model.getLineMaxColumn(le-1))),B=te+1,z=1)}return(B<j||B===j&&z<R)&&(x[F++]=new i.Range(B,z,j,R)),x}getCompletelyVisibleViewRange(){const M=this.viewLayout.getLinesViewportData(),N=M.completelyVisibleStartLineNumber,O=M.completelyVisibleEndLineNumber;return new i.Range(N,this.getLineMinColumn(N),O,this.getLineMaxColumn(O))}getCompletelyVisibleViewRangeAtScrollTop(M){const N=this.viewLayout.getLinesViewportDataAtScrollTop(M),O=N.completelyVisibleStartLineNumber,x=N.completelyVisibleEndLineNumber;return new i.Range(O,this.getLineMinColumn(O),x,this.getLineMaxColumn(x))}saveState(){const M=this.viewLayout.saveState(),N=M.scrollTop,O=this.viewLayout.getLineNumberAtVerticalOffset(N),x=this.coordinatesConverter.convertViewPositionToModelPosition(new o.Position(O,this.getLineMinColumn(O))),F=this.viewLayout.getVerticalOffsetForLineNumber(O)-N;return{scrollLeft:M.scrollLeft,firstPosition:x,firstPositionDeltaTop:F}}reduceRestoreState(M){if(typeof M.firstPosition>"u")return this._reduceRestoreStateCompatibility(M);const N=this.model.validatePosition(M.firstPosition),O=this.coordinatesConverter.convertModelPositionToViewPosition(N),x=this.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber)-M.firstPositionDeltaTop;return{scrollLeft:M.scrollLeft,scrollTop:x}}_reduceRestoreStateCompatibility(M){return{scrollLeft:M.scrollLeft,scrollTop:M.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(M,N,O){this._viewportStart.update(this,M)}getActiveIndentGuide(M,N,O){return this._lines.getActiveIndentGuide(M,N,O)}getLinesIndentGuides(M,N){return this._lines.getViewLinesIndentGuides(M,N)}getBracketGuidesInRangeByLine(M,N,O,x){return this._lines.getViewLinesBracketGuides(M,N,O,x)}getLineContent(M){return this._lines.getViewLineContent(M)}getLineLength(M){return this._lines.getViewLineLength(M)}getLineMinColumn(M){return this._lines.getViewLineMinColumn(M)}getLineMaxColumn(M){return this._lines.getViewLineMaxColumn(M)}getLineFirstNonWhitespaceColumn(M){const N=m.firstNonWhitespaceIndex(this.getLineContent(M));return N===-1?0:N+1}getLineLastNonWhitespaceColumn(M){const N=m.lastNonWhitespaceIndex(this.getLineContent(M));return N===-1?0:N+2}getMinimapDecorationsInRange(M){return this._decorations.getMinimapDecorationsInRange(M)}getDecorationsInViewport(M){return this._decorations.getDecorationsViewportData(M).decorations}getInjectedTextAt(M){return this._lines.getInjectedTextAt(M)}getViewportViewLineRenderingData(M,N){const x=this._decorations.getDecorationsViewportData(M).inlineDecorations[N-M.startLineNumber];return this._getViewLineRenderingData(N,x)}getViewLineRenderingData(M){const N=this._decorations.getInlineDecorationsOnLine(M);return this._getViewLineRenderingData(M,N)}_getViewLineRenderingData(M,N){const O=this.model.mightContainRTL(),x=this.model.mightContainNonBasicASCII(),F=this.getTabSize(),B=this._lines.getViewLineData(M);return B.inlineDecorations&&(N=[...N,...B.inlineDecorations.map(z=>z.toInlineDecoration(M))]),new a.ViewLineRenderingData(B.minColumn,B.maxColumn,B.content,B.continuesWithWrappedLine,O,x,B.tokens,N,F,B.startVisibleColumn)}getViewLineData(M){return this._lines.getViewLineData(M)}getMinimapLinesRenderingData(M,N,O){const x=this._lines.getViewLinesData(M,N,O);return new a.MinimapLinesRenderingData(this.getTabSize(),x)}getAllOverviewRulerDecorations(M){const N=this.model.getOverviewRulerDecorations(this._editorId,(0,S.filterValidationDecorations)(this._configuration.options)),O=new w;for(const x of N){const F=x.options,B=F.overviewRuler;if(!B)continue;const z=B.position;if(z===0)continue;const j=B.getColor(M.value),R=this.coordinatesConverter.getViewLineNumberOfModelPosition(x.range.startLineNumber,x.range.startColumn),Z=this.coordinatesConverter.getViewLineNumberOfModelPosition(x.range.endLineNumber,x.range.endColumn);O.accept(j,F.zIndex,R,Z,z)}return O.asArray}_invalidateDecorationsColorCache(){const M=this.model.getOverviewRulerDecorations();for(const N of M){const O=N.options.overviewRuler;O?.invalidateCachedColor();const x=N.options.minimap;x?.invalidateCachedColor()}}getValueInRange(M,N){const O=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueInRange(O,N)}getValueLengthInRange(M,N){const O=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueLengthInRange(O,N)}modifyPosition(M,N){const O=this.coordinatesConverter.convertViewPositionToModelPosition(M);return this.model.modifyPosition(O,N)}deduceModelPositionRelativeToViewPosition(M,N,O){const x=this.coordinatesConverter.convertViewPositionToModelPosition(M);this.model.getEOL().length===2&&(N<0?N-=O:N+=O);const B=this.model.getOffsetAt(x)+N;return this.model.getPositionAt(B)}getPlainTextToCopy(M,N,O){const x=O?`\r
`:this.model.getEOL();M=M.slice(0),M.sort(i.Range.compareRangesUsingStarts);let F=!1,B=!1;for(const j of M)j.isEmpty()?F=!0:B=!0;if(!B){if(!N)return"";const j=M.map(Z=>Z.startLineNumber);let R="";for(let Z=0;Z<j.length;Z++)Z>0&&j[Z-1]===j[Z]||(R+=this.model.getLineContent(j[Z])+x);return R}if(F&&N){const j=[];let R=0;for(const Z of M){const se=Z.startLineNumber;Z.isEmpty()?se!==R&&j.push(this.model.getLineContent(se)):j.push(this.model.getValueInRange(Z,O?2:0)),R=se}return j.length===1?j[0]:j}const z=[];for(const j of M)j.isEmpty()||z.push(this.model.getValueInRange(j,O?2:0));return z.length===1?z[0]:z}getRichTextToCopy(M,N){const O=this.model.getLanguageId();if(O===r.PLAINTEXT_LANGUAGE_ID||M.length!==1)return null;let x=M[0];if(x.isEmpty()){if(!N)return null;const Z=x.startLineNumber;x=new i.Range(Z,this.model.getLineMinColumn(Z),Z,this.model.getLineMaxColumn(Z))}const F=this._configuration.options.get(49),B=this._getColorMap(),j=/[:;\\\/<>]/.test(F.fontFamily)||F.fontFamily===S.EDITOR_FONT_DEFAULTS.fontFamily;let R;return j?R=S.EDITOR_FONT_DEFAULTS.fontFamily:(R=F.fontFamily,R=R.replace(/"/g,"'"),/[,']/.test(R)||/[+ ]/.test(R)&&(R=`'${R}'`),R=`${R}, ${S.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:O,html:`<div style="color: ${B[1]};background-color: ${B[2]};font-family: ${R};font-weight: ${F.fontWeight};font-size: ${F.fontSize}px;line-height: ${F.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(x,B)+"</div>"}}_getHTMLToCopy(M,N){const O=M.startLineNumber,x=M.startColumn,F=M.endLineNumber,B=M.endColumn,z=this.getTabSize();let j="";for(let R=O;R<=F;R++){const Z=this.model.tokenization.getLineTokens(R),se=Z.getLineContent(),le=R===O?x-1:0,te=R===F?B-1:se.length;se===""?j+="<br>":j+=(0,l.tokenizeLineToHTML)(se,Z.inflate(),N,le,te,z,_.isWindows)}return j}_getColorMap(){const M=n.TokenizationRegistry.getColorMap(),N=["#000000"];if(M)for(let O=1,x=M.length;O<x;O++)N[O]=L.Color.Format.CSS.formatHex(M[O]);return N}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(M,N,O){return this._withViewEventsCollector(x=>this._cursor.setStates(x,M,N,O))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(M){this._cursor.setCursorColumnSelectData(M)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(M){this._cursor.setPrevEditOperationType(M)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(M,N,O=0){this._withViewEventsCollector(x=>this._cursor.setSelections(x,M,N,O))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(M){this._withViewEventsCollector(N=>this._cursor.restoreState(N,M))}_executeCursorEdit(M){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new c.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(M)}executeEdits(M,N,O){this._executeCursorEdit(x=>this._cursor.executeEdits(x,M,N,O))}startComposition(){this._executeCursorEdit(M=>this._cursor.startComposition(M))}endComposition(M){this._executeCursorEdit(N=>this._cursor.endComposition(N,M))}type(M,N){this._executeCursorEdit(O=>this._cursor.type(O,M,N))}compositionType(M,N,O,x,F){this._executeCursorEdit(B=>this._cursor.compositionType(B,M,N,O,x,F))}paste(M,N,O,x){this._executeCursorEdit(F=>this._cursor.paste(F,M,N,O,x))}cut(M){this._executeCursorEdit(N=>this._cursor.cut(N,M))}executeCommand(M,N){this._executeCursorEdit(O=>this._cursor.executeCommand(O,M,N))}executeCommands(M,N){this._executeCursorEdit(O=>this._cursor.executeCommands(O,M,N))}revealPrimaryCursor(M,N,O=!1){this._withViewEventsCollector(x=>this._cursor.revealPrimary(x,M,O,0,N,0))}revealTopMostCursor(M){const N=this._cursor.getTopMostViewPosition(),O=new i.Range(N.lineNumber,N.column,N.lineNumber,N.column);this._withViewEventsCollector(x=>x.emitViewEvent(new h.ViewRevealRangeRequestEvent(M,!1,O,null,0,!0,0)))}revealBottomMostCursor(M){const N=this._cursor.getBottomMostViewPosition(),O=new i.Range(N.lineNumber,N.column,N.lineNumber,N.column);this._withViewEventsCollector(x=>x.emitViewEvent(new h.ViewRevealRangeRequestEvent(M,!1,O,null,0,!0,0)))}revealRange(M,N,O,x,F){this._withViewEventsCollector(B=>B.emitViewEvent(new h.ViewRevealRangeRequestEvent(M,!1,O,null,x,N,F)))}changeWhitespace(M){this.viewLayout.changeWhitespace(M)&&(this._eventDispatcher.emitSingleViewEvent(new h.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new c.ViewZonesChangedEvent))}_withViewEventsCollector(M){try{const N=this._eventDispatcher.beginEmitViewEvents();return M(N)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(M,N){return this._lines.normalizePosition(M,N)}getLineIndentColumn(M){return this._lines.getLineIndentColumn(M)}}e.ViewModel=p;class C{static create(M){const N=M._setTrackedRange(null,new i.Range(1,1,1,1),1);return new C(M,1,!1,N,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(M,N,O,x,F){this._model=M,this._viewLineNumber=N,this._isValid=O,this._modelTrackedRange=x,this._startLineDelta=F}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(M,N){const O=M.coordinatesConverter.convertViewPositionToModelPosition(new o.Position(N,M.getLineMinColumn(N))),x=M.model._setTrackedRange(this._modelTrackedRange,new i.Range(O.lineNumber,O.column,O.lineNumber,O.column),1),F=M.viewLayout.getVerticalOffsetForLineNumber(N),B=M.viewLayout.getCurrentScrollTop();this._viewLineNumber=N,this._isValid=!0,this._modelTrackedRange=x,this._startLineDelta=B-F}invalidate(){this._isValid=!1}}class w{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(M,N,O,x,F){const B=this._asMap[M];if(B){const z=B.data,j=z[z.length-3],R=z[z.length-1];if(j===F&&R+1>=O){x>R&&(z[z.length-1]=x);return}z.push(F,O,x)}else{const z=new a.OverviewRulerDecorationsGroup(M,N,[F,O,x]);this._asMap[M]=z,this.asArray.push(z)}}}class E{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(M,N){const O=this.hiddenAreas.get(M);O&&T(O,N)||(this.hiddenAreas.set(M,N),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const M=Array.from(this.hiddenAreas.values()).reduce((N,O)=>I(N,O),[]);return T(this.ranges,M)?this.ranges:(this.ranges=M,this.ranges)}}function I(A,M){const N=[];let O=0,x=0;for(;O<A.length&&x<M.length;){const F=A[O],B=M[x];if(F.endLineNumber<B.startLineNumber-1)N.push(A[O++]);else if(B.endLineNumber<F.startLineNumber-1)N.push(M[x++]);else{const z=Math.min(F.startLineNumber,B.startLineNumber),j=Math.max(F.endLineNumber,B.endLineNumber);N.push(new i.Range(z,1,j,1)),O++,x++}}for(;O<A.length;)N.push(A[O++]);for(;x<M.length;)N.push(M[x++]);return N}function T(A,M){if(A.length!==M.length)return!1;for(let N=0;N<A.length;N++)if(!A[N].equalsRange(M[N]))return!1;return!0}class P{constructor(M,N){this.viewportStartModelPosition=M,this.startLineDelta=N}recoverViewportStart(M,N){if(!this.viewportStartModelPosition)return;const O=M.convertModelPositionToViewPosition(this.viewportStartModelPosition),x=N.getVerticalOffsetForLineNumber(O.lineNumber);N.setScrollPosition({scrollTop:x+this.startLineDelta},1)}}}),define(J[164],ee([1,0,598,7,12,6,2,54,747,16,33,842,271,36,81,11,5,24,276,150,20,39,79,32,864,25,14,8,160,44,23,83,18,527,585,180,31,60,19,775,202,783,430]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E,I,T,P,A,M,N,O,x,F,B,z,j){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let R=0;class Z{constructor(q,W,K,ie,ne,oe){this.model=q,this.viewModel=W,this.view=K,this.hasRealView=ie,this.listenersToRemove=ne,this.attachedView=oe}dispose(){(0,_.dispose)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let se=class Wt extends _.Disposable{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(q,W,K,ie,ne,oe,re,ge,ve,we,ye,Ie){super(),this.languageConfigurationService=ye,this._deliveryQueue=(0,D.createEventDeliveryQueue)(),this._contributions=this._register(new z.CodeEditorContributions),this._onDidDispose=this._register(new D.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new te(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new le({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new le({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new te(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new te(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new te(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new te(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new te(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new te(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new te(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new te(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new te(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new te(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new te(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new te(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new te(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new te(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new te(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new te(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new te(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),ne.willCreateCodeEditor();const Ee=Object.assign({},W);this._domElement=q,this._overflowWidgetsDomNode=Ee.overflowWidgetsDomNode,delete Ee.overflowWidgetsDomNode,this._id=++R,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=K.telemetryData,this._configuration=this._register(this._createConfiguration(K.isSimpleWidget||!1,Ee,we)),this._register(this._configuration.onDidChange(Te=>{this._onDidChangeConfiguration.fire(Te);const be=this._configuration.options;if(Te.hasChanged(142)){const me=be.get(142);this._onDidLayoutChange.fire(me)}})),this._contextKeyService=this._register(re.createScoped(this._domElement)),this._notificationService=ve,this._codeEditorService=ne,this._commandService=oe,this._themeService=ge,this._register(new Y(this,this._contextKeyService)),this._register(new U(this,this._contextKeyService,Ie)),this._instantiationService=ie.createChild(new E.ServiceCollection([C.IContextKeyService,this._contextKeyService])),this._modelData=null,this._focusTracker=new V(q),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let De;Array.isArray(K.contributions)?De=K.contributions:De=f.EditorExtensionsRegistry.getEditorContributions(),this._contributions.initialize(this,De,this._instantiationService);for(const Te of f.EditorExtensionsRegistry.getEditorActions()){if(this._actions.has(Te.id)){(0,L.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${Te.id}`));continue}const be=new s.InternalEditorAction(Te.id,Te.label,Te.alias,(0,A.withNullAsUndefined)(Te.precondition),()=>this._instantiationService.invokeFunction(me=>Promise.resolve(Te.runEditorCommand(me,this,null))),this._contextKeyService);this._actions.set(be.id,be)}const Ae=()=>!this._configuration.options.get(89)&&this._configuration.options.get(35).enabled;this._register(new k.DragAndDropObserver(this._domElement,{onDragEnter:()=>{},onDragOver:Te=>{if(!Ae())return;const be=this.getTargetAtClientPoint(Te.clientX,Te.clientY);be?.position&&this.showDropIndicatorAt(be.position)},onDrop:Te=>Le(this,void 0,void 0,function*(){if(!Ae()||(this.removeDropIndicator(),!Te.dataTransfer))return;const be=this.getTargetAtClientPoint(Te.clientX,Te.clientY);be?.position&&this._onDropIntoEditor.fire({position:be.position,event:Te})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(q){var W;(W=this._modelData)===null||W===void 0||W.view.writeScreenReaderContent(q)}_createConfiguration(q,W,K){return new S.EditorConfiguration(q,W,this._domElement,K)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return u.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(q){return this._instantiationService.invokeFunction(q)}updateOptions(q){this._configuration.updateOptions(q||{})}getOptions(){return this._configuration.options}getOption(q){return this._configuration.options.get(q)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(q){return this._modelData?O.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(128),q):null}getValue(q=null){if(!this._modelData)return"";const W=!!(q&&q.preserveBOM);let K=0;return q&&q.lineEnding&&q.lineEnding===`
`?K=1:q&&q.lineEnding&&q.lineEnding===`\r
`&&(K=2),this._modelData.model.getValue(K,W)}setValue(q){this._modelData&&this._modelData.model.setValue(q)}getModel(){return this._modelData?this._modelData.model:null}setModel(q=null){const W=q;if(this._modelData===null&&W===null||this._modelData&&this._modelData.model===W)return;const K=this.hasTextFocus(),ie=this._detachModel();this._attachModel(W),K&&this.hasModel()&&this.focus();const ne={oldModelUrl:ie?ie.uri:null,newModelUrl:W?W.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(ne),this._postDetachModelCleanup(ie),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const q in this._decorationTypeSubtypes){const W=this._decorationTypeSubtypes[q];for(const K in W)this._removeDecorationType(q+"-"+K)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(q,W,K,ie){const ne=q.model.validatePosition({lineNumber:W,column:K}),oe=q.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ne);return q.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(oe.lineNumber,ie)}getTopForLineNumber(q,W=!1){return this._modelData?Wt._getVerticalOffsetForPosition(this._modelData,q,1,W):-1}getTopForPosition(q,W){return this._modelData?Wt._getVerticalOffsetForPosition(this._modelData,q,W,!1):-1}static _getVerticalOffsetForPosition(q,W,K,ie=!1){const ne=q.model.validatePosition({lineNumber:W,column:K}),oe=q.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ne);return q.viewModel.viewLayout.getVerticalOffsetForLineNumber(oe.lineNumber,ie)}getBottomForLineNumber(q,W=!1){return this._modelData?Wt._getVerticalOffsetAfterPosition(this._modelData,q,1,W):-1}setHiddenAreas(q,W){var K;(K=this._modelData)===null||K===void 0||K.viewModel.setHiddenAreas(q.map(ie=>l.Range.lift(ie)),W)}getVisibleColumnFromPosition(q){if(!this._modelData)return q.column;const W=this._modelData.model.validatePosition(q),K=this._modelData.model.getOptions().tabSize;return n.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(W.lineNumber),W.column,K)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(q,W="api"){if(this._modelData){if(!r.Position.isIPosition(q))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(W,[{selectionStartLineNumber:q.lineNumber,selectionStartColumn:q.column,positionLineNumber:q.lineNumber,positionColumn:q.column}])}}_sendRevealRange(q,W,K,ie){if(!this._modelData)return;if(!l.Range.isIRange(q))throw new Error("Invalid arguments");const ne=this._modelData.model.validateRange(q),oe=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(ne);this._modelData.viewModel.revealRange("api",K,oe,W,ie)}revealLine(q,W=0){this._revealLine(q,0,W)}revealLineInCenter(q,W=0){this._revealLine(q,1,W)}revealLineInCenterIfOutsideViewport(q,W=0){this._revealLine(q,2,W)}revealLineNearTop(q,W=0){this._revealLine(q,5,W)}_revealLine(q,W,K){if(typeof q!="number")throw new Error("Invalid arguments");this._sendRevealRange(new l.Range(q,1,q,1),W,!1,K)}revealPosition(q,W=0){this._revealPosition(q,0,!0,W)}revealPositionInCenter(q,W=0){this._revealPosition(q,1,!0,W)}revealPositionInCenterIfOutsideViewport(q,W=0){this._revealPosition(q,2,!0,W)}revealPositionNearTop(q,W=0){this._revealPosition(q,5,!0,W)}_revealPosition(q,W,K,ie){if(!r.Position.isIPosition(q))throw new Error("Invalid arguments");this._sendRevealRange(new l.Range(q.lineNumber,q.column,q.lineNumber,q.column),W,K,ie)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(q,W="api"){const K=h.Selection.isISelection(q),ie=l.Range.isIRange(q);if(!K&&!ie)throw new Error("Invalid arguments");if(K)this._setSelectionImpl(q,W);else if(ie){const ne={selectionStartLineNumber:q.startLineNumber,selectionStartColumn:q.startColumn,positionLineNumber:q.endLineNumber,positionColumn:q.endColumn};this._setSelectionImpl(ne,W)}}_setSelectionImpl(q,W){if(!this._modelData)return;const K=new h.Selection(q.selectionStartLineNumber,q.selectionStartColumn,q.positionLineNumber,q.positionColumn);this._modelData.viewModel.setSelections(W,[K])}revealLines(q,W,K=0){this._revealLines(q,W,0,K)}revealLinesInCenter(q,W,K=0){this._revealLines(q,W,1,K)}revealLinesInCenterIfOutsideViewport(q,W,K=0){this._revealLines(q,W,2,K)}revealLinesNearTop(q,W,K=0){this._revealLines(q,W,5,K)}_revealLines(q,W,K,ie){if(typeof q!="number"||typeof W!="number")throw new Error("Invalid arguments");this._sendRevealRange(new l.Range(q,1,W,1),K,!1,ie)}revealRange(q,W=0,K=!1,ie=!0){this._revealRange(q,K?1:0,ie,W)}revealRangeInCenter(q,W=0){this._revealRange(q,1,!0,W)}revealRangeInCenterIfOutsideViewport(q,W=0){this._revealRange(q,2,!0,W)}revealRangeNearTop(q,W=0){this._revealRange(q,5,!0,W)}revealRangeNearTopIfOutsideViewport(q,W=0){this._revealRange(q,6,!0,W)}revealRangeAtTop(q,W=0){this._revealRange(q,3,!0,W)}_revealRange(q,W,K,ie){if(!l.Range.isIRange(q))throw new Error("Invalid arguments");this._sendRevealRange(l.Range.lift(q),W,K,ie)}setSelections(q,W="api",K=0){if(this._modelData){if(!q||q.length===0)throw new Error("Invalid arguments");for(let ie=0,ne=q.length;ie<ne;ie++)if(!h.Selection.isISelection(q[ie]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(W,q,K)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(q,W=1){if(this._modelData){if(typeof q!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:q},W)}}setScrollTop(q,W=1){if(this._modelData){if(typeof q!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:q},W)}}setScrollPosition(q,W=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(q,W)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const q=this._contributions.saveViewState(),W=this._modelData.viewModel.saveCursorState(),K=this._modelData.viewModel.saveState();return{cursorState:W,viewState:K,contributionsState:q}}restoreViewState(q){if(!this._modelData||!this._modelData.hasRealView)return;const W=q;if(W&&W.cursorState&&W.viewState){const K=W.cursorState;Array.isArray(K)?K.length>0&&this._modelData.viewModel.restoreCursorState(K):this._modelData.viewModel.restoreCursorState([K]),this._contributions.restoreViewState(W.contributionsState||{});const ie=this._modelData.viewModel.reduceRestoreState(W.viewState);this._modelData.view.restoreState(ie)}}handleInitialized(){var q;(q=this._getViewModel())===null||q===void 0||q.visibleLinesStabilized()}getContribution(q){return this._contributions.get(q)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let q=this.getActions();return q=q.filter(W=>W.isSupported()),q}getAction(q){return this._actions.get(q)||null}trigger(q,W,K){switch(K=K||{},W){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(q);return;case"type":{const ne=K;this._type(q,ne.text||"");return}case"replacePreviousChar":{const ne=K;this._compositionType(q,ne.text||"",ne.replaceCharCnt||0,0,0);return}case"compositionType":{const ne=K;this._compositionType(q,ne.text||"",ne.replacePrevCharCnt||0,ne.replaceNextCharCnt||0,ne.positionDelta||0);return}case"paste":{const ne=K;this._paste(q,ne.text||"",ne.pasteOnNewLine||!1,ne.multicursorText||null,ne.mode||null);return}case"cut":this._cut(q);return}const ie=this.getAction(W);if(ie){Promise.resolve(ie.run(K)).then(void 0,L.onUnexpectedError);return}this._modelData&&(this._triggerEditorCommand(q,W,K)||this._triggerCommand(W,K))}_triggerCommand(q,W){this._commandService.executeCommand(q,W)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(q){this._modelData&&(this._modelData.viewModel.endComposition(q),this._onDidCompositionEnd.fire())}_type(q,W){!this._modelData||W.length===0||(q==="keyboard"&&this._onWillType.fire(W),this._modelData.viewModel.type(W,q),q==="keyboard"&&this._onDidType.fire(W))}_compositionType(q,W,K,ie,ne){this._modelData&&this._modelData.viewModel.compositionType(W,K,ie,ne,q)}_paste(q,W,K,ie,ne){if(!this._modelData||W.length===0)return;const oe=this._modelData.viewModel,re=oe.getSelection().getStartPosition();oe.paste(W,K,ie,q);const ge=oe.getSelection().getStartPosition();q==="keyboard"&&this._onDidPaste.fire({range:new l.Range(re.lineNumber,re.column,ge.lineNumber,ge.column),languageId:ne})}_cut(q){this._modelData&&this._modelData.viewModel.cut(q)}_triggerEditorCommand(q,W,K){const ie=f.EditorExtensionsRegistry.getEditorCommand(W);return ie?(K=K||{},K.source=q,this._instantiationService.invokeFunction(ne=>{Promise.resolve(ie.runEditorCommand(ne,this,K)).then(void 0,L.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(89)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(89)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(q,W,K){if(!this._modelData||this._configuration.options.get(89))return!1;let ie;return K?Array.isArray(K)?ie=()=>K:ie=K:ie=()=>null,this._modelData.viewModel.executeEdits(q,W,ie),!0}executeCommand(q,W){this._modelData&&this._modelData.viewModel.executeCommand(W,q)}executeCommands(q,W){this._modelData&&this._modelData.viewModel.executeCommands(W,q)}createDecorationsCollection(q){return new H(this,q)}changeDecorations(q){return this._modelData?this._modelData.model.changeDecorations(q,this._id):null}getLineDecorations(q){return this._modelData?this._modelData.model.getLineDecorations(q,this._id,(0,t.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(q){return this._modelData?this._modelData.model.getDecorationsInRange(q,this._id,(0,t.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(q,W){return this._modelData?q.length===0&&W.length===0?q:this._modelData.model.deltaDecorations(q,W,this._id):[]}removeDecorations(q){!this._modelData||q.length===0||this._modelData.model.changeDecorations(W=>{W.deltaDecorations(q,[])})}removeDecorationsByType(q){const W=this._decorationTypeKeysToIds[q];W&&this.deltaDecorations(W,[]),this._decorationTypeKeysToIds.hasOwnProperty(q)&&delete this._decorationTypeKeysToIds[q],this._decorationTypeSubtypes.hasOwnProperty(q)&&delete this._decorationTypeSubtypes[q]}getLayoutInfo(){return this._configuration.options.get(142)}createOverviewRuler(q){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(q)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(q){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(q)}delegateScrollFromMouseWheelEvent(q){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(q)}layout(q){this._configuration.observeContainer(q),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(q){const W={widget:q,position:q.getPosition()};this._contentWidgets.hasOwnProperty(q.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[q.getId()]=W,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(W)}layoutContentWidget(q){const W=q.getId();if(this._contentWidgets.hasOwnProperty(W)){const K=this._contentWidgets[W];K.position=q.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(K)}}removeContentWidget(q){const W=q.getId();if(this._contentWidgets.hasOwnProperty(W)){const K=this._contentWidgets[W];delete this._contentWidgets[W],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(K)}}addOverlayWidget(q){const W={widget:q,position:q.getPosition()};this._overlayWidgets.hasOwnProperty(q.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[q.getId()]=W,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(W)}layoutOverlayWidget(q){const W=q.getId();if(this._overlayWidgets.hasOwnProperty(W)){const K=this._overlayWidgets[W];K.position=q.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(K)}}removeOverlayWidget(q){const W=q.getId();if(this._overlayWidgets.hasOwnProperty(W)){const K=this._overlayWidgets[W];delete this._overlayWidgets[W],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(K)}}addGlyphMarginWidget(q){const W={widget:q,position:q.getPosition()};this._glyphMarginWidgets.hasOwnProperty(q.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[q.getId()]=W,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(W)}layoutGlyphMarginWidget(q){const W=q.getId();if(this._glyphMarginWidgets.hasOwnProperty(W)){const K=this._glyphMarginWidgets[W];K.position=q.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(K)}}removeGlyphMarginWidget(q){const W=q.getId();if(this._glyphMarginWidgets.hasOwnProperty(W)){const K=this._glyphMarginWidgets[W];delete this._glyphMarginWidgets[W],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(K)}}changeViewZones(q){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(q)}getTargetAtClientPoint(q,W){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(q,W)}getScrolledVisiblePosition(q){if(!this._modelData||!this._modelData.hasRealView)return null;const W=this._modelData.model.validatePosition(q),K=this._configuration.options,ie=K.get(142),ne=Wt._getVerticalOffsetForPosition(this._modelData,W.lineNumber,W.column)-this.getScrollTop(),oe=this._modelData.view.getOffsetForColumn(W.lineNumber,W.column)+ie.glyphMarginWidth+ie.lineNumbersWidth+ie.decorationsWidth-this.getScrollLeft();return{top:ne,left:oe,height:K.get(65)}}getOffsetForColumn(q,W){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(q,W)}render(q=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,q)}setAriaOptions(q){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(q)}applyFontInfo(q){(0,F.applyFontInfo)(q,this._configuration.options.get(49))}setBanner(q,W){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=q,this._configuration.setReservedHeight(q?W:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(q){if(!q){this._modelData=null;return}const W=[];this._domElement.setAttribute("data-mode-id",q.getLanguageId()),this._configuration.setIsDominatedByLongLines(q.isDominatedByLongLines()),this._configuration.setModelLineCount(q.getLineCount());const K=q.onBeforeAttached(),ie=new g.ViewModel(this._id,this._configuration,q,N.DOMLineBreaksComputerFactory.create(),M.MonospaceLineBreaksComputerFactory.create(this._configuration.options),re=>k.scheduleAtNextAnimationFrame(re),this.languageConfigurationService,this._themeService,K);W.push(q.onWillDispose(()=>this.setModel(null))),W.push(ie.onEvent(re=>{switch(re.kind){case 0:this._onDidContentSizeChange.fire(re);break;case 1:this._editorTextFocus.setValue(re.hasFocus);break;case 2:this._onDidScrollChange.fire(re);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(re.reachedMaxCursorCount){const ye=this.getOption(78),Ie=y.localize(0,null,ye);this._notificationService.prompt(I.Severity.Warning,Ie,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:y.localize(1,null),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const ge=[];for(let ye=0,Ie=re.selections.length;ye<Ie;ye++)ge[ye]=re.selections[ye].getPosition();const ve={position:ge[0],secondaryPositions:ge.slice(1),reason:re.reason,source:re.source};this._onDidChangeCursorPosition.fire(ve);const we={selection:re.selections[0],secondarySelections:re.selections.slice(1),modelVersionId:re.modelVersionId,oldSelections:re.oldSelections,oldModelVersionId:re.oldModelVersionId,source:re.source,reason:re.reason};this._onDidChangeCursorSelection.fire(we);break}case 7:this._onDidChangeModelDecorations.fire(re.event);break;case 8:this._domElement.setAttribute("data-mode-id",q.getLanguageId()),this._onDidChangeModelLanguage.fire(re.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(re.event);break;case 10:this._onDidChangeModelContent.fire(re.event);break;case 11:this._onDidChangeModelOptions.fire(re.event);break;case 12:this._onDidChangeModelTokens.fire(re.event);break}}));const[ne,oe]=this._createView(ie);if(oe){this._domElement.appendChild(ne.domNode.domNode);let re=Object.keys(this._contentWidgets);for(let ge=0,ve=re.length;ge<ve;ge++){const we=re[ge];ne.addContentWidget(this._contentWidgets[we])}re=Object.keys(this._overlayWidgets);for(let ge=0,ve=re.length;ge<ve;ge++){const we=re[ge];ne.addOverlayWidget(this._overlayWidgets[we])}re=Object.keys(this._glyphMarginWidgets);for(let ge=0,ve=re.length;ge<ve;ge++){const we=re[ge];ne.addGlyphMarginWidget(this._glyphMarginWidgets[we])}ne.render(!1,!0),ne.domNode.domNode.setAttribute("data-uri",q.uri.toString())}this._modelData=new Z(q,ie,ne,oe,W,K)}_createView(q){let W;this.isSimpleWidget?W={paste:(ne,oe,re,ge)=>{this._paste("keyboard",ne,oe,re,ge)},type:ne=>{this._type("keyboard",ne)},compositionType:(ne,oe,re,ge)=>{this._compositionType("keyboard",ne,oe,re,ge)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:W={paste:(ne,oe,re,ge)=>{const ve={text:ne,pasteOnNewLine:oe,multicursorText:re,mode:ge};this._commandService.executeCommand("paste",ve)},type:ne=>{const oe={text:ne};this._commandService.executeCommand("type",oe)},compositionType:(ne,oe,re,ge)=>{if(re||ge){const ve={text:ne,replacePrevCharCnt:oe,replaceNextCharCnt:re,positionDelta:ge};this._commandService.executeCommand("compositionType",ve)}else{const ve={text:ne,replaceCharCnt:oe};this._commandService.executeCommand("replacePreviousChar",ve)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const K=new i.ViewUserInputEvents(q.coordinatesConverter);return K.onKeyDown=ne=>this._onKeyDown.fire(ne),K.onKeyUp=ne=>this._onKeyUp.fire(ne),K.onContextMenu=ne=>this._onContextMenu.fire(ne),K.onMouseMove=ne=>this._onMouseMove.fire(ne),K.onMouseLeave=ne=>this._onMouseLeave.fire(ne),K.onMouseDown=ne=>this._onMouseDown.fire(ne),K.onMouseUp=ne=>this._onMouseUp.fire(ne),K.onMouseDrag=ne=>this._onMouseDrag.fire(ne),K.onMouseDrop=ne=>this._onMouseDrop.fire(ne),K.onMouseDropCanceled=ne=>this._onMouseDropCanceled.fire(ne),K.onMouseWheel=ne=>this._onMouseWheel.fire(ne),[new o.View(W,this._configuration,this._themeService.getColorTheme(),q,K,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(q){q?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const q=this._modelData.model,W=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),W&&this._domElement.contains(W)&&this._domElement.removeChild(W),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),q}_removeDecorationType(q){this._codeEditorService.removeDecorationType(q)}hasModel(){return this._modelData!==null}showDropIndicatorAt(q){const W=[{range:new l.Range(q.lineNumber,q.column,q.lineNumber,q.column),options:Wt.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(W),this.revealPosition(q,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(q,W){this._contextKeyService.createKey(q,W)}};e.CodeEditorWidget=se,se.dropIntoEditorDecorationOptions=d.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),e.CodeEditorWidget=se=Ne([fe(3,w.IInstantiationService),fe(4,v.ICodeEditorService),fe(5,p.ICommandService),fe(6,C.IContextKeyService),fe(7,T.IThemeService),fe(8,I.INotificationService),fe(9,P.IAccessibilityService),fe(10,x.ILanguageConfigurationService),fe(11,B.ILanguageFeaturesService)],se);class le extends _.Disposable{constructor(q){super(),this._emitterOptions=q,this._onDidChangeToTrue=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(q){const W=q?2:1;this._value!==W&&(this._value=W,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=le;class te extends D.Emitter{constructor(q,W){super({deliveryQueue:W}),this._contributions=q}fire(q){this._contributions.onBeforeInteractionEvent(),super.fire(q)}}class Y extends _.Disposable{constructor(q,W){super(),this._editor=q,W.createKey("editorId",q.getId()),this._editorSimpleInput=a.EditorContextKeys.editorSimpleInput.bindTo(W),this._editorFocus=a.EditorContextKeys.focus.bindTo(W),this._textInputFocus=a.EditorContextKeys.textInputFocus.bindTo(W),this._editorTextFocus=a.EditorContextKeys.editorTextFocus.bindTo(W),this._editorTabMovesFocus=a.EditorContextKeys.tabMovesFocus.bindTo(W),this._editorReadonly=a.EditorContextKeys.readOnly.bindTo(W),this._inDiffEditor=a.EditorContextKeys.inDiffEditor.bindTo(W),this._editorColumnSelection=a.EditorContextKeys.columnSelection.bindTo(W),this._hasMultipleSelections=a.EditorContextKeys.hasMultipleSelections.bindTo(W),this._hasNonEmptySelection=a.EditorContextKeys.hasNonEmptySelection.bindTo(W),this._canUndo=a.EditorContextKeys.canUndo.bindTo(W),this._canRedo=a.EditorContextKeys.canRedo.bindTo(W),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(j.TabFocus.onDidChangeTabFocus(()=>this._editorTabMovesFocus.set(j.TabFocus.getTabFocusMode("editorFocus")))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const q=this._editor.getOptions();this._editorTabMovesFocus.set(j.TabFocus.getTabFocusMode("editorFocus")),this._editorReadonly.set(q.get(89)),this._inDiffEditor.set(q.get(60)),this._editorColumnSelection.set(q.get(21))}_updateFromSelection(){const q=this._editor.getSelections();q?(this._hasMultipleSelections.set(q.length>1),this._hasNonEmptySelection.set(q.some(W=>!W.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const q=this._editor.getModel();this._canUndo.set(!!(q&&q.canUndo())),this._canRedo.set(!!(q&&q.canRedo()))}}class U extends _.Disposable{constructor(q,W,K){super(),this._editor=q,this._contextKeyService=W,this._languageFeaturesService=K,this._langId=a.EditorContextKeys.languageId.bindTo(W),this._hasCompletionItemProvider=a.EditorContextKeys.hasCompletionItemProvider.bindTo(W),this._hasCodeActionsProvider=a.EditorContextKeys.hasCodeActionsProvider.bindTo(W),this._hasCodeLensProvider=a.EditorContextKeys.hasCodeLensProvider.bindTo(W),this._hasDefinitionProvider=a.EditorContextKeys.hasDefinitionProvider.bindTo(W),this._hasDeclarationProvider=a.EditorContextKeys.hasDeclarationProvider.bindTo(W),this._hasImplementationProvider=a.EditorContextKeys.hasImplementationProvider.bindTo(W),this._hasTypeDefinitionProvider=a.EditorContextKeys.hasTypeDefinitionProvider.bindTo(W),this._hasHoverProvider=a.EditorContextKeys.hasHoverProvider.bindTo(W),this._hasDocumentHighlightProvider=a.EditorContextKeys.hasDocumentHighlightProvider.bindTo(W),this._hasDocumentSymbolProvider=a.EditorContextKeys.hasDocumentSymbolProvider.bindTo(W),this._hasReferenceProvider=a.EditorContextKeys.hasReferenceProvider.bindTo(W),this._hasRenameProvider=a.EditorContextKeys.hasRenameProvider.bindTo(W),this._hasSignatureHelpProvider=a.EditorContextKeys.hasSignatureHelpProvider.bindTo(W),this._hasInlayHintsProvider=a.EditorContextKeys.hasInlayHintsProvider.bindTo(W),this._hasDocumentFormattingProvider=a.EditorContextKeys.hasDocumentFormattingProvider.bindTo(W),this._hasDocumentSelectionFormattingProvider=a.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(W),this._hasMultipleDocumentFormattingProvider=a.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(W),this._hasMultipleDocumentSelectionFormattingProvider=a.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(W),this._isInWalkThrough=a.EditorContextKeys.isInWalkThroughSnippet.bindTo(W);const ie=()=>this._update();this._register(q.onDidChangeModel(ie)),this._register(q.onDidChangeModelLanguage(ie)),this._register(K.completionProvider.onDidChange(ie)),this._register(K.codeActionProvider.onDidChange(ie)),this._register(K.codeLensProvider.onDidChange(ie)),this._register(K.definitionProvider.onDidChange(ie)),this._register(K.declarationProvider.onDidChange(ie)),this._register(K.implementationProvider.onDidChange(ie)),this._register(K.typeDefinitionProvider.onDidChange(ie)),this._register(K.hoverProvider.onDidChange(ie)),this._register(K.documentHighlightProvider.onDidChange(ie)),this._register(K.documentSymbolProvider.onDidChange(ie)),this._register(K.referenceProvider.onDidChange(ie)),this._register(K.renameProvider.onDidChange(ie)),this._register(K.documentFormattingEditProvider.onDidChange(ie)),this._register(K.documentRangeFormattingEditProvider.onDidChange(ie)),this._register(K.signatureHelpProvider.onDidChange(ie)),this._register(K.inlayHintsProvider.onDidChange(ie)),ie()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const q=this._editor.getModel();if(!q){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(q.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(q)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(q)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(q)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(q)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(q)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(q)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(q)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(q)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(q)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(q)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(q)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(q)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(q)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(q)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(q)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(q)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(q)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(q).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(q).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(q).length>1),this._isInWalkThrough.set(q.uri.scheme===m.Schemas.walkThroughSnippet)})}}e.EditorModeContext=U;class V extends _.Disposable{constructor(q){super(),this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(k.trackFocus(q)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class H{get length(){return this._decorationIds.length}constructor(q,W){this._editor=q,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(W)&&W.length>0&&this.set(W)}onDidChange(q,W,K){return this._editor.onDidChangeModelDecorations(ie=>{this._isChangingDecorations||q.call(W,ie)},K)}getRange(q){return!this._editor.hasModel()||q>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[q])}getRanges(){if(!this._editor.hasModel())return[];const q=this._editor.getModel(),W=[];for(const K of this._decorationIds){const ie=q.getDecorationRange(K);ie&&W.push(ie)}return W}has(q){return this._decorationIds.includes(q.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(q){try{this._isChangingDecorations=!0,this._editor.changeDecorations(W=>{this._decorationIds=W.deltaDecorations(this._decorationIds,q)})}finally{this._isChangingDecorations=!1}return this._decorationIds}}const $=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),X=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Q(ue){return $+encodeURIComponent(ue.toString())+X}const de=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ce=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function ae(ue){return de+encodeURIComponent(ue.toString())+ce}(0,T.registerThemingParticipant)((ue,q)=>{const W=ue.getColor(b.editorErrorForeground);W&&q.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Q(W)}") repeat-x bottom left; }`);const K=ue.getColor(b.editorWarningForeground);K&&q.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Q(K)}") repeat-x bottom left; }`);const ie=ue.getColor(b.editorInfoForeground);ie&&q.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Q(ie)}") repeat-x bottom left; }`);const ne=ue.getColor(b.editorHintForeground);ne&&q.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${ae(ne)}") no-repeat bottom left; }`);const oe=ue.getColor(c.editorUnnecessaryCodeOpacity);oe&&q.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${oe.rgba.a}; }`)})}),define(J[254],ee([1,0,7,35,91,175,132,85,13,26,12,6,55,2,27,60,201,16,33,108,164,239,350,611,344,36,11,5,93,150,20,39,129,95,67,213,600,96,14,57,8,160,44,84,32,63,23,428]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E,I,T,P,A,M,N,O,x,F,B,z,j,R,Z,se,le,te,Y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=e.diffEditorWidgetTtPolicy=void 0;class U{constructor(be,me){this._contextMenuService=be,this._clipboardService=me,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(be){return be.filter(me=>!this._zonesMap[String(me.id)])}clean(be){this._zones.length>0&&be.changeViewZones(me=>{for(const Se of this._zones)me.removeZone(Se)}),this._zones=[],this._zonesMap={},be.changeDecorations(me=>{this._decorations=me.deltaDecorations(this._decorations,[])})}apply(be,me,Se,he){const Ce=he?u.StableEditorScrollState.capture(be):null;be.changeViewZones(pe=>{var _e;for(const ke of this._zones)pe.removeZone(ke);for(const ke of this._inlineDiffMargins)ke.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let ke=0,Re=Se.zones.length;ke<Re;ke++){const Pe=Se.zones[ke];Pe.suppressMouseDown=!0,Pe.showInHiddenAreas=!0;const Fe=pe.addZone(Pe);this._zones.push(Fe),this._zonesMap[String(Fe)]=!0,Se.zones[ke].diff&&Pe.marginDomNode&&(Pe.suppressMouseDown=!1,((_e=Se.zones[ke].diff)===null||_e===void 0?void 0:_e.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new b.InlineDiffMargin(Fe,Pe.marginDomNode,be,Se.zones[ke].diff,this._contextMenuService,this._clipboardService)))}}),Ce?.restore(be),be.changeDecorations(pe=>{this._decorations=pe.deltaDecorations(this._decorations,Se.decorations)}),me?.setZones(Se.overviewZones)}}let V=0;const H=(0,te.registerIcon)("diff-insert",f.Codicon.add,x.localize(0,null)),$=(0,te.registerIcon)("diff-remove",f.Codicon.remove,x.localize(1,null));e.diffEditorWidgetTtPolicy=(0,L.createTrustedTypesPolicy)("diffEditorWidget",{createHTML:Te=>Te});const X=x.localize(2,null);let Q=class ft extends t.Disposable{constructor(be,me,Se,he,Ce,pe,_e,ke,Re,Pe,Fe){super(),this._editorProgressService=Fe,this._onDidDispose=this._register(new o.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModel=this._register(new o.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidUpdateDiff=this._register(new o.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new o.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,_e.willCreateDiffEditor(),this._documentDiffProvider=this._register(pe.createInstance(g.WorkerBasedDocumentDiffProvider,me)),this._register(this._documentDiffProvider.onDidChange(xe=>this._beginUpdateDecorationsSoon())),this._codeEditorService=_e,this._contextKeyService=this._register(Ce.createScoped(be)),this._instantiationService=pe.createChild(new R.ServiceCollection([B.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=ke,this._notificationService=Re,this._id=++V,this._state=0,this._updatingDiffProgress=null,this._domElement=be,me=me||{},this._options=De(me,{enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{collapseUnchangedRegions:!1},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1}),this.isEmbeddedDiffEditorKey=T.EditorContextKeys.isEmbeddedDiffEditor.bindTo(this._contextKeyService),this.isEmbeddedDiffEditorKey.set(typeof me.isInEmbeddedEditor<"u"?me.isInEmbeddedEditor:!1),this._updateDecorationsRunner=this._register(new S.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=ft._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,k.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(y.addStandardDisposableListener(this._overviewDomElement,y.EventType.POINTER_DOWN,xe=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(xe)})),this._register(y.addDisposableListener(this._overviewDomElement,y.EventType.MOUSE_WHEEL,xe=>{this._modifiedEditor.delegateScrollFromMouseWheelEvent(xe)},{passive:!1})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new U(Pe,he),this._modifiedEditorState=new U(Pe,he),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new l.ElementSizeObserver(this._containerDomElement,me.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),me.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(me,Se.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(me,Se.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=pe.createInstance(c.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new W(this._createDataSource(),this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio)):this._setStrategy(new ie(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(ke.onDidColorThemeChange(xe=>{this._strategy&&this._strategy.applyColors(xe)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=ft._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const We=h.EditorExtensionsRegistry.getDiffEditorContributions();for(const xe of We)try{this._register(pe.createInstance(xe.ctor,this))}catch(Ke){(0,v.onUnexpectedError)(Ke)}this._codeEditorService.addDiffEditor(this)}_setState(be){this._state!==be&&(this._state=be,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}accessibleDiffViewerNext(){this._reviewPane.next()}accessibleDiffViewerPrev(){this._reviewPane.prev()}static _getClassName(be,me){let Se="monaco-diff-editor monaco-editor-background ";return me&&(Se+="side-by-side "),Se+=(0,Y.getThemeTypeSelector)(be.type),Se}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){this._options.renderOverviewRuler&&(m.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(be,me){const Se=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(be),me);this._register(Se.onDidScrollChange(Ce=>{this._isHandlingScrollEvent||!Ce.scrollTopChanged&&!Ce.scrollLeftChanged&&!Ce.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:Ce.scrollLeft,scrollTop:Ce.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Se.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Se.onDidChangeConfiguration(Ce=>{Se.getModel()&&(Ce.hasChanged(49)&&this._updateDecorationsRunner.schedule(),Ce.hasChanged(143)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Se.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(Se.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const he=this._contextKeyService.createKey("isInDiffLeftEditor",Se.hasWidgetFocus());return this._register(Se.onDidFocusEditorWidget(()=>he.set(!0))),this._register(Se.onDidBlurEditorWidget(()=>he.set(!1))),this._register(Se.onDidContentSizeChange(Ce=>{const pe=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+ft.ONE_OVERVIEW_WIDTH,_e=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:_e,contentWidth:pe,contentHeightChanged:Ce.contentHeightChanged,contentWidthChanged:Ce.contentWidthChanged})})),Se}_createRightHandSideEditor(be,me){const Se=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(be),me);this._register(Se.onDidScrollChange(Ce=>{this._isHandlingScrollEvent||!Ce.scrollTopChanged&&!Ce.scrollLeftChanged&&!Ce.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:Ce.scrollLeft,scrollTop:Ce.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Se.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Se.onDidChangeConfiguration(Ce=>{Se.getModel()&&(Ce.hasChanged(49)&&this._updateDecorationsRunner.schedule(),Ce.hasChanged(143)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Se.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(Se.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(Se.onDidChangeModelOptions(Ce=>{Ce.tabSize&&this._updateDecorationsRunner.schedule()}));const he=this._contextKeyService.createKey("isInDiffRightEditor",Se.hasWidgetFocus());return this._register(Se.onDidFocusEditorWidget(()=>he.set(!0))),this._register(Se.onDidBlurEditorWidget(()=>he.set(!1))),this._register(Se.onDidContentSizeChange(Ce=>{const pe=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+ft.ONE_OVERVIEW_WIDTH,_e=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:_e,contentWidth:pe,contentHeightChanged:Ce.contentHeightChanged,contentWidthChanged:Ce.contentWidthChanged})})),this._register(Se.onMouseDown(Ce=>{var pe,_e;if(!Ce.event.rightButton&&Ce.target.position&&(!((pe=Ce.target.element)===null||pe===void 0)&&pe.className.includes("arrow-revert-change"))){const ke=Ce.target.position.lineNumber,Re=Ce.target,Pe=(_e=this._diffComputationResult)===null||_e===void 0?void 0:_e.changes.find(Fe=>Re?.detail.afterLineNumber===Fe.modifiedStartLineNumber||Fe.modifiedEndLineNumber>0&&Fe.modifiedStartLineNumber===ke);Pe&&this.revertChange(Pe),Ce.event.stopPropagation(),this._updateDecorations();return}})),Se}revertChange(be){const me=this._modifiedEditor,Se=this._originalEditor.getModel(),he=this._modifiedEditor.getModel();if(!Se||!he||!me)return;const Ce=be.originalEndLineNumber>0?new w.Range(be.originalStartLineNumber,1,be.originalEndLineNumber,Se.getLineMaxColumn(be.originalEndLineNumber)):null,pe=Ce?Se.getValueInRange(Ce):null,_e=be.modifiedEndLineNumber>0?new w.Range(be.modifiedStartLineNumber,1,be.modifiedEndLineNumber,he.getLineMaxColumn(be.modifiedEndLineNumber)):null,ke=he.getEOL();if(be.originalEndLineNumber===0&&_e){let Re=_e;be.modifiedStartLineNumber>1?Re=_e.setStartPosition(be.modifiedStartLineNumber-1,he.getLineMaxColumn(be.modifiedStartLineNumber-1)):be.modifiedEndLineNumber<he.getLineCount()&&(Re=_e.setEndPosition(be.modifiedEndLineNumber+1,1)),me.executeEdits("diffEditor",[{range:Re,text:""}])}else if(be.modifiedEndLineNumber===0&&pe!==null){const Re=be.modifiedStartLineNumber<he.getLineCount()?new C.Position(be.modifiedStartLineNumber+1,1):new C.Position(be.modifiedStartLineNumber,he.getLineMaxColumn(be.modifiedStartLineNumber));me.executeEdits("diffEditor",[{range:w.Range.fromPositions(Re,Re),text:be.modifiedStartLineNumber<he.getLineCount()?pe+ke:ke+pe}])}else _e&&pe!==null&&me.executeEdits("diffEditor",[{range:_e,text:pe}])}_createInnerEditor(be,me,Se,he){return be.createInstance(a.CodeEditorWidget,me,Se,he)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return I.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(be){const me=De(be,this._options),Se=Ae(this._options,me);this._options=me,this.isEmbeddedDiffEditorKey.set(typeof be.isInEmbeddedEditor<"u"?be.isInEmbeddedEditor:!1);const he=Se.ignoreTrimWhitespace||Se.renderIndicators||Se.renderMarginRevertIcon,Ce=this._isVisible&&(Se.maxComputationTime||Se.maxFileSize);this._documentDiffProvider.setOptions(me),he?this._beginUpdateDecorations():Ce&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(be)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(be)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio),Se.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new W(this._createDataSource(),this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio)):this._setStrategy(new ie(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=ft._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),Se.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}createViewModel(be){return{model:be,waitForDiff(){return Le(this,void 0,void 0,function*(){})}}}setModel(be){if(be&&"model"in be&&(be=be.model),be&&(!be.original||!be.modified))throw new Error(be.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(be?be.original:null),this._modifiedEditor.setModel(be?be.modified:null),this._updateDecorationsRunner.cancel(),be&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),be&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport(),this._onDidChangeModel.fire(),this._diffNavigator=this._register(this._instantiationService.createInstance(d.DiffNavigator,this,{alwaysRevealFirst:!1,findResultLoop:this.getModifiedEditor().getOption(40).loop}))}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(be){return this._modifiedEditor.getVisibleColumnFromPosition(be)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(be,me="api"){this._modifiedEditor.setPosition(be,me)}revealLine(be,me=0){this._modifiedEditor.revealLine(be,me)}revealLineInCenter(be,me=0){this._modifiedEditor.revealLineInCenter(be,me)}revealLineInCenterIfOutsideViewport(be,me=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(be,me)}revealLineNearTop(be,me=0){this._modifiedEditor.revealLineNearTop(be,me)}revealPosition(be,me=0){this._modifiedEditor.revealPosition(be,me)}revealPositionInCenter(be,me=0){this._modifiedEditor.revealPositionInCenter(be,me)}revealPositionInCenterIfOutsideViewport(be,me=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(be,me)}revealPositionNearTop(be,me=0){this._modifiedEditor.revealPositionNearTop(be,me)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(be,me="api"){this._modifiedEditor.setSelection(be,me)}setSelections(be,me="api"){this._modifiedEditor.setSelections(be,me)}revealLines(be,me,Se=0){this._modifiedEditor.revealLines(be,me,Se)}revealLinesInCenter(be,me,Se=0){this._modifiedEditor.revealLinesInCenter(be,me,Se)}revealLinesInCenterIfOutsideViewport(be,me,Se=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(be,me,Se)}revealLinesNearTop(be,me,Se=0){this._modifiedEditor.revealLinesNearTop(be,me,Se)}revealRange(be,me=0,Se=!1,he=!0){this._modifiedEditor.revealRange(be,me,Se,he)}revealRangeInCenter(be,me=0){this._modifiedEditor.revealRangeInCenter(be,me)}revealRangeInCenterIfOutsideViewport(be,me=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(be,me)}revealRangeNearTop(be,me=0){this._modifiedEditor.revealRangeNearTop(be,me)}revealRangeNearTopIfOutsideViewport(be,me=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(be,me)}revealRangeAtTop(be,me=0){this._modifiedEditor.revealRangeAtTop(be,me)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}focus(){this._modifiedEditor.focus()}trigger(be,me,Se){this._modifiedEditor.trigger(be,me,Se)}createDecorationsCollection(be){return this._modifiedEditor.createDecorationsCollection(be)}changeDecorations(be){return this._modifiedEditor.changeDecorations(be)}saveViewState(){const be=this._originalEditor.saveViewState(),me=this._modifiedEditor.saveViewState();return{original:be,modified:me}}restoreViewState(be){if(be&&be.original&&be.modified){const me=be;this._originalEditor.restoreViewState(me.original),this._modifiedEditor.restoreViewState(me.modified)}}layout(be){this._elementSizeObserver.observe(be)}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const be=this._elementSizeObserver.getHeight(),me=this._getReviewHeight(),Se=ft.ENTIRE_DIFF_OVERVIEW_WIDTH-2*ft.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:ft.ONE_OVERVIEW_WIDTH,right:Se+ft.ONE_OVERVIEW_WIDTH,height:be-me}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:ft.ONE_OVERVIEW_WIDTH,height:be-me}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),ft.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(be,me){return!be&&!me?!0:!be||!me?!1:be.toString()===me.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1);const be=this._originalEditor.getModel(),me=this._modifiedEditor.getModel();if(!be||!me)return;this._diffComputationToken++;const Se=this._diffComputationToken,he=this._options.maxFileSize*1024*1024,Ce=pe=>{const _e=pe.getValueLength();return he===0||_e<=he};if(!Ce(be)||!Ce(me)){(!ft._equals(be.uri,this._lastOriginalWarning)||!ft._equals(me.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=be.uri,this._lastModifiedWarning=me.uri,this._notificationService.warn(x.localize(3,null)));return}this._setState(1),this._documentDiffProvider.computeDiff(be,me,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace,maxComputationTimeMs:this._options.maxComputationTime,computeMoves:!1}).then(pe=>{Se===this._diffComputationToken&&be===this._originalEditor.getModel()&&me===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult={identical:pe.identical,quitEarly:pe.quitEarly,changes2:pe.changes,changes:pe.changes.map(_e=>{let ke,Re,Pe,Fe,We=_e.innerChanges;return _e.originalRange.isEmpty?(ke=_e.originalRange.startLineNumber-1,Re=0,We=void 0):(ke=_e.originalRange.startLineNumber,Re=_e.originalRange.endLineNumberExclusive-1),_e.modifiedRange.isEmpty?(Pe=_e.modifiedRange.startLineNumber-1,Fe=0,We=void 0):(Pe=_e.modifiedRange.startLineNumber,Fe=_e.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:ke,originalEndLineNumber:Re,modifiedStartLineNumber:Pe,modifiedEndLineNumber:Fe,charChanges:We?.map(xe=>({originalStartLineNumber:xe.originalRange.startLineNumber,originalStartColumn:xe.originalRange.startColumn,originalEndLineNumber:xe.originalRange.endLineNumber,originalEndColumn:xe.originalRange.endColumn,modifiedStartLineNumber:xe.modifiedRange.startLineNumber,modifiedStartColumn:xe.modifiedRange.startColumn,modifiedEndLineNumber:xe.modifiedRange.endLineNumber,modifiedEndColumn:xe.modifiedRange.endColumn}))}})},this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},pe=>{Se===this._diffComputationToken&&be===this._originalEditor.getModel()&&me===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const be=this._diffComputationResult?this._diffComputationResult.changes:[],me=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),Se=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),he=this._options.renderMarginRevertIcon&&!this._modifiedEditor.getOption(89),Ce=this._strategy.getEditorsDiffDecorations(be,this._options.ignoreTrimWhitespace,this._options.renderIndicators,he,me,Se);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,Ce.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,Ce.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(be){const me=Object.assign({},be);return me.inDiffEditor=!0,me.automaticLayout=!1,me.scrollbar=Object.assign({},me.scrollbar||{}),me.scrollbar.vertical="visible",me.folding=!1,me.codeLens=this._options.diffCodeLens,me.fixedOverflowWidgets=!0,me.minimap=Object.assign({},me.minimap||{}),me.minimap.enabled=!1,me}_adjustOptionsForLeftHandSide(be){const me=this._adjustOptionsForSubEditor(be);return this._options.renderSideBySide?me.wordWrapOverride1=this._options.diffWordWrap:(me.wordWrapOverride1="off",me.wordWrapOverride2="off",me.stickyScroll={enabled:!1}),be.originalAriaLabel&&(me.ariaLabel=be.originalAriaLabel),this._updateAriaLabel(me),me.readOnly=!this._options.originalEditable,me.dropIntoEditor={enabled:!me.readOnly},me.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},me),{dimension:{height:0,width:0}})}_updateAriaLabel(be){var me;let Se=(me=be.ariaLabel)!==null&&me!==void 0?me:"";this._options.accessibilityVerbose?Se+=X:Se&&(Se=Se.replaceAll(X,"")),be.ariaLabel=Se}_adjustOptionsForRightHandSide(be){const me=this._adjustOptionsForSubEditor(be);return be.modifiedAriaLabel&&(me.ariaLabel=be.modifiedAriaLabel),this._updateAriaLabel(me),me.wordWrapOverride1=this._options.diffWordWrap,me.revealHorizontalRightPadding=p.EditorOptions.revealHorizontalRightPadding.defaultValue+ft.ENTIRE_DIFF_OVERVIEW_WIDTH,me.scrollbar.verticalHasArrows=!1,me.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},me),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const be=this._elementSizeObserver.getWidth(),me=this._elementSizeObserver.getHeight(),Se=this._getReviewHeight(),he=this._strategy.layout();this._originalDomNode.style.width=he+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=be-he-ft.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._modifiedDomNode.style.left=he+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=me-Se+"px",this._overviewDomElement.style.width=ft.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=be-ft.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(ft.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:he,height:me-Se}),this._modifiedEditor.layout({width:be-he-(this._options.renderOverviewRuler?ft.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:me-Se}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(me-Se,be,Se),this._layoutOverviewViewport()}_layoutOverviewViewport(){const be=this._computeOverviewViewport();be?(this._overviewViewportDomElement.setTop(be.top),this._overviewViewportDomElement.setHeight(be.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const be=this._modifiedEditor.getLayoutInfo();if(!be)return null;const me=this._modifiedEditor.getScrollTop(),Se=this._modifiedEditor.getScrollHeight(),he=Math.max(0,be.height),Ce=Math.max(0,he-2*0),pe=Se>0?Ce/Se:0,_e=Math.max(0,Math.floor(be.height*pe)),ke=Math.floor(me*pe);return{height:_e,top:ke}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(be){var me;(me=this._strategy)===null||me===void 0||me.dispose(),this._strategy=be,this._boundarySashes&&be.setBoundarySashes(this._boundarySashes),be.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}};e.DiffEditorWidget=Q,Q.ONE_OVERVIEW_WIDTH=15,Q.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Q.UPDATE_DIFF_DECORATIONS_DELAY=200,e.DiffEditorWidget=Q=Ne([fe(3,F.IClipboardService),fe(4,B.IContextKeyService),fe(5,j.IInstantiationService),fe(6,s.ICodeEditorService),fe(7,Y.IThemeService),fe(8,Z.INotificationService),fe(9,z.IContextMenuService),fe(10,se.IEditorProgressService)],Q);class de extends t.Disposable{constructor(be){super(),this._dataSource=be,this._insertColor=null,this._removeColor=null}applyColors(be){const me=be.getColor(le.diffOverviewRulerInserted)||(be.getColor(le.diffInserted)||le.defaultInsertColor).transparent(2),Se=be.getColor(le.diffOverviewRulerRemoved)||(be.getColor(le.diffRemoved)||le.defaultRemoveColor).transparent(2),he=!me.equals(this._insertColor)||!Se.equals(this._removeColor);return this._insertColor=me,this._removeColor=Se,he}getEditorsDiffDecorations(be,me,Se,he,Ce,pe){pe=pe.sort((Pe,Fe)=>Pe.afterLineNumber-Fe.afterLineNumber),Ce=Ce.sort((Pe,Fe)=>Pe.afterLineNumber-Fe.afterLineNumber);const _e=this._getViewZones(be,Ce,pe,Se),ke=this._getOriginalEditorDecorations(_e,be,me,Se),Re=this._getModifiedEditorDecorations(_e,be,me,Se,he);return{original:{decorations:ke.decorations,overviewZones:ke.overviewZones,zones:_e.original},modified:{decorations:Re.decorations,overviewZones:Re.overviewZones,zones:_e.modified}}}setBoundarySashes(be){}}class ce{constructor(be){this._source=be,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class ae{constructor(be,me,Se,he,Ce){this._lineChanges=be,this._originalForeignVZ=me,this._modifiedForeignVZ=Se,this._originalEditor=he,this._modifiedEditor=Ce}static _getViewLineCount(be,me,Se){const he=be.getModel(),Ce=be._getViewModel();if(he&&Ce){const pe=Ee(he,Ce,me,Se);return pe.endLineNumber-pe.startLineNumber+1}return Se-me+1}getViewZones(){const be=this._originalEditor.getOption(65),me=this._modifiedEditor.getOption(65),Se=this._originalEditor.getOption(143).wrappingColumn!==-1,he=this._modifiedEditor.getOption(143).wrappingColumn!==-1,Ce=Se||he,pe=this._originalEditor.getModel(),_e=this._originalEditor._getViewModel().coordinatesConverter,ke=this._modifiedEditor._getViewModel().coordinatesConverter,Re={original:[],modified:[]};let Pe=0,Fe=0,We=0,xe=0,Ke=0,je=0;const Je=(Qe,et)=>Qe.afterLineNumber-et.afterLineNumber,ze=(Qe,et)=>{if(et.domNode===null&&Qe.length>0){const qe=Qe[Qe.length-1];if(qe.afterLineNumber===et.afterLineNumber&&qe.domNode===null){qe.heightInLines+=et.heightInLines;return}}Qe.push(et)},Me=new ce(this._modifiedForeignVZ),Be=new ce(this._originalForeignVZ);let He=1,Ze=1;for(let Qe=0,et=this._lineChanges.length;Qe<=et;Qe++){const qe=Qe<et?this._lineChanges[Qe]:null;qe!==null?(We=qe.originalStartLineNumber+(qe.originalEndLineNumber>0?-1:0),xe=qe.modifiedStartLineNumber+(qe.modifiedEndLineNumber>0?-1:0),Fe=qe.originalEndLineNumber>0?ae._getViewLineCount(this._originalEditor,qe.originalStartLineNumber,qe.originalEndLineNumber):0,Pe=qe.modifiedEndLineNumber>0?ae._getViewLineCount(this._modifiedEditor,qe.modifiedStartLineNumber,qe.modifiedEndLineNumber):0,Ke=Math.max(qe.originalStartLineNumber,qe.originalEndLineNumber),je=Math.max(qe.modifiedStartLineNumber,qe.modifiedEndLineNumber)):(We+=1e7+Fe,xe+=1e7+Pe,Ke=We,je=xe);let rt=[],st=[];if(Ce){let Ye;qe?qe.originalEndLineNumber>0?Ye=qe.originalStartLineNumber-He:Ye=qe.modifiedStartLineNumber-Ze:Ye=pe.getLineCount()-He+1;for(let lt=0;lt<Ye;lt++){const Ct=He+lt,ot=Ze+lt,$e=_e.getModelLineViewLineCount(Ct),Oe=ke.getModelLineViewLineCount(ot);$e<Oe?rt.push({afterLineNumber:Ct,heightInLines:Oe-$e,domNode:null,marginDomNode:null}):$e>Oe&&st.push({afterLineNumber:ot,heightInLines:$e-Oe,domNode:null,marginDomNode:null})}qe&&(He=(qe.originalEndLineNumber>0?qe.originalEndLineNumber:qe.originalStartLineNumber)+1,Ze=(qe.modifiedEndLineNumber>0?qe.modifiedEndLineNumber:qe.modifiedStartLineNumber)+1)}for(;Me.current&&Me.current.afterLineNumber<=je;){let Ye;Me.current.afterLineNumber<=xe?Ye=We-xe+Me.current.afterLineNumber:Ye=Ke;let lt=null;qe&&qe.modifiedStartLineNumber<=Me.current.afterLineNumber&&Me.current.afterLineNumber<=qe.modifiedEndLineNumber&&(lt=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),rt.push({afterLineNumber:Ye,heightInLines:Me.current.height/me,domNode:null,marginDomNode:lt}),Me.advance()}for(;Be.current&&Be.current.afterLineNumber<=Ke;){let Ye;Be.current.afterLineNumber<=We?Ye=xe-We+Be.current.afterLineNumber:Ye=je,st.push({afterLineNumber:Ye,heightInLines:Be.current.height/be,domNode:null}),Be.advance()}if(qe!==null&&re(qe)){const Ye=this._produceOriginalFromDiff(qe,Fe,Pe);Ye&&rt.push(Ye)}if(qe!==null&&ge(qe)){const Ye=this._produceModifiedFromDiff(qe,Fe,Pe);Ye&&st.push(Ye)}let ut=0,ht=0;for(rt=rt.sort(Je),st=st.sort(Je);ut<rt.length&&ht<st.length;){const Ye=rt[ut],lt=st[ht],Ct=Ye.afterLineNumber-We,ot=lt.afterLineNumber-xe;Ct<ot?(ze(Re.original,Ye),ut++):ot<Ct?(ze(Re.modified,lt),ht++):Ye.shouldNotShrink?(ze(Re.original,Ye),ut++):lt.shouldNotShrink?(ze(Re.modified,lt),ht++):Ye.heightInLines>=lt.heightInLines?(Ye.heightInLines-=lt.heightInLines,ht++):(lt.heightInLines-=Ye.heightInLines,ut++)}for(;ut<rt.length;)ze(Re.original,rt[ut]),ut++;for(;ht<st.length;)ze(Re.modified,st[ht]),ht++}return{original:ae._ensureDomNodes(Re.original),modified:ae._ensureDomNodes(Re.modified)}}static _ensureDomNodes(be){return be.map(me=>(me.domNode||(me.domNode=ye()),me))}}function ue(Te,be,me,Se,he){return{range:new w.Range(Te,be,me,Se),options:he}}const q={arrowRevertChange:P.ModelDecorationOptions.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new i.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(x.localize(4,null)),glyphMarginClassName:"arrow-revert-change "+n.ThemeIcon.asClassName(f.Codicon.arrowRight),zIndex:10001}),charDelete:P.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:P.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:P.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:P.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:P.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:P.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+n.ThemeIcon.asClassName(H),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:P.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:P.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+n.ThemeIcon.asClassName($),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:P.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class W extends de{constructor(be,me,Se){super(be),this._disableSash=me===!1,this._defaultRatio=Se,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new _.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(he=>this._onSashDrag(he)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(be,me){this._defaultRatio=me;const Se=be===!1;this._disableSash!==Se&&(this._disableSash=Se,this._sash.state=this._disableSash?0:3)}layout(be=this._sashRatio||this._defaultRatio){const Se=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Q.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let he=Math.floor((be||this._defaultRatio)*Se);const Ce=Math.floor(this._defaultRatio*Se);return he=this._disableSash?Ce:he||Ce,Se>W.MINIMUM_EDITOR_WIDTH*2?(he<W.MINIMUM_EDITOR_WIDTH&&(he=W.MINIMUM_EDITOR_WIDTH),he>Se-W.MINIMUM_EDITOR_WIDTH&&(he=Se-W.MINIMUM_EDITOR_WIDTH)):he=Ce,this._sashPosition!==he&&(this._sashPosition=he),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(be){const Se=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Q.ENTIRE_DIFF_OVERVIEW_WIDTH:0),he=this.layout((this._startSashPosition+(be.currentX-be.startX))/Se);this._sashRatio=he/Se,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=this._defaultRatio,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(be){return 0}getVerticalSashLeft(be){return this._sashPosition}getVerticalSashHeight(be){return this._dataSource.getHeight()}setBoundarySashes(be){this._sash.orthogonalEndSash=be.bottom}_getViewZones(be,me,Se){const he=this._dataSource.getOriginalEditor(),Ce=this._dataSource.getModifiedEditor();return new K(be,me,Se,he,Ce).getViewZones()}_getOriginalEditorDecorations(be,me,Se,he){const Ce=this._dataSource.getOriginalEditor(),pe=String(this._removeColor),_e={decorations:[],overviewZones:[]},ke=Ce.getModel(),Re=Ce._getViewModel();for(const Pe of me)if(ge(Pe)){_e.decorations.push({range:new w.Range(Pe.originalStartLineNumber,1,Pe.originalEndLineNumber,1073741824),options:he?q.lineDeleteWithSign:q.lineDelete}),(!re(Pe)||!Pe.charChanges)&&_e.decorations.push(ue(Pe.originalStartLineNumber,1,Pe.originalEndLineNumber,1073741824,q.charDeleteWholeLine));const Fe=Ee(ke,Re,Pe.originalStartLineNumber,Pe.originalEndLineNumber);if(_e.overviewZones.push(new O.OverviewRulerZone(Fe.startLineNumber,Fe.endLineNumber,0,pe)),Pe.charChanges){for(const We of Pe.charChanges)if(we(We))if(Se)for(let xe=We.originalStartLineNumber;xe<=We.originalEndLineNumber;xe++){let Ke,je;xe===We.originalStartLineNumber?Ke=We.originalStartColumn:Ke=ke.getLineFirstNonWhitespaceColumn(xe),xe===We.originalEndLineNumber?je=We.originalEndColumn:je=ke.getLineLastNonWhitespaceColumn(xe),_e.decorations.push(ue(xe,Ke,xe,je,q.charDelete))}else _e.decorations.push(ue(We.originalStartLineNumber,We.originalStartColumn,We.originalEndLineNumber,We.originalEndColumn,q.charDelete))}}return _e}_getModifiedEditorDecorations(be,me,Se,he,Ce){const pe=this._dataSource.getModifiedEditor(),_e=String(this._insertColor),ke={decorations:[],overviewZones:[]},Re=pe.getModel(),Pe=pe._getViewModel();for(const Fe of me){if(Ce)if(Fe.modifiedEndLineNumber>0)ke.decorations.push({range:new w.Range(Fe.modifiedStartLineNumber,1,Fe.modifiedStartLineNumber,1),options:q.arrowRevertChange});else{const We=be.modified.find(xe=>xe.afterLineNumber===Fe.modifiedStartLineNumber);We&&(We.marginDomNode=Ie())}if(re(Fe)){ke.decorations.push({range:new w.Range(Fe.modifiedStartLineNumber,1,Fe.modifiedEndLineNumber,1073741824),options:he?q.lineInsertWithSign:q.lineInsert}),(!ge(Fe)||!Fe.charChanges)&&ke.decorations.push(ue(Fe.modifiedStartLineNumber,1,Fe.modifiedEndLineNumber,1073741824,q.charInsertWholeLine));const We=Ee(Re,Pe,Fe.modifiedStartLineNumber,Fe.modifiedEndLineNumber);if(ke.overviewZones.push(new O.OverviewRulerZone(We.startLineNumber,We.endLineNumber,0,_e)),Fe.charChanges){for(const xe of Fe.charChanges)if(ve(xe))if(Se)for(let Ke=xe.modifiedStartLineNumber;Ke<=xe.modifiedEndLineNumber;Ke++){let je,Je;Ke===xe.modifiedStartLineNumber?je=xe.modifiedStartColumn:je=Re.getLineFirstNonWhitespaceColumn(Ke),Ke===xe.modifiedEndLineNumber?Je=xe.modifiedEndColumn:Je=Re.getLineLastNonWhitespaceColumn(Ke),ke.decorations.push(ue(Ke,je,Ke,Je,q.charInsert))}else ke.decorations.push(ue(xe.modifiedStartLineNumber,xe.modifiedStartColumn,xe.modifiedEndLineNumber,xe.modifiedEndColumn,q.charInsert))}}}return ke}}W.MINIMUM_EDITOR_WIDTH=100;class K extends ae{constructor(be,me,Se,he,Ce){super(be,me,Se,he,Ce)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(be,me,Se){return Se>me?{afterLineNumber:Math.max(be.originalStartLineNumber,be.originalEndLineNumber),heightInLines:Se-me,domNode:null}:null}_produceModifiedFromDiff(be,me,Se){return me>Se?{afterLineNumber:Math.max(be.modifiedStartLineNumber,be.modifiedEndLineNumber),heightInLines:me-Se,domNode:null}:null}}class ie extends de{constructor(be,me){super(be),this._decorationsLeft=be.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(be.getOriginalEditor().onDidLayoutChange(Se=>{this._decorationsLeft!==Se.decorationsLeft&&(this._decorationsLeft=Se.decorationsLeft,be.relayoutEditors())}))}setEnableSplitViewResizing(be){}_getViewZones(be,me,Se,he){const Ce=this._dataSource.getOriginalEditor(),pe=this._dataSource.getModifiedEditor();return new ne(be,me,Se,Ce,pe,he).getViewZones()}_getOriginalEditorDecorations(be,me,Se,he){const Ce=String(this._removeColor),pe={decorations:[],overviewZones:[]},_e=this._dataSource.getOriginalEditor(),ke=_e.getModel(),Re=_e._getViewModel();let Pe=0;for(const Fe of me)if(ge(Fe)){for(pe.decorations.push({range:new w.Range(Fe.originalStartLineNumber,1,Fe.originalEndLineNumber,1073741824),options:q.lineDeleteMargin});Pe<be.modified.length;){const Ke=be.modified[Pe];if(Ke.diff&&Ke.diff.originalStartLineNumber>=Fe.originalStartLineNumber)break;Pe++}let We=0;if(Pe<be.modified.length){const Ke=be.modified[Pe];Ke.diff&&Ke.diff.originalStartLineNumber===Fe.originalStartLineNumber&&Ke.diff.originalEndLineNumber===Fe.originalEndLineNumber&&Ke.diff.modifiedStartLineNumber===Fe.modifiedStartLineNumber&&Ke.diff.modifiedEndLineNumber===Fe.modifiedEndLineNumber&&(We=Ke.heightInLines)}const xe=Ee(ke,Re,Fe.originalStartLineNumber,Fe.originalEndLineNumber);pe.overviewZones.push(new O.OverviewRulerZone(xe.startLineNumber,xe.endLineNumber,We,Ce))}return pe}_getModifiedEditorDecorations(be,me,Se,he,Ce){const pe=this._dataSource.getModifiedEditor(),_e=String(this._insertColor),ke={decorations:[],overviewZones:[]},Re=pe.getModel(),Pe=pe._getViewModel();for(const Fe of me)if(re(Fe)){ke.decorations.push({range:new w.Range(Fe.modifiedStartLineNumber,1,Fe.modifiedEndLineNumber,1073741824),options:he?q.lineInsertWithSign:q.lineInsert});const We=Ee(Re,Pe,Fe.modifiedStartLineNumber,Fe.modifiedEndLineNumber);if(ke.overviewZones.push(new O.OverviewRulerZone(We.startLineNumber,We.endLineNumber,0,_e)),Fe.charChanges){for(const xe of Fe.charChanges)if(ve(xe))if(Se)for(let Ke=xe.modifiedStartLineNumber;Ke<=xe.modifiedEndLineNumber;Ke++){let je,Je;Ke===xe.modifiedStartLineNumber?je=xe.modifiedStartColumn:je=Re.getLineFirstNonWhitespaceColumn(Ke),Ke===xe.modifiedEndLineNumber?Je=xe.modifiedEndColumn:Je=Re.getLineLastNonWhitespaceColumn(Ke),ke.decorations.push(ue(Ke,je,Ke,Je,q.charInsert))}else ke.decorations.push(ue(xe.modifiedStartLineNumber,xe.modifiedStartColumn,xe.modifiedEndLineNumber,xe.modifiedEndColumn,q.charInsert))}else ke.decorations.push(ue(Fe.modifiedStartLineNumber,1,Fe.modifiedEndLineNumber,1073741824,q.charInsertWholeLine))}return ke}layout(){return Math.max(5,this._decorationsLeft)}}class ne extends ae{constructor(be,me,Se,he,Ce,pe){super(be,me,Se,he,Ce),this._originalModel=he.getModel(),this._renderIndicators=pe,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const be=super.getViewZones();return this._finalize(be),be}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const be=document.createElement("div");return be.className="inline-added-margin-view-zone",be}_produceOriginalFromDiff(be,me,Se){const he=document.createElement("div");return he.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(be.originalStartLineNumber,be.originalEndLineNumber),heightInLines:Se,domNode:document.createElement("div"),marginDomNode:he}}_produceModifiedFromDiff(be,me,Se){const he=document.createElement("div");he.className=`view-lines line-delete ${D.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const Ce=document.createElement("div");Ce.className="inline-deleted-margin-view-zone";const pe={shouldNotShrink:!0,afterLineNumber:be.modifiedEndLineNumber===0?be.modifiedStartLineNumber:be.modifiedStartLineNumber-1,heightInLines:me,minWidthInPx:0,domNode:he,marginDomNode:Ce,diff:{originalStartLineNumber:be.originalStartLineNumber,originalEndLineNumber:be.originalEndLineNumber,modifiedStartLineNumber:be.modifiedStartLineNumber,modifiedEndLineNumber:be.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let _e=be.originalStartLineNumber;_e<=be.originalEndLineNumber;_e++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(_e),null,null);return this._pendingLineChange.push(be),this._pendingViewZones.push(pe),pe}_finalize(be){const me=this._modifiedEditor.getOptions(),Se=this._modifiedEditor.getModel().getOptions().tabSize,he=me.get(49),Ce=me.get(32),pe=he.typicalHalfwidthCharacterWidth,_e=me.get(102),ke=this._originalModel.mightContainNonBasicASCII(),Re=this._originalModel.mightContainRTL(),Pe=me.get(65),We=me.get(142).decorationsWidth,xe=me.get(115),Ke=me.get(97),je=me.get(92),Je=me.get(50),ze=this._lineBreaksComputer.finalize();let Me=0;for(let Be=0;Be<this._pendingLineChange.length;Be++){const He=this._pendingLineChange[Be],Ze=this._pendingViewZones[Be],Qe=Ze.domNode;(0,r.applyFontInfo)(Qe,he);const et=Ze.marginDomNode;(0,r.applyFontInfo)(et,he);const qe=[];if(He.charChanges)for(const ot of He.charChanges)we(ot)&&qe.push(new N.InlineDecoration(new w.Range(ot.originalStartLineNumber,ot.originalStartColumn,ot.originalEndLineNumber,ot.originalEndColumn),"char-delete",0));const rt=qe.length>0,st=new E.StringBuilder(1e4);let ut=0,ht=0,Ye=null;for(let ot=He.originalStartLineNumber;ot<=He.originalEndLineNumber;ot++){const $e=ot-He.originalStartLineNumber,Oe=this._originalModel.tokenization.getLineTokens(ot),Ve=Oe.getLineContent(),Ue=ze[Me++],Ge=A.LineDecoration.filter(qe,ot,1,Ve.length+1);if(Ue){let tt=0;for(const dt of Ue.breakOffsets){const nt=Oe.sliceAndInflate(tt,dt,0),at=Ve.substring(tt,dt);ut=Math.max(ut,this._renderOriginalLine(ht++,at,nt,A.LineDecoration.extractWrapped(Ge,tt,dt),rt,ke,Re,he,Ce,Pe,We,xe,Ke,je,Je,Se,st,et)),tt=dt}for(Ye||(Ye=[]);Ye.length<$e;)Ye[Ye.length]=1;Ye[$e]=Ue.breakOffsets.length,Ze.heightInLines+=Ue.breakOffsets.length-1;const it=document.createElement("div");it.className="gutter-delete",be.original.push({afterLineNumber:ot,afterColumn:0,heightInLines:Ue.breakOffsets.length-1,domNode:ye(),marginDomNode:it})}else ut=Math.max(ut,this._renderOriginalLine(ht++,Ve,Oe,Ge,rt,ke,Re,he,Ce,Pe,We,xe,Ke,je,Je,Se,st,et))}ut+=_e;const lt=st.build(),Ct=e.diffEditorWidgetTtPolicy?e.diffEditorWidgetTtPolicy.createHTML(lt):lt;if(Qe.innerHTML=Ct,Ze.minWidthInPx=ut*pe,Ye){const ot=He.originalEndLineNumber-He.originalStartLineNumber;for(;Ye.length<=ot;)Ye[Ye.length]=1}Ze.diff.viewLineCounts=Ye}be.original.sort((Be,He)=>Be.afterLineNumber-He.afterLineNumber)}_renderOriginalLine(be,me,Se,he,Ce,pe,_e,ke,Re,Pe,Fe,We,xe,Ke,je,Je,ze,Me){ze.appendString('<div class="view-line'),Ce||ze.appendString(" char-delete"),ze.appendString('" style="top:'),ze.appendString(String(be*Pe)),ze.appendString('px;width:1000000px;">');const Be=N.ViewLineRenderingData.isBasicASCII(me,pe),He=N.ViewLineRenderingData.containsRTL(me,Be,_e),Ze=(0,M.renderViewLine)(new M.RenderLineInput(ke.isMonospace&&!Re,ke.canUseHalfwidthRightwardsArrow,me,!1,Be,He,0,Se,he,Je,0,ke.spaceWidth,ke.middotWidth,ke.wsmiddotWidth,We,xe,Ke,je!==p.EditorFontLigatures.OFF,null),ze);if(ze.appendString("</div>"),this._renderIndicators){const Qe=document.createElement("div");Qe.className=`delete-sign ${n.ThemeIcon.asClassName($)}`,Qe.setAttribute("style",`position:absolute;top:${be*Pe}px;width:${Fe}px;height:${Pe}px;right:0;`),Me.appendChild(Qe)}return Ze.characterMapping.getHorizontalOffset(Ze.characterMapping.length)}}function oe(Te,be){return(0,p.stringSet)(Te,be,["off","on","inherit"])}function re(Te){return Te.modifiedEndLineNumber>0}function ge(Te){return Te.originalEndLineNumber>0}function ve(Te){return Te.modifiedStartLineNumber===Te.modifiedEndLineNumber?Te.modifiedEndColumn-Te.modifiedStartColumn>0:Te.modifiedEndLineNumber-Te.modifiedStartLineNumber>0}function we(Te){return Te.originalStartLineNumber===Te.originalEndLineNumber?Te.originalEndColumn-Te.originalStartColumn>0:Te.originalEndLineNumber-Te.originalStartLineNumber>0}function ye(){const Te=document.createElement("div");return Te.className="diagonal-fill",Te}function Ie(){const Te=document.createElement("div");return Te.className="arrow-revert-change "+n.ThemeIcon.asClassName(f.Codicon.arrowRight),y.$("div",{},Te)}function Ee(Te,be,me,Se){const he=Te.getLineCount();return me=Math.min(he,Math.max(1,me)),Se=Math.min(he,Math.max(1,Se)),be.coordinatesConverter.convertModelRangeToViewRange(new w.Range(me,Te.getLineMinColumn(me),Se,Te.getLineMaxColumn(Se)))}function De(Te,be){return{enableSplitViewResizing:(0,p.boolean)(Te.enableSplitViewResizing,be.enableSplitViewResizing),splitViewDefaultRatio:(0,p.clampedFloat)(Te.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,p.boolean)(Te.renderSideBySide,be.renderSideBySide),renderMarginRevertIcon:(0,p.boolean)(Te.renderMarginRevertIcon,be.renderMarginRevertIcon),maxComputationTime:(0,p.clampedInt)(Te.maxComputationTime,be.maxComputationTime,0,1073741824),maxFileSize:(0,p.clampedInt)(Te.maxFileSize,be.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,p.boolean)(Te.ignoreTrimWhitespace,be.ignoreTrimWhitespace),renderIndicators:(0,p.boolean)(Te.renderIndicators,be.renderIndicators),originalEditable:(0,p.boolean)(Te.originalEditable,be.originalEditable),diffCodeLens:(0,p.boolean)(Te.diffCodeLens,be.diffCodeLens),renderOverviewRuler:(0,p.boolean)(Te.renderOverviewRuler,be.renderOverviewRuler),diffWordWrap:oe(Te.diffWordWrap,be.diffWordWrap),diffAlgorithm:(0,p.stringSet)(Te.diffAlgorithm,be.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,p.boolean)(Te.accessibilityVerbose,be.accessibilityVerbose),experimental:{collapseUnchangedRegions:!1},isInEmbeddedEditor:(0,p.boolean)(Te.isInEmbeddedEditor,be.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:!1}}function Ae(Te,be){return{enableSplitViewResizing:Te.enableSplitViewResizing!==be.enableSplitViewResizing,renderSideBySide:Te.renderSideBySide!==be.renderSideBySide,renderMarginRevertIcon:Te.renderMarginRevertIcon!==be.renderMarginRevertIcon,maxComputationTime:Te.maxComputationTime!==be.maxComputationTime,maxFileSize:Te.maxFileSize!==be.maxFileSize,ignoreTrimWhitespace:Te.ignoreTrimWhitespace!==be.ignoreTrimWhitespace,renderIndicators:Te.renderIndicators!==be.renderIndicators,originalEditable:Te.originalEditable!==be.originalEditable,diffCodeLens:Te.diffCodeLens!==be.diffCodeLens,renderOverviewRuler:Te.renderOverviewRuler!==be.renderOverviewRuler,diffWordWrap:Te.diffWordWrap!==be.diffWordWrap,diffAlgorithm:Te.diffAlgorithm!==be.diffAlgorithm,accessibilityVerbose:Te.accessibilityVerbose!==be.accessibilityVerbose}}(0,Y.registerThemingParticipant)((Te,be)=>{const me=Te.getColor(le.diffDiagonalFill);be.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${me} 12.5%,
			#0000 12.5%, #0000 50%,
			${me} 50%, ${me} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(J[865],ee([1,0,60,254,36,93,129,95,67]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderOptions=e.LineSource=e.renderLines=void 0;const f=k.diffEditorWidgetTtPolicy;function v(n,r,l,h){(0,y.applyFontInfo)(h,r.fontInfo);const s=l.length>0,u=new D.StringBuilder(1e4);let a=0,d=0;const c=[];for(let C=0;C<n.lineTokens.length;C++){const w=C+1,E=n.lineTokens[C],I=n.lineBreakData[C],T=_.LineDecoration.filter(l,w,1,Number.MAX_SAFE_INTEGER);if(I){let P=0;for(const A of I.breakOffsets){const M=E.sliceAndInflate(P,A,0);a=Math.max(a,t(d,M,_.LineDecoration.extractWrapped(T,P,A),s,n.mightContainNonBasicASCII,n.mightContainRTL,r,u)),d++,P=A}c.push(I.breakOffsets.length)}else c.push(1),a=Math.max(a,t(d,E,T,s,n.mightContainNonBasicASCII,n.mightContainRTL,r,u)),d++}a+=r.scrollBeyondLastColumn;const b=u.build(),g=f?f.createHTML(b):b;h.innerHTML=g;const p=a*r.typicalHalfwidthCharacterWidth;return{heightInLines:d,minWidthInPx:p,viewLineCounts:c}}e.renderLines=v;class o{constructor(r,l,h,s){this.lineTokens=r,this.lineBreakData=l,this.mightContainNonBasicASCII=h,this.mightContainRTL=s}}e.LineSource=o;class i{static fromEditor(r){var l;const h=r.getOptions(),s=h.get(49),u=h.get(142);return new i(((l=r.getModel())===null||l===void 0?void 0:l.getOptions().tabSize)||0,s,h.get(32),s.typicalHalfwidthCharacterWidth,h.get(102),h.get(65),u.decorationsWidth,h.get(115),h.get(97),h.get(92),h.get(50))}constructor(r,l,h,s,u,a,d,c,b,g,p){this.tabSize=r,this.fontInfo=l,this.disableMonospaceOptimizations=h,this.typicalHalfwidthCharacterWidth=s,this.scrollBeyondLastColumn=u,this.lineHeight=a,this.lineDecorationsWidth=d,this.stopRenderingLineAfter=c,this.renderWhitespace=b,this.renderControlCharacters=g,this.fontLigatures=p}}e.RenderOptions=i;function t(n,r,l,h,s,u,a,d){d.appendString('<div class="view-line'),h||d.appendString(" char-delete"),d.appendString('" style="top:'),d.appendString(String(n*a.lineHeight)),d.appendString('px;width:1000000px;">');const c=r.getLineContent(),b=S.ViewLineRenderingData.isBasicASCII(c,s),g=S.ViewLineRenderingData.containsRTL(c,b,u),p=(0,m.renderViewLine)(new m.RenderLineInput(a.fontInfo.isMonospace&&!a.disableMonospaceOptimizations,a.fontInfo.canUseHalfwidthRightwardsArrow,c,!1,b,g,0,r,l,a.tabSize,0,a.fontInfo.spaceWidth,a.fontInfo.middotWidth,a.fontInfo.wsmiddotWidth,a.stopRenderingLineAfter,a.renderWhitespace,a.renderControlCharacters,a.fontLigatures!==L.EditorFontLigatures.OFF,null),d);return d.appendString("</div>"),p.characterMapping.getHorizontalOffset(p.characterMapping.length)}}),define(J[866],ee([1,0,7,15,13,26,2,42,86,27,18,60,108,358,315,606,865,121,61,11,67,96,57]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZoneManager=void 0;let b=class extends _.Disposable{constructor(w,E,I,T,P,A,M){super(),this._editors=w,this._diffModel=E,this._options=I,this._diffEditorWidget=T,this._canIgnoreViewZoneUpdateEvent=P,this._clipboardService=A,this._contextMenuService=M,this._originalTopPadding=(0,m.observableValue)("originalTopPadding",0),this._originalScrollOffset=(0,m.observableValue)("originalScrollOffset",0),this._originalScrollOffsetAnimated=(0,h.animatedObservable)(this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,m.observableValue)("modifiedTopPadding",0),this._modifiedScrollOffset=(0,m.observableValue)("modifiedScrollOffset",0),this._modifiedScrollOffsetAnimated=(0,h.animatedObservable)(this._modifiedScrollOffset,this._store);let N=!1;const O=(0,m.observableValue)("state",0),x=this._register(new L.RunOnceScheduler(()=>{O.set(O.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(Y=>{!N&&!this._canIgnoreViewZoneUpdateEvent()&&x.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(Y=>{!N&&!this._canIgnoreViewZoneUpdateEvent()&&x.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(Y=>{Y.hasChanged(143)&&x.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(Y=>{Y.hasChanged(143)&&x.schedule()}));const F=this._diffModel.map(Y=>Y?(0,m.observableFromEvent)(Y.model.original.onDidChangeTokens,()=>Y.model.original.tokenization.backgroundTokenizationState===2):void 0).map((Y,U)=>Y?.read(U)),B=new Set,z=new Set,j=(0,m.derived)("alignments",Y=>{const U=this._diffModel.read(Y),V=U?.diff.read(Y);if(!U||!V)return null;O.read(Y);const $=this._options.renderSideBySide.read(Y);return g(this._editors.original,this._editors.modified,V.mappings,B,z,$)}),R=(0,m.derived)("alignments",Y=>{var U;const V=(U=this._diffModel.read(Y))===null||U===void 0?void 0:U.syncedMovedTexts.read(Y);if(!V)return null;O.read(Y);const H=V.changes.map($=>new n.DiffMapping($));return g(this._editors.original,this._editors.modified,H,B,z,!0)});function Z(){const Y=document.createElement("div");return Y.className="diagonal-fill",Y}const se=this._register(new _.DisposableStore),le=(0,m.derived)("alignment viewzones",Y=>{var U,V,H,$,X,Q,de,ce;se.clear();const ae=j.read(Y)||[],ue=[],q=[],W=this._modifiedTopPadding.read(Y);W>0&&q.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:W,showInHiddenAreas:!0});const K=this._originalTopPadding.read(Y);K>0&&ue.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:K,showInHiddenAreas:!0});const ie=this._options.renderSideBySide.read(Y),ne=ie||(U=this._editors.modified._getViewModel())===null||U===void 0?void 0:U.createLineBreaksComputer();if(ne){for(const Ee of ae)if(Ee.diff)for(let De=Ee.originalRange.startLineNumber;De<Ee.originalRange.endLineNumberExclusive;De++)ne?.addRequest(this._editors.original.getModel().getLineContent(De),null,null)}const oe=(V=ne?.finalize())!==null&&V!==void 0?V:[];let re=0;const ge=this._editors.modified.getOption(65),ve=(H=this._diffModel.read(Y))===null||H===void 0?void 0:H.syncedMovedTexts.read(Y),we=(X=($=this._editors.original.getModel())===null||$===void 0?void 0:$.mightContainNonBasicASCII())!==null&&X!==void 0?X:!1,ye=(de=(Q=this._editors.original.getModel())===null||Q===void 0?void 0:Q.mightContainRTL())!==null&&de!==void 0?de:!1,Ie=l.RenderOptions.fromEditor(this._editors.modified);for(const Ee of ae)if(Ee.diff&&!ie){if(!Ee.originalRange.isEmpty){F.read(Y);const Ae=document.createElement("div");Ae.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const Te=new l.LineSource(Ee.originalRange.mapToLineArray(Ce=>this._editors.original.getModel().tokenization.getLineTokens(Ce)),Ee.originalRange.mapToLineArray(Ce=>oe[re++]),we,ye),be=[];for(const Ce of Ee.diff.innerChanges||[])be.push(new a.InlineDecoration(Ce.originalRange.delta(-(Ee.diff.originalRange.startLineNumber-1)),t.diffDeleteDecoration.className,0));const me=(0,l.renderLines)(Te,Ie,be,Ae),Se=document.createElement("div");if(Se.className="inline-deleted-margin-view-zone",(0,o.applyFontInfo)(Se,Ie.fontInfo),this._options.renderIndicators.read(Y))for(let Ce=0;Ce<me.heightInLines;Ce++){const pe=document.createElement("div");pe.className=`delete-sign ${f.ThemeIcon.asClassName(t.diffRemoveIcon)}`,pe.setAttribute("style",`position:absolute;top:${Ce*ge}px;width:${Ie.lineDecorationsWidth}px;height:${ge}px;right:0;`),Se.appendChild(pe)}let he;se.add(new r.InlineDiffDeletedCodeMargin(()=>(0,v.assertIsDefined)(he),Se,this._editors.modified,Ee.diff,this._diffEditorWidget,me.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let Ce=0;Ce<me.viewLineCounts.length;Ce++){const pe=me.viewLineCounts[Ce];pe>1&&ue.push({afterLineNumber:Ee.originalRange.startLineNumber+Ce,domNode:Z(),heightInPx:(pe-1)*ge,showInHiddenAreas:!0})}q.push({afterLineNumber:Ee.modifiedRange.startLineNumber-1,domNode:Ae,heightInPx:me.heightInLines*ge,minWidthInPx:me.minWidthInPx,marginDomNode:Se,setZoneId(Ce){he=Ce},showInHiddenAreas:!0})}const De=document.createElement("div");De.className="gutter-delete",ue.push({afterLineNumber:Ee.originalRange.endLineNumberExclusive-1,domNode:Z(),heightInPx:Ee.modifiedHeightInPx,marginDomNode:De,showInHiddenAreas:!0})}else{const De=Ee.modifiedHeightInPx-Ee.originalHeightInPx;if(De>0){if(ve?.lineRangeMapping.original.contains(Ee.originalRange.endLineNumberExclusive-1))continue;ue.push({afterLineNumber:Ee.originalRange.endLineNumberExclusive-1,domNode:Z(),heightInPx:De,showInHiddenAreas:!0})}else{let Ae=function(){const be=document.createElement("div");return be.className="arrow-revert-change "+f.ThemeIcon.asClassName(D.Codicon.arrowRight),(0,y.$)("div",{},be)};if(ve?.lineRangeMapping.modified.contains(Ee.modifiedRange.endLineNumberExclusive-1))continue;let Te;Ee.diff&&Ee.diff.modifiedRange.isEmpty&&this._options.shouldRenderRevertArrows.read(Y)&&(Te=Ae()),q.push({afterLineNumber:Ee.modifiedRange.endLineNumberExclusive-1,domNode:Z(),heightInPx:-De,marginDomNode:Te,showInHiddenAreas:!0})}}for(const Ee of(ce=R.read(Y))!==null&&ce!==void 0?ce:[]){if(!ve?.lineRangeMapping.original.intersect(Ee.originalRange)&&!ve?.lineRangeMapping.modified.intersect(Ee.modifiedRange))continue;const De=Ee.modifiedHeightInPx-Ee.originalHeightInPx;De>0?ue.push({afterLineNumber:Ee.originalRange.endLineNumberExclusive-1,domNode:Z(),heightInPx:De,showInHiddenAreas:!0}):q.push({afterLineNumber:Ee.modifiedRange.endLineNumberExclusive-1,domNode:Z(),heightInPx:-De,showInHiddenAreas:!0})}return{orig:ue,mod:q}});this._register((0,S.autorunWithStore2)("alignment viewzones",Y=>{const U=i.StableEditorScrollState.capture(this._editors.modified),V=le.read(Y);N=!0,this._editors.original.changeViewZones(H=>{for(const $ of B)H.removeZone($);B.clear();for(const $ of V.orig){const X=H.addZone($);$.setZoneId&&$.setZoneId(X),B.add(X)}}),this._editors.modified.changeViewZones(H=>{for(const $ of z)H.removeZone($);z.clear();for(const $ of V.mod){const X=H.addZone($);$.setZoneId&&$.setZoneId(X),z.add(X)}}),N=!1,U.restore(this._editors.modified)})),this._register((0,_.toDisposable)(()=>{this._editors.original.changeViewZones(Y=>{for(const U of B)Y.removeZone(U);B.clear()}),this._editors.modified.changeViewZones(Y=>{for(const U of z)Y.removeZone(U);z.clear()})}));let te=!1;this._register(this._editors.original.onDidScrollChange(Y=>{Y.scrollLeftChanged&&!te&&(te=!0,this._editors.modified.setScrollLeft(Y.scrollLeft),te=!1)})),this._register(this._editors.modified.onDidScrollChange(Y=>{Y.scrollLeftChanged&&!te&&(te=!0,this._editors.original.setScrollLeft(Y.scrollLeft),te=!1)})),this._originalScrollTop=(0,m.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,m.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,S.autorun)("update scroll modified",Y=>{const U=this._originalScrollTop.read(Y)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(Y))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(Y));U!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(U,1)})),this._register((0,S.autorun)("update scroll original",Y=>{const U=this._modifiedScrollTop.read(Y)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(Y))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(Y));U!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(U,1)})),this._register((0,S.autorun)("update",Y=>{var U;const V=(U=this._diffModel.read(Y))===null||U===void 0?void 0:U.syncedMovedTexts.read(Y);let H=0;if(V){const $=this._editors.original.getTopForLineNumber(V.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();H=this._editors.modified.getTopForLineNumber(V.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-$}H>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(H,void 0)):H<0?(this._modifiedTopPadding.set(-H,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-H,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+H,void 0,!0)}))}};e.ViewZoneManager=b,e.ViewZoneManager=b=Ne([fe(5,d.IClipboardService),fe(6,c.IContextMenuService)],b);function g(C,w,E,I,T,P){const A=new k.ArrayQueue(p(C,I)),M=new k.ArrayQueue(p(w,T)),N=C.getOption(65),O=w.getOption(65),x=[];let F=0,B=0;function z(j,R){for(;;){let Z=A.peek(),se=M.peek();if(Z&&Z.lineNumber>=j&&(Z=void 0),se&&se.lineNumber>=R&&(se=void 0),!Z&&!se)break;const le=Z?Z.lineNumber-F:Number.MAX_VALUE,te=se?se.lineNumber-B:Number.MAX_VALUE;le<te?(A.dequeue(),se={lineNumber:Z.lineNumber-F+B,heightInPx:0}):le>te?(M.dequeue(),Z={lineNumber:se.lineNumber-B+F,heightInPx:0}):(A.dequeue(),M.dequeue()),x.push({originalRange:s.LineRange.ofLength(Z.lineNumber,1),modifiedRange:s.LineRange.ofLength(se.lineNumber,1),originalHeightInPx:N+Z.heightInPx,modifiedHeightInPx:O+se.heightInPx,diff:void 0})}}for(const j of E){let te=function(Y,U){var V,H,$,X;if(Y<le||U<se)return;if(Z)Z=!1;else if(Y===le||U===se)return;const Q=new s.LineRange(le,Y),de=new s.LineRange(se,U);if(Q.isEmpty&&de.isEmpty)return;const ce=(H=(V=A.takeWhile(ue=>ue.lineNumber<Y))===null||V===void 0?void 0:V.reduce((ue,q)=>ue+q.heightInPx,0))!==null&&H!==void 0?H:0,ae=(X=($=M.takeWhile(ue=>ue.lineNumber<U))===null||$===void 0?void 0:$.reduce((ue,q)=>ue+q.heightInPx,0))!==null&&X!==void 0?X:0;x.push({originalRange:Q,modifiedRange:de,originalHeightInPx:Q.length*N+ce,modifiedHeightInPx:de.length*O+ae,diff:j.lineRangeMapping}),le=Y,se=U};const R=j.lineRangeMapping;z(R.originalRange.startLineNumber,R.modifiedRange.startLineNumber);let Z=!0,se=R.modifiedRange.startLineNumber,le=R.originalRange.startLineNumber;if(P)for(const Y of R.innerChanges||[])Y.originalRange.startColumn>1&&Y.modifiedRange.startColumn>1&&te(Y.originalRange.startLineNumber,Y.modifiedRange.startLineNumber),Y.originalRange.endColumn<C.getModel().getLineMaxColumn(Y.originalRange.endLineNumber)&&te(Y.originalRange.endLineNumber,Y.modifiedRange.endLineNumber);te(R.originalRange.endLineNumberExclusive,R.modifiedRange.endLineNumberExclusive),F=R.originalRange.endLineNumberExclusive,B=R.modifiedRange.endLineNumberExclusive}return z(Number.MAX_VALUE,Number.MAX_VALUE),x}function p(C,w){const E=[],I=[],T=C.getOption(143).wrappingColumn!==-1,P=C._getViewModel().coordinatesConverter,A=C.getOption(65);if(T)for(let N=1;N<=C.getModel().getLineCount();N++){const O=P.getModelLineViewLineCount(N);O>1&&I.push({lineNumber:N,heightInPx:A*(O-1)})}for(const N of C.getWhitespaces()){if(w.has(N.id))continue;const O=N.afterLineNumber===0?0:P.convertViewPositionToModelPosition(new u.Position(N.afterLineNumber,1)).lineNumber;E.push({lineNumber:O,heightInPx:N.height})}return(0,h.joinCombine)(E,I,N=>N.lineNumber,(N,O)=>({lineNumber:N.lineNumber,heightInPx:N.heightInPx+O.heightInPx}))}}),define(J[867],ee([1,0,7,12,6,42,86,100,144,16,33,164,861,584,866,270,353,608,121,344,150,20,14,8,160,477,835,615,315,821,116,427,813]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E,I,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget2=void 0;let P=class extends p.DelegatingEditor{constructor(N,O,x,F,B,z,j){var R;super(),this._domElement=N,this._parentContextKeyService=F,this._parentInstantiationService=B,this._audioCueService=j,this.elements=(0,y.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,y.h)("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[(0,y.$)("span",{},"No Changes")]),(0,y.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,y.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,y.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=this._register((0,m.disposableObservableValue)("diffModel",void 0)),this.onDidChangeModel=L.Event.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new g.ServiceCollection([c.IContextKeyService,this._contextKeyService])),this._boundarySashes=(0,D.observableValue)("boundarySashes",void 0),this._accessibleDiffViewerShouldBeVisible=(0,D.observableValue)("accessibleDiffViewerShouldBeVisible",!1),this._accessibleDiffViewerVisible=(0,D.derived)("accessibleDiffViewerVisible",te=>this._options.onlyShowAccessibleDiffViewer.read(te)?!0:this._accessibleDiffViewerShouldBeVisible.read(te)),this._layoutInfo=(0,D.derived)("modifiedEditorLayoutInfo",te=>{var Y;const U=this._rootSizeObserver.width.read(te),V=this._rootSizeObserver.height.read(te),H=(Y=this._sash.read(te))===null||Y===void 0?void 0:Y.sashLeft.read(te),$=H??Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),X=U-$-(this._options.renderOverviewRuler.read(te)?l.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH:0);return this.elements.original.style.width=$+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=X+"px",this.elements.modified.style.left=$+"px",this._editors.original.layout({width:$,height:V}),this._editors.modified.layout({width:X,height:V}),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((te,Y)=>te?.diff.read(Y)),this.onDidUpdateDiff=L.Event.fromObservableLight(this._diffValue),z.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._contextKeyService.createKey("diffEditorVersion",2),this._options=new w.DiffEditorOptions(O),this._contextKeyService.createKey(d.EditorContextKeys.isEmbeddedDiffEditor.key,!1);const Z=d.EditorContextKeys.isEmbeddedDiffEditor.bindTo(this._contextKeyService);this._register((0,D.autorun)("update isEmbeddedDiffEditorKey",te=>{Z.set(this._options.isInEmbeddedEditor.read(te))}));const se=d.EditorContextKeys.accessibleDiffViewerVisible.bindTo(this._contextKeyService);this._register((0,D.autorun)("update accessibleDiffViewerVisible context key",te=>{se.set(this._accessibleDiffViewerVisible.read(te))})),this._domElement.appendChild(this.elements.root),this._rootSizeObserver=this._register(new s.ObservableElementSizeObserver(this.elements.root,O.dimension)),this._rootSizeObserver.setAutomaticLayout((R=O.automaticLayout)!==null&&R!==void 0?R:!1),this._editors=this._register(this._instantiationService.createInstance(C.DiffEditorEditors,this.elements.original,this.elements.modified,this._options,x,(te,Y,U,V)=>this._createInnerEditor(te,Y,U,V))),this._sash=(0,S.derivedWithStore)("sash",(te,Y)=>{const U=this._options.renderSideBySide.read(te);if(this.elements.root.classList.toggle("side-by-side",U),!U)return;const V=Y.add(new t.DiffEditorSash(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((H,$)=>H-(this._options.renderOverviewRuler.read($)?l.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH:0))}));return Y.add((0,D.autorun)("setBoundarySashes",H=>{const $=this._boundarySashes.read(H);$&&V.setBoundarySashes($)})),V}),this._register((0,D.keepAlive)(this._sash,!0)),this._register((0,_.autorunWithStore2)("UnchangedRangesFeature",(te,Y)=>{this.unchangedRangesFeature=Y.add(new((0,s.readHotReloadableExport)(h.UnchangedRangesFeature,te))(this._editors,this._diffModel,this._options))})),this._register((0,_.autorunWithStore2)("DiffEditorDecorations",(te,Y)=>{Y.add(new((0,s.readHotReloadableExport)(i.DiffEditorDecorations,te))(this._editors,this._diffModel,this._options))})),this._register((0,_.autorunWithStore2)("ViewZoneManager",(te,Y)=>{Y.add(this._instantiationService.createInstance((0,s.readHotReloadableExport)(n.ViewZoneManager,te),this._editors,this._diffModel,this._options,this,()=>this.unchangedRangesFeature.isUpdatingViewZones))})),this._register((0,_.autorunWithStore2)("OverviewRulerPart",(te,Y)=>{Y.add(this._instantiationService.createInstance((0,s.readHotReloadableExport)(l.OverviewRulerPart,te),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(U=>U.modifiedEditor),this._options))})),this._register((0,_.autorunWithStore2)("_accessibleDiffViewer",(te,Y)=>{this._accessibleDiffViewer=Y.add(this._register(this._instantiationService.createInstance((0,s.readHotReloadableExport)(I.AccessibleDiffViewer,te),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(U,V)=>this._accessibleDiffViewerShouldBeVisible.set(U,V),this._options.onlyShowAccessibleDiffViewer.map(U=>!U),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((U,V)=>{var H;return(H=U?.diff.read(V))===null||H===void 0?void 0:H.mappings.map($=>$.lineRangeMapping)}),this._editors)))}));const le=this._accessibleDiffViewerVisible.map(te=>te?"hidden":"visible");this._register((0,s.applyStyle)(this.elements.modified,{visibility:le})),this._register((0,s.applyStyle)(this.elements.original,{visibility:le})),this._createDiffEditorContributions(),z.addDiffEditor(this),this._register((0,D.keepAlive)(this._layoutInfo,!0)),this._register(new r.MovedBlocksLinesPart(this.elements.root,this._diffModel,this._layoutInfo.map(te=>te.originalEditor),this._layoutInfo.map(te=>te.modifiedEditor),this._editors)),this._register((0,s.applyStyle)(this.elements.overlay,{width:this._layoutInfo.map((te,Y)=>te.originalEditor.width+(this._options.renderSideBySide.read(Y)?0:te.modifiedEditor.width)),visibility:(0,D.derived)("visibility",te=>{var Y,U;return this._options.collapseUnchangedRegions.read(te)&&((U=(Y=this._diffModel.read(te))===null||Y===void 0?void 0:Y.diff.read(te))===null||U===void 0?void 0:U.mappings.length)===0?"visible":"hidden"})})),this._register(this._editors.original.onDidChangeCursorPosition(te=>{const Y=this._diffModel.get();if(!Y)return;const U=Y.diff.get().movedTexts.find(V=>V.lineRangeMapping.original.contains(te.position.lineNumber));Y.syncedMovedTexts.set(U,void 0)})),this._register(this._editors.modified.onDidChangeCursorPosition(te=>{const Y=this._diffModel.get();if(!Y)return;const U=Y.diff.get().movedTexts.find(V=>V.lineRangeMapping.modified.contains(te.position.lineNumber));Y.syncedMovedTexts.set(U,void 0)})),this._register(this._editors.modified.onMouseDown(te=>{var Y,U;if(!te.event.rightButton&&te.target.position&&(!((Y=te.target.element)===null||Y===void 0)&&Y.className.includes("arrow-revert-change"))){const V=te.target.position.lineNumber,H=te.target,$=this._diffModel.get();if(!$)return;const X=(U=$.diff.get())===null||U===void 0?void 0:U.mappings;if(!X)return;const Q=X.find(de=>H?.detail.afterLineNumber===de.lineRangeMapping.modifiedRange.startLineNumber-1||de.lineRangeMapping.modifiedRange.startLineNumber===V);if(!Q)return;this.revert(Q.lineRangeMapping),te.event.stopPropagation()}})),this._register(L.Event.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,te=>{var Y,U;if(te?.reason===3){const V=(U=(Y=this._diffModel.get())===null||Y===void 0?void 0:Y.diff.get())===null||U===void 0?void 0:U.mappings.find(H=>H.lineRangeMapping.modifiedRange.contains(te.position.lineNumber));V?.lineRangeMapping.modifiedRange.isEmpty?this._audioCueService.playAudioCue(T.AudioCue.diffLineDeleted):V?.lineRangeMapping.originalRange.isEmpty?this._audioCueService.playAudioCue(T.AudioCue.diffLineInserted):V&&this._audioCueService.playAudioCue(T.AudioCue.diffLineModified)}}))}_createInnerEditor(N,O,x,F){return N.createInstance(o.CodeEditorWidget,O,x,F)}_createDiffEditorContributions(){const N=f.EditorExtensionsRegistry.getDiffEditorContributions();for(const O of N)try{this._register(this._instantiationService.createInstance(O.ctor,this))}catch(x){(0,k.onUnexpectedError)(x)}}get _targetEditor(){return this._editors.modified}getEditorType(){return a.EditorType.IDiffEditor}layout(N){this._rootSizeObserver.observe(N)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var N;const O=this._editors.original.saveViewState(),x=this._editors.modified.saveViewState();return{original:O,modified:x,modelState:(N=this._diffModel.get())===null||N===void 0?void 0:N.serializeState()}}restoreViewState(N){var O;if(N&&N.original&&N.modified){const x=N;this._editors.original.restoreViewState(x.original),this._editors.modified.restoreViewState(x.modified),x.modelState&&((O=this._diffModel.get())===null||O===void 0||O.restoreSerializedState(x.modelState))}}createViewModel(N){return new E.DiffEditorViewModel(N,this._options,this._instantiationService.createInstance(u.WorkerBasedDocumentDiffProvider,{diffAlgorithm:this._options.diffAlgorithm.get()}))}getModel(){var N,O;return(O=(N=this._diffModel.get())===null||N===void 0?void 0:N.model)!==null&&O!==void 0?O:null}setModel(N){!N&&this._diffModel.get()&&this._accessibleDiffViewer.close();const O=N?"model"in N?N:this.createViewModel(N):void 0;this._editors.original.setModel(O?O.model.original:null),this._editors.modified.setModel(O?O.model.modified:null),(0,m.transaction)(x=>{this._diffModel.set(O,x)})}updateOptions(N){this._options.updateOptions(N)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var N;const O=(N=this._diffModel.get())===null||N===void 0?void 0:N.diff.get();return O?A(O):null}revert(N){var O;const x=(O=this._diffModel.get())===null||O===void 0?void 0:O.model;if(!x)return;const F=N.innerChanges?N.innerChanges.map(B=>({range:B.modifiedRange,text:x.original.getValueInRange(B.originalRange)})):[{range:N.modifiedRange.toExclusiveRange(),text:x.original.getValueInRange(N.originalRange.toExclusiveRange())}];this._editors.modified.executeEdits("diffEditor",F)}accessibleDiffViewerNext(){this._accessibleDiffViewer.next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.prev()}};e.DiffEditorWidget2=P,e.DiffEditorWidget2=P=Ne([fe(3,c.IContextKeyService),fe(4,b.IInstantiationService),fe(5,v.ICodeEditorService),fe(6,T.IAudioCueService)],P);function A(M){return M.mappings.map(N=>{const O=N.lineRangeMapping;let x,F,B,z,j=O.innerChanges;return O.originalRange.isEmpty?(x=O.originalRange.startLineNumber-1,F=0,j=void 0):(x=O.originalRange.startLineNumber,F=O.originalRange.endLineNumberExclusive-1),O.modifiedRange.isEmpty?(B=O.modifiedRange.startLineNumber-1,z=0,j=void 0):(B=O.modifiedRange.startLineNumber,z=O.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:x,originalEndLineNumber:F,modifiedStartLineNumber:B,modifiedEndLineNumber:z,charChanges:j?.map(R=>({originalStartLineNumber:R.originalRange.startLineNumber,originalStartColumn:R.originalRange.startColumn,originalEndLineNumber:R.originalRange.endLineNumber,originalEndColumn:R.originalRange.endColumn,modifiedStartLineNumber:R.modifiedRange.startLineNumber,modifiedStartColumn:R.modifiedRange.startColumn,modifiedEndLineNumber:R.modifiedRange.endLineNumber,modifiedEndColumn:R.modifiedRange.endColumn}))}})}}),define(J[165],ee([1,0,46,33,164,25,14,8,44,23,83,31,19]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let t=class extends L.CodeEditorWidget{constructor(r,l,h,s,u,a,d,c,b,g,p,C,w){super(r,Object.assign(Object.assign({},s.getRawOptions()),{overflowWidgetsDomNode:s.getOverflowWidgetsDomNode()}),h,u,a,d,c,b,g,p,C,w),this._parentEditor=s,this._overwriteOptions=l,super.updateOptions(this._overwriteOptions),this._register(s.onDidChangeConfiguration(E=>this._onParentConfigurationChanged(E)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(r){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(r){y.mixin(this._overwriteOptions,r,!0),super.updateOptions(this._overwriteOptions)}};e.EmbeddedCodeEditorWidget=t,e.EmbeddedCodeEditorWidget=t=Ne([fe(4,m.IInstantiationService),fe(5,k.ICodeEditorService),fe(6,D.ICommandService),fe(7,_.IContextKeyService),fe(8,f.IThemeService),fe(9,S.INotificationService),fe(10,v.IAccessibilityService),fe(11,o.ILanguageConfigurationService),fe(12,i.ILanguageFeaturesService)],t)}),define(J[868],ee([1,0,13,2,16,11,5,24,20,47,39,627,29,32,23,432]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const r=(0,t.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},o.localize(0,null));class l extends L.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:o.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:3165,weight:100}})}run(c,b){var g;(g=a.get(b))===null||g===void 0||g.jumpToBracket()}}class h extends L.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:o.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(c,b,g){var p;let C=!0;g&&g.selectBrackets===!1&&(C=!1),(p=a.get(b))===null||p===void 0||p.selectToBracket(C)}}class s extends L.EditorAction{constructor(){super({id:"editor.action.removeBrackets",label:o.localize(3,null),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:2561,weight:100}})}run(c,b){var g;(g=a.get(b))===null||g===void 0||g.removeBrackets(this.id)}}class u{constructor(c,b,g){this.position=c,this.brackets=b,this.options=g}}class a extends k.Disposable{static get(c){return c.getContribution(a.ID)}constructor(c){super(),this._editor=c,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new y.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(70),this._updateBracketsSoon.schedule(),this._register(c.onDidChangeCursorPosition(b=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(c.onDidChangeModelContent(b=>{this._updateBracketsSoon.schedule()})),this._register(c.onDidChangeModel(b=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(c.onDidChangeModelLanguageConfiguration(b=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(c.onDidChangeConfiguration(b=>{b.hasChanged(70)&&(this._matchBrackets=this._editor.getOption(70),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(c.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(c.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const c=this._editor.getModel(),b=this._editor.getSelections().map(g=>{const p=g.getStartPosition(),C=c.bracketPairs.matchBracket(p);let w=null;if(C)C[0].containsPosition(p)&&!C[1].containsPosition(p)?w=C[1].getStartPosition():C[1].containsPosition(p)&&(w=C[0].getStartPosition());else{const E=c.bracketPairs.findEnclosingBrackets(p);if(E)w=E[1].getStartPosition();else{const I=c.bracketPairs.findNextBracket(p);I&&I.range&&(w=I.range.getStartPosition())}}return w?new m.Selection(w.lineNumber,w.column,w.lineNumber,w.column):new m.Selection(p.lineNumber,p.column,p.lineNumber,p.column)});this._editor.setSelections(b),this._editor.revealRange(b[0])}selectToBracket(c){if(!this._editor.hasModel())return;const b=this._editor.getModel(),g=[];this._editor.getSelections().forEach(p=>{const C=p.getStartPosition();let w=b.bracketPairs.matchBracket(C);if(!w&&(w=b.bracketPairs.findEnclosingBrackets(C),!w)){const T=b.bracketPairs.findNextBracket(C);T&&T.range&&(w=b.bracketPairs.matchBracket(T.range.getStartPosition()))}let E=null,I=null;if(w){w.sort(_.Range.compareRangesUsingStarts);const[T,P]=w;if(E=c?T.getStartPosition():T.getEndPosition(),I=c?P.getEndPosition():P.getStartPosition(),P.containsPosition(C)){const A=E;E=I,I=A}}E&&I&&g.push(new m.Selection(E.lineNumber,E.column,I.lineNumber,I.column))}),g.length>0&&(this._editor.setSelections(g),this._editor.revealRange(g[0]))}removeBrackets(c){if(!this._editor.hasModel())return;const b=this._editor.getModel();this._editor.getSelections().forEach(g=>{const p=g.getPosition();let C=b.bracketPairs.matchBracket(p);C||(C=b.bracketPairs.findEnclosingBrackets(p)),C&&(this._editor.pushUndoStop(),this._editor.executeEdits(c,[{range:C[0],text:""},{range:C[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const c=[];let b=0;for(const g of this._lastBracketsData){const p=g.brackets;p&&(c[b++]={range:p[0],options:g.options},c[b++]={range:p[1],options:g.options})}this._decorations.set(c)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const c=this._editor.getSelections();if(c.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const b=this._editor.getModel(),g=b.getVersionId();let p=[];this._lastVersionId===g&&(p=this._lastBracketsData);const C=[];let w=0;for(let A=0,M=c.length;A<M;A++){const N=c[A];N.isEmpty()&&(C[w++]=N.getStartPosition())}C.length>1&&C.sort(D.Position.compare);const E=[];let I=0,T=0;const P=p.length;for(let A=0,M=C.length;A<M;A++){const N=C[A];for(;T<P&&p[T].position.isBefore(N);)T++;if(T<P&&p[T].position.equals(N))E[I++]=p[T];else{let O=b.bracketPairs.matchBracket(N,20),x=a._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!O&&this._matchBrackets==="always"&&(O=b.bracketPairs.findEnclosingBrackets(N,20),x=a._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[I++]=new u(N,O,x)}}this._lastBracketsData=E,this._lastVersionId=g}}e.BracketMatchingController=a,a.ID="editor.contrib.bracketMatchingController",a._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=v.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,n.themeColorFromId)(r),position:f.OverviewRulerLane.Center}}),a._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=v.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,L.registerEditorContribution)(a.ID,a,1),(0,L.registerEditorAction)(h),(0,L.registerEditorAction)(l),(0,L.registerEditorAction)(s),i.MenuRegistry.appendMenuItem(i.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:o.localize(4,null)},order:2})}),define(J[869],ee([1,0,7,131,5,39,434]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class _{constructor(i,t,n){this.afterColumn=1073741824,this.afterLineNumber=i,this.heightInPx=t,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(i){this._lastHeight===void 0?this._lastHeight=i:this._lastHeight!==i&&(this._lastHeight=i,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class m{constructor(i,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=i,this._id=`codelens.widget-${m._idPool++}`,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(i,t){this._commands.clear();const n=[];let r=!1;for(let l=0;l<i.length;l++){const h=i[l];if(h&&(r=!0,h.command)){const s=(0,k.renderLabelWithIcons)(h.command.title.trim());h.command.id?(n.push(y.$("a",{id:String(l),title:h.command.tooltip,role:"button"},...s)),this._commands.set(String(l),h.command)):n.push(y.$("span",{title:h.command.tooltip},...s)),l+1<i.length&&n.push(y.$("span",void 0,"\xA0|\xA0"))}}r?(y.reset(this._domNode,...n),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):y.reset(this._domNode,y.$("span",void 0,"no commands"))}getCommand(i){return i.parentElement===this._domNode?this._commands.get(i.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(i){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(i);this._widgetPosition={position:{lineNumber:i,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}m._idPool=0;class S{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(i,t){this._addDecorations.push(i),this._addDecorationsCallbacks.push(t)}removeDecoration(i){this._removeDecorations.push(i)}commit(i){const t=i.deltaDecorations(this._removeDecorations,this._addDecorations);for(let n=0,r=t.length;n<r;n++)this._addDecorationsCallbacks[n](t[n])}}e.CodeLensHelper=S;const f=D.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class v{constructor(i,t,n,r,l,h){this._isDisposed=!1,this._editor=t,this._data=i,this._decorationIds=[];let s;const u=[];this._data.forEach((a,d)=>{a.symbol.command&&u.push(a.symbol),n.addDecoration({range:a.symbol.range,options:f},c=>this._decorationIds[d]=c),s?s=L.Range.plusRange(s,a.symbol.range):s=L.Range.lift(a.symbol.range)}),this._viewZone=new _(s.startLineNumber-1,l,h),this._viewZoneId=r.addZone(this._viewZone),u.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(u,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new m(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(i,t){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],t?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((i,t)=>{const n=this._editor.getModel().getDecorationRange(i),r=this._data[t].symbol;return!!(n&&L.Range.isEmpty(r.range)===n.isEmpty())})}updateCodeLensSymbols(i,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=i,this._data.forEach((n,r)=>{t.addDecoration({range:n.symbol.range,options:f},l=>this._decorationIds[r]=l)})}updateHeight(i,t){this._viewZone.heightInPx=i,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(i){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const n=i.getDecorationRange(this._decorationIds[t]);n&&(this._data[t].symbol.range=n)}return this._data}updateCommands(i){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(i,!0);for(let t=0;t<this._data.length;t++){const n=i[t];if(n){const{symbol:r}=this._data[t];r.command=n.command||r.command}}}getCommand(i){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(i)}getLineNumber(){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return i?i.startLineNumber:-1}update(i){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,i.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=v}),define(J[870],ee([1,0,13,12,2,108,16,36,20,327,781,869,637,25,44,76,75,19]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let s=class{constructor(a,d,c,b,g,p){this._editor=a,this._languageFeaturesService=d,this._commandService=b,this._notificationService=g,this._codeLensCache=p,this._disposables=new L.DisposableStore,this._localToDispose=new L.DisposableStore,this._lenses=[],this._oldCodeLensModels=new L.DisposableStore,this._provideCodeLensDebounce=c.for(d.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=c.for(d.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new y.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(C=>{(C.hasChanged(49)||C.hasChanged(18)||C.hasChanged(17))&&this._updateLensStyle(),C.hasChanged(16)&&this._onModelChange()})),this._disposables.add(d.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var a;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(a=this._currentCodeLensModel)===null||a===void 0||a.dispose()}_getLayoutInfo(){const a=Math.max(1.3,this._editor.getOption(65)/this._editor.getOption(51));let d=this._editor.getOption(18);return(!d||d<5)&&(d=this._editor.getOption(51)*.9|0),{fontSize:d,codeLensHeight:d*a|0}}_updateLensStyle(){const{codeLensHeight:a,fontSize:d}=this._getLayoutInfo(),c=this._editor.getOption(17),b=this._editor.getOption(49),{style:g}=this._editor.getContainerDomNode();g.setProperty("--vscode-editorCodeLens-lineHeight",`${a}px`),g.setProperty("--vscode-editorCodeLens-fontSize",`${d}px`),g.setProperty("--vscode-editorCodeLens-fontFeatureSettings",b.fontFeatureSettings),c&&(g.setProperty("--vscode-editorCodeLens-fontFamily",c),g.setProperty("--vscode-editorCodeLens-fontFamilyDefault",m.EDITOR_FONT_DEFAULTS.fontFamily)),this._editor.changeViewZones(p=>{for(const C of this._lenses)C.updateHeight(a,p)})}_localDispose(){var a,d,c;(a=this._getCodeLensModelPromise)===null||a===void 0||a.cancel(),this._getCodeLensModelPromise=void 0,(d=this._resolveCodeLensesPromise)===null||d===void 0||d.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(c=this._currentCodeLensModel)===null||c===void 0||c.dispose()}_onModelChange(){this._localDispose();const a=this._editor.getModel();if(!a||!this._editor.getOption(16))return;const d=this._codeLensCache.get(a);if(d&&this._renderCodeLensSymbols(d),!this._languageFeaturesService.codeLensProvider.has(a)){d&&this._localToDispose.add((0,y.disposableTimeout)(()=>{const b=this._codeLensCache.get(a);d===b&&(this._codeLensCache.delete(a),this._onModelChange())},30*1e3));return}for(const b of this._languageFeaturesService.codeLensProvider.all(a))if(typeof b.onDidChange=="function"){const g=b.onDidChange(()=>c.schedule());this._localToDispose.add(g)}const c=new y.RunOnceScheduler(()=>{var b;const g=Date.now();(b=this._getCodeLensModelPromise)===null||b===void 0||b.cancel(),this._getCodeLensModelPromise=(0,y.createCancelablePromise)(p=>(0,f.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,a,p)),this._getCodeLensModelPromise.then(p=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=p,this._codeLensCache.put(a,p);const C=this._provideCodeLensDebounce.update(a,Date.now()-g);c.delay=C,this._renderCodeLensSymbols(p),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(a));this._localToDispose.add(c),this._localToDispose.add((0,L.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var b;this._editor.changeDecorations(g=>{this._editor.changeViewZones(p=>{const C=[];let w=-1;this._lenses.forEach(I=>{!I.isValid()||w===I.getLineNumber()?C.push(I):(I.update(p),w=I.getLineNumber())});const E=new o.CodeLensHelper;C.forEach(I=>{I.dispose(E,p),this._lenses.splice(this._lenses.indexOf(I),1)}),E.commit(g)})}),c.schedule(),this._resolveCodeLensesScheduler.cancel(),(b=this._resolveCodeLensesPromise)===null||b===void 0||b.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{c.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(b=>{b.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,L.toDisposable)(()=>{if(this._editor.getModel()){const b=D.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(g=>{this._editor.changeViewZones(p=>{this._disposeAllLenses(g,p)})}),b.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(b=>{if(b.target.type!==9)return;let g=b.target.element;if(g?.tagName==="SPAN"&&(g=g.parentElement),g?.tagName==="A")for(const p of this._lenses){const C=p.getCommand(g);if(C){this._commandService.executeCommand(C.id,...C.arguments||[]).catch(w=>this._notificationService.error(w));break}}})),c.schedule()}_disposeAllLenses(a,d){const c=new o.CodeLensHelper;for(const b of this._lenses)b.dispose(c,d);a&&c.commit(a),this._lenses.length=0}_renderCodeLensSymbols(a){if(!this._editor.hasModel())return;const d=this._editor.getModel().getLineCount(),c=[];let b;for(const C of a.lenses){const w=C.symbol.range.startLineNumber;w<1||w>d||(b&&b[b.length-1].symbol.range.startLineNumber===w?b.push(C):(b=[C],c.push(b)))}if(!c.length&&!this._lenses.length)return;const g=D.StableEditorScrollState.capture(this._editor),p=this._getLayoutInfo();this._editor.changeDecorations(C=>{this._editor.changeViewZones(w=>{const E=new o.CodeLensHelper;let I=0,T=0;for(;T<c.length&&I<this._lenses.length;){const P=c[T][0].symbol.range.startLineNumber,A=this._lenses[I].getLineNumber();A<P?(this._lenses[I].dispose(E,w),this._lenses.splice(I,1)):A===P?(this._lenses[I].updateCodeLensSymbols(c[T],E),T++,I++):(this._lenses.splice(I,0,new o.CodeLensWidget(c[T],this._editor,E,w,p.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),I++,T++)}for(;I<this._lenses.length;)this._lenses[I].dispose(E,w),this._lenses.splice(I,1);for(;T<c.length;)this._lenses.push(new o.CodeLensWidget(c[T],this._editor,E,w,p.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++;E.commit(C)})}),g.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var a;(a=this._resolveCodeLensesPromise)===null||a===void 0||a.cancel(),this._resolveCodeLensesPromise=void 0;const d=this._editor.getModel();if(!d)return;const c=[],b=[];if(this._lenses.forEach(C=>{const w=C.computeIfNecessary(d);w&&(c.push(w),b.push(C))}),c.length===0)return;const g=Date.now(),p=(0,y.createCancelablePromise)(C=>{const w=c.map((E,I)=>{const T=new Array(E.length),P=E.map((A,M)=>!A.symbol.command&&typeof A.provider.resolveCodeLens=="function"?Promise.resolve(A.provider.resolveCodeLens(d,A.symbol,C)).then(N=>{T[M]=N},k.onUnexpectedExternalError):(T[M]=A.symbol,Promise.resolve(void 0)));return Promise.all(P).then(()=>{!C.isCancellationRequested&&!b[I].isDisposed()&&b[I].updateCommands(T)})});return Promise.all(w)});this._resolveCodeLensesPromise=p,this._resolveCodeLensesPromise.then(()=>{const C=this._resolveCodeLensesDebounce.update(d,Date.now()-g);this._resolveCodeLensesScheduler.delay=C,this._currentCodeLensModel&&this._codeLensCache.put(d,this._currentCodeLensModel),this._oldCodeLensModels.clear(),p===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},C=>{(0,k.onUnexpectedError)(C),p===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};e.CodeLensContribution=s,s.ID="css.editor.codeLens",e.CodeLensContribution=s=Ne([fe(1,h.ILanguageFeaturesService),fe(2,l.ILanguageFeatureDebounceService),fe(3,t.ICommandService),fe(4,n.INotificationService),fe(5,v.ICodeLensCache)],s),(0,_.registerEditorContribution)(s.ID,s,1),(0,_.registerEditorAction)(class extends _.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:S.EditorContextKeys.hasCodeLensProvider,label:(0,i.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(a,d){return Le(this,void 0,void 0,function*(){if(!d.hasModel())return;const c=a.get(r.IQuickInputService),b=a.get(t.ICommandService),g=a.get(n.INotificationService),p=d.getSelection().positionLineNumber,C=d.getContribution(s.ID);if(!C)return;const w=C.getModel();if(!w)return;const E=[];for(const T of w.lenses)T.symbol.command&&T.symbol.range.startLineNumber===p&&E.push({label:T.symbol.command.title,command:T.symbol.command});if(E.length===0)return;const I=yield c.pick(E,{canPickMany:!1});if(I){if(w.isDisposed)return yield b.executeCommand(this.id);try{yield b.executeCommand(I.command.id,...I.command.arguments||[])}catch(T){g.error(T)}}})}})}),define(J[359],ee([1,0,13,37,12,6,2,59,9,162,16,5,39,75,19,339,28]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecoratorLimitReporter=e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});let h=class $i extends _.Disposable{constructor(a,d,c,b){super(),this._editor=a,this._configurationService=d,this._languageFeaturesService=c,this._localToDispose=this._register(new _.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new f.DynamicCssRules(this._editor),this._decoratorLimitReporter=new s,this._colorDecorationClassRefs=this._register(new _.DisposableStore),this._debounceInformation=b.for(c.colorProvider,"Document Colors",{min:$i.RECOMPUTE_TIME}),this._register(a.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(a.onDidChangeModelLanguage(()=>this.updateColors())),this._register(c.colorProvider.onDidChange(()=>this.updateColors())),this._register(a.onDidChangeConfiguration(g=>{const p=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(144);const C=p!==this._isColorDecoratorsEnabled||g.hasChanged(20),w=g.hasChanged(144);(C||w)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(144),this.updateColors()}isEnabled(){const a=this._editor.getModel();if(!a)return!1;const d=a.getLanguageId(),c=this._configurationService.getValue(d);if(c&&typeof c=="object"){const b=c.colorDecorators;if(b&&b.enable!==void 0&&!b.enable)return b.enable}return this._editor.getOption(19)}static get(a){return a.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const a=this._editor.getModel();!a||!this._languageFeaturesService.colorProvider.has(a)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new y.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(a)))})),this.beginCompute())}beginCompute(){return Le(this,void 0,void 0,function*(){this._computePromise=(0,y.createCancelablePromise)(a=>Le(this,void 0,void 0,function*(){const d=this._editor.getModel();if(!d)return[];const c=new m.StopWatch(!1),b=yield(0,r.getColors)(this._languageFeaturesService.colorProvider,d,a,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(d,c.elapsed()),b}));try{const a=yield this._computePromise;this.updateDecorations(a),this.updateColorDecorators(a),this._computePromise=null}catch(a){(0,L.onUnexpectedError)(a)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(a){const d=a.map(c=>({range:{startLineNumber:c.colorInfo.range.startLineNumber,startColumn:c.colorInfo.range.startColumn,endLineNumber:c.colorInfo.range.endLineNumber,endColumn:c.colorInfo.range.endColumn},options:i.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(c=>{this._decorationsIds=c.deltaDecorations(this._decorationsIds,d),this._colorDatas=new Map,this._decorationsIds.forEach((b,g)=>this._colorDatas.set(b,a[g]))})}updateColorDecorators(a){this._colorDecorationClassRefs.clear();const d=[],c=this._editor.getOption(20);for(let g=0;g<a.length&&d.length<c;g++){const{red:p,green:C,blue:w,alpha:E}=a[g].colorInfo.color,I=new k.RGBA(Math.round(p*255),Math.round(C*255),Math.round(w*255),E),T=`rgba(${I.r}, ${I.g}, ${I.b}, ${I.a})`,P=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:T}));d.push({range:{startLineNumber:a[g].colorInfo.range.startLineNumber,startColumn:a[g].colorInfo.range.startColumn,endLineNumber:a[g].colorInfo.range.endLineNumber,endColumn:a[g].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:S.noBreakWhitespace,inlineClassName:`${P.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}const b=c<a.length?c:!1;this._decoratorLimitReporter.update(a.length,b),this._colorDecoratorIds.set(d)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(a){const d=this._editor.getModel();if(!d)return null;const c=d.getDecorationsInRange(o.Range.fromPositions(a,a)).filter(b=>this._colorDatas.has(b.id));return c.length===0?null:this._colorDatas.get(c[0].id)}isColorDecoration(a){return this._colorDecoratorIds.has(a)}};e.ColorDetector=h,h.ID="editor.contrib.colorDetector",h.RECOMPUTE_TIME=1e3,e.ColorDetector=h=Ne([fe(1,l.IConfigurationService),fe(2,n.ILanguageFeaturesService),fe(3,t.ILanguageFeatureDebounceService)],h);class s{constructor(){this._onDidChange=new D.Emitter,this._computed=0,this._limited=!1}update(a,d){(a!==this._computed||d!==this._limited)&&(this._computed=a,this._limited=d,this._onDidChange.fire())}}e.DecoratorLimitReporter=s,(0,v.registerEditorContribution)(h.ID,h,1)}),define(J[360],ee([1,0,13,21,37,2,5,339,359,532,822,23,7]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerParticipant=e.StandaloneColorPickerHover=e.ColorHoverParticipant=e.ColorHover=void 0;class t{constructor(c,b,g,p){this.owner=c,this.range=b,this.model=g,this.provider=p,this.forceShowAtRange=!0}isValidForHoverAnchor(c){return c.type===1&&this.range.startColumn<=c.range.startColumn&&this.range.endColumn>=c.range.endColumn}}e.ColorHover=t;let n=class{constructor(c,b){this._editor=c,this._themeService=b,this.hoverOrdinal=2}computeSync(c,b){return[]}computeAsync(c,b,g){return y.AsyncIterableObject.fromPromise(this._computeAsync(c,b,g))}_computeAsync(c,b,g){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const p=S.ColorDetector.get(this._editor);if(!p)return[];for(const C of b){if(!p.isColorDecoration(C))continue;const w=p.getColorData(C.range.getStartPosition());if(w)return[yield h(this,this._editor.getModel(),w.colorInfo,w.provider)]}return[]})}renderHoverParts(c,b){return s(this,this._editor,this._themeService,b,c)}};e.ColorHoverParticipant=n,e.ColorHoverParticipant=n=Ne([fe(1,o.IThemeService)],n);class r{constructor(c,b,g,p){this.owner=c,this.range=b,this.model=g,this.provider=p}}e.StandaloneColorPickerHover=r;let l=class{constructor(c,b){this._editor=c,this._themeService=b,this._color=null}createColorHover(c,b,g){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!S.ColorDetector.get(this._editor))return null;const C=yield(0,m.getColors)(g,this._editor.getModel(),k.CancellationToken.None);let w=null,E=null;for(const A of C){const M=A.colorInfo;_.Range.containsRange(M.range,c.range)&&(w=M,E=A.provider)}const I=w??c,T=E??b,P=!!w;return{colorHover:yield h(this,this._editor.getModel(),I,T),foundInEditor:P}})}updateEditorModel(c){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const b=c.model;let g=new _.Range(c.range.startLineNumber,c.range.startColumn,c.range.endLineNumber,c.range.endColumn);this._color&&(yield a(this._editor.getModel(),b,this._color,g,c),g=u(this._editor,g,b))})}renderHoverParts(c,b){return s(this,this._editor,this._themeService,b,c)}set color(c){this._color=c}get color(){return this._color}};e.StandaloneColorPickerParticipant=l,e.StandaloneColorPickerParticipant=l=Ne([fe(1,o.IThemeService)],l);function h(d,c,b,g){return Le(this,void 0,void 0,function*(){const p=c.getValueInRange(b.range),{red:C,green:w,blue:E,alpha:I}=b.color,T=new L.RGBA(Math.round(C*255),Math.round(w*255),Math.round(E*255),I),P=new L.Color(T),A=yield(0,m.getColorPresentations)(c,b,g,k.CancellationToken.None),M=new f.ColorPickerModel(P,[],0);return M.colorPresentations=A||[],M.guessColorPresentation(P,p),d instanceof n?new t(d,_.Range.lift(b.range),M,g):new r(d,_.Range.lift(b.range),M,g)})}function s(d,c,b,g,p){if(g.length===0||!c.hasModel())return D.Disposable.None;if(p.setMinimumDimensions){const M=c.getOption(65)+8;p.setMinimumDimensions(new i.Dimension(302,M))}const C=new D.DisposableStore,w=g[0],E=c.getModel(),I=w.model,T=C.add(new v.ColorPickerWidget(p.fragment,I,c.getOption(140),b,d instanceof l));p.setColorPicker(T);let P=!1,A=new _.Range(w.range.startLineNumber,w.range.startColumn,w.range.endLineNumber,w.range.endColumn);if(d instanceof l){const M=g[0].model.color;d.color=M,a(E,I,M,A,w),C.add(I.onColorFlushed(N=>{d.color=N}))}else C.add(I.onColorFlushed(M=>Le(this,void 0,void 0,function*(){yield a(E,I,M,A,w),P=!0,A=u(c,A,I,p)})));return C.add(I.onDidChangeColor(M=>{a(E,I,M,A,w)})),C.add(c.onDidChangeModelContent(M=>{P?P=!1:(p.hide(),c.focus())})),C}function u(d,c,b,g){let p,C;if(b.presentation.textEdit){p=[b.presentation.textEdit],C=new _.Range(b.presentation.textEdit.range.startLineNumber,b.presentation.textEdit.range.startColumn,b.presentation.textEdit.range.endLineNumber,b.presentation.textEdit.range.endColumn);const w=d.getModel()._setTrackedRange(null,C,3);d.pushUndoStop(),d.executeEdits("colorpicker",p),C=d.getModel()._getTrackedRange(w)||C}else p=[{range:c,text:b.presentation.label,forceMoveMarkers:!1}],C=c.setEndPosition(c.endLineNumber,c.startColumn+b.presentation.label.length),d.pushUndoStop(),d.executeEdits("colorpicker",p);return b.presentation.additionalTextEdits&&(p=[...b.presentation.additionalTextEdits],d.executeEdits("colorpicker",p),g&&g.hide()),d.pushUndoStop(),C}function a(d,c,b,g,p){return Le(this,void 0,void 0,function*(){const C=yield(0,m.getColorPresentations)(d,{range:g,color:{red:b.rgba.r/255,green:b.rgba.g/255,blue:b.rgba.b/255,alpha:b.rgba.a}},p.provider,k.CancellationToken.None);c.colorPresentations=C||[]})}}),define(J[871],ee([1,0,2,17,16,11,5,24,39,534,435]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function v(i){return k.isMacintosh?i.altKey:i.ctrlKey}class o extends y.Disposable{constructor(t){super(),this._editor=t,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(n))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(n))),this._register(this._editor.onMouseDrag(n=>this._onEditorMouseDrag(n))),this._register(this._editor.onMouseDrop(n=>this._onEditorMouseDrop(n))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(n=>this.onEditorKeyDown(n))),this._register(this._editor.onKeyUp(n=>this.onEditorKeyUp(n))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(t){!this._editor.getOption(34)||this._editor.getOption(21)||(v(t)&&(this._modifierPressed=!0),this._mouseDown&&v(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(t){!this._editor.getOption(34)||this._editor.getOption(21)||(v(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===o.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(t){this._mouseDown=!0}_onEditorMouseUp(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(t){const n=t.target;if(this._dragSelection===null){const l=(this._editor.getSelections()||[]).filter(h=>n.position&&h.containsPosition(n.position));if(l.length===1)this._dragSelection=l[0];else return}v(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),n.position&&(this._dragSelection.containsPosition(n.position)?this._removeDecoration():this.showAt(n.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){const n=new D.Position(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){let r=null;if(t.event.shiftKey){const l=this._editor.getSelection();if(l){const{selectionStartLineNumber:h,selectionStartColumn:s}=l;r=[new m.Selection(h,s,n.lineNumber,n.column)]}}else r=(this._editor.getSelections()||[]).map(l=>l.containsPosition(n)?new m.Selection(n.lineNumber,n.column,n.lineNumber,n.column):l);this._editor.setSelections(r||[],"mouse",3)}else(!this._dragSelection.containsPosition(n)||(v(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(n)||this._dragSelection.getStartPosition().equals(n)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(o.ID,new f.DragAndDropCommand(this._dragSelection,n,v(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(t){this._dndDecorationIds.set([{range:new _.Range(t.lineNumber,t.column,t.lineNumber,t.column),options:o._DECORATION_OPTIONS}]),this._editor.revealPosition(t,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(t){return t.type===6||t.type===7}_hitMargin(t){return t.type===2||t.type===3||t.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=o,o.ID="editor.contrib.dragAndDrop",o.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,o._DECORATION_OPTIONS=S.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,L.registerEditorContribution)(o.ID,o,2)}),define(J[872],ee([1,0,5,47,39,32,23]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class m{constructor(f){this._editor=f,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const f=this._findScopeDecorationIds.map(v=>this._editor.getModel().getDecorationRange(v)).filter(v=>!!v);if(f.length)return f}return null}getStartPosition(){return this._startPosition}setStartPosition(f){this._startPosition=f,this.setCurrentFindMatch(null)}_getDecorationIndex(f){const v=this._decorations.indexOf(f);return v>=0?v+1:1}getDecorationRangeAt(f){const v=f<this._decorations.length?this._decorations[f]:null;return v?this._editor.getModel().getDecorationRange(v):null}getCurrentMatchesPosition(f){const v=this._editor.getModel().getDecorationsInRange(f);for(const o of v){const i=o.options;if(i===m._FIND_MATCH_DECORATION||i===m._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(o.id)}return 0}setCurrentFindMatch(f){let v=null,o=0;if(f)for(let i=0,t=this._decorations.length;i<t;i++){const n=this._editor.getModel().getDecorationRange(this._decorations[i]);if(f.equalsRange(n)){v=this._decorations[i],o=i+1;break}}return(this._highlightedDecorationId!==null||v!==null)&&this._editor.changeDecorations(i=>{if(this._highlightedDecorationId!==null&&(i.changeDecorationOptions(this._highlightedDecorationId,m._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),v!==null&&(this._highlightedDecorationId=v,i.changeDecorationOptions(this._highlightedDecorationId,m._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),v!==null){let t=this._editor.getModel().getDecorationRange(v);if(t.startLineNumber!==t.endLineNumber&&t.endColumn===1){const n=t.endLineNumber-1,r=this._editor.getModel().getLineMaxColumn(n);t=new y.Range(t.startLineNumber,t.startColumn,n,r)}this._rangeHighlightDecorationId=i.addDecoration(t,m._RANGE_HIGHLIGHT_DECORATION)}}),o}set(f,v){this._editor.changeDecorations(o=>{let i=m._FIND_MATCH_DECORATION;const t=[];if(f.length>1e3){i=m._FIND_MATCH_NO_OVERVIEW_DECORATION;const r=this._editor.getModel().getLineCount(),h=this._editor.getLayoutInfo().height/r,s=Math.max(2,Math.ceil(3/h));let u=f[0].range.startLineNumber,a=f[0].range.endLineNumber;for(let d=1,c=f.length;d<c;d++){const b=f[d].range;a+s>=b.startLineNumber?b.endLineNumber>a&&(a=b.endLineNumber):(t.push({range:new y.Range(u,1,a,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),u=b.startLineNumber,a=b.endLineNumber)}t.push({range:new y.Range(u,1,a,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const n=new Array(f.length);for(let r=0,l=f.length;r<l;r++)n[r]={range:f[r].range,options:i};this._decorations=o.deltaDecorations(this._decorations,n),this._overviewRulerApproximateDecorations=o.deltaDecorations(this._overviewRulerApproximateDecorations,t),this._rangeHighlightDecorationId&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(r=>o.removeDecoration(r)),this._findScopeDecorationIds=[]),v?.length&&(this._findScopeDecorationIds=v.map(r=>o.addDecoration(r,m._FIND_SCOPE_DECORATION)))})}matchBeforePosition(f){if(this._decorations.length===0)return null;for(let v=this._decorations.length-1;v>=0;v--){const o=this._decorations[v],i=this._editor.getModel().getDecorationRange(o);if(!(!i||i.endLineNumber>f.lineNumber)){if(i.endLineNumber<f.lineNumber)return i;if(!(i.endColumn>f.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(f){if(this._decorations.length===0)return null;for(let v=0,o=this._decorations.length;v<o;v++){const i=this._decorations[v],t=this._editor.getModel().getDecorationRange(i);if(!(!t||t.startLineNumber<f.lineNumber)){if(t.startLineNumber>f.lineNumber)return t;if(!(t.startColumn<f.column))return t}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let f=[];return f=f.concat(this._decorations),f=f.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&f.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&f.push(this._rangeHighlightDecorationId),f}}e.FindDecorations=m,m._CURRENT_FIND_MATCH_DECORATION=L.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,_.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,_.themeColorFromId)(D.minimapFindMatch),position:k.MinimapPosition.Inline}}),m._FIND_MATCH_DECORATION=L.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,_.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,_.themeColorFromId)(D.minimapFindMatch),position:k.MinimapPosition.Inline}}),m._FIND_MATCH_NO_OVERVIEW_DECORATION=L.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),m._FIND_MATCH_ONLY_OVERVIEW_DECORATION=L.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,_.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),m._RANGE_HIGHLIGHT_DECORATION=L.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),m._FIND_SCOPE_DECORATION=L.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(J[195],ee([1,0,15,13,2,125,11,5,24,183,872,535,536,14]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new t.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new t.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new t.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},e.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},e.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},e.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},e.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const n=240;class r{constructor(h,s){this._toDispose=new L.DisposableStore,this._editor=h,this._state=s,this._isDisposed=!1,this._startSearchingTimer=new k.TimeoutTimer,this._decorations=new v.FindDecorations(h),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new k.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(u=>{(u.reason===3||u.reason===5||u.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(u=>{this._ignoreModelContentChanged||(u.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(u=>this._onStateChanged(u))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,L.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(h){this._isDisposed||this._editor.hasModel()&&(h.searchString||h.isReplaceRevealed||h.isRegex||h.wholeWord||h.matchCase||h.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{h.searchScope?this.research(h.moveCursor,this._state.searchScope):this.research(h.moveCursor)},n)):h.searchScope?this.research(h.moveCursor,this._state.searchScope):this.research(h.moveCursor))}static _getSearchRange(h,s){return s||h.getFullModelRange()}research(h,s){let u=null;typeof s<"u"?s!==null&&(Array.isArray(s)?u=s:u=[s]):u=this._decorations.getFindScopes(),u!==null&&(u=u.map(b=>{if(b.startLineNumber!==b.endLineNumber){let g=b.endLineNumber;return b.endColumn===1&&(g=g-1),new m.Range(b.startLineNumber,1,g,this._editor.getModel().getLineMaxColumn(g))}return b}));const a=this._findMatches(u,!1,e.MATCHES_LIMIT);this._decorations.set(a,u);const d=this._editor.getSelection();let c=this._decorations.getCurrentMatchesPosition(d);if(c===0&&a.length>0){const b=(0,y.findFirstInSorted)(a.map(g=>g.range),g=>m.Range.compareRangesUsingStarts(g,d)>=0);c=b>0?b-1+1:c}this._state.changeMatchInfo(c,this._decorations.getCount(),void 0),h&&this._editor.getOption(40).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const h=this._decorations.getFindScope();return h&&this._editor.revealRangeInCenterIfOutsideViewport(h,0),!0}return!1}_setCurrentFindMatch(h){const s=this._decorations.setCurrentFindMatch(h);this._state.changeMatchInfo(s,this._decorations.getCount(),h),this._editor.setSelection(h),this._editor.revealRangeInCenterIfOutsideViewport(h,0)}_prevSearchPosition(h){const s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:u,column:a}=h;const d=this._editor.getModel();return s||a===1?(u===1?u=d.getLineCount():u--,a=d.getLineMaxColumn(u)):a--,new _.Position(u,a)}_moveToPrevMatch(h,s=!1){if(!this._state.canNavigateBack()){const C=this._decorations.matchAfterPosition(h);C&&this._setCurrentFindMatch(C);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let C=this._decorations.matchBeforePosition(h);C&&C.isEmpty()&&C.getStartPosition().equals(h)&&(h=this._prevSearchPosition(h),C=this._decorations.matchBeforePosition(h)),C&&this._setCurrentFindMatch(C);return}if(this._cannotFind())return;const u=this._decorations.getFindScope(),a=r._getSearchRange(this._editor.getModel(),u);a.getEndPosition().isBefore(h)&&(h=a.getEndPosition()),h.isBefore(a.getStartPosition())&&(h=a.getEndPosition());const{lineNumber:d,column:c}=h,b=this._editor.getModel();let g=new _.Position(d,c),p=b.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,!1);if(p&&p.range.isEmpty()&&p.range.getStartPosition().equals(g)&&(g=this._prevSearchPosition(g),p=b.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,!1)),!!p){if(!s&&!a.containsRange(p.range))return this._moveToPrevMatch(p.range.getStartPosition(),!0);this._setCurrentFindMatch(p.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(h){const s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:u,column:a}=h;const d=this._editor.getModel();return s||a===d.getLineMaxColumn(u)?(u===d.getLineCount()?u=1:u++,a=1):a++,new _.Position(u,a)}_moveToNextMatch(h){if(!this._state.canNavigateForward()){const u=this._decorations.matchBeforePosition(h);u&&this._setCurrentFindMatch(u);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let u=this._decorations.matchAfterPosition(h);u&&u.isEmpty()&&u.getStartPosition().equals(h)&&(h=this._nextSearchPosition(h),u=this._decorations.matchAfterPosition(h)),u&&this._setCurrentFindMatch(u);return}const s=this._getNextMatch(h,!1,!0);s&&this._setCurrentFindMatch(s.range)}_getNextMatch(h,s,u,a=!1){if(this._cannotFind())return null;const d=this._decorations.getFindScope(),c=r._getSearchRange(this._editor.getModel(),d);c.getEndPosition().isBefore(h)&&(h=c.getStartPosition()),h.isBefore(c.getStartPosition())&&(h=c.getStartPosition());const{lineNumber:b,column:g}=h,p=this._editor.getModel();let C=new _.Position(b,g),w=p.findNextMatch(this._state.searchString,C,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,s);return u&&w&&w.range.isEmpty()&&w.range.getStartPosition().equals(C)&&(C=this._nextSearchPosition(C),w=p.findNextMatch(this._state.searchString,C,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,s)),w?!a&&!c.containsRange(w.range)?this._getNextMatch(w.range.getEndPosition(),s,u,!0):w:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(h){const s=this._decorations.getDecorationRangeAt(h);s&&this._setCurrentFindMatch(s)}moveToMatch(h){this._moveToMatch(h)}_getReplacePattern(){return this._state.isRegex?(0,i.parseReplaceString)(this._state.replaceString):i.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const h=this._getReplacePattern(),s=this._editor.getSelection(),u=this._getNextMatch(s.getStartPosition(),!0,!1);if(u)if(s.equalsRange(u.range)){const a=h.buildReplaceString(u.matches,this._state.preserveCase),d=new D.ReplaceCommand(s,a);this._executeEditorCommand("replace",d),this._decorations.setStartPosition(new _.Position(s.startLineNumber,s.startColumn+a.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(u.range)}_findMatches(h,s,u){const a=(h||[null]).map(d=>r._getSearchRange(this._editor.getModel(),d));return this._editor.getModel().findMatches(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,s,u)}replaceAll(){if(!this._hasMatches())return;const h=this._decorations.getFindScopes();h===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(h),this.research(!1)}_largeReplaceAll(){const s=new f.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null).parseSearchRequest();if(!s)return;let u=s.regex;if(!u.multiline){let w="mu";u.ignoreCase&&(w+="i"),u.global&&(w+="g"),u=new RegExp(u.source,w)}const a=this._editor.getModel(),d=a.getValue(1),c=a.getFullModelRange(),b=this._getReplacePattern();let g;const p=this._state.preserveCase;b.hasReplacementPatterns||p?g=d.replace(u,function(){return b.buildReplaceString(arguments,p)}):g=d.replace(u,b.buildReplaceString(null,p));const C=new D.ReplaceCommandThatPreservesSelection(c,g,this._editor.getSelection());this._executeEditorCommand("replaceAll",C)}_regularReplaceAll(h){const s=this._getReplacePattern(),u=this._findMatches(h,s.hasReplacementPatterns||this._state.preserveCase,1073741824),a=[];for(let c=0,b=u.length;c<b;c++)a[c]=s.buildReplaceString(u[c].matches,this._state.preserveCase);const d=new o.ReplaceAllCommand(this._editor.getSelection(),u.map(c=>c.range),a);this._executeEditorCommand("replaceAll",d)}selectAllMatches(){if(!this._hasMatches())return;const h=this._decorations.getFindScopes();let u=this._findMatches(h,!1,1073741824).map(d=>new S.Selection(d.range.startLineNumber,d.range.startColumn,d.range.endLineNumber,d.range.endColumn));const a=this._editor.getSelection();for(let d=0,c=u.length;d<c;d++)if(u[d].equalsRange(a)){u=[a].concat(u.slice(0,d)).concat(u.slice(d+1));break}this._editor.setSelections(u)}_executeEditorCommand(h,s){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(h,s),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=r}),define(J[873],ee([1,0,7,309,82,13,195,32,437]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class S extends L.Widget{constructor(v,o,i){super(),this._hideSoon=this._register(new D.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=v,this._state=o,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const t={inputActiveOptionBorder:(0,m.asCssVariable)(m.inputActiveOptionBorder),inputActiveOptionForeground:(0,m.asCssVariable)(m.inputActiveOptionForeground),inputActiveOptionBackground:(0,m.asCssVariable)(m.inputActiveOptionBackground)};this.caseSensitive=this._register(new k.CaseSensitiveToggle(Object.assign({appendTitle:this._keybindingLabelFor(_.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase},t))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsToggle(Object.assign({appendTitle:this._keybindingLabelFor(_.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord},t))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexToggle(Object.assign({appendTitle:this._keybindingLabelFor(_.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex},t))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(n=>{let r=!1;n.isRegex&&(this.regex.checked=this._state.isRegex,r=!0),n.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,r=!0),n.matchCase&&(this.caseSensitive.checked=this._state.matchCase,r=!0),!this._state.isRevealed&&r&&this._revealTemporarily()})),this._register(y.addDisposableListener(this._domNode,y.EventType.MOUSE_LEAVE,n=>this._onMouseLeave())),this._register(y.addDisposableListener(this._domNode,"mouseover",n=>this._onMouseOver()))}_keybindingLabelFor(v){const o=this._keybindingService.lookupKeybinding(v);return o?` (${o.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return S.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}e.FindOptionsWidget=S,S.ID="editor.contrib.findOptionsWidget"}),define(J[874],ee([1,0,6,2,5,195]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function _(S,f){return S===1?!0:S===2?!1:f}class m extends k.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return _(this._isRegexOverride,this._isRegex)}get wholeWord(){return _(this._wholeWordOverride,this._wholeWord)}get matchCase(){return _(this._matchCaseOverride,this._matchCase)}get preserveCase(){return _(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new y.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(f,v,o){const i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let t=!1;v===0&&(f=0),f>v&&(f=v),this._matchesPosition!==f&&(this._matchesPosition=f,i.matchesPosition=!0,t=!0),this._matchesCount!==v&&(this._matchesCount=v,i.matchesCount=!0,t=!0),typeof o<"u"&&(L.Range.equalsRange(this._currentMatch,o)||(this._currentMatch=o,i.currentMatch=!0,t=!0)),t&&this._onFindReplaceStateChange.fire(i)}change(f,v,o=!0){var i;const t={moveCursor:v,updateHistory:o,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let n=!1;const r=this.isRegex,l=this.wholeWord,h=this.matchCase,s=this.preserveCase;typeof f.searchString<"u"&&this._searchString!==f.searchString&&(this._searchString=f.searchString,t.searchString=!0,n=!0),typeof f.replaceString<"u"&&this._replaceString!==f.replaceString&&(this._replaceString=f.replaceString,t.replaceString=!0,n=!0),typeof f.isRevealed<"u"&&this._isRevealed!==f.isRevealed&&(this._isRevealed=f.isRevealed,t.isRevealed=!0,n=!0),typeof f.isReplaceRevealed<"u"&&this._isReplaceRevealed!==f.isReplaceRevealed&&(this._isReplaceRevealed=f.isReplaceRevealed,t.isReplaceRevealed=!0,n=!0),typeof f.isRegex<"u"&&(this._isRegex=f.isRegex),typeof f.wholeWord<"u"&&(this._wholeWord=f.wholeWord),typeof f.matchCase<"u"&&(this._matchCase=f.matchCase),typeof f.preserveCase<"u"&&(this._preserveCase=f.preserveCase),typeof f.searchScope<"u"&&(!((i=f.searchScope)===null||i===void 0)&&i.every(u=>{var a;return(a=this._searchScope)===null||a===void 0?void 0:a.some(d=>!L.Range.equalsRange(d,u))})||(this._searchScope=f.searchScope,t.searchScope=!0,n=!0)),typeof f.loop<"u"&&this._loop!==f.loop&&(this._loop=f.loop,t.loop=!0,n=!0),typeof f.isSearching<"u"&&this._isSearching!==f.isSearching&&(this._isSearching=f.isSearching,t.isSearching=!0,n=!0),typeof f.filters<"u"&&(this._filters?this._filters.update(f.filters):this._filters=f.filters,t.filters=!0,n=!0),this._isRegexOverride=typeof f.isRegexOverride<"u"?f.isRegexOverride:0,this._wholeWordOverride=typeof f.wholeWordOverride<"u"?f.wholeWordOverride:0,this._matchCaseOverride=typeof f.matchCaseOverride<"u"?f.matchCaseOverride:0,this._preserveCaseOverride=typeof f.preserveCaseOverride<"u"?f.preserveCaseOverride:0,r!==this.isRegex&&(n=!0,t.isRegex=!0),l!==this.wholeWord&&(n=!0,t.wholeWord=!0),h!==this.matchCase&&(n=!0,t.matchCase=!0),s!==this.preserveCase&&(n=!0,t.preserveCase=!0),n&&this._onFindReplaceStateChange.fire(t)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=m}),define(J[875],ee([1,0,7,48,155,132,82,13,26,12,2,17,9,5,195,649,342,736,32,63,23,27,90,18,104,438]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const p=(0,u.registerIcon)("find-selection",S.Codicon.selection,r.localize(0,null)),C=(0,u.registerIcon)("find-collapsed",S.Codicon.chevronRight,r.localize(1,null)),w=(0,u.registerIcon)("find-expanded",S.Codicon.chevronDown,r.localize(2,null));e.findReplaceIcon=(0,u.registerIcon)("find-replace",S.Codicon.replace,r.localize(3,null)),e.findReplaceAllIcon=(0,u.registerIcon)("find-replace-all",S.Codicon.replaceAll,r.localize(4,null)),e.findPreviousMatchIcon=(0,u.registerIcon)("find-previous-match",S.Codicon.arrowUp,r.localize(5,null)),e.findNextMatchIcon=(0,u.registerIcon)("find-next-match",S.Codicon.arrowDown,r.localize(6,null));const E=r.localize(7,null),I=r.localize(8,null),T=r.localize(9,null),P=r.localize(10,null),A=r.localize(11,null),M=r.localize(12,null),N=r.localize(13,null),O=r.localize(14,null),x=r.localize(15,null),F=r.localize(16,null),B=r.localize(17,null),z=r.localize(18,null),j=r.localize(19,null,n.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=r.localize(20,null),e.NLS_NO_RESULTS=r.localize(21,null);const R=419,se=275-54;let le=69;const te=33,Y="ctrlEnterReplaceAll.windows.donotask",U=o.isMacintosh?256:2048;class V{constructor(ce){this.afterLineNumber=ce,this.heightInPx=te,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=V;function H(de,ce,ae){const ue=!!ce.match(/\n/);if(ae&&ue&&ae.selectionStart>0){de.stopPropagation();return}}function $(de,ce,ae){const ue=!!ce.match(/\n/);if(ae&&ue&&ae.selectionEnd<ae.value.length){de.stopPropagation();return}}class X extends _.Widget{constructor(ce,ae,ue,q,W,K,ie,ne,oe){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=ce,this._controller=ae,this._state=ue,this._contextViewProvider=q,this._keybindingService=W,this._contextKeyService=K,this._storageService=ne,this._notificationService=oe,this._ctrlEnterReplaceAllWarningPrompted=!!ne.getBoolean(Y,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new m.Delayer(500),this._register((0,v.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(re=>this._onStateChanged(re))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(re=>{if(re.hasChanged(89)&&(this._codeEditor.getOption(89)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),re.hasChanged(142)&&this._tryUpdateWidgetWidth(),re.hasChanged(2)&&this.updateAccessibilitySupport(),re.hasChanged(40)){const ge=this._codeEditor.getOption(40).loop;this._state.change({loop:ge},!1);const ve=this._codeEditor.getOption(40).addExtraSpaceOnTop;ve&&!this._viewZone&&(this._viewZone=new V(0),this._showViewZone()),!ve&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Le(this,void 0,void 0,function*(){if(this._isVisible){const re=yield this._controller.getGlobalBufferTerm();re&&re!==this._state.searchString&&(this._state.change({searchString:re},!1),this._findInput.select())}}))),this._findInputFocused=n.CONTEXT_FIND_INPUT_FOCUSED.bindTo(K),this._findFocusTracker=this._register(y.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=n.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(K),this._replaceFocusTracker=this._register(y.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(40).addExtraSpaceOnTop&&(this._viewZone=new V(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(re=>{if(re.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return X.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(ce){if(ce.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(ce.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),ce.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),ce.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(89)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=y.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(ce.isRevealed||ce.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),ce.isRegex&&this._findInput.setRegex(this._state.isRegex),ce.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),ce.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),ce.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),ce.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),ce.searchString||ce.matchesCount||ce.matchesPosition){const ae=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",ae),this._updateMatchesCount(),this._updateButtons()}(ce.searchString||ce.currentMatch)&&this._layoutViewZone(),ce.updateHistory&&this._delayedUpdateHistory(),ce.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,f.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=le+"px",this._state.matchesCount>=n.MATCHES_LIMIT?this._matchesCount.title=j:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let ce;if(this._state.matchesCount>0){let ae=String(this._state.matchesCount);this._state.matchesCount>=n.MATCHES_LIMIT&&(ae+="+");let ue=String(this._state.matchesPosition);ue==="0"&&(ue="?"),ce=i.format(e.NLS_MATCHES_LOCATION,ue,ae)}else ce=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(ce)),(0,k.alert)(this._getAriaLabel(ce,this._state.currentMatch,this._state.searchString)),le=Math.max(le,this._matchesCount.clientWidth)}_getAriaLabel(ce,ae,ue){if(ce===e.NLS_NO_RESULTS)return ue===""?r.localize(22,null,ce):r.localize(23,null,ce,ue);if(ae){const q=r.localize(24,null,ce,ue,ae.startLineNumber+":"+ae.startColumn),W=this._codeEditor.getModel();return W&&ae.startLineNumber<=W.getLineCount()&&ae.startLineNumber>=1?`${W.getLineContent(ae.startLineNumber)}, ${q}`:q}return r.localize(25,null,ce,ue)}_updateToggleSelectionFindButton(){const ce=this._codeEditor.getSelection(),ae=ce?ce.startLineNumber!==ce.endLineNumber||ce.startColumn!==ce.endColumn:!1,ue=this._toggleSelectionFind.checked;this._isVisible&&(ue||ae)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const ce=this._state.searchString.length>0,ae=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&ce&&ae&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&ce&&ae&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ce),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ce),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const ue=!this._codeEditor.getOption(89);this._toggleReplaceBtn.setEnabled(this._isVisible&&ue)}_reveal(){if(this._revealTimeouts.forEach(ce=>{clearTimeout(ce)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const ce=this._codeEditor.getSelection();switch(this._codeEditor.getOption(40).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const ue=!!ce&&ce.startLineNumber!==ce.endLineNumber;this._toggleSelectionFind.checked=ue;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ae=!0;if(this._codeEditor.getOption(40).seedSearchStringFromSelection&&ce){const ue=this._codeEditor.getDomNode();if(ue){const q=y.getDomNodePagePosition(ue),W=this._codeEditor.getScrolledVisiblePosition(ce.getStartPosition()),K=q.left+(W?W.left:0),ie=W?W.top:0;if(this._viewZone&&ie<this._viewZone.heightInPx){ce.endLineNumber>ce.startLineNumber&&(ae=!1);const ne=y.getTopLeftOffset(this._domNode).left;K>ne&&(ae=!1);const oe=this._codeEditor.getScrolledVisiblePosition(ce.getEndPosition());q.left+(oe?oe.left:0)>ne&&(ae=!1)}}}this._showViewZone(ae)}}_hide(ce){this._revealTimeouts.forEach(ae=>{clearTimeout(ae)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),ce&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(ce){if(!this._codeEditor.getOption(40).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const ue=this._viewZone;this._viewZoneId!==void 0||!ue||this._codeEditor.changeViewZones(q=>{ue.heightInPx=this._getHeight(),this._viewZoneId=q.addZone(ue),this._codeEditor.setScrollTop(ce||this._codeEditor.getScrollTop()+ue.heightInPx)})}_showViewZone(ce=!0){if(!this._isVisible||!this._codeEditor.getOption(40).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new V(0));const ue=this._viewZone;this._codeEditor.changeViewZones(q=>{if(this._viewZoneId!==void 0){const W=this._getHeight();if(W===ue.heightInPx)return;const K=W-ue.heightInPx;ue.heightInPx=W,q.layoutZone(this._viewZoneId),ce&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+K);return}else{let W=this._getHeight();if(W-=this._codeEditor.getOption(82).top,W<=0)return;ue.heightInPx=W,this._viewZoneId=q.addZone(ue),ce&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+W)}})}_removeViewZone(){this._codeEditor.changeViewZones(ce=>{this._viewZoneId!==void 0&&(ce.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!y.isInDOM(this._domNode))return;const ce=this._codeEditor.getLayoutInfo();if(ce.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const ue=ce.width,q=ce.minimap.minimapWidth;let W=!1,K=!1,ie=!1;if(this._resized&&y.getTotalWidth(this._domNode)>R){this._domNode.style.maxWidth=`${ue-28-q-15}px`,this._replaceInput.width=y.getTotalWidth(this._findInput.domNode);return}if(R+28+q>=ue&&(K=!0),R+28+q-le>=ue&&(ie=!0),R+28+q-le>=ue+50&&(W=!0),this._domNode.classList.toggle("collapsed-find-widget",W),this._domNode.classList.toggle("narrow-find-widget",ie),this._domNode.classList.toggle("reduced-find-widget",K),!ie&&!W&&(this._domNode.style.maxWidth=`${ue-28-q-15}px`),this._findInput.layout({collapsedFindWidget:W,narrowFindWidget:ie,reducedFindWidget:K}),this._resized){const ne=this._findInput.inputBox.element.clientWidth;ne>0&&(this._replaceInput.width=ne)}else this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode))}_getHeight(){let ce=0;return ce+=4,ce+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(ce+=4,ce+=this._replaceInput.inputBox.height+2),ce+=4,ce}_tryUpdateHeight(){const ce=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===ce?!1:(this._cachedHeight=ce,this._domNode.style.height=`${ce}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const ce=this._codeEditor.getSelections();ce.map(ae=>{ae.endColumn===1&&ae.endLineNumber>ae.startLineNumber&&(ae=ae.setEndPosition(ae.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ae.endLineNumber-1)));const ue=this._state.currentMatch;return ae.startLineNumber!==ae.endLineNumber&&!t.Range.equalsRange(ae,ue)?ae:null}).filter(ae=>!!ae),ce.length&&this._state.change({searchScope:ce},!0)}}_onFindInputMouseDown(ce){ce.middleButton&&ce.stopPropagation()}_onFindInputKeyDown(ce){if(ce.equals(U|3))if(this._keybindingService.dispatchEvent(ce,ce.target)){ce.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),ce.preventDefault();return}if(ce.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),ce.preventDefault();return}if(ce.equals(2066)){this._codeEditor.focus(),ce.preventDefault();return}if(ce.equals(16))return H(ce,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(ce.equals(18))return $(ce,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(ce){if(ce.equals(U|3))if(this._keybindingService.dispatchEvent(ce,ce.target)){ce.preventDefault();return}else{o.isWindows&&o.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(r.localize(26,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Y,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),ce.preventDefault();return}if(ce.equals(2)){this._findInput.focusOnCaseSensitive(),ce.preventDefault();return}if(ce.equals(1026)){this._findInput.focus(),ce.preventDefault();return}if(ce.equals(2066)){this._codeEditor.focus(),ce.preventDefault();return}if(ce.equals(16))return H(ce,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(ce.equals(18))return $(ce,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(ce){return 0}_keybindingLabelFor(ce){const ae=this._keybindingService.lookupKeybinding(ce);return ae?` (${ae.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new l.ContextScopedFindInput(null,this._contextViewProvider,{width:se,label:I,placeholder:T,appendCaseSensitiveLabel:this._keybindingLabelFor(n.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(n.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(n.FIND_IDS.ToggleRegexCommand),validation:ne=>{if(ne.length===0||!this._findInput.getRegex())return null;try{return new RegExp(ne,"gu"),null}catch(oe){return{content:oe.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,h.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:g.defaultInputBoxStyles,toggleStyles:g.defaultToggleStyles},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(ne=>this._onFindInputKeyDown(ne))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(ne=>{ne.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),ne.preventDefault())})),this._register(this._findInput.onRegexKeyDown(ne=>{ne.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),ne.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(ne=>{this._tryUpdateHeight()&&this._showViewZone()})),o.isLinux&&this._register(this._findInput.onMouseDown(ne=>this._onFindInputMouseDown(ne))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Q({label:P+this._keybindingLabelFor(n.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{(0,b.assertIsDefined)(this._codeEditor.getAction(n.FIND_IDS.PreviousMatchFindAction)).run().then(void 0,f.onUnexpectedError)}})),this._nextBtn=this._register(new Q({label:A+this._keybindingLabelFor(n.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{(0,b.assertIsDefined)(this._codeEditor.getAction(n.FIND_IDS.NextMatchFindAction)).run().then(void 0,f.onUnexpectedError)}}));const ue=document.createElement("div");ue.className="find-part",ue.appendChild(this._findInput.domNode);const q=document.createElement("div");q.className="find-actions",ue.appendChild(q),q.appendChild(this._matchesCount),q.appendChild(this._prevBtn.domNode),q.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new L.Toggle({icon:p,title:M+this._keybindingLabelFor(n.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,s.asCssVariable)(s.inputActiveOptionBackground),inputActiveOptionBorder:(0,s.asCssVariable)(s.inputActiveOptionBorder),inputActiveOptionForeground:(0,s.asCssVariable)(s.inputActiveOptionForeground)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const ne=this._codeEditor.getSelections();ne.map(oe=>(oe.endColumn===1&&oe.endLineNumber>oe.startLineNumber&&(oe=oe.setEndPosition(oe.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(oe.endLineNumber-1))),oe.isEmpty()?null:oe)).filter(oe=>!!oe),ne.length&&this._state.change({searchScope:ne},!0)}}else this._state.change({searchScope:null},!0)})),q.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Q({label:N+this._keybindingLabelFor(n.FIND_IDS.CloseFindWidgetCommand),icon:u.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:ne=>{ne.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),ne.preventDefault())}})),this._replaceInput=this._register(new l.ContextScopedReplaceInput(null,void 0,{label:O,placeholder:x,appendPreserveCaseLabel:this._keybindingLabelFor(n.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,h.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:g.defaultInputBoxStyles,toggleStyles:g.defaultToggleStyles},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(ne=>this._onReplaceInputKeyDown(ne))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(ne=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(ne=>{ne.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),ne.preventDefault())})),this._replaceBtn=this._register(new Q({label:F+this._keybindingLabelFor(n.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:ne=>{ne.equals(1026)&&(this._closeBtn.focus(),ne.preventDefault())}})),this._replaceAllBtn=this._register(new Q({label:B+this._keybindingLabelFor(n.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));const W=document.createElement("div");W.className="replace-part",W.appendChild(this._replaceInput.domNode);const K=document.createElement("div");K.className="replace-actions",W.appendChild(K),K.appendChild(this._replaceBtn.domNode),K.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Q({label:z,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=E,this._domNode.role="dialog",this._domNode.style.width=`${R}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(ue),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(W),this._resizeSash=new D.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let ie=R;this._register(this._resizeSash.onDidStart(()=>{ie=y.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(ne=>{this._resized=!0;const oe=ie+ne.startX-ne.currentX;if(oe<R)return;const re=parseFloat(y.getComputedStyle(this._domNode).maxWidth)||0;oe>re||(this._domNode.style.width=`${oe}px`,this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const ne=y.getTotalWidth(this._domNode);if(ne<R)return;let oe=R;if(!this._resized||ne===R){const re=this._codeEditor.getLayoutInfo();oe=re.width-28-re.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${oe}px`,this._isReplaceVisible&&(this._replaceInput.width=y.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const ce=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(ce!==2)}}e.FindWidget=X,X.ID="editor.contrib.findWidget";class Q extends _.Widget{constructor(ce){super(),this._opts=ce;let ae="button";this._opts.className&&(ae=ae+" "+this._opts.className),this._opts.icon&&(ae=ae+" "+d.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=ae,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,ue=>{this._opts.onTrigger(),ue.preventDefault()}),this.onkeydown(this._domNode,ue=>{var q,W;if(ue.equals(10)||ue.equals(3)){this._opts.onTrigger(),ue.preventDefault();return}(W=(q=this._opts).onKeyDown)===null||W===void 0||W.call(q,ue)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(ce){this._domNode.classList.toggle("disabled",!ce),this._domNode.setAttribute("aria-disabled",String(!ce)),this._domNode.tabIndex=ce?0:-1}setExpanded(ce){this._domNode.setAttribute("aria-expanded",String(!!ce)),ce?(this._domNode.classList.remove(...d.ThemeIcon.asClassNameArray(C)),this._domNode.classList.add(...d.ThemeIcon.asClassNameArray(w))):(this._domNode.classList.remove(...d.ThemeIcon.asClassNameArray(w)),this._domNode.classList.add(...d.ThemeIcon.asClassNameArray(C)))}}e.SimpleButton=Q,(0,a.registerThemingParticipant)((de,ce)=>{const ae=(Ie,Ee)=>{Ee&&ce.addRule(`.monaco-editor ${Ie} { background-color: ${Ee}; }`)};ae(".findMatch",de.getColor(s.editorFindMatchHighlight)),ae(".currentFindMatch",de.getColor(s.editorFindMatch)),ae(".findScope",de.getColor(s.editorFindRangeHighlight));const ue=de.getColor(s.editorWidgetBackground);ae(".find-widget",ue);const q=de.getColor(s.widgetShadow);q&&ce.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${q}; }`);const W=de.getColor(s.widgetBorder);W&&ce.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${W}; border-right: 1px solid ${W}; border-bottom: 1px solid ${W}; }`);const K=de.getColor(s.editorFindMatchHighlightBorder);K&&ce.addRule(`.monaco-editor .findMatch { border: 1px ${(0,c.isHighContrast)(de.type)?"dotted":"solid"} ${K}; box-sizing: border-box; }`);const ie=de.getColor(s.editorFindMatchBorder);ie&&ce.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${ie}; padding: 1px; box-sizing: border-box; }`);const ne=de.getColor(s.editorFindRangeHighlightBorder);ne&&ce.addRule(`.monaco-editor .findScope { border: 1px ${(0,c.isHighContrast)(de.type)?"dashed":"solid"} ${ne}; }`);const oe=de.getColor(s.contrastBorder);oe&&ce.addRule(`.monaco-editor .find-widget { border: 1px solid ${oe}; }`);const re=de.getColor(s.editorWidgetForeground);re&&ce.addRule(`.monaco-editor .find-widget { color: ${re}; }`);const ge=de.getColor(s.errorForeground);ge&&ce.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${ge}; }`);const ve=de.getColor(s.editorWidgetResizeBorder);if(ve)ce.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ve}; }`);else{const Ie=de.getColor(s.editorWidgetBorder);Ie&&ce.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Ie}; }`)}const we=de.getColor(s.toolbarHoverBackground);we&&ce.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${we} !important;
		}
	`);const ye=de.getColor(s.focusBorder);ye&&ce.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${ye}; }`)})}),define(J[361],ee([1,0,13,2,9,16,79,20,47,195,873,874,875,648,29,96,14,57,34,44,76,89,23]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.MoveToMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const b=524288;function g(B,z="single",j=!1){if(!B.hasModel())return null;const R=B.getSelection();if(z==="single"&&R.startLineNumber===R.endLineNumber||z==="multiple"){if(R.isEmpty()){const Z=B.getConfiguredWordAtPosition(R.getStartPosition());if(Z&&j===!1)return Z.word}else if(B.getModel().getValueLengthInRange(R)<b)return B.getModel().getValueInRange(R)}return null}e.getSelectionSearchString=g;let p=class Zi extends k.Disposable{get editor(){return this._editor}static get(z){return z.getContribution(Zi.ID)}constructor(z,j,R,Z){super(),this._editor=z,this._findWidgetVisible=f.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(j),this._contextKeyService=j,this._storageService=R,this._clipboardService=Z,this._updateHistoryDelayer=new y.Delayer(500),this._state=this._register(new o.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(se=>this._onStateChanged(se))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const se=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),se&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(40).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(z){this.saveQueryState(z),z.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),z.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(z){z.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),z.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),z.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),z.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!f.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const z=this._editor.getSelections();z.map(j=>(j.endColumn===1&&j.endLineNumber>j.startLineNumber&&(j=j.setEndPosition(j.endLineNumber-1,this._editor.getModel().getLineMaxColumn(j.endLineNumber-1))),j.isEmpty()?null:j)).filter(j=>!!j),z.length&&this._state.change({searchScope:z},!0)}}setSearchString(z){this._state.isRegex&&(z=L.escapeRegExpCharacters(z)),this._state.change({searchString:z},!1)}highlightFindOptions(z=!1){}_start(z,j){return Le(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const R=Object.assign(Object.assign({},j),{isRevealed:!0});if(z.seedSearchStringFromSelection==="single"){const Z=g(this._editor,z.seedSearchStringFromSelection,z.seedSearchStringFromNonEmptySelection);Z&&(this._state.isRegex?R.searchString=L.escapeRegExpCharacters(Z):R.searchString=Z)}else if(z.seedSearchStringFromSelection==="multiple"&&!z.updateSearchScope){const Z=g(this._editor,z.seedSearchStringFromSelection);Z&&(R.searchString=Z)}if(!R.searchString&&z.seedSearchStringFromGlobalClipboard){const Z=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;Z&&(R.searchString=Z)}if(z.forceRevealReplace||R.isReplaceRevealed?R.isReplaceRevealed=!0:this._findWidgetVisible.get()||(R.isReplaceRevealed=!1),z.updateSearchScope){const Z=this._editor.getSelections();Z.some(se=>!se.isEmpty())&&(R.searchScope=Z)}R.loop=z.loop,this._state.change(R,!1),this._model||(this._model=new f.FindModelBoundToEditorModel(this._editor,this._state))})}start(z,j){return this._start(z,j)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(z){return this._model?(this._model.moveToMatch(z),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Le(this,void 0,void 0,function*(){return this._editor.getOption(40).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(z){this._editor.getOption(40).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(z)}};e.CommonFindController=p,p.ID="editor.contrib.findController",e.CommonFindController=p=Ne([fe(1,l.IContextKeyService),fe(2,d.IStorageService),fe(3,r.IClipboardService)],p);let C=class extends p{constructor(z,j,R,Z,se,le,te,Y){super(z,R,te,Y),this._contextViewService=j,this._keybindingService=Z,this._themeService=se,this._notificationService=le,this._widget=null,this._findOptionsWidget=null}_start(z,j){const R=Object.create(null,{_start:{get:()=>super._start}});return Le(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const Z=this._editor.getSelection();let se=!1;switch(this._editor.getOption(40).autoFindInSelection){case"always":se=!0;break;case"never":se=!1;break;case"multiline":{se=!!Z&&Z.startLineNumber!==Z.endLineNumber;break}default:break}z.updateSearchScope=z.updateSearchScope||se,yield R._start.call(this,z,j),this._widget&&(z.shouldFocus===2?this._widget.focusReplaceInput():z.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(z=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!z?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new i.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new v.FindOptionsWidget(this._editor,this._state,this._keybindingService))}};e.FindController=C,e.FindController=C=Ne([fe(1,h.IContextViewService),fe(2,l.IContextKeyService),fe(3,s.IKeybindingService),fe(4,c.IThemeService),fe(5,u.INotificationService),fe(6,d.IStorageService),fe(7,r.IClipboardService)],C),e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:f.FIND_IDS.StartFindAction,label:t.localize(0,null),alias:"Find",precondition:l.ContextKeyExpr.or(m.EditorContextKeys.focus,l.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:n.MenuId.MenubarEditMenu,group:"3_find",title:t.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(B,z,j)=>{const R=p.get(z);return R?R.start({forceRevealReplace:!1,seedSearchStringFromSelection:z.getOption(40).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:z.getOption(40).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:z.getOption(40).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:z.getOption(40).loop}):!1});const w={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:t.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:t.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:t.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:t.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class E extends D.EditorAction{constructor(){super({id:f.FIND_IDS.StartFindWithArgs,label:t.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:w})}run(z,j,R){return Le(this,void 0,void 0,function*(){const Z=p.get(j);if(Z){const se=R?{searchString:R.searchString,replaceString:R.replaceString,isReplaceRevealed:R.replaceString!==void 0,isRegex:R.isRegex,wholeWord:R.matchWholeWord,matchCase:R.isCaseSensitive,preserveCase:R.preserveCase}:{};yield Z.start({forceRevealReplace:!1,seedSearchStringFromSelection:Z.getState().searchString.length===0&&j.getOption(40).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:j.getOption(40).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:R?.findInSelection||!1,loop:j.getOption(40).loop},se),Z.setGlobalBufferTerm(Z.getState().searchString)}})}}e.StartFindWithArgsAction=E;class I extends D.EditorAction{constructor(){super({id:f.FIND_IDS.StartFindWithSelection,label:t.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(z,j){return Le(this,void 0,void 0,function*(){const R=p.get(j);R&&(yield R.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:j.getOption(40).loop}),R.setGlobalBufferTerm(R.getState().searchString))})}}e.StartFindWithSelectionAction=I;class T extends D.EditorAction{run(z,j){return Le(this,void 0,void 0,function*(){const R=p.get(j);R&&!this._run(R)&&(yield R.start({forceRevealReplace:!1,seedSearchStringFromSelection:R.getState().searchString.length===0&&j.getOption(40).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:j.getOption(40).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:j.getOption(40).loop}),this._run(R))})}}e.MatchFindAction=T;class P extends T{constructor(){super({id:f.FIND_IDS.NextMatchFindAction,label:t.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:l.ContextKeyExpr.and(m.EditorContextKeys.focus,f.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(z){return z.moveToNextMatch()?(z.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=P;class A extends T{constructor(){super({id:f.FIND_IDS.PreviousMatchFindAction,label:t.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:m.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:l.ContextKeyExpr.and(m.EditorContextKeys.focus,f.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}_run(z){return z.moveToPrevMatch()}}e.PreviousMatchFindAction=A;class M extends D.EditorAction{constructor(){super({id:f.FIND_IDS.GoToMatchFindAction,label:t.localize(10,null),alias:"Go to Match...",precondition:f.CONTEXT_FIND_WIDGET_VISIBLE}),this._highlightDecorations=[]}run(z,j,R){const Z=p.get(j);if(!Z)return;const se=Z.getState().matchesCount;if(se<1){z.get(u.INotificationService).notify({severity:u.Severity.Warning,message:t.localize(11,null)});return}const te=z.get(a.IQuickInputService).createInputBox();te.placeholder=t.localize(12,null,se);const Y=V=>{const H=parseInt(V);if(isNaN(H))return;const $=Z.getState().matchesCount;if(H>0&&H<=$)return H-1;if(H<0&&H>=-$)return $+H},U=V=>{const H=Y(V);if(typeof H=="number"){te.validationMessage=void 0,Z.goToMatch(H);const $=Z.getState().currentMatch;$&&this.addDecorations(j,$)}else te.validationMessage=t.localize(13,null,Z.getState().matchesCount),this.clearDecorations(j)};te.onDidChangeValue(V=>{U(V)}),te.onDidAccept(()=>{const V=Y(te.value);typeof V=="number"?(Z.goToMatch(V),te.hide()):te.validationMessage=t.localize(14,null,Z.getState().matchesCount)}),te.onDidHide(()=>{this.clearDecorations(j),te.dispose()}),te.show()}clearDecorations(z){z.changeDecorations(j=>{this._highlightDecorations=j.deltaDecorations(this._highlightDecorations,[])})}addDecorations(z,j){z.changeDecorations(R=>{this._highlightDecorations=R.deltaDecorations(this._highlightDecorations,[{range:j,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:j,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,c.themeColorFromId)(_.overviewRulerRangeHighlight),position:S.OverviewRulerLane.Full}}}])})}}e.MoveToMatchFindAction=M;class N extends D.EditorAction{run(z,j){return Le(this,void 0,void 0,function*(){const R=p.get(j);if(!R)return;const Z=g(j,"single",!1);Z&&R.setSearchString(Z),this._run(R)||(yield R.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:j.getOption(40).loop}),this._run(R))})}}e.SelectionMatchFindAction=N;class O extends N{constructor(){super({id:f.FIND_IDS.NextSelectionMatchFindAction,label:t.localize(15,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:2109,weight:100}})}_run(z){return z.moveToNextMatch()}}e.NextSelectionMatchFindAction=O;class x extends N{constructor(){super({id:f.FIND_IDS.PreviousSelectionMatchFindAction,label:t.localize(16,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:3133,weight:100}})}_run(z){return z.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=x,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:f.FIND_IDS.StartFindReplaceAction,label:t.localize(17,null),alias:"Replace",precondition:l.ContextKeyExpr.or(m.EditorContextKeys.focus,l.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:n.MenuId.MenubarEditMenu,group:"3_find",title:t.localize(18,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(B,z,j)=>{if(!z.hasModel()||z.getOption(89))return!1;const R=p.get(z);if(!R)return!1;const Z=z.getSelection(),se=R.isFindInputFocused(),le=!Z.isEmpty()&&Z.startLineNumber===Z.endLineNumber&&z.getOption(40).seedSearchStringFromSelection!=="never"&&!se,te=se||le?2:1;return R.start({forceRevealReplace:!0,seedSearchStringFromSelection:le?"single":"none",seedSearchStringFromNonEmptySelection:z.getOption(40).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:z.getOption(40).seedSearchStringFromSelection!=="never",shouldFocus:te,shouldAnimate:!0,updateSearchScope:!1,loop:z.getOption(40).loop})}),(0,D.registerEditorContribution)(p.ID,C,0),(0,D.registerEditorAction)(E),(0,D.registerEditorAction)(I),(0,D.registerEditorAction)(P),(0,D.registerEditorAction)(A),(0,D.registerEditorAction)(M),(0,D.registerEditorAction)(O),(0,D.registerEditorAction)(x);const F=D.EditorCommand.bindToContribution(p.get);(0,D.registerEditorCommand)(new F({id:f.FIND_IDS.CloseFindWidgetCommand,precondition:f.CONTEXT_FIND_WIDGET_VISIBLE,handler:B=>B.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:l.ContextKeyExpr.and(m.EditorContextKeys.focus,l.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,D.registerEditorCommand)(new F({id:f.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:B=>B.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:f.ToggleCaseSensitiveKeybinding.primary,mac:f.ToggleCaseSensitiveKeybinding.mac,win:f.ToggleCaseSensitiveKeybinding.win,linux:f.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new F({id:f.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:B=>B.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:f.ToggleWholeWordKeybinding.primary,mac:f.ToggleWholeWordKeybinding.mac,win:f.ToggleWholeWordKeybinding.win,linux:f.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new F({id:f.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:B=>B.toggleRegex(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:f.ToggleRegexKeybinding.primary,mac:f.ToggleRegexKeybinding.mac,win:f.ToggleRegexKeybinding.win,linux:f.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new F({id:f.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:B=>B.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:f.ToggleSearchScopeKeybinding.primary,mac:f.ToggleSearchScopeKeybinding.mac,win:f.ToggleSearchScopeKeybinding.win,linux:f.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new F({id:f.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:B=>B.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:f.TogglePreserveCaseKeybinding.primary,mac:f.TogglePreserveCaseKeybinding.mac,win:f.TogglePreserveCaseKeybinding.win,linux:f.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new F({id:f.FIND_IDS.ReplaceOneAction,precondition:f.CONTEXT_FIND_WIDGET_VISIBLE,handler:B=>B.replace(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:3094}})),(0,D.registerEditorCommand)(new F({id:f.FIND_IDS.ReplaceOneAction,precondition:f.CONTEXT_FIND_WIDGET_VISIBLE,handler:B=>B.replace(),kbOpts:{weight:100+5,kbExpr:l.ContextKeyExpr.and(m.EditorContextKeys.focus,f.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new F({id:f.FIND_IDS.ReplaceAllAction,precondition:f.CONTEXT_FIND_WIDGET_VISIBLE,handler:B=>B.replaceAll(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:2563}})),(0,D.registerEditorCommand)(new F({id:f.FIND_IDS.ReplaceAllAction,precondition:f.CONTEXT_FIND_WIDGET_VISIBLE,handler:B=>B.replaceAll(),kbOpts:{weight:100+5,kbExpr:l.ContextKeyExpr.and(m.EditorContextKeys.focus,f.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,D.registerEditorCommand)(new F({id:f.FIND_IDS.SelectAllMatchesAction,precondition:f.CONTEXT_FIND_WIDGET_VISIBLE,handler:B=>B.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:m.EditorContextKeys.focus,primary:515}}))}),define(J[876],ee([1,0,26,47,39,651,32,63,23,27]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0;const v=(0,_.registerColor)("editor.foldBackground",{light:(0,_.transparent)(_.editorSelectionBackground,.3),dark:(0,_.transparent)(_.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,D.localize)(0,null),!0);(0,_.registerColor)("editorGutter.foldingControlForeground",{dark:_.iconForeground,light:_.iconForeground,hcDark:_.iconForeground,hcLight:_.iconForeground},(0,D.localize)(1,null)),e.foldingExpandedIcon=(0,m.registerIcon)("folding-expanded",y.Codicon.chevronDown,(0,D.localize)(2,null)),e.foldingCollapsedIcon=(0,m.registerIcon)("folding-collapsed",y.Codicon.chevronRight,(0,D.localize)(3,null)),e.foldingManualCollapsedIcon=(0,m.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,D.localize)(4,null)),e.foldingManualExpandedIcon=(0,m.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,D.localize)(5,null));const o={color:(0,S.themeColorFromId)(v),position:k.MinimapPosition.Inline};class i{constructor(n){this.editor=n,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(n,r,l){return r?i.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?n?this.showFoldingHighlights?i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:i.NO_CONTROLS_EXPANDED_RANGE_DECORATION:n?l?this.showFoldingHighlights?i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?l?i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:l?i.MANUALLY_EXPANDED_VISUAL_DECORATION:i.EXPANDED_VISUAL_DECORATION}changeDecorations(n){return this.editor.changeDecorations(n)}removeDecorations(n){this.editor.removeDecorations(n)}}e.FoldingDecorationProvider=i,i.COLLAPSED_VISUAL_DECORATION=L.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:f.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=L.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:o,isWholeLine:!0,firstLineDecorationClassName:f.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.MANUALLY_COLLAPSED_VISUAL_DECORATION=L.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:f.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=L.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:o,isWholeLine:!0,firstLineDecorationClassName:f.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=L.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=L.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:o,isWholeLine:!0}),i.EXPANDED_VISUAL_DECORATION=L.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+f.ThemeIcon.asClassName(e.foldingExpandedIcon)}),i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=L.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:f.ThemeIcon.asClassName(e.foldingExpandedIcon)}),i.MANUALLY_EXPANDED_VISUAL_DECORATION=L.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+f.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=L.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:f.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),i.NO_CONTROLS_EXPANDED_RANGE_DECORATION=L.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),i.HIDDEN_RANGE_DECORATION=L.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(J[362],ee([1,0,13,21,12,64,2,9,18,108,16,20,30,31,537,538,290,650,14,876,184,291,44,75,59,19,6,25,22,50,28,439]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E,I,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangesLimitReporter=e.FoldingController=void 0;const P=new s.RawContextKey("foldingEnabled",!1);let A=class jt extends _.Disposable{static get(ae){return ae.getContribution(jt.ID)}static getFoldingRangeProviders(ae,ue){var q,W;const K=ae.foldingRangeProvider.ordered(ue);return(W=(q=jt._foldingRangeSelector)===null||q===void 0?void 0:q.call(jt,K,ue))!==null&&W!==void 0?W:K}constructor(ae,ue,q,W,K,ie){super(),this.contextKeyService=ue,this.languageConfigurationService=q,this.languageFeaturesService=ie,this.localToDispose=this._register(new _.DisposableStore),this.editor=ae,this._foldingLimitReporter=new M(ae);const ne=this.editor.getOptions();this._isEnabled=ne.get(42),this._useFoldingProviders=ne.get(43)!=="indentation",this._unfoldOnClickAfterEndOfLine=ne.get(47),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=ne.get(45),this.updateDebounceInfo=K.for(ie.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new u.FoldingDecorationProvider(ae),this.foldingDecorationProvider.showFoldingControls=ne.get(108),this.foldingDecorationProvider.showFoldingHighlights=ne.get(44),this.foldingEnabled=P.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(oe=>{if(oe.hasChanged(42)&&(this._isEnabled=this.editor.getOptions().get(42),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),oe.hasChanged(46)&&this.onModelChanged(),oe.hasChanged(108)||oe.hasChanged(44)){const re=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=re.get(108),this.foldingDecorationProvider.showFoldingHighlights=re.get(44),this.triggerFoldingModelChanged()}oe.hasChanged(43)&&(this._useFoldingProviders=this.editor.getOptions().get(43)!=="indentation",this.onFoldingStrategyChanged()),oe.hasChanged(47)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(47)),oe.hasChanged(45)&&(this._foldingImportsByDefault=this.editor.getOptions().get(45))})),this.onModelChanged()}saveViewState(){const ae=this.editor.getModel();if(!ae||!this._isEnabled||ae.isTooLargeForTokenization())return{};if(this.foldingModel){const ue=this.foldingModel.getMemento(),q=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:ue,lineCount:ae.getLineCount(),provider:q,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(ae){const ue=this.editor.getModel();if(!(!ue||!this._isEnabled||ue.isTooLargeForTokenization()||!this.hiddenRangeModel)&&ae&&(this._currentModelHasFoldedImports=!!ae.foldedImports,ae.collapsedRegions&&ae.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(ae.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const ae=this.editor.getModel();!this._isEnabled||!ae||ae.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new n.FoldingModel(ae,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new r.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(ue=>this.onHiddenRangesChanges(ue))),this.updateScheduler=new y.Delayer(this.updateDebounceInfo.get(ae)),this.cursorChangedScheduler=new y.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(ue=>this.onDidChangeModelContent(ue))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(ue=>this.onEditorMouseDown(ue))),this.localToDispose.add(this.editor.onMouseUp(ue=>this.onEditorMouseUp(ue))),this.localToDispose.add({dispose:()=>{var ue,q;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(ue=this.updateScheduler)===null||ue===void 0||ue.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(q=this.rangeProvider)===null||q===void 0||q.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var ae;(ae=this.rangeProvider)===null||ae===void 0||ae.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(ae){if(this.rangeProvider)return this.rangeProvider;const ue=new l.IndentRangeProvider(ae,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=ue,this._useFoldingProviders&&this.foldingModel){const q=jt.getFoldingRangeProviders(this.languageFeaturesService,ae);q.length>0&&(this.rangeProvider=new d.SyntaxRangeProvider(ae,q,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,ue))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(ae){var ue;(ue=this.hiddenRangeModel)===null||ue===void 0||ue.notifyChangeModelContent(ae),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const ae=this.foldingModel;if(!ae)return null;const ue=new g.StopWatch,q=this.getRangeProvider(ae.textModel),W=this.foldingRegionPromise=(0,y.createCancelablePromise)(K=>q.compute(K));return W.then(K=>{if(K&&W===this.foldingRegionPromise){let ie;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const ge=K.setCollapsedAllOfType(i.FoldingRangeKind.Imports.value,!0);ge&&(ie=f.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=ge)}const ne=this.editor.getSelections(),oe=ne?ne.map(ge=>ge.startLineNumber):[];ae.update(K,oe),ie?.restore(this.editor);const re=this.updateDebounceInfo.update(ae.textModel,ue.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=re)}return ae})}).then(void 0,ae=>((0,L.onUnexpectedError)(ae),null)))}onHiddenRangesChanges(ae){if(this.hiddenRangeModel&&ae.length&&!this._restoringViewState){const ue=this.editor.getSelections();ue&&this.hiddenRangeModel.adjustSelections(ue)&&this.editor.setSelections(ue)}this.editor.setHiddenAreas(ae,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const ae=this.getFoldingModel();ae&&ae.then(ue=>{if(ue){const q=this.editor.getSelections();if(q&&q.length>0){const W=[];for(const K of q){const ie=K.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(ie)&&W.push(...ue.getAllRegionsAtLine(ie,ne=>ne.isCollapsed&&ie>ne.startLineNumber))}W.length&&(ue.toggleCollapseState(W),this.reveal(q[0].getPosition()))}}}).then(void 0,L.onUnexpectedError)}onEditorMouseDown(ae){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!ae.target||!ae.target.range||!ae.event.leftButton&&!ae.event.middleButton)return;const ue=ae.target.range;let q=!1;switch(ae.target.type){case 4:{const W=ae.target.detail,K=ae.target.element.offsetLeft;if(W.offsetX-K<4)return;q=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!ae.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const W=this.editor.getModel();if(W&&ue.startColumn===W.getLineMaxColumn(ue.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:ue.startLineNumber,iconClicked:q}}onEditorMouseUp(ae){const ue=this.foldingModel;if(!ue||!this.mouseDownInfo||!ae.target)return;const q=this.mouseDownInfo.lineNumber,W=this.mouseDownInfo.iconClicked,K=ae.target.range;if(!K||K.startLineNumber!==q)return;if(W){if(ae.target.type!==4)return}else{const ne=this.editor.getModel();if(!ne||K.startColumn!==ne.getLineMaxColumn(q))return}const ie=ue.getRegionAtLine(q);if(ie&&ie.startLineNumber===q){const ne=ie.isCollapsed;if(W||ne){const oe=ae.event.altKey;let re=[];if(oe){const ge=we=>!we.containedBy(ie)&&!ie.containedBy(we),ve=ue.getRegionsInside(null,ge);for(const we of ve)we.isCollapsed&&re.push(we);re.length===0&&(re=ve)}else{const ge=ae.event.middleButton||ae.event.shiftKey;if(ge)for(const ve of ue.getRegionsInside(ie))ve.isCollapsed===ne&&re.push(ve);(ne||!ge||re.length===0)&&re.push(ie)}ue.toggleCollapseState(re),this.reveal({lineNumber:q,column:1})}}}reveal(ae){this.editor.revealPositionInCenterIfOutsideViewport(ae,0)}};e.FoldingController=A,A.ID="editor.contrib.folding",e.FoldingController=A=Ne([fe(1,s.IContextKeyService),fe(2,t.ILanguageConfigurationService),fe(3,c.INotificationService),fe(4,b.ILanguageFeatureDebounceService),fe(5,p.ILanguageFeaturesService)],A);class M{constructor(ae){this.editor=ae,this._onDidChange=new C.Emitter,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(46)}update(ae,ue){(ae!==this._computed||ue!==this._limited)&&(this._computed=ae,this._limited=ue,this._onDidChange.fire())}}e.RangesLimitReporter=M;class N extends v.EditorAction{runEditorCommand(ae,ue,q){const W=ae.get(t.ILanguageConfigurationService),K=A.get(ue);if(!K)return;const ie=K.getFoldingModel();if(ie)return this.reportTelemetry(ae,ue),ie.then(ne=>{if(ne){this.invoke(K,ne,ue,q,W);const oe=ue.getSelection();oe&&K.reveal(oe.getStartPosition())}})}getSelectedLines(ae){const ue=ae.getSelections();return ue?ue.map(q=>q.startLineNumber):[]}getLineNumbers(ae,ue){return ae&&ae.selectionLines?ae.selectionLines.map(q=>q+1):this.getSelectedLines(ue)}run(ae,ue){}}function O(ce){if(!S.isUndefined(ce)){if(!S.isObject(ce))return!1;const ae=ce;if(!S.isUndefined(ae.levels)&&!S.isNumber(ae.levels)||!S.isUndefined(ae.direction)&&!S.isString(ae.direction)||!S.isUndefined(ae.selectionLines)&&(!Array.isArray(ae.selectionLines)||!ae.selectionLines.every(S.isNumber)))return!1}return!0}class x extends N{constructor(){super({id:"editor.unfold",label:h.localize(0,null),alias:"Unfold",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:O,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ae,ue,q,W){const K=W&&W.levels||1,ie=this.getLineNumbers(W,q);W&&W.direction==="up"?(0,n.setCollapseStateLevelsUp)(ue,!1,K,ie):(0,n.setCollapseStateLevelsDown)(ue,!1,K,ie)}}class F extends N{constructor(){super({id:"editor.unfoldRecursively",label:h.localize(1,null),alias:"Unfold Recursively",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2142),weight:100}})}invoke(ae,ue,q,W){(0,n.setCollapseStateLevelsDown)(ue,!1,Number.MAX_VALUE,this.getSelectedLines(q))}}class B extends N{constructor(){super({id:"editor.fold",label:h.localize(2,null),alias:"Fold",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:O,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ae,ue,q,W){const K=this.getLineNumbers(W,q),ie=W&&W.levels,ne=W&&W.direction;typeof ie!="number"&&typeof ne!="string"?(0,n.setCollapseStateUp)(ue,!0,K):ne==="up"?(0,n.setCollapseStateLevelsUp)(ue,!0,ie||1,K):(0,n.setCollapseStateLevelsDown)(ue,!0,ie||1,K)}}class z extends N{constructor(){super({id:"editor.toggleFold",label:h.localize(3,null),alias:"Toggle Fold",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2090),weight:100}})}invoke(ae,ue,q){const W=this.getSelectedLines(q);(0,n.toggleCollapseState)(ue,1,W)}}class j extends N{constructor(){super({id:"editor.foldRecursively",label:h.localize(4,null),alias:"Fold Recursively",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2140),weight:100}})}invoke(ae,ue,q){const W=this.getSelectedLines(q);(0,n.setCollapseStateLevelsDown)(ue,!0,Number.MAX_VALUE,W)}}class R extends N{constructor(){super({id:"editor.foldAllBlockComments",label:h.localize(5,null),alias:"Fold All Block Comments",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2138),weight:100}})}invoke(ae,ue,q,W,K){if(ue.regions.hasTypes())(0,n.setCollapseStateForType)(ue,i.FoldingRangeKind.Comment.value,!0);else{const ie=q.getModel();if(!ie)return;const ne=K.getLanguageConfiguration(ie.getLanguageId()).comments;if(ne&&ne.blockCommentStartToken){const oe=new RegExp("^\\s*"+(0,m.escapeRegExpCharacters)(ne.blockCommentStartToken));(0,n.setCollapseStateForMatchingLines)(ue,oe,!0)}}}}class Z extends N{constructor(){super({id:"editor.foldAllMarkerRegions",label:h.localize(6,null),alias:"Fold All Regions",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2077),weight:100}})}invoke(ae,ue,q,W,K){if(ue.regions.hasTypes())(0,n.setCollapseStateForType)(ue,i.FoldingRangeKind.Region.value,!0);else{const ie=q.getModel();if(!ie)return;const ne=K.getLanguageConfiguration(ie.getLanguageId()).foldingRules;if(ne&&ne.markers&&ne.markers.start){const oe=new RegExp(ne.markers.start);(0,n.setCollapseStateForMatchingLines)(ue,oe,!0)}}}}class se extends N{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:h.localize(7,null),alias:"Unfold All Regions",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2078),weight:100}})}invoke(ae,ue,q,W,K){if(ue.regions.hasTypes())(0,n.setCollapseStateForType)(ue,i.FoldingRangeKind.Region.value,!1);else{const ie=q.getModel();if(!ie)return;const ne=K.getLanguageConfiguration(ie.getLanguageId()).foldingRules;if(ne&&ne.markers&&ne.markers.start){const oe=new RegExp(ne.markers.start);(0,n.setCollapseStateForMatchingLines)(ue,oe,!1)}}}}class le extends N{constructor(){super({id:"editor.foldAllExcept",label:h.localize(8,null),alias:"Fold All Regions Except Selected",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2136),weight:100}})}invoke(ae,ue,q){const W=this.getSelectedLines(q);(0,n.setCollapseStateForRest)(ue,!0,W)}}class te extends N{constructor(){super({id:"editor.unfoldAllExcept",label:h.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2134),weight:100}})}invoke(ae,ue,q){const W=this.getSelectedLines(q);(0,n.setCollapseStateForRest)(ue,!1,W)}}class Y extends N{constructor(){super({id:"editor.foldAll",label:h.localize(10,null),alias:"Fold All",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2069),weight:100}})}invoke(ae,ue,q){(0,n.setCollapseStateLevelsDown)(ue,!0)}}class U extends N{constructor(){super({id:"editor.unfoldAll",label:h.localize(11,null),alias:"Unfold All",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2088),weight:100}})}invoke(ae,ue,q){(0,n.setCollapseStateLevelsDown)(ue,!1)}}class V extends N{getFoldingLevel(){return parseInt(this.id.substr(V.ID_PREFIX.length))}invoke(ae,ue,q){(0,n.setCollapseStateAtLevel)(ue,this.getFoldingLevel(),!0,this.getSelectedLines(q))}}V.ID_PREFIX="editor.foldLevel",V.ID=ce=>V.ID_PREFIX+ce;class H extends N{constructor(){super({id:"editor.gotoParentFold",label:h.localize(12,null),alias:"Go to Parent Fold",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,ue,q){const W=this.getSelectedLines(q);if(W.length>0){const K=(0,n.getParentFoldLine)(W[0],ue);K!==null&&q.setSelection({startLineNumber:K,startColumn:1,endLineNumber:K,endColumn:1})}}}class $ extends N{constructor(){super({id:"editor.gotoPreviousFold",label:h.localize(13,null),alias:"Go to Previous Folding Range",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,ue,q){const W=this.getSelectedLines(q);if(W.length>0){const K=(0,n.getPreviousFoldLine)(W[0],ue);K!==null&&q.setSelection({startLineNumber:K,startColumn:1,endLineNumber:K,endColumn:1})}}}class X extends N{constructor(){super({id:"editor.gotoNextFold",label:h.localize(14,null),alias:"Go to Next Folding Range",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,ue,q){const W=this.getSelectedLines(q);if(W.length>0){const K=(0,n.getNextFoldLine)(W[0],ue);K!==null&&q.setSelection({startLineNumber:K,startColumn:1,endLineNumber:K,endColumn:1})}}}class Q extends N{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:h.localize(15,null),alias:"Create Folding Range from Selection",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2135),weight:100}})}invoke(ae,ue,q){var W;const K=[],ie=q.getSelections();if(ie){for(const ne of ie){let oe=ne.endLineNumber;ne.endColumn===1&&--oe,oe>ne.startLineNumber&&(K.push({startLineNumber:ne.startLineNumber,endLineNumber:oe,type:void 0,isCollapsed:!0,source:1}),q.setSelection({startLineNumber:ne.startLineNumber,startColumn:1,endLineNumber:ne.startLineNumber,endColumn:1}))}if(K.length>0){K.sort((oe,re)=>oe.startLineNumber-re.startLineNumber);const ne=a.FoldingRegions.sanitizeAndMerge(ue.regions,K,(W=q.getModel())===null||W===void 0?void 0:W.getLineCount());ue.updatePost(a.FoldingRegions.fromFoldRanges(ne))}}}}class de extends N{constructor(){super({id:"editor.removeManualFoldingRanges",label:h.localize(16,null),alias:"Remove Manual Folding Ranges",precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2137),weight:100}})}invoke(ae,ue,q){const W=q.getSelections();if(W){const K=[];for(const ie of W){const{startLineNumber:ne,endLineNumber:oe}=ie;K.push(oe>=ne?{startLineNumber:ne,endLineNumber:oe}:{endLineNumber:oe,startLineNumber:ne})}ue.removeManualRanges(K),ae.triggerFoldingModelChanged()}}}(0,v.registerEditorContribution)(A.ID,A,0),(0,v.registerEditorAction)(x),(0,v.registerEditorAction)(F),(0,v.registerEditorAction)(B),(0,v.registerEditorAction)(j),(0,v.registerEditorAction)(Y),(0,v.registerEditorAction)(U),(0,v.registerEditorAction)(R),(0,v.registerEditorAction)(Z),(0,v.registerEditorAction)(se),(0,v.registerEditorAction)(le),(0,v.registerEditorAction)(te),(0,v.registerEditorAction)(z),(0,v.registerEditorAction)(H),(0,v.registerEditorAction)($),(0,v.registerEditorAction)(X),(0,v.registerEditorAction)(Q),(0,v.registerEditorAction)(de);for(let ce=1;ce<=7;ce++)(0,v.registerInstantiatedEditorAction)(new V({id:V.ID(ce),label:h.localize(17,null,ce),alias:`Fold Level ${ce}`,precondition:P,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2048|21+ce),weight:100}}));w.CommandsRegistry.registerCommand("_executeFoldingRangeProvider",function(ce,...ae){return Le(this,void 0,void 0,function*(){const[ue]=ae;if(!(ue instanceof E.URI))throw(0,L.illegalArgument)();const q=ce.get(p.ILanguageFeaturesService),W=ce.get(I.IModelService).getModel(ue);if(!W)throw(0,L.illegalArgument)();const K=ce.get(T.IConfigurationService);if(!K.getValue("editor.folding",{resource:ue}))return[];const ie=ce.get(t.ILanguageConfigurationService),ne=K.getValue("editor.foldingStrategy",{resource:ue}),oe={get limit(){return K.getValue("editor.foldingMaximumRegions",{resource:ue})},update:(ye,Ie)=>{}},re=new l.IndentRangeProvider(W,ie,oe);let ge=re;if(ne!=="indentation"){const ye=A.getFoldingRangeProviders(q,W);ye.length&&(ge=new d.SyntaxRangeProvider(W,ye,()=>{},oe,re))}const ve=yield ge.compute(k.CancellationToken.None),we=[];try{if(ve)for(let ye=0;ye<ve.length;ye++){const Ie=ve.getType(ye);we.push({start:ve.getStartLineNumber(ye),end:ve.getEndLineNumber(ye),kind:Ie?i.FoldingRangeKind.fromValue(Ie):void 0})}return we}finally{ge.dispose()}})})}),define(J[363],ee([1,0,7,307,15,2,11,5,39,30,318,101,8,34,13,20,14,593]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorHoverStatusBar=e.ContentHoverWidget=e.ContentHoverController=void 0;const s=y.$;let u=class mi extends D.Disposable{constructor(P,A,M){super(),this._editor=P,this._instantiationService=A,this._keybindingService=M,this._currentResult=null;const N=this._editor.getOption(65)+8,O=4/3*N,x=new y.Dimension(O,N);this._widget=this._register(this._instantiationService.createInstance(C,this._editor,x)),this._participants=[];for(const F of o.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(F,this._editor));this._participants.sort((F,B)=>F.hoverOrdinal-B.hoverOrdinal),this._computer=new E(this._editor,this._participants),this._hoverOperation=this._register(new v.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(F=>{if(!this._computer.anchor)return;const B=F.hasLoadingMessage?this._addLoadingMessage(F.value):F.value;this._withResult(new a(this._computer.anchor,B,F.isComplete))})),this._register(y.addStandardDisposableListener(this._widget.getDomNode(),"keydown",F=>{F.equals(9)&&this.hide()})),this._register(f.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}get widget(){return this._widget}maybeShowAt(P){if(this._widget.isResizing)return!0;const A=[];for(const N of this._participants)if(N.suggestHoverAnchor){const O=N.suggestHoverAnchor(P);O&&A.push(O)}const M=P.target;if(M.type===6&&A.push(new o.HoverRangeAnchor(0,M.range,P.event.posx,P.event.posy)),M.type===7){const N=this._editor.getOption(49).typicalHalfwidthCharacterWidth/2;!M.detail.isAfterLines&&typeof M.detail.horizontalDistanceToText=="number"&&M.detail.horizontalDistanceToText<N&&A.push(new o.HoverRangeAnchor(0,M.range,P.event.posx,P.event.posy))}return A.length===0?this._startShowingOrUpdateHover(null,0,0,!1,P):(A.sort((N,O)=>O.priority-N.priority),this._startShowingOrUpdateHover(A[0],0,0,!1,P))}startShowingAtRange(P,A,M,N){this._startShowingOrUpdateHover(new o.HoverRangeAnchor(0,P,void 0,void 0),A,M,N,null)}_startShowingOrUpdateHover(P,A,M,N,O){return!this._widget.position||!this._currentResult?P?(this._startHoverOperationIfNecessary(P,A,M,N,!1),!0):!1:this._editor.getOption(59).sticky&&O&&this._widget.isMouseGettingCloser(O.event.posx,O.event.posy)?(P&&this._startHoverOperationIfNecessary(P,A,M,N,!0),!0):P?P&&this._currentResult.anchor.equals(P)?!0:P.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(P)),this._startHoverOperationIfNecessary(P,A,M,N,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(P,A,M,N,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(P,A,M,N,O){this._computer.anchor&&this._computer.anchor.equals(P)||(this._hoverOperation.cancel(),this._computer.anchor=P,this._computer.shouldFocus=N,this._computer.source=M,this._computer.insistOnKeepingHoverVisible=O,this._hoverOperation.start(A))}_setCurrentResult(P){this._currentResult!==P&&(P&&P.messages.length===0&&(P=null),this._currentResult=P,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}containsNode(P){return P?this._widget.getDomNode().contains(P):!1}_addLoadingMessage(P){if(this._computer.anchor){for(const A of this._participants)if(A.createLoadingMessage){const M=A.createLoadingMessage(this._computer.anchor);if(M)return P.slice(0).concat([M])}}return P}_withResult(P){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!P.isComplete||this._computer.insistOnKeepingHoverVisible&&P.messages.length===0)||this._setCurrentResult(P)}_renderMessages(P,A){const{showAtPosition:M,showAtSecondaryPosition:N,highlightRange:O}=mi.computeHoverRanges(this._editor,P.range,A),x=new D.DisposableStore,F=x.add(new w(this._keybindingService)),B=document.createDocumentFragment();let z=null;const j={fragment:B,statusBar:F,setColorPicker:Z=>z=Z,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:Z=>this._widget.setMinimumDimensions(Z),hide:()=>this.hide()};for(const Z of this._participants){const se=A.filter(le=>le.owner===Z);se.length>0&&x.add(Z.renderHoverParts(j,se))}const R=A.some(Z=>Z.isBeforeContent);if(F.hasContent&&B.appendChild(F.hoverElement),B.hasChildNodes()){if(O){const Z=this._editor.createDecorationsCollection();Z.set([{range:O,options:mi._DECORATION_OPTIONS}]),x.add((0,D.toDisposable)(()=>{Z.clear()}))}this._widget.showAt(B,new c(z,M,N,this._editor.getOption(59).above,this._computer.shouldFocus,this._computer.source,R,P.initialMousePosX,P.initialMousePosY,x))}else x.dispose()}static computeHoverRanges(P,A,M){let N=1;if(P.hasModel()){const z=P._getViewModel(),j=z.coordinatesConverter,R=j.convertModelRangeToViewRange(A),Z=new _.Position(R.startLineNumber,z.getLineMinColumn(R.startLineNumber));N=j.convertViewPositionToModelPosition(Z).column}const O=A.startLineNumber;let x=A.startColumn,F=M[0].range,B=null;for(const z of M)F=m.Range.plusRange(F,z.range),z.range.startLineNumber===O&&z.range.endLineNumber===O&&(x=Math.max(Math.min(x,z.range.startColumn),N)),z.forceShowAtRange&&(B=z.range);return{showAtPosition:B?B.getStartPosition():new _.Position(O,A.startColumn),showAtSecondaryPosition:B?B.getStartPosition():new _.Position(O,x),highlightRange:F}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}};e.ContentHoverController=u,u._DECORATION_OPTIONS=S.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),e.ContentHoverController=u=Ne([fe(1,i.IInstantiationService),fe(2,t.IKeybindingService)],u);class a{constructor(P,A,M){this.anchor=P,this.messages=A,this.isComplete=M}filter(P){const A=this.messages.filter(M=>M.isValidForHoverAnchor(P));return A.length===this.messages.length?this:new d(this,this.anchor,A,this.isComplete)}}class d extends a{constructor(P,A,M,N){super(A,M,N),this.original=P}filter(P){return this.original.filter(P)}}class c{constructor(P,A,M,N,O,x,F,B,z,j){this.colorPicker=P,this.showAtPosition=A,this.showAtSecondaryPosition=M,this.preferAbove=N,this.stoleFocus=O,this.source=x,this.isBeforeContent=F,this.initialMousePosX=B,this.initialMousePosY=z,this.disposables=j,this.closestMouseDistance=void 0}}const b=30,g=10,p=6;let C=class kt extends h.ResizableContentWidget{get isColorPickerVisible(){var P;return!!(!((P=this._visibleData)===null||P===void 0)&&P.colorPicker)}get isVisibleFromKeyboard(){var P;return((P=this._visibleData)===null||P===void 0?void 0:P.source)===1}get isVisible(){var P;return(P=this._hoverVisibleKey.get())!==null&&P!==void 0?P:!1}get isFocused(){var P;return(P=this._hoverFocusedKey.get())!==null&&P!==void 0?P:!1}constructor(P,A,M){super(P,A),this._hover=this._register(new k.HoverWidget),this._hoverVisibleKey=r.EditorContextKeys.hoverVisible.bindTo(M),this._hoverFocusedKey=r.EditorContextKeys.hoverFocused.bindTo(M),y.append(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(O=>{O.hasChanged(49)&&this._updateFont()}));const N=this._register(y.trackFocus(this._resizableNode.domNode));this._register(N.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(N.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._layout(),this._editor.addContentWidget(this)}dispose(){var P;super.dispose(),(P=this._visibleData)===null||P===void 0||P.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return kt.ID}static _applyDimensions(P,A,M){const N=typeof A=="number"?`${A}px`:A,O=typeof M=="number"?`${M}px`:M;P.style.width=N,P.style.height=O}_setContentsDomNodeDimensions(P,A){const M=this._hover.contentsDomNode;return kt._applyDimensions(M,P,A)}_setContainerDomNodeDimensions(P,A){const M=this._hover.containerDomNode;return kt._applyDimensions(M,P,A)}_setHoverWidgetDimensions(P,A){this._setContentsDomNodeDimensions(P,A),this._setContainerDomNodeDimensions(P,A),this._layoutContentWidget()}static _applyMaxDimensions(P,A,M){const N=typeof A=="number"?`${A}px`:A,O=typeof M=="number"?`${M}px`:M;P.style.maxWidth=N,P.style.maxHeight=O}_setHoverWidgetMaxDimensions(P,A){kt._applyMaxDimensions(this._hover.contentsDomNode,P,A),kt._applyMaxDimensions(this._hover.containerDomNode,P,A),this._hover.containerDomNode.style.setProperty("--hover-maxWidth",typeof P=="number"?`${P}px`:P),this._layoutContentWidget()}_hasHorizontalScrollbar(){const P=this._hover.scrollbar.getScrollDimensions();return P.scrollWidth>P.width}_adjustContentsBottomPadding(){const P=this._hover.contentsDomNode,A=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;P.style.paddingBottom!==A&&(P.style.paddingBottom=A)}_setAdjustedHoverWidgetDimensions(P){this._setHoverWidgetMaxDimensions("none","none");const A=P.width,M=P.height;this._setHoverWidgetDimensions(A,M),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(A,M-g))}_setResizableNodeMaxDimensions(){var P,A;const M=(P=this._findMaximumRenderingWidth())!==null&&P!==void 0?P:1/0,N=(A=this._findMaximumRenderingHeight())!==null&&A!==void 0?A:1/0;this._resizableNode.maxSize=new y.Dimension(M,N),this._setHoverWidgetMaxDimensions(M,N)}_resize(P){var A,M;kt._lastDimensions=new y.Dimension(P.width,P.height),this._setAdjustedHoverWidgetDimensions(P),this._resizableNode.layout(P.height,P.width),this._setResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(M=(A=this._visibleData)===null||A===void 0?void 0:A.colorPicker)===null||M===void 0||M.layout()}_findAvailableSpaceVertically(){var P;const A=(P=this._visibleData)===null||P===void 0?void 0:P.showAtPosition;if(A)return this._positionPreference===1?this._availableVerticalSpaceAbove(A):this._availableVerticalSpaceBelow(A)}_findMaximumRenderingHeight(){const P=this._findAvailableSpaceVertically();if(!P)return;let A=p;return Array.from(this._hover.contentsDomNode.children).forEach(M=>{A+=M.clientHeight}),this._hasHorizontalScrollbar()&&(A+=g),Math.min(P,A)}_findMaximumRenderingWidth(){return!this._editor||!this._editor.hasModel()?void 0:y.getClientArea(document.body).width-14}isMouseGettingCloser(P,A){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=P,this._visibleData.initialMousePosY=A,!1;const M=y.getDomNodePagePosition(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=I(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,M.left,M.top,M.width,M.height));const N=I(P,A,M.left,M.top,M.width,M.height);return N>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,N),!0)}_setHoverData(P){var A;(A=this._visibleData)===null||A===void 0||A.disposables.dispose(),this._visibleData=P,this._hoverVisibleKey.set(!!P),this._hover.containerDomNode.classList.toggle("hidden",!P)}_layout(){const{fontSize:P,lineHeight:A}=this._editor.getOption(49),M=this._hover.contentsDomNode;M.style.fontSize=`${P}px`,M.style.lineHeight=`${A/P}`,this._updateMaxDimensions()}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(A=>this._editor.applyFontInfo(A))}_updateContent(P){const A=this._hover.contentsDomNode;A.style.paddingBottom="",A.textContent="",A.appendChild(P)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const P=Math.max(this._editor.getLayoutInfo().height/4,250,kt._lastDimensions.height),A=Math.max(this._editor.getLayoutInfo().width*.66,500,kt._lastDimensions.width);this._setHoverWidgetMaxDimensions(A,P)}_render(P,A){this._setHoverData(A),this._updateFont(),this._updateContent(P),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var P;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(P=this._positionPreference)!==null&&P!==void 0?P:1]}:null}showAt(P,A){var M,N;if(!this._editor||!this._editor.hasModel())return;this._render(P,A);const O=y.getTotalHeight(this._hover.containerDomNode),x=A.showAtPosition;this._positionPreference=(M=this._findPositionPreference(O,x))!==null&&M!==void 0?M:1,this.onContentsChanged(),A.stoleFocus&&this._hover.containerDomNode.focus(),(N=A.colorPicker)===null||N===void 0||N.layout()}hide(){if(!this._visibleData)return;const P=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new y.Dimension(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),P&&this._editor.focus()}_removeConstraintsRenderNormally(){const P=this._editor.getLayoutInfo();this._resizableNode.layout(P.height,P.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(P){var A;const M=this._hover.containerDomNode,N=this._hover.contentsDomNode,O=(A=this._findMaximumRenderingHeight())!==null&&A!==void 0?A:1/0;this._setContainerDomNodeDimensions(y.getTotalWidth(M),Math.min(O,P)),this._setContentsDomNodeDimensions(y.getTotalWidth(N),Math.min(O,P-g))}setMinimumDimensions(P){this._resizableNode.minSize=P}onContentsChanged(){var P;this._removeConstraintsRenderNormally();const A=this._hover.containerDomNode;let M=y.getTotalHeight(A),N=y.getTotalWidth(A);if(this._resizableNode.layout(M,N),this._setHoverWidgetDimensions(N,M),M=y.getTotalHeight(A),N=y.getTotalWidth(A),this._resizableNode.layout(M,N),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(M)),!((P=this._visibleData)===null||P===void 0)&&P.showAtPosition){const O=y.getTotalHeight(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(O,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,A=this._editor.getOption(49);this._hover.scrollbar.setScrollPosition({scrollTop:P-A.lineHeight})}scrollDown(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,A=this._editor.getOption(49);this._hover.scrollbar.setScrollPosition({scrollTop:P+A.lineHeight})}scrollLeft(){const P=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:P-b})}scrollRight(){const P=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:P+b})}pageUp(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,A=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:P-A})}pageDown(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,A=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:P+A})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};e.ContentHoverWidget=C,C.ID="editor.contrib.resizableContentHoverWidget",C._lastDimensions=new y.Dimension(0,0),e.ContentHoverWidget=C=Ne([fe(2,l.IContextKeyService)],C);let w=class extends D.Disposable{get hasContent(){return this._hasContent}constructor(P){super(),this._keybindingService=P,this._hasContent=!1,this.hoverElement=s("div.hover-row.status-bar"),this.actionsElement=y.append(this.hoverElement,s("div.actions"))}addAction(P){const A=this._keybindingService.lookupKeybinding(P.commandId),M=A?A.getLabel():null;return this._hasContent=!0,this._register(k.HoverAction.render(this.actionsElement,P,M))}append(P){const A=y.append(this.actionsElement,P);return this._hasContent=!0,A}};e.EditorHoverStatusBar=w,e.EditorHoverStatusBar=w=Ne([fe(0,t.IKeybindingService)],w);class E{get anchor(){return this._anchor}set anchor(P){this._anchor=P}get shouldFocus(){return this._shouldFocus}set shouldFocus(P){this._shouldFocus=P}get source(){return this._source}set source(P){this._source=P}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(P){this._insistOnKeepingHoverVisible=P}constructor(P,A){this._editor=P,this._participants=A,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(P,A){if(A.type!==1&&!A.supportsMarkerHover)return[];const M=P.getModel(),N=A.range.startLineNumber;if(N>M.getLineCount())return[];const O=M.getLineMaxColumn(N);return P.getLineDecorations(N).filter(x=>{if(x.options.isWholeLine)return!0;const F=x.range.startLineNumber===N?x.range.startColumn:1,B=x.range.endLineNumber===N?x.range.endColumn:O;if(x.options.showIfCollapsed){if(F>A.range.startColumn+1||A.range.endColumn-1>B)return!1}else if(F>A.range.startColumn||A.range.endColumn>B)return!1;return!0})}computeAsync(P){const A=this._anchor;if(!this._editor.hasModel()||!A)return n.AsyncIterableObject.EMPTY;const M=E._getLineDecorations(this._editor,A);return n.AsyncIterableObject.merge(this._participants.map(N=>N.computeAsync?N.computeAsync(A,M,P):n.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const P=E._getLineDecorations(this._editor,this._anchor);let A=[];for(const M of this._participants)A=A.concat(M.computeSync(this._anchor,P));return(0,L.coalesce)(A)}}function I(T,P,A,M,N,O){const x=A+N/2,F=M+O/2,B=Math.max(Math.abs(T-x)-N/2,0),z=Math.max(Math.abs(P-F)-O/2,0);return Math.sqrt(B*B+z*z)}}),define(J[877],ee([1,0,2,360,8,363,34,6,19,16,20,14,50,31,338,7,200]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerWidget=e.StandaloneColorPickerController=void 0;let l=class Yi extends y.Disposable{constructor(c,b,g,p,C,w,E){super(),this._editor=c,this._modelService=g,this._keybindingService=p,this._instantiationService=C,this._languageFeatureService=w,this._languageConfigurationService=E,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=v.EditorContextKeys.standaloneColorPickerVisible.bindTo(b),this._standaloneColorPickerFocused=v.EditorContextKeys.standaloneColorPickerFocused.bindTo(b)}showOrFocus(){var c;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(c=this._standaloneColorPickerWidget)===null||c===void 0||c.focus():this._standaloneColorPickerWidget=new u(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var c;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(c=this._standaloneColorPickerWidget)===null||c===void 0||c.hide(),this._editor.focus()}insertColor(){var c;(c=this._standaloneColorPickerWidget)===null||c===void 0||c.updateEditor(),this.hide()}static get(c){return c.getContribution(Yi.ID)}};e.StandaloneColorPickerController=l,l.ID="editor.contrib.standaloneColorPickerController",e.StandaloneColorPickerController=l=Ne([fe(1,o.IContextKeyService),fe(2,i.IModelService),fe(3,_.IKeybindingService),fe(4,L.IInstantiationService),fe(5,S.ILanguageFeaturesService),fe(6,t.ILanguageConfigurationService)],l),(0,f.registerEditorContribution)(l.ID,l,1);const h=8,s=22;let u=class Qi extends y.Disposable{constructor(c,b,g,p,C,w,E,I){var T;super(),this._editor=c,this._standaloneColorPickerVisible=b,this._standaloneColorPickerFocused=g,this._modelService=C,this._keybindingService=w,this._languageFeaturesService=E,this._languageConfigurationService=I,this.allowEditorOverflow=!0,this.body=document.createElement("div"),this._position=void 0,this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new m.Emitter),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=p.createInstance(k.StandaloneColorPickerParticipant,this._editor),this._position=(T=this._editor._getViewModel())===null||T===void 0?void 0:T.getPrimaryCursorState().modelState.position;const P=this._editor.getSelection(),A=P?{startLineNumber:P.startLineNumber,startColumn:P.startColumn,endLineNumber:P.endLineNumber,endColumn:P.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},M=this._register(r.trackFocus(this.body));this._register(M.onDidBlur(N=>{this.hide()})),this._register(M.onDidFocus(N=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(N=>{var O;const x=(O=N.target.element)===null||O===void 0?void 0:O.classList;x&&x.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(N=>{this._render(N.value,N.foundInEditor)})),this._start(A),this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return Qi.ID}getDomNode(){return this.body}getPosition(){if(!this._position)return null;const c=this._editor.getOption(59).above;return{position:this._position,secondaryPosition:this._position,preference:c?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this.body.focus()}_start(c){return Le(this,void 0,void 0,function*(){const b=yield this._computeAsync(c);b&&this._onResult.fire(new a(b.result,b.foundInEditor))})}_computeAsync(c){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return null;const b={range:c,color:{red:0,green:0,blue:0,alpha:1}},g=yield this._standaloneColorPickerParticipant.createColorHover(b,new n.DefaultDocumentColorProvider(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return g?{result:g.colorHover,foundInEditor:g.foundInEditor}:null})}_render(c,b){const g=document.createDocumentFragment(),p=this._register(new D.EditorHoverStatusBar(this._keybindingService));let C;const w={fragment:g,statusBar:p,setColorPicker:x=>C=x,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=c,this._register(this._standaloneColorPickerParticipant.renderHoverParts(w,[c])),C===void 0)return;this.body.classList.add("standalone-colorpicker-body"),this.body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this.body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this.body.tabIndex=0,this.body.appendChild(g),C.layout();const E=C.body,I=E.saturationBox.domNode.clientWidth,T=E.domNode.clientWidth-I-s-h,P=C.body.enterButton;P?.onClicked(()=>{this.updateEditor(),this.hide()});const A=C.header,M=A.pickedColorNode;M.style.width=I+h+"px";const N=A.originalColorNode;N.style.width=T+"px";const O=C.header.closeButton;O?.onClicked(()=>{this.hide()}),b&&(P&&(P.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(c.range)),this._editor.layoutContentWidget(this)}};e.StandaloneColorPickerWidget=u,u.ID="editor.contrib.standaloneColorPickerWidget",e.StandaloneColorPickerWidget=u=Ne([fe(3,L.IInstantiationService),fe(4,i.IModelService),fe(5,_.IKeybindingService),fe(6,S.ILanguageFeaturesService),fe(7,t.ILanguageConfigurationService)],u);class a{constructor(c,b){this.value=c,this.foundInEditor=b}}}),define(J[878],ee([1,0,16,639,877,20,29,200]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOrFocusStandaloneColorPicker=void 0;class m extends y.EditorAction2{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:(0,k.localize)(0,null),mnemonicTitle:(0,k.localize)(1,null),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:_.MenuId.CommandPalette}]})}runEditorCommand(o,i){var t;(t=L.StandaloneColorPickerController.get(i))===null||t===void 0||t.showOrFocus()}}e.ShowOrFocusStandaloneColorPicker=m;class S extends y.EditorAction{constructor(){super({id:"editor.action.hideColorPicker",label:(0,k.localize)(2,null),alias:"Hide the Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(o,i){var t;(t=L.StandaloneColorPickerController.get(i))===null||t===void 0||t.hide()}}class f extends y.EditorAction{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,k.localize)(3,null),alias:"Insert Color with Standalone Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(o,i){var t;(t=L.StandaloneColorPickerController.get(i))===null||t===void 0||t.insertColor()}}(0,y.registerEditorAction)(S),(0,y.registerEditorAction)(f),(0,_.registerAction2)(m)}),define(J[879],ee([1,0,13,12,103,16,5,24,20,39,115,667,539,444]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let t=class pi{static get(h){return h.getContribution(pi.ID)}constructor(h,s){this.editor=h,this.editorWorkerService=s,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(h,s){var u;(u=this.currentRequest)===null||u===void 0||u.cancel();const a=this.editor.getSelection(),d=this.editor.getModel();if(!d||!a)return;let c=a;if(c.startLineNumber!==c.endLineNumber)return;const b=new L.EditorState(this.editor,5),g=d.uri;return this.editorWorkerService.canNavigateValueSet(g)?(this.currentRequest=(0,y.createCancelablePromise)(p=>this.editorWorkerService.navigateValueSet(g,c,s)),this.currentRequest.then(p=>{var C;if(!p||!p.range||!p.value||!b.validate(this.editor))return;const w=_.Range.lift(p.range);let E=p.range;const I=p.value.length-(c.endColumn-c.startColumn);E={startLineNumber:E.startLineNumber,startColumn:E.startColumn,endLineNumber:E.endLineNumber,endColumn:E.startColumn+p.value.length},I>1&&(c=new m.Selection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn+I-1));const T=new i.InPlaceReplaceCommand(w,c,p.value);this.editor.pushUndoStop(),this.editor.executeCommand(h,T),this.editor.pushUndoStop(),this.decorations.set([{range:E,options:pi.DECORATION}]),(C=this.decorationRemover)===null||C===void 0||C.cancel(),this.decorationRemover=(0,y.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(k.onUnexpectedError)}).catch(k.onUnexpectedError)):Promise.resolve(void 0)}};t.ID="editor.contrib.inPlaceReplaceController",t.DECORATION=f.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),t=Ne([fe(1,v.IEditorWorkerService)],t);class n extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:o.localize(0,null),alias:"Replace with Previous Value",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:3159,weight:100}})}run(h,s){const u=t.get(s);return u?u.run(this.id,!1):Promise.resolve(void 0)}}class r extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:o.localize(1,null),alias:"Replace with Next Value",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:3161,weight:100}})}run(h,s){const u=t.get(s);return u?u.run(this.id,!0):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(t.ID,t,4),(0,D.registerEditorAction)(n),(0,D.registerEditorAction)(r)}),define(J[255],ee([1,0,7,13,26,2,9,27,5,39,8,447]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineProgressManager=void 0;const o=f.ModelDecorationOptions.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:_.noBreakWhitespace,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class i extends D.Disposable{constructor(r,l,h,s,u){super(),this.typeId=r,this.editor=l,this.range=h,this.delegate=u,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(s),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(r){this.domNode=y.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=r;const l=y.$("span.icon");this.domNode.append(l),l.classList.add(...m.ThemeIcon.asClassNameArray(L.Codicon.loading),"codicon-modifier-spin");const h=()=>{const s=this.editor.getOption(65);this.domNode.style.height=`${s}px`,this.domNode.style.width=`${Math.ceil(.8*s)}px`};h(),this._register(this.editor.onDidChangeConfiguration(s=>{(s.hasChanged(51)||s.hasChanged(65))&&h()})),this._register(y.addDisposableListener(this.domNode,y.EventType.CLICK,s=>{this.delegate.cancel()}))}getId(){return i.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}i.baseId="editor.widget.inlineProgressWidget";let t=class extends D.Disposable{constructor(r,l,h){super(),this.id=r,this._editor=l,this._instantiationService=h,this._showDelay=500,this._showPromise=this._register(new D.MutableDisposable),this._currentWidget=new D.MutableDisposable,this._operationIdPool=0,this._currentDecorations=l.createDecorationsCollection()}showWhile(r,l,h){return Le(this,void 0,void 0,function*(){const s=this._operationIdPool++;this._currentOperation=s,this.clear(),this._showPromise.value=(0,k.disposableTimeout)(()=>{const u=S.Range.fromPositions(r);this._currentDecorations.set([{range:u,options:o}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(i,this.id,this._editor,u,l,h))},this._showDelay);try{return yield h}finally{this._currentOperation===s&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};e.InlineProgressManager=t,e.InlineProgressManager=t=Ne([fe(2,v.IInstantiationService)],t)}),define(J[880],ee([1,0,7,15,13,173,2,106,17,18,172,187,336,133,5,19,740,103,255,644,96,14,8,84,76,330]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=e.pasteWidgetVisibleCtx=e.changePasteTypeCommandId=void 0,e.changePasteTypeCommandId="editor.changePasteType",e.pasteWidgetVisibleCtx=new d.RawContextKey("pasteWidgetVisible",!1,(0,u.localize)(0,null));const C="application/vnd.code.copyMetadata";let w=class Xi extends _.Disposable{static get(T){return T.getContribution(Xi.ID)}constructor(T,P,A,M,N,O,x){super(),this._bulkEditService=A,this._clipboardService=M,this._languageFeaturesService=N,this._quickInputService=O,this._progressService=x,this._editor=T;const F=T.getContainerDomNode();this._register((0,y.addDisposableListener)(F,"copy",B=>this.handleCopy(B))),this._register((0,y.addDisposableListener)(F,"cut",B=>this.handleCopy(B))),this._register((0,y.addDisposableListener)(F,"paste",B=>this.handlePaste(B),!0)),this._pasteProgressManager=this._register(new s.InlineProgressManager("pasteIntoEditor",T,P)),this._postPasteWidgetManager=this._register(P.createInstance(p.PostEditWidgetManager,"pasteIntoEditor",T,e.pasteWidgetVisibleCtx,{id:e.changePasteTypeCommandId,label:(0,u.localize)(1,null)}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(T){this._editor.focus();try{this._pasteAsActionContext={preferredId:T},document.execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(83).enabled&&!this._editor.getOption(89)}handleCopy(T){var P,A;if(!this._editor.hasTextFocus()||(S.isWeb&&this._clipboardService.writeResources([]),!T.clipboardData||!this.isPasteAsEnabled()))return;const M=this._editor.getModel(),N=this._editor.getSelections();if(!M||!N?.length)return;const O=this._editor.getOption(36);let x=N;const F=N.length===1&&N[0].isEmpty();if(F){if(!O)return;x=[new n.Range(x[0].startLineNumber,1,x[0].startLineNumber,1+M.getLineLength(x[0].startLineNumber))]}const B=(P=this._editor._getViewModel())===null||P===void 0?void 0:P.getPlainTextToCopy(N,O,S.isWindows),j={multicursorText:Array.isArray(B)?B:null,pasteOnNewLine:F,mode:null},R=this._languageFeaturesService.documentPasteEditProvider.ordered(M).filter(Y=>!!Y.prepareDocumentPaste);if(!R.length){this.setCopyMetadata(T.clipboardData,{defaultPastePayload:j});return}const Z=(0,i.toVSDataTransfer)(T.clipboardData),se=R.flatMap(Y=>{var U;return(U=Y.copyMimeTypes)!==null&&U!==void 0?U:[]}),le=(0,v.generateUuid)();this.setCopyMetadata(T.clipboardData,{id:le,providerCopyMimeTypes:se,defaultPastePayload:j});const te=(0,L.createCancelablePromise)(Y=>Le(this,void 0,void 0,function*(){const U=(0,k.coalesce)(yield Promise.all(R.map(V=>Le(this,void 0,void 0,function*(){try{return yield V.prepareDocumentPaste(M,x,Z,Y)}catch(H){console.error(H);return}}))));U.reverse();for(const V of U)for(const[H,$]of V)Z.replace(H,$);return Z}));(A=this._currentCopyOperation)===null||A===void 0||A.dataTransferPromise.cancel(),this._currentCopyOperation={handle:le,dataTransferPromise:te}}handlePaste(T){var P,A;return Le(this,void 0,void 0,function*(){if(!T.clipboardData||!this._editor.hasTextFocus())return;(P=this._currentPasteOperation)===null||P===void 0||P.cancel(),this._currentPasteOperation=void 0;const M=this._editor.getModel(),N=this._editor.getSelections();if(!N?.length||!M||!this.isPasteAsEnabled())return;const O=this.fetchCopyMetadata(T),x=(0,i.toExternalVSDataTransfer)(T.clipboardData);x.delete(C);const F=[...T.clipboardData.types,...(A=O?.providerCopyMimeTypes)!==null&&A!==void 0?A:[],m.Mimes.uriList],B=this._languageFeaturesService.documentPasteEditProvider.ordered(M).filter(z=>{var j;return(j=z.pasteMimeTypes)===null||j===void 0?void 0:j.some(R=>(0,D.matchesMimeType)(R,F))});B.length&&(T.preventDefault(),T.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,B,N,x,O):this.doPasteInline(B,N,x,O))})}doPasteInline(T,P,A,M){const N=(0,L.createCancelablePromise)(O=>Le(this,void 0,void 0,function*(){const x=this._editor;if(!x.hasModel())return;const F=x.getModel(),B=new h.EditorStateCancellationTokenSource(x,3,void 0,O);try{if(yield this.mergeInDataFromCopy(A,M,B.token),B.token.isCancellationRequested)return;const z=T.filter(R=>E(R,A));if(!z.length||z.length===1&&z[0].id==="text"){yield this.applyDefaultPasteHandler(A,M,B.token);return}const j=yield this.getPasteEdits(z,A,F,P,B.token);if(B.token.isCancellationRequested)return;if(j.length===1&&j[0].id==="text"){yield this.applyDefaultPasteHandler(A,M,B.token);return}if(j.length){const R=x.getOption(83).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(P,{activeEditIndex:0,allEdits:j},R,B.token)}yield this.applyDefaultPasteHandler(A,M,B.token)}finally{B.dispose(),this._currentPasteOperation===N&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(P[0].getEndPosition(),(0,u.localize)(2,null),N),this._currentPasteOperation=N}showPasteAsPick(T,P,A,M,N){const O=(0,L.createCancelablePromise)(x=>Le(this,void 0,void 0,function*(){const F=this._editor;if(!F.hasModel())return;const B=F.getModel(),z=new h.EditorStateCancellationTokenSource(F,3,void 0,x);try{if(yield this.mergeInDataFromCopy(M,N,z.token),z.token.isCancellationRequested)return;const j=P.filter(le=>E(le,M)),R=yield this.getPasteEdits(j,M,B,A,z.token);if(z.token.isCancellationRequested||!R.length)return;let Z;if(typeof T=="string")Z=R.find(le=>le.id===T);else{const le=yield this._quickInputService.pick(R.map(te=>({label:te.label,description:te.id,detail:te.detail,edit:te})),{placeHolder:(0,u.localize)(3,null)});Z=le?.edit}if(!Z)return;const se=(0,l.createCombinedWorkspaceEdit)(B.uri,A,Z);yield this._bulkEditService.apply(se,{editor:this._editor})}finally{z.dispose(),this._currentPasteOperation===O&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:(0,u.localize)(4,null)},()=>O)}setCopyMetadata(T,P){T.setData(C,JSON.stringify(P))}fetchCopyMetadata(T){if(!T.clipboardData)return;const P=T.clipboardData.getData(C);if(P)try{return JSON.parse(P)}catch{return}const[A,M]=o.ClipboardEventUtils.getTextData(T.clipboardData);if(M)return{defaultPastePayload:{mode:M.mode,multicursorText:(0,f.withUndefinedAsNull)(M.multicursorText),pasteOnNewLine:!!M.isFromEmptySelection}}}mergeInDataFromCopy(T,P,A){var M;return Le(this,void 0,void 0,function*(){if(P?.id&&((M=this._currentCopyOperation)===null||M===void 0?void 0:M.handle)===P.id){const N=yield this._currentCopyOperation.dataTransferPromise;if(A.isCancellationRequested)return;for(const[O,x]of N)T.replace(O,x)}if(!T.has(m.Mimes.uriList)){const N=yield this._clipboardService.readResources();if(A.isCancellationRequested)return;N.length&&T.append(m.Mimes.uriList,(0,D.createStringDataTransferItem)(D.UriList.create(N)))}})}getPasteEdits(T,P,A,M,N){return Le(this,void 0,void 0,function*(){const O=yield(0,L.raceCancellation)(Promise.all(T.map(x=>{var F;try{return(F=x.provideDocumentPasteEdits)===null||F===void 0?void 0:F.call(x,A,M,P,N)}catch(B){console.error(B);return}})).then(k.coalesce),N);return O?.sort((x,F)=>F.priority-x.priority),O??[]})}applyDefaultPasteHandler(T,P,A){var M,N,O;return Le(this,void 0,void 0,function*(){const x=(M=T.get(m.Mimes.text))!==null&&M!==void 0?M:T.get("text");if(!x)return;const F=yield x.asString();if(A.isCancellationRequested)return;const B={text:F,pasteOnNewLine:(N=P?.defaultPastePayload.pasteOnNewLine)!==null&&N!==void 0?N:!1,multicursorText:(O=P?.defaultPastePayload.multicursorText)!==null&&O!==void 0?O:null,mode:null};this._editor.trigger("keyboard","paste",B)})}};e.CopyPasteController=w,w.ID="editor.contrib.copyPasteActionController",e.CopyPasteController=w=Ne([fe(1,c.IInstantiationService),fe(2,t.IBulkEditService),fe(3,a.IClipboardService),fe(4,r.ILanguageFeaturesService),fe(5,g.IQuickInputService),fe(6,b.IProgressService)],w);function E(I,T){var P;return!!(!((P=I.pasteMimeTypes)===null||P===void 0)&&P.some(A=>T.matches(A)))}}),define(J[881],ee([1,0,15,13,173,2,336,5,19,284,739,103,255,646,14,335,8,330]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=e.dropWidgetVisibleCtx=e.changeDropTypeCommandId=void 0,e.changeDropTypeCommandId="editor.changeDropType",e.dropWidgetVisibleCtx=new n.RawContextKey("dropWidgetVisible",!1,(0,t.localize)(0,null));let s=class Ji extends D.Disposable{static get(a){return a.getContribution(Ji.ID)}constructor(a,d,c,b){super(),this._languageFeaturesService=c,this._treeViewsDragAndDropService=b,this.treeItemsTransfer=r.LocalSelectionTransfer.getInstance(),this._dropProgressManager=this._register(d.createInstance(i.InlineProgressManager,"dropIntoEditor",a)),this._postDropWidgetManager=this._register(d.createInstance(h.PostEditWidgetManager,"dropIntoEditor",a,e.dropWidgetVisibleCtx,{id:e.changeDropTypeCommandId,label:(0,t.localize)(1,null)})),this._register(a.onDropIntoEditor(g=>this.onDropIntoEditor(a,g.position,g.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(a,d,c){var b;return Le(this,void 0,void 0,function*(){if(!c.dataTransfer||!a.hasModel())return;(b=this._currentOperation)===null||b===void 0||b.cancel(),a.focus(),a.setPosition(d);const g=(0,k.createCancelablePromise)(p=>Le(this,void 0,void 0,function*(){const C=new o.EditorStateCancellationTokenSource(a,1,void 0,p);try{const w=yield this.extractDataTransferData(c);if(w.size===0||C.token.isCancellationRequested)return;const E=a.getModel();if(!E)return;const I=this._languageFeaturesService.documentOnDropEditProvider.ordered(E).filter(P=>P.dropMimeTypes?P.dropMimeTypes.some(A=>w.matches(A)):!0),T=yield this.getDropEdits(I,E,d,w,C);if(C.token.isCancellationRequested)return;if(T.length){const P=a.getOption(35).showDropSelector==="afterDrop";yield this._postDropWidgetManager.applyEditAndShowIfNeeded([m.Range.fromPositions(d)],{activeEditIndex:0,allEdits:T},P,p)}}finally{C.dispose(),this._currentOperation===g&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(d,(0,t.localize)(2,null),g),this._currentOperation=g})}getDropEdits(a,d,c,b,g){return Le(this,void 0,void 0,function*(){const p=yield(0,k.raceCancellation)(Promise.all(a.map(w=>w.provideDocumentOnDropEdits(d,c,b,g.token))),g.token),C=(0,y.coalesce)(p??[]);return C.sort((w,E)=>E.priority-w.priority),C})}extractDataTransferData(a){return Le(this,void 0,void 0,function*(){if(!a.dataTransfer)return new L.VSDataTransfer;const d=(0,_.toExternalVSDataTransfer)(a.dataTransfer);if(this.treeItemsTransfer.hasData(f.DraggedTreeItemsIdentifier.prototype)){const c=this.treeItemsTransfer.getData(f.DraggedTreeItemsIdentifier.prototype);if(Array.isArray(c))for(const b of c){const g=yield this._treeViewsDragAndDropService.removeDragOperationTransfer(b.identifier);if(g)for(const[p,C]of g)d.replace(p,C)}}return d})}};e.DropIntoEditorController=s,s.ID="editor.contrib.dropIntoEditorController",e.DropIntoEditorController=s=Ne([fe(1,l.IInstantiationService),fe(2,S.ILanguageFeaturesService),fe(3,v.ITreeViewsDnDService)],s)}),define(J[882],ee([1,0,15,13,21,37,12,6,2,9,22,16,33,11,5,20,39,31,676,14,19,32,75,59,448]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new u.RawContextKey("LinkedEditingInputVisible",!1);const g="linked-editing-decoration";let p=class vi extends S.Disposable{static get(T){return T.getContribution(vi.ID)}constructor(T,P,A,M,N){super(),this.languageConfigurationService=M,this._syncRangesToken=0,this._localToDispose=this._register(new S.DisposableStore),this._editor=T,this._providers=A.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(P),this._debounceInformation=N.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new S.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(O=>{(O.hasChanged(68)||O.hasChanged(91))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(T){const P=this._editor.getModel(),A=P!==null&&(this._editor.getOption(68)||this._editor.getOption(91))&&this._providers.has(P);if(A===this._enabled&&!T||(this._enabled=A,this.clearRanges(),this._localToDispose.clear(),!A||P===null))return;this._localToDispose.add(m.Event.runAndSubscribe(P.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(P.getLanguageId()).getWordDefinition()}));const M=new k.Delayer(this._debounceInformation.get(P)),N=()=>{var F;this._rangeUpdateTriggerPromise=M.trigger(()=>this.updateRanges(),(F=this._debounceDuration)!==null&&F!==void 0?F:this._debounceInformation.get(P))},O=new k.Delayer(0),x=F=>{this._rangeSyncTriggerPromise=O.trigger(()=>this._syncRanges(F))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{N()})),this._localToDispose.add(this._editor.onDidChangeModelContent(F=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const B=this._currentDecorations.getRange(0);if(B&&F.changes.every(z=>B.intersectRanges(z.range))){x(this._syncRangesToken);return}}N()})),this._localToDispose.add({dispose:()=>{M.dispose(),O.dispose()}}),this.updateRanges()}_syncRanges(T){if(!this._editor.hasModel()||T!==this._syncRangesToken||this._currentDecorations.length===0)return;const P=this._editor.getModel(),A=this._currentDecorations.getRange(0);if(!A||A.startLineNumber!==A.endLineNumber)return this.clearRanges();const M=P.getValueInRange(A);if(this._currentWordPattern){const O=M.match(this._currentWordPattern);if((O?O[0].length:0)!==M.length)return this.clearRanges()}const N=[];for(let O=1,x=this._currentDecorations.length;O<x;O++){const F=this._currentDecorations.getRange(O);if(F)if(F.startLineNumber!==F.endLineNumber)N.push({range:F,text:M});else{let B=P.getValueInRange(F),z=M,j=F.startColumn,R=F.endColumn;const Z=f.commonPrefixLength(B,z);j+=Z,B=B.substr(Z),z=z.substr(Z);const se=f.commonSuffixLength(B,z);R-=se,B=B.substr(0,B.length-se),z=z.substr(0,z.length-se),(j!==R||z.length!==0)&&N.push({range:new n.Range(F.startLineNumber,j,F.endLineNumber,R),text:z})}}if(N.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const O=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",N),this._editor._getViewModel().setPrevEditOperationType(O)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(T=!1){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const P=this._editor.getPosition();if(!this._enabled&&!T||this._editor.getSelections().length>1){this.clearRanges();return}const A=this._editor.getModel(),M=A.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===M){if(P.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const O=this._currentDecorations.getRange(0);if(O&&O.containsPosition(P))return}}this.clearRanges(),this._currentRequestPosition=P,this._currentRequestModelVersion=M;const N=(0,k.createCancelablePromise)(O=>Le(this,void 0,void 0,function*(){try{const x=new b.StopWatch(!1),F=yield E(this._providers,A,P,O);if(this._debounceInformation.update(A,x.elapsed()),N!==this._currentRequest||(this._currentRequest=null,M!==A.getVersionId()))return;let B=[];F?.ranges&&(B=F.ranges),this._currentWordPattern=F?.wordPattern||this._languageWordPattern;let z=!1;for(let R=0,Z=B.length;R<Z;R++)if(n.Range.containsPosition(B[R],P)){if(z=!0,R!==0){const se=B[R];B.splice(R,1),B.unshift(se)}break}if(!z){this.clearRanges();return}const j=B.map(R=>({range:R,options:vi.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(j),this._syncRangesToken++}catch(x){(0,_.isCancellationError)(x)||(0,_.onUnexpectedError)(x),(this._currentRequest===N||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=N,N})}};e.LinkedEditingContribution=p,p.ID="editor.contrib.linkedEditing",p.DECORATION=l.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:g}),e.LinkedEditingContribution=p=Ne([fe(1,u.IContextKeyService),fe(2,a.ILanguageFeaturesService),fe(3,h.ILanguageConfigurationService),fe(4,c.ILanguageFeatureDebounceService)],p);class C extends o.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:s.localize(0,null),alias:"Start Linked Editing",precondition:u.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(T,P){const A=T.get(i.ICodeEditorService),[M,N]=Array.isArray(P)&&P||[void 0,void 0];return v.URI.isUri(M)&&t.Position.isIPosition(N)?A.openCodeEditor({resource:M},A.getActiveCodeEditor()).then(O=>{O&&(O.setPosition(N),O.invokeWithinContext(x=>(this.reportTelemetry(x,O),this.run(x,O))))},_.onUnexpectedError):super.runCommand(T,P)}run(T,P){const A=p.get(P);return A?Promise.resolve(A.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=C;const w=o.EditorCommand.bindToContribution(p.get);(0,o.registerEditorCommand)(new w({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:I=>I.clearRanges(),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function E(I,T,P,A){const M=I.ordered(T);return(0,k.first)(M.map(N=>()=>Le(this,void 0,void 0,function*(){try{return yield N.provideLinkedEditingRanges(T,P,A)}catch(O){(0,_.onUnexpectedExternalError)(O);return}})),N=>!!N&&y.isNonEmptyArray(N?.ranges))}e.editorLinkedEditingBackground=(0,d.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hcDark:D.Color.fromHex("#f00").transparent(.3),hcLight:D.Color.white},s.localize(1,null)),(0,o.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(I,T,P)=>{const{linkedEditingRangeProvider:A}=I.get(a.ILanguageFeaturesService);return E(A,T,P,L.CancellationToken.None)}),(0,o.registerEditorContribution)(p.ID,p,1),(0,o.registerEditorAction)(C)}),define(J[883],ee([1,0,13,21,12,55,2,54,17,43,59,22,16,39,75,19,188,742,677,44,56,449]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let d=class en extends _.Disposable{static get(w){return w.getContribution(en.ID)}constructor(w,E,I,T,P){super(),this.editor=w,this.openerService=E,this.notificationService=I,this.languageFeaturesService=T,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=P.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new y.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const A=this._register(new l.ClickLinkGesture(w));this._register(A.onMouseMoveOrRelevantKeyDown(([M,N])=>{this._onEditorMouseMove(M,N)})),this._register(A.onExecute(M=>{this.onEditorMouseUp(M)})),this._register(A.onCancel(M=>{this.cleanUpActiveLinkDecoration()})),this._register(w.onDidChangeConfiguration(M=>{M.hasChanged(69)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(w.onDidChangeModelContent(M=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(w.onDidChangeModel(M=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(w.onDidChangeModelLanguage(M=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(M=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return Le(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(69))return;const w=this.editor.getModel();if(this.providers.has(w)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,y.createCancelablePromise)(E=>(0,h.getLinks)(this.providers,w,E));try{const E=new v.StopWatch(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(w,E.elapsed()),w.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(E){(0,L.onUnexpectedError)(E)}finally{this.computePromise=null}}})}updateDecorations(w){const E=this.editor.getOption(76)==="altKey",I=[],T=Object.keys(this.currentOccurrences);for(const A of T){const M=this.currentOccurrences[A];I.push(M.decorationId)}const P=[];if(w)for(const A of w)P.push(b.decoration(A,E));this.editor.changeDecorations(A=>{const M=A.deltaDecorations(I,P);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let N=0,O=M.length;N<O;N++){const x=new b(w[N],M[N]);this.currentOccurrences[x.decorationId]=x}})}_onEditorMouseMove(w,E){const I=this.editor.getOption(76)==="altKey";if(this.isEnabled(w,E)){this.cleanUpActiveLinkDecoration();const T=this.getLinkOccurrence(w.target.position);T&&this.editor.changeDecorations(P=>{T.activate(P,I),this.activeLinkDecorationId=T.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const w=this.editor.getOption(76)==="altKey";if(this.activeLinkDecorationId){const E=this.currentOccurrences[this.activeLinkDecorationId];E&&this.editor.changeDecorations(I=>{E.deactivate(I,w)}),this.activeLinkDecorationId=null}}onEditorMouseUp(w){if(!this.isEnabled(w))return;const E=this.getLinkOccurrence(w.target.position);E&&this.openLinkOccurrence(E,w.hasSideBySideModifier,!0)}openLinkOccurrence(w,E,I=!1){if(!this.openerService)return;const{link:T}=w;T.resolve(k.CancellationToken.None).then(P=>{if(typeof P=="string"&&this.editor.hasModel()){const A=this.editor.getModel().uri;if(A.scheme===m.Schemas.file&&P.startsWith(`${m.Schemas.file}:`)){const M=o.URI.parse(P);if(M.scheme===m.Schemas.file){const N=f.originalFSPath(M);let O=null;N.startsWith("/./")?O=`.${N.substr(1)}`:N.startsWith("//./")&&(O=`.${N.substr(2)}`),O&&(P=f.joinPath(A,O))}}}return this.openerService.open(P,{openToSide:E,fromUserGesture:I,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},P=>{const A=P instanceof Error?P.message:P;A==="invalid"?this.notificationService.warn(s.localize(0,null,T.url.toString())):A==="missing"?this.notificationService.warn(s.localize(1,null)):(0,L.onUnexpectedError)(P)})}getLinkOccurrence(w){if(!this.editor.hasModel()||!w)return null;const E=this.editor.getModel().getDecorationsInRange({startLineNumber:w.lineNumber,startColumn:w.column,endLineNumber:w.lineNumber,endColumn:w.column},0,!0);for(const I of E){const T=this.currentOccurrences[I.id];if(T)return T}return null}isEnabled(w,E){return!!(w.target.type===6&&(w.hasTriggerModifier||E&&E.keyCodeIsTriggerKey))}stop(){var w;this.computeLinks.cancel(),this.activeLinksList&&((w=this.activeLinksList)===null||w===void 0||w.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};e.LinkDetector=d,d.ID="editor.linkDetector",e.LinkDetector=d=Ne([fe(1,a.IOpenerService),fe(2,u.INotificationService),fe(3,r.ILanguageFeaturesService),fe(4,n.ILanguageFeatureDebounceService)],d);const c={general:t.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:t.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class b{static decoration(w,E){return{range:w.range,options:b._getOptions(w,E,!1)}}static _getOptions(w,E,I){const T=Object.assign({},I?c.active:c.general);return T.hoverMessage=g(w,E),T}constructor(w,E){this.link=w,this.decorationId=E}activate(w,E){w.changeDecorationOptions(this.decorationId,b._getOptions(this.link,E,!0))}deactivate(w,E){w.changeDecorationOptions(this.decorationId,b._getOptions(this.link,E,!1))}}function g(C,w){const E=C.url&&/^command:/i.test(C.url.toString()),I=C.tooltip?C.tooltip:E?s.localize(2,null):s.localize(3,null),T=w?S.isMacintosh?s.localize(4,null):s.localize(5,null):S.isMacintosh?s.localize(6,null):s.localize(7,null);if(C.url){let P="";if(/^command:/i.test(C.url.toString())){const M=C.url.toString().match(/^command:([^?#]+)/);if(M){const N=M[1];P=s.localize(8,null,N)}}return new D.MarkdownString("",!0).appendLink(C.url.toString(!0).replace(/ /g,"%20"),I,P).appendMarkdown(` (${T})`)}else return new D.MarkdownString().appendText(`${I} (${T})`)}class p extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:s.localize(9,null),alias:"Open Link",precondition:void 0})}run(w,E){const I=d.get(E);if(!I||!E.hasModel())return;const T=E.getSelections();for(const P of T){const A=I.getLinkOccurrence(P.getEndPosition());A&&I.openLinkOccurrence(A,!1)}}}(0,i.registerEditorContribution)(d.ID,d,1),(0,i.registerEditorAction)(p)}),define(J[884],ee([1,0,2,19,190,13,362,291,290,31,12,217,51]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModelProvider=void 0;var t;(function(d){d.OUTLINE_MODEL="outlineModel",d.FOLDING_PROVIDER_MODEL="foldingProviderModel",d.INDENTATION_MODEL="indentationModel"})(t||(t={}));var n;(function(d){d[d.VALID=0]="VALID",d[d.INVALID=1]="INVALID",d[d.CANCELED=2]="CANCELED"})(n||(n={}));let r=class{constructor(c,b,g,p){this._editor=c,this._languageConfigurationService=b,this._languageFeaturesService=g,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=new D.Delayer(300);const C=new h(g),w=new a(this._editor,g),E=new u(this._editor,b);switch(p){case t.OUTLINE_MODEL:this._modelProviders.push(C),this._modelProviders.push(w),this._modelProviders.push(E);break;case t.FOLDING_PROVIDER_MODEL:this._modelProviders.push(w),this._modelProviders.push(E);break;case t.INDENTATION_MODEL:this._modelProviders.push(E);break}this._store=new y.DisposableStore}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(c,b,g){return Le(this,void 0,void 0,function*(){return this._store.clear(),this._store.add({dispose:()=>{var p;this._cancelModelPromise(),(p=this._updateScheduler)===null||p===void 0||p.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>Le(this,void 0,void 0,function*(){for(const p of this._modelProviders){const{statusPromise:C,modelPromise:w}=p.computeStickyModel(c,b,g);this._modelPromise=w;const E=yield C;if(this._modelPromise!==w)return null;switch(E){case n.CANCELED:return this._store.clear(),null;case n.VALID:return p.stickyModel}}return null}))})}};e.StickyModelProvider=r,e.StickyModelProvider=r=Ne([fe(1,f.ILanguageConfigurationService),fe(2,k.ILanguageFeaturesService)],r);class l{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,n.INVALID}computeStickyModel(c,b,g){if(g.isCancellationRequested||!this.isProviderValid(c))return{statusPromise:this._invalid(),modelPromise:null};const p=(0,D.createCancelablePromise)(C=>this.createModelFromProvider(c,b,C));return{statusPromise:p.then(C=>this.isModelValid(C)?g.isCancellationRequested?n.CANCELED:(this._stickyModel=this.createStickyModel(c,b,g,C),n.VALID):this._invalid()).then(void 0,C=>((0,v.onUnexpectedError)(C),n.CANCELED)),modelPromise:p}}isModelValid(c){return!0}isProviderValid(c){return!0}}let h=class extends l{constructor(c){super(),this._languageFeaturesService=c}createModelFromProvider(c,b,g){return L.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,c,g)}createStickyModel(c,b,g,p){var C;const{stickyOutlineElement:w,providerID:E}=this._stickyModelFromOutlineModel(p,(C=this._stickyModel)===null||C===void 0?void 0:C.outlineProviderId);return new o.StickyModel(c.uri,b,w,E)}isModelValid(c){return c&&c.children.size>0}_stickyModelFromOutlineModel(c,b){let g;if(i.Iterable.first(c.children.values())instanceof L.OutlineGroup){const E=i.Iterable.find(c.children.values(),I=>I.id===b);if(E)g=E.children;else{let I="",T=-1,P;for(const[A,M]of c.children.entries()){const N=this._findSumOfRangesOfGroup(M);N>T&&(P=M,T=N,I=M.id)}b=I,g=P.children}}else g=c.children;const p=[],C=Array.from(g.values()).sort((E,I)=>{const T=new o.StickyRange(E.symbol.range.startLineNumber,E.symbol.range.endLineNumber),P=new o.StickyRange(I.symbol.range.startLineNumber,I.symbol.range.endLineNumber);return this._comparator(T,P)});for(const E of C)p.push(this._stickyModelFromOutlineElement(E,E.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new o.StickyElement(void 0,p,void 0),providerID:b}}_stickyModelFromOutlineElement(c,b){const g=[];for(const C of c.children.values())if(C.symbol.selectionRange.startLineNumber!==C.symbol.range.endLineNumber)if(C.symbol.selectionRange.startLineNumber!==b)g.push(this._stickyModelFromOutlineElement(C,C.symbol.selectionRange.startLineNumber));else for(const w of C.children.values())g.push(this._stickyModelFromOutlineElement(w,C.symbol.selectionRange.startLineNumber));g.sort((C,w)=>this._comparator(C.range,w.range));const p=new o.StickyRange(c.symbol.selectionRange.startLineNumber,c.symbol.range.endLineNumber);return new o.StickyElement(p,g,void 0)}_comparator(c,b){return c.startLineNumber!==b.startLineNumber?c.startLineNumber-b.startLineNumber:b.endLineNumber-c.endLineNumber}_findSumOfRangesOfGroup(c){let b=0;for(const g of c.children.values())b+=this._findSumOfRangesOfGroup(g);return c instanceof L.OutlineElement?b+c.symbol.range.endLineNumber-c.symbol.selectionRange.startLineNumber:b}};h=Ne([fe(0,k.ILanguageFeaturesService)],h);class s extends l{constructor(c){super(),this._foldingLimitReporter=new _.RangesLimitReporter(c)}createStickyModel(c,b,g,p){const C=this._fromFoldingRegions(p);return new o.StickyModel(c.uri,b,C,void 0)}isModelValid(c){return c!==null}_fromFoldingRegions(c){const b=c.length,g=[],p=new o.StickyElement(void 0,[],void 0);for(let C=0;C<b;C++){const w=c.getParentIndex(C);let E;w!==-1?E=g[w]:E=p;const I=new o.StickyElement(new o.StickyRange(c.getStartLineNumber(C),c.getEndLineNumber(C)+1),[],E);E.children.push(I),g.push(I)}return p}}let u=class extends s{constructor(c,b){super(c),this._languageConfigurationService=b}createModelFromProvider(c,b,g){return new S.IndentRangeProvider(c,this._languageConfigurationService,this._foldingLimitReporter).compute(g)}};u=Ne([fe(1,f.ILanguageConfigurationService)],u);let a=class extends s{constructor(c,b){super(c),this._languageFeaturesService=b}isProviderValid(c){return _.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,c).length>0}createModelFromProvider(c,b,g){const p=_.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,c);return new m.SyntaxRangeProvider(c,p,()=>this.createModelFromProvider(c,b,g),this._foldingLimitReporter,void 0).compute(g)}};a=Ne([fe(1,k.ILanguageFeaturesService)],a)}),define(J[885],ee([1,0,2,19,21,13,15,43,6,31,884,217]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=void 0;class i{constructor(r,l,h){this.startLineNumber=r,this.endLineNumber=l,this.nestingDepth=h}}e.StickyLineCandidate=i;let t=class extends y.Disposable{constructor(r,l,h){super(),this._languageFeaturesService=l,this._languageConfigurationService=h,this._onDidChangeStickyScroll=this._store.add(new S.Emitter),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=r,this._sessionStore=new y.DisposableStore,this._updateSoon=this._register(new D.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(113)&&this.readConfiguration()})),this.readConfiguration()}dispose(){super.dispose(),this._sessionStore.dispose()}readConfiguration(){if(this._options=this._editor.getOption(113),!this._options.enabled){this._sessionStore.clear();return}this._stickyModelProvider=new v.StickyModelProvider(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel),this._sessionStore.add(this._editor.onDidChangeModel(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update()}getVersionId(){var r;return(r=this._model)===null||r===void 0?void 0:r.version}update(){var r;return Le(this,void 0,void 0,function*(){(r=this._cts)===null||r===void 0||r.dispose(!0),this._cts=new L.CancellationTokenSource,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(r){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider)return;const l=this._editor.getModel(),h=l.getVersionId(),u=(this._model?!(0,m.isEqual)(this._model.uri,l.uri):!1)?setTimeout(()=>{r.isCancellationRequested||(this._model=new o.StickyModel(l.uri,l.getVersionId(),void 0,void 0),this._onDidChangeStickyScroll.fire())},75):void 0;this._model=yield this._stickyModelProvider.update(l,h,r),clearTimeout(u)})}updateIndex(r){return r===-1?r=0:r<0&&(r=-r-2),r}getCandidateStickyLinesIntersectingFromStickyModel(r,l,h,s,u){if(l.children.length===0)return;let a=u;const d=[];for(let g=0;g<l.children.length;g++){const p=l.children[g];p.range&&d.push(p.range.startLineNumber)}const c=this.updateIndex((0,_.binarySearch)(d,r.startLineNumber,(g,p)=>g-p)),b=this.updateIndex((0,_.binarySearch)(d,r.startLineNumber+s,(g,p)=>g-p));for(let g=c;g<=b;g++){const p=l.children[g];if(!p)return;if(p.range){const C=p.range.startLineNumber,w=p.range.endLineNumber;r.startLineNumber<=w+1&&C-1<=r.endLineNumber&&C!==a&&(a=C,h.push(new i(C,w-1,s+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(r,p,h,s+1,C))}else this.getCandidateStickyLinesIntersectingFromStickyModel(r,p,h,s,u)}}getCandidateStickyLinesIntersecting(r){var l,h;if(!(!((l=this._model)===null||l===void 0)&&l.element))return[];let s=[];this.getCandidateStickyLinesIntersectingFromStickyModel(r,this._model.element,s,0,-1);const u=(h=this._editor._getViewModel())===null||h===void 0?void 0:h.getHiddenAreas();if(u)for(const a of u)s=s.filter(d=>!(d.startLineNumber>=a.startLineNumber&&d.endLineNumber<=a.endLineNumber+1));return s}};e.StickyLineCandidateProvider=t,e.StickyLineCandidateProvider=t=Ne([fe(1,k.ILanguageFeaturesService),fe(2,f.ILanguageConfigurationService)],t)}),define(J[886],ee([1,0,7,58,91,2,165,11,93,129,95,456]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class o{constructor(r,l){this.lineNumbers=r,this.lastLineRelativePosition=l}}e.StickyScrollWidgetState=o;const i=(0,L.createTrustedTypesPolicy)("stickyScrollViewLayer",{createHTML:n=>n});class t extends D.Disposable{constructor(r){super(),this._editor=r,this._rootDomNode=document.createElement("div"),this._disposableStore=this._register(new D.DisposableStore),this._lineNumbers=[],this._lastLineRelativePosition=0,this._hoverOnLine=-1,this._hoverOnColumn=-1,this._layoutInfo=this._editor.getLayoutInfo(),this._rootDomNode=document.createElement("div"),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",r instanceof _.EmbeddedCodeEditorWidget),this._rootDomNode.style.width=`${this._layoutInfo.width-this._layoutInfo.minimap.minimapCanvasOuterWidth-this._layoutInfo.verticalScrollbarWidth}px`}get hoverOnLine(){return this._hoverOnLine}get hoverOnColumn(){return this._hoverOnColumn}get lineNumbers(){return this._lineNumbers}getCurrentLines(){return this._lineNumbers}setState(r){y.clearNode(this._rootDomNode),this._disposableStore.clear(),this._lineNumbers.length=0;const l=this._editor.getOption(65);r.lineNumbers.length*l+r.lastLineRelativePosition>0?(this._lastLineRelativePosition=r.lastLineRelativePosition,this._lineNumbers=r.lineNumbers):(this._lastLineRelativePosition=0,this._lineNumbers=[]),this._renderRootNode()}_renderRootNode(){if(!this._editor._getViewModel())return;for(const[s,u]of this._lineNumbers.entries()){const a=this._renderChildNode(s,u);this._rootDomNode.appendChild(a)}const r=this._editor.getOption(65),l=this._lineNumbers.length*r+this._lastLineRelativePosition;this._rootDomNode.style.display=l>0?"block":"none",this._rootDomNode.style.height=l.toString()+"px",this._rootDomNode.setAttribute("role","list"),this._editor.getOption(71).side==="left"&&(this._rootDomNode.style.marginLeft=this._editor.getLayoutInfo().minimap.minimapCanvasOuterWidth+"px")}_renderChildNode(r,l){const h=document.createElement("div"),s=this._editor._getViewModel(),u=s.coordinatesConverter.convertModelPositionToViewPosition(new m.Position(l,1)).lineNumber,a=s.getViewLineRenderingData(u),d=this._editor.getLayoutInfo(),c=d.width-d.minimap.minimapCanvasOuterWidth-d.verticalScrollbarWidth,b=this._editor.getOption(71).side,g=this._editor.getOption(65),p=this._editor.getOption(66);let C;try{C=f.LineDecoration.filter(a.inlineDecorations,u,a.minColumn,a.maxColumn)}catch{C=[]}const w=new v.RenderLineInput(!0,!0,a.content,a.continuesWithWrappedLine,a.isBasicASCII,a.containsRTL,0,a.tokens,C,a.tabSize,a.startVisibleColumn,1,1,1,500,"none",!0,!0,null),E=new S.StringBuilder(2e3);(0,v.renderViewLine)(w,E);let I;i?I=i.createHTML(E.build()):I=E.build();const T=document.createElement("span");T.className="sticky-line",T.classList.add(`stickyLine${l}`),T.style.lineHeight=`${g}px`,T.innerHTML=I;const P=document.createElement("span");P.className="sticky-line",P.style.lineHeight=`${g}px`,b==="left"?P.style.width=`${d.contentLeft-d.minimap.minimapCanvasOuterWidth}px`:b==="right"&&(P.style.width=`${d.contentLeft}px`);const A=document.createElement("span");return p.renderType===1||p.renderType===3&&l%10===0?A.innerText=l.toString():p.renderType===2&&(A.innerText=Math.abs(l-this._editor.getPosition().lineNumber).toString()),A.className="sticky-line-number",A.style.lineHeight=`${g}px`,A.style.width=`${d.lineNumbersWidth}px`,b==="left"?A.style.paddingLeft=`${d.lineNumbersLeft-d.minimap.minimapCanvasOuterWidth}px`:b==="right"&&(A.style.paddingLeft=`${d.lineNumbersLeft}px`),P.appendChild(A),this._editor.applyFontInfo(T),this._editor.applyFontInfo(A),h.appendChild(P),h.appendChild(T),h.className="sticky-line-root",h.setAttribute("role","listitem"),h.tabIndex=0,h.style.lineHeight=`${g}px`,h.style.width=`${c}px`,h.style.height=`${g}px`,h.style.zIndex="0",r===this._lineNumbers.length-1&&(h.style.position="relative",h.style.zIndex="-1",h.style.top=this._lastLineRelativePosition+"px"),this._disposableStore.add(y.addDisposableListener(h,"mouseover",M=>{if(this._editor.hasModel()){const O=new k.StandardMouseEvent(M).target.innerText;this._hoverOnLine=l,this._hoverOnColumn=this._editor.getModel().getLineContent(l).indexOf(O)+1||-1}})),h}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}}e.StickyScrollWidget=t}),define(J[887],ee([1,0,7,114,13,12,6,2,142,9,165,857,694,14,8,89,32,90,23,225,136,340,852,104,174,457,250]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetSelectedBackground=void 0,(0,l.registerColor)("editorSuggestWidget.background",{dark:l.editorWidgetBackground,light:l.editorWidgetBackground,hcDark:l.editorWidgetBackground,hcLight:l.editorWidgetBackground},i.localize(0,null)),(0,l.registerColor)("editorSuggestWidget.border",{dark:l.editorWidgetBorder,light:l.editorWidgetBorder,hcDark:l.editorWidgetBorder,hcLight:l.editorWidgetBorder},i.localize(1,null));const g=(0,l.registerColor)("editorSuggestWidget.foreground",{dark:l.editorForeground,light:l.editorForeground,hcDark:l.editorForeground,hcLight:l.editorForeground},i.localize(2,null));(0,l.registerColor)("editorSuggestWidget.selectedForeground",{dark:l.quickInputListFocusForeground,light:l.quickInputListFocusForeground,hcDark:l.quickInputListFocusForeground,hcLight:l.quickInputListFocusForeground},i.localize(3,null)),(0,l.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:l.quickInputListFocusIconForeground,light:l.quickInputListFocusIconForeground,hcDark:l.quickInputListFocusIconForeground,hcLight:l.quickInputListFocusIconForeground},i.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,l.registerColor)("editorSuggestWidget.selectedBackground",{dark:l.quickInputListFocusBackground,light:l.quickInputListFocusBackground,hcDark:l.quickInputListFocusBackground,hcLight:l.quickInputListFocusBackground},i.localize(5,null)),(0,l.registerColor)("editorSuggestWidget.highlightForeground",{dark:l.listHighlightForeground,light:l.listHighlightForeground,hcDark:l.listHighlightForeground,hcLight:l.listHighlightForeground},i.localize(6,null)),(0,l.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:l.listFocusHighlightForeground,light:l.listFocusHighlightForeground,hcDark:l.listFocusHighlightForeground,hcLight:l.listFocusHighlightForeground},i.localize(7,null)),(0,l.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,l.transparent)(g,.5),light:(0,l.transparent)(g,.5),hcDark:(0,l.transparent)(g,.5),hcLight:(0,l.transparent)(g,.5)},i.localize(8,null));class p{constructor(I,T){this._service=I,this._key=`suggestWidget.size/${T.getEditorType()}/${T instanceof v.EmbeddedCodeEditorWidget}`}restore(){var I;const T=(I=this._service.get(this._key,0))!==null&&I!==void 0?I:"";try{const P=JSON.parse(T);if(y.Dimension.is(P))return y.Dimension.lift(P)}catch{}}store(I){this._service.store(this._key,JSON.stringify(I),0,1)}reset(){this._service.remove(this._key,0)}}let C=class Ci{constructor(I,T,P,A,M){this.editor=I,this._storageService=T,this._state=0,this._isAuto=!1,this._pendingLayout=new m.MutableDisposable,this._pendingShowDetails=new m.MutableDisposable,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new L.TimeoutTimer,this._disposables=new m.DisposableStore,this._onDidSelect=new _.PauseableEmitter,this._onDidFocus=new _.PauseableEmitter,this._onDidHide=new _.Emitter,this._onDidShow=new _.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new _.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new u.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new w(this,I),this._persistedSize=new p(T,I);class N{constructor(R,Z,se=!1,le=!1){this.persistedSize=R,this.currentSize=Z,this.persistHeight=se,this.persistWidth=le}}let O;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),O=new N(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(j=>{var R,Z,se,le;if(this._resize(j.dimension.width,j.dimension.height),O&&(O.persistHeight=O.persistHeight||!!j.north||!!j.south,O.persistWidth=O.persistWidth||!!j.east||!!j.west),!!j.done){if(O){const{itemHeight:te,defaultSize:Y}=this.getLayoutInfo(),U=Math.round(te/2);let{width:V,height:H}=this.element.size;(!O.persistHeight||Math.abs(O.currentSize.height-H)<=U)&&(H=(Z=(R=O.persistedSize)===null||R===void 0?void 0:R.height)!==null&&Z!==void 0?Z:Y.height),(!O.persistWidth||Math.abs(O.currentSize.width-V)<=U)&&(V=(le=(se=O.persistedSize)===null||se===void 0?void 0:se.width)!==null&&le!==void 0?le:Y.width),this._persistedSize.store(new y.Dimension(V,H))}this._contentWidget.unlockPreference(),O=void 0}})),this._messageElement=y.append(this.element.domNode,y.$(".message")),this._listElement=y.append(this.element.domNode,y.$(".tree"));const x=M.createInstance(d.SuggestDetailsWidget,this.editor);x.onDidClose(this.toggleDetails,this,this._disposables),this._details=new d.SuggestDetailsOverlay(x,this.editor);const F=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(116).showIcons);F();const B=M.createInstance(c.ItemRenderer,this.editor);this._disposables.add(B),this._disposables.add(B.onDidToggleDetails(()=>this.toggleDetails())),this._list=new k.List("SuggestWidget",this._listElement,{getHeight:j=>this.getLayoutInfo().itemHeight,getTemplateId:j=>"suggestion"},[B],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>i.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:j=>{let R=j.textLabel;if(typeof j.completion.label!="string"){const{detail:te,description:Y}=j.completion.label;te&&Y?R=i.localize(12,null,R,te,Y):te?R=i.localize(13,null,R,te):Y&&(R=i.localize(14,null,R,Y))}if(!j.isResolved||!this._isDetailsVisible())return R;const{documentation:Z,detail:se}=j.completion,le=f.format("{0}{1}",se||"",Z?typeof Z=="string"?Z:Z.value:"");return i.localize(15,null,R,le)}}}),this._list.style((0,b.getListStyles)({listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:l.activeContrastBorder})),this._status=M.createInstance(o.SuggestWidgetStatus,this.element.domNode,a.suggestWidgetStatusbarMenu);const z=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(116).showStatusBar);z(),this._disposables.add(A.onDidColorThemeChange(j=>this._onThemeChange(j))),this._onThemeChange(A.getColorTheme()),this._disposables.add(this._list.onMouseDown(j=>this._onListMouseDownOrTap(j))),this._disposables.add(this._list.onTap(j=>this._onListMouseDownOrTap(j))),this._disposables.add(this._list.onDidChangeSelection(j=>this._onListSelection(j))),this._disposables.add(this._list.onDidChangeFocus(j=>this._onListFocus(j))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(j=>{j.hasChanged(116)&&(z(),F())})),this._ctxSuggestWidgetVisible=a.Context.Visible.bindTo(P),this._ctxSuggestWidgetDetailsVisible=a.Context.DetailsVisible.bindTo(P),this._ctxSuggestWidgetMultipleSuggestions=a.Context.MultipleSuggestions.bindTo(P),this._ctxSuggestWidgetHasFocusedSuggestion=a.Context.HasFocusedSuggestion.bindTo(P),this._disposables.add(y.addStandardDisposableListener(this._details.widget.domNode,"keydown",j=>{this._onDetailsKeydown.fire(j)})),this._disposables.add(this.editor.onMouseDown(j=>this._onEditorMouseDown(j)))}dispose(){var I;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(I=this._loadingTimeout)===null||I===void 0||I.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(I){this._details.widget.domNode.contains(I.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(I.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(I){typeof I.element>"u"||typeof I.index>"u"||(I.browserEvent.preventDefault(),I.browserEvent.stopPropagation(),this._select(I.element,I.index))}_onListSelection(I){I.elements.length&&this._select(I.elements[0],I.indexes[0])}_select(I,T){const P=this._completionModel;P&&(this._onDidSelect.fire({item:I,index:T,model:P}),this.editor.focus())}_onThemeChange(I){this._details.widget.borderWidth=(0,h.isHighContrast)(I.type)?2:1}_onListFocus(I){var T;if(this._ignoreFocusEvents)return;if(!I.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const P=I.elements[0],A=I.indexes[0];P!==this._focusedItem&&((T=this._currentSuggestionDetails)===null||T===void 0||T.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=P,this._list.reveal(A),this._currentSuggestionDetails=(0,L.createCancelablePromise)(M=>Le(this,void 0,void 0,function*(){const N=(0,L.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),O=M.onCancellationRequested(()=>N.dispose()),x=yield P.resolve(M);return N.dispose(),O.dispose(),x})),this._currentSuggestionDetails.then(()=>{A>=this._list.length||P!==this._list.element(A)||(this._ignoreFocusEvents=!0,this._list.splice(A,1,[P]),this._list.setFocus([A]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,c.getAriaId)(A)}))}).catch(D.onUnexpectedError)),this._onDidFocus.fire({item:P,index:A,model:this._completionModel})}_setState(I){if(this._state!==I)switch(this._state=I,this.element.domNode.classList.toggle("frozen",I===4),this.element.domNode.classList.remove("message"),I){case 0:y.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Ci.LOADING_MESSAGE,y.hide(this._listElement,this._status.element),y.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Ci.NO_SUGGESTIONS_MESSAGE,y.hide(this._listElement,this._status.element),y.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._show();break;case 4:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._show();break;case 5:y.hide(this._messageElement),y.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(I,T){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!I,this._isAuto||(this._loadingTimeout=(0,L.disposableTimeout)(()=>this._setState(1),T)))}showSuggestions(I,T,P,A,M){var N,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(N=this._loadingTimeout)===null||N===void 0||N.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==I&&(this._completionModel=I),P&&this._state!==2&&this._state!==0){this._setState(4);return}const x=this._completionModel.items.length,F=x===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(x>1),F){this._setState(A?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(P?4:3),this._list.reveal(T,0),this._list.setFocus(M?[]:[T])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=y.runAtThisOrScheduleAtNextAnimationFrame(()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,d.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(I){this._pendingShowDetails.value=y.runAtThisOrScheduleAtNextAnimationFrame(()=>{this._pendingShowDetails.clear(),this._details.show(),I?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var I;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(I=this._loadingTimeout)===null||I===void 0||I.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const T=this._persistedSize.restore(),P=Math.ceil(this.getLayoutInfo().itemHeight*4.3);T&&T.height<P&&this._persistedSize.store(T.with(void 0,P))}isFrozen(){return this._state===4}_afterRender(I){if(I===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(I){var T,P,A;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const M=y.getClientArea(document.body),N=this.getLayoutInfo();I||(I=N.defaultSize);let O=I.height,x=I.width;if(this._status.element.style.height=`${N.itemHeight}px`,this._state===2||this._state===1)O=N.itemHeight+N.borderHeight,x=N.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new y.Dimension(x,O),this._contentWidget.setPreference(2);else{const F=M.width-N.borderHeight-2*N.horizontalPadding;x>F&&(x=F);const B=this._completionModel?this._completionModel.stats.pLabelLen*N.typicalHalfwidthCharacterWidth:x,z=N.statusBarHeight+this._list.contentHeight+N.borderHeight,j=N.itemHeight+N.statusBarHeight,R=y.getDomNodePagePosition(this.editor.getDomNode()),Z=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),se=R.top+Z.top+Z.height,le=Math.min(M.height-se-N.verticalPadding,z),te=R.top+Z.top-N.verticalPadding,Y=Math.min(te,z);let U=Math.min(Math.max(Y,le)+N.borderHeight,z);O===((T=this._cappedHeight)===null||T===void 0?void 0:T.capped)&&(O=this._cappedHeight.wanted),O<j&&(O=j),O>U&&(O=U);const V=150;O>le||this._forceRenderingAbove&&te>V?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),U=Y):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),U=le),this.element.preferredSize=new y.Dimension(B,N.defaultSize.height),this.element.maxSize=new y.Dimension(F,U),this.element.minSize=new y.Dimension(220,j),this._cappedHeight=O===z?{wanted:(A=(P=this._cappedHeight)===null||P===void 0?void 0:P.wanted)!==null&&A!==void 0?A:I.height,capped:O}:void 0}this._resize(x,O)}_resize(I,T){const{width:P,height:A}=this.element.maxSize;I=Math.min(P,I),T=Math.min(A,T);const{statusBarHeight:M}=this.getLayoutInfo();this._list.layout(T-M,I),this._listElement.style.height=`${T-M}px`,this.element.layout(T,I),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var I;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((I=this._contentWidget.getPosition())===null||I===void 0?void 0:I.preference[0])===2)}getLayoutInfo(){const I=this.editor.getOption(49),T=(0,S.clamp)(this.editor.getOption(118)||I.lineHeight,8,1e3),P=!this.editor.getOption(116).showStatusBar||this._state===2||this._state===1?0:T,A=this._details.widget.borderWidth,M=2*A;return{itemHeight:T,statusBarHeight:P,borderWidth:A,borderHeight:M,typicalHalfwidthCharacterWidth:I.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new y.Dimension(430,P+12*T+M)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(I){this._storageService.store("expandSuggestionDocs",I,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};e.SuggestWidget=C,C.LOADING_MESSAGE=i.localize(9,null),C.NO_SUGGESTIONS_MESSAGE=i.localize(10,null),e.SuggestWidget=C=Ne([fe(1,r.IStorageService),fe(2,t.IContextKeyService),fe(3,s.IThemeService),fe(4,n.IInstantiationService)],C);class w{constructor(I,T){this._widget=I,this._editor=T,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:I,width:T}=this._widget.element.size,{borderWidth:P,horizontalPadding:A}=this._widget.getLayoutInfo();return new y.Dimension(T+2*P+A,I+2*P)}afterRender(I){this._widget._afterRender(I)}setPreference(I){this._preferenceLocked||(this._preference=I)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(I){this._position=I}}e.SuggestContentWidget=w}),define(J[364],ee([1,0,47,39,30,703,32,23,461]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectionHighlightDecorationOptions=e.getHighlightDecorationOptions=void 0;const S=(0,_.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},D.localize(0,null),!0);(0,_.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},D.localize(1,null),!0),(0,_.registerColor)("editor.wordHighlightTextBackground",{light:S,dark:S,hcDark:S,hcLight:S},D.localize(2,null),!0);const f=(0,_.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:_.activeContrastBorder,hcLight:_.activeContrastBorder},D.localize(3,null));(0,_.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:_.activeContrastBorder,hcLight:_.activeContrastBorder},D.localize(4,null)),(0,_.registerColor)("editor.wordHighlightTextBorder",{light:f,dark:f,hcDark:f,hcLight:f},D.localize(5,null));const v=(0,_.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},D.localize(6,null),!0),o=(0,_.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},D.localize(7,null),!0),i=(0,_.registerColor)("editorOverviewRuler.wordHighlightTextForeground",{dark:_.overviewRulerSelectionHighlightForeground,light:_.overviewRulerSelectionHighlightForeground,hcDark:_.overviewRulerSelectionHighlightForeground,hcLight:_.overviewRulerSelectionHighlightForeground},D.localize(8,null),!0),t=k.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,m.themeColorFromId)(o),position:y.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(_.minimapSelectionOccurrenceHighlight),position:y.MinimapPosition.Inline}}),n=k.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,m.themeColorFromId)(i),position:y.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(_.minimapSelectionOccurrenceHighlight),position:y.MinimapPosition.Inline}}),r=k.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,m.themeColorFromId)(_.overviewRulerSelectionHighlightForeground),position:y.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(_.minimapSelectionOccurrenceHighlight),position:y.MinimapPosition.Inline}}),l=k.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),h=k.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,m.themeColorFromId)(v),position:y.OverviewRulerLane.Center},minimap:{color:(0,m.themeColorFromId)(_.minimapSelectionOccurrenceHighlight),position:y.MinimapPosition.Inline}});function s(a){return a===L.DocumentHighlightKind.Write?t:a===L.DocumentHighlightKind.Text?n:h}e.getHighlightDecorationOptions=s;function u(a){return a?l:r}e.getSelectionHighlightDecorationOptions=u,(0,m.registerThemingParticipant)((a,d)=>{const c=a.getColor(_.editorSelectionHighlight);c&&d.addRule(`.monaco-editor .selectionHighlight { background-color: ${c.transparent(.5)}; }`)})}),define(J[888],ee([1,0,48,13,64,2,16,206,5,24,20,361,679,29,14,19,364,8]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function s(j,R){const Z=R.filter(se=>!j.find(le=>le.equals(se)));if(Z.length>=1){const se=Z.map(te=>`line ${te.viewState.position.lineNumber} column ${te.viewState.position.column}`).join(", "),le=Z.length===1?i.localize(0,null,se):i.localize(1,null,se);(0,y.status)(le)}}class u extends _.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:i.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(3,null),order:2}})}run(R,Z,se){if(!Z.hasModel())return;let le=!0;se&&se.logicalLine===!1&&(le=!1);const te=Z._getViewModel();if(te.cursorConfig.readOnly)return;te.model.pushStackElement();const Y=te.getCursorStates();te.setCursorStates(se.source,3,m.CursorMoveCommands.addCursorUp(te,Y,le)),te.revealTopMostCursor(se.source),s(Y,te.getCursorStates())}}e.InsertCursorAbove=u;class a extends _.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:i.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(5,null),order:3}})}run(R,Z,se){if(!Z.hasModel())return;let le=!0;se&&se.logicalLine===!1&&(le=!1);const te=Z._getViewModel();if(te.cursorConfig.readOnly)return;te.model.pushStackElement();const Y=te.getCursorStates();te.setCursorStates(se.source,3,m.CursorMoveCommands.addCursorDown(te,Y,le)),te.revealBottomMostCursor(se.source),s(Y,te.getCursorStates())}}e.InsertCursorBelow=a;class d extends _.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:i.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(7,null),order:4}})}getCursorsForSelection(R,Z,se){if(!R.isEmpty()){for(let le=R.startLineNumber;le<R.endLineNumber;le++){const te=Z.getLineMaxColumn(le);se.push(new f.Selection(le,te,le,te))}R.endColumn>1&&se.push(new f.Selection(R.endLineNumber,R.endColumn,R.endLineNumber,R.endColumn))}}run(R,Z){if(!Z.hasModel())return;const se=Z.getModel(),le=Z.getSelections(),te=Z._getViewModel(),Y=te.getCursorStates(),U=[];le.forEach(V=>this.getCursorsForSelection(V,se,U)),U.length>0&&Z.setSelections(U),s(Y,te.getCursorStates())}}class c extends _.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:i.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(R,Z){if(!Z.hasModel())return;const se=Z.getSelections(),le=Z.getModel().getLineCount(),te=[];for(let V=se[0].startLineNumber;V<=le;V++)te.push(new f.Selection(V,se[0].startColumn,V,se[0].endColumn));const Y=Z._getViewModel(),U=Y.getCursorStates();te.length>0&&Z.setSelections(te),s(U,Y.getCursorStates())}}class b extends _.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:i.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(R,Z){if(!Z.hasModel())return;const se=Z.getSelections(),le=[];for(let U=se[0].startLineNumber;U>=1;U--)le.push(new f.Selection(U,se[0].startColumn,U,se[0].endColumn));const te=Z._getViewModel(),Y=te.getCursorStates();le.length>0&&Z.setSelections(le),s(Y,te.getCursorStates())}}class g{constructor(R,Z,se){this.selections=R,this.revealRange=Z,this.revealScrollType=se}}e.MultiCursorSessionResult=g;class p{static create(R,Z){if(!R.hasModel())return null;const se=Z.getState();if(!R.hasTextFocus()&&se.isRevealed&&se.searchString.length>0)return new p(R,Z,!1,se.searchString,se.wholeWord,se.matchCase,null);let le=!1,te,Y;const U=R.getSelections();U.length===1&&U[0].isEmpty()?(le=!0,te=!0,Y=!0):(te=se.wholeWord,Y=se.matchCase);const V=R.getSelection();let H,$=null;if(V.isEmpty()){const X=R.getConfiguredWordAtPosition(V.getStartPosition());if(!X)return null;H=X.word,$=new f.Selection(V.startLineNumber,X.startColumn,V.startLineNumber,X.endColumn)}else H=R.getModel().getValueInRange(V).replace(/\r\n/g,`
`);return new p(R,Z,le,H,te,Y,$)}constructor(R,Z,se,le,te,Y,U){this._editor=R,this.findController=Z,this.isDisconnectedFromFindController=se,this.searchText=le,this.wholeWord=te,this.matchCase=Y,this.currentMatch=U}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const R=this._getNextMatch();if(!R)return null;const Z=this._editor.getSelections();return new g(Z.concat(R),R,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const R=this._getNextMatch();if(!R)return null;const Z=this._editor.getSelections();return new g(Z.slice(0,Z.length-1).concat(R),R,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const le=this.currentMatch;return this.currentMatch=null,le}this.findController.highlightFindOptions();const R=this._editor.getSelections(),Z=R[R.length-1],se=this._editor.getModel().findNextMatch(this.searchText,Z.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1);return se?new f.Selection(se.range.startLineNumber,se.range.startColumn,se.range.endLineNumber,se.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const R=this._getPreviousMatch();if(!R)return null;const Z=this._editor.getSelections();return new g(Z.concat(R),R,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const R=this._getPreviousMatch();if(!R)return null;const Z=this._editor.getSelections();return new g(Z.slice(0,Z.length-1).concat(R),R,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const le=this.currentMatch;return this.currentMatch=null,le}this.findController.highlightFindOptions();const R=this._editor.getSelections(),Z=R[R.length-1],se=this._editor.getModel().findPreviousMatch(this.searchText,Z.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1);return se?new f.Selection(se.range.startLineNumber,se.range.startColumn,se.range.endLineNumber,se.range.endColumn):null}selectAll(R){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const Z=this._editor.getModel();return R?Z.findMatches(this.searchText,R,!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1,1073741824):Z.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1,1073741824)}}e.MultiCursorSession=p;class C extends D.Disposable{static get(R){return R.getContribution(C.ID)}constructor(R){super(),this._sessionDispose=this._register(new D.DisposableStore),this._editor=R,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(R){if(!this._session){const Z=p.create(this._editor,R);if(!Z)return;this._session=Z;const se={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(se.wholeWordOverride=1,se.matchCaseOverride=1,se.isRegexOverride=2),R.getState().change(se,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(le=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(R.getState().onFindReplaceStateChange(le=>{(le.matchCase||le.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const R={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(R,!1)}this._session=null}_setSelections(R){this._ignoreSelectionChange=!0,this._editor.setSelections(R),this._ignoreSelectionChange=!1}_expandEmptyToWord(R,Z){if(!Z.isEmpty())return Z;const se=this._editor.getConfiguredWordAtPosition(Z.getStartPosition());return se?new f.Selection(Z.startLineNumber,se.startColumn,Z.startLineNumber,se.endColumn):Z}_applySessionResult(R){R&&(this._setSelections(R.selections),R.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(R.revealRange,R.revealScrollType))}getSession(R){return this._session}addSelectionToNextFindMatch(R){if(this._editor.hasModel()){if(!this._session){const Z=this._editor.getSelections();if(Z.length>1){const le=R.getState().matchCase;if(!x(this._editor.getModel(),Z,le)){const Y=this._editor.getModel(),U=[];for(let V=0,H=Z.length;V<H;V++)U[V]=this._expandEmptyToWord(Y,Z[V]);this._editor.setSelections(U);return}}}this._beginSessionIfNeeded(R),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(R){this._beginSessionIfNeeded(R),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(R){this._beginSessionIfNeeded(R),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(R){this._beginSessionIfNeeded(R),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(R){if(!this._editor.hasModel())return;let Z=null;const se=R.getState();if(se.isRevealed&&se.searchString.length>0&&se.isRegex){const le=this._editor.getModel();se.searchScope?Z=le.findMatches(se.searchString,se.searchScope,se.isRegex,se.matchCase,se.wholeWord?this._editor.getOption(128):null,!1,1073741824):Z=le.findMatches(se.searchString,!0,se.isRegex,se.matchCase,se.wholeWord?this._editor.getOption(128):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(R),!this._session)return;Z=this._session.selectAll(se.searchScope)}if(Z.length>0){const le=this._editor.getSelection();for(let te=0,Y=Z.length;te<Y;te++){const U=Z[te];if(U.range.intersectRanges(le)){Z[te]=Z[0],Z[0]=U;break}}this._setSelections(Z.map(te=>new f.Selection(te.range.startLineNumber,te.range.startColumn,te.range.endLineNumber,te.range.endColumn)))}}}e.MultiCursorSelectionController=C,C.ID="editor.contrib.multiCursorController";class w extends _.EditorAction{run(R,Z){const se=C.get(Z);if(!se)return;const le=Z._getViewModel();if(le){const te=le.getCursorStates(),Y=o.CommonFindController.get(Z);if(Y)this._run(se,Y);else{const U=R.get(h.IInstantiationService).createInstance(o.CommonFindController,Z);this._run(se,U),U.dispose()}s(te,le.getCursorStates())}}}e.MultiCursorSelectionControllerAction=w;class E extends w{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:i.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(11,null),order:5}})}_run(R,Z){R.addSelectionToNextFindMatch(Z)}}e.AddSelectionToNextFindMatchAction=E;class I extends w{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:i.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(13,null),order:6}})}_run(R,Z){R.addSelectionToPreviousFindMatch(Z)}}e.AddSelectionToPreviousFindMatchAction=I;class T extends w{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:i.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:(0,L.KeyChord)(2089,2082),weight:100}})}_run(R,Z){R.moveSelectionToNextFindMatch(Z)}}e.MoveSelectionToNextFindMatchAction=T;class P extends w{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:i.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(R,Z){R.moveSelectionToPreviousFindMatch(Z)}}e.MoveSelectionToPreviousFindMatchAction=P;class A extends w{constructor(){super({id:"editor.action.selectHighlights",label:i.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"3_multi",title:i.localize(17,null),order:7}})}_run(R,Z){R.selectAll(Z)}}e.SelectHighlightsAction=A;class M extends w{constructor(){super({id:"editor.action.changeAll",label:i.localize(18,null),alias:"Change All Occurrences",precondition:n.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(R,Z){R.selectAll(Z)}}e.CompatChangeAll=M;class N{constructor(R,Z,se,le,te){this._model=R,this._searchText=Z,this._matchCase=se,this._wordSeparators=le,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,te&&this._model===te._model&&this._searchText===te._searchText&&this._matchCase===te._matchCase&&this._wordSeparators===te._wordSeparators&&this._modelVersionId===te._modelVersionId&&(this._cachedFindMatches=te._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(R=>R.range),this._cachedFindMatches.sort(S.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let O=class tn extends D.Disposable{constructor(R,Z){super(),this._languageFeaturesService=Z,this.editor=R,this._isEnabled=R.getOption(106),this._decorations=R.createDecorationsCollection(),this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(R.onDidChangeConfiguration(le=>{this._isEnabled=R.getOption(106)})),this._register(R.onDidChangeCursorSelection(le=>{this._isEnabled&&(le.selection.isEmpty()?le.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(R.onDidChangeModel(le=>{this._setState(null)})),this._register(R.onDidChangeModelContent(le=>{this._isEnabled&&this.updateSoon.schedule()}));const se=o.CommonFindController.get(R);se&&this._register(se.getState().onFindReplaceStateChange(le=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(tn._createState(this.state,this._isEnabled,this.editor))}static _createState(R,Z,se){if(!Z||!se.hasModel())return null;const le=se.getSelection();if(le.startLineNumber!==le.endLineNumber)return null;const te=C.get(se);if(!te)return null;const Y=o.CommonFindController.get(se);if(!Y)return null;let U=te.getSession(Y);if(!U){const $=se.getSelections();if($.length>1){const Q=Y.getState().matchCase;if(!x(se.getModel(),$,Q))return null}U=p.create(se,Y)}if(!U||U.currentMatch||/^[ \t]+$/.test(U.searchText)||U.searchText.length>200)return null;const V=Y.getState(),H=V.matchCase;if(V.isRevealed){let $=V.searchString;H||($=$.toLowerCase());let X=U.searchText;if(H||(X=X.toLowerCase()),$===X&&U.matchCase===V.matchCase&&U.wholeWord===V.wholeWord&&!V.isRegex)return null}return new N(se.getModel(),U.searchText,U.matchCase,U.wholeWord?se.getOption(128):null,R)}_setState(R){if(this.state=R,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const Z=this.editor.getModel();if(Z.isTooLargeForTokenization())return;const se=this.state.findMatches(),le=this.editor.getSelections();le.sort(S.Range.compareRangesUsingStarts);const te=[];for(let V=0,H=0,$=se.length,X=le.length;V<$;){const Q=se[V];if(H>=X)te.push(Q),V++;else{const de=S.Range.compareRangesUsingStarts(Q,le[H]);de<0?((le[H].isEmpty()||!S.Range.areIntersecting(Q,le[H]))&&te.push(Q),V++):(de>0||V++,H++)}}const Y=this._languageFeaturesService.documentHighlightProvider.has(Z)&&this.editor.getOption(79),U=te.map(V=>({range:V,options:(0,l.getSelectionHighlightDecorationOptions)(Y)}));this._decorations.set(U)}dispose(){this._setState(null),super.dispose()}};e.SelectionHighlighter=O,O.ID="editor.contrib.selectionHighlighter",e.SelectionHighlighter=O=Ne([fe(1,r.ILanguageFeaturesService)],O);function x(j,R,Z){const se=F(j,R[0],!Z);for(let le=1,te=R.length;le<te;le++){const Y=R[le];if(Y.isEmpty())return!1;const U=F(j,Y,!Z);if(se!==U)return!1}return!0}function F(j,R,Z){const se=j.getValueInRange(R);return Z?se.toLowerCase():se}class B extends _.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:i.localize(19,null),description:{description:i.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(R,Z,se){if(!Z.hasModel())return;const le=Z._getViewModel();if(le.cursorConfig.readOnly)return;le.model.pushStackElement();const te=Array.from(le.getCursorStates()),Y=te.shift();Y&&(te.push(Y),le.setCursorStates(se.source,3,te),le.revealPrimaryCursor(se.source,!0),s(te,le.getCursorStates()))}}e.FocusNextCursor=B;class z extends _.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:i.localize(21,null),description:{description:i.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(R,Z,se){if(!Z.hasModel())return;const le=Z._getViewModel();if(le.cursorConfig.readOnly)return;le.model.pushStackElement();const te=Array.from(le.getCursorStates()),Y=te.pop();Y&&(te.unshift(Y),le.setCursorStates(se.source,3,te),le.revealPrimaryCursor(se.source,!0),s(te,le.getCursorStates()))}}e.FocusPreviousCursor=z,(0,_.registerEditorContribution)(C.ID,C,4),(0,_.registerEditorContribution)(O.ID,O,1),(0,_.registerEditorAction)(u),(0,_.registerEditorAction)(a),(0,_.registerEditorAction)(d),(0,_.registerEditorAction)(E),(0,_.registerEditorAction)(I),(0,_.registerEditorAction)(T),(0,_.registerEditorAction)(P),(0,_.registerEditorAction)(A),(0,_.registerEditorAction)(M),(0,_.registerEditorAction)(c),(0,_.registerEditorAction)(b),(0,_.registerEditorAction)(B),(0,_.registerEditorAction)(z)}),define(J[889],ee([1,0,48,15,13,21,12,2,16,5,20,30,704,14,19,364,51]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordHighlighterContribution=e.getOccurrencesAtPosition=void 0;const h=new t.RawContextKey("hasWordHighlights",!1);function s(I,T,P,A){const M=I.ordered(T);return(0,L.first)(M.map(N=>()=>Promise.resolve(N.provideDocumentHighlights(T,P,A)).then(void 0,_.onUnexpectedExternalError)),k.isNonEmptyArray)}e.getOccurrencesAtPosition=s;class u{constructor(T,P,A){this._model=T,this._selection=P,this._wordSeparators=A,this._wordRange=this._getCurrentWordRange(T,P),this._result=null}get result(){return this._result||(this._result=(0,L.createCancelablePromise)(T=>this._compute(this._model,this._selection,this._wordSeparators,T))),this._result}_getCurrentWordRange(T,P){const A=T.getWordAtPosition(P.getPosition());return A?new f.Range(P.startLineNumber,A.startColumn,P.startLineNumber,A.endColumn):null}isValid(T,P,A){const M=P.startLineNumber,N=P.startColumn,O=P.endColumn,x=this._getCurrentWordRange(T,P);let F=!!(this._wordRange&&this._wordRange.equalsRange(x));for(let B=0,z=A.length;!F&&B<z;B++){const j=A.getRange(B);j&&j.startLineNumber===M&&j.startColumn<=N&&j.endColumn>=O&&(F=!0)}return F}cancel(){this.result.cancel()}}class a extends u{constructor(T,P,A,M){super(T,P,A),this._providers=M}_compute(T,P,A,M){return s(this._providers,T,P.getPosition(),M).then(N=>N||[])}}class d extends u{constructor(T,P,A){super(T,P,A),this._selectionIsEmpty=P.isEmpty()}_compute(T,P,A,M){return(0,L.timeout)(250,M).then(()=>{if(!P.isEmpty())return[];const N=T.getWordAtPosition(P.getPosition());return!N||N.word.length>1e3?[]:T.findMatches(N.word,!0,!1,!0,A,!1).map(x=>({range:x.range,kind:o.DocumentHighlightKind.Text}))})}isValid(T,P,A){const M=P.isEmpty();return this._selectionIsEmpty!==M?!1:super.isValid(T,P,A)}}function c(I,T,P,A){return I.has(T)?new a(T,P,A,I):new d(T,P,A)}(0,S.registerModelAndPositionCommand)("_executeDocumentHighlights",(I,T,P)=>{const A=I.get(n.ILanguageFeaturesService);return s(A.documentHighlightProvider,T,P,D.CancellationToken.None)});class b{constructor(T,P,A,M){this.toUnhook=new m.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=T,this.providers=P,this.linkedHighlighters=A,this._hasWordHighlights=h.bindTo(M),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(79),this.model=this.editor.getModel(),this.toUnhook.add(T.onDidChangeCursorPosition(N=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(N)})),this.toUnhook.add(T.onDidChangeModelContent(N=>{this._stopAll()})),this.toUnhook.add(T.onDidChangeConfiguration(N=>{const O=this.editor.getOption(79);this.occurrencesHighlight!==O&&(this.occurrencesHighlight=O,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(f.Range.compareRangesUsingStarts)}moveNext(){const T=this._getSortedHighlights(),A=(T.findIndex(N=>N.containsPosition(this.editor.getPosition()))+1)%T.length,M=T[A];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(M.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(M);const N=this._getWord();if(N){const O=this.editor.getModel().getLineContent(M.startLineNumber);(0,y.alert)(`${O}, ${A+1} of ${T.length} for '${N.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const T=this._getSortedHighlights(),A=(T.findIndex(N=>N.containsPosition(this.editor.getPosition()))-1+T.length)%T.length,M=T[A];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(M.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(M);const N=this._getWord();if(N){const O=this.editor.getModel().getLineContent(M.startLineNumber);(0,y.alert)(`${O}, ${A+1} of ${T.length} for '${N.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(T){if(!this.occurrencesHighlight){this._stopAll();return}if(T.reason!==3){this._stopAll();return}this._run()}_getWord(){const T=this.editor.getSelection(),P=T.startLineNumber,A=T.startColumn;return this.model.getWordAtPosition({lineNumber:P,column:A})}_run(){const T=this.editor.getSelection();if(T.startLineNumber!==T.endLineNumber){this._stopAll();return}const P=T.startColumn,A=T.endColumn,M=this._getWord();if(!M||M.startColumn>P||M.endColumn<A){this._stopAll();return}const N=this.workerRequest&&this.workerRequest.isValid(this.model,T,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),N)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const O=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=c(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(128)),this.workerRequest.result.then(x=>{O===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=x||[],this._beginRenderDecorations())},_.onUnexpectedError)}}_beginRenderDecorations(){const T=new Date().getTime(),P=this.lastCursorPositionChangeTime+250;T>=P?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},P-T)}renderDecorations(){this.renderDecorationsTimer=-1;const T=[];for(const P of this.workerRequestValue)P.range&&T.push({range:P.range,options:(0,r.getHighlightDecorationOptions)(P.kind)});this.decorations.set(T),this._hasWordHighlights.set(this.hasDecorations());for(const P of this.linkedHighlighters())P?.editor.getModel()===this.editor.getModel()&&(P._stopAll(),P.decorations.set(T),P._hasWordHighlights.set(P.hasDecorations()))}dispose(){this._stopAll(),this.toUnhook.dispose()}}let g=class nn extends m.Disposable{static get(T){return T.getContribution(nn.ID)}constructor(T,P,A){super(),this.wordHighlighter=null,this.linkedContributions=new Set;const M=()=>{T.hasModel()&&(this.wordHighlighter=new b(T,A.documentHighlightProvider,()=>l.Iterable.map(this.linkedContributions,N=>N.wordHighlighter),P))};this._register(T.onDidChangeModel(N=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),M()})),M()}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){var T;(T=this.wordHighlighter)===null||T===void 0||T.moveNext()}moveBack(){var T;(T=this.wordHighlighter)===null||T===void 0||T.moveBack()}restoreViewState(T){this.wordHighlighter&&T&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};e.WordHighlighterContribution=g,g.ID="editor.contrib.wordHighlighter",e.WordHighlighterContribution=g=Ne([fe(1,t.IContextKeyService),fe(2,n.ILanguageFeaturesService)],g);class p extends S.EditorAction{constructor(T,P){super(P),this._isNext=T}run(T,P){const A=g.get(P);A&&(this._isNext?A.moveNext():A.moveBack())}}class C extends p{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:i.localize(0,null),alias:"Go to Next Symbol Highlight",precondition:h,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class w extends p{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:i.localize(1,null),alias:"Go to Previous Symbol Highlight",precondition:h,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}class E extends S.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:i.localize(2,null),alias:"Trigger Symbol Highlight",precondition:h.toNegated(),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(T,P,A){const M=g.get(P);M&&M.restoreViewState(!0)}}(0,S.registerEditorContribution)(g.ID,g,0),(0,S.registerEditorAction)(C),(0,S.registerEditorAction)(w),(0,S.registerEditorAction)(E)}),define(J[890],ee([1,0,7,132,37,167,2,46,5,39,462]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=void 0;const v=new L.Color(new L.RGBA(0,122,204)),o={showArrow:!0,showFrame:!0,className:"",frameColor:v,arrowColor:v,keepEditorSelection:!1},i="vs.editor.contrib.zoneWidget";class t{constructor(s,u,a,d,c,b,g,p){this.id="",this.domNode=s,this.afterLineNumber=u,this.afterColumn=a,this.heightInLines=d,this.showInHiddenAreas=g,this.ordinal=p,this._onDomNodeTop=c,this._onComputedHeight=b}onDomNodeTop(s){this._onDomNodeTop(s)}onComputedHeight(s){this._onComputedHeight(s)}}class n{constructor(s,u){this._id=s,this._domNode=u}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=n;class r{constructor(s){this._editor=s,this._ruleName=r._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),y.removeCSSRulesContainingSelector(this._ruleName)}set color(s){this._color!==s&&(this._color=s,this._updateStyle())}set height(s){this._height!==s&&(this._height=s,this._updateStyle())}_updateStyle(){y.removeCSSRulesContainingSelector(this._ruleName),y.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(s){s.column===1&&(s={lineNumber:s.lineNumber,column:2}),this._decorations.set([{range:S.Range.fromPositions(s),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}r._IdGenerator=new D.IdGenerator(".arrow-decoration-");class l{constructor(s,u={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new _.DisposableStore,this.container=null,this._isShowing=!1,this.editor=s,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=m.deepClone(u),m.mixin(this.options,o,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(a=>{const d=this._getWidth(a);this.domNode.style.width=d+"px",this.domNode.style.left=this._getLeft(a)+"px",this._onWidth(d)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(s=>{this._viewZone&&s.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new r(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(s){s.frameColor&&(this.options.frameColor=s.frameColor),s.arrowColor&&(this.options.arrowColor=s.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const s=this.options.frameColor.toString();this.container.style.borderTopColor=s,this.container.style.borderBottomColor=s}if(this._arrow&&this.options.arrowColor){const s=this.options.arrowColor.toString();this._arrow.color=s}}_getWidth(s){return s.width-s.minimap.minimapWidth-s.verticalScrollbarWidth}_getLeft(s){return s.minimap.minimapWidth>0&&s.minimap.minimapLeft===0?s.minimap.minimapWidth:0}_onViewZoneTop(s){this.domNode.style.top=s+"px"}_onViewZoneHeight(s){var u;if(this.domNode.style.height=`${s}px`,this.container){const a=s-this._decoratingElementsHeight();this.container.style.height=`${a}px`;const d=this.editor.getLayoutInfo();this._doLayout(a,this._getWidth(d))}(u=this._resizeSash)===null||u===void 0||u.layout()}get position(){const s=this._positionMarkerId.getRange(0);if(s)return s.getStartPosition()}show(s,u){const a=S.Range.isIRange(s)?S.Range.lift(s):S.Range.fromPositions(s);this._isShowing=!0,this._showImpl(a,u),this._isShowing=!1,this._positionMarkerId.set([{range:a,options:f.ModelDecorationOptions.EMPTY}])}hide(){var s;this._viewZone&&(this.editor.changeViewZones(u=>{this._viewZone&&u.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(s=this._arrow)===null||s===void 0||s.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const s=this.editor.getOption(65);let u=0;if(this.options.showArrow){const a=Math.round(s/3);u+=2*a}if(this.options.showFrame){const a=Math.round(s/9);u+=2*a}return u}_showImpl(s,u){const a=s.getStartPosition(),d=this.editor.getLayoutInfo(),c=this._getWidth(d);this.domNode.style.width=`${c}px`,this.domNode.style.left=this._getLeft(d)+"px";const b=document.createElement("div");b.style.overflow="hidden";const g=this.editor.getOption(65);if(!this.options.allowUnlimitedHeight){const I=Math.max(12,this.editor.getLayoutInfo().height/g*.8);u=Math.min(u,I)}let p=0,C=0;if(this._arrow&&this.options.showArrow&&(p=Math.round(g/3),this._arrow.height=p,this._arrow.show(a)),this.options.showFrame&&(C=Math.round(g/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new t(b,a.lineNumber,a.column,u,T=>this._onViewZoneTop(T),T=>this._onViewZoneHeight(T),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new n(i+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:C;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}const w=u*g-this._decoratingElementsHeight();this.container&&(this.container.style.top=p+"px",this.container.style.height=w+"px",this.container.style.overflow="hidden"),this._doLayout(w,c),this.options.keepEditorSelection||this.editor.setSelection(s);const E=this.editor.getModel();if(E){const I=E.validateRange(new S.Range(s.startLineNumber,1,s.endLineNumber+1,1));this.revealRange(I,I.startLineNumber===E.getLineCount())}}revealRange(s,u){u?this.editor.revealLineNearTop(s.endLineNumber,0):this.editor.revealRange(s,0)}setCssClass(s,u){this.container&&(u&&this.container.classList.remove(u),this.container.classList.add(s))}_onWidth(s){}_doLayout(s,u){}_relayout(s){this._viewZone&&this._viewZone.heightInLines!==s&&this.editor.changeViewZones(u=>{this._viewZone&&(this._viewZone.heightInLines=s,u.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let s;this._disposables.add(this._resizeSash.onDidStart(u=>{this._viewZone&&(s={startY:u.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{s=void 0})),this._disposables.add(this._resizeSash.onDidChange(u=>{if(s){const a=(u.currentY-s.startY)/this.editor.getOption(65),d=a<0?Math.ceil(a):Math.floor(a),c=s.heightInLines+d;c>5&&c<35&&this._relayout(c)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const s=this.editor.getLayoutInfo();return s.width-s.minimap.minimapWidth}}e.ZoneWidget=l}),define(J[139],ee([1,0,7,68,40,26,27,37,6,46,16,33,165,890,682,163,14,49,8,32,453]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorStickyScrollBackground=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,s.createDecorator)("IPeekViewService"),(0,h.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(p,C){const w=this._widgets.get(p);w&&(w.listener.dispose(),w.widget.dispose());const E=()=>{const I=this._widgets.get(p);I&&I.widget===C&&(I.listener.dispose(),this._widgets.delete(p))};this._widgets.set(p,{widget:C,listener:C.onDidClose(E)})}},1);var a;(function(p){p.inPeekEditor=new l.RawContextKey("inReferenceSearchEditor",!0,n.localize(0,null)),p.notInPeekEditor=p.inPeekEditor.toNegated()})(a||(e.PeekContext=a={}));let d=class{constructor(C,w){C instanceof i.EmbeddedCodeEditorWidget&&a.inPeekEditor.bindTo(w)}dispose(){}};d.ID="editor.contrib.referenceController",d=Ne([fe(1,l.IContextKeyService)],d),(0,v.registerEditorContribution)(d.ID,d,0);function c(p){const C=p.get(o.ICodeEditorService).getFocusedCodeEditor();return C instanceof i.EmbeddedCodeEditorWidget?C.getParentEditor():C}e.getOuterEditor=c;const b={headerBackgroundColor:m.Color.white,primaryHeadingColor:m.Color.fromHex("#333333"),secondaryHeadingColor:m.Color.fromHex("#6c6c6cb3")};let g=class extends t.ZoneWidget{constructor(C,w,E){super(C,w),this.instantiationService=E,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,f.mixin(this.options,b,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(C){const w=this.options;C.headerBackgroundColor&&(w.headerBackgroundColor=C.headerBackgroundColor),C.primaryHeadingColor&&(w.primaryHeadingColor=C.primaryHeadingColor),C.secondaryHeadingColor&&(w.secondaryHeadingColor=C.secondaryHeadingColor),super.style(C)}_applyStyles(){super._applyStyles();const C=this.options;this._headElement&&C.headerBackgroundColor&&(this._headElement.style.backgroundColor=C.headerBackgroundColor.toString()),this._primaryHeading&&C.primaryHeadingColor&&(this._primaryHeading.style.color=C.primaryHeadingColor.toString()),this._secondaryHeading&&C.secondaryHeadingColor&&(this._secondaryHeading.style.color=C.secondaryHeadingColor.toString()),this._bodyElement&&C.frameColor&&(this._bodyElement.style.borderColor=C.frameColor.toString())}_fillContainer(C){this.setCssClass("peekview-widget"),this._headElement=y.$(".head"),this._bodyElement=y.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),C.appendChild(this._headElement),C.appendChild(this._bodyElement)}_fillHead(C,w){this._titleElement=y.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),y.addStandardDisposableListener(this._titleElement,"click",T=>this._onTitleClick(T))),y.append(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=y.$("span.filename"),this._secondaryHeading=y.$("span.dirname"),this._metaHeading=y.$("span.meta"),y.append(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=y.$(".peekview-actions");y.append(this._headElement,E);const I=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(E,I),this._disposables.add(this._actionbarWidget),w||this._actionbarWidget.push(new L.Action("peekview.close",n.localize(1,null),_.ThemeIcon.asClassName(D.Codicon.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(C){}_getActionBarOptions(){return{actionViewItemProvider:r.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(C){}setTitle(C,w){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=C,this._primaryHeading.setAttribute("title",C),w?this._secondaryHeading.innerText=w:y.clearNode(this._secondaryHeading))}setMetaTitle(C){this._metaHeading&&(C?(this._metaHeading.innerText=C,y.show(this._metaHeading)):y.hide(this._metaHeading))}_doLayout(C,w){if(!this._isShowing&&C<0){this.dispose();return}const E=Math.ceil(this.editor.getOption(65)*1.2),I=Math.round(C-(E+2));this._doLayoutHead(E,w),this._doLayoutBody(I,w)}_doLayoutHead(C,w){this._headElement&&(this._headElement.style.height=`${C}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(C,w){this._bodyElement&&(this._bodyElement.style.height=`${C}px`)}};e.PeekViewWidget=g,e.PeekViewWidget=g=Ne([fe(2,s.IInstantiationService)],g),e.peekViewTitleBackground=(0,u.registerColor)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:m.Color.black,hcLight:m.Color.white},n.localize(2,null)),e.peekViewTitleForeground=(0,u.registerColor)("peekViewTitleLabel.foreground",{dark:m.Color.white,light:m.Color.black,hcDark:m.Color.white,hcLight:u.editorForeground},n.localize(3,null)),e.peekViewTitleInfoForeground=(0,u.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},n.localize(4,null)),e.peekViewBorder=(0,u.registerColor)("peekView.border",{dark:u.editorInfoForeground,light:u.editorInfoForeground,hcDark:u.contrastBorder,hcLight:u.contrastBorder},n.localize(5,null)),e.peekViewResultsBackground=(0,u.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:m.Color.black,hcLight:m.Color.white},n.localize(6,null)),e.peekViewResultsMatchForeground=(0,u.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:m.Color.white,hcLight:u.editorForeground},n.localize(7,null)),e.peekViewResultsFileForeground=(0,u.registerColor)("peekViewResult.fileForeground",{dark:m.Color.white,light:"#1E1E1E",hcDark:m.Color.white,hcLight:u.editorForeground},n.localize(8,null)),e.peekViewResultsSelectionBackground=(0,u.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},n.localize(9,null)),e.peekViewResultsSelectionForeground=(0,u.registerColor)("peekViewResult.selectionForeground",{dark:m.Color.white,light:"#6C6C6C",hcDark:m.Color.white,hcLight:u.editorForeground},n.localize(10,null)),e.peekViewEditorBackground=(0,u.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:m.Color.black,hcLight:m.Color.white},n.localize(11,null)),e.peekViewEditorGutterBackground=(0,u.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},n.localize(12,null)),e.peekViewEditorStickyScrollBackground=(0,u.registerColor)("peekViewEditorStickyScroll.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},n.localize(13,null)),e.peekViewResultsMatchHighlight=(0,u.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},n.localize(14,null)),e.peekViewEditorMatchHighlight=(0,u.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},n.localize(15,null)),e.peekViewEditorMatchHighlightBorder=(0,u.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:u.activeContrastBorder,hcLight:u.activeContrastBorder},n.localize(16,null))}),define(J[891],ee([1,0,7,74,15,37,6,2,43,9,5,139,656,163,29,14,8,161,97,56,780,32,23,440]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerNavigationWidget=void 0;class b{constructor(x,F,B,z,j){this._openerService=z,this._labelService=j,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new m.DisposableStore,this._editor=F;const R=document.createElement("div");R.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),R.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),R.appendChild(this._relatedBlock),this._disposables.add(y.addStandardDisposableListener(this._relatedBlock,"click",Z=>{Z.preventDefault();const se=this._relatedDiagnostics.get(Z.target);se&&B(se)})),this._scrollable=new k.ScrollableElement(R,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),x.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(Z=>{R.style.left=`-${Z.scrollLeft}px`,R.style.top=`-${Z.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,m.dispose)(this._disposables)}update(x){const{source:F,message:B,relatedInformation:z,code:j}=x;let R=(F?.length||0)+2;j&&(typeof j=="string"?R+=j.length:R+=j.value.length);const Z=(0,f.splitLines)(B);this._lines=Z.length,this._longestLineLength=0;for(const U of Z)this._longestLineLength=Math.max(U.length+R,this._longestLineLength);y.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(x)),this._editor.applyFontInfo(this._messageBlock);let se=this._messageBlock;for(const U of Z)se=document.createElement("div"),se.innerText=U,U===""&&(se.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(se);if(F||j){const U=document.createElement("span");if(U.classList.add("details"),se.appendChild(U),F){const V=document.createElement("span");V.innerText=F,V.classList.add("source"),U.appendChild(V)}if(j)if(typeof j=="string"){const V=document.createElement("span");V.innerText=`(${j})`,V.classList.add("code"),U.appendChild(V)}else{this._codeLink=y.$("a.code-link"),this._codeLink.setAttribute("href",`${j.target.toString()}`),this._codeLink.onclick=H=>{this._openerService.open(j.target,{allowCommands:!0}),H.preventDefault(),H.stopPropagation()};const V=y.append(this._codeLink,y.$("span"));V.innerText=j.value,U.appendChild(this._codeLink)}}if(y.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,L.isNonEmptyArray)(z)){const U=this._relatedBlock.appendChild(document.createElement("div"));U.style.paddingTop=`${Math.floor(this._editor.getOption(65)*.66)}px`,this._lines+=1;for(const V of z){const H=document.createElement("div"),$=document.createElement("a");$.classList.add("filename"),$.innerText=`${this._labelService.getUriBasenameLabel(V.resource)}(${V.startLineNumber}, ${V.startColumn}): `,$.title=this._labelService.getUriLabel(V.resource),this._relatedDiagnostics.set($,V);const X=document.createElement("span");X.innerText=V.message,H.appendChild($),H.appendChild(X),this._lines+=1,U.appendChild(H)}}const le=this._editor.getOption(49),te=Math.ceil(le.typicalFullwidthCharacterWidth*this._longestLineLength*.75),Y=le.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:te,scrollHeight:Y})}layout(x,F){this._scrollable.getDomNode().style.height=`${x}px`,this._scrollable.getDomNode().style.width=`${F}px`,this._scrollable.setScrollDimensions({width:F,height:x})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(x){let F="";switch(x.severity){case s.MarkerSeverity.Error:F=i.localize(0,null);break;case s.MarkerSeverity.Warning:F=i.localize(1,null);break;case s.MarkerSeverity.Info:F=i.localize(2,null);break;case s.MarkerSeverity.Hint:F=i.localize(3,null);break}let B=i.localize(4,null,F,x.startLineNumber+":"+x.startColumn);const z=this._editor.getModel();return z&&x.startLineNumber<=z.getLineCount()&&x.startLineNumber>=1&&(B=`${z.getLineContent(x.startLineNumber)}, ${B}`),B}}let g=class sn extends o.PeekViewWidget{constructor(x,F,B,z,j,R,Z){super(x,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},j),this._themeService=F,this._openerService=B,this._menuService=z,this._contextKeyService=R,this._labelService=Z,this._callOnDispose=new m.DisposableStore,this._onDidSelectRelatedInformation=new _.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=s.MarkerSeverity.Warning,this._backgroundColor=D.Color.white,this._applyTheme(F.getColorTheme()),this._callOnDispose.add(F.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(x){this._backgroundColor=x.getColor(N);let F=E,B=I;this._severity===s.MarkerSeverity.Warning?(F=T,B=P):this._severity===s.MarkerSeverity.Info&&(F=A,B=M);const z=x.getColor(F),j=x.getColor(B);this.style({arrowColor:z,frameColor:z,headerBackgroundColor:j,primaryHeadingColor:x.getColor(o.peekViewTitleForeground),secondaryHeadingColor:x.getColor(o.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(x){super._fillHead(x),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(z=>this.editor.focus()));const F=[],B=this._menuService.createMenu(sn.TitleMenu,this._contextKeyService);(0,t.createAndFillInActionBarActions)(B,void 0,F),this._actionbarWidget.push(F,{label:!1,icon:!0,index:0}),B.dispose()}_fillTitleIcon(x){this._icon=y.append(x,y.$(""))}_fillBody(x){this._parentContainer=x,x.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),x.appendChild(this._container),this._message=new b(this._container,this.editor,F=>this._onDidSelectRelatedInformation.fire(F),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(x,F,B){this._container.classList.remove("stale"),this._message.update(x),this._severity=x.severity,this._applyTheme(this._themeService.getColorTheme());const z=v.Range.lift(x),j=this.editor.getPosition(),R=j&&z.containsPosition(j)?j:z.getStartPosition();super.show(R,this.computeRequiredHeight());const Z=this.editor.getModel();if(Z){const se=B>1?i.localize(5,null,F,B):i.localize(6,null,F,B);this.setTitle((0,S.basename)(Z.uri),se)}this._icon.className=`codicon ${a.SeverityIcon.className(s.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(R,0),this.editor.focus()}updateMarker(x){this._container.classList.remove("stale"),this._message.update(x)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(x,F){super._doLayoutBody(x,F),this._heightInPixel=x,this._message.layout(x,F),this._container.style.height=`${x}px`}_onWidth(x){this._message.layout(this._heightInPixel,x)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};e.MarkerNavigationWidget=g,g.TitleMenu=new n.MenuId("gotoErrorTitleMenu"),e.MarkerNavigationWidget=g=Ne([fe(1,c.IThemeService),fe(2,u.IOpenerService),fe(3,n.IMenuService),fe(4,l.IInstantiationService),fe(5,r.IContextKeyService),fe(6,h.ILabelService)],g);const p=(0,d.oneOf)(d.editorErrorForeground,d.editorErrorBorder),C=(0,d.oneOf)(d.editorWarningForeground,d.editorWarningBorder),w=(0,d.oneOf)(d.editorInfoForeground,d.editorInfoBorder),E=(0,d.registerColor)("editorMarkerNavigationError.background",{dark:p,light:p,hcDark:d.contrastBorder,hcLight:d.contrastBorder},i.localize(7,null)),I=(0,d.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,d.transparent)(E,.1),light:(0,d.transparent)(E,.1),hcDark:null,hcLight:null},i.localize(8,null)),T=(0,d.registerColor)("editorMarkerNavigationWarning.background",{dark:C,light:C,hcDark:d.contrastBorder,hcLight:d.contrastBorder},i.localize(9,null)),P=(0,d.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,d.transparent)(T,.1),light:(0,d.transparent)(T,.1),hcDark:"#0C141F",hcLight:(0,d.transparent)(T,.2)},i.localize(10,null)),A=(0,d.registerColor)("editorMarkerNavigationInfo.background",{dark:w,light:w,hcDark:d.contrastBorder,hcLight:d.contrastBorder},i.localize(11,null)),M=(0,d.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,d.transparent)(A,.1),light:(0,d.transparent)(A,.1),hcDark:null,hcLight:null},i.localize(12,null)),N=(0,d.registerColor)("editorMarkerNavigation.background",{dark:d.editorBackground,light:d.editorBackground,hcDark:d.editorBackground,hcLight:d.editorBackground},i.localize(13,null))}),define(J[365],ee([1,0,26,2,16,33,11,5,20,757,655,29,14,8,63,891]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let l=class ti{static get(p){return p.getContribution(ti.ID)}constructor(p,C,w,E,I){this._markerNavigationService=C,this._contextKeyService=w,this._editorService=E,this._instantiationService=I,this._sessionDispoables=new k.DisposableStore,this._editor=p,this._widgetVisible=c.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(p){if(this._model&&this._model.matches(p))return this._model;let C=!1;return this._model&&(C=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(p),C&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(r.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(w=>{var E,I,T;(!(!((E=this._model)===null||E===void 0)&&E.selected)||!m.Range.containsPosition((I=this._model)===null||I===void 0?void 0:I.selected.marker,w.position))&&((T=this._model)===null||T===void 0||T.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const w=this._model.find(this._editor.getModel().uri,this._widget.position);w?this._widget.updateMarker(w.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(w=>{this._editorService.openCodeEditor({resource:w.resource,options:{pinned:!0,revealIfOpened:!0,selection:m.Range.lift(w).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(p=!0){this._cleanUp(),p&&this._editor.focus()}showAtMarker(p){if(this._editor.hasModel()){const C=this._getOrCreateModel(this._editor.getModel().uri);C.resetIndex(),C.move(!0,this._editor.getModel(),new _.Position(p.startLineNumber,p.startColumn)),C.selected&&this._widget.showAtMarker(C.selected.marker,C.selected.index,C.selected.total)}}nagivate(p,C){var w,E;return Le(this,void 0,void 0,function*(){if(this._editor.hasModel()){const I=this._getOrCreateModel(C?void 0:this._editor.getModel().uri);if(I.move(p,this._editor.getModel(),this._editor.getPosition()),!I.selected)return;if(I.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const T=yield this._editorService.openCodeEditor({resource:I.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:I.selected.marker}},this._editor);T&&((w=ti.get(T))===null||w===void 0||w.close(),(E=ti.get(T))===null||E===void 0||E.nagivate(p,C))}else this._widget.showAtMarker(I.selected.marker,I.selected.index,I.selected.total)}})}};e.MarkerController=l,l.ID="editor.contrib.markerController",e.MarkerController=l=Ne([fe(1,f.IMarkerNavigationService),fe(2,i.IContextKeyService),fe(3,D.ICodeEditorService),fe(4,t.IInstantiationService)],l);class h extends L.EditorAction{constructor(p,C,w){super(w),this._next=p,this._multiFile=C}run(p,C){var w;return Le(this,void 0,void 0,function*(){C.hasModel()&&((w=l.get(C))===null||w===void 0||w.nagivate(this._next,this._multiFile))})}}class s extends h{constructor(){super(!0,!1,{id:s.ID,label:s.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:r.MarkerNavigationWidget.TitleMenu,title:s.LABEL,icon:(0,n.registerIcon)("marker-navigation-next",y.Codicon.arrowDown,v.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=s,s.ID="editor.action.marker.next",s.LABEL=v.localize(0,null);class u extends h{constructor(){super(!1,!1,{id:u.ID,label:u.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:r.MarkerNavigationWidget.TitleMenu,title:u.LABEL,icon:(0,n.registerIcon)("marker-navigation-previous",y.Codicon.arrowUp,v.localize(3,null)),group:"navigation",order:2}})}}u.ID="editor.action.marker.prev",u.LABEL=v.localize(2,null);class a extends h{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:v.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:o.MenuId.MenubarGoMenu,title:v.localize(5,null),group:"6_problem_nav",order:1}})}}class d extends h{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:v.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:o.MenuId.MenubarGoMenu,title:v.localize(7,null),group:"6_problem_nav",order:2}})}}(0,L.registerEditorContribution)(l.ID,l,4),(0,L.registerEditorAction)(s),(0,L.registerEditorAction)(u),(0,L.registerEditorAction)(a),(0,L.registerEditorAction)(d);const c=new i.RawContextKey("markersNavigationVisible",!1),b=L.EditorCommand.bindToContribution(l.get);(0,L.registerEditorCommand)(new b({id:"closeMarkersNavigation",precondition:c,handler:g=>g.close(),kbOpts:{weight:100+50,kbExpr:S.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(J[892],ee([1,0,7,308,37,6,2,54,43,165,5,39,31,77,41,69,815,139,661,8,34,161,193,23,194,158,442]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class C{constructor(P,A){this._editor=P,this._model=A,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new _.DisposableStore,this._callOnModelChange=new _.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const P=this._editor.getModel();if(P){for(const A of this._model.references)if(A.uri.toString()===P.uri.toString()){this._addDecorations(A.parent);return}}}_addDecorations(P){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const A=[],M=[];for(let N=0,O=P.children.length;N<O;N++){const x=P.children[N];this._decorationIgnoreSet.has(x.id)||x.uri.toString()===this._editor.getModel().uri.toString()&&(A.push({range:x.range,options:C.DecorationOptions}),M.push(N))}this._editor.changeDecorations(N=>{const O=N.deltaDecorations([],A);for(let x=0;x<O.length;x++)this._decorations.set(O[x],P.children[M[x]])})}_onDecorationChanged(){const P=[],A=this._editor.getModel();if(A){for(const[M,N]of this._decorations){const O=A.getDecorationRange(M);if(!O)continue;let x=!1;if(!v.Range.equalsRange(O,N.range)){if(v.Range.spansMultipleLines(O))x=!0;else{const F=N.range.endColumn-N.range.startColumn,B=O.endColumn-O.startColumn;F!==B&&(x=!0)}x?(this._decorationIgnoreSet.add(N.id),P.push(M)):N.range=O}}for(let M=0,N=P.length;M<N;M++)this._decorations.delete(P[M]);this._editor.removeDecorations(P)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}C.DecorationOptions=o.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class w{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(P){let A,M;try{const N=JSON.parse(P);A=N.ratio,M=N.heightInLines}catch{}return{ratio:A||.7,heightInLines:M||18}}}e.LayoutData=w;class E extends c.WorkbenchAsyncDataTree{}let I=class extends h.PeekViewWidget{constructor(P,A,M,N,O,x,F,B,z,j,R,Z){super(P,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},x),this._defaultTreeKeyboardSupport=A,this.layoutData=M,this._textModelResolverService=O,this._instantiationService=x,this._peekViewService=F,this._uriLabel=B,this._undoRedoService=z,this._keybindingService=j,this._languageService=R,this._languageConfigurationService=Z,this._disposeOnNewModel=new _.DisposableStore,this._callOnDispose=new _.DisposableStore,this._onDidSelectReference=new D.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new y.Dimension(0,0),this._applyTheme(N.getColorTheme()),this._callOnDispose.add(N.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(P,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,_.dispose)(this._preview),(0,_.dispose)(this._previewNotAvailableMessage),(0,_.dispose)(this._tree),(0,_.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(P){const A=P.getColor(h.peekViewBorder)||L.Color.transparent;this.style({arrowColor:A,frameColor:A,headerBackgroundColor:P.getColor(h.peekViewTitleBackground)||L.Color.transparent,primaryHeadingColor:P.getColor(h.peekViewTitleForeground),secondaryHeadingColor:P.getColor(h.peekViewTitleInfoForeground)})}show(P){super.show(P,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(P){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:P.ctrlKey||P.metaKey||P.altKey?"side":"open",source:"title"})}_fillBody(P){this.setCssClass("reference-zone-widget"),this._messageContainer=y.append(P,y.$("div.messages")),y.hide(this._messageContainer),this._splitView=new k.SplitView(P,{orientation:1}),this._previewContainer=y.append(P,y.$("div.preview.inline"));const A={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(f.EmbeddedCodeEditorWidget,this._previewContainer,A,{},this.editor),y.hide(this._previewContainer),this._previewNotAvailableMessage=new o.TextModel(s.localize(0,null),t.PLAINTEXT_LANGUAGE_ID,o.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=y.append(P,y.$("div.ref-tree.inline"));const M={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new l.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(l.StringRepresentationProvider),identityProvider:new l.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:h.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(y.addStandardDisposableListener(this._treeContainer,"keydown",O=>{O.equals(9)&&(this._keybindingService.dispatchEvent(O,O.target),O.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new l.Delegate,[this._instantiationService.createInstance(l.FileReferencesRenderer),this._instantiationService.createInstance(l.OneReferenceRenderer)],this._instantiationService.createInstance(l.DataSource),M),this._splitView.addView({onDidChange:D.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:O=>{this._preview.layout({height:this._dim.height,width:O})}},k.Sizing.Distribute),this._splitView.addView({onDidChange:D.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:O=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${O}px`,this._tree.layout(this._dim.height,O)}},k.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const N=(O,x)=>{O instanceof p.OneReference&&(x==="show"&&this._revealReference(O,!1),this._onDidSelectReference.fire({element:O,kind:x,source:"tree"}))};this._tree.onDidOpen(O=>{O.sideBySide?N(O.element,"side"):O.editorOptions.pinned?N(O.element,"goto"):N(O.element,"show")}),y.hide(this._treeContainer)}_onWidth(P){this._dim&&this._doLayoutBody(this._dim.height,P)}_doLayoutBody(P,A){super._doLayoutBody(P,A),this._dim=new y.Dimension(A,P),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(A),this._splitView.resizeView(0,A*this.layoutData.ratio)}setSelection(P){return this._revealReference(P,!0).then(()=>{this._model&&(this._tree.setSelection([P]),this._tree.setFocus([P]))})}setModel(P){return this._disposeOnNewModel.clear(),this._model=P,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=s.localize(1,null),y.show(this._messageContainer),Promise.resolve(void 0)):(y.hide(this._messageContainer),this._decorationsManager=new C(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(P=>this._tree.rerender(P))),this._disposeOnNewModel.add(this._preview.onMouseDown(P=>{const{event:A,target:M}=P;if(A.detail!==2)return;const N=this._getFocusedReference();N&&this._onDidSelectReference.fire({element:{uri:N.uri,range:M.range},kind:A.ctrlKey||A.metaKey||A.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),y.show(this._treeContainer),y.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[P]=this._tree.getFocus();if(P instanceof p.OneReference)return P;if(P instanceof p.FileReferences&&P.children.length>0)return P.children[0]}revealReference(P){return Le(this,void 0,void 0,function*(){yield this._revealReference(P,!1),this._onDidSelectReference.fire({element:P,kind:"goto",source:"tree"})})}_revealReference(P,A){return Le(this,void 0,void 0,function*(){if(this._revealedReference===P)return;this._revealedReference=P,P.uri.scheme!==m.Schemas.inMemory?this.setTitle((0,S.basenameOrAuthority)(P.uri),this._uriLabel.getUriLabel((0,S.dirname)(P.uri))):this.setTitle(s.localize(2,null));const M=this._textModelResolverService.createModelReference(P.uri);this._tree.getInput()===P.parent?this._tree.reveal(P):(A&&this._tree.reveal(P.parent),yield this._tree.expand(P.parent),this._tree.reveal(P));const N=yield M;if(!this._model){N.dispose();return}(0,_.dispose)(this._previewModelReference);const O=N.object;if(O){const x=this._preview.getModel()===O.textEditorModel?0:1,F=v.Range.lift(P.range).collapseToStart();this._previewModelReference=N,this._preview.setModel(O.textEditorModel),this._preview.setSelection(F),this._preview.revealRangeInCenter(F,x)}else this._preview.setModel(this._previewNotAvailableMessage),N.dispose()})}};e.ReferenceWidget=I,e.ReferenceWidget=I=Ne([fe(3,b.IThemeService),fe(4,r.ITextModelService),fe(5,u.IInstantiationService),fe(6,h.IPeekViewService),fe(7,d.ILabelService),fe(8,g.IUndoRedoService),fe(9,a.IKeybindingService),fe(10,n.ILanguageService),fe(11,i.ILanguageConfigurationService)],I)}),define(J[366],ee([1,0,13,12,64,2,33,11,5,139,659,25,28,14,8,118,193,44,89,158,892]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new t.RawContextKey("referenceSearchVisible",!1,v.localize(0,null));let d=class bi{static get(g){return g.getContribution(bi.ID)}constructor(g,p,C,w,E,I,T,P){this._defaultTreeKeyboardSupport=g,this._editor=p,this._editorService=w,this._notificationService=E,this._instantiationService=I,this._storageService=T,this._configurationService=P,this._disposables=new D.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(C)}dispose(){var g,p;this._referenceSearchVisible.reset(),this._disposables.dispose(),(g=this._widget)===null||g===void 0||g.dispose(),(p=this._model)===null||p===void 0||p.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(g,p,C){let w;if(this._widget&&(w=this._widget.position),this.closeWidget(),w&&g.containsPosition(w))return;this._peekMode=C,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const E="peekViewLayout",I=a.LayoutData.fromJSON(this._storageService.get(E,0,"{}"));this._widget=this._instantiationService.createInstance(a.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,I),this._widget.setTitle(v.localize(1,null)),this._widget.show(g),this._disposables.add(this._widget.onDidClose(()=>{p.cancel(),this._widget&&(this._storageService.store(E,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(P=>{const{element:A,kind:M}=P;if(A)switch(M){case"open":(P.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(A,!1,!1);break;case"side":this.openReference(A,!0,!1);break;case"goto":C?this._gotoReference(A,!0):this.openReference(A,!1,!0);break}}));const T=++this._requestIdPool;p.then(P=>{var A;if(T!==this._requestIdPool||!this._widget){P.dispose();return}return(A=this._model)===null||A===void 0||A.dispose(),this._model=P,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(v.localize(2,null,this._model.title,this._model.references.length));const M=this._editor.getModel().uri,N=new m.Position(g.startLineNumber,g.startColumn),O=this._model.nearestReference(M,N);if(O)return this._widget.setSelection(O).then(()=>{this._widget&&this._editor.getOption(85)==="editor"&&this._widget.focusOnPreviewEditor()})}})},P=>{this._notificationService.error(P)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(g){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const p=this._widget.position;if(!p)return;const C=this._model.nearestReference(this._editor.getModel().uri,p);if(!C)return;const w=this._model.nextOrPreviousReference(C,g),E=this._editor.hasTextFocus(),I=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(w),yield this._gotoReference(w,!1),E?this._editor.focus():this._widget&&I&&this._widget.focusOnPreviewEditor()})}revealReference(g){return Le(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(g))})}closeWidget(g=!0){var p,C;(p=this._widget)===null||p===void 0||p.dispose(),(C=this._model)===null||C===void 0||C.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,g&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(g,p){var C;(C=this._widget)===null||C===void 0||C.hide(),this._ignoreModelChangeEvent=!0;const w=S.Range.lift(g.range).collapseToStart();return this._editorService.openCodeEditor({resource:g.uri,options:{selection:w,selectionSource:"code.jump",pinned:p}},this._editor).then(E=>{var I;if(this._ignoreModelChangeEvent=!1,!E||!this._widget){this.closeWidget();return}if(this._editor===E)this._widget.show(w),this._widget.focusOnReferenceTree();else{const T=bi.get(E),P=this._model.clone();this.closeWidget(),E.focus(),T?.toggleWidget(w,(0,y.createCancelablePromise)(A=>Promise.resolve(P)),(I=this._peekMode)!==null&&I!==void 0?I:!1)}},E=>{this._ignoreModelChangeEvent=!1,(0,k.onUnexpectedError)(E)})}openReference(g,p,C){p||this.closeWidget();const{uri:w,range:E}=g;this._editorService.openCodeEditor({resource:w,options:{selection:E,selectionSource:"code.jump",pinned:C}},this._editor,p)}};e.ReferencesController=d,d.ID="editor.contrib.referencesController",e.ReferencesController=d=Ne([fe(2,t.IContextKeyService),fe(3,_.ICodeEditorService),fe(4,h.INotificationService),fe(5,n.IInstantiationService),fe(6,s.IStorageService),fe(7,i.IConfigurationService)],d);function c(b,g){const p=(0,f.getOuterEditor)(b);if(!p)return;const C=d.get(p);C&&g(C)}r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,L.KeyChord)(2089,60),when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,f.PeekContext.inPeekEditor),handler(b){c(b,g=>{g.changeFocusBetweenPreviewAndReferences()})}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,f.PeekContext.inPeekEditor),handler(b){c(b,g=>{g.goToNextOrPreviousReference(!0)})}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,f.PeekContext.inPeekEditor),handler(b){c(b,g=>{g.goToNextOrPreviousReference(!1)})}}),o.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),o.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),o.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),o.CommandsRegistry.registerCommand("closeReferenceSearch",b=>c(b,g=>g.closeWidget())),r.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:t.ContextKeyExpr.and(f.PeekContext.inPeekEditor,t.ContextKeyExpr.not("config.editor.stablePeek"))}),r.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,t.ContextKeyExpr.not("config.editor.stablePeek"))}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,l.WorkbenchListFocusContextKey,l.WorkbenchTreeElementCanCollapse.negate(),l.WorkbenchTreeElementCanExpand.negate()),handler(b){var g;const C=(g=b.get(l.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(C)&&C[0]instanceof u.OneReference&&c(b,w=>w.revealReference(C[0]))}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,l.WorkbenchListFocusContextKey,l.WorkbenchTreeElementCanCollapse.negate(),l.WorkbenchTreeElementCanExpand.negate()),handler(b){var g;const C=(g=b.get(l.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(C)&&C[0]instanceof u.OneReference&&c(b,w=>w.openReference(C[0],!0,!0))}}),o.CommandsRegistry.registerCommand("openReference",b=>{var g;const C=(g=b.get(l.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(C)&&C[0]instanceof u.OneReference&&c(b,w=>w.openReference(C[0],!1,!0))})}),define(J[256],ee([1,0,48,13,64,18,22,103,179,16,33,165,11,5,20,30,366,158,795,192,139,657,29,25,14,8,44,84,248,19,51,240]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E,I,T,P){"use strict";var A,M,N,O,x,F,B,z;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,c.MenuRegistry.appendMenuItem(c.MenuId.EditorContext,{submenu:c.MenuId.EditorContextPeek,title:d.localize(0,null),group:"navigation",order:100});class j{static is(H){return!H||typeof H!="object"?!1:!!(H instanceof j||i.Position.isIPosition(H.position)&&H.model)}constructor(H,$){this.model=H,this.position=$}}e.SymbolNavigationAnchor=j;class R extends f.EditorAction2{static all(){return R._allSymbolNavigationCommands.values()}static _patchConfig(H){const $=Object.assign(Object.assign({},H),{f1:!0});if($.menu)for(const X of T.Iterable.wrap($.menu))(X.id===c.MenuId.EditorContext||X.id===c.MenuId.EditorContextPeek)&&(X.when=g.ContextKeyExpr.and(H.precondition,X.when));return $}constructor(H,$){super(R._patchConfig($)),this.configuration=H,R._allSymbolNavigationCommands.set($.id,this)}runEditorCommand(H,$,X,Q){if(!$.hasModel())return Promise.resolve(void 0);const de=H.get(C.INotificationService),ce=H.get(v.ICodeEditorService),ae=H.get(w.IEditorProgressService),ue=H.get(s.ISymbolNavigationService),q=H.get(I.ILanguageFeaturesService),W=H.get(p.IInstantiationService),K=$.getModel(),ie=$.getPosition(),ne=j.is(X)?X:new j(K,ie),oe=new m.EditorStateCancellationTokenSource($,5),re=(0,k.raceCancellation)(this._getLocationModel(q,ne.model,ne.position,oe.token),oe.token).then(ge=>Le(this,void 0,void 0,function*(){var ve;if(!ge||oe.token.isCancellationRequested)return;(0,y.alert)(ge.ariaMessage);let we;if(ge.referenceAt(K.uri,ie)){const Ie=this._getAlternativeCommand($);!R._activeAlternativeCommands.has(Ie)&&R._allSymbolNavigationCommands.has(Ie)&&(we=R._allSymbolNavigationCommands.get(Ie))}const ye=ge.references.length;if(ye===0){if(!this.configuration.muteMessage){const Ie=K.getWordAtPosition(ie);(ve=u.MessageController.get($))===null||ve===void 0||ve.showMessage(this._getNoResultFoundMessage(Ie),ie)}}else if(ye===1&&we)R._activeAlternativeCommands.add(this.desc.id),W.invokeFunction(Ie=>we.runEditorCommand(Ie,$,X,Q).finally(()=>{R._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(ce,ue,$,ge,Q)}),ge=>{de.error(ge)}).finally(()=>{oe.dispose()});return ae.showWhile(re,250),re}_onResult(H,$,X,Q,de){return Le(this,void 0,void 0,function*(){const ce=this._getGoToPreference(X);if(!(X instanceof o.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||ce==="peek"&&Q.references.length>1))this._openInPeek(X,Q,de);else{const ae=Q.firstReference(),ue=Q.references.length>1&&ce==="gotoAndPeek",q=yield this._openReference(X,H,ae,this.configuration.openToSide,!ue);ue&&q?this._openInPeek(q,Q,de):Q.dispose(),ce==="goto"&&$.put(ae)}})}_openReference(H,$,X,Q,de){return Le(this,void 0,void 0,function*(){let ce;if((0,r.isLocationLink)(X)&&(ce=X.targetSelectionRange),ce||(ce=X.range),!ce)return;const ae=yield $.openCodeEditor({resource:X.uri,options:{selection:t.Range.collapseToStart(ce),selectionRevealType:3,selectionSource:"code.jump"}},H,Q);if(ae){if(de){const ue=ae.getModel(),q=ae.createDecorationsCollection([{range:ce,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{ae.getModel()===ue&&q.clear()},350)}return ae}})}_openInPeek(H,$,X){const Q=l.ReferencesController.get(H);Q&&H.hasModel()?Q.toggleWidget(X??H.getSelection(),(0,k.createCancelablePromise)(de=>Promise.resolve($)),this.configuration.openInPeek):$.dispose()}}e.SymbolNavigationAction=R,R._allSymbolNavigationCommands=new Map,R._activeAlternativeCommands=new Set;class Z extends R{_getLocationModel(H,$,X,Q){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getDefinitionsAtPosition)(H.definitionProvider,$,X,Q),d.localize(1,null))})}_getNoResultFoundMessage(H){return H&&H.word?d.localize(2,null,H.word):d.localize(3,null)}_getAlternativeCommand(H){return H.getOption(57).alternativeDefinitionCommand}_getGoToPreference(H){return H.getOption(57).multipleDefinitions}}e.DefinitionAction=Z,(0,c.registerAction2)((A=class _i extends Z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:_i.id,title:{value:d.localize(4,null),original:"Go to Definition",mnemonicTitle:d.localize(5,null)},precondition:g.ContextKeyExpr.and(n.EditorContextKeys.hasDefinitionProvider,n.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:[{when:n.EditorContextKeys.editorTextFocus,primary:70,weight:100},{when:g.ContextKeyExpr.and(n.EditorContextKeys.editorTextFocus,P.IsWebContext),primary:2118,weight:100}],menu:[{id:c.MenuId.EditorContext,group:"navigation",order:1.1},{id:c.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),b.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",_i.id)}},A.id="editor.action.revealDefinition",A)),(0,c.registerAction2)((M=class Si extends Z{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Si.id,title:{value:d.localize(6,null),original:"Open Definition to the Side"},precondition:g.ContextKeyExpr.and(n.EditorContextKeys.hasDefinitionProvider,n.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:[{when:n.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,70),weight:100},{when:g.ContextKeyExpr.and(n.EditorContextKeys.editorTextFocus,P.IsWebContext),primary:(0,L.KeyChord)(2089,2118),weight:100}]}),b.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",Si.id)}},M.id="editor.action.revealDefinitionAside",M)),(0,c.registerAction2)((N=class wi extends Z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:wi.id,title:{value:d.localize(7,null),original:"Peek Definition"},precondition:g.ContextKeyExpr.and(n.EditorContextKeys.hasDefinitionProvider,a.PeekContext.notInPeekEditor,n.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:n.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:c.MenuId.EditorContextPeek,group:"peek",order:2}}),b.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",wi.id)}},N.id="editor.action.peekDefinition",N));class se extends R{_getLocationModel(H,$,X,Q){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getDeclarationsAtPosition)(H.declarationProvider,$,X,Q),d.localize(8,null))})}_getNoResultFoundMessage(H){return H&&H.word?d.localize(9,null,H.word):d.localize(10,null)}_getAlternativeCommand(H){return H.getOption(57).alternativeDeclarationCommand}_getGoToPreference(H){return H.getOption(57).multipleDeclarations}}(0,c.registerAction2)((O=class on extends se{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:on.id,title:{value:d.localize(11,null),original:"Go to Declaration",mnemonicTitle:d.localize(12,null)},precondition:g.ContextKeyExpr.and(n.EditorContextKeys.hasDeclarationProvider,n.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:[{id:c.MenuId.EditorContext,group:"navigation",order:1.3},{id:c.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(H){return H&&H.word?d.localize(13,null,H.word):d.localize(14,null)}},O.id="editor.action.revealDeclaration",O)),(0,c.registerAction2)(class extends se{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:d.localize(15,null),original:"Peek Declaration"},precondition:g.ContextKeyExpr.and(n.EditorContextKeys.hasDeclarationProvider,a.PeekContext.notInPeekEditor,n.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:c.MenuId.EditorContextPeek,group:"peek",order:3}})}});class le extends R{_getLocationModel(H,$,X,Q){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getTypeDefinitionsAtPosition)(H.typeDefinitionProvider,$,X,Q),d.localize(16,null))})}_getNoResultFoundMessage(H){return H&&H.word?d.localize(17,null,H.word):d.localize(18,null)}_getAlternativeCommand(H){return H.getOption(57).alternativeTypeDefinitionCommand}_getGoToPreference(H){return H.getOption(57).multipleTypeDefinitions}}(0,c.registerAction2)((x=class rn extends le{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:rn.ID,title:{value:d.localize(19,null),original:"Go to Type Definition",mnemonicTitle:d.localize(20,null)},precondition:g.ContextKeyExpr.and(n.EditorContextKeys.hasTypeDefinitionProvider,n.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:n.EditorContextKeys.editorTextFocus,primary:0,weight:100},menu:[{id:c.MenuId.EditorContext,group:"navigation",order:1.4},{id:c.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},x.ID="editor.action.goToTypeDefinition",x)),(0,c.registerAction2)((F=class an extends le{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:an.ID,title:{value:d.localize(21,null),original:"Peek Type Definition"},precondition:g.ContextKeyExpr.and(n.EditorContextKeys.hasTypeDefinitionProvider,a.PeekContext.notInPeekEditor,n.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:c.MenuId.EditorContextPeek,group:"peek",order:4}})}},F.ID="editor.action.peekTypeDefinition",F));class te extends R{_getLocationModel(H,$,X,Q){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getImplementationsAtPosition)(H.implementationProvider,$,X,Q),d.localize(22,null))})}_getNoResultFoundMessage(H){return H&&H.word?d.localize(23,null,H.word):d.localize(24,null)}_getAlternativeCommand(H){return H.getOption(57).alternativeImplementationCommand}_getGoToPreference(H){return H.getOption(57).multipleImplementations}}(0,c.registerAction2)((B=class ln extends te{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ln.ID,title:{value:d.localize(25,null),original:"Go to Implementations",mnemonicTitle:d.localize(26,null)},precondition:g.ContextKeyExpr.and(n.EditorContextKeys.hasImplementationProvider,n.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:n.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menu:[{id:c.MenuId.EditorContext,group:"navigation",order:1.45},{id:c.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},B.ID="editor.action.goToImplementation",B)),(0,c.registerAction2)((z=class dn extends te{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:dn.ID,title:{value:d.localize(27,null),original:"Peek Implementations"},precondition:g.ContextKeyExpr.and(n.EditorContextKeys.hasImplementationProvider,a.PeekContext.notInPeekEditor,n.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:n.EditorContextKeys.editorTextFocus,primary:3142,weight:100},menu:{id:c.MenuId.EditorContextPeek,group:"peek",order:5}})}},z.ID="editor.action.peekImplementation",z));class Y extends R{_getNoResultFoundMessage(H){return H?d.localize(28,null,H.word):d.localize(29,null)}_getAlternativeCommand(H){return H.getOption(57).alternativeReferenceCommand}_getGoToPreference(H){return H.getOption(57).multipleReferences}}(0,c.registerAction2)(class extends Y{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:d.localize(30,null),original:"Go to References",mnemonicTitle:d.localize(31,null)},precondition:g.ContextKeyExpr.and(n.EditorContextKeys.hasReferenceProvider,a.PeekContext.notInPeekEditor,n.EditorContextKeys.isInWalkThroughSnippet.toNegated()),keybinding:{when:n.EditorContextKeys.editorTextFocus,primary:1094,weight:100},menu:[{id:c.MenuId.EditorContext,group:"navigation",order:1.45},{id:c.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(H,$,X,Q){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getReferencesAtPosition)(H.referenceProvider,$,X,!0,Q),d.localize(32,null))})}}),(0,c.registerAction2)(class extends Y{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:d.localize(33,null),original:"Peek References"},precondition:g.ContextKeyExpr.and(n.EditorContextKeys.hasReferenceProvider,a.PeekContext.notInPeekEditor,n.EditorContextKeys.isInWalkThroughSnippet.toNegated()),menu:{id:c.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(H,$,X,Q){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(yield(0,E.getReferencesAtPosition)(H.referenceProvider,$,X,!1,Q),d.localize(34,null))})}});class U extends R{constructor(H,$,X){super(H,{id:"editor.action.goToLocation",title:{value:d.localize(35,null),original:"Go to Any Symbol"},precondition:g.ContextKeyExpr.and(a.PeekContext.notInPeekEditor,n.EditorContextKeys.isInWalkThroughSnippet.toNegated())}),this._references=$,this._gotoMultipleBehaviour=X}_getLocationModel(H,$,X,Q){return Le(this,void 0,void 0,function*(){return new h.ReferencesModel(this._references,d.localize(36,null))})}_getNoResultFoundMessage(H){return H&&d.localize(37,null,H.word)||""}_getGoToPreference(H){var $;return($=this._gotoMultipleBehaviour)!==null&&$!==void 0?$:H.getOption(57).multipleReferences}_getAlternativeCommand(){return""}}b.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:_.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(V,H,$,X,Q,de,ce)=>Le(void 0,void 0,void 0,function*(){(0,D.assertType)(_.URI.isUri(H)),(0,D.assertType)(i.Position.isIPosition($)),(0,D.assertType)(Array.isArray(X)),(0,D.assertType)(typeof Q>"u"||typeof Q=="string"),(0,D.assertType)(typeof ce>"u"||typeof ce=="boolean");const ae=V.get(v.ICodeEditorService),ue=yield ae.openCodeEditor({resource:H},ae.getFocusedCodeEditor());if((0,S.isCodeEditor)(ue))return ue.setPosition($),ue.revealPositionInCenterIfOutsideViewport($,0),ue.invokeWithinContext(q=>{const W=new class extends U{_getNoResultFoundMessage(K){return de||super._getNoResultFoundMessage(K)}}({muteMessage:!de,openInPeek:!!ce,openToSide:!1},X,Q);q.get(p.IInstantiationService).invokeFunction(W.run.bind(W),ue)})})}),b.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:_.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(V,H,$,X,Q)=>Le(void 0,void 0,void 0,function*(){V.get(b.ICommandService).executeCommand("editor.action.goToLocations",H,$,X,Q,void 0,!0)})}),b.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(V,H,$)=>{(0,D.assertType)(_.URI.isUri(H)),(0,D.assertType)(i.Position.isIPosition($));const X=V.get(I.ILanguageFeaturesService),Q=V.get(v.ICodeEditorService);return Q.openCodeEditor({resource:H},Q.getFocusedCodeEditor()).then(de=>{if(!(0,S.isCodeEditor)(de)||!de.hasModel())return;const ce=l.ReferencesController.get(de);if(!ce)return;const ae=(0,k.createCancelablePromise)(q=>(0,E.getReferencesAtPosition)(X.referenceProvider,de.getModel(),i.Position.lift($),!1,q).then(W=>new h.ReferencesModel(W,d.localize(38,null)))),ue=new t.Range($.lineNumber,$.column,$.lineNumber,$.column);return Promise.resolve(ce.toggleWidget(ue,ae,!1))})}}),b.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(J[367],ee([1,0,13,12,55,2,18,103,16,5,41,69,188,139,658,14,256,248,19,39,441]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let a=class ii{constructor(c,b,g,p){this.textModelResolverService=b,this.languageService=g,this.languageFeaturesService=p,this.toUnhook=new D.DisposableStore,this.toUnhookForKeyboard=new D.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=c,this.linkDecorations=this.editor.createDecorationsCollection();const C=new i.ClickLinkGesture(c);this.toUnhook.add(C),this.toUnhook.add(C.onMouseMoveOrRelevantKeyDown(([w,E])=>{this.startFindDefinitionFromMouse(w,(0,_.withNullAsUndefined)(E))})),this.toUnhook.add(C.onExecute(w=>{this.isEnabled(w)&&this.gotoDefinition(w.target.position,w.hasSideBySideModifier).catch(E=>{(0,k.onUnexpectedError)(E)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(C.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(c){return c.getContribution(ii.ID)}startFindDefinitionFromCursor(c){return Le(this,void 0,void 0,function*(){yield this.startFindDefinition(c),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(b=>{b&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(c,b){if(c.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(c,b)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const g=c.target.position;this.startFindDefinition(g)}startFindDefinition(c){var b;return Le(this,void 0,void 0,function*(){this.toUnhookForKeyboard.clear();const g=c?(b=this.editor.getModel())===null||b===void 0?void 0:b.getWordAtPosition(c):null;if(!g){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===g.startColumn&&this.currentWordAtPosition.endColumn===g.endColumn&&this.currentWordAtPosition.word===g.word)return;this.currentWordAtPosition=g;const p=new m.EditorState(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,y.createCancelablePromise)(E=>this.findDefinition(c,E));let C;try{C=yield this.previousPromise}catch(E){(0,k.onUnexpectedError)(E);return}if(!C||!C.length||!p.validate(this.editor)){this.removeLinkDecorations();return}const w=C[0].originSelectionRange?f.Range.lift(C[0].originSelectionRange):new f.Range(c.lineNumber,g.startColumn,c.lineNumber,g.endColumn);if(C.length>1){let E=w;for(const{originSelectionRange:I}of C)I&&(E=f.Range.plusRange(E,I));this.addDecoration(E,new L.MarkdownString().appendText(n.localize(0,null,C.length)))}else{const E=C[0];if(!E.uri)return;this.textModelResolverService.createModelReference(E.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:T}}=I,{startLineNumber:P}=E.range;if(P<1||P>T.getLineCount()){I.dispose();return}const A=this.getPreviewValue(T,P,E),M=this.languageService.guessLanguageIdByFilepathOrFirstLine(T.uri);this.addDecoration(w,A?new L.MarkdownString().appendCodeblock(M||"",A):void 0),I.dispose()})}})}getPreviewValue(c,b,g){let p=g.range;return p.endLineNumber-p.startLineNumber>=ii.MAX_SOURCE_PREVIEW_LINES&&(p=this.getPreviewRangeBasedOnIndentation(c,b)),this.stripIndentationFromPreviewRange(c,b,p)}stripIndentationFromPreviewRange(c,b,g){let C=c.getLineFirstNonWhitespaceColumn(b);for(let E=b+1;E<g.endLineNumber;E++){const I=c.getLineFirstNonWhitespaceColumn(E);C=Math.min(C,I)}return c.getValueInRange(g).replace(new RegExp(`^\\s{${C-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(c,b){const g=c.getLineFirstNonWhitespaceColumn(b),p=Math.min(c.getLineCount(),b+ii.MAX_SOURCE_PREVIEW_LINES);let C=b+1;for(;C<p;C++){const w=c.getLineFirstNonWhitespaceColumn(C);if(g===w)break}return new f.Range(b,1,C+1,1)}addDecoration(c,b){const g={range:c,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:b}};this.linkDecorations.set([g])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(c,b){var g;return this.editor.hasModel()&&c.isLeftClick&&c.isNoneOrSingleMouseDown&&c.target.type===6&&!(((g=c.target.detail.injectedText)===null||g===void 0?void 0:g.options)instanceof u.ModelDecorationInjectedTextOptions)&&(c.hasTriggerModifier||(b?b.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(c,b){const g=this.editor.getModel();return g?(0,h.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,g,c,b):Promise.resolve(null)}gotoDefinition(c,b){return this.editor.setPosition(c),this.editor.invokeWithinContext(g=>{const p=!b&&this.editor.getOption(86)&&!this.isInPeekEditor(g);return new l.DefinitionAction({openToSide:b,openInPeek:p,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(g)})}isInPeekEditor(c){const b=c.get(r.IContextKeyService);return t.PeekContext.inPeekEditor.getValue(b)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};e.GotoDefinitionAtPositionEditorContribution=a,a.ID="editor.contrib.gotodefinitionatposition",a.MAX_SOURCE_PREVIEW_LINES=8,e.GotoDefinitionAtPositionEditorContribution=a=Ne([fe(1,o.ITextModelService),fe(2,v.ILanguageService),fe(3,s.ILanguageFeaturesService)],a),(0,S.registerEditorContribution)(a.ID,a,2)}),define(J[893],ee([1,0,7,15,13,12,2,43,5,19,235,138,251,113,365,666,97,56,84]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const u=y.$;class a{constructor(g,p,C){this.owner=g,this.range=p,this.marker=C}isValidForHoverAnchor(g){return g.type===1&&this.range.startColumn<=g.range.startColumn&&this.range.endColumn>=g.range.endColumn}}e.MarkerHover=a;const d={type:1,filter:{include:t.CodeActionKind.QuickFix},triggerAction:t.CodeActionTriggerSource.QuickFixHover};let c=class{constructor(g,p,C,w){this._editor=g,this._markerDecorationsService=p,this._openerService=C,this._languageFeaturesService=w,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(g,p){if(!this._editor.hasModel()||g.type!==1&&!g.supportsMarkerHover)return[];const C=this._editor.getModel(),w=g.range.startLineNumber,E=C.getLineMaxColumn(w),I=[];for(const T of p){const P=T.range.startLineNumber===w?T.range.startColumn:1,A=T.range.endLineNumber===w?T.range.endColumn:E,M=this._markerDecorationsService.getMarker(C.uri,T);if(!M)continue;const N=new S.Range(g.range.startLineNumber,P,g.range.startLineNumber,A);I.push(new a(this,N,M))}return I}renderHoverParts(g,p){if(!p.length)return _.Disposable.None;const C=new _.DisposableStore;p.forEach(E=>g.fragment.appendChild(this.renderMarkerHover(E,C)));const w=p.length===1?p[0]:p.sort((E,I)=>l.MarkerSeverity.compare(E.marker.severity,I.marker.severity))[0];return this.renderMarkerStatusbar(g,w,C),C}renderMarkerHover(g,p){const C=u("div.hover-row"),w=y.append(C,u("div.marker.hover-contents")),{source:E,message:I,code:T,relatedInformation:P}=g.marker;this._editor.applyFontInfo(w);const A=y.append(w,u("span"));if(A.style.whiteSpace="pre-wrap",A.innerText=I,E||T)if(T&&typeof T!="string"){const M=u("span");if(E){const F=y.append(M,u("span"));F.innerText=E}const N=y.append(M,u("a.code-link"));N.setAttribute("href",T.target.toString()),p.add(y.addDisposableListener(N,"click",F=>{this._openerService.open(T.target,{allowCommands:!0}),F.preventDefault(),F.stopPropagation()}));const O=y.append(N,u("span"));O.innerText=T.value;const x=y.append(w,M);x.style.opacity="0.6",x.style.paddingLeft="6px"}else{const M=y.append(w,u("span"));M.style.opacity="0.6",M.style.paddingLeft="6px",M.innerText=E&&T?`${E}(${T})`:E||`(${T})`}if((0,k.isNonEmptyArray)(P))for(const{message:M,resource:N,startLineNumber:O,startColumn:x}of P){const F=y.append(w,u("div"));F.style.marginTop="8px";const B=y.append(F,u("a"));B.innerText=`${(0,m.basename)(N)}(${O}, ${x}): `,B.style.cursor="pointer",p.add(y.addDisposableListener(B,"click",j=>{j.stopPropagation(),j.preventDefault(),this._openerService&&this._openerService.open(N,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:O,startColumn:x}}}).catch(D.onUnexpectedError)}));const z=y.append(F,u("span"));z.innerText=M,this._editor.applyFontInfo(z)}return C}renderMarkerStatusbar(g,p,C){if((p.marker.severity===l.MarkerSeverity.Error||p.marker.severity===l.MarkerSeverity.Warning||p.marker.severity===l.MarkerSeverity.Info)&&g.statusBar.addAction({label:r.localize(0,null),commandId:n.NextMarkerAction.ID,run:()=>{var w;g.hide(),(w=n.MarkerController.get(this._editor))===null||w===void 0||w.showAtMarker(p.marker),this._editor.focus()}}),!this._editor.getOption(89)){const w=g.statusBar.append(u("div"));this.recentMarkerCodeActionsInfo&&(l.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===l.IMarkerData.makeKey(p.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(w.textContent=r.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const E=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?_.Disposable.None:C.add((0,L.disposableTimeout)(()=>w.textContent=r.localize(2,null),200));w.textContent||(w.textContent=String.fromCharCode(160));const I=this.getCodeActions(p.marker);C.add((0,_.toDisposable)(()=>I.cancel())),I.then(T=>{if(E.dispose(),this.recentMarkerCodeActionsInfo={marker:p.marker,hasCodeActions:T.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){T.dispose(),w.textContent=r.localize(3,null);return}w.style.display="none";let P=!1;C.add((0,_.toDisposable)(()=>{P||T.dispose()})),g.statusBar.addAction({label:r.localize(4,null),commandId:o.quickFixCommandId,run:A=>{P=!0;const M=i.CodeActionController.get(this._editor),N=y.getDomNodePagePosition(A);g.hide(),M?.showCodeActions(d,T,{x:N.left,y:N.top,width:N.width,height:N.height})}})},D.onUnexpectedError)}}getCodeActions(g){return(0,L.createCancelablePromise)(p=>(0,o.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new S.Range(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn),d,s.Progress.None,p))}};e.MarkerHoverParticipant=c,e.MarkerHoverParticipant=c=Ne([fe(1,v.IMarkerDecorationsService),fe(2,h.IOpenerService),fe(3,f.ILanguageFeaturesService)],c)}),define(J[368],ee([1,0,64,2,16,5,20,41,367,363,772,83,8,56,32,23,101,249,893,253,34,664,28,48,443]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;const g=!1;let p=class cn{static get(F){return F.getContribution(cn.ID)}constructor(F,B,z,j,R){this._editor=F,this._instantiationService=B,this._openerService=z,this._languageService=j,this._keybindingService=R,this._toUnhook=new k.DisposableStore,this._hoverActivatedByColorDecoratorClick=!1,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(Z=>{Z.hasChanged(59)&&(this._unhookEvents(),this._hookEvents())})}_hookEvents(){const F=()=>this._hideWidgets(),B=this._editor.getOption(59);this._isHoverEnabled=B.enabled,this._isHoverSticky=B.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(z=>this._onEditorMouseDown(z))),this._toUnhook.add(this._editor.onMouseUp(z=>this._onEditorMouseUp(z))),this._toUnhook.add(this._editor.onMouseMove(z=>this._onEditorMouseMove(z))),this._toUnhook.add(this._editor.onKeyDown(z=>this._onKeyDown(z)))):(this._toUnhook.add(this._editor.onMouseMove(z=>this._onEditorMouseMove(z))),this._toUnhook.add(this._editor.onKeyDown(z=>this._onKeyDown(z)))),this._toUnhook.add(this._editor.onMouseLeave(z=>this._onEditorMouseLeave(z))),this._toUnhook.add(this._editor.onDidChangeModel(F)),this._toUnhook.add(this._editor.onDidScrollChange(z=>this._onEditorScrollChanged(z)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(F){(F.scrollTopChanged||F.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(F){var B;this._isMouseDown=!0;const z=F.target;if(z.type===9&&z.detail===f.ContentHoverWidget.ID){this._hoverClicked=!0;return}z.type===12&&z.detail===v.MarginHoverWidget.ID||(z.type!==12&&(this._hoverClicked=!1),!((B=this._contentWidget)===null||B===void 0)&&B.widget.isResizing||this._hideWidgets())}_onEditorMouseUp(F){this._isMouseDown=!1}_onEditorMouseLeave(F){var B,z;const j=F.event.browserEvent.relatedTarget;!((B=this._contentWidget)===null||B===void 0)&&B.widget.isResizing||!((z=this._contentWidget)===null||z===void 0)&&z.containsNode(j)||g||this._hideWidgets()}_onEditorMouseMove(F){var B,z,j,R,Z,se,le,te,Y,U,V;const H=F.target;if(!((B=this._contentWidget)===null||B===void 0)&&B.isFocused||!((z=this._contentWidget)===null||z===void 0)&&z.isResizing||this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&H.type===9&&H.detail===f.ContentHoverWidget.ID||this._isHoverSticky&&(!((j=this._contentWidget)===null||j===void 0)&&j.containsNode((R=F.event.browserEvent.view)===null||R===void 0?void 0:R.document.activeElement))&&!(!((se=(Z=F.event.browserEvent.view)===null||Z===void 0?void 0:Z.getSelection())===null||se===void 0)&&se.isCollapsed)||!this._isHoverSticky&&H.type===9&&H.detail===f.ContentHoverWidget.ID&&(!((le=this._contentWidget)===null||le===void 0)&&le.isColorPickerVisible)||this._isHoverSticky&&H.type===12&&H.detail===v.MarginHoverWidget.ID||this._isHoverSticky&&(!((te=this._contentWidget)===null||te===void 0)&&te.isVisibleFromKeyboard))return;const $=(Y=H.element)===null||Y===void 0?void 0:Y.classList.contains("colorpicker-color-decoration"),X=this._editor.getOption(145);if($&&(X==="click"&&!this._hoverActivatedByColorDecoratorClick||X==="hover"&&!this._isHoverEnabled&&!g||X==="clickAndHover"&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick)||!$&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(F)){(U=this._glyphWidget)===null||U===void 0||U.hide();return}if(H.type===2&&H.position){(V=this._contentWidget)===null||V===void 0||V.hide(),this._glyphWidget||(this._glyphWidget=new v.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(H.position.lineNumber);return}g||this._hideWidgets()}_onKeyDown(F){var B;if(!this._editor.hasModel())return;const z=this._keybindingService.softDispatch(F,this._editor.getDomNode()),j=z.kind===1||z.kind===2&&z.commandId==="editor.action.showHover"&&((B=this._contentWidget)===null||B===void 0?void 0:B.isVisible);F.keyCode!==5&&F.keyCode!==6&&F.keyCode!==57&&F.keyCode!==4&&!j&&this._hideWidgets()}_hideWidgets(){var F,B,z;g||this._isMouseDown&&this._hoverClicked&&(!((F=this._contentWidget)===null||F===void 0)&&F.isColorPickerVisible)||u.InlineSuggestionHintsContentWidget.dropDownVisible||(this._hoverActivatedByColorDecoratorClick=!1,this._hoverClicked=!1,(B=this._glyphWidget)===null||B===void 0||B.hide(),(z=this._contentWidget)===null||z===void 0||z.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(f.ContentHoverController,this._editor)),this._contentWidget}showContentHover(F,B,z,j,R=!1){this._hoverActivatedByColorDecoratorClick=R,this._getOrCreateContentWidget().startShowingAtRange(F,B,z,j)}focus(){var F;(F=this._contentWidget)===null||F===void 0||F.focus()}scrollUp(){var F;(F=this._contentWidget)===null||F===void 0||F.scrollUp()}scrollDown(){var F;(F=this._contentWidget)===null||F===void 0||F.scrollDown()}scrollLeft(){var F;(F=this._contentWidget)===null||F===void 0||F.scrollLeft()}scrollRight(){var F;(F=this._contentWidget)===null||F===void 0||F.scrollRight()}pageUp(){var F;(F=this._contentWidget)===null||F===void 0||F.pageUp()}pageDown(){var F;(F=this._contentWidget)===null||F===void 0||F.pageDown()}goToTop(){var F;(F=this._contentWidget)===null||F===void 0||F.goToTop()}goToBottom(){var F;(F=this._contentWidget)===null||F===void 0||F.goToBottom()}get isColorPickerVisible(){var F;return(F=this._contentWidget)===null||F===void 0?void 0:F.isColorPickerVisible}get isHoverVisible(){var F;return(F=this._contentWidget)===null||F===void 0?void 0:F.isVisible}dispose(){var F,B;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(F=this._glyphWidget)===null||F===void 0||F.dispose(),(B=this._contentWidget)===null||B===void 0||B.dispose()}};e.ModesHoverController=p,p.ID="editor.contrib.hover",e.ModesHoverController=p=Ne([fe(1,i.IInstantiationService),fe(2,t.IOpenerService),fe(3,m.ILanguageService),fe(4,a.IKeybindingService)],p);class C extends L.EditorAction{constructor(){super({id:"editor.action.showHover",label:d.localize(0,null),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2087),weight:100}})}run(F,B,z){var j;const R=F.get(c.IConfigurationService),Z=F.get(o.IAccessibilityService),se=F.get(a.IKeybindingService);if(!B.hasModel())return;const le=p.get(B);if(!le)return;const te=B.getPosition(),Y=new D.Range(te.lineNumber,te.column,te.lineNumber,te.column),U=B.getOption(2)===2||!!z?.focus;if(le.isHoverVisible?le.focus():le.showContentHover(Y,1,1,U),R.getValue("accessibility.verbosity.hover")&&Z.isScreenReaderOptimized()){const V=(j=se.lookupKeybinding("editor.action.accessibleView"))===null||j===void 0?void 0:j.getAriaLabel(),H=V?d.localize(1,null,V):d.localize(2,null);(0,b.status)(H)}}}class w extends L.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:d.localize(3,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(F,B){const z=p.get(B);if(!z)return;const j=B.getPosition();if(!j)return;const R=new D.Range(j.lineNumber,j.column,j.lineNumber,j.column),Z=S.GotoDefinitionAtPositionEditorContribution.get(B);if(!Z)return;Z.startFindDefinitionFromCursor(j).then(()=>{z.showContentHover(R,1,1,!0)})}}class E extends L.EditorAction{constructor(){super({id:"editor.action.scrollUpHover",label:d.localize(4,null),alias:"Scroll Up Hover",precondition:_.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:_.EditorContextKeys.hoverFocused,primary:16,weight:100}})}run(F,B){const z=p.get(B);z&&z.scrollUp()}}class I extends L.EditorAction{constructor(){super({id:"editor.action.scrollDownHover",label:d.localize(5,null),alias:"Scroll Down Hover",precondition:_.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:_.EditorContextKeys.hoverFocused,primary:18,weight:100}})}run(F,B){const z=p.get(B);z&&z.scrollDown()}}class T extends L.EditorAction{constructor(){super({id:"editor.action.scrollLeftHover",label:d.localize(6,null),alias:"Scroll Left Hover",precondition:_.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:_.EditorContextKeys.hoverFocused,primary:15,weight:100}})}run(F,B){const z=p.get(B);z&&z.scrollLeft()}}class P extends L.EditorAction{constructor(){super({id:"editor.action.scrollRightHover",label:d.localize(7,null),alias:"Scroll Right Hover",precondition:_.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:_.EditorContextKeys.hoverFocused,primary:17,weight:100}})}run(F,B){const z=p.get(B);z&&z.scrollRight()}}class A extends L.EditorAction{constructor(){super({id:"editor.action.pageUpHover",label:d.localize(8,null),alias:"Page Up Hover",precondition:_.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:_.EditorContextKeys.hoverFocused,primary:11,secondary:[528],weight:100}})}run(F,B){const z=p.get(B);z&&z.pageUp()}}class M extends L.EditorAction{constructor(){super({id:"editor.action.pageDownHover",label:d.localize(9,null),alias:"Page Down Hover",precondition:_.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:_.EditorContextKeys.hoverFocused,primary:12,secondary:[530],weight:100}})}run(F,B){const z=p.get(B);z&&z.pageDown()}}class N extends L.EditorAction{constructor(){super({id:"editor.action.goToTopHover",label:d.localize(10,null),alias:"Go To Bottom Hover",precondition:_.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:_.EditorContextKeys.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(F,B){const z=p.get(B);z&&z.goToTop()}}class O extends L.EditorAction{constructor(){super({id:"editor.action.goToBottomHover",label:d.localize(11,null),alias:"Go To Bottom Hover",precondition:_.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:_.EditorContextKeys.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(F,B){const z=p.get(B);z&&z.goToBottom()}}(0,L.registerEditorContribution)(p.ID,p,2),(0,L.registerEditorAction)(C),(0,L.registerEditorAction)(w),(0,L.registerEditorAction)(E),(0,L.registerEditorAction)(I),(0,L.registerEditorAction)(T),(0,L.registerEditorAction)(P),(0,L.registerEditorAction)(A),(0,L.registerEditorAction)(M),(0,L.registerEditorAction)(N),(0,L.registerEditorAction)(O),l.HoverParticipantRegistry.register(h.MarkdownHoverParticipant),l.HoverParticipantRegistry.register(s.MarkerHoverParticipant),(0,r.registerThemingParticipant)((x,F)=>{const B=x.getColor(n.editorHoverBorder);B&&(F.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${B.transparent(.5)}; }`),F.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${B.transparent(.5)}; }`),F.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${B.transparent(.5)}; }`))})}),define(J[894],ee([1,0,2,16,5,359,360,368,101]),function(G,e,y,k,L,D,_,m,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class f extends y.Disposable{constructor(o){super(),this._editor=o,this._register(o.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(o){const i=this._editor.getOption(145);if(i!=="click"&&i!=="clickAndHover")return;const t=o.target;if(t.type!==6||!t.detail.injectedText||t.detail.injectedText.options.attachedData!==D.ColorDecorationInjectedTextMarker||!t.range)return;const n=this._editor.getContribution(m.ModesHoverController.ID);if(n&&!n.isColorPickerVisible){const r=new L.Range(t.range.startLineNumber,t.range.startColumn+1,t.range.endLineNumber,t.range.endColumn+1);n.showContentHover(r,1,0,!1,!0)}}}e.ColorContribution=f,f.ID="editor.contrib.colorContribution",(0,k.registerEditorContribution)(f.ID,f,2),S.HoverParticipantRegistry.register(_.ColorHoverParticipant)}),define(J[369],ee([1,0,7,40,21,172,5,69,256,139,29,25,14,57,8,44]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;function l(s,u,a,d){var c;return Le(this,void 0,void 0,function*(){const b=s.get(m.ITextModelService),g=s.get(t.IContextMenuService),p=s.get(o.ICommandService),C=s.get(n.IInstantiationService),w=s.get(r.INotificationService);if(yield d.item.resolve(L.CancellationToken.None),!d.part.location)return;const E=d.part.location,I=[],T=new Set(v.MenuRegistry.getMenuItems(v.MenuId.EditorContext).map(A=>(0,v.isIMenuItem)(A)?A.command.id:(0,D.generateUuid)()));for(const A of S.SymbolNavigationAction.all())T.has(A.desc.id)&&I.push(new k.Action(A.desc.id,v.MenuItemAction.label(A.desc,{renderShortTitle:!0}),void 0,!0,()=>Le(this,void 0,void 0,function*(){const M=yield b.createModelReference(E.uri);try{const N=new S.SymbolNavigationAnchor(M.object.textEditorModel,_.Range.getStartPosition(E.range)),O=d.item.anchor.range;yield C.invokeFunction(A.runEditorCommand.bind(A),u,N,O)}finally{M.dispose()}})));if(d.part.command){const{command:A}=d.part;I.push(new k.Separator),I.push(new k.Action(A.id,A.title,void 0,!0,()=>Le(this,void 0,void 0,function*(){var M;try{yield p.executeCommand(A.id,...(M=A.arguments)!==null&&M!==void 0?M:[])}catch(N){w.notify({severity:r.Severity.Error,source:d.item.provider.displayName,message:N})}})))}const P=u.getOption(125);g.showContextMenu({domForShadowRoot:P&&(c=u.getDomNode())!==null&&c!==void 0?c:void 0,getAnchor:()=>{const A=y.getDomNodePagePosition(a);return{x:A.left,y:A.top+A.height+8}},getActions:()=>I,onHide:()=>{u.focus()},autoSelectFirstItem:!0})})}e.showGoToContextMenu=l;function h(s,u,a,d){return Le(this,void 0,void 0,function*(){const b=yield s.get(m.ITextModelService).createModelReference(d.uri);yield a.invokeWithinContext(g=>Le(this,void 0,void 0,function*(){const p=u.hasSideBySideModifier,C=g.get(i.IContextKeyService),w=f.PeekContext.inPeekEditor.getValue(C),E=!p&&a.getOption(86)&&!w;return new S.DefinitionAction({openToSide:p,openInPeek:E,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(g,new S.SymbolNavigationAnchor(b.object.textEditorModel,_.Range.getStartPosition(d.range)),_.Range.lift(d.range))})),b.dispose()})}e.goToDefinitionWithLocation=h}),define(J[370],ee([1,0,7,15,13,21,12,2,66,18,22,162,108,36,72,5,30,47,39,75,19,69,188,319,369,25,49,8,44,32,23]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E,I,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class P{constructor(){this._entries=new S.LRUCache(50)}get(B){const z=P._key(B);return this._entries.get(z)}set(B,z){const j=P._key(B);this._entries.set(j,z)}static _key(B){return`${B.uri.toString()}/${B.getVersionId()}`}}const A=(0,w.createDecorator)("IInlayHintsCache");(0,C.registerSingleton)(A,P,1);class M{constructor(B,z){this.item=B,this.index=z}get part(){const B=this.item.hint.label;return typeof B=="string"?{label:B}:B[this.index]}}e.RenderedInlayHintLabelPart=M;class N{constructor(B,z){this.part=B,this.hasTriggerModifier=z}}let O=class Li{static get(B){var z;return(z=B.getContribution(Li.ID))!==null&&z!==void 0?z:void 0}constructor(B,z,j,R,Z,se,le){this._editor=B,this._languageFeaturesService=z,this._inlayHintsCache=R,this._commandService=Z,this._notificationService=se,this._instaService=le,this._disposables=new m.DisposableStore,this._sessionDisposables=new m.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new o.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=j.for(z.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(z.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(B.onDidChangeModel(()=>this._update())),this._disposables.add(B.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(B.onDidChangeConfiguration(te=>{te.hasChanged(138)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const B=this._editor.getOption(138);if(B.enabled==="off")return;const z=this._editor.getModel();if(!z||!this._languageFeaturesService.inlayHintsProvider.has(z))return;const j=this._inlayHintsCache.get(z);j&&this._updateHintsDecorators([z.getFullModelRange()],j),this._sessionDisposables.add((0,m.toDisposable)(()=>{z.isDisposed()||this._cacheHintsForFastRestore(z)}));let R;const Z=new Set,se=new L.RunOnceScheduler(()=>Le(this,void 0,void 0,function*(){const le=Date.now();R?.dispose(!0),R=new D.CancellationTokenSource;const te=z.onWillDispose(()=>R?.cancel());try{const Y=R.token,U=yield b.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,z,this._getHintsRanges(),Y);if(se.delay=this._debounceInfo.update(z,Date.now()-le),Y.isCancellationRequested){U.dispose();return}for(const V of U.provider)typeof V.onDidChangeInlayHints=="function"&&!Z.has(V)&&(Z.add(V),this._sessionDisposables.add(V.onDidChangeInlayHints(()=>{se.isScheduled()||se.schedule()})));this._sessionDisposables.add(U),this._updateHintsDecorators(U.ranges,U.items),this._cacheHintsForFastRestore(z)}catch(Y){(0,_.onUnexpectedError)(Y)}finally{R.dispose(),te.dispose()}}),this._debounceInfo.get(z));if(this._sessionDisposables.add(se),this._sessionDisposables.add((0,m.toDisposable)(()=>R?.dispose(!0))),se.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(le=>{(le.scrollTopChanged||!se.isScheduled())&&se.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(le=>{const te=Math.max(se.delay,1250);se.schedule(te)})),B.enabled==="on")this._activeRenderMode=0;else{let le,te;B.enabled==="onUnlessPressed"?(le=0,te=1):(le=1,te=0),this._activeRenderMode=le,this._sessionDisposables.add(y.ModifierKeyEmitter.getInstance().event(Y=>{if(!this._editor.hasModel())return;const U=Y.altKey&&Y.ctrlKey&&!(Y.shiftKey||Y.metaKey)?te:le;if(U!==this._activeRenderMode){this._activeRenderMode=U;const V=this._editor.getModel(),H=this._copyInlayHintsWithCurrentAnchor(V);this._updateHintsDecorators([V.getFullModelRange()],H),se.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>se.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const B=new m.DisposableStore,z=B.add(new c.ClickLinkGesture(this._editor)),j=new m.DisposableStore;return B.add(j),B.add(z.onMouseMoveOrRelevantKeyDown(R=>{const[Z]=R,se=this._getInlayHintLabelPart(Z),le=this._editor.getModel();if(!se||!le){j.clear();return}const te=new D.CancellationTokenSource;j.add((0,m.toDisposable)(()=>te.dispose(!0))),se.item.resolve(te.token),this._activeInlayHintPart=se.part.command||se.part.location?new N(se,Z.hasTriggerModifier):void 0;const Y=le.validatePosition(se.item.hint.position).lineNumber,U=new r.Range(Y,1,Y,le.getLineMaxColumn(Y)),V=this._getInlineHintsForRange(U);this._updateHintsDecorators([U],V),j.add((0,m.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([U],V)}))})),B.add(z.onCancel(()=>j.clear())),B.add(z.onExecute(R=>Le(this,void 0,void 0,function*(){const Z=this._getInlayHintLabelPart(R);if(Z){const se=Z.part;se.location?this._instaService.invokeFunction(g.goToDefinitionWithLocation,R,this._editor,se.location):l.Command.is(se.command)&&(yield this._invokeCommand(se.command,Z.item))}}))),B}_getInlineHintsForRange(B){const z=new Set;for(const j of this._decorationsMetadata.values())B.containsRange(j.item.anchor.range)&&z.add(j.item);return Array.from(z)}_installDblClickGesture(B){return this._editor.onMouseUp(z=>Le(this,void 0,void 0,function*(){if(z.event.detail!==2)return;const j=this._getInlayHintLabelPart(z);if(j&&(z.event.preventDefault(),yield j.item.resolve(D.CancellationToken.None),(0,k.isNonEmptyArray)(j.item.hint.textEdits))){const R=j.item.hint.textEdits.map(Z=>n.EditOperation.replace(r.Range.lift(Z.range),Z.text));this._editor.executeEdits("inlayHint.default",R),B()}}))}_installContextMenu(){return this._editor.onContextMenu(B=>Le(this,void 0,void 0,function*(){if(!(B.event.target instanceof HTMLElement))return;const z=this._getInlayHintLabelPart(B);z&&(yield this._instaService.invokeFunction(g.showGoToContextMenu,this._editor,B.event.target,z))}))}_getInlayHintLabelPart(B){var z;if(B.target.type!==6)return;const j=(z=B.target.detail.injectedText)===null||z===void 0?void 0:z.options;if(j instanceof s.ModelDecorationInjectedTextOptions&&j?.attachedData instanceof M)return j.attachedData}_invokeCommand(B,z){var j;return Le(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(B.id,...(j=B.arguments)!==null&&j!==void 0?j:[])}catch(R){this._notificationService.notify({severity:E.Severity.Error,source:z.provider.displayName,message:R})}})}_cacheHintsForFastRestore(B){const z=this._copyInlayHintsWithCurrentAnchor(B);this._inlayHintsCache.set(B,z)}_copyInlayHintsWithCurrentAnchor(B){const z=new Map;for(const[j,R]of this._decorationsMetadata){if(z.has(R.item))continue;const Z=B.getDecorationRange(j);if(Z){const se=new b.InlayHintAnchor(Z,R.item.anchor.direction),le=R.item.with({anchor:se});z.set(R.item,le)}}return Array.from(z.values())}_getHintsRanges(){const z=this._editor.getModel(),j=this._editor.getVisibleRangesPlusViewportAboveBelow(),R=[];for(const Z of j.sort(r.Range.compareRangesUsingStarts)){const se=z.validateRange(new r.Range(Z.startLineNumber-30,Z.startColumn,Z.endLineNumber+30,Z.endColumn));R.length===0||!r.Range.areIntersectingOrTouching(R[R.length-1],se)?R.push(se):R[R.length-1]=r.Range.plusRange(R[R.length-1],se)}return R}_updateHintsDecorators(B,z){var j,R;const Z=[],se=(Q,de,ce,ae,ue)=>{const q={content:ce,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:de.className,cursorStops:ae,attachedData:ue};Z.push({item:Q,classNameRef:de,decoration:{range:Q.anchor.range,options:{description:"InlayHint",showIfCollapsed:Q.anchor.range.isEmpty(),collapseOnReplaceEdit:!Q.anchor.range.isEmpty(),stickiness:0,[Q.anchor.direction]:this._activeRenderMode===0?q:void 0}}})},le=(Q,de)=>{const ce=this._ruleFactory.createClassNameRef({width:`${te/3|0}px`,display:"inline-block"});se(Q,ce,"\u200A",de?h.InjectedTextCursorStops.Right:h.InjectedTextCursorStops.None)},{fontSize:te,fontFamily:Y,padding:U,isUniform:V}=this._getLayoutInfo(),H="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(H,Y);for(const Q of z){Q.hint.paddingLeft&&le(Q,!1);const de=typeof Q.hint.label=="string"?[{label:Q.hint.label}]:Q.hint.label;for(let ce=0;ce<de.length;ce++){const ae=de[ce],ue=ce===0,q=ce===de.length-1,W={fontSize:`${te}px`,fontFamily:`var(${H}), ${t.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:V?"baseline":"middle",unicodeBidi:"isolate"};(0,k.isNonEmptyArray)(Q.hint.textEdits)&&(W.cursor="default"),this._fillInColors(W,Q.hint),(ae.command||ae.location)&&((j=this._activeInlayHintPart)===null||j===void 0?void 0:j.part.item)===Q&&this._activeInlayHintPart.part.index===ce&&(W.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(W.color=(0,T.themeColorFromId)(I.editorActiveLinkForeground),W.cursor="pointer")),U&&(ue&&q?(W.padding=`1px ${Math.max(1,te/4)|0}px`,W.borderRadius=`${te/4|0}px`):ue?(W.padding=`1px 0 1px ${Math.max(1,te/4)|0}px`,W.borderRadius=`${te/4|0}px 0 0 ${te/4|0}px`):q?(W.padding=`1px ${Math.max(1,te/4)|0}px 1px 0`,W.borderRadius=`0 ${te/4|0}px ${te/4|0}px 0`):W.padding="1px 0 1px 0"),se(Q,this._ruleFactory.createClassNameRef(W),x(ae.label),q&&!Q.hint.paddingRight?h.InjectedTextCursorStops.Right:h.InjectedTextCursorStops.None,new M(Q,ce))}if(Q.hint.paddingRight&&le(Q,!0),Z.length>Li._MAX_DECORATORS)break}const $=[];for(const Q of B)for(const{id:de}of(R=this._editor.getDecorationsInRange(Q))!==null&&R!==void 0?R:[]){const ce=this._decorationsMetadata.get(de);ce&&($.push(de),ce.classNameRef.dispose(),this._decorationsMetadata.delete(de))}const X=i.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(Q=>{const de=Q.deltaDecorations($,Z.map(ce=>ce.decoration));for(let ce=0;ce<de.length;ce++){const ae=Z[ce];this._decorationsMetadata.set(de[ce],ae)}}),X.restore(this._editor)}_fillInColors(B,z){z.kind===l.InlayHintKind.Parameter?(B.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintParameterBackground),B.color=(0,T.themeColorFromId)(I.editorInlayHintParameterForeground)):z.kind===l.InlayHintKind.Type?(B.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintTypeBackground),B.color=(0,T.themeColorFromId)(I.editorInlayHintTypeForeground)):(B.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintBackground),B.color=(0,T.themeColorFromId)(I.editorInlayHintForeground))}_getLayoutInfo(){const B=this._editor.getOption(138),z=B.padding,j=this._editor.getOption(51),R=this._editor.getOption(48);let Z=B.fontSize;(!Z||Z<5||Z>j)&&(Z=j);const se=B.fontFamily||R;return{fontSize:Z,fontFamily:se,padding:z,isUniform:!z&&se===R&&Z===j}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const B of this._decorationsMetadata.values())B.classNameRef.dispose();this._decorationsMetadata.clear()}};e.InlayHintsController=O,O.ID="editor.contrib.InlayHints",O._MAX_DECORATORS=1500,e.InlayHintsController=O=Ne([fe(1,a.ILanguageFeaturesService),fe(2,u.ILanguageFeatureDebounceService),fe(3,A),fe(4,p.ICommandService),fe(5,E.INotificationService),fe(6,w.IInstantiationService)],O);function x(F){const B="\xA0";return F.replace(/[ \t]/g,B)}p.CommandsRegistry.registerCommand("_executeInlayHintProvider",(F,...B)=>Le(void 0,void 0,void 0,function*(){const[z,j]=B;(0,f.assertType)(v.URI.isUri(z)),(0,f.assertType)(r.Range.isIRange(j));const{inlayHintsProvider:R}=F.get(a.ILanguageFeaturesService),Z=yield F.get(d.ITextModelService).createModelReference(z);try{const se=yield b.InlayHintsFragments.create(R,Z.object.textEditorModel,[r.Range.lift(j)],D.CancellationToken.None),le=se.items.map(te=>te.hint);return setTimeout(()=>se.dispose(),0),le}finally{Z.dispose()}}))});var Dt=this&&this.__asyncValues||function(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=G[Symbol.asyncIterator],y;return e?e.call(G):(G=typeof __values=="function"?__values(G):G[Symbol.iterator](),y={},k("next"),k("throw"),k("return"),y[Symbol.asyncIterator]=function(){return this},y);function k(D){y[D]=G[D]&&function(_){return new Promise(function(m,S){_=G[D](_),L(m,S,_.done,_.value)})}}function L(D,_,m,S){Promise.resolve(S).then(function(f){D({value:f,done:m})},_)}};define(J[895],ee([1,0,13,55,11,39,101,41,69,348,249,370,28,56,19,669,17,319,15]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class u extends _.HoverForeignElementAnchor{constructor(c,b,g,p){super(10,b,c.item.anchor.range,g,p,!0),this.part=c}}let a=class extends v.MarkdownHoverParticipant{constructor(c,b,g,p,C,w){super(c,b,g,p,w),this._resolverService=C,this.hoverOrdinal=6}suggestHoverAnchor(c){var b;if(!o.InlayHintsController.get(this._editor)||c.target.type!==6)return null;const p=(b=c.target.detail.injectedText)===null||b===void 0?void 0:b.options;return p instanceof D.ModelDecorationInjectedTextOptions&&p.attachedData instanceof o.RenderedInlayHintLabelPart?new u(p.attachedData,this,c.event.posx,c.event.posy):null}computeSync(){return[]}computeAsync(c,b,g){return c instanceof u?new y.AsyncIterableObject(p=>Le(this,void 0,void 0,function*(){var C,w,E,I;const{part:T}=c;if(yield T.item.resolve(g),g.isCancellationRequested)return;let P;typeof T.item.hint.tooltip=="string"?P=new k.MarkdownString().appendText(T.item.hint.tooltip):T.item.hint.tooltip&&(P=T.item.hint.tooltip),P&&p.emitOne(new v.MarkdownHover(this,c.range,[P],!1,0)),(0,s.isNonEmptyArray)(T.item.hint.textEdits)&&p.emitOne(new v.MarkdownHover(this,c.range,[new k.MarkdownString().appendText((0,r.localize)(0,null))],!1,10001));let A;if(typeof T.part.tooltip=="string"?A=new k.MarkdownString().appendText(T.part.tooltip):T.part.tooltip&&(A=T.part.tooltip),A&&p.emitOne(new v.MarkdownHover(this,c.range,[A],!1,1)),T.part.location||T.part.command){let F;const z=this._editor.getOption(76)==="altKey"?l.isMacintosh?(0,r.localize)(1,null):(0,r.localize)(2,null):l.isMacintosh?(0,r.localize)(3,null):(0,r.localize)(4,null);T.part.location&&T.part.command?F=new k.MarkdownString().appendText((0,r.localize)(5,null,z)):T.part.location?F=new k.MarkdownString().appendText((0,r.localize)(6,null,z)):T.part.command&&(F=new k.MarkdownString(`[${(0,r.localize)(7,null)}](${(0,h.asCommandLink)(T.part.command)} "${T.part.command.title}") (${z})`,{isTrusted:!0})),F&&p.emitOne(new v.MarkdownHover(this,c.range,[F],!1,1e4))}const M=yield this._resolveInlayHintLabelPartHover(T,g);try{for(var N=!0,O=Dt(M),x;x=yield O.next(),C=x.done,!C;N=!0){I=x.value,N=!1;const F=I;p.emitOne(F)}}catch(F){w={error:F}}finally{try{!N&&!C&&(E=O.return)&&(yield E.call(O))}finally{if(w)throw w.error}}})):y.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(c,b){return Le(this,void 0,void 0,function*(){if(!c.part.location)return y.AsyncIterableObject.EMPTY;const{uri:g,range:p}=c.part.location,C=yield this._resolverService.createModelReference(g);try{const w=C.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(w)?(0,f.getHover)(this._languageFeaturesService.hoverProvider,w,new L.Position(p.startLineNumber,p.startColumn),b).filter(E=>!(0,k.isEmptyMarkdownString)(E.hover.contents)).map(E=>new v.MarkdownHover(this,c.item.anchor.range,E.hover.contents,!1,2+E.ordinal)):y.AsyncIterableObject.EMPTY}finally{C.dispose()}})}};e.InlayHintsHover=a,e.InlayHintsHover=a=Ne([fe(1,m.ILanguageService),fe(2,t.IOpenerService),fe(3,i.IConfigurationService),fe(4,S.ITextModelService),fe(5,n.ILanguageFeaturesService)],a)}),define(J[896],ee([1,0,16,101,370,895]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(L.InlayHintsController.ID,L.InlayHintsController,1),k.HoverParticipantRegistry.register(D.InlayHintsHover)}),define(J[371],ee([1,0,2,19,886,885,8,57,29,14,20,188,5,248,369,11,21,31,75,7,217,58]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let c=class un extends y.Disposable{constructor(g,p,C,w,E,I,T){super(),this._editor=g,this._contextMenuService=p,this._languageFeaturesService=C,this._instaService=w,this._contextKeyService=T,this._sessionStore=new y.DisposableStore,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._stickyScrollWidget=new L.StickyScrollWidget(this._editor),this._stickyLineCandidateProvider=new D.StickyLineCandidateProvider(this._editor,C,E),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new L.StickyScrollWidgetState([],0),this._readConfiguration(),this._register(this._editor.onDidChangeConfiguration(A=>{A.hasChanged(113)&&this._readConfiguration()})),this._register(u.addDisposableListener(this._stickyScrollWidget.getDomNode(),u.EventType.CONTEXT_MENU,A=>Le(this,void 0,void 0,function*(){this._onContextMenu(A)}))),this._stickyScrollFocusedContextKey=v.EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=v.EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);const P=this._register(u.trackFocus(this._stickyScrollWidget.getDomNode()));this._register(P.onDidBlur(A=>{const M=this._stickyScrollWidget.getDomNode().clientHeight;this._positionRevealed===!1&&M===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(P.onDidFocus(A=>{this.focus()})),this._register(this._createClickLinkGesture()),this._register(u.addDisposableListener(this._stickyScrollWidget.getDomNode(),u.EventType.MOUSE_DOWN,A=>{this._onMouseDown=!0}))}static get(g){return g.getContribution(un.ID)}_disposeFocusStickyScrollStore(){var g;this._stickyScrollFocusedContextKey.set(!1),(g=this._focusDisposableStore)===null||g===void 0||g.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}if(this._stickyScrollFocusedContextKey.get()===!0)return;this._focused=!0,this._focusDisposableStore=new y.DisposableStore,this._stickyScrollFocusedContextKey.set(!0);const p=this._stickyScrollWidget.getDomNode();p.lastElementChild.focus(),this._stickyElements=p.children,this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1}focusNext(){this._focusedStickyElementIndex<this._stickyElements.length-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(g){this._focusedStickyElementIndex=g?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyElements.item(this._focusedStickyElementIndex).focus()}goToFocused(){const g=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:g[this._focusedStickyElementIndex],column:1})}_revealPosition(g){this._positionRevealed=!0,this._editor.revealPosition(g),this._editor.setSelection(i.Range.fromPositions(g)),this._editor.focus()}_createClickLinkGesture(){const g=new y.DisposableStore,p=new y.DisposableStore;g.add(p);const C=new o.ClickLinkGesture(this._editor,!0);return g.add(C),g.add(C.onMouseMoveOrRelevantKeyDown(([w,E])=>{if(!this._editor.hasModel()||!w.hasTriggerModifier){p.clear();return}const I=w.target;if(I.detail===this._stickyScrollWidget.getId()&&I.element.innerText===I.element.innerHTML){const T=I.element.innerText;if(this._stickyScrollWidget.hoverOnColumn===-1)return;const P=this._stickyScrollWidget.hoverOnLine,A=this._stickyScrollWidget.hoverOnColumn,M=new i.Range(P,A,P,A+T.length);if(!M.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=M,p.clear();else if(I.element.style.textDecoration==="underline")return;const N=new l.CancellationTokenSource;p.add((0,y.toDisposable)(()=>N.dispose(!0)));let O;(0,t.getDefinitionsAtPosition)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new r.Position(P,A+1),N.token).then(x=>{if(!N.token.isCancellationRequested)if(x.length!==0){this._candidateDefinitionsLength=x.length;const F=I.element;O!==F?(p.clear(),O=F,O.style.textDecoration="underline",p.add((0,y.toDisposable)(()=>{O.style.textDecoration="none"}))):O||(O=F,O.style.textDecoration="underline",p.add((0,y.toDisposable)(()=>{O.style.textDecoration="none"})))}else p.clear()})}else p.clear()})),g.add(C.onCancel(()=>{p.clear()})),g.add(C.onExecute(w=>Le(this,void 0,void 0,function*(){w.target.detail===this._stickyScrollWidget.getId()&&(w.hasTriggerModifier?(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:this._stickyScrollWidget.hoverOnLine,column:1})),this._instaService.invokeFunction(n.goToDefinitionWithLocation,w,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})):w.isRightClick||(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:this._stickyScrollWidget.hoverOnLine,column:this._stickyScrollWidget.hoverOnColumn})))}))),g}_onContextMenu(g){const p=new d.StandardMouseEvent(g);this._contextMenuService.showContextMenu({menuId:S.MenuId.StickyScrollContext,getAnchor:()=>p})}_readConfiguration(){const g=this._editor.getOption(113);if(g.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else g.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._renderStickyScroll())),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(C=>this._onTokensChange(C))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>this._renderStickyScroll())),this._enabled=!0);this._editor.getOption(66).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>this._renderStickyScroll()))}_needsUpdate(g){const p=this._stickyScrollWidget.getCurrentLines();for(const C of p)for(const w of g.ranges)if(C>=w.fromLineNumber&&C<=w.toLineNumber)return!0;return!1}_onTokensChange(g){this._needsUpdate(g)&&this._renderStickyScroll()}_onDidResize(){const g=this._editor.getLayoutInfo(),p=g.width-g.minimap.minimapCanvasOuterWidth-g.verticalScrollbarWidth;this._stickyScrollWidget.getDomNode().style.width=`${p}px`;const C=g.height/this._editor.getOption(65);this._maxStickyLines=Math.round(C*.25)}_renderStickyScroll(){if(!this._editor.hasModel())return;const g=this._editor.getModel(),p=this._stickyLineCandidateProvider.getVersionId();if(p===void 0||p===g.getVersionId())if(this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.lineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState);else if(this._stickyElements=this._stickyScrollWidget.getDomNode().children,this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState),this._focusedStickyElementIndex=this._stickyElements.length-1,this._focusedStickyElementIndex!==-1&&this._stickyElements.item(this._focusedStickyElementIndex).focus();else{const C=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState),this._stickyElements.length===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(C)||(this._focusedStickyElementIndex=this._stickyElements.length-1),this._stickyElements.item(this._focusedStickyElementIndex).focus())}}findScrollWidgetState(){const g=this._editor.getOption(65),p=Math.min(this._maxStickyLines,this._editor.getOption(113).maxLineCount),C=this._editor.getScrollTop();let w=0;const E=[],I=this._editor.getVisibleRanges();if(I.length!==0){const T=new a.StickyRange(I[0].startLineNumber,I[I.length-1].endLineNumber),P=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(T);for(const A of P){const M=A.startLineNumber,N=A.endLineNumber,O=A.nestingDepth;if(N-M>0){const x=(O-1)*g,F=O*g,B=this._editor.getBottomForLineNumber(M)-C,z=this._editor.getTopForLineNumber(N)-C,j=this._editor.getBottomForLineNumber(N)-C;if(x>z&&x<=j){E.push(M),w=j-F;break}else F>B&&F<=j&&E.push(M);if(E.length===p)break}}}return new L.StickyScrollWidgetState(E,w)}dispose(){super.dispose(),this._sessionStore.dispose()}};e.StickyScrollController=c,c.ID="store.contrib.stickyScrollController",e.StickyScrollController=c=Ne([fe(1,m.IContextMenuService),fe(2,k.ILanguageFeaturesService),fe(3,_.IInstantiationService),fe(4,h.ILanguageConfigurationService),fe(5,s.ILanguageFeatureDebounceService),fe(6,f.IContextKeyService)],c)}),define(J[897],ee([1,0,16,691,732,29,28,14,20,371]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectEditor=e.GoToStickyScrollLine=e.SelectPreviousStickyScrollLine=e.SelectNextStickyScrollLine=e.FocusStickyScroll=e.ToggleStickyScroll=void 0;class v extends D.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,k.localize)(0,null),mnemonicTitle:(0,k.localize)(1,null),original:"Toggle Sticky Scroll"},category:L.Categories.View,toggled:{condition:m.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,k.localize)(2,null),mnemonicTitle:(0,k.localize)(3,null)},menu:[{id:D.MenuId.CommandPalette},{id:D.MenuId.MenubarViewMenu,group:"5_editor",order:2},{id:D.MenuId.StickyScrollContext}]})}run(s){return Le(this,void 0,void 0,function*(){const u=s.get(_.IConfigurationService),a=!u.getValue("editor.stickyScroll.enabled");return u.updateValue("editor.stickyScroll.enabled",a)})}}e.ToggleStickyScroll=v;const o=100;class i extends y.EditorAction2{constructor(){super({id:"editor.action.focusStickyScroll",title:{value:(0,k.localize)(4,null),mnemonicTitle:(0,k.localize)(5,null),original:"Focus Sticky Scroll"},precondition:m.ContextKeyExpr.and(m.ContextKeyExpr.has("config.editor.stickyScroll.enabled"),S.EditorContextKeys.stickyScrollVisible),menu:[{id:D.MenuId.CommandPalette}]})}runEditorCommand(s,u){var a;(a=f.StickyScrollController.get(u))===null||a===void 0||a.focus()}}e.FocusStickyScroll=i;class t extends y.EditorAction2{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:{value:(0,k.localize)(6,null),original:"Select next sticky scroll line"},precondition:S.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:o,primary:18}})}runEditorCommand(s,u){var a;(a=f.StickyScrollController.get(u))===null||a===void 0||a.focusNext()}}e.SelectNextStickyScrollLine=t;class n extends y.EditorAction2{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:{value:(0,k.localize)(7,null),original:"Select previous sticky scroll line"},precondition:S.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:o,primary:16}})}runEditorCommand(s,u){var a;(a=f.StickyScrollController.get(u))===null||a===void 0||a.focusPrevious()}}e.SelectPreviousStickyScrollLine=n;class r extends y.EditorAction2{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:{value:(0,k.localize)(8,null),original:"Go to focused sticky scroll line"},precondition:S.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:o,primary:3}})}runEditorCommand(s,u){var a;(a=f.StickyScrollController.get(u))===null||a===void 0||a.goToFocused()}}e.GoToStickyScrollLine=r;class l extends y.EditorAction2{constructor(){super({id:"editor.action.selectEditor",title:{value:(0,k.localize)(9,null),original:"Select Editor"},precondition:S.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:o,primary:9}})}runEditorCommand(s,u){var a;(a=f.StickyScrollController.get(u))===null||a===void 0||a.selectEditor()}}e.SelectEditor=l}),define(J[898],ee([1,0,16,897,371,29]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(L.StickyScrollController.ID,L.StickyScrollController,1),(0,D.registerAction2)(k.ToggleStickyScroll),(0,D.registerAction2)(k.FocusStickyScroll),(0,D.registerAction2)(k.SelectPreviousStickyScrollLine),(0,D.registerAction2)(k.SelectNextStickyScrollLine),(0,D.registerAction2)(k.GoToStickyScrollLine),(0,D.registerAction2)(k.SelectEditor)}),define(J[899],ee([1,0,16,33,366,28,14,8,44,89]),function(G,e,y,k,L,D,_,m,S,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let v=class extends L.ReferencesController{constructor(i,t,n,r,l,h,s){super(!0,i,t,n,r,l,h,s)}};e.StandaloneReferencesController=v,e.StandaloneReferencesController=v=Ne([fe(1,_.IContextKeyService),fe(2,k.ICodeEditorService),fe(3,S.INotificationService),fe(4,m.IInstantiationService),fe(5,f.IStorageService),fe(6,D.IConfigurationService)],v),(0,y.registerEditorContribution)(L.ReferencesController.ID,v,4)}),define(J[900],ee([1,0,12,2,54,107,729,159,49,44,194]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const o=!1;function i(b){return b.scheme===L.Schemas.file?b.fsPath:b.path}let t=0;class n{constructor(g,p,C,w,E,I,T){this.id=++t,this.type=0,this.actual=g,this.label=g.label,this.confirmBeforeUndo=g.confirmBeforeUndo||!1,this.resourceLabel=p,this.strResource=C,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=w,this.groupOrder=E,this.sourceId=I,this.sourceOrder=T,this.isValid=!0}setValid(g){this.isValid=g}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class r{constructor(g,p){this.resourceLabel=g,this.reason=p}}class l{constructor(){this.elements=new Map}createMessage(){const g=[],p=[];for(const[,w]of this.elements)(w.reason===0?g:p).push(w.resourceLabel);const C=[];return g.length>0&&C.push(_.localize(0,null,g.join(", "))),p.length>0&&C.push(_.localize(1,null,p.join(", "))),C.join(`
`)}get size(){return this.elements.size}has(g){return this.elements.has(g)}set(g,p){this.elements.set(g,p)}delete(g){return this.elements.delete(g)}}class h{constructor(g,p,C,w,E,I,T){this.id=++t,this.type=1,this.actual=g,this.label=g.label,this.confirmBeforeUndo=g.confirmBeforeUndo||!1,this.resourceLabels=p,this.strResources=C,this.groupId=w,this.groupOrder=E,this.sourceId=I,this.sourceOrder=T,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(g,p,C){this.removedResources||(this.removedResources=new l),this.removedResources.has(p)||this.removedResources.set(p,new r(g,C))}setValid(g,p,C){C?this.invalidatedResources&&(this.invalidatedResources.delete(p),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new l),this.invalidatedResources.has(p)||this.invalidatedResources.set(p,new r(g,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class s{constructor(g,p){this.resourceLabel=g,this.strResource=p,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const g of this._past)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);for(const g of this._future)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const g=[];g.push(`* ${this.strResource}:`);for(let p=0;p<this._past.length;p++)g.push(`   * [UNDO] ${this._past[p]}`);for(let p=this._future.length-1;p>=0;p--)g.push(`   * [REDO] ${this._future[p]}`);return g.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(g,p){g.type===1?g.setValid(this.resourceLabel,this.strResource,p):g.setValid(p)}setElementsValidFlag(g,p){for(const C of this._past)p(C.actual)&&this._setElementValidFlag(C,g);for(const C of this._future)p(C.actual)&&this._setElementValidFlag(C,g)}pushElement(g){for(const p of this._future)p.type===1&&p.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(g),this.versionId++}createSnapshot(g){const p=[];for(let C=0,w=this._past.length;C<w;C++)p.push(this._past[C].id);for(let C=this._future.length-1;C>=0;C--)p.push(this._future[C].id);return new v.ResourceEditStackSnapshot(g,p)}restoreSnapshot(g){const p=g.elements.length;let C=!0,w=0,E=-1;for(let T=0,P=this._past.length;T<P;T++,w++){const A=this._past[T];C&&(w>=p||A.id!==g.elements[w])&&(C=!1,E=0),!C&&A.type===1&&A.removeResource(this.resourceLabel,this.strResource,0)}let I=-1;for(let T=this._future.length-1;T>=0;T--,w++){const P=this._future[T];C&&(w>=p||P.id!==g.elements[w])&&(C=!1,I=T),!C&&P.type===1&&P.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),I!==-1&&(this._future=this._future.slice(I+1)),this.versionId++}getElements(){const g=[],p=[];for(const C of this._past)g.push(C.actual);for(const C of this._future)p.push(C.actual);return{past:g,future:p}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(g,p){for(let C=this._past.length-1;C>=0;C--)if(this._past[C]===g){p.has(this.strResource)?this._past[C]=p.get(this.strResource):this._past.splice(C,1);break}this.versionId++}splitFutureWorkspaceElement(g,p){for(let C=this._future.length-1;C>=0;C--)if(this._future[C]===g){p.has(this.strResource)?this._future[C]=p.get(this.strResource):this._future.splice(C,1);break}this.versionId++}moveBackward(g){this._past.pop(),this._future.push(g),this.versionId++}moveForward(g){this._future.pop(),this._past.push(g),this.versionId++}}class u{constructor(g){this.editStacks=g,this._versionIds=[];for(let p=0,C=this.editStacks.length;p<C;p++)this._versionIds[p]=this.editStacks[p].versionId}isValid(){for(let g=0,p=this.editStacks.length;g<p;g++)if(this._versionIds[g]!==this.editStacks[g].versionId)return!1;return!0}}const a=new s("","");a.locked=!0;let d=class{constructor(g,p){this._dialogService=g,this._notificationService=p,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(g){for(const p of this._uriComparisonKeyComputers)if(p[0]===g.scheme)return p[1].getComparisonKey(g);return g.toString()}_print(g){console.log("------------------------------------"),console.log(`AFTER ${g}: `);const p=[];for(const C of this._editStacks)p.push(C[1].toString());console.log(p.join(`
`))}pushElement(g,p=v.UndoRedoGroup.None,C=v.UndoRedoSource.None){if(g.type===0){const w=i(g.resource),E=this.getUriComparisonKey(g.resource);this._pushElement(new n(g,w,E,p.id,p.nextOrder(),C.id,C.nextOrder()))}else{const w=new Set,E=[],I=[];for(const T of g.resources){const P=i(T),A=this.getUriComparisonKey(T);w.has(A)||(w.add(A),E.push(P),I.push(A))}E.length===1?this._pushElement(new n(g,E[0],I[0],p.id,p.nextOrder(),C.id,C.nextOrder())):this._pushElement(new h(g,E,I,p.id,p.nextOrder(),C.id,C.nextOrder()))}o&&this._print("pushElement")}_pushElement(g){for(let p=0,C=g.strResources.length;p<C;p++){const w=g.resourceLabels[p],E=g.strResources[p];let I;this._editStacks.has(E)?I=this._editStacks.get(E):(I=new s(w,E),this._editStacks.set(E,I)),I.pushElement(g)}}getLastElement(g){const p=this.getUriComparisonKey(g);if(this._editStacks.has(p)){const C=this._editStacks.get(p);if(C.hasFutureElements())return null;const w=C.getClosestPastElement();return w?w.actual:null}return null}_splitPastWorkspaceElement(g,p){const C=g.actual.split(),w=new Map;for(const E of C){const I=i(E.resource),T=this.getUriComparisonKey(E.resource),P=new n(E,I,T,0,0,0,0);w.set(P.strResource,P)}for(const E of g.strResources){if(p&&p.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(g,w)}}_splitFutureWorkspaceElement(g,p){const C=g.actual.split(),w=new Map;for(const E of C){const I=i(E.resource),T=this.getUriComparisonKey(E.resource),P=new n(E,I,T,0,0,0,0);w.set(P.strResource,P)}for(const E of g.strResources){if(p&&p.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(g,w)}}removeElements(g){const p=typeof g=="string"?g:this.getUriComparisonKey(g);this._editStacks.has(p)&&(this._editStacks.get(p).dispose(),this._editStacks.delete(p)),o&&this._print("removeElements")}setElementsValidFlag(g,p,C){const w=this.getUriComparisonKey(g);this._editStacks.has(w)&&this._editStacks.get(w).setElementsValidFlag(p,C),o&&this._print("setElementsValidFlag")}createSnapshot(g){const p=this.getUriComparisonKey(g);return this._editStacks.has(p)?this._editStacks.get(p).createSnapshot(g):new v.ResourceEditStackSnapshot(g,[])}restoreSnapshot(g){const p=this.getUriComparisonKey(g.resource);if(this._editStacks.has(p)){const C=this._editStacks.get(p);C.restoreSnapshot(g),!C.hasPastElements()&&!C.hasFutureElements()&&(C.dispose(),this._editStacks.delete(p))}o&&this._print("restoreSnapshot")}getElements(g){const p=this.getUriComparisonKey(g);return this._editStacks.has(p)?this._editStacks.get(p).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(g){if(!g)return[null,null];let p=null,C=null;for(const[w,E]of this._editStacks){const I=E.getClosestPastElement();I&&I.sourceId===g&&(!p||I.sourceOrder>p.sourceOrder)&&(p=I,C=w)}return[p,C]}canUndo(g){if(g instanceof v.UndoRedoSource){const[,C]=this._findClosestUndoElementWithSource(g.id);return!!C}const p=this.getUriComparisonKey(g);return this._editStacks.has(p)?this._editStacks.get(p).hasPastElements():!1}_onError(g,p){(0,y.onUnexpectedError)(g);for(const C of p.strResources)this.removeElements(C);this._notificationService.error(g)}_acquireLocks(g){for(const p of g.editStacks)if(p.locked)throw new Error("Cannot acquire edit stack lock");for(const p of g.editStacks)p.locked=!0;return()=>{for(const p of g.editStacks)p.locked=!1}}_safeInvokeWithLocks(g,p,C,w,E){const I=this._acquireLocks(C);let T;try{T=p()}catch(P){return I(),w.dispose(),this._onError(P,g)}return T?T.then(()=>(I(),w.dispose(),E()),P=>(I(),w.dispose(),this._onError(P,g))):(I(),w.dispose(),E())}_invokeWorkspacePrepare(g){return Le(this,void 0,void 0,function*(){if(typeof g.actual.prepareUndoRedo>"u")return k.Disposable.None;const p=g.actual.prepareUndoRedo();return typeof p>"u"?k.Disposable.None:p})}_invokeResourcePrepare(g,p){if(g.actual.type!==1||typeof g.actual.prepareUndoRedo>"u")return p(k.Disposable.None);const C=g.actual.prepareUndoRedo();return C?(0,k.isDisposable)(C)?p(C):C.then(w=>p(w)):p(k.Disposable.None)}_getAffectedEditStacks(g){const p=[];for(const C of g.strResources)p.push(this._editStacks.get(C)||a);return new u(p)}_tryToSplitAndUndo(g,p,C,w){if(p.canSplit())return this._splitPastWorkspaceElement(p,C),this._notificationService.warn(w),new c(this._undo(g,0,!0));for(const E of p.strResources)this.removeElements(E);return this._notificationService.warn(w),new c}_checkWorkspaceUndo(g,p,C,w){if(p.removedResources)return this._tryToSplitAndUndo(g,p,p.removedResources,_.localize(2,null,p.label,p.removedResources.createMessage()));if(w&&p.invalidatedResources)return this._tryToSplitAndUndo(g,p,p.invalidatedResources,_.localize(3,null,p.label,p.invalidatedResources.createMessage()));const E=[];for(const T of C.editStacks)T.getClosestPastElement()!==p&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(g,p,null,_.localize(4,null,p.label,E.join(", ")));const I=[];for(const T of C.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndUndo(g,p,null,_.localize(5,null,p.label,I.join(", "))):C.isValid()?null:this._tryToSplitAndUndo(g,p,null,_.localize(6,null,p.label))}_workspaceUndo(g,p,C){const w=this._getAffectedEditStacks(p),E=this._checkWorkspaceUndo(g,p,w,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(g,p,w,C)}_isPartOfUndoGroup(g){if(!g.groupId)return!1;for(const[,p]of this._editStacks){const C=p.getClosestPastElement();if(C){if(C===g){const w=p.getSecondClosestPastElement();if(w&&w.groupId===g.groupId)return!0}if(C.groupId===g.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(g,p,C,w){return Le(this,void 0,void 0,function*(){if(p.canSplit()&&!this._isPartOfUndoGroup(p)){let T;(function(M){M[M.All=0]="All",M[M.This=1]="This",M[M.Cancel=2]="Cancel"})(T||(T={}));const{result:P}=yield this._dialogService.prompt({type:D.default.Info,message:_.localize(7,null,p.label),buttons:[{label:_.localize(8,null,C.editStacks.length),run:()=>T.All},{label:_.localize(9,null),run:()=>T.This}],cancelButton:{run:()=>T.Cancel}});if(P===T.Cancel)return;if(P===T.This)return this._splitPastWorkspaceElement(p,null),this._undo(g,0,!0);const A=this._checkWorkspaceUndo(g,p,C,!1);if(A)return A.returnValue;w=!0}let E;try{E=yield this._invokeWorkspacePrepare(p)}catch(T){return this._onError(T,p)}const I=this._checkWorkspaceUndo(g,p,C,!0);if(I)return E.dispose(),I.returnValue;for(const T of C.editStacks)T.moveBackward(p);return this._safeInvokeWithLocks(p,()=>p.actual.undo(),C,E,()=>this._continueUndoInGroup(p.groupId,w))})}_resourceUndo(g,p,C){if(!p.isValid){g.flushAllElements();return}if(g.locked){const w=_.localize(10,null,p.label);this._notificationService.warn(w);return}return this._invokeResourcePrepare(p,w=>(g.moveBackward(p),this._safeInvokeWithLocks(p,()=>p.actual.undo(),new u([g]),w,()=>this._continueUndoInGroup(p.groupId,C))))}_findClosestUndoElementInGroup(g){if(!g)return[null,null];let p=null,C=null;for(const[w,E]of this._editStacks){const I=E.getClosestPastElement();I&&I.groupId===g&&(!p||I.groupOrder>p.groupOrder)&&(p=I,C=w)}return[p,C]}_continueUndoInGroup(g,p){if(!g)return;const[,C]=this._findClosestUndoElementInGroup(g);if(C)return this._undo(C,0,p)}undo(g){if(g instanceof v.UndoRedoSource){const[,p]=this._findClosestUndoElementWithSource(g.id);return p?this._undo(p,g.id,!1):void 0}return typeof g=="string"?this._undo(g,0,!1):this._undo(this.getUriComparisonKey(g),0,!1)}_undo(g,p=0,C){if(!this._editStacks.has(g))return;const w=this._editStacks.get(g),E=w.getClosestPastElement();if(!E)return;if(E.groupId){const[T,P]=this._findClosestUndoElementInGroup(E.groupId);if(E!==T&&P)return this._undo(P,p,C)}if((E.sourceId!==p||E.confirmBeforeUndo)&&!C)return this._confirmAndContinueUndo(g,p,E);try{return E.type===1?this._workspaceUndo(g,E,C):this._resourceUndo(w,E,C)}finally{o&&this._print("undo")}}_confirmAndContinueUndo(g,p,C){return Le(this,void 0,void 0,function*(){if((yield this._dialogService.confirm({message:_.localize(11,null,C.label),primaryButton:_.localize(12,null),cancelButton:_.localize(13,null)})).confirmed)return this._undo(g,p,!0)})}_findClosestRedoElementWithSource(g){if(!g)return[null,null];let p=null,C=null;for(const[w,E]of this._editStacks){const I=E.getClosestFutureElement();I&&I.sourceId===g&&(!p||I.sourceOrder<p.sourceOrder)&&(p=I,C=w)}return[p,C]}canRedo(g){if(g instanceof v.UndoRedoSource){const[,C]=this._findClosestRedoElementWithSource(g.id);return!!C}const p=this.getUriComparisonKey(g);return this._editStacks.has(p)?this._editStacks.get(p).hasFutureElements():!1}_tryToSplitAndRedo(g,p,C,w){if(p.canSplit())return this._splitFutureWorkspaceElement(p,C),this._notificationService.warn(w),new c(this._redo(g));for(const E of p.strResources)this.removeElements(E);return this._notificationService.warn(w),new c}_checkWorkspaceRedo(g,p,C,w){if(p.removedResources)return this._tryToSplitAndRedo(g,p,p.removedResources,_.localize(14,null,p.label,p.removedResources.createMessage()));if(w&&p.invalidatedResources)return this._tryToSplitAndRedo(g,p,p.invalidatedResources,_.localize(15,null,p.label,p.invalidatedResources.createMessage()));const E=[];for(const T of C.editStacks)T.getClosestFutureElement()!==p&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(g,p,null,_.localize(16,null,p.label,E.join(", ")));const I=[];for(const T of C.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndRedo(g,p,null,_.localize(17,null,p.label,I.join(", "))):C.isValid()?null:this._tryToSplitAndRedo(g,p,null,_.localize(18,null,p.label))}_workspaceRedo(g,p){const C=this._getAffectedEditStacks(p),w=this._checkWorkspaceRedo(g,p,C,!1);return w?w.returnValue:this._executeWorkspaceRedo(g,p,C)}_executeWorkspaceRedo(g,p,C){return Le(this,void 0,void 0,function*(){let w;try{w=yield this._invokeWorkspacePrepare(p)}catch(I){return this._onError(I,p)}const E=this._checkWorkspaceRedo(g,p,C,!0);if(E)return w.dispose(),E.returnValue;for(const I of C.editStacks)I.moveForward(p);return this._safeInvokeWithLocks(p,()=>p.actual.redo(),C,w,()=>this._continueRedoInGroup(p.groupId))})}_resourceRedo(g,p){if(!p.isValid){g.flushAllElements();return}if(g.locked){const C=_.localize(19,null,p.label);this._notificationService.warn(C);return}return this._invokeResourcePrepare(p,C=>(g.moveForward(p),this._safeInvokeWithLocks(p,()=>p.actual.redo(),new u([g]),C,()=>this._continueRedoInGroup(p.groupId))))}_findClosestRedoElementInGroup(g){if(!g)return[null,null];let p=null,C=null;for(const[w,E]of this._editStacks){const I=E.getClosestFutureElement();I&&I.groupId===g&&(!p||I.groupOrder<p.groupOrder)&&(p=I,C=w)}return[p,C]}_continueRedoInGroup(g){if(!g)return;const[,p]=this._findClosestRedoElementInGroup(g);if(p)return this._redo(p)}redo(g){if(g instanceof v.UndoRedoSource){const[,p]=this._findClosestRedoElementWithSource(g.id);return p?this._redo(p):void 0}return typeof g=="string"?this._redo(g):this._redo(this.getUriComparisonKey(g))}_redo(g){if(!this._editStacks.has(g))return;const p=this._editStacks.get(g),C=p.getClosestFutureElement();if(C){if(C.groupId){const[w,E]=this._findClosestRedoElementInGroup(C.groupId);if(C!==w&&E)return this._redo(E)}try{return C.type===1?this._workspaceRedo(g,C):this._resourceRedo(p,C)}finally{o&&this._print("redo")}}}};e.UndoRedoService=d,e.UndoRedoService=d=Ne([fe(0,m.IDialogService),fe(1,f.INotificationService)],d);class c{constructor(g){this.returnValue=g}}(0,S.registerSingleton)(v.IUndoRedoService,d,1)}),define(J[166],ee([1,0,730,92,199,22,8]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandaloneEditorWorkspace=e.STANDALONE_EDITOR_WORKSPACE_ID=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.isWorkspaceIdentifier=e.toWorkspaceIdentifier=e.UNKNOWN_EMPTY_WINDOW_WORKSPACE=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.isEmptyWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,_.createDecorator)("contextService");function m(n){const r=n;return typeof r?.id=="string"&&D.URI.isUri(r.uri)}e.isSingleFolderWorkspaceIdentifier=m;function S(n){const r=n;return typeof r?.id=="string"&&!m(n)&&!v(n)}e.isEmptyWorkspaceIdentifier=S,e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},e.UNKNOWN_EMPTY_WINDOW_WORKSPACE={id:"empty-window"};function f(n,r){if(typeof n=="string"||typeof n>"u")return typeof n=="string"?{id:(0,k.basename)(n)}:r?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:e.UNKNOWN_EMPTY_WINDOW_WORKSPACE;const l=n;return l.configuration?{id:l.id,configPath:l.configuration}:l.folders.length===1?{id:l.id,uri:l.folders[0].uri}:{id:l.id}}e.toWorkspaceIdentifier=f;function v(n){const r=n;return typeof r?.id=="string"&&D.URI.isUri(r.configPath)}e.isWorkspaceIdentifier=v;class o{constructor(r,l,h,s,u){this._id=r,this._transient=h,this._configuration=s,this._ignorePathCasing=u,this._foldersMap=L.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=l}get folders(){return this._folders}set folders(r){this._folders=r,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(r){this._configuration=r}getFolder(r){return r&&this._foldersMap.findSubstr(r)||null}updateFoldersMap(){this._foldersMap=L.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const r of this.folders)this._foldersMap.set(r.uri,r)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=o;class i{constructor(r,l){this.raw=l,this.uri=r.uri,this.index=r.index,this.name=r.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=i,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,y.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.STANDALONE_EDITOR_WORKSPACE_ID="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function t(n){return n.id===e.STANDALONE_EDITOR_WORKSPACE_ID}e.isStandaloneEditorWorkspace=t}),define(J[901],ee([1,0,7,156,40,2,17,16,20,641,29,14,57,34,28,166]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let l=class hn{static get(u){return u.getContribution(hn.ID)}constructor(u,a,d,c,b,g,p,C){this._contextMenuService=a,this._contextViewService=d,this._contextKeyService=c,this._keybindingService=b,this._menuService=g,this._configurationService=p,this._workspaceContextService=C,this._toDispose=new D.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=u,this._toDispose.add(this._editor.onContextMenu(w=>this._onContextMenu(w))),this._toDispose.add(this._editor.onMouseWheel(w=>{if(this._contextMenuIsBeingShownCount>0){const E=this._contextViewService.getContextViewElement(),I=w.srcElement;I.shadowRoot&&y.getShadowRoot(E)===I.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(w=>{this._editor.getOption(23)&&w.keyCode===58&&(w.preventDefault(),w.stopPropagation(),this.showContextMenu())}))}_onContextMenu(u){if(!this._editor.hasModel())return;if(!this._editor.getOption(23)){this._editor.focus(),u.target.position&&!this._editor.getSelection().containsPosition(u.target.position)&&this._editor.setPosition(u.target.position);return}if(u.target.type===12||u.target.type===6&&u.target.detail.injectedText)return;if(u.event.preventDefault(),u.event.stopPropagation(),u.target.type===11)return this._showScrollbarContextMenu(u.event);if(u.target.type!==6&&u.target.type!==7&&u.target.type!==1)return;if(this._editor.focus(),u.target.position){let d=!1;for(const c of this._editor.getSelections())if(c.containsPosition(u.target.position)){d=!0;break}d||this._editor.setPosition(u.target.position)}let a=null;u.target.type!==1&&(a=u.event),this.showContextMenu(a)}showContextMenu(u){if(!this._editor.getOption(23)||!this._editor.hasModel())return;const a=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?v.MenuId.SimpleEditorContext:v.MenuId.EditorContext);a.length>0&&this._doShowContextMenu(a,u)}_getMenuActions(u,a){const d=[],c=this._menuService.createMenu(a,this._contextKeyService),b=c.getActions({arg:u.uri});c.dispose();for(const g of b){const[,p]=g;let C=0;for(const w of p)if(w instanceof v.SubmenuItemAction){const E=this._getMenuActions(u,w.item.submenu);E.length>0&&(d.push(new L.SubmenuAction(w.id,w.label,E)),C++)}else d.push(w),C++;C&&d.push(new L.Separator)}return d.length&&d.pop(),d}_doShowContextMenu(u,a=null){if(!this._editor.hasModel())return;const d=this._editor.getOption(59);this._editor.updateOptions({hover:{enabled:!1}});let c=a;if(!c){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const g=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),p=y.getDomNodePagePosition(this._editor.getDomNode()),C=p.left+g.left,w=p.top+g.top+g.height;c={x:C,y:w}}const b=this._editor.getOption(125)&&!_.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:b?this._editor.getDomNode():void 0,getAnchor:()=>c,getActions:()=>u,getActionViewItem:g=>{const p=this._keybindingFor(g);if(p)return new k.ActionViewItem(g,g,{label:!0,keybinding:p.getLabel(),isMenu:!0});const C=g;return typeof C.getActionViewItem=="function"?C.getActionViewItem():new k.ActionViewItem(g,g,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:g=>this._keybindingFor(g),onHide:g=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:d})}})}_showScrollbarContextMenu(u){if(!this._editor.hasModel()||(0,r.isStandaloneEditorWorkspace)(this._workspaceContextService.getWorkspace()))return;const a=this._editor.getOption(71);let d=0;const c=w=>({id:`menu-action-${++d}`,label:w.label,tooltip:"",class:void 0,enabled:typeof w.enabled>"u"?!0:w.enabled,checked:w.checked,run:w.run}),b=(w,E)=>new L.SubmenuAction(`menu-action-${++d}`,w,E,void 0),g=(w,E,I,T,P)=>{if(!E)return c({label:w,enabled:E,run:()=>{}});const A=N=>()=>{this._configurationService.updateValue(I,N)},M=[];for(const N of P)M.push(c({label:N.label,checked:T===N.value,run:A(N.value)}));return b(w,M)},p=[];p.push(c({label:f.localize(0,null),checked:a.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!a.enabled)}})),p.push(new L.Separator),p.push(c({label:f.localize(1,null),enabled:a.enabled,checked:a.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!a.renderCharacters)}})),p.push(g(f.localize(2,null),a.enabled,"editor.minimap.size",a.size,[{label:f.localize(3,null),value:"proportional"},{label:f.localize(4,null),value:"fill"},{label:f.localize(5,null),value:"fit"}])),p.push(g(f.localize(6,null),a.enabled,"editor.minimap.showSlider",a.showSlider,[{label:f.localize(7,null),value:"mouseover"},{label:f.localize(8,null),value:"always"}]));const C=this._editor.getOption(125)&&!_.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:C?this._editor.getDomNode():void 0,getAnchor:()=>u,getActions:()=>p,onHide:w=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(u){return this._keybindingService.lookupKeybinding(u.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};e.ContextMenuController=l,l.ID="editor.contrib.contextmenu",e.ContextMenuController=l=Ne([fe(1,i.IContextMenuService),fe(2,i.IContextViewService),fe(3,o.IContextKeyService),fe(4,t.IKeybindingService),fe(5,v.IMenuService),fe(6,n.IConfigurationService),fe(7,r.IWorkspaceContextService)],l);class h extends m.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:f.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(u,a){var d;(d=l.get(a))===null||d===void 0||d.showContextMenu()}}(0,m.registerEditorContribution)(l.ID,l,2),(0,m.registerEditorAction)(h)}),define(J[372],ee([1,0,15,173,2,106,54,43,22,19,645,166]),function(G,e,y,k,L,D,_,m,S,f,v,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPasteProvidersFeature=e.DefaultDropProvidersFeature=void 0;const i=(0,v.localize)(0,null);class t{provideDocumentPasteEdits(d,c,b,g){return Le(this,void 0,void 0,function*(){const p=yield this.getEdit(b,g);return p?{id:this.id,insertText:p.insertText,label:p.label,detail:p.detail,priority:p.priority}:void 0})}provideDocumentOnDropEdits(d,c,b,g){return Le(this,void 0,void 0,function*(){const p=yield this.getEdit(b,g);return p?{id:this.id,insertText:p.insertText,label:p.label,priority:p.priority}:void 0})}}class n extends t{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[D.Mimes.text],this.pasteMimeTypes=[D.Mimes.text]}getEdit(d,c){return Le(this,void 0,void 0,function*(){const b=d.get(D.Mimes.text);if(!b||d.has(D.Mimes.uriList))return;const g=yield b.asString();return{id:this.id,priority:0,label:(0,v.localize)(1,null),detail:i,insertText:g}})}}class r extends t{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[D.Mimes.uriList],this.pasteMimeTypes=[D.Mimes.uriList]}getEdit(d,c){return Le(this,void 0,void 0,function*(){const b=yield h(d);if(!b.length||c.isCancellationRequested)return;let g=0;const p=b.map(({uri:w,originalText:E})=>w.scheme===_.Schemas.file?w.fsPath:(g++,E)).join(" ");let C;return g>0?C=b.length>1?(0,v.localize)(2,null):(0,v.localize)(3,null):C=b.length>1?(0,v.localize)(4,null):(0,v.localize)(5,null),{id:this.id,priority:0,insertText:p,label:C,detail:i}})}}let l=class extends t{constructor(d){super(),this._workspaceContextService=d,this.id="relativePath",this.dropMimeTypes=[D.Mimes.uriList],this.pasteMimeTypes=[D.Mimes.uriList]}getEdit(d,c){return Le(this,void 0,void 0,function*(){const b=yield h(d);if(!b.length||c.isCancellationRequested)return;const g=(0,y.coalesce)(b.map(({uri:p})=>{const C=this._workspaceContextService.getWorkspaceFolder(p);return C?(0,m.relativePath)(C.uri,p):void 0}));if(g.length)return{id:this.id,priority:0,insertText:g.join(" "),label:b.length>1?(0,v.localize)(6,null):(0,v.localize)(7,null),detail:i}})}};l=Ne([fe(0,o.IWorkspaceContextService)],l);function h(a){return Le(this,void 0,void 0,function*(){const d=a.get(D.Mimes.uriList);if(!d)return[];const c=yield d.asString(),b=[];for(const g of k.UriList.parse(c))try{b.push({uri:S.URI.parse(g),originalText:g})}catch{}return b})}let s=class extends L.Disposable{constructor(d,c){super(),this._register(d.documentOnDropEditProvider.register("*",new n)),this._register(d.documentOnDropEditProvider.register("*",new r)),this._register(d.documentOnDropEditProvider.register("*",new l(c)))}};e.DefaultDropProvidersFeature=s,e.DefaultDropProvidersFeature=s=Ne([fe(0,f.ILanguageFeaturesService),fe(1,o.IWorkspaceContextService)],s);let u=class extends L.Disposable{constructor(d,c){super(),this._register(d.documentPasteEditProvider.register("*",new n)),this._register(d.documentPasteEditProvider.register("*",new r)),this._register(d.documentPasteEditProvider.register("*",new l(c)))}};e.DefaultPasteProvidersFeature=u,e.DefaultPasteProvidersFeature=u=Ne([fe(0,f.ILanguageFeaturesService),fe(1,o.IWorkspaceContextService)],u)}),define(J[902],ee([1,0,16,151,880,372,643]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(L.CopyPasteController.ID,L.CopyPasteController,0),(0,k.registerEditorFeature)(D.DefaultPasteProvidersFeature),(0,y.registerEditorCommand)(new class extends y.EditorCommand{constructor(){super({id:L.changePasteTypeCommandId,precondition:L.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(m,S,f){var v;return(v=L.CopyPasteController.get(S))===null||v===void 0?void 0:v.changePasteType()}}),(0,y.registerEditorAction)(class extends y.EditorAction{constructor(){super({id:"editor.action.pasteAs",label:_.localize(0,null),alias:"Paste As...",precondition:void 0,description:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:_.localize(1,null)}}}}]}})}run(m,S,f){var v;const o=typeof f?.id=="string"?f.id:void 0;return(v=L.CopyPasteController.get(S))===null||v===void 0?void 0:v.pasteAs(o)}})}),define(J[903],ee([1,0,16,151,372,881]),function(G,e,y,k,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(D.DropIntoEditorController.ID,D.DropIntoEditorController,2),(0,y.registerEditorCommand)(new class extends y.EditorCommand{constructor(){super({id:D.changeDropTypeCommandId,precondition:D.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(_,m,S){var f;(f=D.DropIntoEditorController.get(m))===null||f===void 0||f.changeDropType()}}),(0,k.registerEditorFeature)(L.DefaultDropProvidersFeature)}),define(J[904],ee([1,0,565,92,43,9,172,31,130,690,166]),function(G,e,y,k,L,D,_,m,S,f,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class o{constructor(a){this._delegates=a}resolve(a){for(const d of this._delegates){const c=d.resolve(a);if(c!==void 0)return c}}}e.CompositeSnippetVariableResolver=o;class i{constructor(a,d,c,b){this._model=a,this._selection=d,this._selectionIdx=c,this._overtypingCapturer=b}resolve(a){const{name:d}=a;if(d==="SELECTION"||d==="TM_SELECTED_TEXT"){let c=this._model.getValueInRange(this._selection)||void 0,b=this._selection.startLineNumber!==this._selection.endLineNumber;if(!c&&this._overtypingCapturer){const g=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);g&&(c=g.value,b=g.multiline)}if(c&&b&&a.snippet){const g=this._model.getLineContent(this._selection.startLineNumber),p=(0,D.getLeadingWhitespace)(g,0,this._selection.startColumn-1);let C=p;a.snippet.walk(E=>E===a?!1:(E instanceof S.Text&&(C=(0,D.getLeadingWhitespace)((0,D.splitLines)(E.value).pop())),!0));const w=(0,D.commonPrefixLength)(C,p);c=c.replace(/(\r\n|\r|\n)(.*)/g,(E,I,T)=>`${I}${C.substr(w)}${T}`)}return c}else{if(d==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(d==="TM_CURRENT_WORD"){const c=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return c&&c.word||void 0}else{if(d==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(d==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(d==="CURSOR_INDEX")return String(this._selectionIdx);if(d==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=i;class t{constructor(a,d){this._labelService=a,this._model=d}resolve(a){const{name:d}=a;if(d==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(d==="TM_FILENAME_BASE"){const c=k.basename(this._model.uri.fsPath),b=c.lastIndexOf(".");return b<=0?c:c.slice(0,b)}else{if(d==="TM_DIRECTORY")return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,L.dirname)(this._model.uri));if(d==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(d==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=t;class n{constructor(a,d,c,b){this._readClipboardText=a,this._selectionIdx=d,this._selectionCount=c,this._spread=b}resolve(a){if(a.name!=="CLIPBOARD")return;const d=this._readClipboardText();if(d){if(this._spread){const c=d.split(/\r\n|\n|\r/).filter(b=>!(0,D.isFalsyOrWhitespace)(b));if(c.length===this._selectionCount)return c[this._selectionIdx]}return d}}}e.ClipboardBasedVariableResolver=n;let r=class{constructor(a,d,c){this._model=a,this._selection=d,this._languageConfigurationService=c}resolve(a){const{name:d}=a,c=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),b=this._languageConfigurationService.getLanguageConfiguration(c).comments;if(b){if(d==="LINE_COMMENT")return b.lineCommentToken||void 0;if(d==="BLOCK_COMMENT_START")return b.blockCommentStartToken||void 0;if(d==="BLOCK_COMMENT_END")return b.blockCommentEndToken||void 0}}};e.CommentBasedVariableResolver=r,e.CommentBasedVariableResolver=r=Ne([fe(2,m.ILanguageConfigurationService)],r);class l{constructor(){this._date=new Date}resolve(a){const{name:d}=a;if(d==="CURRENT_YEAR")return String(this._date.getFullYear());if(d==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(d==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(d==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(d==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(d==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(d==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(d==="CURRENT_DAY_NAME")return l.dayNames[this._date.getDay()];if(d==="CURRENT_DAY_NAME_SHORT")return l.dayNamesShort[this._date.getDay()];if(d==="CURRENT_MONTH_NAME")return l.monthNames[this._date.getMonth()];if(d==="CURRENT_MONTH_NAME_SHORT")return l.monthNamesShort[this._date.getMonth()];if(d==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(d==="CURRENT_TIMEZONE_OFFSET"){const c=this._date.getTimezoneOffset(),b=c>0?"-":"+",g=Math.trunc(Math.abs(c/60)),p=g<10?"0"+g:g,C=Math.abs(c)-g*60,w=C<10?"0"+C:C;return b+p+":"+w}}}e.TimeBasedVariableResolver=l,l.dayNames=[f.localize(0,null),f.localize(1,null),f.localize(2,null),f.localize(3,null),f.localize(4,null),f.localize(5,null),f.localize(6,null)],l.dayNamesShort=[f.localize(7,null),f.localize(8,null),f.localize(9,null),f.localize(10,null),f.localize(11,null),f.localize(12,null),f.localize(13,null)],l.monthNames=[f.localize(14,null),f.localize(15,null),f.localize(16,null),f.localize(17,null),f.localize(18,null),f.localize(19,null),f.localize(20,null),f.localize(21,null),f.localize(22,null),f.localize(23,null),f.localize(24,null),f.localize(25,null)],l.monthNamesShort=[f.localize(26,null),f.localize(27,null),f.localize(28,null),f.localize(29,null),f.localize(30,null),f.localize(31,null),f.localize(32,null),f.localize(33,null),f.localize(34,null),f.localize(35,null),f.localize(36,null),f.localize(37,null)];class h{constructor(a){this._workspaceService=a}resolve(a){if(!this._workspaceService)return;const d=(0,v.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!(0,v.isEmptyWorkspaceIdentifier)(d)){if(a.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(d);if(a.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(d)}}_resolveWorkspaceName(a){if((0,v.isSingleFolderWorkspaceIdentifier)(a))return k.basename(a.uri.path);let d=k.basename(a.configPath.path);return d.endsWith(v.WORKSPACE_EXTENSION)&&(d=d.substr(0,d.length-v.WORKSPACE_EXTENSION.length-1)),d}_resoveWorkspacePath(a){if((0,v.isSingleFolderWorkspaceIdentifier)(a))return(0,y.normalizeDriveLetter)(a.uri.fsPath);const d=k.basename(a.configPath.path);let c=a.configPath.fsPath;return c.endsWith(d)&&(c=c.substr(0,c.length-d.length-1)),c?(0,y.normalizeDriveLetter)(c):"/"}}e.WorkspaceBasedVariableResolver=h;class s{resolve(a){const{name:d}=a;if(d==="RANDOM")return Math.random().toString().slice(-6);if(d==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(d==="UUID")return(0,_.generateUuid)()}}e.RandomBasedVariableResolver=s}),define(J[373],ee([1,0,15,2,9,72,5,24,31,39,161,166,130,904,455]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class n{constructor(s,u,a){this._editor=s,this._snippet=u,this._snippetLineLeadingWhitespace=a,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,y.groupBy)(u.placeholders,i.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(s){this._offset=s.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const s=this._editor.getModel();this._editor.changeDecorations(u=>{for(const a of this._snippet.placeholders){const d=this._snippet.offset(a),c=this._snippet.fullLen(a),b=_.Range.fromPositions(s.getPositionAt(this._offset+d),s.getPositionAt(this._offset+d+c)),g=a.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive,p=u.addDecoration(b,g);this._placeholderDecorations.set(a,p)}})}move(s){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const d=[];for(const c of this._placeholderGroups[this._placeholderGroupsIdx])if(c.transform){const b=this._placeholderDecorations.get(c),g=this._editor.getModel().getDecorationRange(b),p=this._editor.getModel().getValueInRange(g),C=c.transform.resolve(p).split(/\r\n|\r|\n/);for(let w=1;w<C.length;w++)C[w]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+C[w]);d.push(D.EditOperation.replace(g,C.join(this._editor.getModel().getEOL())))}d.length>0&&this._editor.executeEdits("snippet.placeholderTransform",d)}let u=!1;s===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,u=!0):s===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,u=!0);const a=this._editor.getModel().changeDecorations(d=>{const c=new Set,b=[];for(const g of this._placeholderGroups[this._placeholderGroupsIdx]){const p=this._placeholderDecorations.get(g),C=this._editor.getModel().getDecorationRange(p);b.push(new m.Selection(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn)),u=u&&this._hasPlaceholderBeenCollapsed(g),d.changeDecorationOptions(p,g.isFinalTabstop?n._decor.activeFinal:n._decor.active),c.add(g);for(const w of this._snippet.enclosingPlaceholders(g)){const E=this._placeholderDecorations.get(w);d.changeDecorationOptions(E,w.isFinalTabstop?n._decor.activeFinal:n._decor.active),c.add(w)}}for(const[g,p]of this._placeholderDecorations)c.has(g)||d.changeDecorationOptions(p,g.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive);return b});return u?this.move(s):a??[]}_hasPlaceholderBeenCollapsed(s){let u=s;for(;u;){if(u instanceof i.Placeholder){const a=this._placeholderDecorations.get(u);if(this._editor.getModel().getDecorationRange(a).isEmpty()&&u.toString().length>0)return!0}u=u.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[s]=this._snippet.placeholders;if(s.isFinalTabstop&&this._snippet.rightMostDescendant===s)return!0}return!1}computePossibleSelections(){const s=new Map;for(const u of this._placeholderGroups){let a;for(const d of u){if(d.isFinalTabstop)break;a||(a=[],s.set(d.index,a));const c=this._placeholderDecorations.get(d),b=this._editor.getModel().getDecorationRange(c);if(!b){s.delete(d.index);break}a.push(b)}}return s}get activeChoice(){if(!this._placeholderDecorations)return;const s=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!s?.choice)return;const u=this._placeholderDecorations.get(s);if(!u)return;const a=this._editor.getModel().getDecorationRange(u);if(a)return{range:a,choice:s.choice}}get hasChoice(){let s=!1;return this._snippet.walk(u=>(s=u instanceof i.Choice,!s)),s}merge(s){const u=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(a=>{for(const d of this._placeholderGroups[this._placeholderGroupsIdx]){const c=s.shift();console.assert(c._offset!==-1),console.assert(!c._placeholderDecorations);const b=c._snippet.placeholderInfo.last.index;for(const p of c._snippet.placeholderInfo.all)p.isFinalTabstop?p.index=d.index+(b+1)/this._nestingLevel:p.index=d.index+p.index/this._nestingLevel;this._snippet.replace(d,c._snippet.children);const g=this._placeholderDecorations.get(d);a.removeDecoration(g),this._placeholderDecorations.delete(d);for(const p of c._snippet.placeholders){const C=c._snippet.offset(p),w=c._snippet.fullLen(p),E=_.Range.fromPositions(u.getPositionAt(c._offset+C),u.getPositionAt(c._offset+C+w)),I=a.addDecoration(E,n._decor.inactive);this._placeholderDecorations.set(p,I)}}this._placeholderGroups=(0,y.groupBy)(this._snippet.placeholders,i.Placeholder.compareByIndex)})}}e.OneSnippet=n,n._decor={active:f.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:f.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:f.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:f.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const r={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let l=class Lt{static adjustWhitespace(s,u,a,d,c){const b=s.getLineContent(u.lineNumber),g=(0,L.getLeadingWhitespace)(b,0,u.column-1);let p;return d.walk(C=>{if(!(C instanceof i.Text)||C.parent instanceof i.Choice||c&&!c.has(C))return!0;const w=C.value.split(/\r\n|\r|\n/);if(a){const I=d.offset(C);if(I===0)w[0]=s.normalizeIndentation(w[0]);else{p=p??d.toString();const T=p.charCodeAt(I-1);(T===10||T===13)&&(w[0]=s.normalizeIndentation(g+w[0]))}for(let T=1;T<w.length;T++)w[T]=s.normalizeIndentation(g+w[T])}const E=w.join(s.getEOL());return E!==C.value&&(C.parent.replace(C,[new i.Text(E)]),p=void 0),!0}),g}static adjustSelection(s,u,a,d){if(a!==0||d!==0){const{positionLineNumber:c,positionColumn:b}=u,g=b-a,p=b+d,C=s.validateRange({startLineNumber:c,startColumn:g,endLineNumber:c,endColumn:p});u=m.Selection.createWithDirection(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn,u.getDirection())}return u}static createEditsAndSnippetsFromSelections(s,u,a,d,c,b,g,p,C){const w=[],E=[];if(!s.hasModel())return{edits:w,snippets:E};const I=s.getModel(),T=s.invokeWithinContext(F=>F.get(o.IWorkspaceContextService)),P=s.invokeWithinContext(F=>new t.ModelBasedVariableResolver(F.get(v.ILabelService),I)),A=()=>g,M=I.getValueInRange(Lt.adjustSelection(I,s.getSelection(),a,0)),N=I.getValueInRange(Lt.adjustSelection(I,s.getSelection(),0,d)),O=I.getLineFirstNonWhitespaceColumn(s.getSelection().positionLineNumber),x=s.getSelections().map((F,B)=>({selection:F,idx:B})).sort((F,B)=>_.Range.compareRangesUsingStarts(F.selection,B.selection));for(const{selection:F,idx:B}of x){let z=Lt.adjustSelection(I,F,a,0),j=Lt.adjustSelection(I,F,0,d);M!==I.getValueInRange(z)&&(z=F),N!==I.getValueInRange(j)&&(j=F);const R=F.setStartPosition(z.startLineNumber,z.startColumn).setEndPosition(j.endLineNumber,j.endColumn),Z=new i.SnippetParser().parse(u,!0,c),se=R.getStartPosition(),le=Lt.adjustWhitespace(I,se,b||B>0&&O!==I.getLineFirstNonWhitespaceColumn(F.positionLineNumber),Z);Z.resolveVariables(new t.CompositeSnippetVariableResolver([P,new t.ClipboardBasedVariableResolver(A,B,x.length,s.getOption(77)==="spread"),new t.SelectionBasedVariableResolver(I,F,B,p),new t.CommentBasedVariableResolver(I,F,C),new t.TimeBasedVariableResolver,new t.WorkspaceBasedVariableResolver(T),new t.RandomBasedVariableResolver])),w[B]=D.EditOperation.replace(R,Z.toString()),w[B].identifier={major:B,minor:0},w[B]._isTracked=!0,E[B]=new n(s,Z,le)}return{edits:w,snippets:E}}static createEditsAndSnippetsFromEdits(s,u,a,d,c,b,g){if(!s.hasModel()||u.length===0)return{edits:[],snippets:[]};const p=[],C=s.getModel(),w=new i.SnippetParser,E=new i.TextmateSnippet,I=new t.CompositeSnippetVariableResolver([s.invokeWithinContext(P=>new t.ModelBasedVariableResolver(P.get(v.ILabelService),C)),new t.ClipboardBasedVariableResolver(()=>c,0,s.getSelections().length,s.getOption(77)==="spread"),new t.SelectionBasedVariableResolver(C,s.getSelection(),0,b),new t.CommentBasedVariableResolver(C,s.getSelection(),g),new t.TimeBasedVariableResolver,new t.WorkspaceBasedVariableResolver(s.invokeWithinContext(P=>P.get(o.IWorkspaceContextService))),new t.RandomBasedVariableResolver]);u=u.sort((P,A)=>_.Range.compareRangesUsingStarts(P.range,A.range));let T=0;for(let P=0;P<u.length;P++){const{range:A,template:M}=u[P];if(P>0){const B=u[P-1].range,z=_.Range.fromPositions(B.getEndPosition(),A.getStartPosition()),j=new i.Text(C.getValueInRange(z));E.appendChild(j),T+=j.value.length}const N=w.parseFragment(M,E);Lt.adjustWhitespace(C,A.getStartPosition(),!0,E,new Set(N)),E.resolveVariables(I);const O=E.toString(),x=O.slice(T);T=O.length;const F=D.EditOperation.replace(A,x);F.identifier={major:P,minor:0},F._isTracked=!0,p.push(F)}return w.ensureFinalTabstop(E,a,!0),{edits:p,snippets:[new n(s,E,"")]}}constructor(s,u,a=r,d){this._editor=s,this._template=u,this._options=a,this._languageConfigurationService=d,this._templateMerges=[],this._snippets=[]}dispose(){(0,k.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:s,snippets:u}=typeof this._template=="string"?Lt.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):Lt.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=u,this._editor.executeEdits("snippet",s,a=>{const d=a.filter(c=>!!c.identifier);for(let c=0;c<u.length;c++)u[c].initialize(d[c].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):d.map(c=>m.Selection.fromPositions(c.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(s,u=r){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,s]);const{edits:a,snippets:d}=Lt.createEditsAndSnippetsFromSelections(this._editor,s,u.overwriteBefore,u.overwriteAfter,!0,u.adjustWhitespace,u.clipboardText,u.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",a,c=>{const b=c.filter(p=>!!p.identifier);for(let p=0;p<d.length;p++)d[p].initialize(b[p].textChange);const g=d[0].isTrivialSnippet;if(!g){for(const p of this._snippets)p.merge(d);console.assert(d.length===0)}return this._snippets[0].hasPlaceholder&&!g?this._move(void 0):b.map(p=>m.Selection.fromPositions(p.range.getEndPosition()))})}next(){const s=this._move(!0);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}prev(){const s=this._move(!1);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}_move(s){const u=[];for(const a of this._snippets){const d=a.move(s);u.push(...d)}return u}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const s=this._editor.getSelections();if(s.length<this._snippets.length)return!1;const u=new Map;for(const a of this._snippets){const d=a.computePossibleSelections();if(u.size===0)for(const[c,b]of d){b.sort(_.Range.compareRangesUsingStarts);for(const g of s)if(b[0].containsRange(g)){u.set(c,[]);break}}if(u.size===0)return!1;u.forEach((c,b)=>{c.push(...d.get(b))})}s.sort(_.Range.compareRangesUsingStarts);for(const[a,d]of u){if(d.length!==s.length){u.delete(a);continue}d.sort(_.Range.compareRangesUsingStarts);for(let c=0;c<d.length;c++)if(!d[c].containsRange(s[c])){u.delete(a);continue}}return u.size>0}};e.SnippetSession=l,e.SnippetSession=l=Ne([fe(3,S.ILanguageConfigurationService)],l)}),define(J[196],ee([1,0,2,18,16,11,20,31,19,136,689,14,70,373]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const n={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let r=class qt{static get(s){return s.getContribution(qt.ID)}constructor(s,u,a,d,c){this._editor=s,this._logService=u,this._languageFeaturesService=a,this._languageConfigurationService=c,this._snippetListener=new y.DisposableStore,this._modelVersionId=-1,this._inSnippet=qt.InSnippetMode.bindTo(d),this._hasNextTabstop=qt.HasNextTabstop.bindTo(d),this._hasPrevTabstop=qt.HasPrevTabstop.bindTo(d)}dispose(){var s;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(s=this._session)===null||s===void 0||s.dispose(),this._snippetListener.dispose()}insert(s,u){try{this._doInsert(s,typeof u>"u"?n:Object.assign(Object.assign({},n),u))}catch(a){this.cancel(),this._logService.error(a),this._logService.error("snippet_error"),this._logService.error("insert_template=",s),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(s,u){var a;if(this._editor.hasModel()){if(this._snippetListener.clear(),u.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof s!="string"&&this.cancel(),this._session?((0,k.assertType)(typeof s=="string"),this._session.merge(s,u)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new t.SnippetSession(this._editor,s,u,this._languageConfigurationService),this._session.insert()),u.undoStopAfter&&this._editor.getModel().pushStackElement(),!((a=this._session)===null||a===void 0)&&a.hasChoice){const d={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(w,E)=>{if(!this._session||w!==this._editor.getModel()||!D.Position.equals(this._editor.getPosition(),E))return;const{activeChoice:I}=this._session;if(!I||I.choice.options.length===0)return;const T=w.getValueInRange(I.range),P=!!I.choice.options.find(M=>M.value===T),A=[];for(let M=0;M<I.choice.options.length;M++){const N=I.choice.options[M];A.push({kind:13,label:N.value,insertText:N.value,sortText:"a".repeat(M+1),range:I.range,filterText:P?`${T}_${N.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,v.localize)(3,null)}})}return{suggestions:A}}},c=this._editor.getModel();let b,g=!1;const p=()=>{b?.dispose(),g=!1},C=()=>{g||(b=this._languageFeaturesService.completionProvider.register({language:c.getLanguageId(),pattern:c.uri.fsPath,scheme:c.uri.scheme,exclusive:!0},d),this._snippetListener.add(b),g=!0)};this._choiceCompletions={provider:d,enable:C,disable:p}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(d=>d.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var s;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:u}=this._session;if(!u||!this._choiceCompletions){(s=this._choiceCompletions)===null||s===void 0||s.disable(),this._currentChoice=void 0;return}this._currentChoice!==u.choice&&(this._currentChoice=u.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,f.showSimpleSuggestions)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(s=!1){var u;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(u=this._session)===null||u===void 0||u.dispose(),this._session=void 0,this._modelVersionId=-1,s&&this._editor.setSelections([this._editor.getSelection()])}prev(){var s;(s=this._session)===null||s===void 0||s.prev(),this._updateState()}next(){var s;(s=this._session)===null||s===void 0||s.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};e.SnippetController2=r,r.ID="snippetController2",r.InSnippetMode=new o.RawContextKey("inSnippetMode",!1,(0,v.localize)(0,null)),r.HasNextTabstop=new o.RawContextKey("hasNextTabstop",!1,(0,v.localize)(1,null)),r.HasPrevTabstop=new o.RawContextKey("hasPrevTabstop",!1,(0,v.localize)(2,null)),e.SnippetController2=r=Ne([fe(1,i.ILogService),fe(2,S.ILanguageFeaturesService),fe(3,o.IContextKeyService),fe(4,m.ILanguageConfigurationService)],r),(0,L.registerEditorContribution)(r.ID,r,4);const l=L.EditorCommand.bindToContribution(r.get);(0,L.registerEditorCommand)(new l({id:"jumpToNextSnippetPlaceholder",precondition:o.ContextKeyExpr.and(r.InSnippetMode,r.HasNextTabstop),handler:h=>h.next(),kbOpts:{weight:100+30,kbExpr:_.EditorContextKeys.editorTextFocus,primary:2}})),(0,L.registerEditorCommand)(new l({id:"jumpToPrevSnippetPlaceholder",precondition:o.ContextKeyExpr.and(r.InSnippetMode,r.HasPrevTabstop),handler:h=>h.prev(),kbOpts:{weight:100+30,kbExpr:_.EditorContextKeys.editorTextFocus,primary:1026}})),(0,L.registerEditorCommand)(new l({id:"leaveSnippet",precondition:r.InSnippetMode,handler:h=>h.cancel(!0),kbOpts:{weight:100+30,kbExpr:_.EditorContextKeys.editorTextFocus,primary:9,secondary:[1033]}})),(0,L.registerEditorCommand)(new l({id:"acceptSnippet",precondition:r.InSnippetMode,handler:h=>h.finish()}))}),define(J[905],ee([1,0,15,12,2,42,100,144,18,72,11,5,30,31,216,770,153,196,25,8]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsModel=e.VersionIdChangeReason=void 0;var a;(function(c){c[c.Undo=0]="Undo",c[c.Redo=1]="Redo",c[c.AcceptWord=2]="AcceptWord",c[c.Other=3]="Other"})(a||(e.VersionIdChangeReason=a={}));let d=class extends L.Disposable{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(b,g,p,C,w,E,I,T,P,A,M,N){super(),this.textModel=b,this.selectedSuggestItem=g,this.cursorPosition=p,this.textModelVersionId=C,this._debounceValue=w,this._suggestPreviewEnabled=E,this._suggestPreviewMode=I,this._inlineSuggestMode=T,this._enabled=P,this._instantiationService=A,this._commandService=M,this._languageConfigurationService=N,this._source=this._register(this._instantiationService.createInstance(r.InlineCompletionsSource,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,D.observableValue)("isActive",!1),this._forceUpdate=(0,D.observableSignal)("forceUpdate"),this._selectedInlineCompletionId=(0,D.observableValue)("selectedInlineCompletionId",void 0),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([a.Redo,a.Undo,a.AcceptWord]),this._fetchInlineCompletions=(0,m.derivedHandleChanges)("fetch inline completions",{createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:i.InlineCompletionTriggerKind.Automatic}),handleChange:(x,F)=>(x.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(x.change)?F.preserveCurrentCompletion=!0:x.didChange(this._forceUpdate)&&(F.inlineCompletionTriggerKind=x.change),!0)},(x,F)=>{if(this._forceUpdate.read(x),!(this._enabled.read(x)&&this.selectedSuggestItem.read(x)||this._isActive.read(x))){this._source.cancelUpdate();return}this.textModelVersionId.read(x);const z=this.selectedInlineCompletion.get(),j=F.preserveCurrentCompletion||z?.forwardStable?z:void 0,R=this._source.suggestWidgetInlineCompletions.get(),Z=this.selectedSuggestItem.read(x);if(R&&!Z){const te=this._source.inlineCompletions.get();(0,D.transaction)(Y=>{te&&R.request.versionId>te.request.versionId&&this._source.inlineCompletions.set(R.clone(),Y),this._source.clearSuggestWidgetInlineCompletions(Y)})}const se=this.cursorPosition.read(x),le={triggerKind:F.inlineCompletionTriggerKind,selectedSuggestionInfo:Z?.toSelectedSuggestionInfo()};return this._source.fetch(se,le,j)}),this._filteredInlineCompletionItems=(0,D.derived)("filteredInlineCompletionItems",x=>{const F=this._source.inlineCompletions.read(x);if(!F)return[];const B=this.cursorPosition.read(x);return F.inlineCompletions.filter(j=>j.isVisible(this.textModel,B,x))}),this.selectedInlineCompletionIndex=(0,D.derived)("selectedCachedCompletionIndex",x=>{const F=this._selectedInlineCompletionId.read(x),B=this._filteredInlineCompletionItems.read(x),z=this._selectedInlineCompletionId===void 0?-1:B.findIndex(j=>j.semanticId===F);return z===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):z}),this.selectedInlineCompletion=(0,D.derived)("selectedCachedCompletion",x=>{const F=this._filteredInlineCompletionItems.read(x),B=this.selectedInlineCompletionIndex.read(x);return F[B]}),this.lastTriggerKind=this._source.inlineCompletions.map(x=>x?.request.context.triggerKind),this.inlineCompletionsCount=(0,D.derived)("selectedInlineCompletionsCount",x=>{if(this.lastTriggerKind.read(x)===i.InlineCompletionTriggerKind.Explicit)return this._filteredInlineCompletionItems.read(x).length}),this.state=(0,D.derived)("ghostTextAndCompletion",x=>{var F;const B=this.textModel,z=this.selectedSuggestItem.read(x);if(z){const j=this._source.suggestWidgetInlineCompletions.read(x),R=j?j.inlineCompletions:[this.selectedInlineCompletion.read(x)].filter(S.isDefined),Z=z.toSingleTextEdit().removeCommonPrefix(B),se=(0,y.mapFind)(R,X=>{let Q=X.toSingleTextEdit(x);return Q=Q.removeCommonPrefix(B,o.Range.fromPositions(Q.range.getStartPosition(),z.range.getEndPosition())),Q.augments(Z)?{edit:Q,completion:X}:void 0});if(!this._suggestPreviewEnabled.read(x)&&!se)return;const te=(F=se?.edit)!==null&&F!==void 0?F:Z,Y=se?se.edit.text.length-Z.text.length:0,U=this._suggestPreviewMode.read(x),V=this.cursorPosition.read(x),H=te.computeGhostText(B,U,V,Y);return{ghostText:H??new n.GhostText(te.range.endLineNumber,[]),inlineCompletion:se?.completion,suggestItem:z}}else{if(!this._isActive.read(x))return;const j=this.selectedInlineCompletion.read(x);if(!j)return;const R=j.toSingleTextEdit(x),Z=this._inlineSuggestMode.read(x),se=this.cursorPosition.read(x),le=R.computeGhostText(B,Z,se);return le?{ghostText:le,inlineCompletion:j,suggestItem:void 0}:void 0}}),this.ghostText=(0,D.derived)("ghostText",x=>{const F=this.state.read(x);if(F)return F.ghostText}),this._register((0,D.keepAlive)(this._fetchInlineCompletions,!0));let O;this._register((0,D.autorun)("call handleItemDidShow",x=>{var F,B;const z=this.state.read(x),j=z?.inlineCompletion;if(j?.semanticId!==O?.semanticId&&(O=j,j)){const R=j.inlineCompletion,Z=R.source;(B=(F=Z.provider).handleItemDidShow)===null||B===void 0||B.call(F,Z.inlineCompletions,R.sourceInlineCompletion,R.insertText)}}))}trigger(b){return Le(this,void 0,void 0,function*(){this._isActive.set(!0,b),yield this._fetchInlineCompletions.get()})}triggerExplicitly(b){return Le(this,void 0,void 0,function*(){(0,_.subtransaction)(b,g=>{this._isActive.set(!0,g),this._forceUpdate.trigger(g,i.InlineCompletionTriggerKind.Explicit)}),yield this._fetchInlineCompletions.get()})}stop(b){(0,_.subtransaction)(b,g=>{this._isActive.set(!1,g),this._source.clear(g)})}_deltaSelectedInlineCompletionIndex(b){return Le(this,void 0,void 0,function*(){yield this.triggerExplicitly();const g=this._filteredInlineCompletionItems.get()||[];if(g.length>0){const p=(this.selectedInlineCompletionIndex.get()+b+g.length)%g.length;this._selectedInlineCompletionId.set(g[p].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return Le(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return Le(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(b){var g;return Le(this,void 0,void 0,function*(){if(b.getModel()!==this.textModel)throw new k.BugIndicatingError;const p=this.state.get();if(!p||p.ghostText.isEmpty()||!p.inlineCompletion)return;const C=p.inlineCompletion.toInlineCompletion(void 0);b.pushUndoStop(),C.snippetInfo?(b.executeEdits("inlineSuggestion.accept",[f.EditOperation.replaceMove(C.range,""),...C.additionalTextEdits]),b.setPosition(C.snippetInfo.range.getStartPosition()),(g=h.SnippetController2.get(b))===null||g===void 0||g.insert(C.snippetInfo.snippet,{undoStopBefore:!1})):b.executeEdits("inlineSuggestion.accept",[f.EditOperation.replaceMove(C.range,C.insertText),...C.additionalTextEdits]),C.command&&C.source.addRef(),(0,D.transaction)(w=>{this._source.clear(w),this._isActive.set(!1,w)}),C.command&&(yield this._commandService.executeCommand(C.command.id,...C.command.arguments||[]).then(void 0,k.onUnexpectedExternalError),C.source.removeRef())})}acceptNextWord(b){return Le(this,void 0,void 0,function*(){yield this._acceptNext(b,(g,p)=>{const C=this.textModel.getLanguageIdAtPosition(g.lineNumber,g.column),w=this._languageConfigurationService.getLanguageConfiguration(C),E=new RegExp(w.wordDefinition.source,w.wordDefinition.flags.replace("g","")),I=p.match(E);let T=0;I&&I.index!==void 0?I.index===0?T=I[0].length:T=I.index:T=p.length;const A=/\s+/g.exec(p);return A&&A.index!==void 0&&A.index+A[0].length<T&&(T=A.index+A[0].length),T})})}acceptNextLine(b){return Le(this,void 0,void 0,function*(){yield this._acceptNext(b,(g,p)=>{const C=p.match(/\n/);return C&&C.index!==void 0?C.index+1:p.length})})}_acceptNext(b,g){return Le(this,void 0,void 0,function*(){if(b.getModel()!==this.textModel)throw new k.BugIndicatingError;const p=this.state.get();if(!p||p.ghostText.isEmpty()||!p.inlineCompletion)return;const C=p.ghostText,w=p.inlineCompletion.toInlineCompletion(void 0);if(w.snippetInfo||w.filterText!==w.insertText){yield this.accept(b);return}const E=C.parts[0],I=new v.Position(C.lineNumber,E.column),T=E.lines.join(`
`),P=g(I,T);if(P===T.length&&C.parts.length===1){this.accept(b);return}const A=T.substring(0,P);this._isAcceptingPartially=!0;try{b.pushUndoStop(),b.executeEdits("inlineSuggestion.accept",[f.EditOperation.replace(o.Range.fromPositions(I),A)]);const M=(0,l.lengthOfText)(A);b.setPosition((0,l.addPositions)(I,M))}finally{this._isAcceptingPartially=!1}if(w.source.provider.handlePartialAccept){const M=o.Range.fromPositions(w.range.getStartPosition(),(0,l.addPositions)(I,(0,l.lengthOfText)(A))),N=b.getModel().getValueInRange(M,1);w.source.provider.handlePartialAccept(w.source.inlineCompletions,w.sourceInlineCompletion,N.length)}})}};e.InlineCompletionsModel=d,e.InlineCompletionsModel=d=Ne([fe(9,u.IInstantiationService),fe(10,s.ICommandService),fe(11,t.ILanguageConfigurationService)],d)}),define(J[906],ee([1,0,13,21,12,6,2,9,24,115,298,96,28,14,70,78,297,136,19,71,18,237,196,241]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class g{static shouldAutoTrigger(I){if(!I.hasModel())return!1;const T=I.getModel(),P=I.getPosition();T.tokenization.tokenizeIfCheap(P.lineNumber);const A=T.getWordAtPosition(P);return!(!A||A.endColumn!==P.column&&A.startColumn+1!==P.column||!isNaN(Number(A.word)))}constructor(I,T,P){this.leadingLineContent=I.getLineContent(T.lineNumber).substr(0,T.column-1),this.leadingWord=I.getWordUntilPosition(T),this.lineNumber=T.lineNumber,this.column=T.column,this.triggerOptions=P}}e.LineContext=g;function p(E,I,T){if(!I.getContextKeyValue(d.InlineCompletionContextKeys.inlineSuggestionVisible.key))return!0;const P=I.getContextKeyValue(d.InlineCompletionContextKeys.suppressSuggestions.key);return P!==void 0?!P:!E.getOption(61).suppressSuggestions}function C(E,I,T){if(!I.getContextKeyValue("inlineSuggestionVisible"))return!0;const P=I.getContextKeyValue(d.InlineCompletionContextKeys.suppressSuggestions.key);return P!==void 0?!P:!E.getOption(61).suppressSuggestions}let w=class gn{constructor(I,T,P,A,M,N,O,x,F){this._editor=I,this._editorWorkerService=T,this._clipboardService=P,this._telemetryService=A,this._logService=M,this._contextKeyService=N,this._configurationService=O,this._languageFeaturesService=x,this._envService=F,this._toDispose=new _.DisposableStore,this._triggerCharacterListener=new _.DisposableStore,this._triggerQuickSuggest=new y.TimeoutTimer,this._triggerState=void 0,this._completionDisposables=new _.DisposableStore,this._onDidCancel=new D.Emitter,this._onDidTrigger=new D.Emitter,this._onDidSuggest=new D.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new S.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let B=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{B=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{B=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(z=>{B||this._onCursorChange(z)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!B&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,_.dispose)(this._triggerCharacterListener),(0,_.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(89)||!this._editor.hasModel()||!this._editor.getOption(119))return;const I=new Map;for(const P of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const A of P.triggerCharacters||[]){let M=I.get(A);M||(M=new Set,M.add((0,h.getSnippetSuggestSupport)()),I.set(A,M)),M.add(P)}const T=P=>{var A;if(!C(this._editor,this._contextKeyService,this._configurationService)||g.shouldAutoTrigger(this._editor))return;if(!P){const O=this._editor.getPosition();P=this._editor.getModel().getLineContent(O.lineNumber).substr(0,O.column-1)}let M="";(0,m.isLowSurrogate)(P.charCodeAt(P.length-1))?(0,m.isHighSurrogate)(P.charCodeAt(P.length-2))&&(M=P.substr(P.length-2)):M=P.charAt(P.length-1);const N=I.get(M);if(N){const O=new Map;if(this._completionModel)for(const[x,F]of this._completionModel.getItemsByProvider())N.has(x)||O.set(x,F);this.trigger({auto:!0,triggerKind:1,triggerCharacter:M,retrigger:!!this._completionModel,clipboardText:(A=this._completionModel)===null||A===void 0?void 0:A.clipboardText,completionOptions:{providerFilter:N,providerItemsToReuse:O}})}};this._triggerCharacterListener.add(this._editor.onDidType(T)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>T()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(I=!1){var T;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(T=this._requestToken)===null||T===void 0||T.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:I}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(I){if(!this._editor.hasModel())return;const T=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!I.selection.isEmpty()||I.reason!==0&&I.reason!==3||I.source!=="keyboard"&&I.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&I.reason===0?(T.containsRange(this._currentSelection)||T.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&I.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var I;h.QuickSuggestionsOptions.isAllOff(this._editor.getOption(87))||this._editor.getOption(116).snippetsPreventQuickSuggestions&&(!((I=c.SnippetController2.get(this._editor))===null||I===void 0)&&I.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!g.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const T=this._editor.getModel(),P=this._editor.getPosition(),A=this._editor.getOption(87);if(!h.QuickSuggestionsOptions.isAllOff(A)){if(!h.QuickSuggestionsOptions.isAllOn(A)){T.tokenization.tokenizeIfCheap(P.lineNumber);const M=T.tokenization.getLineTokens(P.lineNumber),N=M.getStandardTokenType(M.findTokenIndexAtOffset(Math.max(P.column-1-1,0)));if(h.QuickSuggestionsOptions.valueFor(A,N)!=="on")return}p(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(T)&&this.trigger({auto:!0})}},this._editor.getOption(88)))}_refilterCompletionItems(){(0,a.assertType)(this._editor.hasModel()),(0,a.assertType)(this._triggerState!==void 0);const I=this._editor.getModel(),T=this._editor.getPosition(),P=new g(I,T,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(P)}trigger(I){var T,P,A,M,N,O;if(!this._editor.hasModel())return;const x=this._editor.getModel(),F=new g(x,this._editor.getPosition(),I);this.cancel(I.retrigger),this._triggerState=I,this._onDidTrigger.fire({auto:I.auto,shy:(T=I.shy)!==null&&T!==void 0?T:!1,position:this._editor.getPosition()}),this._context=F;let B={triggerKind:(P=I.triggerKind)!==null&&P!==void 0?P:0};I.triggerCharacter&&(B={triggerKind:1,triggerCharacter:I.triggerCharacter}),this._requestToken=new k.CancellationTokenSource;const z=this._editor.getOption(110);let j=1;switch(z){case"top":j=0;break;case"bottom":j=2;break}const{itemKind:R,showDeprecated:Z}=gn._createSuggestFilter(this._editor),se=new h.CompletionOptions(j,(M=(A=I.completionOptions)===null||A===void 0?void 0:A.kindFilter)!==null&&M!==void 0?M:R,(N=I.completionOptions)===null||N===void 0?void 0:N.providerFilter,(O=I.completionOptions)===null||O===void 0?void 0:O.providerItemsToReuse,Z),le=v.WordDistance.create(this._editorWorkerService,this._editor),te=(0,h.provideSuggestionItems)(this._languageFeaturesService.completionProvider,x,this._editor.getPosition(),se,B,this._requestToken.token);Promise.all([te,le]).then(([Y,U])=>Le(this,void 0,void 0,function*(){var V;if((V=this._requestToken)===null||V===void 0||V.dispose(),!this._editor.hasModel())return;let H=I?.clipboardText;if(!H&&Y.needsClipboard&&(H=yield this._clipboardService.readText()),this._triggerState===void 0)return;const $=this._editor.getModel(),X=new g($,this._editor.getPosition(),I),Q=Object.assign(Object.assign({},u.FuzzyScoreOptions.default),{firstMatchCanBeWeak:!this._editor.getOption(116).matchOnWordStartOnly});if(this._completionModel=new l.CompletionModel(Y.items,this._context.column,{leadingLineContent:X.leadingLineContent,characterCountDelta:X.column-this._context.column},U,this._editor.getOption(116),this._editor.getOption(110),Q,H),this._completionDisposables.add(Y.disposable),this._onNewContext(X),this._reportDurationsTelemetry(Y.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const de of Y.items)de.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${de.provider._debugDisplayName}`,de.completion)})).catch(L.onUnexpectedError)}_reportDurationsTelemetry(I){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(I)}),this._logService.debug("suggest.durations.json",I)})}static _createSuggestFilter(I){const T=new Set;I.getOption(110)==="none"&&T.add(27);const A=I.getOption(116);return A.showMethods||T.add(0),A.showFunctions||T.add(1),A.showConstructors||T.add(2),A.showFields||T.add(3),A.showVariables||T.add(4),A.showClasses||T.add(5),A.showStructs||T.add(6),A.showInterfaces||T.add(7),A.showModules||T.add(8),A.showProperties||T.add(9),A.showEvents||T.add(10),A.showOperators||T.add(11),A.showUnits||T.add(12),A.showValues||T.add(13),A.showConstants||T.add(14),A.showEnums||T.add(15),A.showEnumMembers||T.add(16),A.showKeywords||T.add(17),A.showWords||T.add(18),A.showColors||T.add(19),A.showFiles||T.add(20),A.showReferences||T.add(21),A.showColors||T.add(22),A.showFolders||T.add(23),A.showTypeParameters||T.add(24),A.showSnippets||T.add(27),A.showUsers||T.add(25),A.showIssues||T.add(26),{itemKind:T,showDeprecated:A.showDeprecated}}_onNewContext(I){if(this._context){if(I.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,m.getLeadingWhitespace)(I.leadingLineContent)!==(0,m.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(I.column<this._context.column){I.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(I.leadingWord.word.length!==0&&I.leadingWord.startColumn>this._context.leadingWord.startColumn){if(g.shouldAutoTrigger(this._editor)&&this._context){const P=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:P}})}return}if(I.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&I.leadingWord.word.length!==0){const T=new Map,P=new Set;for(const[A,M]of this._completionModel.getItemsByProvider())M.length>0&&M[0].container.incomplete?P.add(A):T.set(A,M);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:P,providerItemsToReuse:T}})}else{const T=this._completionModel.lineContext;let P=!1;if(this._completionModel.lineContext={leadingLineContent:I.leadingLineContent,characterCountDelta:I.column-this._context.column},this._completionModel.items.length===0){const A=g.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(A&&this._context.leadingWord.endColumn<I.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=T,P=this._completionModel.items.length>0,P&&I.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:I.triggerOptions,isFrozen:P})}}}}};e.SuggestModel=w,e.SuggestModel=w=Ne([fe(1,f.IEditorWorkerService),fe(2,o.IClipboardService),fe(3,r.ITelemetryService),fe(4,n.ILogService),fe(5,t.IContextKeyService),fe(6,i.IConfigurationService),fe(7,s.ILanguageFeaturesService),fe(8,b.IEnvironmentService)],w)}),define(J[374],ee([1,0,48,15,13,21,12,6,119,2,17,59,18,108,16,72,11,5,20,196,130,343,746,693,25,14,8,70,136,745,543,906,544,887,78,43,145]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E,I,T,P,A,M,N,O,x){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const F=!1;class B{constructor(te,Y){if(this._model=te,this._position=Y,te.getLineMaxColumn(Y.lineNumber)!==Y.column){const V=te.getOffsetAt(Y),H=te.getPositionAt(V+1);this._marker=te.deltaDecorations([],[{range:h.Range.fromPositions(Y,H),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(te){if(this._model.isDisposed()||this._position.lineNumber!==te.lineNumber)return 0;if(this._marker){const Y=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(Y.getStartPosition())-this._model.getOffsetAt(te)}else return this._model.getLineMaxColumn(te.lineNumber)-te.column}}let z=class fn{static get(te){return te.getContribution(fn.ID)}constructor(te,Y,U,V,H,$,X){this._memoryService=Y,this._commandService=U,this._contextKeyService=V,this._instantiationService=H,this._logService=$,this._telemetryService=X,this._lineSuffix=new f.MutableDisposable,this._toDispose=new f.DisposableStore,this._selectors=new j(ae=>ae.priority),this.editor=te,this.model=H.createInstance(P.SuggestModel,this.editor),this._selectors.register({priority:0,select:(ae,ue,q)=>this._memoryService.select(ae,ue,q)});const Q=E.Context.InsertMode.bindTo(V);Q.set(te.getOption(116).insertMode),this.model.onDidTrigger(()=>Q.set(te.getOption(116).insertMode)),this.widget=this._toDispose.add(new L.IdleValue(()=>{const ae=this._instantiationService.createInstance(M.SuggestWidget,this.editor);this._toDispose.add(ae),this._toDispose.add(ae.onDidSelect(ie=>this._insertSuggestion(ie,0),this));const ue=new T.CommitCharacterController(this.editor,ae,this.model,ie=>this._insertSuggestion(ie,2));this._toDispose.add(ue);const q=E.Context.MakesTextEdit.bindTo(this._contextKeyService),W=E.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),K=E.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,f.toDisposable)(()=>{q.reset(),W.reset(),K.reset()})),this._toDispose.add(ae.onDidFocus(({item:ie})=>{const ne=this.editor.getPosition(),oe=ie.editStart.column,re=ne.column;let ge=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!ie.completion.additionalTextEdits&&!(ie.completion.insertTextRules&4)&&re-oe===ie.completion.insertText.length&&(ge=this.editor.getModel().getValueInRange({startLineNumber:ne.lineNumber,startColumn:oe,endLineNumber:ne.lineNumber,endColumn:re})!==ie.completion.insertText),q.set(ge),W.set(!l.Position.equals(ie.editInsertEnd,ie.editReplaceEnd)),K.set(!!ie.provider.resolveCompletionItem||!!ie.completion.documentation||ie.completion.detail!==ie.completion.label)})),this._toDispose.add(ae.onDetailsKeyDown(ie=>{if(ie.toKeyCodeChord().equals(new S.KeyCodeChord(!0,!1,!1,!1,33))||v.isMacintosh&&ie.toKeyCodeChord().equals(new S.KeyCodeChord(!1,!1,!1,!0,33))){ie.stopPropagation();return}ie.toKeyCodeChord().isModifierKey()||this.editor.focus()})),ae})),this._overtypingCapturer=this._toDispose.add(new L.IdleValue(()=>this._toDispose.add(new A.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new L.IdleValue(()=>this._toDispose.add(new I.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(H.createInstance(c.WordContextKey,te)),this._toDispose.add(this.model.onDidTrigger(ae=>{this.widget.value.showTriggered(ae.auto,ae.shy?250:50),this._lineSuffix.value=new B(this.editor.getModel(),ae.position)})),this._toDispose.add(this.model.onDidSuggest(ae=>{if(ae.triggerOptions.shy)return;let ue=-1;for(const W of this._selectors.itemsOrderedByPriorityDesc)if(ue=W.select(this.editor.getModel(),this.editor.getPosition(),ae.completionModel.items),ue!==-1)break;ue===-1&&(ue=0);let q=!1;if(ae.triggerOptions.auto){const W=this.editor.getOption(116);W.selectionMode==="never"||W.selectionMode==="always"?q=W.selectionMode==="never":W.selectionMode==="whenTriggerCharacter"?q=ae.triggerOptions.triggerKind!==1:W.selectionMode==="whenQuickSuggestion"&&(q=ae.triggerOptions.triggerKind===1&&!ae.triggerOptions.refilter)}this.widget.value.showSuggestions(ae.completionModel,ue,ae.isFrozen,ae.triggerOptions.auto,q)})),this._toDispose.add(this.model.onDidCancel(ae=>{ae.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{F||(this.model.cancel(),this.model.clear())}));const de=E.Context.AcceptSuggestionsOnEnter.bindTo(V),ce=()=>{const ae=this.editor.getOption(1);de.set(ae==="on"||ae==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>ce())),ce()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(te,Y){if(!te||!te.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const U=u.SnippetController2.get(this.editor);if(!U)return;const V=this.editor.getModel(),H=V.getAlternativeVersionId(),{item:$}=te,X=[],Q=new D.CancellationTokenSource;Y&1||this.editor.pushUndoStop();const de=this.getOverwriteInfo($,!!(Y&8));this._memoryService.memorize(V,this.editor.getPosition(),$);const ce=$.isResolved;let ae=-1,ue=-1;if(Array.isArray($.completion.additionalTextEdits)){this.model.cancel();const W=t.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",$.completion.additionalTextEdits.map(K=>r.EditOperation.replaceMove(h.Range.lift(K.range),K.text))),W.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!ce){const W=new o.StopWatch;let K;const ie=V.onDidChangeContent(ge=>{if(ge.isFlush){Q.cancel(),ie.dispose();return}for(const ve of ge.changes){const we=h.Range.getEndPosition(ve.range);(!K||l.Position.isBefore(we,K))&&(K=we)}}),ne=Y;Y|=2;let oe=!1;const re=this.editor.onWillType(()=>{re.dispose(),oe=!0,ne&2||this.editor.pushUndoStop()});X.push($.resolve(Q.token).then(()=>{if(!$.completion.additionalTextEdits||Q.token.isCancellationRequested)return;if(K&&$.completion.additionalTextEdits.some(ve=>l.Position.isBefore(K,h.Range.getStartPosition(ve.range))))return!1;oe&&this.editor.pushUndoStop();const ge=t.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",$.completion.additionalTextEdits.map(ve=>r.EditOperation.replaceMove(h.Range.lift(ve.range),ve.text))),ge.restoreRelativeVerticalPositionOfCursor(this.editor),(oe||!(ne&2))&&this.editor.pushUndoStop(),!0}).then(ge=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",W.elapsed(),ge),ue=ge===!0?1:ge===!1?0:-2}).finally(()=>{ie.dispose(),re.dispose()}))}let{insertText:q}=$.completion;if($.completion.insertTextRules&4||(q=a.SnippetParser.escape(q)),this.model.cancel(),U.insert(q,{overwriteBefore:de.overwriteBefore,overwriteAfter:de.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!($.completion.insertTextRules&1),clipboardText:te.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),Y&2||this.editor.pushUndoStop(),$.completion.command)if($.completion.command.id===R.id)this.model.trigger({auto:!0,retrigger:!0});else{const W=new o.StopWatch;X.push(this._commandService.executeCommand($.completion.command.id,...$.completion.command.arguments?[...$.completion.command.arguments]:[]).catch(K=>{$.completion.extensionId?(0,_.onUnexpectedExternalError)(K):(0,_.onUnexpectedError)(K)}).finally(()=>{ae=W.elapsed()}))}Y&4&&this._alternatives.value.set(te,W=>{for(Q.cancel();V.canUndo();){H!==V.getAlternativeVersionId()&&V.undo(),this._insertSuggestion(W,3|(Y&8?8:0));break}}),this._alertCompletionItem($),Promise.all(X).finally(()=>{this._reportSuggestionAcceptedTelemetry($,V,ce,ae,ue),this.model.clear(),Q.dispose()})}_reportSuggestionAcceptedTelemetry(te,Y,U,V,H){var $,X,Q;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(X=($=te.extensionId)===null||$===void 0?void 0:$.value)!==null&&X!==void 0?X:"unknown",providerId:(Q=te.provider._debugDisplayName)!==null&&Q!==void 0?Q:"unknown",kind:te.completion.kind,basenameHash:(0,x.hash)((0,O.basename)(Y.uri)).toString(16),languageId:Y.getLanguageId(),fileExtension:(0,O.extname)(Y.uri),resolveInfo:te.provider.resolveCompletionItem?U?1:0:-1,resolveDuration:te.resolveDuration,commandDuration:V,additionalEditsAsync:H})}getOverwriteInfo(te,Y){(0,i.assertType)(this.editor.hasModel());let U=this.editor.getOption(116).insertMode==="replace";Y&&(U=!U);const V=te.position.column-te.editStart.column,H=(U?te.editReplaceEnd.column:te.editInsertEnd.column)-te.position.column,$=this.editor.getPosition().column-te.position.column,X=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:V+$,overwriteAfter:H+X}}_alertCompletionItem(te){if((0,k.isNonEmptyArray)(te.completion.additionalTextEdits)){const Y=b.localize(0,null,te.textLabel,te.completion.additionalTextEdits.length);(0,y.alert)(Y)}}triggerSuggest(te,Y,U){this.editor.hasModel()&&(this.model.trigger({auto:Y??!1,completionOptions:{providerFilter:te,kindFilter:U?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(te){if(!this.editor.hasModel())return;const Y=this.editor.getPosition(),U=()=>{Y.equals(this.editor.getPosition())&&this._commandService.executeCommand(te.fallback)},V=H=>{if(H.completion.insertTextRules&4||H.completion.additionalTextEdits)return!0;const $=this.editor.getPosition(),X=H.editStart.column,Q=$.column;return Q-X!==H.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:$.lineNumber,startColumn:X,endLineNumber:$.lineNumber,endColumn:Q})!==H.completion.insertText};m.Event.once(this.model.onDidTrigger)(H=>{const $=[];m.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,f.dispose)($),U()},void 0,$),this.model.onDidSuggest(({completionModel:X})=>{if((0,f.dispose)($),X.items.length===0){U();return}const Q=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),X.items),de=X.items[Q];if(!V(de)){U();return}this.editor.pushUndoStop(),this._insertSuggestion({index:Q,item:de,model:X},7)},void 0,$)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(Y,0),this.editor.focus()}acceptSelectedSuggestion(te,Y){const U=this.widget.value.getFocusedItem();let V=0;te&&(V|=4),Y&&(V|=8),this._insertSuggestion(U,V)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(te){return this._selectors.register(te)}};e.SuggestController=z,z.ID="editor.contrib.suggestController",e.SuggestController=z=Ne([fe(1,d.ISuggestMemoryService),fe(2,g.ICommandService),fe(3,p.IContextKeyService),fe(4,C.IInstantiationService),fe(5,w.ILogService),fe(6,N.ITelemetryService)],z);class j{constructor(te){this.prioritySelector=te,this._items=new Array}register(te){if(this._items.indexOf(te)!==-1)throw new Error("Value is already registered");return this._items.push(te),this._items.sort((Y,U)=>this.prioritySelector(U)-this.prioritySelector(Y)),{dispose:()=>{const Y=this._items.indexOf(te);Y>=0&&this._items.splice(Y,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class R extends n.EditorAction{constructor(){super({id:R.id,label:b.localize(1,null),alias:"Trigger Suggest",precondition:p.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasCompletionItemProvider,E.Context.Visible.toNegated()),kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(te,Y,U){const V=z.get(Y);if(!V)return;let H;U&&typeof U=="object"&&U.auto===!0&&(H=!0),V.triggerSuggest(void 0,H,void 0)}}e.TriggerSuggestAction=R,R.id="editor.action.triggerSuggest",(0,n.registerEditorContribution)(z.ID,z,2),(0,n.registerEditorAction)(R);const Z=100+90,se=n.EditorCommand.bindToContribution(z.get);(0,n.registerEditorCommand)(new se({id:"acceptSelectedSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion),handler(le){le.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:p.ContextKeyExpr.and(E.Context.Visible,s.EditorContextKeys.textInputFocus),weight:Z},{primary:3,kbExpr:p.ContextKeyExpr.and(E.Context.Visible,s.EditorContextKeys.textInputFocus,E.Context.AcceptSuggestionsOnEnter,E.Context.MakesTextEdit),weight:Z}],menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,title:b.localize(2,null),group:"left",order:1,when:E.Context.HasInsertAndReplaceRange.toNegated()},{menuId:E.suggestWidgetStatusbarMenu,title:b.localize(3,null),group:"left",order:1,when:p.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert"))},{menuId:E.suggestWidgetStatusbarMenu,title:b.localize(4,null),group:"left",order:1,when:p.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace"))}]})),(0,n.registerEditorCommand)(new se({id:"acceptAlternativeSelectedSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,s.EditorContextKeys.textInputFocus,E.Context.HasFocusedSuggestion),kbOpts:{weight:Z,kbExpr:s.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(le){le.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:p.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert")),title:b.localize(5,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:p.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace")),title:b.localize(6,null)}]})),g.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,n.registerEditorCommand)(new se({id:"hideSuggestWidget",precondition:E.Context.Visible,handler:le=>le.cancelSuggestWidget(),kbOpts:{weight:Z,kbExpr:s.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,n.registerEditorCommand)(new se({id:"selectNextSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:le=>le.selectNextSuggestion(),kbOpts:{weight:Z,kbExpr:s.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,n.registerEditorCommand)(new se({id:"selectNextPageSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:le=>le.selectNextPageSuggestion(),kbOpts:{weight:Z,kbExpr:s.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,n.registerEditorCommand)(new se({id:"selectLastSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:le=>le.selectLastSuggestion()})),(0,n.registerEditorCommand)(new se({id:"selectPrevSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:le=>le.selectPrevSuggestion(),kbOpts:{weight:Z,kbExpr:s.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,n.registerEditorCommand)(new se({id:"selectPrevPageSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:le=>le.selectPrevPageSuggestion(),kbOpts:{weight:Z,kbExpr:s.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,n.registerEditorCommand)(new se({id:"selectFirstSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,p.ContextKeyExpr.or(E.Context.MultipleSuggestions,E.Context.HasFocusedSuggestion.negate())),handler:le=>le.selectFirstSuggestion()})),(0,n.registerEditorCommand)(new se({id:"focusSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion.negate()),handler:le=>le.focusSuggestion(),kbOpts:{weight:Z,kbExpr:s.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,n.registerEditorCommand)(new se({id:"focusAndAcceptSuggestion",precondition:p.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion.negate()),handler:le=>{le.focusSuggestion(),le.acceptSelectedSuggestion(!0,!1)}})),(0,n.registerEditorCommand)(new se({id:"toggleSuggestionDetails",precondition:p.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion),handler:le=>le.toggleSuggestionDetails(),kbOpts:{weight:Z,kbExpr:s.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:p.ContextKeyExpr.and(E.Context.DetailsVisible,E.Context.CanResolve),title:b.localize(7,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:p.ContextKeyExpr.and(E.Context.DetailsVisible.toNegated(),E.Context.CanResolve),title:b.localize(8,null)}]})),(0,n.registerEditorCommand)(new se({id:"toggleExplainMode",precondition:E.Context.Visible,handler:le=>le.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,n.registerEditorCommand)(new se({id:"toggleSuggestionFocus",precondition:E.Context.Visible,handler:le=>le.toggleSuggestionFocus(),kbOpts:{weight:Z,kbExpr:s.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,n.registerEditorCommand)(new se({id:"insertBestCompletion",precondition:p.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,p.ContextKeyExpr.equals("config.editor.tabCompletion","on"),c.WordContextKey.AtEnd,E.Context.Visible.toNegated(),I.SuggestAlternatives.OtherSuggestions.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:(le,te)=>{le.triggerSuggestAndAcceptBest((0,i.isObject)(te)?Object.assign({fallback:"tab"},te):{fallback:"tab"})},kbOpts:{weight:Z,primary:2}})),(0,n.registerEditorCommand)(new se({id:"insertNextSuggestion",precondition:p.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,p.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:le=>le.acceptNextSuggestion(),kbOpts:{weight:Z,kbExpr:s.EditorContextKeys.textInputFocus,primary:2}})),(0,n.registerEditorCommand)(new se({id:"insertPrevSuggestion",precondition:p.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,p.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:le=>le.acceptPrevSuggestion(),kbOpts:{weight:Z,kbExpr:s.EditorContextKeys.textInputFocus,primary:1026}})),(0,n.registerEditorAction)(class extends n.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:b.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(le,te){var Y;(Y=z.get(te))===null||Y===void 0||Y.resetWidgetSize()}})}),define(J[907],ee([1,0,6,2,11,5,30,130,373,374,42,294,15]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestItemInfo=e.SuggestWidgetAdaptor=void 0;class t extends k.Disposable{get selectedItem(){return this._selectedItem}constructor(h,s,u){super(),this.editor=h,this.suggestControllerPreselector=s,this.checkModelVersion=u,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,v.observableValue)("suggestWidgetInlineCompletionProvider.selectedItem",void 0),this._register(h.onKeyDown(d=>{d.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(h.onKeyUp(d=>{d.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const a=f.SuggestController.get(this.editor);if(a){this._register(a.registerSelector({priority:100,select:(b,g,p)=>{var C;(0,v.transaction)(A=>this.checkModelVersion(A));const w=this.editor.getModel();if(!w)return-1;const E=(C=this.suggestControllerPreselector())===null||C===void 0?void 0:C.removeCommonPrefix(w);if(!E)return-1;const I=L.Position.lift(g),T=p.map((A,M)=>{const O=n.fromSuggestion(a,w,I,A,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(w),x=E.augments(O);return{index:M,valid:x,prefixLength:O.text.length,suggestItem:A}}).filter(A=>A&&A.valid&&A.prefixLength>0),P=(0,i.findMaxBy)(T,(0,i.compareBy)(A=>A.prefixLength,i.numberComparator));return P?P.index:-1}}));let d=!1;const c=()=>{d||(d=!0,this._register(a.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(a.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(a.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(y.Event.once(a.model.onDidTrigger)(b=>{c()}))}this.update(this._isActive)}update(h){const s=this.getSuggestItemInfo();(this._isActive!==h||!r(this._currentSuggestItemInfo,s))&&(this._isActive=h,this._currentSuggestItemInfo=s,(0,v.transaction)(u=>{this.checkModelVersion(u),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,u)}))}getSuggestItemInfo(){const h=f.SuggestController.get(this.editor);if(!h||!this.isSuggestWidgetVisible)return;const s=h.widget.value.getFocusedItem(),u=this.editor.getPosition(),a=this.editor.getModel();if(!(!s||!u||!a))return n.fromSuggestion(h,a,u,s.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const h=f.SuggestController.get(this.editor);h?.stopForceRenderingAbove()}forceRenderingAbove(){const h=f.SuggestController.get(this.editor);h?.forceRenderingAbove()}}e.SuggestWidgetAdaptor=t;class n{static fromSuggestion(h,s,u,a,d){let{insertText:c}=a.completion,b=!1;if(a.completion.insertTextRules&4){const p=new m.SnippetParser().parse(c);p.children.length<100&&S.SnippetSession.adjustWhitespace(s,u,!0,p),c=p.toString(),b=!0}const g=h.getOverwriteInfo(a,d);return new n(D.Range.fromPositions(u.delta(0,-g.overwriteBefore),u.delta(0,Math.max(g.overwriteAfter,0))),c,a.completion.kind,b)}constructor(h,s,u,a){this.range=h,this.insertText=s,this.completionItemKind=u,this.isSnippetText=a}equals(h){return this.range.equalsRange(h.range)&&this.insertText===h.insertText&&this.completionItemKind===h.completionItemKind&&this.isSnippetText===h.isSnippetText}toSelectedSuggestionInfo(){return new _.SelectedSuggestionInfo(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new o.SingleTextEdit(this.range,this.insertText)}}e.SuggestItemInfo=n;function r(l,h){return l===h?!0:!l||!h?!1:l.equals(h)}}),define(J[257],ee([1,0,48,6,2,42,100,191,11,75,19,215,741,237,253,905,907,116,25,28,14,8]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsController=void 0;let c=class mn extends L.Disposable{static get(g){return g.getContribution(mn.ID)}constructor(g,p,C,w,E,I,T,P){super(),this.editor=g,this.instantiationService=p,this.contextKeyService=C,this.configurationService=w,this.commandService=E,this.debounceService=I,this.languageFeaturesService=T,this.audioCueService=P,this.model=(0,_.disposableObservableValue)("inlineCompletionModel",void 0),this.textModelVersionId=(0,D.observableValue)("textModelVersionId",-1),this.cursorPosition=(0,D.observableValue)("cursorPosition",new S.Position(1,1)),this.suggestWidgetAdaptor=this._register(new l.SuggestWidgetAdaptor(this.editor,()=>{var N,O;return(O=(N=this.model.get())===null||N===void 0?void 0:N.selectedInlineCompletion.get())===null||O===void 0?void 0:O.toSingleTextEdit(void 0)},N=>this.updateObservables(N,r.VersionIdChangeReason.Other))),this._enabled=(0,D.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(61).enabled),this.ghostTextWidget=this._register(this.instantiationService.createInstance(i.GhostTextWidget,this.editor,{ghostText:this.model.map((N,O)=>N?.ghostText.read(O)),minReservedLineCount:(0,D.constObservable)(0),targetTextModel:this.model.map(N=>N?.textModel)})),this._debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(new t.InlineCompletionContextKeys(this.contextKeyService,this.model)),this._register(k.Event.runAndSubscribe(g.onDidChangeModel,()=>(0,_.transaction)(N=>{this.model.set(void 0,N),this.updateObservables(N,r.VersionIdChangeReason.Other);const O=g.getModel();if(O){const x=p.createInstance(r.InlineCompletionsModel,O,this.suggestWidgetAdaptor.selectedItem,this.cursorPosition,this.textModelVersionId,this._debounceValue,(0,D.observableFromEvent)(g.onDidChangeConfiguration,()=>g.getOption(116).preview),(0,D.observableFromEvent)(g.onDidChangeConfiguration,()=>g.getOption(116).previewMode),(0,D.observableFromEvent)(g.onDidChangeConfiguration,()=>g.getOption(61).mode),this._enabled);this.model.set(x,N)}})));const A=N=>{var O;return N.isUndoing?r.VersionIdChangeReason.Undo:N.isRedoing?r.VersionIdChangeReason.Redo:!((O=this.model.get())===null||O===void 0)&&O.isAcceptingPartially?r.VersionIdChangeReason.AcceptWord:r.VersionIdChangeReason.Other};this._register(g.onDidChangeModelContent(N=>(0,_.transaction)(O=>this.updateObservables(O,A(N))))),this._register(g.onDidChangeCursorPosition(N=>(0,_.transaction)(O=>{var x;this.updateObservables(O,r.VersionIdChangeReason.Other),N.reason===3&&((x=this.model.get())===null||x===void 0||x.stop(O))}))),this._register(g.onDidType(()=>(0,_.transaction)(N=>{var O;this.updateObservables(N,r.VersionIdChangeReason.Other),this._enabled.get()&&((O=this.model.get())===null||O===void 0||O.trigger(N))}))),this._register(this.commandService.onDidExecuteCommand(N=>{new Set([m.CoreEditingCommands.Tab.id,m.CoreEditingCommands.DeleteLeft.id,m.CoreEditingCommands.DeleteRight.id,o.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(N.commandId)&&g.hasTextFocus()&&this._enabled.get()&&(0,_.transaction)(x=>{var F;(F=this.model.get())===null||F===void 0||F.trigger(x)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.configurationService.getValue("editor.inlineSuggest.keepOnBlur")||g.getOption(61).keepOnBlur||n.InlineSuggestionHintsContentWidget.dropDownVisible||(0,_.transaction)(N=>{var O;(O=this.model.get())===null||O===void 0||O.stop(N)})})),this._register((0,D.autorun)("forceRenderingAbove",N=>{var O;const x=(O=this.model.read(N))===null||O===void 0?void 0:O.state.read(N);x?.suggestItem?x.ghostText.lineCount>=2&&this.suggestWidgetAdaptor.forceRenderingAbove():this.suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,L.toDisposable)(()=>{this.suggestWidgetAdaptor.stopForceRenderingAbove()}));let M;this._register((0,D.autorun)("play audio cue & read suggestion",N=>{const O=this.model.read(N),x=O?.state.read(N);if(!O||!x||!x.inlineCompletion){M=void 0;return}if(x.inlineCompletion.semanticId!==M){M=x.inlineCompletion.semanticId;const F=O.textModel.getLineContent(x.ghostText.lineNumber);this.audioCueService.playAudioCue(h.AudioCue.inlineSuggestion).then(()=>{this.editor.getOption(7)&&(0,y.alert)(x.ghostText.renderForScreenReader(F))})}})),this._register(new n.InlineCompletionsHintsWidget(this.editor,this.model,this.instantiationService))}updateObservables(g,p){var C,w;const E=this.editor.getModel();this.textModelVersionId.set((C=E?.getVersionId())!==null&&C!==void 0?C:-1,g,p),this.cursorPosition.set((w=this.editor.getPosition())!==null&&w!==void 0?w:new S.Position(1,1),g)}shouldShowHoverAt(g){var p;const C=(p=this.model.get())===null||p===void 0?void 0:p.ghostText.get();return C?C.parts.some(w=>g.containsPosition(new S.Position(C.lineNumber,w.column))):!1}shouldShowHoverAtViewZone(g){return this.ghostTextWidget.ownsViewZone(g)}};e.InlineCompletionsController=c,c.ID="editor.contrib.inlineCompletionsController",e.InlineCompletionsController=c=Ne([fe(1,d.IInstantiationService),fe(2,a.IContextKeyService),fe(3,u.IConfigurationService),fe(4,s.ICommandService),fe(5,f.ILanguageFeatureDebounceService),fe(6,v.ILanguageFeaturesService),fe(7,h.IAudioCueService)],c)}),define(J[908],ee([1,0,42,16,20,215,237,257,136,670,29,28,14]),function(G,e,y,k,L,D,_,m,S,f,v,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleAlwaysShowInlineSuggestionToolbar=e.HideInlineCompletion=e.AcceptInlineCompletion=e.AcceptNextLineOfInlineCompletion=e.AcceptNextWordOfInlineCompletion=e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=void 0;class t extends k.EditorAction{constructor(){super({id:t.ID,label:f.localize(0,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(L.EditorContextKeys.writable,_.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(c,b){var g;return Le(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(b);(g=p?.model.get())===null||g===void 0||g.next()})}}e.ShowNextInlineSuggestionAction=t,t.ID=D.showNextInlineSuggestionActionId;class n extends k.EditorAction{constructor(){super({id:n.ID,label:f.localize(1,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(L.EditorContextKeys.writable,_.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(c,b){var g;return Le(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(b);(g=p?.model.get())===null||g===void 0||g.previous()})}}e.ShowPreviousInlineSuggestionAction=n,n.ID=D.showPreviousInlineSuggestionActionId;class r extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:f.localize(2,null),alias:"Trigger Inline Suggestion",precondition:L.EditorContextKeys.writable})}run(c,b){var g;return Le(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(b);(g=p?.model.get())===null||g===void 0||g.triggerExplicitly()})}}e.TriggerInlineSuggestionAction=r;class l extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:f.localize(3,null),alias:"Accept Next Word Of Inline Suggestion",precondition:i.ContextKeyExpr.and(L.EditorContextKeys.writable,_.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100+1,primary:2065,kbExpr:i.ContextKeyExpr.and(L.EditorContextKeys.writable,_.InlineCompletionContextKeys.inlineSuggestionVisible)},menuOpts:[{menuId:v.MenuId.InlineSuggestionToolbar,title:f.localize(4,null),group:"primary",order:2}]})}run(c,b){var g;return Le(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(b);yield(g=p?.model.get())===null||g===void 0?void 0:g.acceptNextWord(p.editor)})}}e.AcceptNextWordOfInlineCompletion=l;class h extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:f.localize(5,null),alias:"Accept Next Line Of Inline Suggestion",precondition:i.ContextKeyExpr.and(L.EditorContextKeys.writable,_.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100+1},menuOpts:[{menuId:v.MenuId.InlineSuggestionToolbar,title:f.localize(6,null),group:"secondary",order:2}]})}run(c,b){var g;return Le(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(b);yield(g=p?.model.get())===null||g===void 0?void 0:g.acceptNextLine(p.editor)})}}e.AcceptNextLineOfInlineCompletion=h;class s extends k.EditorAction{constructor(){super({id:D.inlineSuggestCommitId,label:f.localize(7,null),alias:"Accept Inline Suggestion",precondition:_.InlineCompletionContextKeys.inlineSuggestionVisible,menuOpts:[{menuId:v.MenuId.InlineSuggestionToolbar,title:f.localize(8,null),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:i.ContextKeyExpr.and(_.InlineCompletionContextKeys.inlineSuggestionVisible,L.EditorContextKeys.tabMovesFocus.toNegated(),_.InlineCompletionContextKeys.inlineSuggestionHasIndentationLessThanTabSize,S.Context.Visible.toNegated())}})}run(c,b){var g;return Le(this,void 0,void 0,function*(){const p=m.InlineCompletionsController.get(b);p&&((g=p.model.get())===null||g===void 0||g.accept(p.editor),p.editor.focus())})}}e.AcceptInlineCompletion=s;class u extends k.EditorAction{constructor(){super({id:u.ID,label:f.localize(9,null),alias:"Hide Inline Suggestion",precondition:_.InlineCompletionContextKeys.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(c,b){return Le(this,void 0,void 0,function*(){const g=m.InlineCompletionsController.get(b);(0,y.transaction)(p=>{var C;(C=g?.model.get())===null||C===void 0||C.stop(p)})})}}e.HideInlineCompletion=u,u.ID="editor.action.inlineSuggest.hide";class a extends v.Action2{constructor(){super({id:a.ID,title:f.localize(10,null),f1:!1,precondition:void 0,menu:[{id:v.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:i.ContextKeyExpr.equals("config.editor.inlineSuggest.showToolbar","always")})}run(c,b){return Le(this,void 0,void 0,function*(){const g=c.get(o.IConfigurationService),C=g.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";g.updateValue("editor.inlineSuggest.showToolbar",C)})}}e.ToggleAlwaysShowInlineSuggestionToolbar=a,a.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}),define(J[909],ee([1,0,7,55,2,42,5,41,101,257,253,117,671,83,8,56,78]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class h{constructor(a,d,c){this.owner=a,this.range=d,this.controller=c}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}}e.InlineCompletionsHover=h;let s=class{constructor(a,d,c,b,g,p){this._editor=a,this._languageService=d,this._openerService=c,this.accessibilityService=b,this._instantiationService=g,this._telemetryService=p,this.hoverOrdinal=4}suggestHoverAnchor(a){const d=f.InlineCompletionsController.get(this._editor);if(!d)return null;const c=a.target;if(c.type===8){const b=c.detail;if(d.shouldShowHoverAtViewZone(b.viewZoneId))return new S.HoverForeignElementAnchor(1e3,this,_.Range.fromPositions(this._editor.getModel().validatePosition(b.positionBefore||b.position)),a.event.posx,a.event.posy,!1)}return c.type===7&&d.shouldShowHoverAt(c.range)?new S.HoverForeignElementAnchor(1e3,this,c.range,a.event.posx,a.event.posy,!1):c.type===6&&c.detail.mightBeForeignElement&&d.shouldShowHoverAt(c.range)?new S.HoverForeignElementAnchor(1e3,this,c.range,a.event.posx,a.event.posy,!1):null}computeSync(a,d){if(this._editor.getOption(61).showToolbar==="always")return[];const c=f.InlineCompletionsController.get(this._editor);return c&&c.shouldShowHoverAt(a.range)?[new h(this,a.range,c)]:[]}renderHoverParts(a,d){const c=new L.DisposableStore,b=d[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(7)&&this.renderScreenReaderText(a,b,c);const g=b.controller.model.get(),p=this._instantiationService.createInstance(v.InlineSuggestionHintsContentWidget,this._editor,!1,(0,D.constObservable)(null),g.selectedInlineCompletionIndex,g.inlineCompletionsCount,g.selectedInlineCompletion.map(C=>{var w;return(w=C?.inlineCompletion.source.inlineCompletions.commands)!==null&&w!==void 0?w:[]}));return a.fragment.appendChild(p.getDomNode()),g.triggerExplicitly(),c.add(p),c}renderScreenReaderText(a,d,c){const b=y.$,g=b("div.hover-row.markdown-hover"),p=y.append(g,b("div.hover-contents",{["aria-live"]:"assertive"})),C=c.add(new o.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),w=E=>{c.add(C.onDidRenderAsync(()=>{p.className="hover-contents code-hover-contents",a.onContentsChanged()}));const I=i.localize(0,null),T=c.add(C.render(new k.MarkdownString().appendText(I).appendCodeblock("text",E)));p.replaceChildren(T.element)};c.add((0,D.autorun)("update hover",E=>{var I;const T=(I=d.controller.model.read(E))===null||I===void 0?void 0:I.ghostText.read(E);if(T){const P=this._editor.getModel().getLineContent(T.lineNumber);w(T.renderForScreenReader(P))}else y.reset(p)})),a.fragment.appendChild(g)}};e.InlineCompletionsHoverParticipant=s,e.InlineCompletionsHoverParticipant=s=Ne([fe(1,m.ILanguageService),fe(2,r.IOpenerService),fe(3,t.IAccessibilityService),fe(4,n.IInstantiationService),fe(5,l.ITelemetryService)],s)}),define(J[910],ee([1,0,16,101,908,909,257,29]),function(G,e,y,k,L,D,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerEditorContribution)(_.InlineCompletionsController.ID,_.InlineCompletionsController,3),(0,y.registerEditorAction)(L.TriggerInlineSuggestionAction),(0,y.registerEditorAction)(L.ShowNextInlineSuggestionAction),(0,y.registerEditorAction)(L.ShowPreviousInlineSuggestionAction),(0,y.registerEditorAction)(L.AcceptNextWordOfInlineCompletion),(0,y.registerEditorAction)(L.AcceptNextLineOfInlineCompletion),(0,y.registerEditorAction)(L.AcceptInlineCompletion),(0,y.registerEditorAction)(L.HideInlineCompletion),(0,m.registerAction2)(L.ToggleAlwaysShowInlineSuggestionToolbar),k.HoverParticipantRegistry.register(D.InlineCompletionsHoverParticipant)}),define(J[375],ee([1,0,8]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,y.createDecorator)("workspaceTrustManagementService")}),define(J[911],ee([1,0,13,26,55,2,17,9,16,36,39,285,115,41,321,101,249,825,701,28,8,56,76,63,375,460]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,b.registerIcon)("extensions-warning-message",k.Codicon.warning,s.localize(0,null));let p=class extends D.Disposable{constructor(te,Y,U,V){super(),this._editor=te,this._editorWorkerService=Y,this._workspaceTrustService=U,this._highlighter=null,this._bannerClosed=!1,this._updateState=H=>{if(H&&H.hasMore){if(this._bannerClosed)return;const $=Math.max(H.ambiguousCharacterCount,H.nonBasicAsciiCharacterCount,H.invisibleCharacterCount);let X;if(H.nonBasicAsciiCharacterCount>=$)X={message:s.localize(1,null),command:new z};else if(H.ambiguousCharacterCount>=$)X={message:s.localize(2,null),command:new F};else if(H.invisibleCharacterCount>=$)X={message:s.localize(3,null),command:new B};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:X.message,icon:e.warningIcon,actions:[{label:X.command.shortLabel,href:`command:${X.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(V.createInstance(h.BannerController,te)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=te.getOption(123),this._register(U.onDidChangeTrust(H=>{this._updateHighlighter()})),this._register(te.onDidChangeConfiguration(H=>{H.hasChanged(123)&&(this._options=te.getOption(123),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const te=C(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([te.nonBasicASCII,te.ambiguousCharacters,te.invisibleCharacters].every(U=>U===!1))return;const Y={nonBasicASCII:te.nonBasicASCII,ambiguousCharacters:te.ambiguousCharacters,invisibleCharacters:te.invisibleCharacters,includeComments:te.includeComments,includeStrings:te.includeStrings,allowedCodePoints:Object.keys(te.allowedCharacters).map(U=>U.codePointAt(0)),allowedLocales:Object.keys(te.allowedLocales).map(U=>U==="_os"?new Intl.NumberFormat().resolvedOptions().locale:U==="_vscode"?_.language:U)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new w(this._editor,Y,this._updateState,this._editorWorkerService):this._highlighter=new E(this._editor,Y,this._updateState)}getDecorationInfo(te){return this._highlighter?this._highlighter.getDecorationInfo(te):null}};e.UnicodeHighlighter=p,p.ID="editor.contrib.unicodeHighlighter",e.UnicodeHighlighter=p=Ne([fe(1,i.IEditorWorkerService),fe(2,g.IWorkspaceTrustManagementService),fe(3,a.IInstantiationService)],p);function C(le,te){return{nonBasicASCII:te.nonBasicASCII===f.inUntrustedWorkspace?!le:te.nonBasicASCII,ambiguousCharacters:te.ambiguousCharacters,invisibleCharacters:te.invisibleCharacters,includeComments:te.includeComments===f.inUntrustedWorkspace?!le:te.includeComments,includeStrings:te.includeStrings===f.inUntrustedWorkspace?!le:te.includeStrings,allowedCharacters:te.allowedCharacters,allowedLocales:te.allowedLocales}}let w=class extends D.Disposable{constructor(te,Y,U,V){super(),this._editor=te,this._options=Y,this._updateState=U,this._editorWorkerService=V,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new y.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const te=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(Y=>{if(this._model.isDisposed()||this._model.getVersionId()!==te)return;this._updateState(Y);const U=[];if(!Y.hasMore)for(const V of Y.ranges)U.push({range:V,options:N.instance.getDecorationFromOptions(this._options)});this._decorations.set(U)})}getDecorationInfo(te){if(!this._decorations.has(te))return null;const Y=this._editor.getModel();if(!(0,n.isModelDecorationVisible)(Y,te))return null;const U=Y.getValueInRange(te.range);return{reason:M(U,this._options),inComment:(0,n.isModelDecorationInComment)(Y,te),inString:(0,n.isModelDecorationInString)(Y,te)}}};w=Ne([fe(3,i.IEditorWorkerService)],w);class E extends D.Disposable{constructor(te,Y,U){super(),this._editor=te,this._options=Y,this._updateState=U,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new y.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const te=this._editor.getVisibleRanges(),Y=[],U={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const V of te){const H=o.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,V);for(const $ of H.ranges)U.ranges.push($);U.ambiguousCharacterCount+=U.ambiguousCharacterCount,U.invisibleCharacterCount+=U.invisibleCharacterCount,U.nonBasicAsciiCharacterCount+=U.nonBasicAsciiCharacterCount,U.hasMore=U.hasMore||H.hasMore}if(!U.hasMore)for(const V of U.ranges)Y.push({range:V,options:N.instance.getDecorationFromOptions(this._options)});this._updateState(U),this._decorations.set(Y)}getDecorationInfo(te){if(!this._decorations.has(te))return null;const Y=this._editor.getModel(),U=Y.getValueInRange(te.range);return(0,n.isModelDecorationVisible)(Y,te)?{reason:M(U,this._options),inComment:(0,n.isModelDecorationInComment)(Y,te),inString:(0,n.isModelDecorationInString)(Y,te)}:null}}let I=class{constructor(te,Y,U){this._editor=te,this._languageService=Y,this._openerService=U,this.hoverOrdinal=5}computeSync(te,Y){if(!this._editor.hasModel()||te.type!==1)return[];const U=this._editor.getModel(),V=this._editor.getContribution(p.ID);if(!V)return[];const H=[],$=new Set;let X=300;for(const Q of Y){const de=V.getDecorationInfo(Q);if(!de)continue;const ae=U.getValueInRange(Q.range).codePointAt(0),ue=P(ae);let q;switch(de.reason.kind){case 0:{(0,m.isBasicASCII)(de.reason.confusableWith)?q=s.localize(4,null,ue,P(de.reason.confusableWith.codePointAt(0))):q=s.localize(5,null,ue,P(de.reason.confusableWith.codePointAt(0)));break}case 1:q=s.localize(6,null,ue);break;case 2:q=s.localize(7,null,ue);break}if($.has(q))continue;$.add(q);const W={codePoint:ae,reason:de.reason,inComment:de.inComment,inString:de.inString},K=s.localize(8,null),ie=`command:${j.ID}?${encodeURIComponent(JSON.stringify(W))}`,ne=new L.MarkdownString("",!0).appendMarkdown(q).appendText(" ").appendLink(ie,K);H.push(new l.MarkdownHover(this,Q.range,[ne],!1,X++))}return H}renderHoverParts(te,Y){return(0,l.renderMarkdownHovers)(te,Y,this._editor,this._languageService,this._openerService)}};e.UnicodeHighlighterHoverParticipant=I,e.UnicodeHighlighterHoverParticipant=I=Ne([fe(1,t.ILanguageService),fe(2,d.IOpenerService)],I);function T(le){return`U+${le.toString(16).padStart(4,"0")}`}function P(le){let te=`\`${T(le)}\``;return m.InvisibleCharacters.isInvisibleCharacter(le)||(te+=` "${`${A(le)}`}"`),te}function A(le){return le===96?"`` ` ``":"`"+String.fromCodePoint(le)+"`"}function M(le,te){return o.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(le,te)}class N{constructor(){this.map=new Map}getDecorationFromOptions(te){return this.getDecoration(!te.includeComments,!te.includeStrings)}getDecoration(te,Y){const U=`${te}${Y}`;let V=this.map.get(U);return V||(V=v.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:te,hideInStringTokens:Y}),this.map.set(U,V)),V}}N.instance=new N;class O extends S.EditorAction{constructor(){super({id:F.ID,label:s.localize(10,null),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=s.localize(9,null)}run(te,Y,U){return Le(this,void 0,void 0,function*(){const V=te?.get(u.IConfigurationService);V&&this.runAction(V)})}runAction(te){return Le(this,void 0,void 0,function*(){yield te.updateValue(f.unicodeHighlightConfigKeys.includeComments,!1,2)})}}e.DisableHighlightingInCommentsAction=O;class x extends S.EditorAction{constructor(){super({id:F.ID,label:s.localize(12,null),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=s.localize(11,null)}run(te,Y,U){return Le(this,void 0,void 0,function*(){const V=te?.get(u.IConfigurationService);V&&this.runAction(V)})}runAction(te){return Le(this,void 0,void 0,function*(){yield te.updateValue(f.unicodeHighlightConfigKeys.includeStrings,!1,2)})}}e.DisableHighlightingInStringsAction=x;class F extends S.EditorAction{constructor(){super({id:F.ID,label:s.localize(14,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=s.localize(13,null)}run(te,Y,U){return Le(this,void 0,void 0,function*(){const V=te?.get(u.IConfigurationService);V&&this.runAction(V)})}runAction(te){return Le(this,void 0,void 0,function*(){yield te.updateValue(f.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)})}}e.DisableHighlightingOfAmbiguousCharactersAction=F,F.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class B extends S.EditorAction{constructor(){super({id:B.ID,label:s.localize(16,null),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=s.localize(15,null)}run(te,Y,U){return Le(this,void 0,void 0,function*(){const V=te?.get(u.IConfigurationService);V&&this.runAction(V)})}runAction(te){return Le(this,void 0,void 0,function*(){yield te.updateValue(f.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)})}}e.DisableHighlightingOfInvisibleCharactersAction=B,B.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class z extends S.EditorAction{constructor(){super({id:z.ID,label:s.localize(18,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=s.localize(17,null)}run(te,Y,U){return Le(this,void 0,void 0,function*(){const V=te?.get(u.IConfigurationService);V&&this.runAction(V)})}runAction(te){return Le(this,void 0,void 0,function*(){yield te.updateValue(f.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=z,z.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class j extends S.EditorAction{constructor(){super({id:j.ID,label:s.localize(19,null),alias:"Show Exclude Options",precondition:void 0})}run(te,Y,U){return Le(this,void 0,void 0,function*(){const{codePoint:V,reason:H,inString:$,inComment:X}=U,Q=String.fromCodePoint(V),de=te.get(c.IQuickInputService),ce=te.get(u.IConfigurationService);function ae(W){return m.InvisibleCharacters.isInvisibleCharacter(W)?s.localize(20,null,T(W)):s.localize(21,null,`${T(W)} "${Q}"`)}const ue=[];if(H.kind===0)for(const W of H.notAmbiguousInLocales)ue.push({label:s.localize(22,null,W),run:()=>Le(this,void 0,void 0,function*(){Z(ce,[W])})});if(ue.push({label:ae(V),run:()=>R(ce,[V])}),X){const W=new O;ue.push({label:W.label,run:()=>Le(this,void 0,void 0,function*(){return W.runAction(ce)})})}else if($){const W=new x;ue.push({label:W.label,run:()=>Le(this,void 0,void 0,function*(){return W.runAction(ce)})})}if(H.kind===0){const W=new F;ue.push({label:W.label,run:()=>Le(this,void 0,void 0,function*(){return W.runAction(ce)})})}else if(H.kind===1){const W=new B;ue.push({label:W.label,run:()=>Le(this,void 0,void 0,function*(){return W.runAction(ce)})})}else if(H.kind===2){const W=new z;ue.push({label:W.label,run:()=>Le(this,void 0,void 0,function*(){return W.runAction(ce)})})}else se(H);const q=yield de.pick(ue,{title:s.localize(23,null)});q&&(yield q.run())})}}e.ShowExcludeOptions=j,j.ID="editor.action.unicodeHighlight.showExcludeOptions";function R(le,te){return Le(this,void 0,void 0,function*(){const Y=le.getValue(f.unicodeHighlightConfigKeys.allowedCharacters);let U;typeof Y=="object"&&Y?U=Y:U={};for(const V of te)U[String.fromCodePoint(V)]=!0;yield le.updateValue(f.unicodeHighlightConfigKeys.allowedCharacters,U,2)})}function Z(le,te){var Y;return Le(this,void 0,void 0,function*(){const U=(Y=le.inspect(f.unicodeHighlightConfigKeys.allowedLocales).user)===null||Y===void 0?void 0:Y.value;let V;typeof U=="object"&&U?V=Object.assign({},U):V={};for(const H of te)V[H]=!0;yield le.updateValue(f.unicodeHighlightConfigKeys.allowedLocales,V,2)})}function se(le){throw new Error(`Unexpected value: ${le}`)}(0,S.registerEditorAction)(F),(0,S.registerEditorAction)(B),(0,S.registerEditorAction)(z),(0,S.registerEditorAction)(j),(0,S.registerEditorContribution)(p.ID,p,1),r.HoverParticipantRegistry.register(I)}),define(J[912],ee([1,0,191,164,254,239,785,868,786,787,788,819,870,894,878,789,901,790,871,902,903,361,362,793,794,760,910,255,256,367,365,368,796,896,879,797,798,882,883,799,888,824,849,850,851,801,196,898,374,802,803,776,911,804,889,349,805,800,94,174]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(J[258],ee([1,0,9,7,45,6,119,2,17,107,22,133,337,72,11,5,50,69,189,25,28,341,14,159,8,751,34,331,118,332,752,161,44,84,78,166,135,94,43,33,70,375,57,754,769,858,49,759,115,243,41,844,235,862,860,357,134,753,83,29,782,755,96,748,234,749,160,193,97,758,56,76,89,773,116,756,151,12,241,31,356,333,900,75,845,738]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E,I,T,P,A,M,N,O,x,F,B,z,j,R,Z,se,le,te,Y,U,V,H,$,X,Q,de,ce,ae,ue,q,W,K,ie,ne,oe,re,ge,ve,we,ye,Ie,Ee,De,Ae,Te,be,me,Se,he,Ce,pe){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class _e{constructor(Oe){this.disposed=!1,this.model=Oe,this._onWillDispose=new D.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let ke=class{constructor(Oe){this.modelService=Oe}createModelReference(Oe){const Ve=this.modelService.getModel(Oe);return Ve?Promise.resolve(new m.ImmortalReference(new _e(Ve))):Promise.reject(new Error("Model not found"))}};ke=Ne([fe(0,l.IModelService)],ke);class Re{show(){return Re.NULL_PROGRESS_RUNNER}showWhile(Oe,Ve){return Le(this,void 0,void 0,function*(){yield Oe})}}Re.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Pe{withProgress(Oe,Ve,Ue){return Ve({report:()=>{}})}}class Fe{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class We{confirm(Oe){return Le(this,void 0,void 0,function*(){return{confirmed:this.doConfirm(Oe.message,Oe.detail),checkboxChecked:!1}})}doConfirm(Oe,Ve){let Ue=Oe;return Ve&&(Ue=Ue+`

`+Ve),window.confirm(Ue)}prompt(Oe){var Ve,Ue;return Le(this,void 0,void 0,function*(){let Ge;if(this.doConfirm(Oe.message,Oe.detail)){const it=[...(Ve=Oe.buttons)!==null&&Ve!==void 0?Ve:[]];Oe.cancelButton&&typeof Oe.cancelButton!="string"&&typeof Oe.cancelButton!="boolean"&&it.push(Oe.cancelButton),Ge=yield(Ue=it[0])===null||Ue===void 0?void 0:Ue.run({checkboxChecked:!1})}return{result:Ge}})}error(Oe,Ve){return Le(this,void 0,void 0,function*(){yield this.prompt({type:f.default.Error,message:Oe,detail:Ve})})}}class xe{info(Oe){return this.notify({severity:f.default.Info,message:Oe})}warn(Oe){return this.notify({severity:f.default.Warning,message:Oe})}error(Oe){return this.notify({severity:f.default.Error,message:Oe})}notify(Oe){switch(Oe.severity){case f.default.Error:console.error(Oe.message);break;case f.default.Warning:console.warn(Oe.message);break;default:console.log(Oe.message);break}return xe.NO_OP}prompt(Oe,Ve,Ue,Ge){return xe.NO_OP}status(Oe,Ve){return m.Disposable.None}}e.StandaloneNotificationService=xe,xe.NO_OP=new A.NoOpNotification;let Ke=class{constructor(Oe){this._onWillExecuteCommand=new D.Emitter,this._onDidExecuteCommand=new D.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Oe}executeCommand(Oe,...Ve){const Ue=u.CommandsRegistry.getCommand(Oe);if(!Ue)return Promise.reject(new Error(`command '${Oe}' not found`));try{this._onWillExecuteCommand.fire({commandId:Oe,args:Ve});const Ge=this._instantiationService.invokeFunction.apply(this._instantiationService,[Ue.handler,...Ve]);return this._onDidExecuteCommand.fire({commandId:Oe,args:Ve}),Promise.resolve(Ge)}catch(Ge){return Promise.reject(Ge)}}};e.StandaloneCommandService=Ke,e.StandaloneCommandService=Ke=Ne([fe(0,g.IInstantiationService)],Ke);let je=class extends p.AbstractKeybindingService{constructor(Oe,Ve,Ue,Ge,tt,it){super(Oe,Ve,Ue,Ge,tt),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const dt=mt=>{const wt=new m.DisposableStore;wt.add(k.addDisposableListener(mt,k.EventType.KEY_DOWN,Ft=>{const Nt=new L.StandardKeyboardEvent(Ft);this._dispatch(Nt,Nt.target)&&(Nt.preventDefault(),Nt.stopPropagation())})),wt.add(k.addDisposableListener(mt,k.EventType.KEY_UP,Ft=>{const Nt=new L.StandardKeyboardEvent(Ft);this._singleModifierDispatch(Nt,Nt.target)&&Nt.preventDefault()})),this._domNodeListeners.push(new Je(mt,wt))},nt=mt=>{for(let wt=0;wt<this._domNodeListeners.length;wt++){const Ft=this._domNodeListeners[wt];Ft.domNode===mt&&(this._domNodeListeners.splice(wt,1),Ft.dispose())}},at=mt=>{mt.getOption(60)||dt(mt.getContainerDomNode())},ct=mt=>{mt.getOption(60)||nt(mt.getContainerDomNode())};this._register(it.onCodeEditorAdd(at)),this._register(it.onCodeEditorRemove(ct)),it.listCodeEditors().forEach(at);const pt=mt=>{dt(mt.getContainerDomNode())},St=mt=>{nt(mt.getContainerDomNode())};this._register(it.onDiffEditorAdd(pt)),this._register(it.onDiffEditorRemove(St)),it.listDiffEditors().forEach(pt)}addDynamicKeybinding(Oe,Ve,Ue,Ge){return(0,m.combinedDisposable)(u.CommandsRegistry.registerCommand(Oe,Ue),this.addDynamicKeybindings([{keybinding:Ve,command:Oe,when:Ge}]))}addDynamicKeybindings(Oe){const Ve=Oe.map(Ue=>{var Ge;return{keybinding:(0,_.decodeKeybinding)(Ue.keybinding,S.OS),command:(Ge=Ue.command)!==null&&Ge!==void 0?Ge:null,commandArgs:Ue.commandArgs,when:Ue.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(Ve),this.updateResolver(),(0,m.toDisposable)(()=>{for(let Ue=0;Ue<this._dynamicKeybindings.length;Ue++)if(this._dynamicKeybindings[Ue]===Ve[0]){this._dynamicKeybindings.splice(Ue,Ve.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Oe=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),Ve=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new w.KeybindingResolver(Oe,Ve,Ue=>this._log(Ue))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(Oe,Ve){const Ue=[];let Ge=0;for(const tt of Oe){const it=tt.when||void 0,dt=tt.keybinding;if(!dt)Ue[Ge++]=new I.ResolvedKeybindingItem(void 0,tt.command,tt.commandArgs,it,Ve,null,!1);else{const nt=T.USLayoutResolvedKeybinding.resolveKeybinding(dt,S.OS);for(const at of nt)Ue[Ge++]=new I.ResolvedKeybindingItem(at,tt.command,tt.commandArgs,it,Ve,null,!1)}}return Ue}resolveKeyboardEvent(Oe){const Ve=new _.KeyCodeChord(Oe.ctrlKey,Oe.shiftKey,Oe.altKey,Oe.metaKey,Oe.keyCode);return new T.USLayoutResolvedKeybinding([Ve],S.OS)}};e.StandaloneKeybindingService=je,e.StandaloneKeybindingService=je=Ne([fe(0,c.IContextKeyService),fe(1,u.ICommandService),fe(2,N.ITelemetryService),fe(3,A.INotificationService),fe(4,j.ILogService),fe(5,z.ICodeEditorService)],je);class Je extends m.Disposable{constructor(Oe,Ve){super(),this.domNode=Oe,this._register(Ve)}}function ze($e){return $e&&typeof $e=="object"&&(!$e.overrideIdentifier||typeof $e.overrideIdentifier=="string")&&(!$e.resource||$e.resource instanceof v.URI)}class Me{constructor(){this._onDidChangeConfiguration=new D.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const Oe=new be.DefaultConfiguration;this._configuration=new d.Configuration(Oe.reload(),new d.ConfigurationModel,new d.ConfigurationModel,new d.ConfigurationModel),Oe.dispose()}getValue(Oe,Ve){const Ue=typeof Oe=="string"?Oe:void 0,Ge=ze(Oe)?Oe:ze(Ve)?Ve:{};return this._configuration.getValue(Ue,Ge,void 0)}updateValues(Oe){const Ve={data:this._configuration.toData()},Ue=[];for(const Ge of Oe){const[tt,it]=Ge;this.getValue(tt)!==it&&(this._configuration.updateValue(tt,it),Ue.push(tt))}if(Ue.length>0){const Ge=new d.ConfigurationChangeEvent({keys:Ue,overrides:[]},Ve,this._configuration);Ge.source=8,Ge.sourceConfig=null,this._onDidChangeConfiguration.fire(Ge)}return Promise.resolve()}updateValue(Oe,Ve,Ue,Ge){return this.updateValues([[Oe,Ve]])}inspect(Oe,Ve={}){return this._configuration.inspect(Oe,Ve,void 0)}}e.StandaloneConfigurationService=Me;let Be=class{constructor(Oe,Ve,Ue){this.configurationService=Oe,this.modelService=Ve,this.languageService=Ue,this._onDidChangeConfiguration=new D.Emitter,this.configurationService.onDidChangeConfiguration(Ge=>{this._onDidChangeConfiguration.fire({affectedKeys:Ge.affectedKeys,affectsConfiguration:(tt,it)=>Ge.affectsConfiguration(it)})})}getValue(Oe,Ve,Ue){const Ge=n.Position.isIPosition(Ve)?Ve:null,tt=Ge?typeof Ue=="string"?Ue:void 0:typeof Ve=="string"?Ve:void 0,it=Oe?this.getLanguage(Oe,Ge):void 0;return typeof tt>"u"?this.configurationService.getValue({resource:Oe,overrideIdentifier:it}):this.configurationService.getValue(tt,{resource:Oe,overrideIdentifier:it})}getLanguage(Oe,Ve){const Ue=this.modelService.getModel(Oe);return Ue?Ve?Ue.getLanguageIdAtPosition(Ve.lineNumber,Ve.column):Ue.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(Oe)}};Be=Ne([fe(0,a.IConfigurationService),fe(1,l.IModelService),fe(2,$.ILanguageService)],Be);let He=class{constructor(Oe){this.configurationService=Oe}getEOL(Oe,Ve){const Ue=this.configurationService.getValue("files.eol",{overrideIdentifier:Ve,resource:Oe});return Ue&&typeof Ue=="string"&&Ue!=="auto"?Ue:S.isLinux||S.isMacintosh?`
`:`\r
`}};He=Ne([fe(0,a.IConfigurationService)],He);class Ze{publicLog2(){}}class Qe{constructor(){const Oe=v.URI.from({scheme:Qe.SCHEME,authority:"model",path:"/"});this.workspace={id:O.STANDALONE_EDITOR_WORKSPACE_ID,folders:[new O.WorkspaceFolder({uri:Oe,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Oe){return Oe&&Oe.scheme===Qe.SCHEME?this.workspace.folders[0]:null}}Qe.SCHEME="inmemory";function et($e,Oe,Ve){if(!Oe||!($e instanceof Me))return;const Ue=[];Object.keys(Oe).forEach(Ge=>{(0,i.isEditorConfigurationKey)(Ge)&&Ue.push([`editor.${Ge}`,Oe[Ge]]),Ve&&(0,i.isDiffEditorConfigurationKey)(Ge)&&Ue.push([`diffEditor.${Ge}`,Oe[Ge]])}),Ue.length>0&&$e.updateValues(Ue)}e.updateConfigurationService=et;let qe=class{constructor(Oe){this._modelService=Oe}hasPreviewHandler(){return!1}apply(Oe,Ve){return Le(this,void 0,void 0,function*(){const Ue=Array.isArray(Oe)?Oe:o.ResourceEdit.convert(Oe),Ge=new Map;for(const dt of Ue){if(!(dt instanceof o.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const nt=this._modelService.getModel(dt.resource);if(!nt)throw new Error("bad edit - model not found");if(typeof dt.versionId=="number"&&nt.getVersionId()!==dt.versionId)throw new Error("bad state - model changed in the meantime");let at=Ge.get(nt);at||(at=[],Ge.set(nt,at)),at.push(t.EditOperation.replaceMove(r.Range.lift(dt.textEdit.range),dt.textEdit.text))}let tt=0,it=0;for(const[dt,nt]of Ge)dt.pushStackElement(),dt.pushEditOperations([],nt,()=>[]),dt.pushStackElement(),it+=1,tt+=nt.length;return{ariaSummary:y.format(F.StandaloneServicesNLS.bulkEditServiceSummary,tt,it),isApplied:tt>0}})}};qe=Ne([fe(0,l.IModelService)],qe);class rt{getUriLabel(Oe,Ve){return Oe.scheme==="file"?Oe.fsPath:Oe.path}getUriBasenameLabel(Oe){return(0,B.basename)(Oe)}}let st=class extends se.ContextViewService{constructor(Oe,Ve){super(Oe),this._codeEditorService=Ve}showContextView(Oe,Ve,Ue){if(!Ve){const Ge=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();Ge&&(Ve=Ge.getContainerDomNode())}return super.showContextView(Oe,Ve,Ue)}};st=Ne([fe(0,x.ILayoutService),fe(1,z.ICodeEditorService)],st);class ut{constructor(){this._neverEmitter=new D.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class ht extends le.LanguageService{constructor(){super()}}class Ye extends Se.LogService{constructor(){super(new j.ConsoleLogger)}}let lt=class extends te.ContextMenuService{constructor(Oe,Ve,Ue,Ge,tt,it){super(Oe,Ve,Ue,Ge,tt,it),this.configure({blockMouse:!1})}};lt=Ne([fe(0,N.ITelemetryService),fe(1,A.INotificationService),fe(2,Z.IContextViewService),fe(3,C.IKeybindingService),fe(4,K.IMenuService),fe(5,c.IContextKeyService)],lt);class Ct{playAudioCue(Oe,Ve){return Le(this,void 0,void 0,function*(){})}}(0,Y.registerSingleton)(a.IConfigurationService,Me,0),(0,Y.registerSingleton)(s.ITextResourceConfigurationService,Be,0),(0,Y.registerSingleton)(s.ITextResourcePropertiesService,He,0),(0,Y.registerSingleton)(O.IWorkspaceContextService,Qe,0),(0,Y.registerSingleton)(P.ILabelService,rt,0),(0,Y.registerSingleton)(N.ITelemetryService,Ze,0),(0,Y.registerSingleton)(b.IDialogService,We,0),(0,Y.registerSingleton)(pe.IEnvironmentService,Fe,0),(0,Y.registerSingleton)(A.INotificationService,xe,0),(0,Y.registerSingleton)(Ie.IMarkerService,Ee.MarkerService,0),(0,Y.registerSingleton)($.ILanguageService,ht,0),(0,Y.registerSingleton)(ue.IStandaloneThemeService,ae.StandaloneThemeService,0),(0,Y.registerSingleton)(j.ILogService,Ye,0),(0,Y.registerSingleton)(l.IModelService,de.ModelService,0),(0,Y.registerSingleton)(Q.IMarkerDecorationsService,X.MarkerDecorationsService,0),(0,Y.registerSingleton)(c.IContextKeyService,re.ContextKeyService,0),(0,Y.registerSingleton)(M.IProgressService,Pe,0),(0,Y.registerSingleton)(M.IEditorProgressService,Re,0),(0,Y.registerSingleton)(Te.IStorageService,Te.InMemoryStorageService,0),(0,Y.registerSingleton)(V.IEditorWorkerService,H.EditorWorkerService,0),(0,Y.registerSingleton)(o.IBulkEditService,qe,0),(0,Y.registerSingleton)(R.IWorkspaceTrustManagementService,ut,0),(0,Y.registerSingleton)(h.ITextModelService,ke,0),(0,Y.registerSingleton)(W.IAccessibilityService,q.AccessibilityService,0),(0,Y.registerSingleton)(ye.IListService,ye.ListService,0),(0,Y.registerSingleton)(u.ICommandService,Ke,0),(0,Y.registerSingleton)(C.IKeybindingService,je,0),(0,Y.registerSingleton)(Ae.IQuickInputService,ce.StandaloneQuickInputService,0),(0,Y.registerSingleton)(Z.IContextViewService,st,0),(0,Y.registerSingleton)(De.IOpenerService,U.OpenerService,0),(0,Y.registerSingleton)(oe.IClipboardService,ne.BrowserClipboardService,0),(0,Y.registerSingleton)(Z.IContextMenuService,lt,0),(0,Y.registerSingleton)(K.IMenuService,ie.MenuService,0),(0,Y.registerSingleton)(me.IAudioCueService,Ct,0);var ot;(function($e){const Oe=new we.ServiceCollection;for(const[nt,at]of(0,Y.getSingletonServiceDescriptors)())Oe.set(nt,at);const Ve=new ve.InstantiationService(Oe,!0);Oe.set(g.IInstantiationService,Ve);function Ue(nt){const at=Oe.get(nt);if(!at)throw new Error("Missing service "+nt);return at instanceof ge.SyncDescriptor?Ve.invokeFunction(ct=>ct.get(nt)):at}$e.get=Ue;let Ge=!1;const tt=new D.Emitter;function it(nt){if(Ge)return Ve;Ge=!0;for(const[ct,pt]of(0,Y.getSingletonServiceDescriptors)())Oe.get(ct)||Oe.set(ct,pt);for(const ct in nt)if(nt.hasOwnProperty(ct)){const pt=(0,g.createDecorator)(ct);Oe.get(pt)instanceof ge.SyncDescriptor&&Oe.set(pt,nt[ct])}const at=(0,he.getEditorFeatures)();for(const ct of at)try{Ve.createInstance(ct)}catch(pt){(0,Ce.onUnexpectedError)(pt)}return tt.fire(),Ve}$e.initialize=it;function dt(nt){if(Ge)return nt();const at=new m.DisposableStore,ct=at.add(tt.event(()=>{ct.dispose(),at.add(nt())}));return at}$e.withServices=dt})(ot||(e.StandaloneServices=ot={}))}),define(J[913],ee([1,0,48,2,33,164,254,276,258,134,29,25,28,14,57,8,34,44,23,83,94,96,84,50,41,356,77,31,19,867,116]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E,I,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor2=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let P=0,A=!1;function M(j){if(!j){if(A)return;A=!0}y.setARIAContainer(j||document.body)}let N=class extends D.CodeEditorWidget{constructor(R,Z,se,le,te,Y,U,V,H,$,X,Q){const de=Object.assign({},Z);de.ariaLabel=de.ariaLabel||a.StandaloneCodeEditorNLS.editorViewAccessibleLabel,de.ariaLabel=de.ariaLabel+";"+a.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(R,de,{},se,le,te,Y,V,H,$,X,Q),U instanceof S.StandaloneKeybindingService?this._standaloneKeybindingService=U:this._standaloneKeybindingService=null,M(de.ariaContainerElement)}addCommand(R,Z,se){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const le="DYNAMIC_"+ ++P,te=t.ContextKeyExpr.deserialize(se);return this._standaloneKeybindingService.addDynamicKeybinding(le,R,Z,te),le}createContextKey(R,Z){return this._contextKeyService.createKey(R,Z)}addAction(R){if(typeof R.id!="string"||typeof R.label!="string"||typeof R.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const Z=R.id,se=R.label,le=t.ContextKeyExpr.and(t.ContextKeyExpr.equals("editorId",this.getId()),t.ContextKeyExpr.deserialize(R.precondition)),te=R.keybindings,Y=t.ContextKeyExpr.and(le,t.ContextKeyExpr.deserialize(R.keybindingContext)),U=R.contextMenuGroupId||null,V=R.contextMenuOrder||0,H=(de,...ce)=>Promise.resolve(R.run(this,...ce)),$=new k.DisposableStore,X=this.getId()+":"+Z;if($.add(o.CommandsRegistry.registerCommand(X,H)),U){const de={command:{id:X,title:se},when:le,group:U,order:V};$.add(v.MenuRegistry.appendMenuItem(v.MenuId.EditorContext,de))}if(Array.isArray(te))for(const de of te)$.add(this._standaloneKeybindingService.addDynamicKeybinding(X,de,H,Y));const Q=new m.InternalEditorAction(X,se,se,le,(...de)=>Promise.resolve(R.run(this,...de)),this._contextKeyService);return this._actions.set(Z,Q),$.add((0,k.toDisposable)(()=>{this._actions.delete(Z)})),$}_triggerCommand(R,Z){if(this._codeEditorService instanceof p.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(R,Z)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(R,Z)}};e.StandaloneCodeEditor=N,e.StandaloneCodeEditor=N=Ne([fe(2,r.IInstantiationService),fe(3,L.ICodeEditorService),fe(4,o.ICommandService),fe(5,t.IContextKeyService),fe(6,l.IKeybindingService),fe(7,s.IThemeService),fe(8,h.INotificationService),fe(9,u.IAccessibilityService),fe(10,w.ILanguageConfigurationService),fe(11,E.ILanguageFeaturesService)],N);let O=class extends N{constructor(R,Z,se,le,te,Y,U,V,H,$,X,Q,de,ce,ae){const ue=Object.assign({},Z);(0,S.updateConfigurationService)($,ue,!1);const q=V.registerEditorContainer(R);typeof ue.theme=="string"&&V.setTheme(ue.theme),typeof ue.autoDetectHighContrast<"u"&&V.setAutoDetectHighContrast(!!ue.autoDetectHighContrast);const W=ue.model;delete ue.model,super(R,ue,se,le,te,Y,U,V,H,X,ce,ae),this._configurationService=$,this._standaloneThemeService=V,this._register(q);let K;if(typeof W>"u"){const ie=de.getLanguageIdByMimeType(ue.language)||ue.language||C.PLAINTEXT_LANGUAGE_ID;K=B(Q,de,ue.value||"",ie,void 0),this._ownsModel=!0}else K=W,this._ownsModel=!1;if(this._attachModel(K),K){const ie={oldModelUrl:null,newModelUrl:K.uri};this._onDidChangeModel.fire(ie)}}dispose(){super.dispose()}updateOptions(R){(0,S.updateConfigurationService)(this._configurationService,R,!1),typeof R.theme=="string"&&this._standaloneThemeService.setTheme(R.theme),typeof R.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!R.autoDetectHighContrast),super.updateOptions(R)}_postDetachModelCleanup(R){super._postDetachModelCleanup(R),R&&this._ownsModel&&(R.dispose(),this._ownsModel=!1)}};e.StandaloneEditor=O,e.StandaloneEditor=O=Ne([fe(2,r.IInstantiationService),fe(3,L.ICodeEditorService),fe(4,o.ICommandService),fe(5,t.IContextKeyService),fe(6,l.IKeybindingService),fe(7,f.IStandaloneThemeService),fe(8,h.INotificationService),fe(9,i.IConfigurationService),fe(10,u.IAccessibilityService),fe(11,b.IModelService),fe(12,g.ILanguageService),fe(13,w.ILanguageConfigurationService),fe(14,E.ILanguageFeaturesService)],O);let x=class extends _.DiffEditorWidget{constructor(R,Z,se,le,te,Y,U,V,H,$,X){const Q=Object.assign({},Z);(0,S.updateConfigurationService)(V,Q,!0);const de=Y.registerEditorContainer(R);typeof Q.theme=="string"&&Y.setTheme(Q.theme),typeof Q.autoDetectHighContrast<"u"&&Y.setAutoDetectHighContrast(!!Q.autoDetectHighContrast),super(R,Q,{},X,le,se,te,Y,U,H,$),this._configurationService=V,this._standaloneThemeService=Y,this._register(de)}dispose(){super.dispose()}updateOptions(R){(0,S.updateConfigurationService)(this._configurationService,R,!0),typeof R.theme=="string"&&this._standaloneThemeService.setTheme(R.theme),typeof R.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!R.autoDetectHighContrast),super.updateOptions(R)}_createInnerEditor(R,Z,se){return R.createInstance(N,Z,se)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(R,Z,se){return this.getModifiedEditor().addCommand(R,Z,se)}createContextKey(R,Z){return this.getModifiedEditor().createContextKey(R,Z)}addAction(R){return this.getModifiedEditor().addAction(R)}};e.StandaloneDiffEditor=x,e.StandaloneDiffEditor=x=Ne([fe(2,r.IInstantiationService),fe(3,t.IContextKeyService),fe(4,L.ICodeEditorService),fe(5,f.IStandaloneThemeService),fe(6,h.INotificationService),fe(7,i.IConfigurationService),fe(8,n.IContextMenuService),fe(9,c.IEditorProgressService),fe(10,d.IClipboardService)],x);let F=class extends I.DiffEditorWidget2{constructor(R,Z,se,le,te,Y,U,V,H,$,X,Q){const de=Object.assign({},Z);(0,S.updateConfigurationService)(V,de,!0);const ce=Y.registerEditorContainer(R);typeof de.theme=="string"&&Y.setTheme(de.theme),typeof de.autoDetectHighContrast<"u"&&Y.setAutoDetectHighContrast(!!de.autoDetectHighContrast),super(R,de,{},le,se,te,Q),this._configurationService=V,this._standaloneThemeService=Y,this._register(ce)}dispose(){super.dispose()}updateOptions(R){(0,S.updateConfigurationService)(this._configurationService,R,!0),typeof R.theme=="string"&&this._standaloneThemeService.setTheme(R.theme),typeof R.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!R.autoDetectHighContrast),super.updateOptions(R)}_createInnerEditor(R,Z,se){return R.createInstance(N,Z,se)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(R,Z,se){return this.getModifiedEditor().addCommand(R,Z,se)}createContextKey(R,Z){return this.getModifiedEditor().createContextKey(R,Z)}addAction(R){return this.getModifiedEditor().addAction(R)}};e.StandaloneDiffEditor2=F,e.StandaloneDiffEditor2=F=Ne([fe(2,r.IInstantiationService),fe(3,t.IContextKeyService),fe(4,L.ICodeEditorService),fe(5,f.IStandaloneThemeService),fe(6,h.INotificationService),fe(7,i.IConfigurationService),fe(8,n.IContextMenuService),fe(9,c.IEditorProgressService),fe(10,d.IClipboardService),fe(11,T.IAudioCueService)],F);function B(j,R,Z,se,le){if(Z=Z||"",!se){const te=Z.indexOf(`
`);let Y=Z;return te!==-1&&(Y=Z.substring(0,te)),z(j,Z,R.createByFilepathOrFirstLine(le||null,Y),le)}return z(j,Z,R.createById(se),le)}e.createTextModel=B;function z(j,R,Z,se){return j.createModel(R,Z,se)}}),define(J[914],ee([1,0,2,9,22,320,33,239,36,233,150,47,30,31,157,41,50,764,209,743,913,258,134,25,97,34,16,29,14,77,109,61,147,56,466]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r,l,h,s,u,a,d,c,b,g,p,C,w,E,I,T,P,A,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerEditorOpener=e.registerLinkOpener=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.removeAllMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.addKeybindingRules=e.addKeybindingRule=e.addEditorAction=e.addCommand=e.createDiffNavigator=e.createDiffEditor=e.getDiffEditors=e.getEditors=e.onDidCreateDiffEditor=e.onDidCreateEditor=e.create=void 0;function N(Ee,De,Ae){return d.StandaloneServices.initialize(Ae||{}).createInstance(a.StandaloneEditor,Ee,De)}e.create=N;function O(Ee){return d.StandaloneServices.get(_.ICodeEditorService).onCodeEditorAdd(Ae=>{Ee(Ae)})}e.onDidCreateEditor=O;function x(Ee){return d.StandaloneServices.get(_.ICodeEditorService).onDiffEditorAdd(Ae=>{Ee(Ae)})}e.onDidCreateDiffEditor=x;function F(){return d.StandaloneServices.get(_.ICodeEditorService).listCodeEditors()}e.getEditors=F;function B(){return d.StandaloneServices.get(_.ICodeEditorService).listDiffEditors()}e.getDiffEditors=B;function z(Ee,De,Ae){var Te;const be=d.StandaloneServices.initialize(Ae||{});return!((Te=De?.experimental)===null||Te===void 0)&&Te.useVersion2?be.createInstance(a.StandaloneDiffEditor2,Ee,De):be.createInstance(a.StandaloneDiffEditor,Ee,De)}e.createDiffEditor=z;function j(Ee,De){return d.StandaloneServices.initialize({}).createInstance(m.DiffNavigator,Ee,De)}e.createDiffNavigator=j;function R(Ee){if(typeof Ee.id!="string"||typeof Ee.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return b.CommandsRegistry.registerCommand(Ee.id,Ee.run)}e.addCommand=R;function Z(Ee){if(typeof Ee.id!="string"||typeof Ee.label!="string"||typeof Ee.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const De=E.ContextKeyExpr.deserialize(Ee.precondition),Ae=(be,...me)=>C.EditorCommand.runEditorCommand(be,me,De,(Se,he,Ce)=>Promise.resolve(Ee.run(he,...Ce))),Te=new y.DisposableStore;if(Te.add(b.CommandsRegistry.registerCommand(Ee.id,Ae)),Ee.contextMenuGroupId){const be={command:{id:Ee.id,title:Ee.label},when:De,group:Ee.contextMenuGroupId,order:Ee.contextMenuOrder||0};Te.add(w.MenuRegistry.appendMenuItem(w.MenuId.EditorContext,be))}if(Array.isArray(Ee.keybindings)){const be=d.StandaloneServices.get(p.IKeybindingService);if(!(be instanceof d.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const me=E.ContextKeyExpr.and(De,E.ContextKeyExpr.deserialize(Ee.keybindingContext));Te.add(be.addDynamicKeybindings(Ee.keybindings.map(Se=>({keybinding:Se,command:Ee.id,when:me}))))}}return Te}e.addEditorAction=Z;function se(Ee){return le([Ee])}e.addKeybindingRule=se;function le(Ee){const De=d.StandaloneServices.get(p.IKeybindingService);return De instanceof d.StandaloneKeybindingService?De.addDynamicKeybindings(Ee.map(Ae=>({keybinding:Ae.keybinding,command:Ae.command,commandArgs:Ae.commandArgs,when:E.ContextKeyExpr.deserialize(Ae.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),y.Disposable.None)}e.addKeybindingRules=le;function te(Ee,De,Ae){const Te=d.StandaloneServices.get(r.ILanguageService),be=Te.getLanguageIdByMimeType(De)||De;return(0,a.createTextModel)(d.StandaloneServices.get(l.IModelService),Te,Ee,be,Ae)}e.createModel=te;function Y(Ee,De){const Ae=d.StandaloneServices.get(r.ILanguageService),Te=Ae.getLanguageIdByMimeType(De)||De||I.PLAINTEXT_LANGUAGE_ID;Ee.setLanguage(Ae.createById(Te))}e.setModelLanguage=Y;function U(Ee,De,Ae){Ee&&d.StandaloneServices.get(g.IMarkerService).changeOne(De,Ee.uri,Ae)}e.setModelMarkers=U;function V(Ee){d.StandaloneServices.get(g.IMarkerService).changeAll(Ee,[])}e.removeAllMarkers=V;function H(Ee){return d.StandaloneServices.get(g.IMarkerService).read(Ee)}e.getModelMarkers=H;function $(Ee){return d.StandaloneServices.get(g.IMarkerService).onMarkerChanged(Ee)}e.onDidChangeMarkers=$;function X(Ee){return d.StandaloneServices.get(l.IModelService).getModel(Ee)}e.getModel=X;function Q(){return d.StandaloneServices.get(l.IModelService).getModels()}e.getModels=Q;function de(Ee){return d.StandaloneServices.get(l.IModelService).onModelAdded(Ee)}e.onDidCreateModel=de;function ce(Ee){return d.StandaloneServices.get(l.IModelService).onModelRemoved(Ee)}e.onWillDisposeModel=ce;function ae(Ee){return d.StandaloneServices.get(l.IModelService).onModelLanguageChanged(Ae=>{Ee({model:Ae.model,oldLanguage:Ae.oldLanguageId})})}e.onDidChangeModelLanguage=ae;function ue(Ee){return(0,h.createWebWorker)(d.StandaloneServices.get(l.IModelService),d.StandaloneServices.get(t.ILanguageConfigurationService),Ee)}e.createWebWorker=ue;function q(Ee,De){const Ae=d.StandaloneServices.get(r.ILanguageService),Te=d.StandaloneServices.get(c.IStandaloneThemeService);return Te.registerEditorContainer(Ee),u.Colorizer.colorizeElement(Te,Ae,Ee,De)}e.colorizeElement=q;function W(Ee,De,Ae){const Te=d.StandaloneServices.get(r.ILanguageService);return d.StandaloneServices.get(c.IStandaloneThemeService).registerEditorContainer(document.body),u.Colorizer.colorize(Te,Ee,De,Ae)}e.colorize=W;function K(Ee,De,Ae=4){return d.StandaloneServices.get(c.IStandaloneThemeService).registerEditorContainer(document.body),u.Colorizer.colorizeModelLine(Ee,De,Ae)}e.colorizeModelLine=K;function ie(Ee){const De=i.TokenizationRegistry.get(Ee);return De||{getInitialState:()=>n.NullState,tokenize:(Ae,Te,be)=>(0,n.nullTokenize)(Ee,be)}}function ne(Ee,De){i.TokenizationRegistry.getOrCreate(De);const Ae=ie(De),Te=(0,k.splitLines)(Ee),be=[];let me=Ae.getInitialState();for(let Se=0,he=Te.length;Se<he;Se++){const Ce=Te[Se],pe=Ae.tokenize(Ce,!0,me);be[Se]=pe.tokens,me=pe.endState}return be}e.tokenize=ne;function oe(Ee,De){d.StandaloneServices.get(c.IStandaloneThemeService).defineTheme(Ee,De)}e.defineTheme=oe;function re(Ee){d.StandaloneServices.get(c.IStandaloneThemeService).setTheme(Ee)}e.setTheme=re;function ge(){D.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=ge;function ve(Ee,De){return b.CommandsRegistry.registerCommand({id:Ee,handler:De})}e.registerCommand=ve;function we(Ee){return d.StandaloneServices.get(M.IOpenerService).registerOpener({open(Ae){return Le(this,void 0,void 0,function*(){return typeof Ae=="string"&&(Ae=L.URI.parse(Ae)),Ee.open(Ae)})}})}e.registerLinkOpener=we;function ye(Ee){return d.StandaloneServices.get(_.ICodeEditorService).registerCodeEditorOpenHandler((Ae,Te,be)=>Le(this,void 0,void 0,function*(){var me;if(!Te)return null;const Se=(me=Ae.options)===null||me===void 0?void 0:me.selection;let he;return Se&&typeof Se.endLineNumber=="number"&&typeof Se.endColumn=="number"?he=Se:Se&&(he={lineNumber:Se.startLineNumber,column:Se.startColumn}),(yield Ee.openCodeEditor(Te,Ae.resource,he))?Te:null}))}e.registerEditorOpener=ye;function Ie(){return{create:N,getEditors:F,getDiffEditors:B,onDidCreateEditor:O,onDidCreateDiffEditor:x,createDiffEditor:z,createDiffNavigator:j,addCommand:R,addEditorAction:Z,addKeybindingRule:se,addKeybindingRules:le,createModel:te,setModelLanguage:Y,setModelMarkers:U,getModelMarkers:H,removeAllMarkers:V,onDidChangeMarkers:$,getModels:Q,getModel:X,onDidCreateModel:de,onWillDisposeModel:ce,onDidChangeModelLanguage:ae,createWebWorker:ue,colorizeElement:q,colorize:W,colorizeModelLine:K,tokenize:ne,defineTheme:oe,setTheme:re,remeasureFonts:ge,registerCommand:ve,registerLinkOpener:we,registerEditorOpener:ye,AccessibilitySupport:s.AccessibilitySupport,ContentWidgetPositionPreference:s.ContentWidgetPositionPreference,CursorChangeReason:s.CursorChangeReason,DefaultEndOfLine:s.DefaultEndOfLine,EditorAutoIndentStrategy:s.EditorAutoIndentStrategy,EditorOption:s.EditorOption,EndOfLinePreference:s.EndOfLinePreference,EndOfLineSequence:s.EndOfLineSequence,MinimapPosition:s.MinimapPosition,MouseTargetType:s.MouseTargetType,OverlayWidgetPositionPreference:s.OverlayWidgetPositionPreference,OverviewRulerLane:s.OverviewRulerLane,GlyphMarginLane:s.GlyphMarginLane,RenderLineNumbersType:s.RenderLineNumbersType,RenderMinimap:s.RenderMinimap,ScrollbarVisibility:s.ScrollbarVisibility,ScrollType:s.ScrollType,TextEditorCursorBlinkingStyle:s.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:s.TextEditorCursorStyle,TrackedRangeStickiness:s.TrackedRangeStickiness,WrappingIndent:s.WrappingIndent,InjectedTextCursorStops:s.InjectedTextCursorStops,PositionAffinity:s.PositionAffinity,ConfigurationChangedEvent:S.ConfigurationChangedEvent,BareFontInfo:f.BareFontInfo,FontInfo:f.FontInfo,TextModelResolvedOptions:o.TextModelResolvedOptions,FindMatch:o.FindMatch,ApplyUpdateResult:S.ApplyUpdateResult,LineRange:P.LineRange,LineRangeMapping:T.LineRangeMapping,RangeMapping:T.RangeMapping,EditorZoom:A.EditorZoom,MovedText:T.MovedText,SimpleLineRangeMapping:T.SimpleLineRangeMapping,EditorType:v.EditorType,EditorOptions:S.EditorOptions}}e.createMonacoEditorAPI=Ie}),define(J[915],ee([1,0,37,5,30,31,77,41,209,258,545,329,134,97,19,28]),function(G,e,y,k,L,D,_,m,S,f,v,o,i,t,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguageEncountered=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function l(W){_.ModesRegistry.registerLanguage(W)}e.register=l;function h(){let W=[];return W=W.concat(_.ModesRegistry.getLanguages()),W}e.getLanguages=h;function s(W){return f.StandaloneServices.get(m.ILanguageService).languageIdCodec.encodeLanguageId(W)}e.getEncodedLanguageId=s;function u(W,K){return f.StandaloneServices.withServices(()=>{const ne=f.StandaloneServices.get(m.ILanguageService).onDidRequestRichLanguageFeatures(oe=>{oe===W&&(ne.dispose(),K())});return ne})}e.onLanguage=u;function a(W,K){return f.StandaloneServices.withServices(()=>{const ne=f.StandaloneServices.get(m.ILanguageService).onDidRequestBasicLanguageFeatures(oe=>{oe===W&&(ne.dispose(),K())});return ne})}e.onLanguageEncountered=a;function d(W,K){if(!f.StandaloneServices.get(m.ILanguageService).isRegisteredLanguageId(W))throw new Error(`Cannot set configuration for unknown language ${W}`);return f.StandaloneServices.get(D.ILanguageConfigurationService).register(W,K,100)}e.setLanguageConfiguration=d;class c{constructor(K,ie){this._languageId=K,this._actual=ie}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(K,ie,ne){if(typeof this._actual.tokenize=="function")return b.adaptTokenize(this._languageId,this._actual,K,ne);throw new Error("Not supported!")}tokenizeEncoded(K,ie,ne){const oe=this._actual.tokenizeEncoded(K,ne);return new L.EncodedTokenizationResult(oe.tokens,oe.endState)}}e.EncodedTokenizationSupportAdapter=c;class b{constructor(K,ie,ne,oe){this._languageId=K,this._actual=ie,this._languageService=ne,this._standaloneThemeService=oe}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(K,ie){const ne=[];let oe=0;for(let re=0,ge=K.length;re<ge;re++){const ve=K[re];let we=ve.startIndex;re===0?we=0:we<oe&&(we=oe),ne[re]=new L.Token(we,ve.scopes,ie),oe=we}return ne}static adaptTokenize(K,ie,ne,oe){const re=ie.tokenize(ne,oe),ge=b._toClassicTokens(re.tokens,K);let ve;return re.endState.equals(oe)?ve=oe:ve=re.endState,new L.TokenizationResult(ge,ve)}tokenize(K,ie,ne){return b.adaptTokenize(this._languageId,this._actual,K,ne)}_toBinaryTokens(K,ie){const ne=K.encodeLanguageId(this._languageId),oe=this._standaloneThemeService.getColorTheme().tokenTheme,re=[];let ge=0,ve=0;for(let ye=0,Ie=ie.length;ye<Ie;ye++){const Ee=ie[ye],De=oe.match(ne,Ee.scopes)|1024;if(ge>0&&re[ge-1]===De)continue;let Ae=Ee.startIndex;ye===0?Ae=0:Ae<ve&&(Ae=ve),re[ge++]=Ae,re[ge++]=De,ve=Ae}const we=new Uint32Array(ge);for(let ye=0;ye<ge;ye++)we[ye]=re[ye];return we}tokenizeEncoded(K,ie,ne){const oe=this._actual.tokenize(K,ne),re=this._toBinaryTokens(this._languageService.languageIdCodec,oe.tokens);let ge;return oe.endState.equals(ne)?ge=ne:ge=oe.endState,new L.EncodedTokenizationResult(re,ge)}}e.TokenizationSupportAdapter=b;function g(W){return typeof W.getInitialState=="function"}function p(W){return"tokenizeEncoded"in W}function C(W){return W&&typeof W.then=="function"}function w(W){const K=f.StandaloneServices.get(i.IStandaloneThemeService);if(W){const ie=[null];for(let ne=1,oe=W.length;ne<oe;ne++)ie[ne]=y.Color.fromHex(W[ne]);K.setColorMapOverride(ie)}else K.setColorMapOverride(null)}e.setColorMap=w;function E(W,K){return p(K)?new c(W,K):new b(W,K,f.StandaloneServices.get(m.ILanguageService),f.StandaloneServices.get(i.IStandaloneThemeService))}function I(W,K){const ie=new L.LazyTokenizationSupport(()=>Le(this,void 0,void 0,function*(){const ne=yield Promise.resolve(K.create());return ne?g(ne)?E(W,ne):new o.MonarchTokenizer(f.StandaloneServices.get(m.ILanguageService),f.StandaloneServices.get(i.IStandaloneThemeService),W,(0,v.compile)(W,ne),f.StandaloneServices.get(r.IConfigurationService)):null}));return L.TokenizationRegistry.registerFactory(W,ie)}e.registerTokensProviderFactory=I;function T(W,K){if(!f.StandaloneServices.get(m.ILanguageService).isRegisteredLanguageId(W))throw new Error(`Cannot set tokens provider for unknown language ${W}`);return C(K)?I(W,{create:()=>K}):L.TokenizationRegistry.register(W,E(W,K))}e.setTokensProvider=T;function P(W,K){const ie=ne=>new o.MonarchTokenizer(f.StandaloneServices.get(m.ILanguageService),f.StandaloneServices.get(i.IStandaloneThemeService),W,(0,v.compile)(W,ne),f.StandaloneServices.get(r.IConfigurationService));return C(K)?I(W,{create:()=>K}):L.TokenizationRegistry.register(W,ie(K))}e.setMonarchTokensProvider=P;function A(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).referenceProvider.register(W,K)}e.registerReferenceProvider=A;function M(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).renameProvider.register(W,K)}e.registerRenameProvider=M;function N(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).signatureHelpProvider.register(W,K)}e.registerSignatureHelpProvider=N;function O(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).hoverProvider.register(W,{provideHover:(ne,oe,re)=>{const ge=ne.getWordAtPosition(oe);return Promise.resolve(K.provideHover(ne,oe,re)).then(ve=>{if(ve)return!ve.range&&ge&&(ve.range=new k.Range(oe.lineNumber,ge.startColumn,oe.lineNumber,ge.endColumn)),ve.range||(ve.range=new k.Range(oe.lineNumber,oe.column,oe.lineNumber,oe.column)),ve})}})}e.registerHoverProvider=O;function x(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).documentSymbolProvider.register(W,K)}e.registerDocumentSymbolProvider=x;function F(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).documentHighlightProvider.register(W,K)}e.registerDocumentHighlightProvider=F;function B(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).linkedEditingRangeProvider.register(W,K)}e.registerLinkedEditingRangeProvider=B;function z(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).definitionProvider.register(W,K)}e.registerDefinitionProvider=z;function j(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).implementationProvider.register(W,K)}e.registerImplementationProvider=j;function R(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).typeDefinitionProvider.register(W,K)}e.registerTypeDefinitionProvider=R;function Z(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).codeLensProvider.register(W,K)}e.registerCodeLensProvider=Z;function se(W,K,ie){return f.StandaloneServices.get(n.ILanguageFeaturesService).codeActionProvider.register(W,{providedCodeActionKinds:ie?.providedCodeActionKinds,documentation:ie?.documentation,provideCodeActions:(oe,re,ge,ve)=>{const ye=f.StandaloneServices.get(t.IMarkerService).read({resource:oe.uri}).filter(Ie=>k.Range.areIntersectingOrTouching(Ie,re));return K.provideCodeActions(oe,re,{markers:ye,only:ge.only,trigger:ge.trigger},ve)},resolveCodeAction:K.resolveCodeAction})}e.registerCodeActionProvider=se;function le(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).documentFormattingEditProvider.register(W,K)}e.registerDocumentFormattingEditProvider=le;function te(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(W,K)}e.registerDocumentRangeFormattingEditProvider=te;function Y(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).onTypeFormattingEditProvider.register(W,K)}e.registerOnTypeFormattingEditProvider=Y;function U(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).linkProvider.register(W,K)}e.registerLinkProvider=U;function V(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).completionProvider.register(W,K)}e.registerCompletionItemProvider=V;function H(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).colorProvider.register(W,K)}e.registerColorProvider=H;function $(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).foldingRangeProvider.register(W,K)}e.registerFoldingRangeProvider=$;function X(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).declarationProvider.register(W,K)}e.registerDeclarationProvider=X;function Q(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).selectionRangeProvider.register(W,K)}e.registerSelectionRangeProvider=Q;function de(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).documentSemanticTokensProvider.register(W,K)}e.registerDocumentSemanticTokensProvider=de;function ce(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(W,K)}e.registerDocumentRangeSemanticTokensProvider=ce;function ae(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).inlineCompletionsProvider.register(W,K)}e.registerInlineCompletionsProvider=ae;function ue(W,K){return f.StandaloneServices.get(n.ILanguageFeaturesService).inlayHintsProvider.register(W,K)}e.registerInlayHintsProvider=ue;function q(){return{register:l,getLanguages:h,onLanguage:u,onLanguageEncountered:a,getEncodedLanguageId:s,setLanguageConfiguration:d,setColorMap:w,registerTokensProviderFactory:I,setTokensProvider:T,setMonarchTokensProvider:P,registerReferenceProvider:A,registerRenameProvider:M,registerCompletionItemProvider:V,registerSignatureHelpProvider:N,registerHoverProvider:O,registerDocumentSymbolProvider:x,registerDocumentHighlightProvider:F,registerLinkedEditingRangeProvider:B,registerDefinitionProvider:z,registerImplementationProvider:j,registerTypeDefinitionProvider:R,registerCodeLensProvider:Z,registerCodeActionProvider:se,registerDocumentFormattingEditProvider:le,registerDocumentRangeFormattingEditProvider:te,registerOnTypeFormattingEditProvider:Y,registerLinkProvider:U,registerColorProvider:H,registerFoldingRangeProvider:$,registerDeclarationProvider:X,registerSelectionRangeProvider:Q,registerDocumentSemanticTokensProvider:de,registerDocumentRangeSemanticTokensProvider:ce,registerInlineCompletionsProvider:ae,registerInlayHintsProvider:ue,DocumentHighlightKind:S.DocumentHighlightKind,CompletionItemKind:S.CompletionItemKind,CompletionItemTag:S.CompletionItemTag,CompletionItemInsertTextRule:S.CompletionItemInsertTextRule,SymbolKind:S.SymbolKind,SymbolTag:S.SymbolTag,IndentAction:S.IndentAction,CompletionTriggerKind:S.CompletionTriggerKind,SignatureHelpTriggerKind:S.SignatureHelpTriggerKind,InlayHintKind:S.InlayHintKind,InlineCompletionTriggerKind:S.InlineCompletionTriggerKind,CodeActionTriggerType:S.CodeActionTriggerType,FoldingRangeKind:L.FoldingRangeKind,SelectedSuggestionInfo:L.SelectedSuggestionInfo}}e.createMonacoLanguagesAPI=q}),define(J[916],ee([1,0,36,323,914,915,347]),function(G,e,y,k,L,D,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,y.EditorOptions.wrappingIndent.defaultValue=0,y.EditorOptions.glyphMargin.defaultValue=!1,y.EditorOptions.autoIndent.defaultValue=3,y.EditorOptions.overviewRulerLanes.defaultValue=2,_.FormattingConflicts.setFormatterSelector((f,v,o)=>Promise.resolve(f[0]));const m=(0,k.createMonacoBaseAPI)();m.editor=(0,L.createMonacoEditorAPI)(),m.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=m.CancellationTokenSource,e.Emitter=m.Emitter,e.KeyCode=m.KeyCode,e.KeyMod=m.KeyMod,e.Position=m.Position,e.Range=m.Range,e.Selection=m.Selection,e.SelectionDirection=m.SelectionDirection,e.MarkerSeverity=m.MarkerSeverity,e.MarkerTag=m.MarkerTag,e.Uri=m.Uri,e.Token=m.Token,e.editor=m.editor,e.languages=m.languages;const S=globalThis.MonacoEnvironment;(S?.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=m),typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var li=this&&this.__createBinding||(Object.create?function(G,e,y,k){k===void 0&&(k=y);var L=Object.getOwnPropertyDescriptor(e,y);(!L||("get"in L?!e.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return e[y]}}),Object.defineProperty(G,k,L)}:function(G,e,y,k){k===void 0&&(k=y),G[k]=e[y]}),di=this&&this.__exportStar||function(G,e){for(var y in G)y!=="default"&&!Object.prototype.hasOwnProperty.call(e,y)&&li(e,G,y)};define(J[918],ee([1,0,916,912,806,807,778,853,854,811,899,856]),function(G,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),di(y,e)})}).call(this);


"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.41.0(38e1e3d097f84e336c311d071a9ffb5191d4ffd1)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var y=Object.create;var g=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,s)=>(typeof require!="undefined"?require:r)[s]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var m=(e,r,s,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of q(r))!M.call(e,o)&&o!==s&&g(e,o,{get:()=>r[o],enumerable:!(n=x(r,o))||n.enumerable});return e},p=(e,r,s)=>(m(e,r,"default"),s&&m(s,r,"default")),c=(e,r,s)=>(s=e!=null?y(A(e)):{},m(r||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));var v=D((w,d)=>{var b=c(a("vs/editor/editor.api"));d.exports=b});var t={};p(t,c(v()));var f={},u={},l=class{static getOrCreate(r){return u[r]||(u[r]=new l(r)),u[r]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,n)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,f[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;f[r]=e,t.languages.register(e);let s=l.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await s.load()).language}),t.languages.onLanguageEncountered(r,async()=>{let n=await s.load();t.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cypher/cypher"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mdx/mdx"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/wgsl/wgsl"],e,r)})});i({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.41.0(38e1e3d097f84e336c311d071a9ffb5191d4ffd1)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,r)=>(typeof require!="undefined"?require:n)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{_onDidChange=new o.Emitter;_options;_modeConfiguration;_languageId;constructor(n,r,a){this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.41.0(38e1e3d097f84e336c311d071a9ffb5191d4ffd1)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{_onDidChange=new a.Emitter;_options;_modeConfiguration;_languageId;constructor(n,t,r){this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.41.0(38e1e3d097f84e336c311d071a9ffb5191d4ffd1)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var p=Object.create;var r=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var g=(o=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(o,{get:(e,n)=>(typeof require!="undefined"?require:e)[n]}):o)(function(o){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+o+'" is not supported')});var D=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),b=(o,e)=>{for(var n in e)r(o,n,{get:e[n],enumerable:!0})},s=(o,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of h(e))!C.call(o,i)&&i!==n&&r(o,i,{get:()=>e[i],enumerable:!(a=y(e,i))||a.enumerable});return o},u=(o,e,n)=>(s(o,e,"default"),n&&s(n,e,"default")),c=(o,e,n)=>(n=o!=null?p(v(o)):{},s(e||!o||!o.__esModule?r(n,"default",{value:o,enumerable:!0}):n,o)),O=o=>s(r({},"__esModule",{value:!0}),o);var f=D((w,m)=>{var M=c(g("vs/editor/editor.api"));m.exports=M});var R={};b(R,{jsonDefaults:()=>d});var t={};u(t,c(f()));var l=class{_onDidChange=new t.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(e,n,a){this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},j={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},S={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},d=new l("json",j,S);t.languages.json={jsonDefaults:d};function _(){return new Promise((o,e)=>{g(["vs/language/json/jsonMode"],o,e)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{_().then(o=>o.setupMode(d))});return O(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.41.0(38e1e3d097f84e336c311d071a9ffb5191d4ffd1)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var N=Object.create;var d=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var c=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var t in e)d(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of M(e))!F.call(n,r)&&r!==t&&d(n,r,{get:()=>e[r],enumerable:!(i=H(e,r))||i.enumerable});return n},D=(n,e,t)=>(g(n,e,"default"),t&&g(t,e,"default")),C=(n,e,t)=>(t=n!=null?N(R(n)):{},g(e||!n||!n.__esModule?d(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>g(d({},"__esModule",{value:!0}),n);var _=w((B,E)=>{var V=C(c("vs/editor/editor.api"));E.exports=V});var T={};A(T,{JsxEmit:()=>f,ModuleKind:()=>b,ModuleResolutionKind:()=>O,NewLineKind:()=>y,ScriptTarget:()=>h,getJavaScriptWorker:()=>k,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>I});var L="5.0.2";var l={};D(l,C(_()));var b=(s=>(s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext",s))(b||{}),f=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(f||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),h=(o=>(o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest",o))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),m=class{_onDidChange=new l.Emitter;_onDidExtraLibsChange=new l.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;_modeConfiguration;constructor(e,t,i,r,p){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this.setModeConfiguration(p),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t>"u"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[i];!p||p.version===r&&(delete this._extraLibs[i],this._removedExtraLibs[i]=r,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,r=t.content,p=1;this._removedExtraLibs[i]&&(p=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:r,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(void 0)}},I=L,S={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},x=new m({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),v=new m({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),P=()=>u().then(n=>n.getTypeScriptWorker()),k=()=>u().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:b,JsxEmit:f,NewLineKind:y,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:I,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:k};function u(){return new Promise((n,e)=>{c(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>u().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>u().then(n=>n.setupJavaScript(v)));return W(T);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
